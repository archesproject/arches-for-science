(self.webpackChunkarches=self.webpackChunkarches||[]).push([[2798,686,6658],{32222:function(e,a,t){var n,o;n=[t(20198),t(54922),t(41825)],void 0===(o=function(e,a,t){return a.bindingHandlers.colorPicker={init:function(t,n){var o=a.unwrap(n()),r=[],i=!1,updateValues=function(a){i||e(s).colorpicker("setValue",a)};["color","format"].forEach((function(e){var t=o[e];a.isObservable(t)&&(t.subscribe(updateValues),r.push(t),o[e]=t())}));var s=e(t).colorpicker(o);s.on("changeColor",(function(e,a){i=!0,r.forEach((function(t,n){void 0===e.color?t(a.color):t(e.color.toString())})),i=!1}))}},a.bindingHandlers.colorPicker}.apply(a,n))||(e.exports=o)},40501:function(e,a,t){var n,o;n=[t(86564),t(20198)],void 0===(o=function(e,a){return e.Model.extend({read:function(e,a){return this._doRequest({type:"GET",data:{format:"json"},url:this._getURL("GET")},e,a,"read")},save:function(e,a){var t="POST";return this._doRequest({type:t,url:this._getURL(t),data:JSON.stringify(this.toJSON())},e,a,"save")},delete:function(e,a){var t="DELETE";return this._doRequest({type:t,url:this._getURL(t),data:JSON.stringify(this.toJSON())},e,a,"delete")},_getURL:function(e){var a=this.get("id");return a||(a=""),this.url.indexOf("aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa")>-1?this.url.replace("aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa",a):this.url+a},_doRequest:function(e,t,n,o){var r=this;return n||(n=r),a.ajax(a.extend({complete:function(e,a){"function"==typeof t&&t.call(n,e,a,r),"success"===a&&r.trigger(o,r)}},e))}})}.apply(a,n))||(e.exports=o)},46839:function(e,a,t){var n,o;n=[t(84490),t(54922),t(46186),t(40501)],void 0===(o=function(e,a,t,n){return n.extend({url:t.urls.node,initialize:function(t){var n=this;n.graph=t.graph,n.datatypelookup=t.datatypelookup,n.layer=t.layer,n.icons=t.icons||[],n.mapSource=t.mapSource,n.loading=t.loading,n.permissions=t.permissions,n.ontology_namespaces=t.ontology_namespaces||{},t.url&&(n.url=t.url),t.source.config&&0===e.keys(t.source.config).length&&(t.source.config=null),n._node=a.observable(""),n.selected=a.observable(!1),n.filtered=a.observable(!1),n.name=a.observable(""),n.description=a.observable(null),n.slug=a.observable(null),n.alias=a.observable(null),n.hasCustomAlias=a.observable(!1),n.nodeGroupId=a.observable("");var o=a.observable("");n.datatype=a.computed({read:function(){return o()},write:function(e){if(o()!==e){var a=n.datatypelookup[e];if(a){var t=a.defaultconfig;n.setupConfig(t)}o(e)}},owner:this}),n.datatypeDataBearing=a.computed((function(){var e=!1;return n.datatype()&&n.datatypelookup[n.datatype()]&&(e=!!n.datatypelookup[n.datatype()].defaultwidget_id),e})),n.datatypeIsSearchable=a.computed((function(){var e=!1,a=n.datatypelookup[n.datatype()];return a&&a.configname&&(e=a.issearchable),e})),n.datatypeConfigComponent=a.computed((function(){var e=null,a=n.datatypelookup[n.datatype()];return a&&a.configname&&(e=a.configname),e})),n.ontologyclass=a.observable(""),n.parentproperty=a.observable(""),n.ontology_cache=a.observableArray().extend({deferred:!0}),n.configKeys=a.observableArray(),n.config={},n.issearchable=a.observable(!0),n.isrequired=a.observable(!0),n.fieldname=a.observable(),n.exportable=a.observable(!1),n.parse(t.source),n.validclasses=a.computed((function(){return n.parentproperty()?e.chain(n.ontology_cache()).sortBy((function(e){return e.class})).filter((function(e){return e.property===n.parentproperty()})).pluck("class").value():e.chain(n.ontology_cache()).sortBy((function(e){return e.class})).uniq((function(e){return e.class})).pluck("class").value()}),this),n.istopnode||(n.validproperties=a.computed((function(){return n.ontologyclass()?e.chain(n.ontology_cache()).sortBy((function(e){return e.property})).filter((function(e){return e.class===n.ontologyclass()})).pluck("property").value():e.chain(n.ontology_cache()).sortBy((function(e){return e.property})).uniq((function(e){return e.property})).pluck("property").value()}),this)),n.iconclass=a.computed((function(){var e=n.datatypelookup[n.datatype()];return e?e.iconclass:""})),n.json=a.computed((function(){var t=n.configKeys(),o=null;t.length>0&&(o={},e.each(t,(function(e){o[e]=n.config[e]()})));var r=a.toJS({name:n.name,datatype:n.datatype,nodegroup_id:n.nodeGroupId,description:n.description,slug:n.slug,ontologyclass:n.ontologyclass,parentproperty:n.parentproperty,config:o,issearchable:n.issearchable,isrequired:n.isrequired,fieldname:n.fieldname,exportable:n.exportable,alias:n.alias,hascustomalias:n.hasCustomAlias});return JSON.stringify(e.extend(JSON.parse(n._node()),r))})),n.dirty=a.computed((function(){return n.json()!==n._node()})).extend({rateLimit:100}),n.isCollector=a.computed((function(){return n.nodeid===n.nodeGroupId()})),n.selected.subscribe((function(e){e&&n.getValidNodesEdges()})),n.ontologyclass_friendlyname=a.computed((function(){return n.getFriendlyOntolgyName(n.ontologyclass())})),n.parentproperty_friendlyname=a.computed((function(){return n.getFriendlyOntolgyName(n.parentproperty())}))},getFriendlyOntolgyName:function(a){if(a){var t=e.chain(this.ontology_namespaces).keys().find((function(e){return-1!==a.indexOf(e)})).value();if(t){var n=this.ontology_namespaces[t];return n?a.replace(t,n+":"):a.replace(t,"")}return a}return""},parse:function(e){var t=this;t._node(JSON.stringify(e)),t.name(a.unwrap(e.name)),t.nodeGroupId(e.nodegroup_id),t.datatype(e.datatype),t.description(e.description),t.slug(e.slug),t.ontologyclass(e.ontologyclass),t.parentproperty(e.parentproperty),t.issearchable(e.issearchable),t.isrequired(e.isrequired),t.fieldname(e.fieldname),t.exportable(e.exportable),t.alias(e.alias),t.hasCustomAlias(e.hascustomalias),e.config&&t.setupConfig(e.config),t.nodeid=e.nodeid,t.istopnode=e.istopnode,t.set("id",t.nodeid),t.set("graph_id",e.graph_id)},setupConfig:function(t){var n=this,o=[],r=this.datatypelookup[this.datatype()];if(r&&r.defaultconfig&&t){var i=r.defaultconfig;e.each(i,(function(e,a){Object.prototype.hasOwnProperty.call(t,a)||(t[a]=e)}))}e.each(t,(function(e,t){a.isObservable(n.config[t])?n.config[t](e):n.config[t]=Array.isArray(e)?a.observableArray(e):a.observable(e),o.push(t)})),n.configKeys(o)},reset:function(){this.parse(JSON.parse(this._node()),self)},save:function(e,a){var t="POST";return this._doRequest({type:t,url:this._getURL(t),data:JSON.stringify(this.toJSON())},(function(a,t,n){var o;("function"==typeof e&&e.call(this,a,t,n),"success"===t)&&(this.alias(null===(o=a.responseJSON.updated_values)||void 0===o?void 0:o.node.alias),this._node(this.json()))}),a,"save")},toJSON:function(){return JSON.parse(this.json())},toggleIsCollector:function(){var e=this.nodeid,a=this;this.isCollector()&&(e=this.graph.getParentNode(this).nodeGroupId()),this.graph.getChildNodesAndEdges(this).nodes.forEach((function(t){t.nodeGroupId()===a.nodeGroupId()&&(t.nodeGroupId(e),t._node(t.json()))})),this.nodeGroupId(e)},getValidNodesEdges:function(){this.graph.getValidNodesEdges(this.nodeid,(function(e){this.ontology_cache.removeAll(),void 0!==e&&e.forEach((function(e){e.ontology_classes.forEach((function(a){this.ontology_cache.push({property:e.ontology_property,class:a})}),this)}),this)}),this)},_getURL:function(e){var a=this.get("graph_id");return a||(a=""),this.url.indexOf("aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa")>-1?this.url.replace("aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa",a):this.url+a}})}.apply(a,n))||(e.exports=o)},66639:function(e,a,t){var n,o;n=[t(54922),t(44155)],void 0===(o=function(e,a){return e.components.register("views/components/icon-selector",{viewModel:function(e){this.selectedIcon=e.selectedIconObservable,this.iconFilter=e.iconFilter,this.iconList=e.iconList,this.label=e.label},template:a})}.apply(a,n))||(e.exports=o)},60662:function(e,a,t){var n;void 0===(n=function(e){var a=document.querySelector("#graphBaseData").getAttribute("graphBaseData");return JSON.parse(a.replace(/,\s*}*$/,"}"))}.apply(a,[t]))||(e.exports=n)},63784:function(e,a,t){var n,o;n=[t(54922),t(84490),t(94333),t(60662),t(84714)],o=function(e,a,t,n){var o=t.extend({constructor:function(a){var o=this;return a.viewModel.graphid=e.observable(n.graphid),t.apply(this,arguments),a.viewModel.graphid.subscribe((function(e){var a=window.location.pathname.replace(/\b[a-f\d-]{36}\b/,e);o.viewModel.navigate(a)})),this}});return o}.apply(a,n),void 0===o||(e.exports=o)},21415:function(e,a){var t;void 0===(t=function(){var e=document.querySelector("#graphSettingsData").getAttribute("graphSettingsData");return JSON.parse(e.replace(/,\s*}*$/,"}"))}.apply(a,[]))||(e.exports=t)},44155:function(e){e.exports='\n\n\x3c!-- Icon search component--\x3e\n<div class="icon-selector">\n    \x3c!-- Icon Filter --\x3e\n    <div style="padding: 10px;">\n        <div class="flex" style="gap: 5px;">\n            <div>\n                <span data-bind="text: label"></span>\n                <button class="btn btn-default btn-icon icon-lg" data-bind="css: selectedIcon(), click: function() {}" style="height: 35px; width: 35px;"></button>\n            </div>\n    \n            <div>\n                <input type="text" class="form-control" style="width: 366px; height: 36px;" data-bind="\n                        attr: {placeholder: $root.translations.findAnIcon},\n                        textInput:iconFilter\n                    ">\n            </div>\n    \n            \x3c!-- ko if: iconFilter() !== \'\' --\x3e\n            <span class="clear-search" data-bind="click: function () { iconFilter(\'\'); }">\n                <i class="fa fa-times-circle"></i>\n            </span>\n            \x3c!-- /ko --\x3e\n        </div>\n    </div>\n    \n    \x3c!-- Icon List --\x3e\n    <div class="icon-list" style="height: 300px;overflow-y: scroll;padding: 15px;border: 1px solid #e9e9e9;">\n        <div>\n    \n            \x3c!-- ko foreach: iconList --\x3e\n            <div class="col-xs-6 col-md-3 col-sm-4 demo-icon-font" data-bind="css: {\'selected\': (cssclass === $parent.selectedIcon())}, click: function() { $parent.selectedIcon(cssclass) }">\n                <i data-bind="css: cssclass"></i> <span data-bind="text: name"></span>\n            </div>\n            \x3c!-- /ko --\x3e\n    \n        </div>\n    </div>\n\n</div>'}}]);