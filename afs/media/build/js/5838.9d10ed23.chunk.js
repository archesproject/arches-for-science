(self.webpackChunkarches=self.webpackChunkarches||[]).push([[5838],{46562:function(c,d,m){var g,v,y;v=[m(20198)],g=function(c){var d={exports:{}};function n(c){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(c)}function a(c,d){return!d||"object"!==n(d)&&"function"!=typeof d?s(c):d}function l(c){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(c)}function s(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function i(c,d){return(i=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c})(c,d)}function u(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function r(c,d){for(var m=0;m<d.length;m++){var g=d[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function o(c,d,m){return d&&r(c.prototype,d),m&&r(c,m),c}var m=function(){function e(){u(this,e)}return o(e,[{key:"on",value:function(c,d){return this._callbacks=this._callbacks||{},this._callbacks[c]||(this._callbacks[c]=[]),this._callbacks[c].push(d),this}},{key:"emit",value:function(c){this._callbacks=this._callbacks||{};var d=this._callbacks[c];if(d){for(var m=arguments.length,g=new Array(1<m?m-1:0),v=1;v<m;v++)g[v-1]=arguments[v];var y=!0,_=!1,w=void 0;try{for(var b,S=d[Symbol.iterator]();!(y=(b=S.next()).done);y=!0)b.value.apply(this,g)}catch(c){_=!0,w=c}finally{try{y||null==S.return||S.return()}finally{if(_)throw w}}}return this}},{key:"off",value:function(c,d){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var m=this._callbacks[c];if(!m)return this;if(1===arguments.length)return delete this._callbacks[c],this;for(var g=0;g<m.length;g++)if(m[g]===d){m.splice(g,1);break}return this}}]),e}(),g=function(){function z(c,d){var m,g,v;if(u(this,z),(m=a(this,l(z).call(this))).element=c,m.version=z.version,m.defaultOptions.previewTemplate=m.defaultOptions.previewTemplate.replace(/\n*/g,""),m.clickableElements=[],m.listeners=[],m.files=[],"string"==typeof m.element&&(m.element=document.querySelector(m.element)),!m.element||null==m.element.nodeType)throw new Error("Invalid dropzone element.");if(m.element.dropzone)throw new Error("Dropzone already attached.");z.instances.push(s(m)),m.element.dropzone=s(m);var y=null!=(v=z.optionsForElement(m.element))?v:{};if(m.options=z.extend({},m.defaultOptions,y,null!=d?d:{}),m.options.forceFallback||!z.isBrowserSupported())return a(m,m.options.fallback.call(s(m)));if(null==m.options.url&&(m.options.url=m.element.getAttribute("action")),!m.options.url)throw new Error("No URL provided.");if(m.options.acceptedFiles&&m.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(m.options.uploadMultiple&&m.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return m.options.acceptedMimeTypes&&(m.options.acceptedFiles=m.options.acceptedMimeTypes,delete m.options.acceptedMimeTypes),null!=m.options.renameFilename&&(m.options.renameFile=function(c){return m.options.renameFilename.call(s(m),c.name,c)}),m.options.method=m.options.method.toUpperCase(),(g=m.getExistingFallback())&&g.parentNode&&g.parentNode.removeChild(g),!1!==m.options.previewsContainer&&(m.options.previewsContainer?m.previewsContainer=z.getElement(m.options.previewsContainer,"previewsContainer"):m.previewsContainer=m.element),m.options.clickable&&(!0===m.options.clickable?m.clickableElements=[m.element]:m.clickableElements=z.getElements(m.options.clickable,"clickable")),m.init(),m}return function(c,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),d&&i(c,d)}(z,m),o(z,null,[{key:"initClass",value:function(){this.prototype.Emitter=m,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(c,d,m){if(m)return{dzuuid:m.file.upload.uuid,dzchunkindex:m.index,dztotalfilesize:m.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:m.file.upload.totalChunkCount,dzchunkbyteoffset:m.index*this.options.chunkSize}},accept:function(c,d){return d()},chunksUploaded:function(c,d){d()},fallback:function(){var c;this.element.className="".concat(this.element.className," dz-browser-not-supported");var d=!0,m=!1,g=void 0;try{for(var v,y=this.element.getElementsByTagName("div")[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var _=v.value;if(/(^| )dz-message($| )/.test(_.className)){(c=_).className="dz-message";break}}}catch(c){m=!0,g=c}finally{try{d||null==y.return||y.return()}finally{if(m)throw g}}c||(c=z.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(c));var w=c.getElementsByTagName("span")[0];return w&&(null!=w.textContent?w.textContent=this.options.dictFallbackMessage:null!=w.innerText&&(w.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(c,d,m,g){var v={srcX:0,srcY:0,srcWidth:c.width,srcHeight:c.height},y=c.width/c.height;null==d&&null==m?(d=v.srcWidth,m=v.srcHeight):null==d?d=m*y:null==m&&(m=d/y);var _=(d=Math.min(d,v.srcWidth))/(m=Math.min(m,v.srcHeight));if(v.srcWidth>d||v.srcHeight>m)if("crop"===g)_<y?(v.srcHeight=c.height,v.srcWidth=v.srcHeight*_):(v.srcWidth=c.width,v.srcHeight=v.srcWidth/_);else{if("contain"!==g)throw new Error("Unknown resizeMethod '".concat(g,"'"));_<y?m=d/y:d=m*y}return v.srcX=(c.width-v.srcWidth)/2,v.srcY=(c.height-v.srcHeight)/2,v.trgWidth=d,v.trgHeight=m,v},transformFile:function(c,d){return(this.options.resizeWidth||this.options.resizeHeight)&&c.type.match(/image.*/)?this.resizeImage(c,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,d):d(c)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Check</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Error</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:function(){},dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:function(){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(c){var d=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){c.previewElement=z.createElement(this.options.previewTemplate.trim()),c.previewTemplate=c.previewElement,this.previewsContainer.appendChild(c.previewElement);var m=!0,g=!1,v=void 0;try{for(var y,_=c.previewElement.querySelectorAll("[data-dz-name]")[Symbol.iterator]();!(m=(y=_.next()).done);m=!0){var w=y.value;w.textContent=c.name}}catch(m){g=!0,v=m}finally{try{m||null==_.return||_.return()}finally{if(g)throw v}}var b=!0,S=!1,C=void 0;try{for(var E,x=c.previewElement.querySelectorAll("[data-dz-size]")[Symbol.iterator]();!(b=(E=x.next()).done);b=!0)(w=E.value).innerHTML=this.filesize(c.size)}catch(m){S=!0,C=m}finally{try{b||null==x.return||x.return()}finally{if(S)throw C}}function p(m){return m.preventDefault(),m.stopPropagation(),c.status===z.UPLOADING?z.confirm(d.options.dictCancelUploadConfirmation,(function(){return d.removeFile(c)})):d.options.dictRemoveFileConfirmation?z.confirm(d.options.dictRemoveFileConfirmation,(function(){return d.removeFile(c)})):d.removeFile(c)}this.options.addRemoveLinks&&(c._removeLink=z.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),c.previewElement.appendChild(c._removeLink));var k=!0,T=!1,F=void 0;try{for(var N,D=c.previewElement.querySelectorAll("[data-dz-remove]")[Symbol.iterator]();!(k=(N=D.next()).done);k=!0)N.value.addEventListener("click",p)}catch(m){T=!0,F=m}finally{try{k||null==D.return||D.return()}finally{if(T)throw F}}}},removedfile:function(c){return null!=c.previewElement&&null!=c.previewElement.parentNode&&c.previewElement.parentNode.removeChild(c.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(c,d){if(c.previewElement){c.previewElement.classList.remove("dz-file-preview");var m=!0,g=!1,v=void 0;try{for(var y,_=c.previewElement.querySelectorAll("[data-dz-thumbnail]")[Symbol.iterator]();!(m=(y=_.next()).done);m=!0){var w=y.value;w.alt=c.name,w.src=d}}catch(c){g=!0,v=c}finally{try{m||null==_.return||_.return()}finally{if(g)throw v}}return setTimeout((function(){return c.previewElement.classList.add("dz-image-preview")}),1)}},error:function(c,d){if(c.previewElement){c.previewElement.classList.add("dz-error"),"String"!=typeof d&&d.error&&(d=d.error);var m=!0,g=!1,v=void 0;try{for(var y,_=c.previewElement.querySelectorAll("[data-dz-errormessage]")[Symbol.iterator]();!(m=(y=_.next()).done);m=!0)y.value.textContent=d}catch(c){g=!0,v=c}finally{try{m||null==_.return||_.return()}finally{if(g)throw v}}}},errormultiple:function(){},processing:function(c){if(c.previewElement&&(c.previewElement.classList.add("dz-processing"),c._removeLink))return c._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(c,d){if(c.previewElement){var m=!0,g=!1,v=void 0;try{for(var y,_=c.previewElement.querySelectorAll("[data-dz-uploadprogress]")[Symbol.iterator]();!(m=(y=_.next()).done);m=!0){var w=y.value;"PROGRESS"===w.nodeName?w.value=d:w.style.width="".concat(d,"%")}}catch(c){g=!0,v=c}finally{try{m||null==_.return||_.return()}finally{if(g)throw v}}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(c){if(c.previewElement)return c.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(c){return this.emit("error",c,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(c){if(c._removeLink&&(c._removeLink.innerHTML=this.options.dictRemoveFile),c.previewElement)return c.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(c){for(var d=arguments.length,m=new Array(1<d?d-1:0),g=1;g<d;g++)m[g-1]=arguments[g];for(var v=0,y=m;v<y.length;v++){var _=y[v];for(var w in _){var b=_[w];c[w]=b}}return c}}]),o(z,[{key:"getAcceptedFiles",value:function(){return this.files.filter((function(c){return c.accepted})).map((function(c){return c}))}},{key:"getRejectedFiles",value:function(){return this.files.filter((function(c){return!c.accepted})).map((function(c){return c}))}},{key:"getFilesWithStatus",value:function(c){return this.files.filter((function(d){return d.status===c})).map((function(c){return c}))}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(z.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(z.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(z.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter((function(c){return c.status===z.UPLOADING||c.status===z.QUEUED})).map((function(c){return c}))}},{key:"init",value:function(){var c=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(z.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length&&function l(){return c.hiddenFileInput&&c.hiddenFileInput.parentNode.removeChild(c.hiddenFileInput),c.hiddenFileInput=document.createElement("input"),c.hiddenFileInput.setAttribute("type","file"),(null===c.options.maxFiles||1<c.options.maxFiles)&&c.hiddenFileInput.setAttribute("multiple","multiple"),c.hiddenFileInput.className="dz-hidden-input",null!==c.options.acceptedFiles&&c.hiddenFileInput.setAttribute("accept",c.options.acceptedFiles),null!==c.options.capture&&c.hiddenFileInput.setAttribute("capture",c.options.capture),c.hiddenFileInput.style.visibility="hidden",c.hiddenFileInput.style.position="absolute",c.hiddenFileInput.style.top="0",c.hiddenFileInput.style.left="0",c.hiddenFileInput.style.height="0",c.hiddenFileInput.style.width="0",z.getElement(c.options.hiddenInputContainer,"hiddenInputContainer").appendChild(c.hiddenFileInput),c.hiddenFileInput.addEventListener("change",(function(){var d=c.hiddenFileInput.files;if(d.length){var m=!0,g=!1,v=void 0;try{for(var y,_=d[Symbol.iterator]();!(m=(y=_.next()).done);m=!0){var w=y.value;c.addFile(w)}}catch(d){g=!0,v=d}finally{try{m||null==_.return||_.return()}finally{if(g)throw v}}}return c.emit("addedfiles",d),l()}))}(),this.URL=null!==window.URL?window.URL:window.webkitURL;var d=!0,m=!1,g=void 0;try{for(var v,y=this.events[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var _=v.value;this.on(_,this.options[_])}}catch(d){m=!0,g=d}finally{try{d||null==y.return||y.return()}finally{if(m)throw g}}function a(c){var d;return(d=c).dataTransfer.types&&d.dataTransfer.types.some((function(c){return"Files"==c}))&&(c.stopPropagation(),c.preventDefault?c.preventDefault():c.returnValue=!1)}return this.on("uploadprogress",(function(){return c.updateTotalUploadProgress()})),this.on("removedfile",(function(){return c.updateTotalUploadProgress()})),this.on("canceled",(function(d){return c.emit("complete",d)})),this.on("complete",(function(d){if(0===c.getAddedFiles().length&&0===c.getUploadingFiles().length&&0===c.getQueuedFiles().length)return setTimeout((function(){return c.emit("queuecomplete")}),0)})),this.listeners=[{element:this.element,events:{dragstart:function(d){return c.emit("dragstart",d)},dragenter:function(d){return a(d),c.emit("dragenter",d)},dragover:function(d){var m;try{m=d.dataTransfer.effectAllowed}catch(d){}return d.dataTransfer.dropEffect="move"===m||"linkMove"===m?"move":"copy",a(d),c.emit("dragover",d)},dragleave:function(d){return c.emit("dragleave",d)},drop:function(d){return a(d),c.drop(d)},dragend:function(d){return c.emit("dragend",d)}}}],this.clickableElements.forEach((function(d){return c.listeners.push({element:d,events:{click:function(m){return d===c.element&&m.target!==c.element&&!z.elementInside(m.target,c.element.querySelector(".dz-message"))||c.hiddenFileInput.click(),!0}}})})),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),null!=this.hiddenFileInput&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,z.instances.splice(z.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var c,d=0,m=0;if(this.getActiveFiles().length){var g=!0,v=!1,y=void 0;try{for(var _,w=this.getActiveFiles()[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){var b=_.value;d+=b.upload.bytesSent,m+=b.upload.total}}catch(c){v=!0,y=c}finally{try{g||null==w.return||w.return()}finally{if(v)throw y}}c=100*d/m}else c=100;return this.emit("totaluploadprogress",c,m,d)}},{key:"_getParamName",value:function(c){return"function"==typeof this.options.paramName?this.options.paramName(c):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(c,"]"):"")}},{key:"_renameFile",value:function(c){return"function"!=typeof this.options.renameFile?c.name:this.options.renameFile(c)}},{key:"getFallbackForm",value:function(){var c,d;if(c=this.getExistingFallback())return c;var m='<div class="dz-fallback">';this.options.dictFallbackText&&(m+="<p>".concat(this.options.dictFallbackText,"</p>")),m+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var g=z.createElement(m);return"FORM"!==this.element.tagName?(d=z.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(g):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=d?d:g}},{key:"getExistingFallback",value:function(){function e(c){var d=!0,m=!1,g=void 0;try{for(var v,y=c[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var _=v.value;if(/(^| )fallback($| )/.test(_.className))return _}}catch(c){m=!0,g=c}finally{try{d||null==y.return||y.return()}finally{if(m)throw g}}}for(var c=0,d=["div","form"];c<d.length;c++){var m,g=d[c];if(m=e(this.element.getElementsByTagName(g)))return m}}},{key:"setupEventListeners",value:function(){return this.listeners.map((function(c){return function(){var d=[];for(var m in c.events){var g=c.events[m];d.push(c.element.addEventListener(m,g,!1))}return d}()}))}},{key:"removeEventListeners",value:function(){return this.listeners.map((function(c){return function(){var d=[];for(var m in c.events){var g=c.events[m];d.push(c.element.removeEventListener(m,g,!1))}return d}()}))}},{key:"disable",value:function(){var c=this;return this.clickableElements.forEach((function(c){return c.classList.remove("dz-clickable")})),this.removeEventListeners(),this.disabled=!0,this.files.map((function(d){return c.cancelUpload(d)}))}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach((function(c){return c.classList.add("dz-clickable")})),this.setupEventListeners()}},{key:"filesize",value:function(c){var d=0,m="b";if(0<c){for(var g=["tb","gb","mb","kb","b"],v=0;v<g.length;v++){var y=g[v];if(Math.pow(this.options.filesizeBase,4-v)/10<=c){d=c/Math.pow(this.options.filesizeBase,4-v),m=y;break}}d=Math.round(10*d)/10}return"<strong>".concat(d,"</strong> ").concat(this.options.dictFileSizeUnits[m])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(c){if(c.dataTransfer){this.emit("drop",c);for(var d=[],m=0;m<c.dataTransfer.files.length;m++)d[m]=c.dataTransfer.files[m];if(d.length){var g=c.dataTransfer.items;g&&g.length&&null!=g[0].webkitGetAsEntry?this._addFilesFromItems(g):this.handleFiles(d)}this.emit("addedfiles",d)}}},{key:"paste",value:function(c){if(null!=(m=function(c){return c.items},null!=(d=null!=c?c.clipboardData:void 0)?m(d):void 0)){var d,m;this.emit("paste",c);var g=c.clipboardData.items;return g.length?this._addFilesFromItems(g):void 0}}},{key:"handleFiles",value:function(c){var d=!0,m=!1,g=void 0;try{for(var v,y=c[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var _=v.value;this.addFile(_)}}catch(c){m=!0,g=c}finally{try{d||null==y.return||y.return()}finally{if(m)throw g}}}},{key:"_addFilesFromItems",value:function(c){var d=this;return function(){var m=[],g=!0,v=!1,y=void 0;try{for(var _,w=c[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){var b,S=_.value;null!=S.webkitGetAsEntry&&(b=S.webkitGetAsEntry())?b.isFile?m.push(d.addFile(S.getAsFile())):b.isDirectory?m.push(d._addFilesFromDirectory(b,b.name)):m.push(void 0):null==S.getAsFile||null!=S.kind&&"file"!==S.kind?m.push(void 0):m.push(d.addFile(S.getAsFile()))}}catch(m){v=!0,y=m}finally{try{g||null==w.return||w.return()}finally{if(v)throw y}}return m}()}},{key:"_addFilesFromDirectory",value:function(c,d){function t(c){return m="log",g=function(d){return d.log(c)},null!=(d=console)&&"function"==typeof d[m]?g(d,m):void 0;var d,m,g}var m=this,g=c.createReader();return function l(){return g.readEntries((function(c){if(0<c.length){var g=!0,v=!1,y=void 0;try{for(var _,w=c[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){var b=_.value;b.isFile?b.file((function(c){if(!m.options.ignoreHiddenFiles||"."!==c.name.substring(0,1))return c.fullPath="".concat(d,"/").concat(c.name),m.addFile(c)})):b.isDirectory&&m._addFilesFromDirectory(b,"".concat(d,"/").concat(b.name))}}catch(c){v=!0,y=c}finally{try{g||null==w.return||w.return()}finally{if(v)throw y}}l()}return null}),t)}()}},{key:"accept",value:function(c,d){this.options.maxFilesize&&c.size>1024*this.options.maxFilesize*1024?d(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(c.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):z.isValidFile(c,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(d(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",c)):this.options.accept.call(this,c,d):d(this.options.dictInvalidFileType)}},{key:"addFile",value:function(c){var d=this;c.upload={uuid:z.uuidv4(),progress:0,total:c.size,bytesSent:0,filename:this._renameFile(c)},this.files.push(c),c.status=z.ADDED,this.emit("addedfile",c),this._enqueueThumbnail(c),this.accept(c,(function(m){m?(c.accepted=!1,d._errorProcessing([c],m)):(c.accepted=!0,d.options.autoQueue&&d.enqueueFile(c)),d._updateMaxFilesReachedClass()}))}},{key:"enqueueFiles",value:function(c){var d=!0,m=!1,g=void 0;try{for(var v,y=c[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var _=v.value;this.enqueueFile(_)}}catch(c){m=!0,g=c}finally{try{d||null==y.return||y.return()}finally{if(m)throw g}}return null}},{key:"enqueueFile",value:function(c){var d=this;if(c.status!==z.ADDED||!0!==c.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(c.status=z.QUEUED,this.options.autoProcessQueue)return setTimeout((function(){return d.processQueue()}),0)}},{key:"_enqueueThumbnail",value:function(c){var d=this;if(this.options.createImageThumbnails&&c.type.match(/image.*/)&&c.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(c),setTimeout((function(){return d._processThumbnailQueue()}),0)}},{key:"_processThumbnailQueue",value:function(){var c=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var d=this._thumbnailQueue.shift();return this.createThumbnail(d,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(function(m){return c.emit("thumbnail",d,m),c._processingThumbnail=!1,c._processThumbnailQueue()}))}}},{key:"removeFile",value:function(c){if(c.status===z.UPLOADING&&this.cancelUpload(c),this.files=h(this.files,c),this.emit("removedfile",c),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(c){null==c&&(c=!1);var d=!0,m=!1,g=void 0;try{for(var v,y=this.files.slice()[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var _=v.value;_.status===z.UPLOADING&&!c||this.removeFile(_)}}catch(c){m=!0,g=c}finally{try{d||null==y.return||y.return()}finally{if(m)throw g}}return null}},{key:"resizeImage",value:function(c,d,m,g,y){var _=this;return this.createThumbnail(c,d,m,g,!0,(function(d,m){if(null==m)return y(c);var g=_.options.resizeMimeType;null==g&&(g=c.type);var w=m.toDataURL(g,_.options.resizeQuality);return"image/jpeg"!==g&&"image/jpg"!==g||(w=v.restore(c.dataURL,w)),y(z.dataURItoBlob(w))}))}},{key:"createThumbnail",value:function(c,d,m,g,v,y){var _=this,w=new FileReader;w.onload=function(){c.dataURL=w.result,"image/svg+xml"!==c.type?_.createThumbnailFromUrl(c,d,m,g,v,y):null!=y&&y(w.result)},w.readAsDataURL(c)}},{key:"displayExistingFile",value:function(c,d,m,g,v){var y=this,_=!(4<arguments.length&&void 0!==v)||v;this.emit("addedfile",c),this.emit("complete",c),_?(c.dataURL=d,this.createThumbnailFromUrl(c,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,(function(d){y.emit("thumbnail",c,d),m&&m()}),g)):(this.emit("thumbnail",c,d),m&&m())}},{key:"createThumbnailFromUrl",value:function(c,d,m,g,v,y,_){var w=this,b=document.createElement("img");return _&&(b.crossOrigin=_),b.onload=function(){var e=function(c){return c(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&v&&(e=function(c){return EXIF.getData(b,(function(){return c(EXIF.getTag(this,"Orientation"))}))}),e((function(v){c.width=b.width,c.height=b.height;var _=w.options.resize.call(w,c,d,m,g),S=document.createElement("canvas"),C=S.getContext("2d");switch(S.width=_.trgWidth,S.height=_.trgHeight,4<v&&(S.width=_.trgHeight,S.height=_.trgWidth),v){case 2:C.translate(S.width,0),C.scale(-1,1);break;case 3:C.translate(S.width,S.height),C.rotate(Math.PI);break;case 4:C.translate(0,S.height),C.scale(1,-1);break;case 5:C.rotate(.5*Math.PI),C.scale(1,-1);break;case 6:C.rotate(.5*Math.PI),C.translate(0,-S.width);break;case 7:C.rotate(.5*Math.PI),C.translate(S.height,-S.width),C.scale(-1,1);break;case 8:C.rotate(-.5*Math.PI),C.translate(-S.height,0)}f(C,b,null!=_.srcX?_.srcX:0,null!=_.srcY?_.srcY:0,_.srcWidth,_.srcHeight,null!=_.trgX?_.trgX:0,null!=_.trgY?_.trgY:0,_.trgWidth,_.trgHeight);var E=S.toDataURL("image/png");if(null!=y)return y(E,S)}))},null!=y&&(b.onerror=y),b.src=c.dataURL}},{key:"processQueue",value:function(){var c=this.options.parallelUploads,d=this.getUploadingFiles().length,m=d;if(!(c<=d)){var g=this.getQueuedFiles();if(0<g.length){if(this.options.uploadMultiple)return this.processFiles(g.slice(0,c-d));for(;m<c;){if(!g.length)return;this.processFile(g.shift()),m++}}}}},{key:"processFile",value:function(c){return this.processFiles([c])}},{key:"processFiles",value:function(c){var d=!0,m=!1,g=void 0;try{for(var v,y=c[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var _=v.value;_.processing=!0,_.status=z.UPLOADING,this.emit("processing",_)}}catch(c){m=!0,g=c}finally{try{d||null==y.return||y.return()}finally{if(m)throw g}}return this.options.uploadMultiple&&this.emit("processingmultiple",c),this.uploadFiles(c)}},{key:"_getFilesWithXhr",value:function(c){return this.files.filter((function(d){return d.xhr===c})).map((function(c){return c}))}},{key:"cancelUpload",value:function(c){if(c.status===z.UPLOADING){var d=this._getFilesWithXhr(c.xhr),m=!0,g=!1,v=void 0;try{for(var y,_=d[Symbol.iterator]();!(m=(y=_.next()).done);m=!0)y.value.status=z.CANCELED}catch(c){g=!0,v=c}finally{try{m||null==_.return||_.return()}finally{if(g)throw v}}void 0!==c.xhr&&c.xhr.abort();var w=!0,b=!1,S=void 0;try{for(var C,E=d[Symbol.iterator]();!(w=(C=E.next()).done);w=!0){var x=C.value;this.emit("canceled",x)}}catch(c){b=!0,S=c}finally{try{w||null==E.return||E.return()}finally{if(b)throw S}}this.options.uploadMultiple&&this.emit("canceledmultiple",d)}else c.status!==z.ADDED&&c.status!==z.QUEUED||(c.status=z.CANCELED,this.emit("canceled",c),this.options.uploadMultiple&&this.emit("canceledmultiple",[c]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(c){if("function"!=typeof c)return c;for(var d=arguments.length,m=new Array(1<d?d-1:0),g=1;g<d;g++)m[g-1]=arguments[g];return c.apply(this,m)}},{key:"uploadFile",value:function(c){return this.uploadFiles([c])}},{key:"uploadFiles",value:function(c){var d=this;this._transformFiles(c,(function(m){if(d.options.chunking){var g=m[0];c[0].upload.chunked=d.options.chunking&&(d.options.forceChunking||g.size>d.options.chunkSize),c[0].upload.totalChunkCount=Math.ceil(g.size/d.options.chunkSize)}if(c[0].upload.chunked){var v=c[0],y=m[0];function i(){for(var m=0;void 0!==v.upload.chunks[m];)m++;if(!(m>=v.upload.totalChunkCount)){var g=m*d.options.chunkSize,_=Math.min(g+d.options.chunkSize,v.size),w={name:d._getParamName(0),data:y.webkitSlice?y.webkitSlice(g,_):y.slice(g,_),filename:v.upload.filename,chunkIndex:m};v.upload.chunks[m]={file:v,index:m,dataBlock:w,status:z.UPLOADING,progress:0,retries:0},d._uploadData(c,[w])}}if(v.upload.chunks=[],v.upload.finishedChunkUpload=function(m){var g=!0;m.status=z.SUCCESS,m.dataBlock=null,m.xhr=null;for(var y=0;y<v.upload.totalChunkCount;y++){if(void 0===v.upload.chunks[y])return i();v.upload.chunks[y].status!==z.SUCCESS&&(g=!1)}g&&d.options.chunksUploaded(v,(function(){d._finished(c,"",null)}))},d.options.parallelChunkUploads)for(var _=0;_<v.upload.totalChunkCount;_++)i();else i()}else{for(var w=[],b=0;b<c.length;b++)w[b]={name:d._getParamName(b),data:m[b],filename:c[b].upload.filename};d._uploadData(c,w)}}))}},{key:"_getChunk",value:function(c,d){for(var m=0;m<c.upload.totalChunkCount;m++)if(void 0!==c.upload.chunks[m]&&c.upload.chunks[m].xhr===d)return c.upload.chunks[m]}},{key:"_uploadData",value:function(c,d){var m=this,g=new XMLHttpRequest,v=!0,y=!1,_=void 0;try{for(var w,b=c[Symbol.iterator]();!(v=(w=b.next()).done);v=!0)w.value.xhr=g}catch(d){y=!0,_=d}finally{try{v||null==b.return||b.return()}finally{if(y)throw _}}c[0].upload.chunked&&(c[0].upload.chunks[d[0].chunkIndex].xhr=g);var S=this.resolveOption(this.options.method,c),C=this.resolveOption(this.options.url,c);g.open(S,C,!0),g.timeout=this.resolveOption(this.options.timeout,c),g.withCredentials=!!this.options.withCredentials,g.onload=function(d){m._finishedUploading(c,g,d)},g.ontimeout=function(){m._handleUploadError(c,g,"Request timedout after ".concat(m.options.timeout," seconds"))},g.onerror=function(){m._handleUploadError(c,g)},(null!=g.upload?g.upload:g).onprogress=function(d){return m._updateFilesUploadProgress(c,g,d)};var E={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var x in this.options.headers&&z.extend(E,this.options.headers),E){var k=E[x];k&&g.setRequestHeader(x,k)}var T=new FormData;if(this.options.params){var F=this.options.params;for(var N in"function"==typeof F&&(F=F.call(this,c,g,c[0].upload.chunked?this._getChunk(c[0],g):null)),F){var D=F[N];T.append(N,D)}}var A=!0,I=!1,O=void 0;try{for(var H,q=c[Symbol.iterator]();!(A=(H=q.next()).done);A=!0){var M=H.value;this.emit("sending",M,g,T)}}catch(d){I=!0,O=d}finally{try{A||null==q.return||q.return()}finally{if(I)throw O}}this.options.uploadMultiple&&this.emit("sendingmultiple",c,g,T),this._addFormElementData(T);for(var P=0;P<d.length;P++){var L=d[P];T.append(L.name,L.data,L.filename)}this.submitRequest(g,T,c)}},{key:"_transformFiles",value:function(c,d){function e(y){m.options.transformFile.call(m,c[y],(function(m){g[y]=m,++v===c.length&&d(g)}))}for(var m=this,g=[],v=0,y=0;y<c.length;y++)e(y)}},{key:"_addFormElementData",value:function(c){if("FORM"===this.element.tagName){var d=!0,m=!1,g=void 0;try{for(var v,y=this.element.querySelectorAll("input, textarea, select, button")[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var _=v.value,w=_.getAttribute("name"),b=_.getAttribute("type");if(b=b&&b.toLowerCase(),null!=w)if("SELECT"===_.tagName&&_.hasAttribute("multiple")){var S=!0,C=!1,E=void 0;try{for(var x,k=_.options[Symbol.iterator]();!(S=(x=k.next()).done);S=!0){var T=x.value;T.selected&&c.append(w,T.value)}}catch(c){C=!0,E=c}finally{try{S||null==k.return||k.return()}finally{if(C)throw E}}}else(!b||"checkbox"!==b&&"radio"!==b||_.checked)&&c.append(w,_.value)}}catch(c){m=!0,g=c}finally{try{d||null==y.return||y.return()}finally{if(m)throw g}}}}},{key:"_updateFilesUploadProgress",value:function(c,d,m){var g;if(void 0!==m){if(g=100*m.loaded/m.total,c[0].upload.chunked){var v=c[0],y=this._getChunk(v,d);y.progress=g,y.total=m.total,y.bytesSent=m.loaded,v.upload.progress=0,v.upload.total=0;for(var _=v.upload.bytesSent=0;_<v.upload.totalChunkCount;_++)void 0!==v.upload.chunks[_]&&void 0!==v.upload.chunks[_].progress&&(v.upload.progress+=v.upload.chunks[_].progress,v.upload.total+=v.upload.chunks[_].total,v.upload.bytesSent+=v.upload.chunks[_].bytesSent);v.upload.progress=v.upload.progress/v.upload.totalChunkCount}else{var w=!0,b=!1,S=void 0;try{for(var C,E=c[Symbol.iterator]();!(w=(C=E.next()).done);w=!0){var x=C.value;x.upload.progress=g,x.upload.total=m.total,x.upload.bytesSent=m.loaded}}catch(c){b=!0,S=c}finally{try{w||null==E.return||E.return()}finally{if(b)throw S}}}var k=!0,T=!1,F=void 0;try{for(var N,D=c[Symbol.iterator]();!(k=(N=D.next()).done);k=!0){var A=N.value;this.emit("uploadprogress",A,A.upload.progress,A.upload.bytesSent)}}catch(c){T=!0,F=c}finally{try{k||null==D.return||D.return()}finally{if(T)throw F}}}else{var I=!0,O=!0,H=!(g=100),q=void 0;try{for(var M,P=c[Symbol.iterator]();!(O=(M=P.next()).done);O=!0){var L=M.value;100===L.upload.progress&&L.upload.bytesSent===L.upload.total||(I=!1),L.upload.progress=g,L.upload.bytesSent=L.upload.total}}catch(c){H=!0,q=c}finally{try{O||null==P.return||P.return()}finally{if(H)throw q}}if(I)return;var W=!0,R=!1,U=void 0;try{for(var j,B=c[Symbol.iterator]();!(W=(j=B.next()).done);W=!0){var J=j.value;this.emit("uploadprogress",J,g,J.upload.bytesSent)}}catch(c){R=!0,U=c}finally{try{W||null==B.return||B.return()}finally{if(R)throw U}}}}},{key:"_finishedUploading",value:function(c,d,m){var g;if(c[0].status!==z.CANCELED&&4===d.readyState){if("arraybuffer"!==d.responseType&&"blob"!==d.responseType&&(g=d.responseText,d.getResponseHeader("content-type")&&~d.getResponseHeader("content-type").indexOf("application/json")))try{g=JSON.parse(g)}catch(c){m=c,g="Invalid JSON response from server."}this._updateFilesUploadProgress(c),200<=d.status&&d.status<300?c[0].upload.chunked?c[0].upload.finishedChunkUpload(this._getChunk(c[0],d)):this._finished(c,g,m):this._handleUploadError(c,d,g)}}},{key:"_handleUploadError",value:function(c,d,m){if(c[0].status!==z.CANCELED){if(c[0].upload.chunked&&this.options.retryChunks){var g=this._getChunk(c[0],d);if(g.retries++<this.options.retryChunksLimit)return void this._uploadData(c,[g.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(c,m||this.options.dictResponseError.replace("{{statusCode}}",d.status),d)}}},{key:"submitRequest",value:function(c,d){c.send(d)}},{key:"_finished",value:function(c,d,m){var g=!0,v=!1,y=void 0;try{for(var _,w=c[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){var b=_.value;b.status=z.SUCCESS,this.emit("success",b,d,m),this.emit("complete",b)}}catch(c){v=!0,y=c}finally{try{g||null==w.return||w.return()}finally{if(v)throw y}}if(this.options.uploadMultiple&&(this.emit("successmultiple",c,d,m),this.emit("completemultiple",c)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(c,d,m){var g=!0,v=!1,y=void 0;try{for(var _,w=c[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){var b=_.value;b.status=z.ERROR,this.emit("error",b,d,m),this.emit("complete",b)}}catch(c){v=!0,y=c}finally{try{g||null==w.return||w.return()}finally{if(v)throw y}}if(this.options.uploadMultiple&&(this.emit("errormultiple",c,d,m),this.emit("completemultiple",c)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var d=16*Math.random()|0;return("x"===c?d:3&d|8).toString(16)}))}}]),z}();g.initClass(),g.version="5.7.0",g.options={},g.optionsForElement=function(c){return c.getAttribute("id")?g.options[p(c.getAttribute("id"))]:void 0},g.instances=[],g.forElement=function(c){if("string"==typeof c&&(c=document.querySelector(c)),null==(null!=c?c.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return c.dropzone},g.autoDiscover=!0,g.discover=function(){var c;if(document.querySelectorAll)c=document.querySelectorAll(".dropzone");else{function e(d){return function(){var m=[],g=!0,v=!1,y=void 0;try{for(var _,w=d[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){var b=_.value;/(^| )dropzone($| )/.test(b.className)?m.push(c.push(b)):m.push(void 0)}}catch(m){v=!0,y=m}finally{try{g||null==w.return||w.return()}finally{if(v)throw y}}return m}()}c=[],e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))}return function(){var d=[],m=!0,v=!1,y=void 0;try{for(var _,w=c[Symbol.iterator]();!(m=(_=w.next()).done);m=!0){var b=_.value;!1!==g.optionsForElement(b)?d.push(new g(b)):d.push(void 0)}}catch(d){v=!0,y=d}finally{try{m||null==w.return||w.return()}finally{if(v)throw y}}return d}()},g.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],g.isBrowserSupported=function(){var c=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var d=!0,m=!1,v=void 0;try{for(var y,_=g.blacklistedBrowsers[Symbol.iterator]();!(d=(y=_.next()).done);d=!0)y.value.test(navigator.userAgent)&&(c=!1)}catch(c){m=!0,v=c}finally{try{d||null==_.return||_.return()}finally{if(m)throw v}}}else c=!1;else c=!1;return c},g.dataURItoBlob=function(c){for(var d=atob(c.split(",")[1]),m=c.split(",")[0].split(":")[1].split(";")[0],g=new ArrayBuffer(d.length),v=new Uint8Array(g),y=0,_=d.length,w=0<=_;w?y<=_:_<=y;w?y++:y--)v[y]=d.charCodeAt(y);return new Blob([g],{type:m})};var h=function(c,d){return c.filter((function(c){return c!==d})).map((function(c){return c}))},p=function(c){return c.replace(/[\-_](\w)/g,(function(c){return c.charAt(1).toUpperCase()}))};g.createElement=function(c){var d=document.createElement("div");return d.innerHTML=c,d.childNodes[0]},g.elementInside=function(c,d){if(c===d)return!0;for(;c=c.parentNode;)if(c===d)return!0;return!1},g.getElement=function(c,d){var m;if("string"==typeof c?m=document.querySelector(c):null!=c.nodeType&&(m=c),null==m)throw new Error("Invalid `".concat(d,"` option provided. Please provide a CSS selector or a plain HTML element."));return m},g.getElements=function(c,d){var m,g;if(c instanceof Array){g=[];try{var v=!0,y=!1,_=void 0;try{for(var w,b=c[Symbol.iterator]();!(v=(w=b.next()).done);v=!0)m=w.value,g.push(this.getElement(m,d))}catch(c){y=!0,_=c}finally{try{v||null==b.return||b.return()}finally{if(y)throw _}}}catch(c){g=null}}else if("string"==typeof c){var S=!0,C=!(g=[]),E=void 0;try{for(var x,k=document.querySelectorAll(c)[Symbol.iterator]();!(S=(x=k.next()).done);S=!0)m=x.value,g.push(m)}catch(c){C=!0,E=c}finally{try{S||null==k.return||k.return()}finally{if(C)throw E}}}else null!=c.nodeType&&(g=[c]);if(null==g||!g.length)throw new Error("Invalid `".concat(d,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return g},g.confirm=function(c,d,m){return window.confirm(c)?d():null!=m?m():void 0},g.isValidFile=function(c,d){if(!d)return!0;d=d.split(",");var m=c.type,g=m.replace(/\/.*$/,""),v=!0,y=!1,_=void 0;try{for(var w,b=d[Symbol.iterator]();!(v=(w=b.next()).done);v=!0){var S=w.value;if("."===(S=S.trim()).charAt(0)){if(-1!==c.name.toLowerCase().indexOf(S.toLowerCase(),c.name.length-S.length))return!0}else if(/\/\*$/.test(S)){if(g===S.replace(/\/.*$/,""))return!0}else if(m===S)return!0}}catch(c){y=!0,_=c}finally{try{v||null==b.return||b.return()}finally{if(y)throw _}}return!1},null!=c&&(c.fn.dropzone=function(c){return this.each((function(){return new g(this,c)}))}),null!=d?d.exports=g:window.Dropzone=g,g.ADDED="added",g.QUEUED="queued",g.ACCEPTED=g.QUEUED,g.UPLOADING="uploading",g.PROCESSING=g.UPLOADING,g.CANCELED="canceled",g.ERROR="error",g.SUCCESS="success";var f=function(c,d,m,g,v,y,_,w,b,S){var C=function(c){c.naturalWidth;var d=c.naturalHeight,m=document.createElement("canvas");m.width=1,m.height=d;var g=m.getContext("2d");g.drawImage(c,0,0);for(var v=g.getImageData(1,0,1,d).data,y=0,_=d,w=d;y<w;)0===v[4*(w-1)+3]?_=w:y=w,w=_+y>>1;var b=w/d;return 0==b?1:b}(d);return c.drawImage(d,m,g,v,y,_,w,b,S/C)},v=function(){function e(){u(this,e)}return o(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(c){for(var d="",m=void 0,g=void 0,v="",y=void 0,_=void 0,w=void 0,b="",S=0;y=(m=c[S++])>>2,_=(3&m)<<4|(g=c[S++])>>4,w=(15&g)<<2|(v=c[S++])>>6,b=63&v,isNaN(g)?w=b=64:isNaN(v)&&(b=64),d=d+this.KEY_STR.charAt(y)+this.KEY_STR.charAt(_)+this.KEY_STR.charAt(w)+this.KEY_STR.charAt(b),m=g=v="",y=_=w=b="",S<c.length;);return d}},{key:"restore",value:function(c,d){if(!c.match("data:image/jpeg;base64,"))return d;var m=this.decode64(c.replace("data:image/jpeg;base64,","")),g=this.slice2Segments(m),v=this.exifManipulation(d,g);return"data:image/jpeg;base64,".concat(this.encode64(v))}},{key:"exifManipulation",value:function(c,d){var m=this.getExifArray(d),g=this.insertExif(c,m);return new Uint8Array(g)}},{key:"getExifArray",value:function(c){for(var d=void 0,m=0;m<c.length;){if(255===(d=c[m])[0]&225===d[1])return d;m++}return[]}},{key:"insertExif",value:function(c,d){var m=c.replace("data:image/jpeg;base64,",""),g=this.decode64(m),v=g.indexOf(255,3),y=g.slice(0,v),_=g.slice(v),w=y;return(w=w.concat(d)).concat(_)}},{key:"slice2Segments",value:function(c){for(var d=0,m=[];!(255===c[d]&218===c[d+1]);){if(255===c[d]&216===c[d+1])d+=2;else{var g=d+(256*c[d+2]+c[d+3])+2,v=c.slice(d,g);m.push(v),d=g}if(d>c.length)break}return m}},{key:"decode64",value:function(c){var d=void 0,m=void 0,g="",v=void 0,y=void 0,_="",w=0,b=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(c)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");d=this.KEY_STR.indexOf(c.charAt(w++))<<2|(v=this.KEY_STR.indexOf(c.charAt(w++)))>>4,m=(15&v)<<4|(y=this.KEY_STR.indexOf(c.charAt(w++)))>>2,g=(3&y)<<6|(_=this.KEY_STR.indexOf(c.charAt(w++))),b.push(d),64!==y&&b.push(m),64!==_&&b.push(g),d=m=g="",v=y=_="",w<c.length;);return b}}]),e}();return v.initClass(),g._autoDiscoverFunction=function(){if(g.autoDiscover)return g.discover()},function(c,d){function i(g){if("readystatechange"!==g.type||"complete"===v.readyState)return("load"===g.type?c:v)[w](b+g.type,i,!1),!m&&(m=!0)?d.call(c,g.type||g):void 0}var m=!1,g=!0,v=c.document,y=v.documentElement,_=v.addEventListener?"addEventListener":"attachEvent",w=v.addEventListener?"removeEventListener":"detachEvent",b=v.addEventListener?"":"on";if("complete"!==v.readyState){if(v.createEventObject&&y.doScroll){try{g=!c.frameElement}catch(g){}g&&function t(){try{y.doScroll("left")}catch(c){return void setTimeout(t,50)}return i("poll")}()}v[_](b+"DOMContentLoaded",i,!1),v[_](b+"readystatechange",i,!1),c[_](b+"load",i,!1)}}(window,g._autoDiscoverFunction),d.exports},void 0===(y="function"==typeof g?g.apply(d,v):g)||(c.exports=y)},69134:function(c,d,m){var g=m(20198);!function e(c,d,m){function s(v,y){if(!d[v]){if(!c[v]){if(g)return g(v,!0);var _=new Error("Cannot find module '"+v+"'");throw _.code="MODULE_NOT_FOUND",_}var w=d[v]={exports:{}};c[v][0].call(w.exports,(function(d){var m=c[v][1][d];return s(m||d)}),w,w.exports,e,c,d,m)}return d[v].exports}for(var g=void 0,v=0;v<m.length;v++)s(m[v]);return s}({1:[function(c,d,m){var v,y,_,w,b,S,C,E,x={}.hasOwnProperty;C=c("./node"),E=c("./util"),b=C.Position,v=g,y=function(){function DragAndDropHandler(c){this.tree_widget=c,this.hovered_area=null,this.$ghost=null,this.hit_areas=[],this.is_dragging=!1,this.current_item=null}return DragAndDropHandler.prototype.mouseCapture=function(c){var d,m;return d=v(c.target),this.mustCaptureElement(d)?this.tree_widget.options.onIsMoveHandle&&!this.tree_widget.options.onIsMoveHandle(d)?null:((m=this.tree_widget._getNodeElement(d))&&this.tree_widget.options.onCanMove&&(this.tree_widget.options.onCanMove(m.node)||(m=null)),this.current_item=m,null!==this.current_item):null},DragAndDropHandler.prototype.mouseStart=function(c){var d;return this.refresh(),d=v(c.target).offset(),this.drag_element=new _(this.current_item.node,c.page_x-d.left,c.page_y-d.top,this.tree_widget.element),this.is_dragging=!0,this.current_item.$element.addClass("jqtree-moving"),!0},DragAndDropHandler.prototype.mouseDrag=function(c){var d;return this.drag_element.move(c.page_x,c.page_y),d=this.findHoveredArea(c.page_x,c.page_y),this.canMoveToArea(d)&&d?(d.node.isFolder()||this.stopOpenFolderTimer(),this.hovered_area!==d&&(this.hovered_area=d,this.mustOpenFolderTimer(d)?this.startOpenFolderTimer(d.node):this.stopOpenFolderTimer(),this.updateDropHint())):(this.removeHover(),this.removeDropHint(),this.stopOpenFolderTimer()),d||null!=this.tree_widget.options.onDragMove&&this.tree_widget.options.onDragMove(this.current_item.node,c.original_event),!0},DragAndDropHandler.prototype.mustCaptureElement=function(c){return!c.is("input,select")},DragAndDropHandler.prototype.canMoveToArea=function(c){var d;return!!c&&(!this.tree_widget.options.onCanMoveTo||(d=b.getName(c.position),this.tree_widget.options.onCanMoveTo(this.current_item.node,c.node,d)))},DragAndDropHandler.prototype.mouseStop=function(c){var d;return this.moveItem(c),this.clear(),this.removeHover(),this.removeDropHint(),this.removeHitAreas(),d=this.current_item,this.current_item&&(this.current_item.$element.removeClass("jqtree-moving"),this.current_item=null),this.is_dragging=!1,!this.hovered_area&&d&&null!=this.tree_widget.options.onDragStop&&this.tree_widget.options.onDragStop(d.node,c.original_event),!1},DragAndDropHandler.prototype.refresh=function(){if(this.removeHitAreas(),this.current_item&&(this.generateHitAreas(),this.current_item=this.tree_widget._getNodeElementForNode(this.current_item.node),this.is_dragging))return this.current_item.$element.addClass("jqtree-moving")},DragAndDropHandler.prototype.removeHitAreas=function(){return this.hit_areas=[]},DragAndDropHandler.prototype.clear=function(){return this.drag_element.remove(),this.drag_element=null},DragAndDropHandler.prototype.removeDropHint=function(){if(this.previous_ghost)return this.previous_ghost.remove()},DragAndDropHandler.prototype.removeHover=function(){return this.hovered_area=null},DragAndDropHandler.prototype.generateHitAreas=function(){var c;return c=new w(this.tree_widget.tree,this.current_item.node,this.getTreeDimensions().bottom),this.hit_areas=c.generate()},DragAndDropHandler.prototype.findHoveredArea=function(c,d){var m,g,v,y,_;if(c<(g=this.getTreeDimensions()).left||d<g.top||c>g.right||d>g.bottom)return null;for(y=0,v=this.hit_areas.length;y<v;)if(_=y+v>>1,d<(m=this.hit_areas[_]).top)v=_;else{if(!(d>m.bottom))return m;y=_+1}return null},DragAndDropHandler.prototype.mustOpenFolderTimer=function(c){var d;return(d=c.node).isFolder()&&!d.is_open&&c.position===b.INSIDE},DragAndDropHandler.prototype.updateDropHint=function(){var c;if(this.hovered_area)return this.removeDropHint(),c=this.tree_widget._getNodeElementForNode(this.hovered_area.node),this.previous_ghost=c.addDropHint(this.hovered_area.position)},DragAndDropHandler.prototype.startOpenFolderTimer=function(c){var d,m;return m=this,d=function(){return m.tree_widget._openNode(c,m.tree_widget.options.slide,(function(){return m.refresh(),m.updateDropHint()}))},this.stopOpenFolderTimer(),this.open_folder_timer=setTimeout(d,this.tree_widget.options.openFolderDelay)},DragAndDropHandler.prototype.stopOpenFolderTimer=function(){if(this.open_folder_timer)return clearTimeout(this.open_folder_timer),this.open_folder_timer=null},DragAndDropHandler.prototype.moveItem=function(c){var d,m,g,v,y,_;if(this.hovered_area&&this.hovered_area.position!==b.NONE&&this.canMoveToArea(this.hovered_area)&&(m=this.current_item.node,y=this.hovered_area.node,g=this.hovered_area.position,v=m.parent,g===b.INSIDE&&(this.hovered_area.node.is_open=!0),_=this,d=function(){return _.tree_widget.tree.moveNode(m,y,g),_.tree_widget.element.empty(),_.tree_widget._refreshElements()},!this.tree_widget._triggerEvent("tree.move",{move_info:{moved_node:m,target_node:y,position:b.getName(g),previous_parent:v,do_move:d,original_event:c.original_event}}).isDefaultPrevented()))return d()},DragAndDropHandler.prototype.getTreeDimensions=function(){var c;return{left:(c=this.tree_widget.element.offset()).left,top:c.top,right:c.left+this.tree_widget.element.width(),bottom:c.top+this.tree_widget.element.height()+16}},DragAndDropHandler}(),S=function(){function VisibleNodeIterator(c){this.tree=c}return VisibleNodeIterator.prototype.iterate=function(){var c,d,m;return d=!0,m=this,(c=function(g,y){var _,w,b,S,C,E,x;if(E=(g.is_open||!g.element)&&g.hasChildren(),g.element){if(!(_=v(g.element)).is(":visible"))return;d&&(m.handleFirstNode(g,_),d=!1),g.hasChildren()?g.is_open?m.handleOpenFolder(g,_)||(E=!1):m.handleClosedFolder(g,y,_):m.handleNode(g,y,_)}if(E){for(w=g.children.length,b=S=0,C=(x=g.children).length;S<C;b=++S)x[b],c(g.children[b],b===w-1?null:g.children[b+1]);if(g.is_open)return m.handleAfterOpenFolder(g,y,_)}})(this.tree,null)},VisibleNodeIterator.prototype.handleNode=function(c,d,m){},VisibleNodeIterator.prototype.handleOpenFolder=function(c,d){},VisibleNodeIterator.prototype.handleClosedFolder=function(c,d,m){},VisibleNodeIterator.prototype.handleAfterOpenFolder=function(c,d,m){},VisibleNodeIterator.prototype.handleFirstNode=function(c,d){},VisibleNodeIterator}(),w=function(c){function HitAreasGenerator(c,d,m){HitAreasGenerator.__super__.constructor.call(this,c),this.current_node=d,this.tree_bottom=m}return function(c,d){for(var m in d)x.call(d,m)&&(c[m]=d[m]);function ctor(){this.constructor=c}ctor.prototype=d.prototype,c.prototype=new ctor,c.__super__=d.prototype}(HitAreasGenerator,c),HitAreasGenerator.prototype.generate=function(){return this.positions=[],this.last_top=0,this.iterate(),this.generateHitAreas(this.positions)},HitAreasGenerator.prototype.getTop=function(c){return c.offset().top},HitAreasGenerator.prototype.addPosition=function(c,d,m){var g;return g={top:m,node:c,position:d},this.positions.push(g),this.last_top=m},HitAreasGenerator.prototype.handleNode=function(c,d,m){var g;return g=this.getTop(m),c===this.current_node?this.addPosition(c,b.NONE,g):this.addPosition(c,b.INSIDE,g),d===this.current_node||c===this.current_node?this.addPosition(c,b.NONE,g):this.addPosition(c,b.AFTER,g)},HitAreasGenerator.prototype.handleOpenFolder=function(c,d){return c!==this.current_node&&(c.children[0]!==this.current_node&&this.addPosition(c,b.INSIDE,this.getTop(d)),!0)},HitAreasGenerator.prototype.handleClosedFolder=function(c,d,m){var g;return g=this.getTop(m),c===this.current_node?this.addPosition(c,b.NONE,g):(this.addPosition(c,b.INSIDE,g),d!==this.current_node?this.addPosition(c,b.AFTER,g):void 0)},HitAreasGenerator.prototype.handleFirstNode=function(c,d){if(c!==this.current_node)return this.addPosition(c,b.BEFORE,this.getTop(v(c.element)))},HitAreasGenerator.prototype.handleAfterOpenFolder=function(c,d,m){return c===this.current_node.node||d===this.current_node.node?this.addPosition(c,b.NONE,this.last_top):this.addPosition(c,b.AFTER,this.last_top)},HitAreasGenerator.prototype.generateHitAreas=function(c){var d,m,g,v,y,_;for(_=-1,d=[],m=[],g=0,v=c.length;g<v;g++)(y=c[g]).top!==_&&d.length&&(d.length&&this.generateHitAreasForGroup(m,d,_,y.top),_=y.top,d=[]),d.push(y);return this.generateHitAreasForGroup(m,d,_,this.tree_bottom),m},HitAreasGenerator.prototype.generateHitAreasForGroup=function(c,d,m,g){var v,y,_,w,b;for(b=Math.min(d.length,4),v=Math.round((g-m)/b),y=m,_=0;_<b;)w=d[_],c.push({top:y,bottom:y+v,node:w.node,position:w.position}),y+=v,_+=1;return null},HitAreasGenerator}(S),_=function(){function DragElement(c,d,m,g){var y;this.offset_x=d,this.offset_y=m,y=E.html_escape(c.name),this.$element=v('<span class="jqtree-title jqtree-dragging">'+y+"</span>"),this.$element.css("position","absolute"),g.append(this.$element)}return DragElement.prototype.move=function(c,d){return this.$element.offset({left:c-this.offset_x,top:d-this.offset_y})},DragElement.prototype.remove=function(){return this.$element.remove()},DragElement}(),d.exports={DragAndDropHandler:y,DragElement:_,HitAreasGenerator:w}},{"./node":5,"./util":12}],2:[function(c,d,m){var v,y,_,w;c("./node_element").NodeElement,w=c("./util"),_=w.html_escape,v=g,y=function(){function ElementsRenderer(c){this.tree_widget=c,this.opened_icon_element=this.createButtonElement(c.options.openedIcon),this.closed_icon_element=this.createButtonElement(c.options.closedIcon)}return ElementsRenderer.prototype.render=function(c){return c&&c.parent?this.renderFromNode(c):this.renderFromRoot()},ElementsRenderer.prototype.renderFromRoot=function(){var c;return(c=this.tree_widget.element).empty(),this.createDomElements(c[0],this.tree_widget.tree.children,!0,!0,1)},ElementsRenderer.prototype.renderFromNode=function(c){var d,m;if(d=v(c.element),m=this.createLi(c,c.getLevel()),this.attachNodeData(c,m),d.after(m),d.remove(),c.children)return this.createDomElements(m,c.children,!1,!1,c.getLevel()+1)},ElementsRenderer.prototype.createDomElements=function(c,d,m,g,v){var y,_,w,b,S;for(S=this.createUl(m),c.appendChild(S),_=0,w=d.length;_<w;_++)y=d[_],b=this.createLi(y,v),S.appendChild(b),this.attachNodeData(y,b),y.hasChildren()&&this.createDomElements(b,y.children,!1,y.is_open,v+1);return null},ElementsRenderer.prototype.attachNodeData=function(c,d){return c.element=d,v(d).data("node",c)},ElementsRenderer.prototype.createUl=function(c){var d,m,g;return c?(d="jqtree-tree",m="tree",this.tree_widget.options.rtl&&(d+=" jqtree-rtl")):(d="",m="group"),(g=document.createElement("ul")).className="jqtree_common "+d,g.setAttribute("role",m),g},ElementsRenderer.prototype.createLi=function(c,d){var m,g;return m=this.tree_widget.select_node_handler&&this.tree_widget.select_node_handler.isNodeSelected(c),g=c.isFolder()?this.createFolderLi(c,d,m):this.createNodeLi(c,d,m),this.tree_widget.options.onCreateLi&&this.tree_widget.options.onCreateLi(c,v(g)),g},ElementsRenderer.prototype.createFolderLi=function(c,d,m){var g,v,y,_,w,b;return g=this.getButtonClasses(c),_=this.getFolderClasses(c,m),w=c.is_open?this.opened_icon_element:this.closed_icon_element,(b=document.createElement("li")).className="jqtree_common "+_,b.setAttribute("role","presentation"),(y=document.createElement("div")).className="jqtree-element jqtree_common",y.setAttribute("role","presentation"),b.appendChild(y),(v=document.createElement("a")).className=g,v.appendChild(w.cloneNode(!1)),v.setAttribute("role","presentation"),v.setAttribute("aria-hidden","true"),this.tree_widget.options.buttonLeft&&y.appendChild(v),y.appendChild(this.createTitleSpan(c.name,d,m,c.is_open,!0)),this.tree_widget.options.buttonLeft||y.appendChild(v),b},ElementsRenderer.prototype.createNodeLi=function(c,d,m){var g,v,y,_;return _=["jqtree_common"],m&&_.push("jqtree-selected"),g=_.join(" "),(y=document.createElement("li")).className=g,y.setAttribute("role","presentation"),(v=document.createElement("div")).className="jqtree-element jqtree_common",v.setAttribute("role","presentation"),y.appendChild(v),v.appendChild(this.createTitleSpan(c.name,d,m,c.is_open,!1)),y},ElementsRenderer.prototype.createTitleSpan=function(c,d,m,g,v){var y,_;return y="jqtree-title jqtree_common",v&&(y+=" jqtree-title-folder"),(_=document.createElement("span")).className=y,_.setAttribute("role","treeitem"),_.setAttribute("aria-level",d),_.setAttribute("aria-selected",w.getBoolString(m)),_.setAttribute("aria-expanded",w.getBoolString(g)),m&&_.setAttribute("tabindex",0),_.innerHTML=this.escapeIfNecessary(c),_},ElementsRenderer.prototype.getButtonClasses=function(c){var d;return d=["jqtree-toggler","jqtree_common"],c.is_open||d.push("jqtree-closed"),this.tree_widget.options.buttonLeft?d.push("jqtree-toggler-left"):d.push("jqtree-toggler-right"),d.join(" ")},ElementsRenderer.prototype.getFolderClasses=function(c,d){var m;return m=["jqtree-folder"],c.is_open||m.push("jqtree-closed"),d&&m.push("jqtree-selected"),c.is_loading&&m.push("jqtree-loading"),m.join(" ")},ElementsRenderer.prototype.escapeIfNecessary=function(c){return this.tree_widget.options.autoEscape?_(c):c},ElementsRenderer.prototype.createButtonElement=function(c){var d;return"string"==typeof c?((d=document.createElement("div")).innerHTML=c,document.createTextNode(d.innerHTML)):v(c)[0]},ElementsRenderer}(),d.exports=y},{"./node_element":6,"./util":12}],3:[function(c,d,m){var v,y;v=g,y=function(){function KeyHandler(c){var d,m;this.selectNode=(d=this.selectNode,m=this,function(){return d.apply(m,arguments)}),this.tree_widget=c,c.options.keyboardSupport&&v(document).bind("keydown.jqtree",v.proxy(this.handleKeyDown,this))}return 37,38,39,40,KeyHandler.prototype.deinit=function(){return v(document).unbind("keydown.jqtree")},KeyHandler.prototype.moveDown=function(){var c;return!!(c=this.tree_widget.getSelectedNode())&&this.selectNode(c.getNextNode())},KeyHandler.prototype.moveUp=function(){var c;return!!(c=this.tree_widget.getSelectedNode())&&this.selectNode(c.getPreviousNode())},KeyHandler.prototype.moveRight=function(){var c;return!(c=this.tree_widget.getSelectedNode())||(!c.isFolder()||(c.is_open?this.selectNode(c.getNextNode()):(this.tree_widget.openNode(c),!1)))},KeyHandler.prototype.moveLeft=function(){var c;return!(c=this.tree_widget.getSelectedNode())||(c.isFolder()&&c.is_open?(this.tree_widget.closeNode(c),!1):this.selectNode(c.getParent()))},KeyHandler.prototype.handleKeyDown=function(c){if(!this.tree_widget.options.keyboardSupport)return!0;if(v(document.activeElement).is("textarea,input,select"))return!0;if(!this.tree_widget.getSelectedNode())return!0;switch(c.which){case 40:return this.moveDown();case 38:return this.moveUp();case 39:return this.moveRight();case 37:return this.moveLeft()}return!0},KeyHandler.prototype.selectNode=function(c){return!c||(this.tree_widget.selectNode(c),this.tree_widget.scroll_handler&&!this.tree_widget.scroll_handler.isScrolledIntoView(v(c.element).find(".jqtree-element"))&&this.tree_widget.scrollToNode(c),!1)},KeyHandler}(),d.exports=y},{}],4:[function(c,d,m){var v,y,_,w={}.hasOwnProperty;_=c("./simple.widget"),v=g,y=function(c){function MouseWidget(){return MouseWidget.__super__.constructor.apply(this,arguments)}return function(c,d){for(var m in d)w.call(d,m)&&(c[m]=d[m]);function ctor(){this.constructor=c}ctor.prototype=d.prototype,c.prototype=new ctor,c.__super__=d.prototype}(MouseWidget,c),MouseWidget.is_mouse_handled=!1,MouseWidget.prototype._init=function(){return this.$el.bind("mousedown.mousewidget",v.proxy(this._mouseDown,this)),this.$el.bind("touchstart.mousewidget",v.proxy(this._touchStart,this)),this.is_mouse_started=!1,this.mouse_delay=0,this._mouse_delay_timer=null,this._is_mouse_delay_met=!0,this.mouse_down_info=null},MouseWidget.prototype._deinit=function(){var c;return this.$el.unbind("mousedown.mousewidget"),this.$el.unbind("touchstart.mousewidget"),(c=v(document)).unbind("mousemove.mousewidget"),c.unbind("mouseup.mousewidget")},MouseWidget.prototype._mouseDown=function(c){var d;if(1===c.which)return(d=this._handleMouseDown(c,this._getPositionInfo(c)))&&c.preventDefault(),d},MouseWidget.prototype._handleMouseDown=function(c,d){if(!MouseWidget.is_mouse_handled&&(this.is_mouse_started&&this._handleMouseUp(d),this.mouse_down_info=d,this._mouseCapture(d)))return this._handleStartMouse(),this.is_mouse_handled=!0,!0},MouseWidget.prototype._handleStartMouse=function(){var c;if((c=v(document)).bind("mousemove.mousewidget",v.proxy(this._mouseMove,this)),c.bind("touchmove.mousewidget",v.proxy(this._touchMove,this)),c.bind("mouseup.mousewidget",v.proxy(this._mouseUp,this)),c.bind("touchend.mousewidget",v.proxy(this._touchEnd,this)),this.mouse_delay)return this._startMouseDelayTimer()},MouseWidget.prototype._startMouseDelayTimer=function(){var c;return this._mouse_delay_timer&&clearTimeout(this._mouse_delay_timer),this._mouse_delay_timer=setTimeout((c=this,function(){return c._is_mouse_delay_met=!0}),this.mouse_delay),this._is_mouse_delay_met=!1},MouseWidget.prototype._mouseMove=function(c){return this._handleMouseMove(c,this._getPositionInfo(c))},MouseWidget.prototype._handleMouseMove=function(c,d){return this.is_mouse_started?(this._mouseDrag(d),c.preventDefault()):!(!this.mouse_delay||this._is_mouse_delay_met)||(this.is_mouse_started=!1!==this._mouseStart(this.mouse_down_info),this.is_mouse_started?this._mouseDrag(d):this._handleMouseUp(d),!this.is_mouse_started)},MouseWidget.prototype._getPositionInfo=function(c){return{page_x:c.pageX,page_y:c.pageY,target:c.target,original_event:c}},MouseWidget.prototype._mouseUp=function(c){return this._handleMouseUp(this._getPositionInfo(c))},MouseWidget.prototype._handleMouseUp=function(c){var d;(d=v(document)).unbind("mousemove.mousewidget"),d.unbind("touchmove.mousewidget"),d.unbind("mouseup.mousewidget"),d.unbind("touchend.mousewidget"),this.is_mouse_started&&(this.is_mouse_started=!1,this._mouseStop(c))},MouseWidget.prototype._mouseCapture=function(c){return!0},MouseWidget.prototype._mouseStart=function(c){return null},MouseWidget.prototype._mouseDrag=function(c){return null},MouseWidget.prototype._mouseStop=function(c){return null},MouseWidget.prototype.setMouseDelay=function(c){return this.mouse_delay=c},MouseWidget.prototype._touchStart=function(c){var d;if(!(c.originalEvent.touches.length>1))return d=c.originalEvent.changedTouches[0],this._handleMouseDown(c,this._getPositionInfo(d))},MouseWidget.prototype._touchMove=function(c){var d;if(!(c.originalEvent.touches.length>1))return d=c.originalEvent.changedTouches[0],this._handleMouseMove(c,this._getPositionInfo(d))},MouseWidget.prototype._touchEnd=function(c){var d;if(!(c.originalEvent.touches.length>1))return d=c.originalEvent.changedTouches[0],this._handleMouseUp(this._getPositionInfo(d))},MouseWidget}(_),d.exports=y},{"./simple.widget":10}],5:[function(c,d,m){var v,y,_;v=g,(_={getName:function(c){return _.strings[c-1]},nameToIndex:function(c){var d,m,g;for(d=m=1,g=_.strings.length;1<=g?m<=g:m>=g;d=1<=g?++m:--m)if(_.strings[d-1]===c)return d;return 0}}).BEFORE=1,_.AFTER=2,_.INSIDE=3,_.NONE=4,_.strings=["before","after","inside","none"],y=function(){function Node(c,d,m){null==d&&(d=!1),null==m&&(m=Node),this.name="",this.setData(c),this.children=[],this.parent=null,d&&(this.id_mapping={},this.tree=this,this.node_class=m)}return Node.prototype.setData=function(c){var d,m,g,v;if(v=this,m=function(c){if(null!==c)return v.name=c},"object"!=typeof c)m(c);else for(d in c)g=c[d],"label"===d?m(g):"children"!==d&&(this[d]=g);return null},Node.prototype.initFromData=function(c){var d,m,g;return g=this,m=function(c){if(g.setData(c),c.children)return d(c.children)},d=function(c){return function(d){var m,g,v,y;for(g=0,v=d.length;g<v;g++)m=d[g],(y=new c.tree.node_class("")).initFromData(m),c.addChild(y);return null}}(this),m(c),null},Node.prototype.loadFromData=function(c){var d,m,g,v;for(this.removeChildren(),d=0,m=c.length;d<m;d++)v=c[d],g=new this.tree.node_class(v),this.addChild(g),"object"==typeof v&&v.children&&g.loadFromData(v.children);return null},Node.prototype.addChild=function(c){return this.children.push(c),c._setParent(this)},Node.prototype.addChildAtPosition=function(c,d){return this.children.splice(d,0,c),c._setParent(this)},Node.prototype._setParent=function(c){return this.parent=c,this.tree=c.tree,this.tree.addNodeToIndex(this)},Node.prototype.removeChild=function(c){return c.removeChildren(),this._removeChild(c)},Node.prototype._removeChild=function(c){return this.children.splice(this.getChildIndex(c),1),this.tree.removeNodeFromIndex(c)},Node.prototype.getChildIndex=function(c){return v.inArray(c,this.children)},Node.prototype.hasChildren=function(){return 0!==this.children.length},Node.prototype.isFolder=function(){return this.hasChildren()||this.load_on_demand},Node.prototype.iterate=function(c){var d;return(d=function(m,g){var v,y,_,w;if(m.children){for(y=0,_=(w=m.children).length;y<_;y++)v=w[y],c(v,g)&&v.hasChildren()&&d(v,g+1);return null}})(this,0),null},Node.prototype.moveNode=function(c,d,m){if(!c.isParentOf(d))return c.parent._removeChild(c),m===_.AFTER?d.parent.addChildAtPosition(c,d.parent.getChildIndex(d)+1):m===_.BEFORE?d.parent.addChildAtPosition(c,d.parent.getChildIndex(d)):m===_.INSIDE?d.addChildAtPosition(c,0):void 0},Node.prototype.getData=function(c){var d;return null==c&&(c=!1),(d=function(c){var m,g,v,y,_,w,b;for(m=[],g=0,y=c.length;g<y;g++){for(v in w={},_=c[g])b=_[v],"parent"!==v&&"children"!==v&&"element"!==v&&"tree"!==v&&Object.prototype.hasOwnProperty.call(_,v)&&(w[v]=b);_.hasChildren()&&(w.children=d(_.children)),m.push(w)}return m})(c?[this]:this.children)},Node.prototype.getNodeByName=function(c){return this.getNodeByCallback((function(d){return d.name===c}))},Node.prototype.getNodeByCallback=function(c){var d;return d=null,this.iterate((function(m){return!c(m)||(d=m,!1)})),d},Node.prototype.addAfter=function(c){var d,m;return this.parent?(m=new this.tree.node_class(c),d=this.parent.getChildIndex(this),this.parent.addChildAtPosition(m,d+1),"object"==typeof c&&c.children&&c.children.length&&m.loadFromData(c.children),m):null},Node.prototype.addBefore=function(c){var d,m;return this.parent?(m=new this.tree.node_class(c),d=this.parent.getChildIndex(this),this.parent.addChildAtPosition(m,d),"object"==typeof c&&c.children&&c.children.length&&m.loadFromData(c.children),m):null},Node.prototype.addParent=function(c){var d,m,g,v,y,_;if(this.parent){for((v=new this.tree.node_class(c))._setParent(this.tree),m=0,g=(_=(y=this.parent).children).length;m<g;m++)d=_[m],v.addChild(d);return y.children=[],y.addChild(v),v}return null},Node.prototype.remove=function(){if(this.parent)return this.parent.removeChild(this),this.parent=null},Node.prototype.append=function(c){var d;return d=new this.tree.node_class(c),this.addChild(d),"object"==typeof c&&c.children&&c.children.length&&d.loadFromData(c.children),d},Node.prototype.prepend=function(c){var d;return d=new this.tree.node_class(c),this.addChildAtPosition(d,0),"object"==typeof c&&c.children&&c.children.length&&d.loadFromData(c.children),d},Node.prototype.isParentOf=function(c){var d;for(d=c.parent;d;){if(d===this)return!0;d=d.parent}return!1},Node.prototype.getLevel=function(){var c,d;for(c=0,d=this;d.parent;)c+=1,d=d.parent;return c},Node.prototype.getNodeById=function(c){return this.id_mapping[c]},Node.prototype.addNodeToIndex=function(c){if(null!=c.id)return this.id_mapping[c.id]=c},Node.prototype.removeNodeFromIndex=function(c){if(null!=c.id)return delete this.id_mapping[c.id]},Node.prototype.removeChildren=function(){var c;return this.iterate((c=this,function(d){return c.tree.removeNodeFromIndex(d),!0})),this.children=[]},Node.prototype.getPreviousSibling=function(){var c;return this.parent&&(c=this.parent.getChildIndex(this)-1)>=0?this.parent.children[c]:null},Node.prototype.getNextSibling=function(){var c;return this.parent&&(c=this.parent.getChildIndex(this)+1)<this.parent.children.length?this.parent.children[c]:null},Node.prototype.getNodesByProperty=function(c,d){return this.filter((function(m){return m[c]===d}))},Node.prototype.filter=function(c){var d;return d=[],this.iterate((function(m){return c(m)&&d.push(m),!0})),d},Node.prototype.getNextNode=function(c){return null==c&&(c=!0),c&&this.hasChildren()&&this.is_open?this.children[0]:this.parent?this.getNextSibling()||this.parent.getNextNode(!1):null},Node.prototype.getPreviousNode=function(){var c;return this.parent?(c=this.getPreviousSibling())?c.hasChildren()&&c.is_open?c.getLastChild():c:this.getParent():null},Node.prototype.getParent=function(){return this.parent&&this.parent.parent?this.parent:null},Node.prototype.getLastChild=function(){var c;return this.hasChildren()?(c=this.children[this.children.length-1]).hasChildren()&&c.is_open?c.getLastChild():c:null},Node}(),d.exports={Node:y,Position:_}},{}],6:[function(c,d,m){var v,y,_,w,b,S,C,E={}.hasOwnProperty;C=c("./node"),S=C.Position,v=g,b=function(){function NodeElement(c,d){this.init(c,d)}return NodeElement.prototype.init=function(c,d){return this.node=c,this.tree_widget=d,c.element||(c.element=this.tree_widget.element),this.$element=v(c.element)},NodeElement.prototype.getUl=function(){return this.$element.children("ul:first")},NodeElement.prototype.getSpan=function(){return this.$element.children(".jqtree-element").find("span.jqtree-title")},NodeElement.prototype.getLi=function(){return this.$element},NodeElement.prototype.addDropHint=function(c){return c===S.INSIDE?new y(this.$element):new w(this.node,this.$element,c)},NodeElement.prototype.select=function(){var c;return(c=this.getLi()).addClass("jqtree-selected"),c.attr("aria-selected","true"),this.getSpan().attr("tabindex",0)},NodeElement.prototype.deselect=function(){var c;return(c=this.getLi()).removeClass("jqtree-selected"),c.attr("aria-selected","false"),this.getSpan().attr("tabindex",-1)},NodeElement}(),_=function(c){function FolderElement(){return FolderElement.__super__.constructor.apply(this,arguments)}return function(c,d){for(var m in d)E.call(d,m)&&(c[m]=d[m]);function ctor(){this.constructor=c}ctor.prototype=d.prototype,c.prototype=new ctor,c.__super__=d.prototype}(FolderElement,c),FolderElement.prototype.open=function(c,d){var m,g,v;if(null==d&&(d=!0),!this.node.is_open)return this.node.is_open=!0,(m=this.getButton()).removeClass("jqtree-closed"),m.html(""),m.append(this.tree_widget.renderer.opened_icon_element.cloneNode(!1)),v=this,g=function(){return v.getLi().removeClass("jqtree-closed"),v.getSpan().attr("aria-expanded","true"),c&&c(),v.tree_widget._triggerEvent("tree.open",{node:v.node})},d?this.getUl().slideDown("fast",g):(this.getUl().show(),g())},FolderElement.prototype.close=function(c){var d,m,g;if(null==c&&(c=!0),this.node.is_open)return this.node.is_open=!1,(d=this.getButton()).addClass("jqtree-closed"),d.html(""),d.append(this.tree_widget.renderer.closed_icon_element.cloneNode(!1)),g=this,m=function(){return g.getLi().addClass("jqtree-closed"),g.getSpan().attr("aria-expanded","false"),g.tree_widget._triggerEvent("tree.close",{node:g.node})},c?this.getUl().slideUp("fast",m):(this.getUl().hide(),m())},FolderElement.prototype.getButton=function(){return this.$element.children(".jqtree-element").find("a.jqtree-toggler")},FolderElement.prototype.addDropHint=function(c){return this.node.is_open||c!==S.INSIDE?new w(this.node,this.$element,c):new y(this.$element)},FolderElement}(b),y=function(){function BorderDropHint(c){var d,m;d=c.children(".jqtree-element"),m=c.width()-4,this.$hint=v('<span class="jqtree-border"></span>'),d.append(this.$hint),this.$hint.css({width:m,height:d.outerHeight()-4})}return BorderDropHint.prototype.remove=function(){return this.$hint.remove()},BorderDropHint}(),w=function(){function GhostDropHint(c,d,m){this.$element=d,this.node=c,this.$ghost=v('<li class="jqtree_common jqtree-ghost"><span class="jqtree_common jqtree-circle"></span><span class="jqtree_common jqtree-line"></span></li>'),m===S.AFTER?this.moveAfter():m===S.BEFORE?this.moveBefore():m===S.INSIDE&&(c.isFolder()&&c.is_open?this.moveInsideOpenFolder():this.moveInside())}return GhostDropHint.prototype.remove=function(){return this.$ghost.remove()},GhostDropHint.prototype.moveAfter=function(){return this.$element.after(this.$ghost)},GhostDropHint.prototype.moveBefore=function(){return this.$element.before(this.$ghost)},GhostDropHint.prototype.moveInsideOpenFolder=function(){return v(this.node.children[0].element).before(this.$ghost)},GhostDropHint.prototype.moveInside=function(){return this.$element.after(this.$ghost),this.$ghost.addClass("jqtree-inside")},GhostDropHint}(),d.exports={BorderDropHint:y,FolderElement:_,GhostDropHint:w,NodeElement:b}},{"./node":5}],7:[function(c,d,m){var v,y,_,w;(w=c("./util")).indexOf,_=w.isInt,v=g,y=function(){function SaveStateHandler(c){this.tree_widget=c}return SaveStateHandler.prototype.saveState=function(){var c;return c=JSON.stringify(this.getState()),this.tree_widget.options.onSetStateFromStorage?this.tree_widget.options.onSetStateFromStorage(c):this.supportsLocalStorage()?localStorage.setItem(this.getCookieName(),c):v.cookie?(v.cookie.raw=!0,v.cookie(this.getCookieName(),c,{path:"/"})):void 0},SaveStateHandler.prototype.getStateFromStorage=function(){var c;return(c=this._loadFromStorage())?this._parseState(c):null},SaveStateHandler.prototype._parseState=function(c){var d;return(d=v.parseJSON(c))&&d.selected_node&&_(d.selected_node)&&(d.selected_node=[d.selected_node]),d},SaveStateHandler.prototype._loadFromStorage=function(){return this.tree_widget.options.onGetStateFromStorage?this.tree_widget.options.onGetStateFromStorage():this.supportsLocalStorage()?localStorage.getItem(this.getCookieName()):v.cookie?(v.cookie.raw=!0,v.cookie(this.getCookieName())):null},SaveStateHandler.prototype.getState=function(){var c,d,m;return m=this,c=function(){var c;return c=[],m.tree_widget.tree.iterate((function(d){return d.is_open&&d.id&&d.hasChildren()&&c.push(d.id),!0})),c},d=function(c){return function(){var d;return function(){var c,m,g,v;for(v=[],c=0,m=(g=this.tree_widget.getSelectedNodes()).length;c<m;c++)d=g[c],v.push(d.id);return v}.call(c)}}(this),{open_nodes:c(),selected_node:d()}},SaveStateHandler.prototype.setInitialState=function(c){var d;return!!c&&(d=this._openInitialNodes(c.open_nodes),this._selectInitialNodes(c.selected_node),d)},SaveStateHandler.prototype._openInitialNodes=function(c){var d,m,g,v,y;for(g=!1,d=0,m=c.length;d<m;d++)y=c[d],(v=this.tree_widget.getNodeById(y))&&(v.load_on_demand?g=!0:v.is_open=!0);return g},SaveStateHandler.prototype._selectInitialNodes=function(c){var d,m,g,v,y;for(y=0,d=0,m=c.length;d<m;d++)v=c[d],(g=this.tree_widget.getNodeById(v))&&(y+=1,this.tree_widget.select_node_handler.addToSelection(g));return 0!==y},SaveStateHandler.prototype.setInitialStateOnDemand=function(c,d){return c?this._setInitialStateOnDemand(c.open_nodes,c.selected_node,d):d()},SaveStateHandler.prototype._setInitialStateOnDemand=function(c,d,m){var g,v,y,_;return v=0,_=this,y=function(){var y,w,b,S,C;for(b=[],y=0,w=c.length;y<w;y++)C=c[y],(S=_.tree_widget.getNodeById(C))?S.is_loading||(S.load_on_demand?g(S):_.tree_widget._openNode(S,!1)):b.push(C);if(c=b,_._selectInitialNodes(d)&&_.tree_widget._refreshElements(),0===v)return m()},g=function(c){return function(d){return v+=1,c.tree_widget._openNode(d,!1,(function(){return v-=1,y()}))}}(this),y()},SaveStateHandler.prototype.getCookieName=function(){return"string"==typeof this.tree_widget.options.saveState?this.tree_widget.options.saveState:"tree"},SaveStateHandler.prototype.supportsLocalStorage=function(){var c;return c=function(){var c,d;if("undefined"==typeof localStorage||null===localStorage)return!1;try{d="_storage_test",sessionStorage.setItem(d,!0),sessionStorage.removeItem(d)}catch(c){return c,!1}return!0},null==this._supportsLocalStorage&&(this._supportsLocalStorage=c()),this._supportsLocalStorage},SaveStateHandler.prototype.getNodeIdToBeSelected=function(){var c;return(c=this.getStateFromStorage())&&c.selected_node?c.selected_node[0]:null},SaveStateHandler}(),d.exports=y},{"./util":12}],8:[function(c,d,m){var v,y;v=g,y=function(){function ScrollHandler(c){this.tree_widget=c,this.previous_top=-1,this.is_initialized=!1,this._initScrollParent()}return ScrollHandler.prototype._initScrollParent=function(){var c,d,m,g;return g=this,d=function(){var c,d,m,y,_,w;if(c=["overflow","overflow-y"],m=function(d){var m,g,y,_;for(g=0,y=c.length;g<y;g++)if(m=c[g],"auto"===(_=v.css(d,m))||"scroll"===_)return!0;return!1},m(g.tree_widget.$el[0]))return g.tree_widget.$el;for(y=0,_=(w=g.tree_widget.$el.parents()).length;y<_;y++)if(m(d=w[y]))return v(d);return null},m=function(c){return function(){return c.scroll_parent_top=0,c.$scroll_parent=null}}(this),"fixed"===this.tree_widget.$el.css("position")&&m(),(c=d())&&c.length&&"HTML"!==c[0].tagName?(this.$scroll_parent=c,this.scroll_parent_top=this.$scroll_parent.offset().top):m(),this.is_initialized=!0},ScrollHandler.prototype._ensureInit=function(){if(!this.is_initialized)return this._initScrollParent()},ScrollHandler.prototype.checkScrolling=function(){var c;if(this._ensureInit(),(c=this.tree_widget.dnd_handler.hovered_area)&&c.top!==this.previous_top)return this.previous_top=c.top,this.$scroll_parent?this._handleScrollingWithScrollParent(c):this._handleScrollingWithDocument(c)},ScrollHandler.prototype._handleScrollingWithScrollParent=function(c){return this.scroll_parent_top+this.$scroll_parent[0].offsetHeight-c.bottom<20?(this.$scroll_parent[0].scrollTop+=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1):c.top-this.scroll_parent_top<20?(this.$scroll_parent[0].scrollTop-=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1):void 0},ScrollHandler.prototype._handleScrollingWithDocument=function(c){return c.top-v(document).scrollTop()<20?v(document).scrollTop(v(document).scrollTop()-20):v(window).height()-(c.bottom-v(document).scrollTop())<20?v(document).scrollTop(v(document).scrollTop()+20):void 0},ScrollHandler.prototype.scrollTo=function(c){var d;return this._ensureInit(),this.$scroll_parent?this.$scroll_parent[0].scrollTop=c:(d=this.tree_widget.$el.offset().top,v(document).scrollTop(c+d))},ScrollHandler.prototype.isScrolledIntoView=function(c){var d,m,g,y,_;return this._ensureInit(),d=v(c),this.$scroll_parent?(_=0,y=this.$scroll_parent.height(),m=(g=d.offset().top-this.scroll_parent_top)+d.height()):(y=(_=v(window).scrollTop())+v(window).height(),m=(g=d.offset().top)+d.height()),m<=y&&g>=_},ScrollHandler}(),d.exports=y},{}],9:[function(c,d,m){var g;g=function(){function SelectNodeHandler(c){this.tree_widget=c,this.clear()}return SelectNodeHandler.prototype.getSelectedNode=function(){var c;return!!(c=this.getSelectedNodes()).length&&c[0]},SelectNodeHandler.prototype.getSelectedNodes=function(){var c,d,m;if(this.selected_single_node)return[this.selected_single_node];for(c in m=[],this.selected_nodes)(d=this.tree_widget.getNodeById(c))&&m.push(d);return m},SelectNodeHandler.prototype.getSelectedNodesUnder=function(c){var d,m,g;if(this.selected_single_node)return c.isParentOf(this.selected_single_node)?[this.selected_single_node]:[];for(d in g=[],this.selected_nodes)(m=this.tree_widget.getNodeById(d))&&c.isParentOf(m)&&g.push(m);return g},SelectNodeHandler.prototype.isNodeSelected=function(c){return c.id?this.selected_nodes[c.id]:!!this.selected_single_node&&this.selected_single_node.element===c.element},SelectNodeHandler.prototype.clear=function(){return this.selected_nodes={},this.selected_single_node=null},SelectNodeHandler.prototype.removeFromSelection=function(c,d){if(null==d&&(d=!1),c.id){if(delete this.selected_nodes[c.id],d)return c.iterate((m=this,function(d){return delete m.selected_nodes[c.id],!0}))}else if(this.selected_single_node&&c.element===this.selected_single_node.element)return this.selected_single_node=null;var m},SelectNodeHandler.prototype.addToSelection=function(c){return c.id?this.selected_nodes[c.id]=!0:this.selected_single_node=c},SelectNodeHandler}(),d.exports=g},{}],10:[function(c,d,m){var v,y,_=[].slice;v=g,y=function(){function SimpleWidget(c,d){this.$el=v(c),this.options=v.extend({},this.defaults,d)}return SimpleWidget.prototype.defaults={},SimpleWidget.prototype.destroy=function(){return this._deinit()},SimpleWidget.prototype._init=function(){return null},SimpleWidget.prototype._deinit=function(){return null},SimpleWidget.register=function(c,d){var m,g,y,w,b;return w=function(){return"simple_widget_"+d},b=function(c,d){var m;return(m=v.data(c,d))&&m instanceof SimpleWidget?m:null},g=function(d,m){var g,y,_,S,C;for(g=w(),_=0,S=d.length;_<S;_++)y=d[_],b(y,g)||(C=new c(y,m),v.data(y,g)||v.data(y,g,C),C._init());return d},y=function(c){var d,m,g,y,_,S;for(d=w(),_=[],g=0,y=c.length;g<y;g++)m=c[g],(S=b(m,d))&&S.destroy(),_.push(v.removeData(m,d));return _},m=function(c,d,m){var g,y,_,b,S,C;for(b=null,y=0,_=c.length;y<_;y++)g=c[y],(S=v.data(g,w()))&&S instanceof SimpleWidget&&(C=S[d])&&"function"==typeof C&&(b=C.apply(S,m));return b},v.fn[d]=function(){var d,v,w,b;return w=arguments[0],v=2<=arguments.length?_.call(arguments,1):[],d=this,void 0===w||"object"==typeof w?g(d,w):"string"==typeof w&&"_"!==w[0]?"destroy"===(b=w)?y(d):"get_widget_class"===b?c:m(d,b,v):void 0}},SimpleWidget}(),d.exports=y},{}],11:[function(c,d,m){var v,y,_,w,b,S,C,E,x,k,T,F,N,D,A,I,O,H,q,M,P,L,W,R={}.hasOwnProperty;q=c("./version"),M=c("./drag_and_drop_handler"),b=c("./elements_renderer"),k=c("./key_handler"),T=c("./mouse.widget"),A=c("./save_state_handler"),I=c("./scroll_handler"),O=c("./select_node_handler"),H=c("./simple.widget"),P=c("./node"),F=P.Node,D=P.Position,W=c("./util"),L=c("./node_element"),y=L.BorderDropHint,S=L.FolderElement,C=L.GhostDropHint,N=L.NodeElement,_=M.DragAndDropHandler,w=M.DragElement,E=M.HitAreasGenerator,v=g,x=function(c){function JqTreeWidget(){return JqTreeWidget.__super__.constructor.apply(this,arguments)}return function(c,d){for(var m in d)R.call(d,m)&&(c[m]=d[m]);function ctor(){this.constructor=c}ctor.prototype=d.prototype,c.prototype=new ctor,c.__super__=d.prototype}(JqTreeWidget,c),JqTreeWidget.prototype.BorderDropHint=y,JqTreeWidget.prototype.DragElement=w,JqTreeWidget.prototype.DragAndDropHandler=_,JqTreeWidget.prototype.ElementsRenderer=b,JqTreeWidget.prototype.GhostDropHint=C,JqTreeWidget.prototype.HitAreasGenerator=E,JqTreeWidget.prototype.Node=F,JqTreeWidget.prototype.SaveStateHandler=A,JqTreeWidget.prototype.ScrollHandler=I,JqTreeWidget.prototype.SelectNodeHandler=O,JqTreeWidget.prototype.defaults={autoOpen:!1,saveState:!1,dragAndDrop:!1,selectable:!0,useContextMenu:!0,onCanSelectNode:null,onSetStateFromStorage:null,onGetStateFromStorage:null,onCreateLi:null,onIsMoveHandle:null,onCanMove:null,onCanMoveTo:null,onLoadFailed:null,autoEscape:!0,dataUrl:null,closedIcon:null,openedIcon:"&#x25bc;",slide:!0,nodeClass:F,dataFilter:null,keyboardSupport:!0,openFolderDelay:500,rtl:null,onDragMove:null,onDragStop:null,buttonLeft:!0,onLoading:null},JqTreeWidget.prototype.toggle=function(c,d){return null==d&&(d=null),null===d&&(d=this.options.slide),c.is_open?this.closeNode(c,d):this.openNode(c,d),this.element},JqTreeWidget.prototype.getTree=function(){return this.tree},JqTreeWidget.prototype.selectNode=function(c){return this._selectNode(c,!1),this.element},JqTreeWidget.prototype._selectNode=function(c,d){var m,g,v,y;if(null==d&&(d=!1),this.select_node_handler){var _;if(_=this,m=function(){return _.options.onCanSelectNode?_.options.selectable&&_.options.onCanSelectNode(c):_.options.selectable},v=function(d){return function(){var m;if((m=c.parent)&&m.parent&&!m.is_open)return d.openNode(m,!1)}}(this),y=function(c){return function(){if(c.options.saveState)return c.save_state_handler.saveState()}}(this),!c)return this._deselectCurrentNode(),void y();if(m())return this.select_node_handler.isNodeSelected(c)?d&&(this._deselectCurrentNode(),this._triggerEvent("tree.select",{node:null,previous_node:c})):(g=this.getSelectedNode(),this._deselectCurrentNode(),this.addToSelection(c),this._triggerEvent("tree.select",{node:c,deselected_node:g}),v()),y()}},JqTreeWidget.prototype.getSelectedNode=function(){return this.select_node_handler?this.select_node_handler.getSelectedNode():null},JqTreeWidget.prototype.toJson=function(){return JSON.stringify(this.tree.getData())},JqTreeWidget.prototype.loadData=function(c,d){return this._loadData(c,d),this.element},JqTreeWidget.prototype.loadDataFromUrl=function(c,d,m){return"string"===v.type(c)?this._loadDataFromUrl(c,d,m):this._loadDataFromUrl(null,c,d),this.element},JqTreeWidget.prototype.reload=function(c){return this._loadDataFromUrl(null,null,c),this.element},JqTreeWidget.prototype._loadDataFromUrl=function(c,d,m){var g,y,_,w,b,S,C,E,x;g=null,x=this,y=function(){return(g=d?v(d.element):x.element).addClass("jqtree-loading"),x._notifyLoading(!0,d,g)},E=function(c){return function(){if(g)return g.removeClass("jqtree-loading"),c._notifyLoading(!1,d,g)}}(this),C=function(){return"string"===v.type(c)?{url:c}:(c.method||(c.method="get"),c)},_=function(c){return function(g){if(E(),c._loadData(g,d),m&&v.isFunction(m))return m()}}(this),b=function(c){return function(d){var m;return m=v.isArray(d)||"object"==typeof d?d:null!=m?v.parseJSON(d):[],c.options.dataFilter&&(m=c.options.dataFilter(m)),_(m)}}(this),w=function(c){return function(d){if(E(),c.options.onLoadFailed)return c.options.onLoadFailed(d)}}(this),S=function(){return c=C(),v.ajax(v.extend({},c,{method:null!=c.method?c.method.toUpperCase():"GET",cache:!1,dataType:"json",success:b,error:w}))},c||(c=this._getDataUrlInfo(d)),y(),c?v.isArray(c)?_(c):S():E()},JqTreeWidget.prototype._loadData=function(c,d){var m,g,v;if(null==d&&(d=null),v=this,m=function(){var c,m,g,y;if(v.select_node_handler)for(c=0,m=(y=v.select_node_handler.getSelectedNodesUnder(d)).length;c<m;c++)g=y[c],v.select_node_handler.removeFromSelection(g);return null},g=function(m){return function(){return d.loadFromData(c),d.load_on_demand=!1,d.is_loading=!1,m._refreshElements(d)}}(this),c)return this._triggerEvent("tree.load_data",{tree_data:c}),d?(m(),g()):this._initTree(c),this.isDragging()?this.dnd_handler.refresh():void 0},JqTreeWidget.prototype.getNodeById=function(c){return this.tree.getNodeById(c)},JqTreeWidget.prototype.getNodeByName=function(c){return this.tree.getNodeByName(c)},JqTreeWidget.prototype.getNodesByProperty=function(c,d){return this.tree.getNodesByProperty(c,d)},JqTreeWidget.prototype.getNodeByHtmlElement=function(c){return this._getNode(v(c))},JqTreeWidget.prototype.getNodeByCallback=function(c){return this.tree.getNodeByCallback(c)},JqTreeWidget.prototype.openNode=function(c,d){return null==d&&(d=null),null===d&&(d=this.options.slide),this._openNode(c,d),this.element},JqTreeWidget.prototype._openNode=function(c,d,m){var g,v,y;if(null==d&&(d=!0),y=this,g=function(c,d,m){return new S(c,y).open(m,d)},c.isFolder()){if(c.load_on_demand)return this._loadFolderOnDemand(c,d,m);for(v=c.parent;v;)v.parent&&g(v,!1,null),v=v.parent;return g(c,d,m),this._saveState()}},JqTreeWidget.prototype._loadFolderOnDemand=function(c,d,m){return null==d&&(d=!0),c.is_loading=!0,this._loadDataFromUrl(null,c,(g=this,function(){return g._openNode(c,d,m)}));var g},JqTreeWidget.prototype.closeNode=function(c,d){return null==d&&(d=null),null===d&&(d=this.options.slide),c.isFolder()&&(new S(c,this).close(d),this._saveState()),this.element},JqTreeWidget.prototype.isDragging=function(){return!!this.dnd_handler&&this.dnd_handler.is_dragging},JqTreeWidget.prototype.refreshHitAreas=function(){return this.dnd_handler.refresh(),this.element},JqTreeWidget.prototype.addNodeAfter=function(c,d){var m;return m=d.addAfter(c),this._refreshElements(d.parent),m},JqTreeWidget.prototype.addNodeBefore=function(c,d){var m;return m=d.addBefore(c),this._refreshElements(d.parent),m},JqTreeWidget.prototype.addParentNode=function(c,d){var m;return m=d.addParent(c),this._refreshElements(m.parent),m},JqTreeWidget.prototype.removeNode=function(c){var d;return(d=c.parent)&&(this.select_node_handler.removeFromSelection(c,!0),c.remove(),this._refreshElements(d)),this.element},JqTreeWidget.prototype.appendNode=function(c,d){var m;return m=(d=d||this.tree).append(c),this._refreshElements(d),m},JqTreeWidget.prototype.prependNode=function(c,d){var m;return d||(d=this.tree),m=d.prepend(c),this._refreshElements(d),m},JqTreeWidget.prototype.updateNode=function(c,d){var m;return(m=d.id&&d.id!==c.id)&&this.tree.removeNodeFromIndex(c),c.setData(d),m&&this.tree.addNodeToIndex(c),"object"==typeof d&&d.children&&d.children.length&&(c.removeChildren(),c.loadFromData(d.children)),this.renderer.renderFromNode(c),this._selectCurrentNode(),this.element},JqTreeWidget.prototype.moveNode=function(c,d,m){var g;return g=D.nameToIndex(m),this.tree.moveNode(c,d,g),this._refreshElements(),this.element},JqTreeWidget.prototype.getStateFromStorage=function(){return this.save_state_handler.getStateFromStorage()},JqTreeWidget.prototype.addToSelection=function(c){return c&&(this.select_node_handler.addToSelection(c),this._getNodeElementForNode(c).select(),this._saveState()),this.element},JqTreeWidget.prototype.getSelectedNodes=function(){return this.select_node_handler.getSelectedNodes()},JqTreeWidget.prototype.isNodeSelected=function(c){return this.select_node_handler.isNodeSelected(c)},JqTreeWidget.prototype.removeFromSelection=function(c){return this.select_node_handler.removeFromSelection(c),this._getNodeElementForNode(c).deselect(),this._saveState(),this.element},JqTreeWidget.prototype.scrollToNode=function(c){var d;return d=v(c.element).offset().top-this.$el.offset().top,this.scroll_handler.scrollTo(d),this.element},JqTreeWidget.prototype.getState=function(){return this.save_state_handler.getState()},JqTreeWidget.prototype.setState=function(c){return this.save_state_handler.setInitialState(c),this._refreshElements(),this.element},JqTreeWidget.prototype.setOption=function(c,d){return this.options[c]=d,this.element},JqTreeWidget.prototype.moveDown=function(){return this.key_handler&&this.key_handler.moveDown(),this.element},JqTreeWidget.prototype.moveUp=function(){return this.key_handler&&this.key_handler.moveUp(),this.element},JqTreeWidget.prototype.getVersion=function(){return q},JqTreeWidget.prototype._init=function(){if(JqTreeWidget.__super__._init.call(this),this.element=this.$el,this.mouse_delay=300,this.is_initialized=!1,this.options.rtl=this._getRtlOption(),this.options.closedIcon||(this.options.closedIcon=this._getDefaultClosedIcon()),this.renderer=new b(this),null!=A?this.save_state_handler=new A(this):this.options.saveState=!1,null!=O&&(this.select_node_handler=new O(this)),null!=_?this.dnd_handler=new _(this):this.options.dragAndDrop=!1,null!=I&&(this.scroll_handler=new I(this)),null!=k&&null!=O&&(this.key_handler=new k(this)),this._initData(),this.element.click(v.proxy(this._click,this)),this.element.dblclick(v.proxy(this._dblclick,this)),this.options.useContextMenu)return this.element.bind("contextmenu",v.proxy(this._contextmenu,this))},JqTreeWidget.prototype._deinit=function(){return this.element.empty(),this.element.unbind(),this.key_handler&&this.key_handler.deinit(),this.tree=null,JqTreeWidget.__super__._deinit.call(this)},JqTreeWidget.prototype._initData=function(){return this.options.data?this._loadData(this.options.data):this._loadDataFromUrl(this._getDataUrlInfo())},JqTreeWidget.prototype._getDataUrlInfo=function(c){var d,m,g;return d=this.options.dataUrl||this.element.data("url"),g=this,m=function(){var m,v,y;return y={url:d},c&&c.id?(m={node:c.id},y.data=m):(v=g._getNodeIdToBeSelected())&&(m={selected_node:v},y.data=m),y},v.isFunction(d)?d(c):"string"===v.type(d)?m():d},JqTreeWidget.prototype._getNodeIdToBeSelected=function(){return this.options.saveState?this.save_state_handler.getNodeIdToBeSelected():null},JqTreeWidget.prototype._initTree=function(c){var d,m,g;return g=this,d=function(){if(!g.is_initialized)return g.is_initialized=!0,g._triggerEvent("tree.init")},this.tree=new this.options.nodeClass(null,!0,this.options.nodeClass),this.select_node_handler&&this.select_node_handler.clear(),this.tree.loadFromData(c),m=this._setInitialState(),this._refreshElements(),m?this._setInitialStateOnDemand(d):d()},JqTreeWidget.prototype._setInitialState=function(){var c,d,m,g,v,y;return y=this,v=function(){var c;return y.options.saveState&&y.save_state_handler&&(c=y.save_state_handler.getStateFromStorage())?[!0,y.save_state_handler.setInitialState(c)]:[!1,!1]},c=function(c){return function(){var d,m;return!1!==c.options.autoOpen&&(d=c._getAutoOpenMaxLevel(),m=!1,c.tree.iterate((function(c,g){return c.load_on_demand?(m=!0,!1):!!c.hasChildren()&&(c.is_open=!0,g!==d)})),m)}}(this),d=(g=v())[0],m=g[1],d||(m=c()),m},JqTreeWidget.prototype._setInitialStateOnDemand=function(c){var d,m,g;if(g=this,m=function(){var d;return!(!g.options.saveState||!g.save_state_handler||!(d=g.save_state_handler.getStateFromStorage())||(g.save_state_handler.setInitialStateOnDemand(d,c),0))},d=function(d){return function(){var m,g,v,y;return v=d._getAutoOpenMaxLevel(),g=0,m=function(c){return g+=1,d._openNode(c,!1,(function(){return g-=1,y()}))},(y=function(){if(d.tree.iterate((function(c,g){return c.load_on_demand?(c.is_loading||m(c),!1):(d._openNode(c,!1),g!==v)})),0===g)return c()})()}}(this),!m())return d()},JqTreeWidget.prototype._getAutoOpenMaxLevel=function(){return!0===this.options.autoOpen?-1:parseInt(this.options.autoOpen)},JqTreeWidget.prototype._refreshElements=function(c){return null==c&&(c=null),this.renderer.render(c),this._triggerEvent("tree.refresh")},JqTreeWidget.prototype._click=function(c){var d,m;if(d=this._getClickTarget(c.target)){if("button"===d.type)return this.toggle(d.node,this.options.slide),c.preventDefault(),c.stopPropagation();if("label"===d.type&&(m=d.node,!this._triggerEvent("tree.click",{node:m,click_event:c}).isDefaultPrevented()))return this._selectNode(m,!0)}},JqTreeWidget.prototype._dblclick=function(c){var d;if((d=this._getClickTarget(c.target))&&"label"===d.type)return this._triggerEvent("tree.dblclick",{node:d.node,click_event:c})},JqTreeWidget.prototype._getClickTarget=function(c){var d,m,g,y;if((d=(g=v(c)).closest(".jqtree-toggler")).length){if(y=this._getNode(d))return{type:"button",node:y}}else if((m=g.closest(".jqtree-element")).length&&(y=this._getNode(m)))return{type:"label",node:y};return null},JqTreeWidget.prototype._getNode=function(c){var d;return 0===(d=c.closest("li.jqtree_common")).length?null:d.data("node")},JqTreeWidget.prototype._getNodeElementForNode=function(c){return c.isFolder()?new S(c,this):new N(c,this)},JqTreeWidget.prototype._getNodeElement=function(c){var d;return(d=this._getNode(c))?this._getNodeElementForNode(d):null},JqTreeWidget.prototype._contextmenu=function(c){var d,m;if((d=v(c.target).closest("ul.jqtree-tree .jqtree-element")).length&&(m=this._getNode(d)))return c.preventDefault(),c.stopPropagation(),this._triggerEvent("tree.contextmenu",{node:m,click_event:c}),!1},JqTreeWidget.prototype._saveState=function(){if(this.options.saveState)return this.save_state_handler.saveState()},JqTreeWidget.prototype._mouseCapture=function(c){return!!this.options.dragAndDrop&&this.dnd_handler.mouseCapture(c)},JqTreeWidget.prototype._mouseStart=function(c){return!!this.options.dragAndDrop&&this.dnd_handler.mouseStart(c)},JqTreeWidget.prototype._mouseDrag=function(c){var d;return!!this.options.dragAndDrop&&(d=this.dnd_handler.mouseDrag(c),this.scroll_handler&&this.scroll_handler.checkScrolling(),d)},JqTreeWidget.prototype._mouseStop=function(c){return!!this.options.dragAndDrop&&this.dnd_handler.mouseStop(c)},JqTreeWidget.prototype._triggerEvent=function(c,d){var m;return m=v.Event(c),v.extend(m,d),this.element.trigger(m),m},JqTreeWidget.prototype.testGenerateHitAreas=function(c){return this.dnd_handler.current_item=this._getNodeElementForNode(c),this.dnd_handler.generateHitAreas(),this.dnd_handler.hit_areas},JqTreeWidget.prototype._selectCurrentNode=function(){var c,d;if((c=this.getSelectedNode())&&(d=this._getNodeElementForNode(c)))return d.select()},JqTreeWidget.prototype._deselectCurrentNode=function(){var c;if(c=this.getSelectedNode())return this.removeFromSelection(c)},JqTreeWidget.prototype._getDefaultClosedIcon=function(){return this.options.rtl?"&#x25c0;":"&#x25ba;"},JqTreeWidget.prototype._getRtlOption=function(){var c;return null!==this.options.rtl?this.options.rtl:null!=(c=this.element.data("rtl"))&&!1!==c},JqTreeWidget.prototype._notifyLoading=function(c,d,m){if(this.options.onLoading)return this.options.onLoading(c,d,m)},JqTreeWidget}(T),x.getModule=function(c){return{node:P,util:W,drag_and_drop_handler:M}[c]},H.register(x,"tree")},{"./drag_and_drop_handler":1,"./elements_renderer":2,"./key_handler":3,"./mouse.widget":4,"./node":5,"./node_element":6,"./save_state_handler":7,"./scroll_handler":8,"./select_node_handler":9,"./simple.widget":10,"./util":12,"./version":13}],12:[function(c,d,m){var g,v,y,_,w;g=function(c,d){var m,g,v;for(m=g=0,v=c.length;g<v;m=++g)if(c[m]===d)return m;return-1},_=function(c,d){return c.indexOf?c.indexOf(d):g(c,d)},w=function(c){return"number"==typeof c&&c%1==0},y=function(c){return(""+c).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},v=function(c){return c?"true":"false"},d.exports={_indexOf:g,getBoolString:v,html_escape:y,indexOf:_,isInt:w}},{}],13:[function(c,d,m){d.exports="1.3.4"},{}]},{},[11])},16950:function(c,d,m){var g,v=m(20198);void 0===(g=v).fn.each2&&g.extend(g.fn,{each2:function(c){for(var d=g([0]),m=-1,v=this.length;++m<v&&(d.context=d[0]=this[m])&&!1!==c.call(d[0],m,d););return this}}),function(c,d){"use strict";if(window.Select2===d){var m,g,v,y,_,w,b,S,C={x:0,y:0},E={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(c){switch(c=c.which?c.which:c){case E.LEFT:case E.RIGHT:case E.UP:case E.DOWN:return!0}return!1},isControl:function(c){switch(c.which){case E.SHIFT:case E.CTRL:case E.ALT:return!0}return!!c.metaKey},isFunctionKey:function(c){return(c=c.which?c.which:c)>=112&&c<=123}},x={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};w=c(document),S=1,y=function(){return S++},m=clazz(Object,{bind:function(c){var d=this;return function(){c.apply(d,arguments)}},init:function(m){var g,v,_=".select2-results";this.opts=m=this.prepareOpts(m),this.id=m.id,m.element.data("select2")!==d&&null!==m.element.data("select2")&&m.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=c("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(m.element.attr("id")||"autogen"+y()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",m.element.attr("title")),this.body=c("body"),syncCssClasses(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",m.element.attr("style")),this.container.css(evaluate(m.containerCss,this.opts.element)),this.container.addClass(evaluate(m.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",killEvent),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),syncCssClasses(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(evaluate(m.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",killEvent),this.results=g=this.container.find(_),this.search=v=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",killEvent),this.results.on("mousemove",(function(m){var g=C;g!==d&&g.x===m.pageX&&g.y===m.pageY||c(m.target).trigger("mousemove-filtered",m)})),this.dropdown.on("mousemove-filtered",_,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",_,this.bind((function(c){this._touchEvent=!0,this.highlightUnderEvent(c)}))),this.dropdown.on("touchmove",_,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",_,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind((function(c){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())}))),function(c,d){var m=debounce(c,(function(c){d.trigger("scroll-debounced",c)}));d.on("scroll",(function(c){indexOf(c.target,d.get())>=0&&m(c)}))}(80,this.results),this.dropdown.on("scroll-debounced",_,this.bind(this.loadMoreIfNeeded)),c(this.container).on("change",".select2-input",(function(c){c.stopPropagation()})),c(this.dropdown).on("change",".select2-input",(function(c){c.stopPropagation()})),c.fn.mousewheel&&g.mousewheel((function(c,d,m,v){var y=g.scrollTop();v>0&&y-v<=0?(g.scrollTop(0),killEvent(c)):v<0&&g.get(0).scrollHeight-g.scrollTop()+v<=g.height()&&(g.scrollTop(g.get(0).scrollHeight-g.height()),killEvent(c))})),installKeyUpChangeEvent(v),v.on("keyup-change input paste",this.bind(this.updateResults)),v.on("focus",(function(){v.addClass("select2-focused")})),v.on("blur",(function(){v.removeClass("select2-focused")})),this.dropdown.on("mouseup",_,this.bind((function(d){c(d.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(d),this.selectHighlighted(d))}))),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",(function(c){c.stopPropagation()})),this.nextSearchTerm=d,c.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==m.maximumInputLength&&this.search.attr("maxlength",m.maximumInputLength);var w=m.element.prop("disabled");w===d&&(w=!1),this.enable(!w);var S=m.element.prop("readonly");S===d&&(S=!1),this.readonly(S),b=b||function(){var d=c("<div class='select2-measure-scrollbar'></div>");d.appendTo("body");var m={width:d.width()-d[0].clientWidth,height:d.height()-d[0].clientHeight};return d.remove(),m}(),this.autofocus=m.element.prop("autofocus"),m.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",m.searchInputPlaceholder)},destroy:function(){var c=this.opts.element,m=c.data("select2"),g=this;this.close(),c.length&&c[0].detachEvent&&c.each((function(){this.detachEvent("onpropertychange",g._sync)})),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,m!==d&&(m.container.remove(),m.liveRegion.remove(),m.dropdown.remove(),c.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?c.attr({tabindex:this.elementTabIndex}):c.removeAttr("tabindex"),c.show()),cleanupJQueryElements.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(c){return c.is("option")?{id:c.prop("value"),text:c.text(),element:c.get(),css:c.attr("class"),disabled:c.prop("disabled"),locked:equal(c.attr("locked"),"locked")||equal(c.data("locked"),!0)}:c.is("optgroup")?{text:c.attr("label"),children:[],element:c.get(),css:c.attr("class")}:void 0},prepareOpts:function(m){var g,v,_,w,b=this;if("select"===(g=m.element).get(0).tagName.toLowerCase()&&(this.select=v=m.element),v&&c.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],(function(){if(this in m)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")})),"function"!=typeof(m=c.extend({},{populateResults:function(g,v,_){var w,S=this.opts.id,C=this.liveRegion;w=function(g,v,E){var x,k,T,F,N,D,A,I,O,H,q=[];for(x=0,k=(g=m.sortResults(g,v,_)).length;x<k;x+=1)F=!(N=!0===(T=g[x]).disabled)&&S(T)!==d,D=T.children&&T.children.length>0,(A=c("<li></li>")).addClass("select2-results-dept-"+E),A.addClass("select2-result"),A.addClass(F?"select2-result-selectable":"select2-result-unselectable"),N&&A.addClass("select2-disabled"),D&&A.addClass("select2-result-with-children"),A.addClass(b.opts.formatResultCssClass(T)),A.attr("role","presentation"),(I=c(document.createElement("div"))).addClass("select2-result-label"),I.attr("id","select2-result-label-"+y()),I.attr("role","option"),(H=m.formatResult(T,I,_,b.opts.escapeMarkup))!==d&&(I.html(H),A.append(I)),D&&((O=c("<ul></ul>")).addClass("select2-result-sub"),w(T.children,O,E+1),A.append(O)),A.data("select2-data",T),q.push(A[0]);v.append(q),C.text(m.formatMatches(g.length))},w(v,g,0)}},c.fn.select2.defaults,m)).id&&(_=m.id,m.id=function(c){return c[_]}),c.isArray(m.element.data("select2Tags"))){if("tags"in m)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+m.element.attr("id");m.tags=m.element.data("select2Tags")}if(v?(m.query=this.bind((function(c){var m,v,y,_={results:[],more:!1},w=c.term;y=function(d,m){var g;d.is("option")?c.matcher(w,d.text(),d)&&m.push(b.optionToData(d)):d.is("optgroup")&&(g=b.optionToData(d),d.children().each2((function(c,d){y(d,g.children)})),g.children.length>0&&m.push(g))},m=g.children(),this.getPlaceholder()!==d&&m.length>0&&(v=this.getPlaceholderOption())&&(m=m.not(v)),m.each2((function(c,d){y(d,_.results)})),c.callback(_)})),m.id=function(c){return c.id}):"query"in m||("ajax"in m?((w=m.element.data("ajax-url"))&&w.length>0&&(m.ajax.url=w),m.query=ajax.call(m.element,m.ajax)):"data"in m?m.query=local(m.data):"tags"in m&&(m.query=tags(m.tags),m.createSearchChoice===d&&(m.createSearchChoice=function(d){return{id:c.trim(d),text:c.trim(d)}}),m.initSelection===d&&(m.initSelection=function(d,g){var v=[];c(splitVal(d.val(),m.separator)).each((function(){var d={id:this,text:this},g=m.tags;c.isFunction(g)&&(g=g()),c(g).each((function(){if(equal(this.id,d.id))return d=this,!1})),v.push(d)})),g(v)}))),"function"!=typeof m.query)throw"query function not defined for Select2 "+m.element.attr("id");if("top"===m.createSearchChoicePosition)m.createSearchChoicePosition=function(c,d){c.unshift(d)};else if("bottom"===m.createSearchChoicePosition)m.createSearchChoicePosition=function(c,d){c.push(d)};else if("function"!=typeof m.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return m},monitorSource:function(){var m,g=this.opts.element,v=this;g.on("change.select2",this.bind((function(c){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))),this._sync=this.bind((function(){var c=g.prop("disabled");c===d&&(c=!1),this.enable(!c);var m=g.prop("readonly");m===d&&(m=!1),this.readonly(m),syncCssClasses(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(evaluate(this.opts.containerCssClass,this.opts.element)),syncCssClasses(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(evaluate(this.opts.dropdownCssClass,this.opts.element))})),g.length&&g[0].attachEvent&&g.each((function(){this.attachEvent("onpropertychange",v._sync)})),(m=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==d&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new m((function(d){c.each(d,v._sync)})),this.propertyObserver.observe(g.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(d){var m=c.Event("select2-selecting",{val:this.id(d),object:d,choice:d});return this.opts.element.trigger(m),!m.isDefaultPrevented()},triggerChange:function(d){d=d||{},d=c.extend({},d,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(d),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var c=this._enabled&&!this._readonly,d=!c;return c!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",d),this.close(),this.enabledInterface=c,!0)},enable:function(c){c===d&&(c=!0),this._enabled!==c&&(this._enabled=c,this.opts.element.prop("disabled",!c),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(c){c===d&&(c=!1),this._readonly!==c&&(this._readonly=c,this.opts.element.prop("readonly",c),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var d,m,g,v,y,_=this.dropdown,w=this.container.offset(),S=this.container.outerHeight(!1),C=this.container.outerWidth(!1),E=_.outerHeight(!1),x=c(window),k=x.width(),T=x.height(),F=x.scrollLeft()+k,N=x.scrollTop()+T,D=w.top+S,A=w.left,I=D+E<=N,O=w.top-E>=x.scrollTop(),H=_.outerWidth(!1),q=A+H<=F;_.hasClass("select2-drop-above")?(m=!0,!O&&I&&(g=!0,m=!1)):(m=!1,!I&&O&&(g=!0,m=!0)),g&&(_.hide(),w=this.container.offset(),S=this.container.outerHeight(!1),C=this.container.outerWidth(!1),E=_.outerHeight(!1),F=x.scrollLeft()+k,N=x.scrollTop()+T,D=w.top+S,q=(A=w.left)+(H=_.outerWidth(!1))<=F,_.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(y=c(".select2-results",_)[0],_.addClass("select2-drop-auto-width"),_.css("width",""),(H=_.outerWidth(!1)+(y.scrollHeight===y.clientHeight?0:b.width))>C?C=H:H=C,E=_.outerHeight(!1),q=A+H<=F):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(D-=(d=this.body.offset()).top,A-=d.left),q||(A=w.left+this.container.outerWidth(!1)-H),v={left:A,width:C},m?(v.top=w.top-E,v.bottom="auto",this.container.addClass("select2-drop-above"),_.addClass("select2-drop-above")):(v.top=D,v.bottom="auto",this.container.removeClass("select2-drop-above"),_.removeClass("select2-drop-above")),v=c.extend(v,evaluate(this.opts.dropdownCss,this.opts.element)),_.css(v)},shouldOpen:function(){var d;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(d=c.Event("select2-opening"),this.opts.element.trigger(d),!d.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),w.on("mousemove.select2Event",(function(c){C.x=c.pageX,C.y=c.pageY})),!0)},opening:function(){var d,m=this.containerEventName,g="scroll."+m,v="resize."+m,y="orientationchange."+m;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0==(d=c("#select2-drop-mask")).length&&((d=c(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),d.hide(),d.appendTo(this.body),d.on("mousedown touchstart click",(function(m){reinsertElement(d);var g,v=c("#select2-drop");v.length>0&&((g=v.data("select2")).opts.selectOnBlur&&g.selectHighlighted({noFocus:!0}),g.close(),m.preventDefault(),m.stopPropagation())}))),this.dropdown.prev()[0]!==d[0]&&this.dropdown.before(d),c("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),d.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var _=this;this.container.parents().add(window).each((function(){c(this).on(v+" "+g+" "+y,(function(c){_.opened()&&_.positionDropdown()}))}))},close:function(){if(this.opened()){var d=this.containerEventName,m="scroll."+d,g="resize."+d,v="orientationchange."+d;this.container.parents().add(window).each((function(){c(this).off(m).off(g).off(v)})),this.clearDropdownAlignmentPreference(),c("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),w.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(c.Event("select2-close"))}},externalSearch:function(c){this.open(),this.search.val(c),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return evaluate(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var d,m,g,v,y,_,w,b,S=this.results;(m=this.highlight())<0||(0!=m?(d=this.findHighlightableChoices().find(".select2-result-label"),v=(b=((g=c(d[m])).offset()||{}).top||0)+g.outerHeight(!0),m===d.length-1&&(w=S.find("li.select2-more-results")).length>0&&(v=w.offset().top+w.outerHeight(!0)),v>(y=S.offset().top+S.outerHeight(!0))&&S.scrollTop(S.scrollTop()+(v-y)),(_=b-S.offset().top)<0&&"none"!=g.css("display")&&S.scrollTop(S.scrollTop()+_)):S.scrollTop(0))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(d){for(var m=this.findHighlightableChoices(),g=this.highlight();g>-1&&g<m.length;){var v=c(m[g+=d]);if(v.hasClass("select2-result-selectable")&&!v.hasClass("select2-disabled")&&!v.hasClass("select2-selected")){this.highlight(g);break}}},highlight:function(d){var m,g,v=this.findHighlightableChoices();if(0===arguments.length)return indexOf(v.filter(".select2-highlighted")[0],v.get());d>=v.length&&(d=v.length-1),d<0&&(d=0),this.removeHighlight(),(m=c(v[d])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",m.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(m.text()),(g=m.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(g),choice:g})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(d){var m=c(d.target).closest(".select2-result-selectable");if(m.length>0&&!m.is(".select2-highlighted")){var g=this.findHighlightableChoices();this.highlight(g.index(m))}else 0==m.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var c=this.results,d=c.find("li.select2-more-results"),m=this.resultsPage+1,g=this,v=this.search.val(),y=this.context;0!==d.length&&d.offset().top-c.offset().top-c.height()<=this.opts.loadMorePadding&&(d.addClass("select2-active"),this.opts.query({element:this.opts.element,term:v,page:m,context:y,matcher:this.opts.matcher,callback:this.bind((function(_){g.opened()&&(g.opts.populateResults.call(this,c,_.results,{term:v,page:m,context:y}),g.postprocessResults(_,!1,!1),!0===_.more?(d.detach().appendTo(c).text(evaluate(g.opts.formatLoadMore,g.opts.element,m+1)),window.setTimeout((function(){g.loadMoreIfNeeded()}),10)):d.remove(),g.positionDropdown(),g.resultsPage=m,g.context=_.context,this.opts.element.trigger({type:"select2-loaded",items:_}))}))}))},tokenize:function(){},updateResults:function(m){var g,v,y,_=this.search,w=this.results,b=this.opts,S=this,C=_.val(),E=c.data(this.container,"select2-last-term");if((!0===m||!E||!equal(C,E))&&(c.data(this.container,"select2-last-term",C),!0===m||!1!==this.showSearchInput&&this.opened())){y=++this.queryCount;var x=this.getMaximumSelectionSize();if(!(x>=1&&(g=this.data(),c.isArray(g)&&g.length>=x&&checkFormatter(b.formatSelectionTooBig,"formatSelectionTooBig"))))return _.val().length<b.minimumInputLength?(checkFormatter(b.formatInputTooShort,"formatInputTooShort")?render("<li class='select2-no-results'>"+evaluate(b.formatInputTooShort,b.element,_.val(),b.minimumInputLength)+"</li>"):render(""),void(m&&this.showSearch&&this.showSearch(!0))):void(b.maximumInputLength&&_.val().length>b.maximumInputLength?checkFormatter(b.formatInputTooLong,"formatInputTooLong")?render("<li class='select2-no-results'>"+evaluate(b.formatInputTooLong,b.element,_.val(),b.maximumInputLength)+"</li>"):render(""):(b.formatSearching&&0===this.findHighlightableChoices().length&&render("<li class='select2-searching'>"+evaluate(b.formatSearching,b.element)+"</li>"),_.addClass("select2-active"),this.removeHighlight(),(v=this.tokenize())!=d&&null!=v&&_.val(v),this.resultsPage=1,b.query({element:b.element,term:_.val(),page:this.resultsPage,context:null,matcher:b.matcher,callback:this.bind((function(g){var v;y==this.queryCount&&(this.opened()?g.hasError!==d&&checkFormatter(b.formatAjaxError,"formatAjaxError")?render("<li class='select2-ajax-error'>"+evaluate(b.formatAjaxError,b.element,g.jqXHR,g.textStatus,g.errorThrown)+"</li>"):(this.context=g.context===d?null:g.context,this.opts.createSearchChoice&&""!==_.val()&&(v=this.opts.createSearchChoice.call(S,_.val(),g.results))!==d&&null!==v&&S.id(v)!==d&&null!==S.id(v)&&0===c(g.results).filter((function(){return equal(S.id(this),S.id(v))})).length&&this.opts.createSearchChoicePosition(g.results,v),0===g.results.length&&checkFormatter(b.formatNoMatches,"formatNoMatches")?render("<li class='select2-no-results'>"+evaluate(b.formatNoMatches,b.element,_.val())+"</li>"):(w.empty(),S.opts.populateResults.call(this,w,g.results,{term:_.val(),page:this.resultsPage,context:null}),!0===g.more&&checkFormatter(b.formatLoadMore,"formatLoadMore")&&(w.append("<li class='select2-more-results'>"+b.escapeMarkup(evaluate(b.formatLoadMore,b.element,this.resultsPage))+"</li>"),window.setTimeout((function(){S.loadMoreIfNeeded()}),10)),this.postprocessResults(g,m),postRender(),this.opts.element.trigger({type:"select2-loaded",items:g}))):this.search.removeClass("select2-active"))}))})));render("<li class='select2-selection-limit'>"+evaluate(b.formatSelectionTooBig,b.element,x)+"</li>")}function postRender(){_.removeClass("select2-active"),S.positionDropdown(),w.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?S.liveRegion.text(w.text()):S.liveRegion.text(S.opts.formatMatches(w.find(".select2-result-selectable").length))}function render(c){w.html(c),postRender()}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){var c;(c=this.search)[0]!==document.activeElement&&window.setTimeout((function(){var d,m=c[0],g=c.val().length;c.focus(),(m.offsetWidth>0||m.offsetHeight>0)&&m===document.activeElement&&(m.setSelectionRange?m.setSelectionRange(g,g):m.createTextRange&&((d=m.createTextRange()).collapse(!1),d.select()))}),0)},selectHighlighted:function(c){if(this._touchMoved)this.clearTouchMoved();else{var d=this.highlight(),m=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");m?(this.highlight(d),this.onSelect(m,c)):c&&c.noFocus&&this.close()}},getPlaceholder:function(){var c;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((c=this.getPlaceholderOption())!==d?c.text():d)},getPlaceholderOption:function(){if(this.select){var m=this.select.children("option").first();if(this.opts.placeholderOption!==d)return"first"===this.opts.placeholderOption&&m||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===c.trim(m.text())&&""===m.val())return m}},initContainerWidth:function(){var m=function(){var m,g,v,y,_;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((m=this.opts.element.attr("style"))!==d)for(y=0,_=(g=m.split(";")).length;y<_;y+=1)if(null!==(v=g[y].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&v.length>=1)return v[1];return"resolve"===this.opts.width?(m=this.opts.element.css("width")).indexOf("%")>0?m:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return c.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==m&&this.container.css("width",m)}}),g=clazz(m,{createContainer:function(){return c(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var m,g,v;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(m=this.search.get(0)).createTextRange?((g=m.createTextRange()).collapse(!1),g.select()):m.setSelectionRange&&(v=this.search.val().length,m.setSelectionRange(v,v))),""===this.search.val()&&this.nextSearchTerm!=d&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(c.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){c("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),cleanupJQueryElements.call(this,"selection","focusser")},initContainer:function(){var d,m,g=this.container,v=this.dropdown,_=y();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=d=g.find(".select2-choice"),this.focusser=g.find(".select2-focusser"),d.find(".select2-chosen").attr("id","select2-chosen-"+_),this.focusser.attr("aria-labelledby","select2-chosen-"+_),this.results.attr("id","select2-results-"+_),this.search.attr("aria-owns","select2-results-"+_),this.focusser.attr("id","s2id_autogen"+_),m=c("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(m.text()).attr("for",this.focusser.attr("id"));var w=this.opts.element.attr("title");this.opts.element.attr("title",w||m.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(c("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind((function(c){if(this.isInterfaceEnabled()&&229!=c.keyCode)if(c.which!==E.PAGE_UP&&c.which!==E.PAGE_DOWN)switch(c.which){case E.UP:case E.DOWN:return this.moveHighlight(c.which===E.UP?-1:1),void killEvent(c);case E.ENTER:return this.selectHighlighted(),void killEvent(c);case E.TAB:return void this.selectHighlighted({noFocus:!0});case E.ESC:return this.cancel(c),void killEvent(c)}else killEvent(c)}))),this.search.on("blur",this.bind((function(c){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind((function(){this.opened()&&this.search.focus()})),0)}))),this.focusser.on("keydown",this.bind((function(c){if(this.isInterfaceEnabled()&&c.which!==E.TAB&&!E.isControl(c)&&!E.isFunctionKey(c)&&c.which!==E.ESC){if(!1!==this.opts.openOnEnter||c.which!==E.ENTER){if(c.which==E.DOWN||c.which==E.UP||c.which==E.ENTER&&this.opts.openOnEnter){if(c.altKey||c.ctrlKey||c.shiftKey||c.metaKey)return;return this.open(),void killEvent(c)}return c.which==E.DELETE||c.which==E.BACKSPACE?(this.opts.allowClear&&this.clear(),void killEvent(c)):void 0}killEvent(c)}}))),installKeyUpChangeEvent(this.focusser),this.focusser.on("keyup-change input",this.bind((function(c){if(this.opts.minimumResultsForSearch>=0){if(c.stopPropagation(),this.opened())return;this.open()}}))),d.on("mousedown touchstart","abbr",this.bind((function(c){var d;this.isInterfaceEnabled()&&(this.clear(),(d=c).preventDefault(),d.stopImmediatePropagation(),this.close(),this.selection.focus())}))),d.on("mousedown touchstart",this.bind((function(m){reinsertElement(d),this.container.hasClass("select2-container-active")||this.opts.element.trigger(c.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),killEvent(m)}))),v.on("mousedown touchstart",this.bind((function(){this.opts.shouldFocusInput(this)&&this.search.focus()}))),d.on("focus",this.bind((function(c){killEvent(c)}))),this.focusser.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(c.Event("select2-focus")),this.container.addClass("select2-container-active")}))).on("blur",this.bind((function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(c.Event("select2-blur")))}))),this.search.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(c.Event("select2-focus")),this.container.addClass("select2-container-active")}))),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(d){var m=this.selection.data("select2-data");if(m){var g=c.Event("select2-clearing");if(this.opts.element.trigger(g),g.isDefaultPrevented())return;var v=this.getPlaceholderOption();this.opts.element.val(v?v.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==d&&(this.opts.element.trigger({type:"select2-removed",val:this.id(m),choice:m}),this.triggerChange({removed:m}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var c=this;this.opts.initSelection.call(null,this.opts.element,(function(m){m!==d&&null!==m&&(c.updateSelection(m),c.close(),c.setPlaceholder(),c.nextSearchTerm=c.opts.nextSearchTerm(m,c.search.val()))}))}},isPlaceholderOptionSelected:function(){var c;return this.getPlaceholder()!==d&&((c=this.getPlaceholderOption())!==d&&c.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===d||null===this.opts.element.val())},prepareOpts:function(){var d=this.parent.prepareOpts.apply(this,arguments),m=this;return"select"===d.element.get(0).tagName.toLowerCase()?d.initSelection=function(c,d){var g=c.find("option").filter((function(){return this.selected&&!this.disabled}));d(m.optionToData(g))}:"data"in d&&(d.initSelection=d.initSelection||function(m,g){var v=m.val(),y=null;d.query({matcher:function(c,m,g){var _=equal(v,d.id(g));return _&&(y=g),_},callback:c.isFunction(g)?function(){g(y)}:c.noop})}),d},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===d?d:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var c=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&c!==d){if(this.select&&this.getPlaceholderOption()===d)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(c)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(c,d,m){var g=0,v=this;if(this.findHighlightableChoices().each2((function(c,d){if(equal(v.id(d.data("select2-data")),v.opts.element.val()))return g=c,!1})),!1!==m&&(!0===d&&g>=0?this.highlight(g):this.highlight(0)),!0===d){var y=this.opts.minimumResultsForSearch;y>=0&&this.showSearch(countResults(c.results)>=y)}},showSearch:function(d){this.showSearchInput!==d&&(this.showSearchInput=d,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!d),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!d),c(this.dropdown,this.container).toggleClass("select2-with-searchbox",d))},onSelect:function(c,d){if(this.triggerSelect(c)){var m=this.opts.element.val(),g=this.data();this.opts.element.val(this.id(c)),this.updateSelection(c),this.opts.element.trigger({type:"select2-selected",val:this.id(c),choice:c}),this.nextSearchTerm=this.opts.nextSearchTerm(c,this.search.val()),this.close(),d&&d.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),equal(m,this.id(c))||this.triggerChange({added:c,removed:g})}},updateSelection:function(c){var m,g,v=this.selection.find(".select2-chosen");this.selection.data("select2-data",c),v.empty(),null!==c&&(m=this.opts.formatSelection(c,v,this.opts.escapeMarkup)),m!==d&&v.append(m),(g=this.opts.formatSelectionCssClass(c,v))!==d&&v.addClass(g),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==d&&this.container.addClass("select2-allowclear")},val:function(){var c,m=!1,g=null,v=this,y=this.data();if(0===arguments.length)return this.opts.element.val();if(c=arguments[0],arguments.length>1&&(m=arguments[1]),this.select)this.select.val(c).find("option").filter((function(){return this.selected})).each2((function(c,d){return g=v.optionToData(d),!1})),this.updateSelection(g),this.setPlaceholder(),m&&this.triggerChange({added:g,removed:y});else{if(!c&&0!==c)return void this.clear(m);if(this.opts.initSelection===d)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(c),this.opts.initSelection(this.opts.element,(function(c){v.opts.element.val(c?v.id(c):""),v.updateSelection(c),v.setPlaceholder(),m&&v.triggerChange({added:c,removed:y})}))}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(c){var m,g=!1;if(0===arguments.length)return(m=this.selection.data("select2-data"))==d&&(m=null),m;arguments.length>1&&(g=arguments[1]),c?(m=this.data(),this.opts.element.val(c?this.id(c):""),this.updateSelection(c),g&&this.triggerChange({added:c,removed:m})):this.clear(g)}}),v=clazz(m,{createContainer:function(){return c(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var d=this.parent.prepareOpts.apply(this,arguments),m=this;return"select"===d.element.get(0).tagName.toLowerCase()?d.initSelection=function(c,d){var g=[];c.find("option").filter((function(){return this.selected&&!this.disabled})).each2((function(c,d){g.push(m.optionToData(d))})),d(g)}:"data"in d&&(d.initSelection=d.initSelection||function(m,g){var v=splitVal(m.val(),d.separator),y=[];d.query({matcher:function(m,g,_){var w=c.grep(v,(function(c){return equal(c,d.id(_))})).length;return w&&y.push(_),w},callback:c.isFunction(g)?function(){for(var c=[],m=0;m<v.length;m++)for(var _=v[m],w=0;w<y.length;w++){var b=y[w];if(equal(_,d.id(b))){c.push(b),y.splice(w,1);break}}g(c)}:c.noop})}),d},selectChoice:function(c){var d=this.container.find(".select2-search-choice-focus");d.length&&c&&c[0]==d[0]||(d.length&&this.opts.element.trigger("choice-deselected",d),d.removeClass("select2-search-choice-focus"),c&&c.length&&(this.close(),c.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",c)))},destroy:function(){c("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),cleanupJQueryElements.call(this,"searchContainer","selection")},initContainer:function(){var d,m=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=d=this.container.find(m);var g=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",(function(d){g.search[0].focus(),g.selectChoice(c(this))})),this.search.attr("id","s2id_autogen"+y()),this.search.prev().text(c("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind((function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())}))),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind((function(m){if(this.isInterfaceEnabled()){++this.keydowns;var g=d.find(".select2-search-choice-focus"),v=g.prev(".select2-search-choice:not(.select2-locked)"),y=g.next(".select2-search-choice:not(.select2-locked)"),_=function(d){var m=0,g=0;if("selectionStart"in(d=c(d)[0]))m=d.selectionStart,g=d.selectionEnd-m;else if("selection"in document){d.focus();var v=document.selection.createRange();g=document.selection.createRange().text.length,v.moveStart("character",-d.value.length),m=v.text.length-g}return{offset:m,length:g}}(this.search);if(g.length&&(m.which==E.LEFT||m.which==E.RIGHT||m.which==E.BACKSPACE||m.which==E.DELETE||m.which==E.ENTER)){var w=g;return m.which==E.LEFT&&v.length?w=v:m.which==E.RIGHT?w=y.length?y:null:m.which===E.BACKSPACE?this.unselect(g.first())&&(this.search.width(10),w=v.length?v:y):m.which==E.DELETE?this.unselect(g.first())&&(this.search.width(10),w=y.length?y:null):m.which==E.ENTER&&(w=null),this.selectChoice(w),killEvent(m),void(w&&w.length||this.open())}if((m.which===E.BACKSPACE&&1==this.keydowns||m.which==E.LEFT)&&0==_.offset&&!_.length)return this.selectChoice(d.find(".select2-search-choice:not(.select2-locked)").last()),void killEvent(m);if(this.selectChoice(null),this.opened())switch(m.which){case E.UP:case E.DOWN:return this.moveHighlight(m.which===E.UP?-1:1),void killEvent(m);case E.ENTER:return this.selectHighlighted(),void killEvent(m);case E.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case E.ESC:return this.cancel(m),void killEvent(m)}if(m.which!==E.TAB&&!E.isControl(m)&&!E.isFunctionKey(m)&&m.which!==E.BACKSPACE&&m.which!==E.ESC){if(m.which===E.ENTER){if(!1===this.opts.openOnEnter)return;if(m.altKey||m.ctrlKey||m.shiftKey||m.metaKey)return}this.open(),m.which!==E.PAGE_UP&&m.which!==E.PAGE_DOWN||killEvent(m),m.which===E.ENTER&&killEvent(m)}}}))),this.search.on("keyup",this.bind((function(c){this.keydowns=0,this.resizeSearch()}))),this.search.on("blur",this.bind((function(d){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),d.stopImmediatePropagation(),this.opts.element.trigger(c.Event("select2-blur"))}))),this.container.on("click",m,this.bind((function(d){this.isInterfaceEnabled()&&(c(d.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(c.Event("select2-focus")),this.open(),this.focusSearch(),d.preventDefault()))}))),this.container.on("focus",m,this.bind((function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(c.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}))),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var c=this;this.opts.initSelection.call(null,this.opts.element,(function(m){m!==d&&null!==m&&(c.updateSelection(m),c.close(),c.clearSearch())}))}},clearSearch:function(){var c=this.getPlaceholder(),m=this.getMaxSearchWidth();c!==d&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(c).addClass("select2-default"),this.search.width(m>0?m:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=d&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(c.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(d){var m=[],g=[],v=this;c(d).each((function(){indexOf(v.id(this),m)<0&&(m.push(v.id(this)),g.push(this))})),d=g,this.selection.find(".select2-search-choice").remove(),c(d).each((function(){v.addSelectedChoice(this)})),v.postprocessResults()},tokenize:function(){var c=this.search.val();null!=(c=this.opts.tokenizer.call(this,c,this.data(),this.bind(this.onSelect),this.opts))&&c!=d&&(this.search.val(c),c.length>0&&this.open())},onSelect:function(c,m){this.triggerSelect(c)&&""!==c.text&&(this.addSelectedChoice(c),this.opts.element.trigger({type:"selected",val:this.id(c),choice:c}),this.nextSearchTerm=this.opts.nextSearchTerm(c,this.search.val()),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(c,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=d&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:c}),m&&m.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(m){var g,v,y=!m.locked,_=c("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),w=c("<li class='select2-search-choice select2-locked'><div></div></li>"),b=y?_:w,S=this.id(m),C=this.getVal();(g=this.opts.formatSelection(m,b.find("div"),this.opts.escapeMarkup))!=d&&b.find("div").replaceWith("<div>"+g+"</div>"),(v=this.opts.formatSelectionCssClass(m,b.find("div")))!=d&&b.addClass(v),y&&b.find(".select2-search-choice-close").on("mousedown",killEvent).on("click dblclick",this.bind((function(d){this.isInterfaceEnabled()&&(this.unselect(c(d.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),killEvent(d),this.close(),this.focusSearch())}))).on("focus",this.bind((function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}))),b.data("select2-data",m),b.insertBefore(this.searchContainer),C.push(S),this.setVal(C)},unselect:function(d){var m,g,v=this.getVal();if(0===(d=d.closest(".select2-search-choice")).length)throw"Invalid argument: "+d+". Must be .select2-search-choice";if(m=d.data("select2-data")){var y=c.Event("select2-removing");if(y.val=this.id(m),y.choice=m,this.opts.element.trigger(y),y.isDefaultPrevented())return!1;for(;(g=indexOf(this.id(m),v))>=0;)v.splice(g,1),this.setVal(v),this.select&&this.postprocessResults();return d.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(m),choice:m}),this.triggerChange({removed:m}),!0}},postprocessResults:function(c,d,m){var g=this.getVal(),v=this.results.find(".select2-result"),y=this.results.find(".select2-result-with-children"),_=this;v.each2((function(c,d){indexOf(_.id(d.data("select2-data")),g)>=0&&(d.addClass("select2-selected"),d.find(".select2-result-selectable").addClass("select2-selected"))})),y.each2((function(c,d){d.is(".select2-result-selectable")||0!==d.find(".select2-result-selectable:not(.select2-selected)").length||d.addClass("select2-selected")})),-1==this.highlight()&&!1!==m&&_.highlight(0),!this.opts.createSearchChoice&&!v.filter(".select2-result:not(.select2-selected)").length>0&&(!c||c&&!c.more&&0===this.results.find(".select2-no-results").length)&&checkFormatter(_.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+evaluate(_.opts.formatNoMatches,_.opts.element,_.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-getSideBorderPadding(this.search)},resizeSearch:function(){var d,m,g,v,y=getSideBorderPadding(this.search);d=function(d){if(!_){var m=d[0].currentStyle||window.getComputedStyle(d[0],null);(_=c(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:m.fontSize,fontFamily:m.fontFamily,fontStyle:m.fontStyle,fontWeight:m.fontWeight,letterSpacing:m.letterSpacing,textTransform:m.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),c("body").append(_)}return _.text(d.val()),_.width()}(this.search)+10,m=this.search.offset().left,(v=(g=this.selection.width())-(m-this.selection.offset().left)-y)<d&&(v=g-y),v<40&&(v=g-y),v<=0&&(v=d),this.search.width(Math.floor(v))},getVal:function(){var c;return this.select?null===(c=this.select.val())?[]:c:splitVal(c=this.opts.element.val(),this.opts.separator)},setVal:function(d){var m;this.select?this.select.val(d):(m=[],c(d).each((function(){indexOf(this,m)<0&&m.push(this)})),this.opts.element.val(0===m.length?"":m.join(this.opts.separator)))},buildChangeDetails:function(c,d){d=d.slice(0),c=c.slice(0);for(var m=0;m<d.length;m++)for(var g=0;g<c.length;g++)equal(this.opts.id(d[m]),this.opts.id(c[g]))&&(d.splice(m,1),m>0&&m--,c.splice(g,1),g--);return{added:d,removed:c}},val:function(m,g){var v,y=this;if(0===arguments.length)return this.getVal();if((v=this.data()).length||(v=[]),!m&&0!==m)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(g&&this.triggerChange({added:this.data(),removed:v}));if(this.setVal(m),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),g&&this.triggerChange(this.buildChangeDetails(v,this.data()));else{if(this.opts.initSelection===d)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,(function(d){var m=c.map(d,y.id);y.setVal(m),y.updateSelection(d),y.clearSearch(),g&&y.triggerChange(y.buildChangeDetails(v,y.data()))}))}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var d=[],m=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each((function(){d.push(m.opts.id(c(this).data("select2-data")))})),this.setVal(d),this.triggerChange()},data:function(d,m){var g,v,y=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map((function(){return c(this).data("select2-data")})).get();v=this.data(),d||(d=[]),g=c.map(d,(function(c){return y.opts.id(c)})),this.setVal(g),this.updateSelection(d),this.clearSearch(),m&&this.triggerChange(this.buildChangeDetails(v,this.data()))}}),c.fn.select2=function(){var m,g,v,y,_,w=Array.prototype.slice.call(arguments,0),b=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],S=["opened","isFocused","container","dropdown"],C=["val","data"],E={search:"externalSearch"};return this.each((function(){if(0===w.length||"object"==typeof w[0])(m=0===w.length?{}:c.extend({},w[0])).element=c(this),"select"===m.element.get(0).tagName.toLowerCase()?_=m.element.prop("multiple"):(_=m.multiple||!1,"tags"in m&&(m.multiple=_=!0)),(g=_?new window.Select2.class.multi:new window.Select2.class.single).init(m);else{if("string"!=typeof w[0])throw"Invalid arguments to select2 plugin: "+w;if(indexOf(w[0],b)<0)throw"Unknown method: "+w[0];if(y=d,(g=c(this).data("select2"))===d)return;if("container"===(v=w[0])?y=g.container:"dropdown"===v?y=g.dropdown:(E[v]&&(v=E[v]),y=g[v].apply(g,w.slice(1))),indexOf(w[0],S)>=0||indexOf(w[0],C)>=0&&1==w.length)return!1}})),y===d?this:y},c.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(c,d,m,g){var v=[];return markMatch(c.text,m.term,v,g),v.join("")},formatSelection:function(c,m,g){return c?g(c.text):d},sortResults:function(c,d,m){return c},formatResultCssClass:function(c){return c.css},formatSelectionCssClass:function(c,m){return d},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(c){return c==d?null:c.id},matcher:function(c,d){return stripDiacritics(""+d).toUpperCase().indexOf(stripDiacritics(""+c).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:function(c,m,g,v){var y,_,w,b,S,C=c,E=!1;if(!v.createSearchChoice||!v.tokenSeparators||v.tokenSeparators.length<1)return d;for(;;){for(_=-1,w=0,b=v.tokenSeparators.length;w<b&&(S=v.tokenSeparators[w],!((_=c.indexOf(S))>=0));w++);if(_<0)break;if(y=c.substring(0,_),c=c.substring(_+S.length),y.length>0&&(y=v.createSearchChoice.call(this,y,m))!==d&&null!==y&&v.id(y)!==d&&null!==v.id(y)){for(E=!1,w=0,b=m.length;w<b;w++)if(equal(v.id(y),v.id(m[w]))){E=!0;break}E||g(y)}}return C!==c?c:void 0},escapeMarkup:defaultEscapeMarkup,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(c){return c},adaptDropdownCssClass:function(c){return null},nextSearchTerm:function(c,m){return d},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(c){return!("ontouchstart"in window||navigator.msMaxTouchPoints>0)||!(c.opts.minimumResultsForSearch<0)}},c.fn.select2.locales=[],c.fn.select2.locales.en={formatMatches:function(c){return 1===c?"One result is available, press enter to select it.":c+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(c,d,m){return"Loading failed"},formatInputTooShort:function(c,d){var m=d-c.length;return"Please enter "+m+" or more character"+(1==m?"":"s")},formatInputTooLong:function(c,d){var m=c.length-d;return"Please delete "+m+" character"+(1==m?"":"s")},formatSelectionTooBig:function(c){return"You can only select "+c+" item"+(1==c?"":"s")},formatLoadMore:function(c){return"Loading more results"},formatSearching:function(){return"Searching"}},c.extend(c.fn.select2.defaults,c.fn.select2.locales.en),c.fn.select2.ajaxDefaults={transport:c.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:ajax,local:local,tags:tags},util:{debounce:debounce,markMatch:markMatch,escapeMarkup:defaultEscapeMarkup,stripDiacritics:stripDiacritics},class:{abstract:m,single:g,multi:v}}}function reinsertElement(d){var m=c(document.createTextNode(""));d.before(m),m.before(d),m.remove()}function stripDiacritics(c){return c.replace(/[^\u0000-\u007E]/g,(function(c){return x[c]||c}))}function indexOf(c,d){for(var m=0,g=d.length;m<g;m+=1)if(equal(c,d[m]))return m;return-1}function equal(c,m){return c===m||c!==d&&m!==d&&(null!==c&&null!==m&&(c.constructor===String?c+""==m+"":m.constructor===String&&m+""==c+""))}function splitVal(d,m){var g,v,y;if(null===d||d.length<1)return[];for(v=0,y=(g=d.split(m)).length;v<y;v+=1)g[v]=c.trim(g[v]);return g}function getSideBorderPadding(c){return c.outerWidth(!1)-c.width()}function installKeyUpChangeEvent(m){var g="keyup-change-value";m.on("keydown",(function(){c.data(m,g)===d&&c.data(m,g,m.val())})),m.on("keyup",(function(){var v=c.data(m,g);v!==d&&m.val()!==v&&(c.removeData(m,g),m.trigger("keyup-change"))}))}function debounce(c,m,g){var v;return g=g||d,function(){var d=arguments;window.clearTimeout(v),v=window.setTimeout((function(){m.apply(g,d)}),c)}}function killEvent(c){c.preventDefault(),c.stopPropagation()}function syncCssClasses(d,m,g){var v,y,_=[];(v=c.trim(d.attr("class")))&&c((v=""+v).split(/\s+/)).each2((function(){0===this.indexOf("select2-")&&_.push(this)})),(v=c.trim(m.attr("class")))&&c((v=""+v).split(/\s+/)).each2((function(){0!==this.indexOf("select2-")&&(y=g(this))&&_.push(y)})),d.attr("class",_.join(" "))}function markMatch(c,d,m,g){var v=stripDiacritics(c.toUpperCase()).indexOf(stripDiacritics(d.toUpperCase())),y=d.length;v<0?m.push(g(c)):(m.push(g(c.substring(0,v))),m.push("<span class='select2-match'>"),m.push(g(c.substring(v,v+y))),m.push("</span>"),m.push(g(c.substring(v+y,c.length))))}function defaultEscapeMarkup(c){var d={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(c).replace(/[&<>"'\/\\]/g,(function(c){return d[c]}))}function ajax(m){var g,v=null,y=m.quietMillis||100,_=m.url,w=this;return function(b){window.clearTimeout(g),g=window.setTimeout((function(){var g=m.data,y=_,S=m.transport||c.fn.select2.ajaxDefaults.transport,C={type:m.type||"GET",cache:m.cache||!1,jsonpCallback:m.jsonpCallback||d,dataType:m.dataType||"json"},E=c.extend({},c.fn.select2.ajaxDefaults.params,C);g=g?g.call(w,b.term,b.page,b.context):null,y="function"==typeof y?y.call(w,b.term,b.page,b.context):y,v&&"function"==typeof v.abort&&v.abort(),m.params&&(c.isFunction(m.params)?c.extend(E,m.params.call(w)):c.extend(E,m.params)),c.extend(E,{url:y,dataType:m.dataType,data:g,success:function(c){var d=m.results(c,b.page,b);b.callback(d)},error:function(c,d,m){var g={hasError:!0,jqXHR:c,textStatus:d,errorThrown:m};b.callback(g)}}),v=S.call(w,E)}),y)}}function local(d){var m,g,v=d,text=function(c){return""+c.text};c.isArray(v)&&(v={results:g=v}),!1===c.isFunction(v)&&(g=v,v=function(){return g});var y=v();return y.text&&(text=y.text,c.isFunction(text)||(m=y.text,text=function(c){return c[m]})),function(d){var m,g=d.term,y={results:[]};""!==g?(m=function(v,y){var _,w;if((v=v[0]).children){for(w in _={},v)v.hasOwnProperty(w)&&(_[w]=v[w]);_.children=[],c(v.children).each2((function(c,d){m(d,_.children)})),(_.children.length||d.matcher(g,text(_),v))&&y.push(_)}else d.matcher(g,text(v),v)&&y.push(v)},c(v().results).each2((function(c,d){m(d,y.results)})),d.callback(y)):d.callback(v())}}function tags(m){var g=c.isFunction(m);return function(v){var y=v.term,_={results:[]},w=g?m(v):m;c.isArray(w)&&(c(w).each((function(){var c=this.text!==d,m=c?this.text:this;(""===y||v.matcher(y,m))&&_.results.push(c?this:{id:this,text:this})})),v.callback(_))}}function checkFormatter(d,m){if(c.isFunction(d))return!0;if(!d)return!1;if("string"==typeof d)return!0;throw new Error(m+" must be a string, function, or falsy value")}function evaluate(d,m){if(c.isFunction(d)){var g=Array.prototype.slice.call(arguments,2);return d.apply(m,g)}return d}function countResults(d){var m=0;return c.each(d,(function(c,d){d.children?m+=countResults(d.children):m++})),m}function cleanupJQueryElements(){var d=this;c.each(arguments,(function(c,m){d[m].remove(),d[m]=null}))}function clazz(d,m){var constructor=function(){};return(constructor.prototype=new d).constructor=constructor,constructor.prototype.parent=d.prototype,constructor.prototype=c.extend(constructor.prototype,m),constructor}}(v)}}]);