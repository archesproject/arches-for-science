(self.webpackChunkarches=self.webpackChunkarches||[]).push([[453],{98548:function(){!function(i){if(void 0===i)throw Error("jQuery should be loaded before CKEditor jQuery adapter.");if("undefined"==typeof CKEDITOR)throw Error("CKEditor should be loaded before CKEditor jQuery adapter.");CKEDITOR.config.jqueryOverrideVal=void 0===CKEDITOR.config.jqueryOverrideVal||CKEDITOR.config.jqueryOverrideVal,i.extend(i.fn,{ckeditorGet:function(){var i=this.eq(0).data("ckeditorInstance");if(!i)throw"CKEditor is not initialized yet, use ckeditor() with a callback.";return i},ckeditor:function(o,s){if(!CKEDITOR.env.isCompatible)throw Error("The environment is incompatible.");if("function"!=typeof o){var _=s;s=o,o=_}var $=[];s=s||{},this.each((function(){var _=i(this),j=_.data("ckeditorInstance"),Z=_.data("_ckeditorInstanceLock"),ee=this,te=new i.Deferred;$.push(te.promise()),j&&!Z?(o&&o.apply(j,[this]),te.resolve()):Z?j.once("instanceReady",(function(){setTimeout((function d(){j.element?(j.element.$==ee&&o&&o.apply(j,[ee]),te.resolve()):setTimeout(d,100)}),0)}),null,null,9999):((s.autoUpdateElement||void 0===s.autoUpdateElement&&CKEDITOR.config.autoUpdateElement)&&(s.autoUpdateElementJquery=!0),s.autoUpdateElement=!1,_.data("_ckeditorInstanceLock",!0),j=i(this).is("textarea")?CKEDITOR.replace(ee,s):CKEDITOR.inline(ee,s),_.data("ckeditorInstance",j),j.on("instanceReady",(function(s){var $=s.editor;setTimeout((function n(){if($.element){if(s.removeListener(),$.on("dataReady",(function(){_.trigger("dataReady.ckeditor",[$])})),$.on("setData",(function(i){_.trigger("setData.ckeditor",[$,i.data])})),$.on("getData",(function(i){_.trigger("getData.ckeditor",[$,i.data])}),999),$.on("destroy",(function(){_.trigger("destroy.ckeditor",[$])})),$.on("save",(function(){return i(ee.form).trigger("submit"),!1}),null,null,20),$.config.autoUpdateElementJquery&&_.is("textarea")&&i(ee.form).length){var c=function(){_.ckeditor((function(){$.updateElement()}))};i(ee.form).on("submit",c),i(ee.form).on("form-pre-serialize",c),_.on("destroy.ckeditor",(function(){i(ee.form).off("submit",c),i(ee.form).off("form-pre-serialize",c)}))}$.on("destroy",(function(){_.removeData("ckeditorInstance")})),_.removeData("_ckeditorInstanceLock"),_.trigger("instanceReady.ckeditor",[$]),o&&o.apply($,[ee]),te.resolve()}else setTimeout(n,100)}),0)}),null,null,9999))}));var j=new i.Deferred;return this.promise=j.promise(),i.when.apply(this,$).then((function(){j.resolve()})),this.editor=this.eq(0).data("ckeditorInstance"),this}}),CKEDITOR.config.jqueryOverrideVal&&(i.fn.val=CKEDITOR.tools.override(i.fn.val,(function(o){return function(s){if(arguments.length){var _=this,$=[],j=this.each((function(){var _=i(this),j=_.data("ckeditorInstance");if(_.is("textarea")&&j){var Z=new i.Deferred;return j.setData(s,(function(){Z.resolve()})),$.push(Z.promise()),!0}return o.call(_,s)}));if($.length){var Z=new i.Deferred;return i.when.apply(this,$).done((function(){Z.resolveWith(_)})),Z.promise()}return j}var ee=(j=i(this).eq(0)).data("ckeditorInstance");return j.is("textarea")&&ee?ee.getData():o.call(j)}})))}(window.jQuery)},5306:function(){!function(){if(!window.CKEDITOR||!window.CKEDITOR.dom){var i,o,s,_,$,j,Z,ee;window.CKEDITOR||(window.CKEDITOR=function(){var i=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,o={timestamp:"MAUD",version:"4.20.1",revision:"b520aa2b40",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:i},status:"unloaded",basePath:function(){var o=window.CKEDITOR_BASEPATH||"";if(!o)for(var s=document.getElementsByTagName("script"),_=0;_<s.length;_++){var $=s[_].src.match(i);if($){o=$[1];break}}if(-1==o.indexOf(":/")&&"//"!=o.slice(0,2)&&(o=0===o.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+o:location.href.match(/^[^\?]*\/(?:)/)[0]+o),!o)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return o}(),getUrl:function(i){return-1==i.indexOf(":/")&&0!==i.indexOf("/")&&(i=this.basePath+i),this.appendTimestamp(i)},appendTimestamp:function(i){if(!this.timestamp||"/"===i.charAt(i.length-1)||/[&?]t=/.test(i))return i;var o=0<=i.indexOf("?")?"&":"?";return i+o+"t="+this.timestamp},domReady:function(){function a(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",a,!1),window.removeEventListener("load",a,!1),b()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",a),window.detachEvent("onload",a),b())}catch(i){}}function b(){for(var o;o=i.shift();)o()}var i=[];return function(o){if(i.push(o),"complete"===document.readyState&&setTimeout(a,1),1==i.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",a),window.attachEvent("onload",a),o=!1;try{o=!window.frameElement}catch(i){}document.documentElement.doScroll&&o&&function e(){try{document.documentElement.doScroll("left")}catch(i){return void setTimeout(e,1)}a()}()}}}()},s=window.CKEDITOR_GETURL;if(s){var _=o.getUrl;o.getUrl=function(i){return s.call(o,i)||_.call(o,i)}}return o}()),i={},CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(i){var o,s=CKEDITOR.event.prototype;for(o in s)null==i[o]&&(i[o]=s[o])},CKEDITOR.event.prototype=function(){function d(i){var o=b(this);return o[i]||(o[i]=new c(i))}var b=function(i){return(i=i.getPrivate&&i.getPrivate()||i._||(i._={})).events||(i.events={})},c=function(i){this.name=i,this.listeners=[]};return c.prototype={getListenerIndex:function(i){for(var o=0,s=this.listeners;o<s.length;o++)if(s[o].fn==i)return o;return-1}},{define:function(i,o){var s=d.call(this,i);CKEDITOR.tools.extend(s,o,!0)},on:function(o,s,_,$,j){function m(j,Z,ee,te){return j={name:o,sender:this,editor:j,data:Z,listenerData:$,stop:ee,cancel:te,removeListener:g},!1===s.call(_,j)?i:j.data}function g(){Z.removeListener(o,s)}var Z=this,ee=d.call(this,o);if(0>ee.getListenerIndex(s)){ee=ee.listeners,_||(_=this),isNaN(j)&&(j=10),m.fn=s,m.priority=j;for(var te=ee.length-1;0<=te;te--)if(ee[te].priority<=j)return ee.splice(te+1,0,m),{removeListener:g};ee.unshift(m)}return{removeListener:g}},once:function(){var i=Array.prototype.slice.call(arguments),o=i[1];return i[1]=function(i){return i.removeListener(),o.apply(this,arguments)},this.on.apply(this,i)},capture:function(){CKEDITOR.event.useCapture=1;var i=this.on.apply(this,arguments);return CKEDITOR.event.useCapture=0,i},fire:function(){var o=0,e=function(){o=1},s=0,h=function(){s=1};return function(_,$,j){var Z=b(this)[_];_=o;var ee=s;if(o=s=0,Z&&(ne=Z.listeners).length)for(var te,ne=ne.slice(0),ie=0;ie<ne.length;ie++){if(Z.errorProof)try{te=ne[ie].call(this,j,$,e,h)}catch(i){}else te=ne[ie].call(this,j,$,e,h);if(te===i?s=1:void 0!==te&&($=te),o||s)break}return $=!s&&(void 0===$||$),o=_,s=ee,$}}(),fireOnce:function(i,o,s){return o=this.fire(i,o,s),delete b(this)[i],o},removeListener:function(i,o){var s=b(this)[i];if(s){var _=s.getListenerIndex(o);0<=_&&s.listeners.splice(_,1)}},removeAllListeners:function(){var i,o=b(this);for(i in o)delete o[i]},hasListeners:function(i){return(i=b(this)[i])&&0<i.listeners.length}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]),CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(i,o){return i in{instanceReady:1,loaded:1}&&(this[i]=!0),CKEDITOR.event.prototype.fire.call(this,i,o,this)},CKEDITOR.editor.prototype.fireOnce=function(i,o){return i in{instanceReady:1,loaded:1}&&(this[i]=!0),CKEDITOR.event.prototype.fireOnce.call(this,i,o,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var i=navigator.userAgent.toLowerCase(),o=i.match(/edge[ \/](\d+.?\d*)/),s=-1<i.indexOf("trident/");(s={ie:s=!(!o&&!s),edge:!!o,webkit:!s&&-1<i.indexOf(" applewebkit/"),air:-1<i.indexOf(" adobeair/"),mac:-1<i.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<i.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(i),isCustomDomain:function(){if(!this.ie)return!1;var i=document.domain,o=window.location.hostname;return i!=o&&i!="["+o+"]"},secure:"https:"==location.protocol}).gecko="Gecko"==navigator.product&&!s.webkit&&!s.ie,s.webkit&&(-1<i.indexOf("chrome")?s.chrome=!0:s.safari=!0);var _=0;return s.ie&&(_=o?parseFloat(o[1]):s.quirks||!document.documentMode?parseFloat(i.match(/msie (\d+)/)[1]):document.documentMode,s.ie9Compat=9==_,s.ie8Compat=8==_,s.ie7Compat=7==_,s.ie6Compat=7>_||s.quirks),s.gecko&&(o=i.match(/rv:([\d\.]+)/))&&(_=1e4*(o=o[1].split("."))[0]+100*(o[1]||0)+1*(o[2]||0)),s.air&&(_=parseFloat(i.match(/ adobeair\/(\d+)/)[1])),s.webkit&&(_=parseFloat(i.match(/ applewebkit\/(\d+)/)[1])),s.version=_,s.isCompatible=!(s.ie&&7>_||s.gecko&&4e4>_||s.webkit&&534>_),s.hidpi=2<=window.devicePixelRatio,s.needsBrFiller=s.gecko||s.webkit||s.ie&&10<_,s.needsNbspFiller=s.ie&&11>_,s.cssClass="cke_browser_"+(s.ie?"ie":s.gecko?"gecko":s.webkit?"webkit":"unknown"),s.quirks&&(s.cssClass+=" cke_browser_quirks"),s.ie&&(s.cssClass+=" cke_browser_ie"+(s.quirks?"6 cke_browser_iequirks":s.version)),s.air&&(s.cssClass+=" cke_browser_air"),s.iOS&&(s.cssClass+=" cke_browser_ios"),s.hidpi&&(s.cssClass+=" cke_hidpi"),s}()),"unloaded"==CKEDITOR.status&&(CKEDITOR.event.implementOn(CKEDITOR),CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var i=document.createElement("script");i.type="text/javascript",i.src=CKEDITOR.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(i)}},CKEDITOR.loadFullCoreTimeout=0,CKEDITOR.add=function(i){(this._.pending||(this._.pending=[])).push(i)},CKEDITOR.domReady((function(){var i=CKEDITOR.loadFullCore,o=CKEDITOR.loadFullCoreTimeout;i&&(CKEDITOR.status="basic_ready",i&&i._load?i():o&&setTimeout((function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()}),1e3*o))})),CKEDITOR.status="basic_loaded"),CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(i,o){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:i,additionalData:o})},CKEDITOR.error=function(i,o){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:i,additionalData:o})},CKEDITOR.on("log",(function(i){if(window.console&&window.console.log){var o=console[i.data.type]?i.data.type:"log",s=i.data.errorCode;(i=i.data.additionalData)?console[o]("[CKEDITOR] Error code: "+s+".",i):console[o]("[CKEDITOR] Error code: "+s+"."),console[o]("[CKEDITOR] For more information about this error go to https://ckeditor.com/docs/ckeditor4/latest/guide/dev_errors.html#"+s)}}),null,null,999),CKEDITOR.dom={},function(){function a(i,o,s){this._minInterval=i,this._context=s,this._lastOutput=this._scheduledTimer=0,this._output=CKEDITOR.tools.bind(o,s||{});var _=this;this.input=function(){function a(){_._lastOutput=(new Date).getTime(),_._scheduledTimer=0,_._call()}if(!_._scheduledTimer||!1!==_._reschedule()){var i=(new Date).getTime()-_._lastOutput;i<_._minInterval?_._scheduledTimer=setTimeout(a,_._minInterval-i):a()}}}function d(i,o,s){a.call(this,i,o,s),this._args=[];var _=this;this.input=CKEDITOR.tools.override(this.input,(function(i){return function(){_._args=Array.prototype.slice.call(arguments),i.call(this)}}))}var i=[],o=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",s=/&/g,_=/>/g,$=/</g,j=/"/g,Z=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,ee={lt:"<",gt:">",amp:"&",quot:'"',nbsp:" ",shy:"­"},g=function(i,o){return"#"==o[0]?String.fromCharCode(parseInt(o.slice(1),10)):ee[o]};CKEDITOR.on("reset",(function(){i=[]})),CKEDITOR.tools={arrayCompare:function(i,o){if(!i&&!o)return!0;if(!i||!o||i.length!=o.length)return!1;for(var s=0;s<i.length;s++)if(i[s]!=o[s])return!1;return!0},getIndex:function(i,o){for(var s=0;s<i.length;++s)if(o(i[s]))return s;return-1},clone:function(i){var o;if(i&&i instanceof Array){o=[];for(var s=0;s<i.length;s++)o[s]=CKEDITOR.tools.clone(i[s]);return o}if(null===i||"object"!=typeof i||i instanceof String||i instanceof Number||i instanceof Boolean||i instanceof Date||i instanceof RegExp||i.nodeType||i.window===i)return i;for(s in o=new i.constructor,i)o[s]=CKEDITOR.tools.clone(i[s]);return o},capitalize:function(i,o){return i.charAt(0).toUpperCase()+(o?i.slice(1):i.slice(1).toLowerCase())},extend:function(i){var o,s,_=arguments.length;"boolean"==typeof(o=arguments[_-1])?_--:"boolean"==typeof(o=arguments[_-2])&&(s=arguments[_-1],_-=2);for(var $=1;$<_;$++){var j=arguments[$]||{};CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(j),(function(_){!0!==o&&null!=i[_]||s&&!(_ in s)||(i[_]=j[_])}))}return i},prototypedCopy:function(i){var b=function(){};return b.prototype=i,new b},copy:function(i){var o,s={};for(o in i)s[o]=i[o];return s},isArray:function(i){return"[object Array]"==Object.prototype.toString.call(i)},isEmpty:function(i){for(var o in i)if(i.hasOwnProperty(o))return!1;return!0},cssVendorPrefix:function(i,s,_){return _?o+i+":"+s+";"+i+":"+s:((_={})[i]=s,_[o+i]=s,_)},cssStyleToDomStyle:function(){var i=document.createElement("div").style,o=void 0!==i.cssFloat?"cssFloat":void 0!==i.styleFloat?"styleFloat":"float";return function(i){return"float"==i?o:i.replace(/-./g,(function(i){return i.substr(1).toUpperCase()}))}}(),buildStyleHtml:function(i){i=[].concat(i);for(var o,s=[],_=0;_<i.length;_++)(o=i[_])&&(/@import|[{}]/.test(o)?s.push("<style>"+o+"</style>"):(o=CKEDITOR.appendTimestamp(o),s.push('<link type="text/css" rel=stylesheet href="'+o+'">')));return s.join("")},htmlEncode:function(i){return null==i?"":String(i).replace(s,"&amp;").replace(_,"&gt;").replace($,"&lt;")},htmlDecode:function(i){return i.replace(Z,g)},htmlEncodeAttr:function(i){return CKEDITOR.tools.htmlEncode(i).replace(j,"&quot;")},htmlDecodeAttr:function(i){return CKEDITOR.tools.htmlDecode(i)},transformPlainTextToHtml:function(i,o){var s=o==CKEDITOR.ENTER_BR,_=(_=this.htmlEncode(i.replace(/\r\n/g,"\n"))).replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),$=o==CKEDITOR.ENTER_P?"p":"div";if(!s){var j=/\n{2}/g;if(j.test(_)){var Z="<"+$+">",ee="</"+$+">";_=Z+_.replace(j,(function(){return ee+Z}))+ee}}return _=_.replace(/\n/g,"<br>"),s||(_=_.replace(new RegExp("<br>(?=</"+$+">)"),(function(i){return CKEDITOR.tools.repeat(i,2)}))),(_=_.replace(/^ | $/g,"&nbsp;")).replace(/(>|\s) /g,(function(i,o){return o+"&nbsp;"})).replace(/ (?=<)/g,"&nbsp;")},getNextNumber:function(){var i=0;return function(){return++i}}(),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var i="e",o=0;8>o;o++)i+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return i},override:function(i,o){var s=o(i);return s.prototype=i.prototype,s},setTimeout:function(i,o,s,_,$){return $||($=window),s||(s=$),$.setTimeout((function(){_?i.apply(s,[].concat(_)):i.apply(s)}),o||0)},debounce:function(i,o){var s;return function(){var _=this,$=arguments;clearTimeout(s),s=setTimeout((function(){s=null,i.apply(_,$)}),o)}},throttle:function(i,o,s){return new this.buffers.throttle(i,o,s)},trim:function(){var i=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(o){return o.replace(i,"")}}(),ltrim:function(){var i=/^[ \t\n\r]+/g;return function(o){return o.replace(i,"")}}(),rtrim:function(){var i=/[ \t\n\r]+$/g;return function(o){return o.replace(i,"")}}(),indexOf:function(i,o){if("function"==typeof o){for(var s=0,_=i.length;s<_;s++)if(o(i[s]))return s}else{if(i.indexOf)return i.indexOf(o);for(s=0,_=i.length;s<_;s++)if(i[s]===o)return s}return-1},search:function(i,o){var s=CKEDITOR.tools.indexOf(i,o);return 0<=s?i[s]:null},bind:function(i,o){var s=Array.prototype.slice.call(arguments,2);return function(){return i.apply(o,s.concat(Array.prototype.slice.call(arguments)))}},createClass:function(i){var o=i.$,s=i.base,_=i.privates||i._,$=i.proto;if(i=i.statics,!o&&(o=function(){s&&this.base.apply(this,arguments)}),_){var j=o;o=function(){var i,o=this._||(this._={});for(i in _){var s=_[i];o[i]="function"==typeof s?CKEDITOR.tools.bind(s,this):s}j.apply(this,arguments)}}return s&&(o.prototype=this.prototypedCopy(s.prototype),o.prototype.constructor=o,o.base=s,o.baseProto=s.prototype,o.prototype.base=function w(){this.base=s.prototype.base,s.apply(this,arguments),this.base=w}),$&&this.extend(o.prototype,$,!0),i&&this.extend(o,i,!0),o},addFunction:function(o,s){return i.push((function(){return o.apply(s||this,arguments)}))-1},removeFunction:function(o){i[o]=null},callFunction:function(o){var s=i[o];return s&&s.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var i,o=/^-?\d+\.?\d*px$/;return function(s){return i=CKEDITOR.tools.trim(s+"")+"px",o.test(i)?i:s||""}}(),convertToPx:function(){var i,o;return function(s){if(i&&!i.isDetached()||(i=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(i)),!/%$/.test(s)){var _=0>parseFloat(s);return _&&(s=s.replace("-","")),i.setStyle("width",s),o=i.getClientRect(),s=Math.round(o.width),_?-s:s}return s}}(),repeat:function(i,o){return Array(o+1).join(i)},tryThese:function(){for(var i,o=0,s=arguments.length;o<s;o++){var _=arguments[o];try{i=_();break}catch(i){}}return i},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(i){return function(){var o=arguments,s=this;window.setTimeout((function(){i.apply(s,o)}),0)}},normalizeCssText:function(i,o){var s,_=[],$=CKEDITOR.tools.parseCssText(i,!0,o);for(s in $)_.push(s+":"+$[s]);return _.sort(),_.length?_.join(";")+";":""},convertRgbToHex:function(i){return i.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,(function(i,o,s,_){for(i=[o,s,_],o=0;3>o;o++)i[o]=("0"+parseInt(i[o],10).toString(16)).slice(-2);return"#"+i.join("")}))},normalizeHex:function(i){return i.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,(function(i,o,s,_){return 3==(i=o.toLowerCase()).length&&(i=[(i=i.split(""))[0],i[0],i[1],i[1],i[2],i[2]].join("")),"#"+i+_}))},_isValidColorFormat:function(i){return!!i&&(i=i.replace(/\s+/g,""),/^[a-z0-9()#%,./]+$/i.test(i))},parseCssText:function(i,o,s){var _={};return s&&(i=new CKEDITOR.dom.element("span").setAttribute("style",i).getAttribute("style")||""),i&&(i=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(i))),i&&";"!=i?(i.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,(function(i,s,$){o&&("font-family"==(s=s.toLowerCase())&&($=$.replace(/\s*,\s*/g,",")),$=CKEDITOR.tools.trim($)),_[s]=$})),_):_},writeCssText:function(i,o){var s,_=[];for(s in i)_.push(s+":"+i[s]);return o&&_.sort(),_.join("; ")},objectCompare:function(i,o,s){var _;if(!i&&!o)return!0;if(!i||!o)return!1;for(_ in i)if(i[_]!=o[_])return!1;if(!s)for(_ in o)if(i[_]!=o[_])return!1;return!0},objectKeys:function(i){return CKEDITOR.tools.object.keys(i)},convertArrayToObject:function(i,o){var s={};1==arguments.length&&(o=!0);for(var _=0,$=i.length;_<$;++_)s[i[_]]=o;return s},getStyledSpans:function(i,o){var s=CKEDITOR.env.ie&&8==CKEDITOR.env.version?i.toUpperCase():i;s=o.find("span[style*="+s+"]").toArray();return CKEDITOR.tools.array.filter(s,(function(o){return!!o.getStyle(i)}))},fixDomain:function(){for(var i;;)try{i=window.parent.document.domain;break}catch(o){if(!(i=i?i.replace(/.+?(?:\.|$)/,""):document.domain))break;document.domain=i}return!!i},eventsBuffer:function(i,o,s){return new this.buffers.event(i,o,s)},enableHtml5Elements:function(i,o){for(var s,_="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),$=_.length;$--;)s=i.createElement(_[$]),o&&i.appendChild(s)},checkIfAnyArrayItemMatches:function(i,o){for(var s=0,_=i.length;s<_;++s)if(i[s].match(o))return!0;return!1},checkIfAnyObjectPropertyMatches:function(i,o){for(var s in i)if(s.match(o))return!0;return!1},keystrokeToString:function(i,o){var s=this.keystrokeToArray(i,o);return s.display=s.display.join("+"),s.aria=s.aria.join("+"),s},keystrokeToArray:function(i,o){var s=16711680&o,_=65535&o,$=CKEDITOR.env.mac,j=[],Z=[];return s&CKEDITOR.CTRL&&(j.push($?"⌘":i[17]),Z.push($?i[224]:i[17])),s&CKEDITOR.ALT&&(j.push($?"⌥":i[18]),Z.push(i[18])),s&CKEDITOR.SHIFT&&(j.push($?"⇧":i[16]),Z.push(i[16])),_&&(i[_]?(j.push(i[_]),Z.push(i[_])):(j.push(String.fromCharCode(_)),Z.push(String.fromCharCode(_)))),{display:j,aria:Z}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",getCookie:function(i){i=i.toLowerCase();for(var o,s=document.cookie.split(";"),_=0;_<s.length;_++)if(o=s[_].split("="),decodeURIComponent(CKEDITOR.tools.trim(o[0]).toLowerCase())===i)return decodeURIComponent(1<o.length?o[1]:"");return null},setCookie:function(i,o){document.cookie=encodeURIComponent(i)+"="+encodeURIComponent(o)+";path=/"},getCsrfToken:function(){if(!(i=CKEDITOR.tools.getCookie("ckCsrfToken"))||40!=i.length){var i=[],o="";if(window.crypto&&window.crypto.getRandomValues)i=new Uint8Array(40),window.crypto.getRandomValues(i);else for(var s=0;40>s;s++)i.push(Math.floor(256*Math.random()));for(s=0;s<i.length;s++){var _="abcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%36);o=o+(.5<Math.random()?_.toUpperCase():_)}i=o,CKEDITOR.tools.setCookie("ckCsrfToken",i)}return i},escapeCss:function(i){if(i)if(window.CSS&&CSS.escape)i=CSS.escape(i);else{for(var o,s=(i=String(i)).length,_=-1,$="",j=i.charCodeAt(0);++_<s;)$=0==(o=i.charCodeAt(_))?$+"�":127==o||1<=o&&31>=o||0==_&&48<=o&&57>=o||1==_&&48<=o&&57>=o&&45==j?$+"\\"+o.toString(16)+" ":0==_&&1==s&&45==o?$+"\\"+i.charAt(_):128<=o||45==o||95==o||48<=o&&57>=o||65<=o&&90>=o||97<=o&&122>=o?$+i.charAt(_):$+"\\"+i.charAt(_);i=$}else i="";return i},getMouseButton:function(i){return!!(i=i&&i.data?i.data.$:i)&&CKEDITOR.tools.normalizeMouseButton(i.button)},normalizeMouseButton:function(i,o){if(!CKEDITOR.env.ie||9<=CKEDITOR.env.version&&!CKEDITOR.env.ie6Compat)return i;for(var s=[[CKEDITOR.MOUSE_BUTTON_LEFT,1],[CKEDITOR.MOUSE_BUTTON_MIDDLE,4],[CKEDITOR.MOUSE_BUTTON_RIGHT,2]],_=0;_<s.length;_++){var $=s[_];if($[0]===i&&o)return $[1];if(!o&&$[1]===i)return $[0]}},convertHexStringToBytes:function(i){var o,s=[],_=i.length/2;for(o=0;o<_;o++)s.push(parseInt(i.substr(2*o,2),16));return s},convertBytesToBase64:function(i){var o,s="",_=i.length;for(o=0;o<_;o+=3){var $,j=i.slice(o,o+3),Z=j.length,ee=[];if(3>Z)for($=Z;3>$;$++)j[$]=0;for(ee[0]=(252&j[0])>>2,ee[1]=(3&j[0])<<4|j[1]>>4,ee[2]=(15&j[1])<<2|(192&j[2])>>6,ee[3]=63&j[2],$=0;4>$;$++)s=$<=Z?s+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(ee[$]):s+"="}return s},style:{parse:{_borderStyle:"none hidden dotted dashed solid double groove ridge inset outset".split(" "),_widthRegExp:/^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(i){var o={},s=this._findColor(i);return s.length&&(o.color=s[0],CKEDITOR.tools.array.forEach(s,(function(o){i=i.replace(o,"")}))),(i=CKEDITOR.tools.trim(i))&&(o.unprocessed=i),o},margin:function(i){return CKEDITOR.tools.style.parse.sideShorthand(i,(function(i){return i.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset|revert)/g)||["0px"]}))},sideShorthand:function(i,o){function c(i){s.top=_[i[0]],s.right=_[i[1]],s.bottom=_[i[2]],s.left=_[i[3]]}var s={},_=o?o(i):i.split(/\s+/);switch(_.length){case 1:c([0,0,0,0]);break;case 2:c([0,1,0,1]);break;case 3:c([0,1,2,1]);break;case 4:c([0,1,2,3])}return s},border:function(i){return CKEDITOR.tools.style.border.fromCssRule(i)},_findColor:function(i){var o=[],s=CKEDITOR.tools.array;return(o=(o=o.concat(i.match(this._rgbaRegExp)||[])).concat(i.match(this._hslaRegExp)||[])).concat(s.filter(i.split(/\s+/),(function(i){return!!i.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)||i.toLowerCase()in CKEDITOR.tools.style.parse._colors})))}}},array:{filter:function(i,o,s){var _=[];return this.forEach(i,(function($,j){o.call(s,$,j,i)&&_.push($)})),_},find:function(i,o,s){for(var _=i.length,$=0;$<_;){if(o.call(s,i[$],$,i))return i[$];$++}},forEach:function(i,o,s){var _,$=i.length;for(_=0;_<$;_++)o.call(s,i[_],_,i)},map:function(i,o,s){for(var _=[],$=0;$<i.length;$++)_.push(o.call(s,i[$],$,i));return _},reduce:function(i,o,s,_){for(var $=0;$<i.length;$++)s=o.call(_,s,i[$],$,i);return s},every:function(i,o,s){return!i.length||(o=this.filter(i,o,s),i.length===o.length)},some:function(i,o,s){for(var _=0;_<i.length;_++)if(o.call(s,i[_],_,i))return!0;return!1},zip:function(i,o){return CKEDITOR.tools.array.map(i,(function(i,s){return[i,o[s]]}))},unique:function(i){return this.filter(i,(function(o,s){return s===CKEDITOR.tools.array.indexOf(i,o)}))}},object:{DONT_ENUMS:"toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),entries:function(i){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(i),(function(o){return[o,i[o]]}))},values:function(i){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(i),(function(o){return i[o]}))},keys:function(i){var o=Object.prototype.hasOwnProperty,s=[],_=CKEDITOR.tools.object.DONT_ENUMS;if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(!i||"object"!=typeof i)){if(o=[],"string"==typeof i)for(s=0;s<i.length;s++)o.push(String(s));return o}for(var $ in i)s.push($);if(CKEDITOR.env.ie&&9>CKEDITOR.env.version)for($=0;$<_.length;$++)o.call(i,_[$])&&s.push(_[$]);return s},findKey:function(i,o){if("object"!=typeof i)return null;for(var s in i)if(i[s]===o)return s;return null},merge:function(i,o){var s=CKEDITOR.tools,_=s.clone(i),$=s.clone(o);return s.array.forEach(s.object.keys($),(function(i){_[i]="object"==typeof $[i]&&"object"==typeof _[i]?s.object.merge(_[i],$[i]):$[i]})),_}},getAbsoluteRectPosition:function(i,o){var s=CKEDITOR.tools.copy(o);!function c(i){if(i){var o=i.getClientRect();s.top+=o.top,s.left+=o.left,"x"in s&&"y"in s&&(s.x+=o.x,s.y+=o.y),c(i.getWindow().getFrame())}}(i.getFrame());var _=CKEDITOR.document.getWindow().getScrollPosition();return s.top+=_.y,s.left+=_.x,"x"in s&&"y"in s&&(s.y+=_.y,s.x+=_.x),s.right=s.left+s.width,s.bottom=s.top+s.height,s}},a.prototype={reset:function(){this._lastOutput=0,this._clearTimer()},_reschedule:function(){return!1},_call:function(){this._output()},_clearTimer:function(){this._scheduledTimer&&clearTimeout(this._scheduledTimer),this._scheduledTimer=0}},d.prototype=CKEDITOR.tools.prototypedCopy(a.prototype),d.prototype._reschedule=function(){this._scheduledTimer&&this._clearTimer()},d.prototype._call=function(){this._output.apply(this._context,this._args)},CKEDITOR.tools.buffers={},CKEDITOR.tools.buffers.event=a,CKEDITOR.tools.buffers.throttle=d,CKEDITOR.tools.style.border=CKEDITOR.tools.createClass({$:function(i){i=i||{},this.width=i.width,this.style=i.style,this.color=i.color,this._.normalize()},_:{normalizeMap:{color:[[/windowtext/g,"black"]]},normalize:function(){for(var i in this._.normalizeMap){var o=this[i];o&&(this[i]=CKEDITOR.tools.array.reduce(this._.normalizeMap[i],(function(i,o){return i.replace(o[0],o[1])}),o))}}},proto:{toString:function(){return CKEDITOR.tools.array.filter([this.width,this.style,this.color],(function(i){return!!i})).join(" ")}},statics:{fromCssRule:function(i){var o={},s=i.split(/\s+/g);return(i=CKEDITOR.tools.style.parse._findColor(i)).length&&(o.color=i[0]),CKEDITOR.tools.array.forEach(s,(function(i){o.style||-1===CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle,i)?!o.width&&CKEDITOR.tools.style.parse._widthRegExp.test(i)&&(o.width=i):o.style=i})),new CKEDITOR.tools.style.border(o)},splitCssValues:function(i,o){o=o||{};var s=CKEDITOR.tools.array.reduce(["width","style","color"],(function(s,_){var $=i["border-"+_]||o[_];return s[_]=$?CKEDITOR.tools.style.parse.sideShorthand($):null,s}),{});return CKEDITOR.tools.array.reduce(["top","right","bottom","left"],(function(o,_){var $,j={};for($ in s){var Z=i["border-"+_+"-"+$];j[$]=Z||s[$]&&s[$][_]}return o["border-"+_]=new CKEDITOR.tools.style.border(j),o}),{})}}}),CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf,CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray,CKEDITOR.MOUSE_BUTTON_LEFT=0,CKEDITOR.MOUSE_BUTTON_MIDDLE=1,CKEDITOR.MOUSE_BUTTON_RIGHT=2}(),CKEDITOR.dtd=function(){var i=CKEDITOR.tools.extend,d=function(i,o){for(var s=CKEDITOR.tools.clone(i),_=1;_<arguments.length;_++)for(var $ in o=arguments[_])delete s[$];return s},o={},s={},_={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},$={command:1,link:1,meta:1,noscript:1,script:1,style:1},j={},Z={"#":1},ee={center:1,dir:1,noframes:1};return i(o,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,var:1,video:1,wbr:1},Z,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1}),i(s,_,o,ee),d={a:d(o,{a:1,button:1}),abbr:o,address:s,area:j,article:s,aside:s,audio:i({source:1,track:1},s),b:o,base:j,bdi:o,bdo:o,blockquote:s,body:s,br:j,button:d(o,{a:1,button:1}),canvas:o,caption:s,cite:o,code:o,col:j,colgroup:{col:1},command:j,datalist:i({option:1},o),dd:s,del:o,details:i({summary:1},s),dfn:o,div:s,dl:{dt:1,dd:1},dt:s,em:o,embed:j,fieldset:i({legend:1},s),figcaption:s,figure:i({figcaption:1},s),footer:s,form:s,h1:o,h2:o,h3:o,h4:o,h5:o,h6:o,head:i({title:1,base:1},$),header:s,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:j,html:i({head:1,body:1},s,$),i:o,iframe:Z,img:j,input:j,ins:o,kbd:o,keygen:j,label:o,legend:o,li:s,link:j,main:s,map:s,mark:o,menu:i({li:1},s),meta:j,meter:d(o,{meter:1}),nav:s,noscript:i({link:1,meta:1,style:1},o),object:i({param:1},o),ol:{li:1},optgroup:{option:1},option:Z,output:o,p:o,param:j,pre:o,progress:d(o,{progress:1}),q:o,rp:o,rt:o,ruby:i({rp:1,rt:1},o),s:o,samp:o,script:Z,section:s,select:{optgroup:1,option:1},small:o,source:j,span:o,strong:o,style:Z,sub:o,summary:i({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},o),sup:o,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:s,textarea:Z,tfoot:{tr:1},th:s,thead:{tr:1},time:d(o,{time:1}),title:Z,tr:{th:1,td:1},track:j,u:o,ul:{li:1},var:o,video:i({source:1,track:1},s),wbr:j,acronym:o,applet:i({param:1},s),basefont:j,big:o,center:s,dialog:j,dir:{li:1},font:o,isindex:j,noframes:s,strike:o,tt:o},i(d,{$block:i({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},_,ee),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:o,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:i({body:1,head:1,html:1},d.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,var:1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),d}(),CKEDITOR.dom.event=function(i){this.$=i},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var i=this.getKey();return(this.$.ctrlKey||this.$.metaKey)&&(i+=CKEDITOR.CTRL),this.$.shiftKey&&(i+=CKEDITOR.SHIFT),this.$.altKey&&(i+=CKEDITOR.ALT),i},preventDefault:function(i){var o=this.$;o.preventDefault?o.preventDefault():o.returnValue=!1,i&&this.stopPropagation()},stopPropagation:function(){var i=this.$;i.stopPropagation?i.stopPropagation():i.cancelBubble=!0},getTarget:function(){var i=this.$.target||this.$.srcElement;return i?new CKEDITOR.dom.node(i):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var i=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(i.documentElement.scrollLeft||i.body.scrollLeft),y:this.$.pageY||this.$.clientY+(i.documentElement.scrollTop||i.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.HISTORY_NATIVE=1,CKEDITOR.HISTORY_HASH=2,CKEDITOR.HISTORY_OFF=0,CKEDITOR.dom.domObject=function(i){i&&(this.$=i)},CKEDITOR.dom.domObject.prototype=function(){var a=function(i,o){return function(s){"undefined"!=typeof CKEDITOR&&i.fire(o,new CKEDITOR.dom.event(s))}};return{getPrivate:function(){var i;return(i=this.getCustomData("_"))||this.setCustomData("_",i={}),i},on:function(i){var o=this.getCustomData("_cke_nativeListeners");return o||(o={},this.setCustomData("_cke_nativeListeners",o)),o[i]||(o=o[i]=a(this,i),this.$.addEventListener?this.$.addEventListener(i,o,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+i,o)),CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(i){if(CKEDITOR.event.prototype.removeListener.apply(this,arguments),!this.hasListeners(i)){var o=this.getCustomData("_cke_nativeListeners"),s=o&&o[i];s&&(this.$.removeEventListener?this.$.removeEventListener(i,s,!1):this.$.detachEvent&&this.$.detachEvent("on"+i,s),delete o[i])}},removeAllListeners:function(){try{var i,o=this.getCustomData("_cke_nativeListeners");for(i in o){var s=o[i];this.$.detachEvent?this.$.detachEvent("on"+i,s):this.$.removeEventListener&&this.$.removeEventListener(i,s,!1),delete o[i]}}catch(i){if(!CKEDITOR.env.edge||-2146828218!==i.number)throw i}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}(),function(i){var o={};CKEDITOR.on("reset",(function(){o={}})),i.equals=function(i){try{return i&&i.$===this.$}catch(i){return!1}},i.setCustomData=function(i,s){var _=this.getUniqueId();return(o[_]||(o[_]={}))[i]=s,this},i.getCustomData=function(i){var s=this.$["data-cke-expando"];return(s=s&&o[s])&&i in s?s[i]:null},i.removeCustomData=function(i){var s,_,$;return(s=(s=this.$["data-cke-expando"])&&o[s])&&(_=s[i],$=i in s,delete s[i]),$?_:null},i.clearCustomData=function(){this.removeAllListeners();var i=this.getUniqueId();i&&delete o[i]},i.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())},CKEDITOR.event.implementOn(i)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(i){return i?new CKEDITOR.dom[i.nodeType==CKEDITOR.NODE_DOCUMENT?"document":i.nodeType==CKEDITOR.NODE_ELEMENT?"element":i.nodeType==CKEDITOR.NODE_TEXT?"text":i.nodeType==CKEDITOR.NODE_COMMENT?"comment":i.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](i):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(i,o){return i.append(this,o),i},clone:function(i,o){var s=this.$.cloneNode(i);return function b(s){if(s["data-cke-expando"]&&(s["data-cke-expando"]=!1),(s.nodeType==CKEDITOR.NODE_ELEMENT||s.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(o||s.nodeType!=CKEDITOR.NODE_ELEMENT||s.removeAttribute("id",!1),i)){s=s.childNodes;for(var _=0;_<s.length;_++)b(s[_])}}(s),s=new CKEDITOR.dom.node(s),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&function c(o){if(o.type==CKEDITOR.NODE_ELEMENT||o.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(o.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var s=o.getName();":"==s[0]&&o.renameNode(s.substring(1))}if(i)for(s=0;s<o.getChildCount();s++)c(o.getChild(s))}}(s),s},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(i){return i.$.parentNode.insertBefore(this.$,i.$.nextSibling),i},insertBefore:function(i){return i.$.parentNode.insertBefore(this.$,i.$),i},insertBeforeMe:function(i){return this.$.parentNode.insertBefore(i.$,this.$),i},getAddress:function(i){for(var o=[],s=this.getDocument().$.documentElement,_=this;_&&_!=s;){var $=_.getParent();$&&o.unshift(this.getIndex.call(_,i)),_=$}return o},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(i){function d(i,o){var s=o?i.getNext():i.getPrevious();return s&&s.type==CKEDITOR.NODE_TEXT?s.isEmpty()?d(s,o):s:null}var o,s=this,_=-1;if(!this.getParent()||i&&s.type==CKEDITOR.NODE_TEXT&&s.isEmpty()&&!d(s)&&!d(s,!0))return-1;do{i&&!s.equals(this)&&s.type==CKEDITOR.NODE_TEXT&&(o||s.isEmpty())||(_++,o=s.type==CKEDITOR.NODE_TEXT)}while(s=s.getPrevious());return _},getNextSourceNode:function(i,o,s){if(s&&!s.call){var _=s;s=function(i){return!i.equals(_)}}var $;if(!(i=!i&&this.getFirst&&this.getFirst())){if(this.type==CKEDITOR.NODE_ELEMENT&&s&&!1===s(this,!0))return null;i=this.getNext()}for(;!i&&($=($||this).getParent());){if(s&&!1===s($,!0))return null;i=$.getNext()}return!i||s&&!1===s(i)?null:o&&o!=i.type?i.getNextSourceNode(!1,o,s):i},getPreviousSourceNode:function(i,o,s){if(s&&!s.call){var _=s;s=function(i){return!i.equals(_)}}var $;if(!(i=!i&&this.getLast&&this.getLast())){if(this.type==CKEDITOR.NODE_ELEMENT&&s&&!1===s(this,!0))return null;i=this.getPrevious()}for(;!i&&($=($||this).getParent());){if(s&&!1===s($,!0))return null;i=$.getPrevious()}return!i||s&&!1===s(i)?null:o&&i.type!=o?i.getPreviousSourceNode(!1,o,s):i},getPrevious:function(i){var o,s=this.$;do{o=(s=s.previousSibling)&&10!=s.nodeType&&new CKEDITOR.dom.node(s)}while(o&&i&&!i(o));return o},getNext:function(i){var o,s=this.$;do{o=(s=s.nextSibling)&&new CKEDITOR.dom.node(s)}while(o&&i&&!i(o));return o},getParent:function(i){var o=this.$.parentNode;return o&&(o.nodeType==CKEDITOR.NODE_ELEMENT||i&&o.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(o):null},getParents:function(i){var o=this,s=[];do{s[i?"push":"unshift"](o)}while(o=o.getParent());return s},getCommonAncestor:function(i){if(i.equals(this))return this;if(i.contains&&i.contains(this))return i;var o=this.contains?this:this.getParent();do{if(o.contains(i))return o}while(o=o.getParent());return null},getPosition:function(i){var o=this.$,s=i.$;if(o.compareDocumentPosition)return o.compareDocumentPosition(s);if(o==s)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&i.type==CKEDITOR.NODE_ELEMENT){if(o.contains){if(o.contains(s))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(s.contains(o))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in o)return 0>o.sourceIndex||0>s.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:o.sourceIndex<s.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}o=this.getAddress(),i=i.getAddress();s=Math.min(o.length,i.length);for(var _=0;_<s;_++)if(o[_]!=i[_])return o[_]<i[_]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return o.length<i.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(i,o){var s,_,$=this.$;for(o||($=$.parentNode),"function"==typeof i?(_=!0,s=i):(_=!1,s=function(o){return o="string"==typeof o.nodeName?o.nodeName.toLowerCase():"","string"==typeof i?o==i:o in i});$;){if(s(_?new CKEDITOR.dom.node($):$))return new CKEDITOR.dom.node($);try{$=$.parentNode}catch(i){$=null}}return null},hasAscendant:function(i,o){var s=this.$;for(o||(s=s.parentNode);s;){if(s.nodeName&&s.nodeName.toLowerCase()==i)return!0;s=s.parentNode}return!1},move:function(i,o){i.append(this.remove(),o)},remove:function(i){var o=this.$,s=o.parentNode;if(s){if(i)for(;i=o.firstChild;)s.insertBefore(o.removeChild(i),o);s.removeChild(o)}return this},replace:function(i){this.insertBefore(i),i.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){for(var i;this.getFirst&&(i=this.getFirst());){if(i.type==CKEDITOR.NODE_TEXT){var o=CKEDITOR.tools.ltrim(i.getText()),s=i.getLength();if(!o){i.remove();continue}o.length<s&&(i.split(s-o.length),this.$.removeChild(this.$.firstChild))}break}},rtrim:function(){for(var i;this.getLast&&(i=this.getLast());){if(i.type==CKEDITOR.NODE_TEXT){var o=CKEDITOR.tools.rtrim(i.getText()),s=i.getLength();if(!o){i.remove();continue}o.length<s&&(i.split(o.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild))}break}CKEDITOR.env.needsBrFiller&&(i=this.$.lastChild)&&1==i.type&&"br"==i.nodeName.toLowerCase()&&i.parentNode.removeChild(i)},isReadOnly:function(i){var o=this;if(this.type!=CKEDITOR.NODE_ELEMENT&&(o=this.getParent()),CKEDITOR.env.edge&&o&&o.is("textarea","input")&&(i=!0),!i&&o&&void 0!==o.$.isContentEditable)return!(o.$.isContentEditable||o.data("cke-editable"));for(;o;){if(o.data("cke-editable"))return!1;if(o.hasAttribute("contenteditable"))return"false"==o.getAttribute("contenteditable");o=o.getParent()}return!0}}),CKEDITOR.dom.window=function(i){CKEDITOR.dom.domObject.call(this,i)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var i=this.$.document,o="CSS1Compat"==i.compatMode;return{width:(o?i.documentElement.clientWidth:i.body.clientWidth)||0,height:(o?i.documentElement.clientHeight:i.body.clientHeight)||0}},getScrollPosition:function(){var i=this.$;return"pageXOffset"in i?{x:i.pageXOffset||0,y:i.pageYOffset||0}:{x:(i=i.document).documentElement.scrollLeft||i.body.scrollLeft||0,y:i.documentElement.scrollTop||i.body.scrollTop||0}},getFrame:function(){var i=this.$.frameElement;return i?new CKEDITOR.dom.element.get(i):null}}),CKEDITOR.dom.document=function(i){CKEDITOR.dom.domObject.call(this,i)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(i){if(i=CKEDITOR.appendTimestamp(i),this.$.createStyleSheet)this.$.createStyleSheet(i);else{var o=new CKEDITOR.dom.element("link");o.setAttributes({rel:"stylesheet",type:"text/css",href:i}),this.getHead().append(o)}},appendStyleText:function(i){if(this.$.createStyleSheet){var o=this.$.createStyleSheet("");o.cssText=i}else{var s=new CKEDITOR.dom.element("style",this);s.append(new CKEDITOR.dom.text(i,this)),this.getHead().append(s)}return o||s.$.sheet},createElement:function(i,o){var s=new CKEDITOR.dom.element(i,this);return o&&(o.attributes&&s.setAttributes(o.attributes),o.styles&&s.setStyles(o.styles)),s},createText:function(i){return new CKEDITOR.dom.text(i,this)},focus:function(){this.getWindow().focus()},getActive:function(){var i;try{i=this.$.activeElement}catch(i){return null}return new CKEDITOR.dom.element(i)},getById:function(i){return(i=this.$.getElementById(i))?new CKEDITOR.dom.element(i):null},getByAddress:function(i,o){for(var s=this.$.documentElement,_=0;s&&_<i.length;_++){var $=i[_];if(o)for(var j=-1,Z=0;Z<s.childNodes.length;Z++){var ee=s.childNodes[Z];if((!0!==o||3!=ee.nodeType||!ee.previousSibling||3!=ee.previousSibling.nodeType)&&++j==$){s=ee;break}}else s=s.childNodes[$]}return s?new CKEDITOR.dom.node(s):null},getElementsByTag:function(i,o){return CKEDITOR.env.ie&&8>=document.documentMode||!o||(i=o+":"+i),new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(i))},getHead:function(){var i=this.$.getElementsByTagName("head")[0];return i?new CKEDITOR.dom.element(i):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(i){this.$.open("text/html","replace"),CKEDITOR.env.ie&&(i=i.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();<\/script>")),this.$.write(i),this.$.close()},find:function(i){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(i))},findOne:function(i){return(i=this.$.querySelector(i))?new CKEDITOR.dom.element(i):null},_getHtml5ShivFrag:function(){var i=this.getCustomData("html5ShivFrag");return i||(i=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(i,!0),this.setCustomData("html5ShivFrag",i)),i}}),CKEDITOR.dom.nodeList=function(i){this.$=i},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(i){return 0>i||i>=this.$.length?null:(i=this.$[i])?new CKEDITOR.dom.node(i):null},toArray:function(){return CKEDITOR.tools.array.map(this.$,(function(i){return new CKEDITOR.dom.node(i)}))}},CKEDITOR.dom.element=function(i,o){"string"==typeof i&&(i=(o?o.$:document).createElement(i)),CKEDITOR.dom.domObject.call(this,i)},CKEDITOR.dom.element.get=function(i){return(i="string"==typeof i?document.getElementById(i)||document.getElementsByName(i)[0]:i)&&(i.$?i:new CKEDITOR.dom.element(i))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(i,o){var s=new CKEDITOR.dom.element("div",o);return s.setHtml(i),s.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(i,o,s,_){var $=o.getCustomData("list_marker_id")||o.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),j=o.getCustomData("list_marker_names")||o.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return i[$]=o,j[s]=1,o.setCustomData(s,_)},CKEDITOR.dom.element.clearAllMarkers=function(i){for(var o in i)CKEDITOR.dom.element.clearMarkers(i,i[o],1)},CKEDITOR.dom.element.clearMarkers=function(i,o,s){var _,$=o.getCustomData("list_marker_names"),j=o.getCustomData("list_marker_id");for(_ in $)o.removeCustomData(_);o.removeCustomData("list_marker_names"),s&&(o.removeCustomData("list_marker_id"),delete i[j])},function(){function a(i,s){return-1<(" "+i+" ").replace(o," ").indexOf(" "+s+" ")}function d(i){var o=!0;return i.$.id||(i.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),o=!1),function(){o||i.removeAttribute("id")}}function b(i,o){var s=CKEDITOR.tools.escapeCss(i.$.id);return"#"+s+" "+o.split(/,\s*/).join(", #"+s+" ")}function c(i){for(var o=0,_=0,$=s[i].length;_<$;_++)o+=parseFloat(this.getComputedStyle(s[i][_])||0,10)||0;return o}var i=void 0!==(i=document.createElement("_").classList)&&null!==String(i.add).match(/\[Native code\]/gi),o=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:i?function(i){return this.$.classList.add(i),this}:function(i){var o=this.$.className;return o&&(a(o,i)||(o+=" "+i)),this.$.className=o||i,this},removeClass:i?function(i){var o=this.$;return o.classList.remove(i),o.className||o.removeAttribute("class"),this}:function(i){var o=this.getAttribute("class");return o&&a(o,i)&&((o=o.replace(new RegExp("(?:^|\\s+)"+i+"(?=\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",o):this.removeAttribute("class")),this},hasClass:function(i){return a(this.$.className,i)},append:function(i,o){return"string"==typeof i&&(i=this.getDocument().createElement(i)),o?this.$.insertBefore(i.$,this.$.firstChild):this.$.appendChild(i.$),i},appendHtml:function(i){if(this.$.childNodes.length){var o=new CKEDITOR.dom.element("div",this.getDocument());o.setHtml(i),o.moveChildren(this)}else this.setHtml(i)},appendText:function(i){null!=this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=i:this.append(new CKEDITOR.dom.text(i))},appendBogus:function(i){if(i||CKEDITOR.env.needsBrFiller){for(i=this.getLast();i&&i.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(i.getText());)i=i.getPrevious();i&&i.is&&i.is("br")||(i=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&i.setAttribute("type","_moz"),this.append(i))}},breakParent:function(i,o){var s=new CKEDITOR.dom.range(this.getDocument());s.setStartAfter(this),s.setEndAfter(i);var _,$=s.extractContents(!1,o||!1);if(s.insertNode(this.remove()),CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(s=new CKEDITOR.dom.element("div");_=$.getFirst();)_.$.style.backgroundColor&&(_.$.style.backgroundColor=_.$.style.backgroundColor),s.append(_);s.insertAfter(this),s.remove(!0)}else $.insertAfterNode(this)},contains:document.compareDocumentPosition?function(i){return!!(16&this.$.compareDocumentPosition(i.$))}:function(i){var o=this.$;return i.type!=CKEDITOR.NODE_ELEMENT?o.contains(i.getParent().$):o!=i.$&&o.contains(i.$)},focus:function(){function a(){try{this.$.focus()}catch(i){}}return function(i){i?CKEDITOR.tools.setTimeout(a,100,this):a.call(this)}}(),getHtml:function(){var i=this.$.innerHTML;return CKEDITOR.env.ie?i.replace(/<\?[^>]*>/g,""):i},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var i=this.$.ownerDocument.createElement("div");return i.appendChild(this.$.cloneNode(!0)),i.innerHTML},getClientRect:function(i){var o=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());return!o.width&&(o.width=o.right-o.left),!o.height&&(o.height=o.bottom-o.top),i?CKEDITOR.tools.getAbsoluteRectPosition(this.getWindow(),o):o},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(i){try{var o=this.$;if(this.getParent())return o.innerHTML=i;var s=this.getDocument()._getHtml5ShivFrag();return s.appendChild(o),o.innerHTML=i,s.removeChild(o),i}catch(s){for(this.$.innerHTML="",(o=new CKEDITOR.dom.element("body",this.getDocument())).$.innerHTML=i,o=o.getChildren();o.count();)this.append(o.getItem(0));return i}}:function(i){return this.$.innerHTML=i},setText:function(){var i=document.createElement("p");return i.innerHTML="x",i=i.textContent,function(o){this.$[i?"textContent":"innerText"]=o}}(),getAttribute:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(i){switch(i){case"class":i="className";break;case"http-equiv":i="httpEquiv";break;case"name":return this.$.name;case"tabindex":return 0!==(i=this.$.getAttribute(i,2))&&0===this.$.tabIndex&&(i=null),i;case"checked":return((i=this.$.attributes.getNamedItem(i)).specified?i.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[i];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(i,2)}:function(i){return this.$.getAttribute(i,2)},getAttributes:function(i){var o,s={},_=this.$.attributes;for(i=CKEDITOR.tools.isArray(i)?i:[],o=0;o<_.length;o++)-1===CKEDITOR.tools.indexOf(i,_[o].name)&&(s[_[o].name]=_[o].value);return s},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getClientSize:function(){return{width:this.$.clientWidth,height:this.$.clientHeight}},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(i){var o=this.getWindow().$.getComputedStyle(this.$,null);return o?o.getPropertyValue(i):""}:function(i){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(i)]},getDtd:function(){var i=CKEDITOR.dtd[this.getName()];return this.getDtd=function(){return i},i},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var i=this.$.tabIndex;return 0!==i||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?i:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var i=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&8>=document.documentMode){var o=this.$.scopeName;"HTML"!=o&&(i=o.toLowerCase()+":"+i)}return this.getName=function(){return i},this.getName()},getValue:function(){return this.$.value},getFirst:function(i){var o=this.$.firstChild;return(o=o&&new CKEDITOR.dom.node(o))&&i&&!i(o)&&(o=o.getNext(i)),o},getLast:function(i){var o=this.$.lastChild;return(o=o&&new CKEDITOR.dom.node(o))&&i&&!i(o)&&(o=o.getPrevious(i)),o},getStyle:function(i){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(i)]},is:function(){var i=this.getName();if("object"==typeof arguments[0])return!!arguments[0][i];for(var o=0;o<arguments.length;o++)if(arguments[o]==i)return!0;return!1},isEditable:function(i){var o=this.getName();return!(this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[o]||CKEDITOR.dtd.$empty[o]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount())&&(!1===i||!(!(i=CKEDITOR.dtd[o]||CKEDITOR.dtd.span)||!i["#"]))},isIdentical:function(i){var o=this.clone(0,1);if(i=i.clone(0,1),o.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),i.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),o.$.isEqualNode)return o.$.style.cssText=CKEDITOR.tools.normalizeCssText(o.$.style.cssText),i.$.style.cssText=CKEDITOR.tools.normalizeCssText(i.$.style.cssText),o.$.isEqualNode(i.$);if(o=o.getOuterHtml(),i=i.getOuterHtml(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is("a")){var s=this.getParent();s.type==CKEDITOR.NODE_ELEMENT&&((s=s.clone()).setHtml(o),o=s.getHtml(),s.setHtml(i),i=s.getHtml())}return o==i},isVisible:function(){var i,o,s=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility");return s&&CKEDITOR.env.webkit&&(!(i=this.getWindow()).equals(CKEDITOR.document.getWindow())&&(o=i.$.frameElement)&&(s=new CKEDITOR.dom.element(o).isVisible())),!!s},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var i=this.getChildren(),o=0,s=i.count();o<s;o++){var _=i.getItem(o);if((_.type!=CKEDITOR.NODE_ELEMENT||!_.data("cke-bookmark"))&&(_.type==CKEDITOR.NODE_ELEMENT&&!_.isEmptyInlineRemoveable()||_.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(_.getText())))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var i=this.$.attributes,o=0;o<i.length;o++){var s=i[o];switch(s.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(s.specified)return!0}}return!1}:function(){var i=this.$.attributes,o=i.length,s={"data-cke-expando":1,_moz_dirty:1};return 0<o&&(2<o||!s[i[0].nodeName]||2==o&&!s[i[1].nodeName])},hasAttribute:function(){function a(i){var o=this.$.attributes.getNamedItem(i);if("input"==this.getName())switch(i){case"class":return 0<this.$.className.length;case"checked":return!!this.$.checked;case"value":return"checkbox"==(i=this.getAttribute("type"))||"radio"==i?"on"!=this.$.value:!!this.$.value}return!!o&&o.specified}return CKEDITOR.env.ie?8>CKEDITOR.env.version?function(i){return"name"==i?!!this.$.name:a.call(this,i)}:a:function(i){return!!this.$.attributes.getNamedItem(i)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(i,o){var s,_=this.$;if(_!=(i=i.$))if(o)for(;s=_.lastChild;)i.insertBefore(_.removeChild(s),i.firstChild);else for(;s=_.firstChild;)i.appendChild(_.removeChild(s))},mergeSiblings:function(){function a(i,o,s){if(o&&o.type==CKEDITOR.NODE_ELEMENT){for(var _=[];o.data("cke-bookmark")||o.isEmptyInlineRemoveable();)if(_.push(o),!(o=s?o.getNext():o.getPrevious())||o.type!=CKEDITOR.NODE_ELEMENT)return;if(i.isIdentical(o)){for(var $=s?i.getLast():i.getFirst();_.length;)_.shift().move(i,!s);o.moveChildren(i,!s),o.remove(),$&&$.type==CKEDITOR.NODE_ELEMENT&&$.mergeSiblings()}}}return function(i){(!1===i||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))&&(a(this,this.getNext(),!0),a(this,this.getPrevious()))}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:function(){var a=function(i,o){return this.$.setAttribute(i,o),this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(i,o){return"class"==i?this.$.className=o:"style"==i?this.$.style.cssText=o:"tabindex"==i?this.$.tabIndex=o:"checked"==i?this.$.checked=o:"contenteditable"==i?a.call(this,"contentEditable",o):a.apply(this,arguments),this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(i,o){if("src"==i&&o.match(/^http:\/\//))try{a.apply(this,arguments)}catch(i){}else a.apply(this,arguments);return this}:a}(),setAttributes:function(i){for(var o in i)this.setAttribute(o,i[o]);return this},setValue:function(i){return this.$.value=i,this},removeAttribute:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(i){"class"==i?i="className":"tabindex"==i?i="tabIndex":"contenteditable"==i&&(i="contentEditable"),this.$.removeAttribute(i)}:function(i){this.$.removeAttribute(i)},removeAttributes:function(i){if(CKEDITOR.tools.isArray(i))for(var o=0;o<i.length;o++)this.removeAttribute(i[o]);else for(o in i=i||this.getAttributes())i.hasOwnProperty(o)&&this.removeAttribute(o)},removeStyle:function(i){if((_=this.$.style).removeProperty||"border"!=i&&"margin"!=i&&"padding"!=i)_.removeProperty?_.removeProperty(i):_.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(i)),this.$.style.cssText||this.removeAttribute("style");else{var o,s=["top","left","right","bottom"];"border"==i&&(o=["color","style","width"]);for(var _=[],$=0;$<s.length;$++)if(o)for(var j=0;j<o.length;j++)_.push([i,s[$],o[j]].join("-"));else _.push([i,s[$]].join("-"));for(i=0;i<_.length;i++)this.removeStyle(_[i])}},setStyle:function(i,o){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(i)]=o,this},setStyles:function(i){for(var o in i)this.setStyle(o,i[o]);return this},setOpacity:function(i){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(i=Math.round(100*i),this.setStyle("filter",100<=i?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+i+")")):this.setStyle("opacity",i)},unselectable:function(){if(this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none")),CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var i=this.getElementsByTag("*"),o=0,s=i.count();o<s;o++)i.getItem(o).setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var i=this;"html"!=i.getName();){if("static"!=i.getComputedStyle("position"))return i;i=i.getParent()}return null},getDocumentPosition:function(i){var o=0,s=0,_=this.getDocument(),$=_.getBody(),j="BackCompat"==_.$.compatMode;if(!document.documentElement.getBoundingClientRect||CKEDITOR.env.ie&&8===CKEDITOR.env.version)for(te=this,ne=null;te&&"body"!=te.getName()&&"html"!=te.getName();){for(o+=te.$.offsetLeft-te.$.scrollLeft,s+=te.$.offsetTop-te.$.scrollTop,te.equals(this)||(o+=te.$.clientLeft||0,s+=te.$.clientTop||0);ne&&!ne.equals(te);)o-=ne.$.scrollLeft,s-=ne.$.scrollTop,ne=ne.getParent();ne=te,te=(Z=te.$.offsetParent)?new CKEDITOR.dom.element(Z):null}else{var Z=this.$.getBoundingClientRect(),ee=_.$.documentElement,te=ee.clientTop||$.$.clientTop||0,ne=ee.clientLeft||$.$.clientLeft||0,ie=!0;CKEDITOR.env.ie&&(ie=_.getDocumentElement().contains(this),_=_.getBody().contains(this),ie=j&&_||!j&&ie),ie&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(o=$.$.scrollLeft||ee.scrollLeft,s=$.$.scrollTop||ee.scrollTop):(o=(s=j?$.$:ee).scrollLeft,s=s.scrollTop),o=Z.left+o-ne,s=Z.top+s-te)}return i&&(Z=this.getWindow(),te=i.getWindow(),!Z.equals(te)&&Z.$.frameElement&&(o+=(i=new CKEDITOR.dom.element(Z.$.frameElement).getDocumentPosition(i)).x,s+=i.y)),document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||j||(o+=this.$.clientLeft?1:0,s+=this.$.clientTop?1:0),{x:o,y:s}},scrollIntoView:function(i){var o=this.getParent();if(o)do{if((o.$.clientWidth&&o.$.clientWidth<o.$.scrollWidth||o.$.clientHeight&&o.$.clientHeight<o.$.scrollHeight)&&!o.is("body")&&this.scrollIntoParent(o,i,1),o.is("html")){var s=o.getWindow();try{var _=s.$.frameElement;_&&(o=new CKEDITOR.dom.element(_))}catch(i){}}}while(o=o.getParent())},scrollIntoParent:function(i,o,s){var _,$,j,Z;function k(o,s){/body|html/.test(i.getName())?i.getWindow().$.scrollBy(o,s):(i.$.scrollLeft+=o,i.$.scrollTop+=s)}function v(i,o){var s={x:0,y:0};if(!i.is(ee?"body":"html")){var _=i.$.getBoundingClientRect();s.x=_.left,s.y=_.top}return(_=i.getWindow()).equals(o)||(_=v(CKEDITOR.dom.element.get(_.$.frameElement),o),s.x+=_.x,s.y+=_.y),s}function l(i,o){return parseInt(i.getComputedStyle("margin-"+o)||0,10)||0}!i&&(i=this.getWindow());var ee="BackCompat"==(j=i.getDocument()).$.compatMode;i instanceof CKEDITOR.dom.window&&(i=ee?j.getBody():j.getDocumentElement()),CKEDITOR.env.webkit&&(j=this.getEditor(!1))&&(j._.previousScrollTop=null),$=v(this,j=i.getWindow());var te=v(i,j),ne=this.$.offsetHeight;_=this.$.offsetWidth;var ie=i.$.clientHeight,oe=i.$.clientWidth;j=$.x-l(this,"left")-te.x||0,Z=$.y-l(this,"top")-te.y||0,_=$.x+_+l(this,"right")-(te.x+oe)||0,$=$.y+ne+l(this,"bottom")-(te.y+ie)||0,(0>Z||0<$)&&k(0,!0===o?Z:!1===o?$:0>Z?Z:$),s&&(0>j||0<_)&&k(0>j?j:_,0)},setState:function(i,o,s){switch(o=o||"cke",i){case CKEDITOR.TRISTATE_ON:this.addClass(o+"_on"),this.removeClass(o+"_off"),this.removeClass(o+"_disabled"),s&&this.setAttribute("aria-pressed",!0),s&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(o+"_disabled"),this.removeClass(o+"_off"),this.removeClass(o+"_on"),s&&this.setAttribute("aria-disabled",!0),s&&this.removeAttribute("aria-pressed");break;default:this.addClass(o+"_off"),this.removeClass(o+"_on"),this.removeClass(o+"_disabled"),s&&this.removeAttribute("aria-pressed"),s&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var i=this.$;try{i.contentWindow.document}catch(o){i.src=i.src}return i&&new CKEDITOR.dom.document(i.contentWindow.document)},copyAttributes:function(i,o){var s=this.$.attributes;o=o||{};for(var _=0;_<s.length;_++){var $,j=s[_],Z=j.nodeName.toLowerCase();Z in o||("checked"==Z&&($=this.getAttribute(Z))?i.setAttribute(Z,$):CKEDITOR.env.ie&&!this.hasAttribute(Z)||(null===($=this.getAttribute(Z))&&($=j.nodeValue),i.setAttribute(Z,$)))}""!==this.$.style.cssText&&(i.$.style.cssText=this.$.style.cssText)},renameNode:function(i){if(this.getName()!=i){var o=this.getDocument();i=new CKEDITOR.dom.element(i,o),this.copyAttributes(i),this.moveChildren(i),this.getParent(!0)&&this.$.parentNode.replaceChild(i.$,this.$),i.$["data-cke-expando"]=this.$["data-cke-expando"],this.$=i.$,delete this.getName}},getChild:function(){function a(i,o){var s=i.childNodes;if(0<=o&&o<s.length)return s[o]}return function(i){var o=this.$;if(i.slice)for(i=i.slice();0<i.length&&o;)o=a(o,i.shift());else o=a(o,i);return o?new CKEDITOR.dom.node(o):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function a(i){return i.type==CKEDITOR.NODE_ELEMENT&&i.hasClass("cke_enable_context_menu")}this.on("contextmenu",(function(i){i.data.getTarget().getAscendant(a,!0)||i.data.preventDefault()}))},getDirection:function(i){return i?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(i,o){return i="data-"+i,void 0===o?this.getAttribute(i):(!1===o?this.removeAttribute(i):this.setAttribute(i,o),null)},getEditor:function(i){var o,s,_,$=CKEDITOR.instances;for(o in i=i||void 0===i,$)if((s=$[o]).element.equals(this)&&s.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!i&&(_=s.editable())&&(_.equals(this)||_.contains(this)))return s;return null},find:function(i){var o=d(this);return i=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(b(this,i))),o(),i},findOne:function(i){var o=d(this);return i=this.$.querySelector(b(this,i)),o(),i?new CKEDITOR.dom.element(i):null},forEach:function(i,o,s){if(!(s||o&&this.type!=o))var _=i(this);if(!1!==_){s=this.getChildren();for(var $=0;$<s.count();$++)(_=s.getItem($)).type==CKEDITOR.NODE_ELEMENT?_.forEach(i,o):o&&_.type!=o||i(_)}},fireEventHandler:function(i,o){var s="on"+i,_=this.$;if(CKEDITOR.env.ie&&9>CKEDITOR.env.version){var $,j=_.ownerDocument.createEventObject();for($ in o)j[$]=o[$];_.fireEvent(s,j)}else _[_[i]?i:s](o)},isDetached:function(){var i=this.getDocument(),o=i.getDocumentElement();return!o.equals(this)&&!o.contains(this)||(!CKEDITOR.env.ie||8<CKEDITOR.env.version&&!CKEDITOR.env.quirks)&&!i.$.defaultView}});var s={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(i,o,s){"number"==typeof o&&(!s||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(o-=c.call(this,i)),this.setStyle(i,o+"px"))},CKEDITOR.dom.element.prototype.getSize=function(i,o){var s=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(i)],this.$["client"+CKEDITOR.tools.capitalize(i)])||0;return o&&(s-=c.call(this,i)),s}}(),CKEDITOR.dom.documentFragment=function(i){i=i||CKEDITOR.document,this.$=i.type==CKEDITOR.NODE_DOCUMENT?i.$.createDocumentFragment():i},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(i){(i=i.$).parentNode.insertBefore(this.$,i.nextSibling)},getHtml:function(){var i=new CKEDITOR.dom.element("div");return this.clone(1,1).appendTo(i),i.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.document.prototype,!0,{find:1,findOne:1}),function(){function a(i,o){var s=this.range;if(this._.end)return null;if(!this._.start){if(this._.start=1,s.collapsed)return this.end(),null;s.optimize()}var _,$=s.startContainer;_=s.endContainer;var j,Z=s.startOffset,ee=s.endOffset,te=this.guard,ne=this.type,ie=i?"getPreviousSourceNode":"getNextSourceNode";if(!i&&!this._.guardLTR){var oe=_.type==CKEDITOR.NODE_ELEMENT?_:_.getParent(),ae=_.type==CKEDITOR.NODE_ELEMENT?_.getChild(ee):_.getNext();this._.guardLTR=function(i,o){return!(o&&oe.equals(i)||ae&&i.equals(ae)||i.type==CKEDITOR.NODE_ELEMENT&&o&&i.equals(s.root))}}if(i&&!this._.guardRTL){var re=$.type==CKEDITOR.NODE_ELEMENT?$:$.getParent(),se=$.type==CKEDITOR.NODE_ELEMENT?Z?$.getChild(Z-1):null:$.getPrevious();this._.guardRTL=function(i,o){return!(o&&re.equals(i)||se&&i.equals(se)||i.type==CKEDITOR.NODE_ELEMENT&&o&&i.equals(s.root))}}var le=i?this._.guardRTL:this._.guardLTR;for(j=te?function(i,o){return!1!==le(i,o)&&te(i,o)}:le,this.current?_=this.current[ie](!1,ne,j):(i?_.type==CKEDITOR.NODE_ELEMENT&&(_=0<ee?_.getChild(ee-1):!1===j(_,!0)?null:_.getPreviousSourceNode(!0,ne,j)):(_=$).type==CKEDITOR.NODE_ELEMENT&&((_=_.getChild(Z))||(_=!1===j($,!0)?null:$.getNextSourceNode(!0,ne,j))),_&&!1===j(_)&&(_=null));_&&!this._.end;){if(this.current=_,this.evaluator&&!1===this.evaluator(_)){if(o&&this.evaluator)return!1}else if(!o)return _;_=_[ie](!1,ne,j)}return this.end(),this.current=null}function d(i){for(var o,s=null;o=a.call(this,i);)s=o;return s}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(i){this.range=i,this._={}},proto:{end:function(){this._.end=1},next:function(){return a.call(this)},previous:function(){return a.call(this,1)},checkForward:function(){return!1!==a.call(this,0,1)},checkBackward:function(){return!1!==a.call(this,1,1)},lastForward:function(){return d.call(this)},lastBackward:function(){return d.call(this,1)},reset:function(){delete this.current,this._={}}}});var i={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},o={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(s){return!("none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in o||!i[this.getComputedStyle("display")])||!!(this.is(CKEDITOR.dtd.$block)||s&&this.is(s))},CKEDITOR.dom.walker.blockBoundary=function(i){return function(o){return!(o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary(i))}},CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},CKEDITOR.dom.walker.bookmark=function(i,o){function c(i){return i&&i.getName&&"span"==i.getName()&&i.data("cke-bookmark")}return function(s){var _,$;return _=s&&s.type!=CKEDITOR.NODE_ELEMENT&&($=s.getParent())&&c($),_=i?_:_||c(s),!!(o^_)}},CKEDITOR.dom.walker.whitespaces=function(i){return function(o){var s;return o&&o.type==CKEDITOR.NODE_TEXT&&(s=!CKEDITOR.tools.trim(o.getText())||CKEDITOR.env.webkit&&o.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE),!!(i^s)}},CKEDITOR.dom.walker.invisible=function(i){var o=CKEDITOR.dom.walker.whitespaces(),s=CKEDITOR.env.webkit?1:0;return function(_){return o(_)?_=1:(_.type==CKEDITOR.NODE_TEXT&&(_=_.getParent()),_=_.$.offsetWidth<=s),!!(i^_)}},CKEDITOR.dom.walker.nodeType=function(i,o){return function(s){return!!(o^s.type==i)}},CKEDITOR.dom.walker.bogus=function(i){function b(i){return!_(i)&&!$(i)}return function(o){var _=CKEDITOR.env.needsBrFiller?o.is&&o.is("br"):o.getText&&s.test(o.getText());return _&&(_=o.getParent(),o=o.getNext(b),_=_.isBlockBoundary()&&(!o||o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary())),!!(i^_)}},CKEDITOR.dom.walker.temp=function(i){return function(o){return o.type!=CKEDITOR.NODE_ELEMENT&&(o=o.getParent()),o=o&&o.hasAttribute("data-cke-temp"),!!(i^o)}};var s=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,_=CKEDITOR.dom.walker.whitespaces(),$=CKEDITOR.dom.walker.bookmark(),j=CKEDITOR.dom.walker.temp(),p=function(i){return $(i)||_(i)||i.type==CKEDITOR.NODE_ELEMENT&&i.is(CKEDITOR.dtd.$inline)&&!i.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=function(i){return function(o){return o=_(o)||$(o)||j(o),!!(i^o)}};var Z=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(i){return function(o){for(var s=0,_=o.getChildCount();s<_;++s)if(!Z(o.getChild(s)))return!!i;return!i}};var ee=CKEDITOR.dom.walker.empty(),te=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(i){var o,s={};for(o in i)CKEDITOR.dtd[o]["#"]&&(s[o]=1);return s}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(i){return function(o){return o=!Z(o)&&!!(o.type==CKEDITOR.NODE_TEXT||o.type==CKEDITOR.NODE_ELEMENT&&(o.is(CKEDITOR.dtd.$inline)||o.is("hr")||"false"==o.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&o.is(te)&&ee(o))),!!(i^o)}},CKEDITOR.dom.element.prototype.getBogus=function(){var i=this;do{i=i.getPreviousSourceNode()}while(p(i));return!(!i||!(CKEDITOR.env.needsBrFiller?i.is&&i.is("br"):i.getText&&s.test(i.getText())))&&i}}(),CKEDITOR.dom.range=function(i){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null,this.collapsed=!0;var o=i instanceof CKEDITOR.dom.document;this.document=o?i:i.getDocument(),this.root=o?i.getBody():i},function(){function a(i){i.collapsed=i.startContainer&&i.endContainer&&i.startContainer.equals(i.endContainer)&&i.startOffset==i.endOffset}function d(i,o,s,_,$){function f(i,o,s,_){var te=s?i.getPrevious():i.getNext();return _&&j||(ee||_?o.append(i.clone(!0,$),s):(i.remove(),Z&&o.append(i,s))),te}i.optimizeBookmark();var j=0===o,Z=1==o,ee=2==o;o=ee||Z;var te,ne,ie,oe,ae,re,se=i.startContainer,le=i.endContainer,ce=i.startOffset,de=i.endOffset;if(ee&&le.type==CKEDITOR.NODE_TEXT&&(se.equals(le)||se.type===CKEDITOR.NODE_ELEMENT&&se.getFirst().equals(le)))s.append(i.document.createText(le.substring(ce,de)));else{le.type==CKEDITOR.NODE_TEXT?ee?re=!0:le=le.split(de):0<le.getChildCount()?de>=le.getChildCount()?(le=le.getChild(de-1),ne=!0):le=le.getChild(de):oe=ne=!0,se.type==CKEDITOR.NODE_TEXT?ee?ae=!0:se.split(ce):0<se.getChildCount()?0===ce?(se=se.getChild(ce),te=!0):se=se.getChild(ce-1):ie=te=!0;for(var ue,he,fe,ge=se.getParents(),me=le.getParents(),pe=function(){var i,o,s,_=Math.min(ge.length,me.length);for(i=0;i<_;i++)if(o=ge[i],s=me[i],!o.equals(s))return i;return i-1}(),Ee=ge.length-1,Te=me.length-1,Ce=s,Ie=-1,Oe=pe;Oe<=Ee;Oe++){for(fe=(he=ge[Oe]).getNext(),Oe!=Ee||he.equals(me[Oe])&&Ee<Te?o&&(ue=Ce.append(he.clone(0,$))):te?f(he,Ce,!1,ie):ae&&Ce.append(i.document.createText(he.substring(ce)));fe;){if(fe.equals(me[Oe])){Ie=Oe;break}fe=f(fe,Ce)}Ce=ue}for(Ce=s,Oe=pe;Oe<=Te;Oe++)if(fe=(s=me[Oe]).getPrevious(),s.equals(ge[Oe]))o&&(Ce=Ce.getChild(0));else{if(Oe!=Te||s.equals(ge[Oe])&&Te<Ee?o&&(ue=Ce.append(s.clone(0,$))):ne?f(s,Ce,!1,oe):re&&Ce.append(i.document.createText(s.substring(0,de))),Oe>Ie)for(;fe;)fe=f(fe,Ce,!0);Ce=ue}ee||function(){var o=pe-1,s=ie&&oe&&!se.equals(le);o<Ee-1||o<Te-1||s?(s?i.moveToPosition(le,CKEDITOR.POSITION_BEFORE_START):Te==o+1&&ne?i.moveToPosition(me[o],CKEDITOR.POSITION_BEFORE_END):i.moveToPosition(me[o+1],CKEDITOR.POSITION_BEFORE_START),_&&(o=ge[o+1])&&o.type==CKEDITOR.NODE_ELEMENT&&((s=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',i.document)).insertAfter(o),o.mergeSiblings(!1),i.moveToBookmark({startNode:s}))):i.collapse(!0)}()}}function b(){var o=!1,s=CKEDITOR.dom.walker.whitespaces(),_=CKEDITOR.dom.walker.bookmark(!0),$=CKEDITOR.dom.walker.bogus();return function(j){return!(!_(j)&&!s(j))||($(j)&&!o?o=!0:!(j.type==CKEDITOR.NODE_TEXT&&(j.hasAscendant("pre")||CKEDITOR.tools.trim(j.getText()).length)||j.type==CKEDITOR.NODE_ELEMENT&&!j.is(i)))}}function f(i){return function(){var s;return this[i?"getPreviousNode":"getNextNode"]((function(i){return!s&&$(i)&&(s=i),_(i)&&!(o(i)&&i.equals(s))}))}}var i={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,var:1},o=CKEDITOR.dom.walker.bogus(),s=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,_=CKEDITOR.dom.walker.editable(),$=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var i=new CKEDITOR.dom.range(this.root);return i._setStartContainer(this.startContainer),i.startOffset=this.startOffset,i._setEndContainer(this.endContainer),i.endOffset=this.endOffset,i.collapsed=this.collapsed,i},collapse:function(i){i?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset),this.collapsed=!0},cloneContents:function(i){var o=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||d(this,2,o,!1,void 0===i||i),o},deleteContents:function(i){this.collapsed||d(this,0,null,i)},extractContents:function(i,o){var s=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||d(this,1,s,i,void 0===o||o),s},equals:function(i){return this.startOffset===i.startOffset&&this.endOffset===i.endOffset&&this.startContainer.equals(i.startContainer)&&this.endContainer.equals(i.endContainer)},createBookmark:function(i){function b(i){return i.getAscendant((function(i){var o;return(o=i.data&&i.data("cke-temp"))&&(o=-1===CKEDITOR.tools.array.indexOf(["cke_copybin","cke_pastebin"],i.getAttribute("id"))),o}),!0)}var o,s,_,$,j=this.startContainer,Z=this.endContainer,ee=this.collapsed;return(o=this.document.createElement("span")).data("cke-bookmark",1),o.setStyle("display","none"),o.setHtml("&nbsp;"),i&&(_="cke_bm_"+CKEDITOR.tools.getNextNumber(),o.setAttribute("id",_+(ee?"C":"S"))),ee||((s=o.clone()).setHtml("&nbsp;"),i&&s.setAttribute("id",_+"E"),$=this.clone(),b(Z)&&(Z=b(Z),$.moveToPosition(Z,CKEDITOR.POSITION_AFTER_END)),$.collapse(),$.insertNode(s)),$=this.clone(),b(j)&&(Z=b(j),$.moveToPosition(Z,CKEDITOR.POSITION_BEFORE_START)),$.collapse(!0),$.insertNode(o),s?(this.setStartAfter(o),this.setEndBefore(s)):this.moveToPosition(o,CKEDITOR.POSITION_AFTER_END),{startNode:i?_+(ee?"C":"S"):o,endNode:i?_+"E":s,serializable:i,collapsed:ee}},createBookmark2:function(){function a(o){var s,_=o.container,$=o.offset,j=$;if((s=(s=_).type!=CKEDITOR.NODE_ELEMENT||0===j||j==s.getChildCount()?0:s.getChild(j-1).type==CKEDITOR.NODE_TEXT&&s.getChild(j).type==CKEDITOR.NODE_TEXT)&&($=(_=_.getChild($-1)).getLength()),_.type==CKEDITOR.NODE_ELEMENT&&0<$){e:{for(s=_;$--;)if(0<=(j=s.getChild($).getIndex(!0))){$=j;break e}$=-1}$+=1}if(_.type==CKEDITOR.NODE_TEXT){for(s=_,j=0;(s=s.getPrevious())&&s.type==CKEDITOR.NODE_TEXT;)j+=s.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;s=j,_.isEmpty()?(j=_.getPrevious(i),s?($=s,_=j?j.getNext():_.getParent().getFirst()):(_=_.getParent(),$=j?j.getIndex(!0)+1:0)):$+=s}o.container=_,o.offset=$}function b(i,o){var s=o.getCustomData("cke-fillingChar");if(s){var _=i.container;s.equals(_)&&(i.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=i.offset&&(i.offset=_.getIndex(),i.container=_.getParent()))}}var i=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(i){var o=this.collapsed,s={container:this.startContainer,offset:this.startOffset},_={container:this.endContainer,offset:this.endOffset};return i&&(a(s),b(s,this.root),o||(a(_),b(_,this.root))),{start:s.container.getAddress(i),end:o?null:_.container.getAddress(i),startOffset:s.offset,endOffset:_.offset,normalized:i,collapsed:o,is2:!0}}}(),moveToBookmark:function(i){if(i.is2){var o=this.document.getByAddress(i.start,i.normalized),s=i.startOffset,_=i.end&&this.document.getByAddress(i.end,i.normalized);i=i.endOffset,this.setStart(o,s),_?this.setEnd(_,i):this.collapse(!0)}else o=(s=i.serializable)?this.document.getById(i.startNode):i.startNode,i=s?this.document.getById(i.endNode):i.endNode,this.setStartBefore(o),o.remove(),i?(this.setEndBefore(i),i.remove()):this.collapse(!0)},getBoundaryNodes:function(){var i,o=this.startContainer,s=this.endContainer,_=this.startOffset,$=this.endOffset;if(o.type==CKEDITOR.NODE_ELEMENT)if((i=o.getChildCount())>_)o=o.getChild(_);else if(1>i)o=o.getPreviousSourceNode();else{for(o=o.$;o.lastChild;)o=o.lastChild;o=(o=new CKEDITOR.dom.node(o)).getNextSourceNode()||o}if(s.type==CKEDITOR.NODE_ELEMENT)if((i=s.getChildCount())>$)s=s.getChild($).getPreviousSourceNode(!0);else if(1>i)s=s.getPreviousSourceNode();else{for(s=s.$;s.lastChild;)s=s.lastChild;s=new CKEDITOR.dom.node(s)}return o.getPosition(s)&CKEDITOR.POSITION_FOLLOWING&&(o=s),{startNode:o,endNode:s}},getCommonAncestor:function(i,o){var s=this.startContainer,_=this.endContainer;s=s.equals(_)?i&&s.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?s.getChild(this.startOffset):s:s.getCommonAncestor(_);return o&&!s.is?s.getParent():s},optimize:function(){var i=this.startContainer,o=this.startOffset;i.type!=CKEDITOR.NODE_ELEMENT&&(o?o>=i.getLength()&&this.setStartAfter(i):this.setStartBefore(i)),i=this.endContainer,o=this.endOffset,i.type!=CKEDITOR.NODE_ELEMENT&&(o?o>=i.getLength()&&this.setEndAfter(i):this.setEndBefore(i))},optimizeBookmark:function(){var i=this.startContainer,o=this.endContainer;i.is&&i.is("span")&&i.data("cke-bookmark")&&this.setStartAt(i,CKEDITOR.POSITION_BEFORE_START),o&&o.is&&o.is("span")&&o.data("cke-bookmark")&&this.setEndAt(o,CKEDITOR.POSITION_AFTER_END)},trim:function(i,o){var s=this.startContainer,_=this.startOffset,$=this.collapsed;if((!i||$)&&s&&s.type==CKEDITOR.NODE_TEXT){if(_)if(_>=s.getLength())_=s.getIndex()+1,s=s.getParent();else{var j=s.split(_);_=s.getIndex()+1,s=s.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(j,this.endOffset-this.startOffset):s.equals(this.endContainer)&&(this.endOffset+=1)}else _=s.getIndex(),s=s.getParent();if(this.setStart(s,_),$)return void this.collapse(!0)}s=this.endContainer,_=this.endOffset,o||$||!s||s.type!=CKEDITOR.NODE_TEXT||(_?(_>=s.getLength()||s.split(_),_=s.getIndex()+1):_=s.getIndex(),s=s.getParent(),this.setEnd(s,_))},enlarge:function(i,o){function c(i){return i&&i.type==CKEDITOR.NODE_ELEMENT&&i.hasAttribute("contenteditable")?null:i}function d(i,o,_){var j=new CKEDITOR.dom.range(_);for(j.setStart(i,o),j.setEndAt(_,CKEDITOR.POSITION_BEFORE_END),(_=new CKEDITOR.dom.walker(j)).guard=function(i){return!(i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary())};j=_.next();){if(j.type!=CKEDITOR.NODE_TEXT)return!1;if(s=j!=i?j.getText():j.substring(o),$.test(s))return!1}return!0}var s,_,$=new RegExp(/[^\s\ufeff]/);switch(i){case CKEDITOR.ENLARGE_INLINE:var j=1;case CKEDITOR.ENLARGE_ELEMENT:if(this.collapsed)break;var Z=this.getCommonAncestor();_=this.root;var ee,te,ne,ie,oe,ae,re=!1;ae=this.startContainer;var se=this.startOffset;for(ae.type==CKEDITOR.NODE_TEXT?(se&&(re=!!(ae=!CKEDITOR.tools.trim(ae.substring(0,se)).length&&ae)),ae&&((ie=ae.getPrevious())||(ne=ae.getParent()))):(se&&(ie=ae.getChild(se-1)||ae.getLast()),ie||(ne=ae)),ne=c(ne);ne||ie;){if(ne&&!ie){if(!oe&&ne.equals(Z)&&(oe=!0),j?ne.isBlockBoundary():!_.contains(ne))break;re&&"inline"==ne.getComputedStyle("display")||(re=!1,oe?ee=ne:this.setStartBefore(ne)),ie=ne.getPrevious()}for(;ie;)if(ae=!1,ie.type==CKEDITOR.NODE_COMMENT)ie=ie.getPrevious();else{if(ie.type==CKEDITOR.NODE_TEXT)s=ie.getText(),$.test(s)&&(ie=null),ae=/[\s\ufeff]$/.test(s);else if((ie.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||o&&ie.is("br"))&&!ie.data("cke-bookmark"))if(re&&CKEDITOR.dtd.$removeEmpty[ie.getName()]){if(s=ie.getText(),$.test(s))ie=null;else{se=ie.$.getElementsByTagName("*");for(var le,ce=0;le=se[ce++];)if(!CKEDITOR.dtd.$removeEmpty[le.nodeName.toLowerCase()]){ie=null;break}}ie&&(ae=!!s.length)}else ie=null;if(ae&&(re?oe?ee=ne:ne&&this.setStartBefore(ne):re=!0),ie){if(ae=ie.getPrevious(),!ne&&!ae){ne=ie,ie=null;break}ie=ae}else ne=null}ne&&(ne=c(ne.getParent()))}for(ae=this.endContainer,se=this.endOffset,ne=ie=null,oe=re=!1,ae.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(ae.substring(se)).length?re=!0:(re=!ae.getLength(),se==ae.getLength()?(ie=ae.getNext())||(ne=ae.getParent()):d(ae,se,_)&&(ne=ae.getParent())):(ie=ae.getChild(se))||(ne=ae);ne||ie;){if(ne&&!ie){if(!oe&&ne.equals(Z)&&(oe=!0),j?ne.isBlockBoundary():!_.contains(ne))break;re&&"inline"==ne.getComputedStyle("display")||(re=!1,oe?te=ne:ne&&this.setEndAfter(ne)),ie=ne.getNext()}for(;ie;){if(ae=!1,ie.type==CKEDITOR.NODE_TEXT)s=ie.getText(),d(ie,0,_)||(ie=null),ae=/^[\s\ufeff]/.test(s);else if(ie.type==CKEDITOR.NODE_ELEMENT){if((0<ie.$.offsetWidth||o&&ie.is("br"))&&!ie.data("cke-bookmark"))if(re&&CKEDITOR.dtd.$removeEmpty[ie.getName()]){if(s=ie.getText(),$.test(s))ie=null;else for(se=ie.$.getElementsByTagName("*"),ce=0;le=se[ce++];)if(!CKEDITOR.dtd.$removeEmpty[le.nodeName.toLowerCase()]){ie=null;break}ie&&(ae=!!s.length)}else ie=null}else ae=1;if(ae&&re&&(oe?te=ne:this.setEndAfter(ne)),ie){if(ae=ie.getNext(),!ne&&!ae){ne=ie,ie=null;break}ie=ae}else ne=null}ne&&(ne=c(ne.getParent()))}ee&&te&&(Z=ee.contains(te)?te:ee,this.setStartBefore(Z),this.setEndAfter(Z));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:ne=new CKEDITOR.dom.range(this.root),_=this.root,ne.setStartAt(_,CKEDITOR.POSITION_AFTER_START),ne.setEnd(this.startContainer,this.startOffset),ne=new CKEDITOR.dom.walker(ne);var de,ue,he=CKEDITOR.dom.walker.blockBoundary(i==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),fe=null,I=function(i){if(i.type==CKEDITOR.NODE_ELEMENT&&"false"==i.getAttribute("contenteditable"))if(fe){if(fe.equals(i))return void(fe=null)}else fe=i;else if(fe)return;var o=he(i);return o||(de=i),o};j=function(i){var o=I(i);return!o&&i.is&&i.is("br")&&(ue=i),o};if(ne.guard=I,ne=ne.lastBackward(),de=de||_,this.setStartAt(de,!de.is("br")&&(!ne&&this.checkStartOfBlock()||ne&&de.contains(ne))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END),i==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){ne=this.clone(),ne=new CKEDITOR.dom.walker(ne);var ge=CKEDITOR.dom.walker.whitespaces(),me=CKEDITOR.dom.walker.bookmark();if(ne.evaluator=function(i){return!ge(i)&&!me(i)},(ne=ne.previous())&&ne.type==CKEDITOR.NODE_ELEMENT&&ne.is("br"))break}(ne=this.clone()).collapse(),ne.setEndAt(_,CKEDITOR.POSITION_BEFORE_END),(ne=new CKEDITOR.dom.walker(ne)).guard=i==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?j:I,de=fe=ue=null,ne=ne.lastForward(),de=de||_,this.setEndAt(de,!ne&&this.checkEndOfBlock()||ne&&de.contains(ne)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START),ue&&this.setEndAfter(ue)}},shrink:function(i,o,s){var _="boolean"==typeof s?s:!s||"boolean"!=typeof s.shrinkOnBlockBoundary||s.shrinkOnBlockBoundary,$=s&&s.skipBogus;if(!this.collapsed){i=i||CKEDITOR.SHRINK_TEXT;var j=this.clone(),Z=this.startContainer,ee=this.endContainer,te=this.startOffset,ne=this.endOffset,ie=s=1;Z&&Z.type==CKEDITOR.NODE_TEXT&&(te?te>=Z.getLength()?j.setStartAfter(Z):(j.setStartBefore(Z),s=0):j.setStartBefore(Z)),ee&&ee.type==CKEDITOR.NODE_TEXT&&(ne?ne>=ee.getLength()?j.setEndAfter(ee):(j.setEndAfter(ee),ie=0):j.setEndBefore(ee));j=new CKEDITOR.dom.walker(j);var oe,ae=CKEDITOR.dom.walker.bookmark(),re=CKEDITOR.dom.walker.bogus();return j.evaluator=function(o){return o.type==(i==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)},j.guard=function(o,s){return!!($&&re(o)||ae(o))||!(i==CKEDITOR.SHRINK_ELEMENT&&o.type==CKEDITOR.NODE_TEXT||s&&o.equals(oe)||!1===_&&o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary()||o.type==CKEDITOR.NODE_ELEMENT&&o.hasAttribute("contenteditable"))&&(s||o.type!=CKEDITOR.NODE_ELEMENT||(oe=o),!0)},s&&(Z=j[i==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(Z,o?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START),ie&&(j.reset(),(j=j[i==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(j,o?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)),!(!s&&!ie)}},insertNode:function(i){this.optimizeBookmark(),this.trim(!1,!0);var o=this.startContainer,s=o.getChild(this.startOffset);s?i.insertBefore(s):o.append(i),i.getParent()&&i.getParent().equals(this.endContainer)&&this.endOffset++,this.setStartBefore(i)},moveToPosition:function(i,o){this.setStartAt(i,o),this.collapse(!0)},moveToRange:function(i){this.setStart(i.startContainer,i.startOffset),this.setEnd(i.endContainer,i.endOffset)},selectNodeContents:function(i){this.setStart(i,0),this.setEnd(i,i.type==CKEDITOR.NODE_TEXT?i.getLength():i.getChildCount())},setStart:function(i,o){i.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[i.getName()]&&(o=i.getIndex(),i=i.getParent()),this._setStartContainer(i),this.startOffset=o,this.endContainer||(this._setEndContainer(i),this.endOffset=o),a(this)},setEnd:function(i,o){i.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[i.getName()]&&(o=i.getIndex()+1,i=i.getParent()),this._setEndContainer(i),this.endOffset=o,this.startContainer||(this._setStartContainer(i),this.startOffset=o),a(this)},setStartAfter:function(i){this.setStart(i.getParent(),i.getIndex()+1)},setStartBefore:function(i){this.setStart(i.getParent(),i.getIndex())},setEndAfter:function(i){this.setEnd(i.getParent(),i.getIndex()+1)},setEndBefore:function(i){this.setEnd(i.getParent(),i.getIndex())},setStartAt:function(i,o){switch(o){case CKEDITOR.POSITION_AFTER_START:this.setStart(i,0);break;case CKEDITOR.POSITION_BEFORE_END:i.type==CKEDITOR.NODE_TEXT?this.setStart(i,i.getLength()):this.setStart(i,i.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(i);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(i)}a(this)},setEndAt:function(i,o){switch(o){case CKEDITOR.POSITION_AFTER_START:this.setEnd(i,0);break;case CKEDITOR.POSITION_BEFORE_END:i.type==CKEDITOR.NODE_TEXT?this.setEnd(i,i.getLength()):this.setEnd(i,i.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(i);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(i)}a(this)},fixBlock:function(i,o){var s=this.createBookmark(),_=this.document.createElement(o);this.collapse(i),this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),this.extractContents().appendTo(_),_.trim(),this.insertNode(_);var $=_.getBogus();return $&&$.remove(),_.appendBogus(),this.moveToBookmark(s),_},splitBlock:function(i,o){var s=new CKEDITOR.dom.elementPath(this.startContainer,this.root),_=new CKEDITOR.dom.elementPath(this.endContainer,this.root),$=s.block,j=_.block,Z=null;return s.blockLimit.equals(_.blockLimit)?("br"!=i&&($||($=this.fixBlock(!0,i),j=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),j||(j=this.fixBlock(!1,i))),s=$&&this.checkStartOfBlock(),_=j&&this.checkEndOfBlock(),this.deleteContents(),$&&$.equals(j)&&(_?(Z=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(j,CKEDITOR.POSITION_AFTER_END),j=null):s?(Z=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition($,CKEDITOR.POSITION_BEFORE_START),$=null):(j=this.splitElement($,o||!1),$.is("ul","ol")||$.appendBogus())),{previousBlock:$,nextBlock:j,wasStartOfBlock:s,wasEndOfBlock:_,elementPath:Z}):null},splitElement:function(i,o){if(!this.collapsed)return null;this.setEndAt(i,CKEDITOR.POSITION_BEFORE_END);var s=this.extractContents(!1,o||!1),_=i.clone(!1,o||!1);return s.appendTo(_),_.insertAfter(i),this.moveToPosition(i,CKEDITOR.POSITION_AFTER_END),_},removeEmptyBlocksAtEnd:function(){function a(s){return function(_){return!(i(_)||o(_)||_.type==CKEDITOR.NODE_ELEMENT&&_.isEmptyInlineRemoveable()||s.is("table")&&_.is("caption"))}}var i=CKEDITOR.dom.walker.whitespaces(),o=CKEDITOR.dom.walker.bookmark(!1);return function(i){for(var o,s=this.createBookmark(),_=this[i?"endPath":"startPath"](),$=_.block||_.blockLimit;$&&!$.equals(_.root)&&!$.getFirst(a($));)o=$.getParent(),this[i?"setEndAt":"setStartAt"]($,CKEDITOR.POSITION_AFTER_END),$.remove(1),$=o;this.moveToBookmark(s)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(i,s){var _=s==CKEDITOR.START,$=this.clone();return $.collapse(_),$[_?"setStartAt":"setEndAt"](i,_?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),($=new CKEDITOR.dom.walker($)).evaluator=function(i){var s=CKEDITOR.dom.walker.whitespaces(),_=CKEDITOR.dom.walker.bookmark(1);return function($){return!(!_($)&&!s($))||!i&&o($)||$.type==CKEDITOR.NODE_ELEMENT&&$.is(CKEDITOR.dtd.$removeEmpty)}}(_),$[_?"checkBackward":"checkForward"]()},checkStartOfBlock:function(i){var o=this.startContainer,_=this.startOffset;return CKEDITOR.env.ie&&_&&o.type==CKEDITOR.NODE_TEXT&&(o=CKEDITOR.tools.ltrim(o.substring(0,_)),s.test(o)&&this.trim(0,1)),i||this.trim(),i=new CKEDITOR.dom.elementPath(this.startContainer,this.root),(o=this.clone()).collapse(!0),o.setStartAt(i.block||i.blockLimit,CKEDITOR.POSITION_AFTER_START),(i=new CKEDITOR.dom.walker(o)).evaluator=b(),i.checkBackward()},checkEndOfBlock:function(i){var o=this.endContainer,_=this.endOffset;return CKEDITOR.env.ie&&o.type==CKEDITOR.NODE_TEXT&&(o=CKEDITOR.tools.rtrim(o.substring(_)),s.test(o)&&this.trim(1,0)),i||this.trim(),i=new CKEDITOR.dom.elementPath(this.endContainer,this.root),(o=this.clone()).collapse(!1),o.setEndAt(i.block||i.blockLimit,CKEDITOR.POSITION_BEFORE_END),(i=new CKEDITOR.dom.walker(o)).evaluator=b(),i.checkForward()},getPreviousNode:function(i,o,s){var _=this.clone();return _.collapse(1),_.setStartAt(s||this.root,CKEDITOR.POSITION_AFTER_START),(s=new CKEDITOR.dom.walker(_)).evaluator=i,s.guard=o,s.previous()},getNextNode:function(i,o,s){var _=this.clone();return _.collapse(),_.setEndAt(s||this.root,CKEDITOR.POSITION_BEFORE_END),(s=new CKEDITOR.dom.walker(_)).evaluator=i,s.guard=o,s.next()},checkReadOnly:function(){function a(i,o){for(;i;){if(i.type==CKEDITOR.NODE_ELEMENT){if("false"==i.getAttribute("contentEditable")&&!i.data("cke-editable"))return 0;if(i.is("html")||"true"==i.getAttribute("contentEditable")&&(i.contains(o)||i.equals(o)))break}i=i.getParent()}return 1}return function(){var i=this.startContainer,o=this.endContainer;return!(a(i,o)&&a(o,i))}}(),moveToElementEditablePosition:function(i,o){if(i.type==CKEDITOR.NODE_ELEMENT&&!i.isEditable(!1))return this.moveToPosition(i,o?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var _=0;i;){if(i.type==CKEDITOR.NODE_TEXT){o&&this.endContainer&&this.checkEndOfBlock()&&s.test(i.getText())?this.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(i,o?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),_=1;break}if(i.type==CKEDITOR.NODE_ELEMENT)if(i.isEditable())this.moveToPosition(i,o?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),_=1;else if(o&&i.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START);else if("false"==i.getAttribute("contenteditable")&&i.is(CKEDITOR.dtd.$block))return this.setStartBefore(i),this.setEndAfter(i),!0;var j=i,Z=_,ee=void 0;j.type==CKEDITOR.NODE_ELEMENT&&j.isEditable(!1)&&(ee=j[o?"getLast":"getFirst"]($)),Z||ee||(ee=j[o?"getPrevious":"getNext"]($)),i=ee}return!!_},moveToClosestEditablePosition:function(i,o){var s,_,$,j=0,Z=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];return i?(s=new CKEDITOR.dom.range(this.root)).moveToPosition(i,Z[o?0:1]):s=this.clone(),i&&!i.is(CKEDITOR.dtd.$block)?j=1:(_=s[o?"getNextEditableNode":"getPreviousEditableNode"]())&&(j=1,($=_.type==CKEDITOR.NODE_ELEMENT)&&_.is(CKEDITOR.dtd.$block)&&"false"==_.getAttribute("contenteditable")?(s.setStartAt(_,CKEDITOR.POSITION_BEFORE_START),s.setEndAt(_,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&$&&_.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(s.setEnd(_,0),s.collapse()):s.moveToPosition(_,Z[o?1:0])),j&&this.moveToRange(s),!!j},moveToElementEditStart:function(i){return this.moveToElementEditablePosition(i)},moveToElementEditEnd:function(i){return this.moveToElementEditablePosition(i,!0)},getEnclosedNode:function(){if((i=this.clone()).optimize(),i.startContainer.type!=CKEDITOR.NODE_ELEMENT||i.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var i=new CKEDITOR.dom.walker(i),o=CKEDITOR.dom.walker.bookmark(!1,!0),s=CKEDITOR.dom.walker.whitespaces(!0);i.evaluator=function(i){return s(i)&&o(i)};var _=i.next();return i.reset(),_&&_.equals(i.previous())?_:null},getTouchedStartNode:function(){var i=this.startContainer;return this.collapsed||i.type!=CKEDITOR.NODE_ELEMENT?i:i.getChild(this.startOffset)||i},getTouchedEndNode:function(){var i=this.endContainer;return this.collapsed||i.type!=CKEDITOR.NODE_ELEMENT?i:i.getChild(this.endOffset-1)||i},getNextEditableNode:f(),getPreviousEditableNode:f(1),_getTableElement:function(i){i=i||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var o=this.getTouchedStartNode(),s=this.getTouchedEndNode(),_=o.getAscendant("table",!0);s=s.getAscendant("table",!0);return _&&!this.root.contains(_)?null:this.getEnclosedNode()?this.getEnclosedNode().getAscendant(i,!0):_&&s&&(_.equals(s)||_.contains(s)||s.contains(_))?o.getAscendant(i,!0):null},scrollIntoView:function(){var i,o,s,_=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),$=this.clone();$.optimize(),(s=$.startContainer.type==CKEDITOR.NODE_TEXT)?(o=$.startContainer.getText(),i=$.startContainer.split($.startOffset),_.insertAfter($.startContainer)):$.insertNode(_),_.scrollIntoView(),s&&($.startContainer.setText(o),i.remove()),_.remove()},getClientRects:function(){function b(i,o,s){var _;return o.collapsed?s.startContainer instanceof CKEDITOR.dom.element?(i=s.checkStartOfBlock(),_=new CKEDITOR.dom.text("​"),i?s.startContainer.append(_,!0):0===s.startOffset?_.insertBefore(s.startContainer.getFirst()):(s=s.startContainer.getChildren().getItem(s.startOffset-1),_.insertAfter(s)),o.setStart(_.$,0),o.setEnd(_.$,0),i=o.getClientRects(),_.remove()):s.startContainer instanceof CKEDITOR.dom.text&&(""===s.startContainer.getText()?(s.startContainer.setText("​"),i=o.getClientRects(),s.startContainer.setText("")):i=[d(s.createBookmark())]):i=[d(s.createBookmark())],i}function c(i,o,s){return i=CKEDITOR.tools.extend({},i),o&&(i=CKEDITOR.tools.getAbsoluteRectPosition(s.document.getWindow(),i)),!i.width&&(i.width=i.right-i.left),!i.height&&(i.height=i.bottom-i.top),i}function d(i){var o,s=i.startNode;return i=i.endNode,s.setText("​"),s.removeStyle("display"),i?(i.setText("​"),i.removeStyle("display"),o=[s.getClientRect(),i.getClientRect()],i.remove()):o=[s.getClientRect(),s.getClientRect()],s.remove(),{right:Math.max(o[0].right,o[1].right),bottom:Math.max(o[0].bottom,o[1].bottom),left:Math.min(o[0].left,o[1].left),top:Math.min(o[0].top,o[1].top),width:Math.abs(o[0].left-o[1].left),height:Math.max(o[0].bottom,o[1].bottom)-Math.min(o[0].top,o[1].top)}}return void 0!==document.getSelection?function(i){var o,s=this.root.getDocument().$.createRange();return s.setStart(this.startContainer.$,this.startOffset),s.setEnd(this.endContainer.$,this.endOffset),o=function(i,o){var s,_,$,j=CKEDITOR.tools.array.map(i,(function(i){return i})),Z=new CKEDITOR.dom.range(o.root);if(o.startContainer instanceof CKEDITOR.dom.element&&(_=0===o.startOffset&&o.startContainer.hasAttribute("data-widget")),o.endContainer instanceof CKEDITOR.dom.element&&($=($=o.endOffset===(o.endContainer.getChildCount?o.endContainer.getChildCount():o.endContainer.length))&&o.endContainer.hasAttribute("data-widget")),_&&Z.setStart(o.startContainer.getParent(),o.startContainer.getIndex()),$&&Z.setEnd(o.endContainer.getParent(),o.endContainer.getIndex()+1),(_||$)&&(o=Z),Z=o.cloneContents().find("[data-cke-widget-id]").toArray(),Z=CKEDITOR.tools.array.map(Z,(function(i){var s=o.root.editor;return i=i.getAttribute("data-cke-widget-id"),s.widgets.instances[i].element})))return Z=CKEDITOR.tools.array.map(Z,(function(i){var o;return o=i.getParent().hasClass("cke_widget_wrapper")?i.getParent():i,(s=this.root.getDocument().$.createRange()).setStart(o.getParent().$,o.getIndex()),s.setEnd(o.getParent().$,o.getIndex()+1),(o=s.getClientRects()).widgetRect=i.getClientRect(),o}),o),CKEDITOR.tools.array.forEach(Z,(function(i){var o;!function b(s){CKEDITOR.tools.array.forEach(j,(function(_,$){var Z=CKEDITOR.tools.objectCompare(i[s],_);Z||(Z=CKEDITOR.tools.objectCompare(i.widgetRect,_)),Z&&(Array.prototype.splice.call(j,$,i.length-s,i.widgetRect),o=!0)})),o||(s<j.length-1?b(s+1):j.push(i.widgetRect))}(0)})),j}(o=s.getClientRects(),this),o.length||(o=b(o,s,this)),CKEDITOR.tools.array.map(o,(function(o){return c(o,i,this)}),this)}:function(i){return[c(d(this.createBookmark()),i,this)]}}(),_setStartContainer:function(i){this.startContainer=i},_setEndContainer:function(i){this.endContainer=i},_find:function(i,o){var s,_,$,j,Z=this.getCommonAncestor(),ee=this.getBoundaryNodes(),te=[];if(Z&&Z.find)for(_=Z.find(i),s=0;s<_.count();s++)Z=_.getItem(s),(o||!Z.isReadOnly())&&($=Z.getPosition(ee.startNode)&CKEDITOR.POSITION_FOLLOWING||ee.startNode.equals(Z),j=Z.getPosition(ee.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||ee.endNode.equals(Z),$&&j&&te.push(Z));return te}},CKEDITOR.dom.range.mergeRanges=function(i){return CKEDITOR.tools.array.reduce(i,(function(i,o){var s=i[i.length-1],_=!1;if((o=o.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),s){var $=new CKEDITOR.dom.range(o.root),j=(_=new CKEDITOR.dom.walker($),CKEDITOR.dom.walker.whitespaces());for($.setStart(s.endContainer,s.endOffset),$.setEnd(o.startContainer,o.startOffset),$=_.next();j($)||o.endContainer.equals($);)$=_.next();_=!$}return _?s.setEnd(o.endContainer,o.endOffset):i.push(o),i}),[])}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,function(){function a(i){1>arguments.length||(this.range=i,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function b(i,o,s,_){e:{null==_&&(_=function(i){var o=[];return i.forEach((function(i){if("true"==i.getAttribute("contenteditable"))return o.push(i),!1}),CKEDITOR.NODE_ELEMENT,!0),o}(s));for(var $;$=_.shift();)if($.getDtd().p){_={element:$,remaining:_};break e}_=null}return _?($=CKEDITOR.filter.instances[_.element.data("cke-filter")])&&!$.check(o)?b(i,o,s,_.remaining):((o=new CKEDITOR.dom.range(_.element)).selectNodeContents(_.element),(o=o.createIterator()).enlargeBr=i.enlargeBr,o.enforceRealBlocks=i.enforceRealBlocks,o.activeFilter=o.filter=$,i._.nestedEditable={element:_.element,container:s,remaining:_.remaining,iterator:o},1):0}function c(i,o,s){return!!o&&((i=i.clone()).collapse(!s),i.checkBoundaryOfElement(o,s?CKEDITOR.START:CKEDITOR.END))}var i=/^[\r\n\t ]+$/,o=CKEDITOR.dom.walker.bookmark(!1,!0),s=CKEDITOR.dom.walker.whitespaces(!0),h=function(i){return o(i)&&s(i)},_={dd:1,dt:1,li:1};a.prototype={getNextParagraph:function(s){var $,j,Z,ee,te;if(s=s||"p",this._.nestedEditable){if($=this._.nestedEditable.iterator.getNextParagraph(s))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,$;if(this.activeFilter=this.filter,b(this,s,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(s);this._.nestedEditable=null}if(!this.range.root.getDtd()[s])return null;if(!this._.started){var ne=this.range.clone();j=ne.startPath();var ie=ne.endPath(),oe=!ne.collapsed&&c(ne,j.block),ae=!ne.collapsed&&c(ne,ie.block,1);ne.shrink(CKEDITOR.SHRINK_ELEMENT,!0),oe&&ne.setStartAt(j.block,CKEDITOR.POSITION_BEFORE_END),ae&&ne.setEndAt(ie.block,CKEDITOR.POSITION_AFTER_START),j=ne.endContainer.hasAscendant("pre",!0)||ne.startContainer.hasAscendant("pre",!0),ne.enlarge(this.forceBrBreak&&!j||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),ne.collapsed||(j=new CKEDITOR.dom.walker(ne.clone()),ie=CKEDITOR.dom.walker.bookmark(!0,!0),j.evaluator=ie,this._.nextNode=j.next(),(j=new CKEDITOR.dom.walker(ne.clone())).evaluator=ie,j=j.previous(),this._.lastNode=j.getNextSourceNode(!0,null,ne.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&((ie=this.range.clone()).moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),ie.checkEndOfBlock()&&(ie=new CKEDITOR.dom.elementPath(ie.endContainer,ie.root),this._.lastNode=(ie.block||ie.blockLimit).getNextSourceNode(!0))),this._.lastNode&&ne.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=ne.document.createText(""),this._.lastNode.insertAfter(j)),ne=null),this._.started=1,j=ne}for(ie=this._.nextNode,ne=this._.lastNode,this._.nextNode=null;ie;){oe=0,ae=ie.hasAscendant("pre");var re=ie.type!=CKEDITOR.NODE_ELEMENT,se=0;if(re)ie.type==CKEDITOR.NODE_TEXT&&i.test(ie.getText())&&(re=0);else{var le=ie.getName();if(CKEDITOR.dtd.$block[le]&&"false"==ie.getAttribute("contenteditable")){b(this,s,$=ie);break}if(ie.isBlockBoundary(this.forceBrBreak&&!ae&&{br:1})){if("br"==le)re=1;else if(!j&&!ie.getChildCount()&&"hr"!=le){$=ie,Z=ie.equals(ne);break}j&&(j.setEndAt(ie,CKEDITOR.POSITION_BEFORE_START),"br"!=le&&(this._.nextNode=ie)),oe=1}else{if(ie.getFirst()){j||(j=this.range.clone()).setStartAt(ie,CKEDITOR.POSITION_BEFORE_START),ie=ie.getFirst();continue}re=1}}if(re&&!j&&(j=this.range.clone()).setStartAt(ie,CKEDITOR.POSITION_BEFORE_START),Z=(!oe||re)&&ie.equals(ne),j&&!oe)for(;!ie.getNext(h)&&!Z;){if((le=ie.getParent()).isBlockBoundary(this.forceBrBreak&&!ae&&{br:1})){oe=1,re=0,Z||le.equals(ne),j.setEndAt(le,CKEDITOR.POSITION_BEFORE_END);break}re=1,Z=(ie=le).equals(ne),se=1}if(re&&j.setEndAt(ie,CKEDITOR.POSITION_AFTER_END),(Z=!(ie=this._getNextSourceNode(ie,se,ne)))||oe&&j)break}if(!$){if(!j)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;ie=($=new CKEDITOR.dom.elementPath(j.startContainer,j.root)).blockLimit,oe={div:1,th:1,td:1},!($=$.block)&&ie&&!this.enforceRealBlocks&&oe[ie.getName()]&&j.checkStartOfBlock()&&j.checkEndOfBlock()&&!ie.equals(j.root)?$=ie:!$||this.enforceRealBlocks&&$.is(_)?($=this.range.document.createElement(s),j.extractContents().appendTo($),$.trim(),j.insertNode($),ee=te=!0):"li"!=$.getName()?j.checkStartOfBlock()&&j.checkEndOfBlock()||($=$.clone(!1),j.extractContents().appendTo($),$.trim(),ee=!(te=j.splitBlock()).wasStartOfBlock,te=!te.wasEndOfBlock,j.insertNode($)):Z||(this._.nextNode=$.equals(ne)?null:this._getNextSourceNode(j.getBoundaryNodes().endNode,1,ne))}return ee&&(ee=$.getPrevious())&&ee.type==CKEDITOR.NODE_ELEMENT&&("br"==ee.getName()?ee.remove():ee.getLast()&&"br"==ee.getLast().$.nodeName.toLowerCase()&&ee.getLast().remove()),te&&(ee=$.getLast())&&ee.type==CKEDITOR.NODE_ELEMENT&&"br"==ee.getName()&&(!CKEDITOR.env.needsBrFiller||ee.getPrevious(o)||ee.getNext(o))&&ee.remove(),this._.nextNode||(this._.nextNode=Z||$.equals(ne)||!ne?null:this._getNextSourceNode($,1,ne)),$},_getNextSourceNode:function(i,s,_){function d(i){return!(i.equals(_)||i.equals($))}var $=this.range.root;for(i=i.getNextSourceNode(s,null,d);!o(i);)i=i.getNextSourceNode(s,null,d);return i}},CKEDITOR.dom.range.prototype.createIterator=function(){return new a(this)}}(),CKEDITOR.command=function(i,o){var s;this.uiItems=[],this.exec=function(s){return!(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())&&(this.editorFocus&&i.focus(),!1===this.fire("exec")||!1!==o.exec.call(this,i,s))},this.refresh=function(i,s){return!(this.readOnly||!i.readOnly)||(this.context&&!s.isContextFor(this.context)||!this.checkAllowed(!0)?(this.disable(),!0):(this.startDisabled||this.enable(),this.modes&&!this.modes[i.mode]&&this.disable(),!1===this.fire("refresh",{editor:i,path:s})||o.refresh&&!1!==o.refresh.apply(this,arguments)))},this.checkAllowed=function(o){return o||"boolean"!=typeof s?s=i.activeFilter.checkFeature(this):s},CKEDITOR.tools.extend(this,o,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!o.context,state:CKEDITOR.TRISTATE_DISABLED}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&void 0!==this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(i){return!(this.state==i||i!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())&&(this.previousState=this.state,this.state=i,this.fire("state"),!0)},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,useComputedState:!0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function a(i,s,_,$,ee){var te,ne,ie;for(te in i=[],s){ne="boolean"==typeof(ne=s[te])?{}:"function"==typeof ne?{match:ne}:o(ne),"$"!=te.charAt(0)&&(ne.elements=te),_&&(ne.featureName=_.toLowerCase());var oe=ne;oe.elements=k(oe.elements,/\s+/)||null,oe.propertiesOnly=oe.propertiesOnly||!0===oe.elements;var ae=/\s*,\s*/,re=void 0;for(re in j){oe[re]=k(oe[re],ae)||null;var se=oe,le=Z[re],ce=k(oe[Z[re]],ae),de=oe[re],ue=[],he=!0,fe=void 0;for(fe in ce?he=!1:ce={},de)"!"==fe.charAt(0)&&(fe=fe.slice(1),ue.push(fe),ce[fe]=!0,he=!1);for(;fe=ue.pop();)de[fe]=de["!"+fe],delete de["!"+fe];se[le]=!he&&ce||null}oe.match=oe.match||null,$.push(ne),i.push(ne)}for(s=ee.elements,ee=ee.generic,_=0,$=i.length;_<$;++_){for(ae in ne=!0===(te=o(i[_])).classes||!0===te.styles||!0===te.attributes,oe=te,re=le=ae=void 0,j)oe[ae]=L(oe[ae]);for(re in se=!0,Z){for(de in ce=[],de=void 0,le=oe[ae=Z[re]])-1<de.indexOf("*")?ce.push(new RegExp("^"+de.replace(/\*/g,".*")+"$")):ce.push(de);(le=ce).length&&(oe[ae]=le,se=!1)}if(oe.nothingRequired=se,oe.noProperties=!(oe.attributes||oe.classes||oe.styles),!0===te.elements||null===te.elements)ee[ne?"unshift":"push"](te);else for(ie in oe=te.elements,delete te.elements,oe)s[ie]?s[ie][ne?"unshift":"push"](te):s[ie]=[te]}}function d(i,o,s,_){if((!i.match||i.match(o))&&(_||function(i,o){if(i.nothingRequired)return!0;var s,_,$,j;if($=i.requiredClasses)for(j=o.classes,s=0;s<$.length;++s)if("string"==typeof(_=$[s])){if(-1==CKEDITOR.tools.indexOf(j,_))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(j,_))return!1;return p(o.styles,i.requiredStyles)&&p(o.attributes,i.requiredAttributes)}(i,o))&&(i.propertiesOnly||(s.valid=!0),s.allAttributes||(s.allAttributes=b(i.attributes,o.attributes,s.validAttributes)),s.allStyles||(s.allStyles=b(i.styles,o.styles,s.validStyles)),!s.allClasses)){if(i=i.classes,o=o.classes,_=s.validClasses,i)if(!0===i)i=!0;else{for(var $,j=0,Z=o.length;j<Z;++j)_[$=o[j]]||(_[$]=i($));i=!1}else i=!1;s.allClasses=i}}function b(i,o,s){if(!i)return!1;if(!0===i)return!0;for(var _ in o)s[_]||(s[_]=i(_));return!1}function c(i,o,s){if(!i.match||i.match(o)){if(i.noProperties)return!1;if(s.hadInvalidAttribute=f(i.attributes,o.attributes)||s.hadInvalidAttribute,s.hadInvalidStyle=f(i.styles,o.styles)||s.hadInvalidStyle,i=i.classes,o=o.classes,i){for(var _=!1,$=!0===i,j=o.length;j--;)($||i(o[j]))&&(o.splice(j,1),_=!0);i=_}else i=!1;s.hadInvalidClass=i||s.hadInvalidClass}}function f(i,o){if(!i)return!1;var s,_=!1,$=!0===i;for(s in o)($||i(s))&&(delete o[s],_=!0);return _}function e(i,o,s){return!(i.disabled||i.customConfig&&!s||!o)&&(i._.cachedChecks={},!0)}function k(i,o){if(!i)return!1;if(!0===i)return i;if("string"==typeof i)return"*"==(i=s(i))||CKEDITOR.tools.convertArrayToObject(i.split(o));if(CKEDITOR.tools.isArray(i))return!!i.length&&CKEDITOR.tools.convertArrayToObject(i);var _,$={},j=0;for(_ in i)$[_]=i[_],j++;return!!j&&$}function p(i,o){if(!o)return!0;for(var s,_=0;_<o.length;++_)if("string"==typeof(s=o[_])){if(!(s in i))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(i,s))return!1;return!0}function m(i){if(!i)return{};i=i.split(/\s*,\s*/).sort();for(var o={};i.length;)o[i.shift()]="cke-test";return o}function g(i){var o,_,$,j,Z={},te=1;for(i=s(i);o=i.match(ee);)(_=o[2])?($=x(_,"styles"),j=x(_,"attrs"),_=x(_,"classes")):$=j=_=null,Z["$"+te++]={elements:o[1],classes:_,styles:$,attributes:j},i=i.slice(o[0].length);return Z}function x(i,o){var _=i.match(te[o]);return _?s(_[1]):null}function y(i){var o=i.styleBackup=i.attributes.style,s=i.classBackup=i.attributes.class;i.styles||(i.styles=CKEDITOR.tools.parseCssText(o||"",1)),i.classes||(i.classes=s?s.split(/\s+/):[])}function A(i,o,s,_){var $,j=0;if(_.toHtml&&(o.name=o.name.replace(ne,"$1")),_.doCallbacks&&i.elementCallbacks){e:{for(var Z,ee=0,te=($=i.elementCallbacks).length;ee<te;++ee)if(Z=$[ee](o)){$=Z;break e}$=void 0}if($)return $}if(_.doTransform&&($=i._.transformations[o.name])){for(y(o),ee=0;ee<$.length;++ee)q(i,o,$[ee]);v(o)}if(_.doFilter){e:{ee=o.name,i=(te=i._).allowedRules.elements[ee],$=te.allowedRules.generic,ee=te.disallowedRules.elements[ee],te=te.disallowedRules.generic,Z=_.skipRequired;var oe,ae,re={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1};if(i||$){if(y(o),ee)for(oe=0,ae=ee.length;oe<ae;++oe)if(!1===c(ee[oe],o,re)){i=null;break e}if(te)for(oe=0,ae=te.length;oe<ae;++oe)c(te[oe],o,re);if(i)for(oe=0,ae=i.length;oe<ae;++oe)d(i[oe],o,re,Z);if($)for(oe=0,ae=$.length;oe<ae;++oe)d($[oe],o,re,Z);i=re}else i=null}if(!i||!i.valid)return s.push(o),1;ae=i.validAttributes;var se=i.validStyles;$=i.validClasses;ee=o.attributes;var le=o.styles;te=o.classes;Z=o.classBackup;var ce,de,ue=o.styleBackup,he=[],fe=(re=[],/^data-cke-/);if(oe=!1,delete ee.style,delete ee.class,delete o.classBackup,delete o.styleBackup,!i.allAttributes)for(ce in ee)ae[ce]||fe.test(ce)&&(ce==(de=ce.replace(/^data-cke-saved-/,""))||ae[de])||(delete ee[ce],oe=!0);if(!i.allStyles||i.hadInvalidStyle){for(ce in le)i.allStyles||se[ce]?he.push(ce+":"+le[ce]):oe=!0;he.length&&(ee.style=he.sort().join("; "))}else ue&&(ee.style=ue);if(!i.allClasses||i.hadInvalidClass){for(ce=0;ce<te.length;++ce)(i.allClasses||$[te[ce]])&&re.push(te[ce]);re.length&&(ee.class=re.sort().join(" ")),Z&&re.length<Z.split(/\s+/).length&&(oe=!0)}else Z&&(ee.class=Z);if(oe&&(j=1),!_.skipFinalValidation&&!l(o))return s.push(o),1}return _.toHtml&&(o.name=o.name.replace(ie,"cke:$1")),j}function v(i){var o,s=i.attributes;delete s.style,delete s.class,(o=CKEDITOR.tools.writeCssText(i.styles,!0))&&(s.style=o),i.classes.length&&(s.class=i.classes.sort().join(" "))}function l(i){switch(i.name){case"a":if(!(i.children.length||i.attributes.name||i.attributes.id))return!1;break;case"img":if(!i.attributes.src)return!1}return!0}function L(i){if(!i)return!1;if(!0===i)return!0;var o=function(i){var o,s=[];for(o in i)-1<o.indexOf("*")&&s.push(o.replace(/\*/g,".*"));return s.length?new RegExp("^(?:"+s.join("|")+")$"):null}(i);return function(s){return s in i||o&&s.match(o)}}function w(){return new CKEDITOR.htmlParser.element("br")}function J(o){return o.type==CKEDITOR.NODE_ELEMENT&&("br"==o.name||i.$block[o.name])}function G(o,s,_){var $=o.name;if(i.$empty[$]||!o.children.length)"hr"==$&&"br"==s?o.replaceWith(w()):(o.parent&&_.push({check:"it",el:o.parent}),o.remove());else if(i.$block[$]||"tr"==$)if("br"==s)o.previous&&!J(o.previous)&&(s=w()).insertBefore(o),o.next&&!J(o.next)&&(s=w()).insertAfter(o),o.replaceWithChildren();else{var j;$=o.children;e:{j=i[s];for(var Z,ee=0,te=$.length;ee<te;++ee)if((Z=$[ee]).type==CKEDITOR.NODE_ELEMENT&&!j[Z.name]){j=!1;break e}j=!0}if(j)o.name=s,o.attributes={},_.push({check:"parent-down",el:o});else{var ne,ie;for(ee=(j=o.parent).type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==j.name,te=$.length;0<te;)Z=$[--te],ee&&(Z.type==CKEDITOR.NODE_TEXT||Z.type==CKEDITOR.NODE_ELEMENT&&i.$inline[Z.name])?(ne||((ne=new CKEDITOR.htmlParser.element(s)).insertAfter(o),_.push({check:"parent-down",el:ne})),ne.add(Z,0)):(ne=null,ie=i[j.name]||i.span,Z.insertAfter(o),j.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||Z.type!=CKEDITOR.NODE_ELEMENT||ie[Z.name]||_.push({check:"el-up",el:Z}));o.remove()}}else $ in{style:1,script:1}?o.remove():(o.parent&&_.push({check:"it",el:o.parent}),o.replaceWithChildren())}function q(i,o,s){var _,j;for(_=0;_<s.length;++_)if(!((j=s[_]).check&&!i.check(j.check,!1)||j.left&&!j.left(o))){j.right(o,$);break}}function u(i,o){var s,_,$,j,Z=o.getDefinition(),ee=Z.attributes,te=Z.styles;if(i.name!=Z.element)return!1;for(s in ee)if("class"==s){for(Z=ee[s].split(/\s+/),$=i.classes.join("|");j=Z.pop();)if(-1==$.indexOf(j))return!1}else if(i.attributes[s]!=ee[s])return!1;for(_ in te)if(i.styles[_]!=te[_])return!1;return!0}function K(i,o){var s,_;return"string"==typeof i?s=i:i instanceof CKEDITOR.style?_=i:(s=i[0],_=i[1]),[{element:s,left:_,right:function(i,s){s.transform(i,o)}}]}function E(i){return function(o){return u(o,i)}}function C(i){return function(o,s){s[i](o)}}var i=CKEDITOR.dtd,o=CKEDITOR.tools.copy,s=CKEDITOR.tools.trim,_=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2,CKEDITOR.filter=function(i,o){this.allowedContent=[],this.disallowedContent=[],this.elementCallbacks=null,this.disabled=!1,this.editor=null,this.id=CKEDITOR.tools.getNextNumber(),this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}},CKEDITOR.filter.instances[this.id]=this;var s=this.editor=i instanceof CKEDITOR.editor?i:null;if(s&&!o){this.customConfig=!0;var $=s.config.allowedContent;!0===$?this.disabled=!0:($||(this.customConfig=!1),this.allow($,"config",1),this.allow(s.config.extraAllowedContent,"extra",1),this.allow(_[s.enterMode]+" "+_[s.shiftEnterMode],"default",1),this.disallow(s.config.disallowedContent))}else this.customConfig=!1,this.allow(o||i,"default",1)},CKEDITOR.filter.instances={},CKEDITOR.filter.prototype={allow:function(i,s,_){if(!e(this,i,_))return!1;var $,j;if("string"==typeof i)i=g(i);else if(i instanceof CKEDITOR.style){if(i.toAllowedContentRules)return this.allow(i.toAllowedContentRules(this.editor),s,_);$=i.getDefinition(),i={},_=$.attributes,i[$.element]=$={styles:$.styles,requiredStyles:$.styles&&CKEDITOR.tools.object.keys($.styles)},_&&(_=o(_),$.classes=_.class?_.class.split(/\s+/):null,$.requiredClasses=$.classes,delete _.class,$.attributes=_,$.requiredAttributes=_&&CKEDITOR.tools.object.keys(_))}else if(CKEDITOR.tools.isArray(i)){for($=0;$<i.length;++$)j=this.allow(i[$],s,_);return j}return a(this,i,s,this.allowedContent,this._.allowedRules),!0},applyTo:function(o,s,$,j){if(this.disabled)return!1;var Z,ee,te,ne=this,ie=[],oe=this.editor&&this.editor.config.protectedSource,ae=!1,re={doFilter:!$,doTransform:!0,doCallbacks:!0,toHtml:s};for(o.forEach((function(i){if(i.type==CKEDITOR.NODE_ELEMENT){if("off"==i.attributes["data-cke-filter"])return!1;if(!s||"span"!=i.name||!~CKEDITOR.tools.object.keys(i.attributes).join("|").indexOf("data-cke-"))if(1&(Z=A(ne,i,ie,re)))ae=!0;else if(2&Z)return!1}else if(i.type==CKEDITOR.NODE_COMMENT&&i.value.match(/^\{cke_protected\}(?!\{C\})/)){var o;e:{var _,$,j,ee=decodeURIComponent(i.value.replace(/^\{cke_protected\}/,""));if(o=[],oe)for($=0;$<oe.length;++$)if((j=ee.match(oe[$]))&&j[0].length==ee.length){o=!0;break e}1==(ee=CKEDITOR.htmlParser.fragment.fromHtml(ee)).children.length&&(_=ee.children[0]).type==CKEDITOR.NODE_ELEMENT&&A(ne,_,o,re),o=!o.length}o||ie.push(i)}}),null,!0),ie.length&&(ae=!0),o=[],j=_[j||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];$=ie.pop();)$.type==CKEDITOR.NODE_ELEMENT?G($,j,o):$.remove();for(;ee=o.pop();)if(($=ee.el).parent)switch(te=i[$.parent.name]||i.span,ee.check){case"it":i.$removeEmpty[$.name]&&!$.children.length?G($,j,o):l($)||G($,j,o);break;case"el-up":$.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||te[$.name]||G($,j,o);break;case"parent-down":$.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||te[$.name]||G($.parent,j,o)}return ae},checkFeature:function(i){return!(!this.disabled&&i)||(i.toFeature&&(i=i.toFeature(this.editor)),!i.requiredContent||this.check(i.requiredContent))},disable:function(){this.disabled=!0},disallow:function(i){return!!e(this,i,!0)&&("string"==typeof i&&(i=g(i)),a(this,i,null,this.disallowedContent,this._.disallowedRules),!0)},addContentForms:function(i){if(!this.disabled&&i){var o,s,_,$=[];for(o=0;o<i.length&&!_;++o)("string"==typeof(s=i[o])||s instanceof CKEDITOR.style)&&this.check(s)&&(_=s);if(_){for(o=0;o<i.length;++o)$.push(K(i[o],_));this.addTransformations($)}}},addElementCallback:function(i){this.elementCallbacks||(this.elementCallbacks=[]),this.elementCallbacks.push(i)},addFeature:function(i){return!(!this.disabled&&i)||(i.toFeature&&(i=i.toFeature(this.editor)),this.allow(i.allowedContent,i.name),this.addTransformations(i.contentTransformations),this.addContentForms(i.contentForms),!i.requiredContent||!this.customConfig&&!this.disallowedContent.length||this.check(i.requiredContent))},addTransformations:function(i){var o,s;if(!this.disabled&&i){var _,$=this._.transformations;for(_=0;_<i.length;++_){o=i[_];var j=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,ie=void 0;for(s=[],Z=0;Z<o.length;++Z)"string"==typeof(ee=o[Z])?(te=(ee=ee.split(/\s*:\s*/))[0],ne=null,ie=ee[1]):(te=ee.check,ne=ee.left,ie=ee.right),j||(j=(j=ee).element?j.element:te?te.match(/^([a-z0-9]+)/i)[0]:j.left.getDefinition().element),ne instanceof CKEDITOR.style&&(ne=E(ne)),s.push({check:te==j?null:te,left:ne,right:"string"==typeof ie?C(ie):ie});$[o=j]||($[o]=[]),$[o].push(s)}}},check:function(i,s,_){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(i)){for(var $=i.length;$--;)if(this.check(i[$],s,_))return!0;return!1}var j,Z;if("string"==typeof i){if((Z=i+"<"+(!1===s?"0":"1")+(_?"1":"0")+">")in this._.cachedChecks)return this._.cachedChecks[Z];var ee=(j=g(i).$1).styles;$=j.classes;j.name=j.elements,j.classes=$=$?$.split(/\s*,\s*/):[],j.styles=m(ee),j.attributes=m(j.attributes),j.children=[],$.length&&(j.attributes.class=$.join(" ")),ee&&(j.attributes.style=CKEDITOR.tools.writeCssText(j.styles))}else ee=(j=i.getDefinition()).styles,$=j.attributes||{},ee&&!CKEDITOR.tools.isEmpty(ee)?(ee=o(ee),$.style=CKEDITOR.tools.writeCssText(ee,!0)):ee={},j={name:j.element,attributes:$,classes:$.class?$.class.split(/\s+/):[],styles:ee,children:[]};ee=CKEDITOR.tools.clone(j);var te,ne=[];if(!1!==s&&(te=this._.transformations[j.name])){for($=0;$<te.length;++$)q(this,j,te[$]);v(j)}return A(this,ee,ne,{doFilter:!0,doTransform:!1!==s,skipRequired:!_,skipFinalValidation:!_}),0<ne.length?_=!1:((s=j.attributes.class)&&(j.attributes.class=j.attributes.class.split(" ").sort().join(" ")),_=CKEDITOR.tools.objectCompare(j.attributes,ee.attributes,!0),s&&(j.attributes.class=s)),"string"==typeof i&&(this._.cachedChecks[Z]=_),_},getAllowedEnterMode:function(){var i=["p","div","br"],o={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(s,$){var j,Z=i.slice();if(this.check(_[s]))return s;for($||(Z=Z.reverse());j=Z.pop();)if(this.check(j))return o[j];return CKEDITOR.ENTER_BR}}(),clone:function(){var i=new CKEDITOR.filter,o=CKEDITOR.tools.clone;return i.allowedContent=o(this.allowedContent),i._.allowedRules=o(this._.allowedRules),i.disallowedContent=o(this.disallowedContent),i._.disallowedRules=o(this._.disallowedRules),i._.transformations=o(this._.transformations),i.disabled=this.disabled,i.editor=this.editor,i},destroy:function(){delete CKEDITOR.filter.instances[this.id],delete this._,delete this.allowedContent,delete this.disallowedContent}};var $,j={styles:1,attributes:1,classes:1},Z={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},ee=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,te={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},ne=/^cke:(object|embed|param)$/,ie=/^(object|embed|param)$/;$=CKEDITOR.filter.transformationsTools={sizeToStyle:function(i){this.lengthToStyle(i,"width"),this.lengthToStyle(i,"height")},sizeToAttribute:function(i){this.lengthToAttribute(i,"width"),this.lengthToAttribute(i,"height")},lengthToStyle:function(i,o,s){if(!((s=s||o)in i.styles)){var _=i.attributes[o];_&&(/^\d+$/.test(_)&&(_+="px"),i.styles[s]=_)}delete i.attributes[o]},lengthToAttribute:function(i,o,s){if(!((s=s||o)in i.attributes)){var _=i.styles[o],$=_&&_.match(/^(\d+)(?:\.\d*)?px$/);$?i.attributes[s]=$[1]:"cke-test"==_&&(i.attributes[s]="cke-test")}delete i.styles[o]},alignmentToStyle:function(i){if(!("float"in i.styles)){var o=i.attributes.align;"left"!=o&&"right"!=o||(i.styles.float=o)}delete i.attributes.align},alignmentToAttribute:function(i){if(!("align"in i.attributes)){var o=i.styles.float;"left"!=o&&"right"!=o||(i.attributes.align=o)}delete i.styles.float},splitBorderShorthand:function(i){if(i.styles.border){var o=CKEDITOR.tools.style.parse.border(i.styles.border);o.color&&(i.styles["border-color"]=o.color),o.style&&(i.styles["border-style"]=o.style),o.width&&(i.styles["border-width"]=o.width),delete i.styles.border}},listTypeToStyle:function(i){if(i.attributes.type)switch(i.attributes.type){case"a":i.styles["list-style-type"]="lower-alpha";break;case"A":i.styles["list-style-type"]="upper-alpha";break;case"i":i.styles["list-style-type"]="lower-roman";break;case"I":i.styles["list-style-type"]="upper-roman";break;case"1":i.styles["list-style-type"]="decimal";break;default:i.styles["list-style-type"]=i.attributes.type}},splitMarginShorthand:function(i){function b(s){i.styles["margin-top"]=o[s[0]],i.styles["margin-right"]=o[s[1]],i.styles["margin-bottom"]=o[s[2]],i.styles["margin-left"]=o[s[3]]}if(i.styles.margin){var o=i.styles.margin.match(/(auto|0|(?:\-?[\.\d]+(?:\w+|%)))/g)||["0px"];switch(o.length){case 1:b([0,0,0,0]);break;case 2:b([0,1,0,1]);break;case 3:b([0,1,2,1]);break;case 4:b([0,1,2,3])}delete i.styles.margin}},matchesStyle:u,transform:function(i,o){if("string"==typeof o)i.name=o;else{var s,_,$,j,Z=o.getDefinition(),ee=Z.styles,te=Z.attributes;for(s in i.name=Z.element,te)if("class"==s)for(Z=i.classes.join("|"),$=te[s].split(/\s+/);j=$.pop();)-1==Z.indexOf(j)&&i.classes.push(j);else i.attributes[s]=te[s];for(_ in ee)i.styles[_]=ee[_]}}}}(),CKEDITOR.focusManager=function(i){return i.focusManager?i.focusManager:(this.hasFocus=!1,this.currentActive=null,this._={editor:i},this)},CKEDITOR.focusManager._={blurDelay:200},CKEDITOR.focusManager.prototype={focus:function(i){this._.timer&&clearTimeout(this._.timer),i&&(this.currentActive=i),this.hasFocus||this._.locked||((i=CKEDITOR.currentInstance)&&i.focusManager.blur(1),this.hasFocus=!0,(i=this._.editor.container)&&i.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(i){function d(){if(this.hasFocus){this.hasFocus=!1;var i=this._.editor.container;i&&i.removeClass("cke_focus"),this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var o=CKEDITOR.focusManager._.blurDelay;i||!o?d.call(this):this._.timer=CKEDITOR.tools.setTimeout((function(){delete this._.timer,d.call(this)}),o,this)}},add:function(i,o){if(!(s=i.getCustomData("focusmanager"))||s!=this){s&&s.remove(i);var s="focus",_="blur";o&&(CKEDITOR.env.ie?(s="focusin",_="focusout"):CKEDITOR.event.useCapture=1);var $={blur:function(){i.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(i)}};i.on(s,$.focus,this),i.on(_,$.blur,this),o&&(CKEDITOR.event.useCapture=0),i.setCustomData("focusmanager",this),i.setCustomData("focusmanager_handlers",$)}},remove:function(i){i.removeCustomData("focusmanager");var o=i.removeCustomData("focusmanager_handlers");i.removeListener("blur",o.blur),i.removeListener("focus",o.focus)}},CKEDITOR.keystrokeHandler=function(i){return i.keystrokeHandler?i.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:i},this)},function(){var i,d=function(o){var s=(o=o.data).getKeystroke(),_=this.keystrokes[s],$=this._.editor;return(i=!1===$.fire("key",{keyCode:s,domEvent:o}))||(_&&(i=!1!==$.execCommand(_,{from:"keystrokeHandler"})),i||(i=!!this.blockedKeystrokes[s])),i&&o.preventDefault(!0),!i},b=function(o){i&&(i=!1,o.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(i){i.on("keydown",d,this),CKEDITOR.env.gecko&&CKEDITOR.env.mac&&i.on("keypress",b,this)}}}(),CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(i,o,s){i&&CKEDITOR.lang.languages[i]||(i=this.detect(o,i));var _=this;o=function(){_[i].dir=_.rtl[i]?"rtl":"ltr",s(i,_[i])},this[i]?o():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+i+".js"),o,this)},detect:function(i,o){var s=this.languages,_=($=(o=o||navigator.userLanguage||navigator.language||i).toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/))[1],$=$[2];return s[_+"-"+$]?_=_+"-"+$:s[_]||(_=null),CKEDITOR.lang.detect=_?function(){return _}:function(i){return i},_||i}},CKEDITOR.scriptLoader=function(){var i={},o={};return{load:function(s,_,$,j){var Z="string"==typeof s;Z&&(s=[s]),$||($=CKEDITOR);var ee=s.length,te=ee,ne=[],ie=[],x=function(i){_&&(Z?_.call($,i):_.call($,ne,ie))};if(0===te)x(!0);else{var y=function(i,o){(o?ne:ie).push(i),0>=--te&&(j&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),x(o))},A=function(s,_){i[s]=1;var $=o[s];delete o[s];for(var j=0;j<$.length;j++)$[j](s,_)},F=function(s){if(i[s])y(s,!0);else{var $=o[s]||(o[s]=[]);if($.push(y),!(1<$.length)){var j=new CKEDITOR.dom.element("script");j.setAttributes({type:"text/javascript",src:s}),_&&(CKEDITOR.env.ie&&(8>=CKEDITOR.env.version||CKEDITOR.env.ie9Compat)?j.$.onreadystatechange=function(){"loaded"!=j.$.readyState&&"complete"!=j.$.readyState||(j.$.onreadystatechange=null,A(s,!0))}:(j.$.onload=function(){setTimeout((function(){j.$.onload=null,j.$.onerror=null,A(s,!0)}),0)},j.$.onerror=function(){j.$.onload=null,j.$.onerror=null,A(s,!1)})),j.appendTo(CKEDITOR.document.getHead())}}};j&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var oe=0;oe<ee;oe++)F(s[oe])}},queue:function(){function a(){var o;(o=i[0])&&this.load(o.scriptUrl,o.callback,CKEDITOR,0)}var i=[];return function(o,s){var _=this;i.push({scriptUrl:o,callback:function(){s&&s.apply(this,arguments),i.shift(),a.call(_)}}),1==i.length&&a.call(this)}}()}}(),CKEDITOR.resourceManager=function(i,o){this.basePath=i,this.fileName=o,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(i,o){if(this.registered[i])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+i+'" is already registered.');var s=this.registered[i]=o||{};return s.name=i,s.path=this.getPath(i),CKEDITOR.fire(i+CKEDITOR.tools.capitalize(this.fileName)+"Ready",s),this.get(i)},get:function(i){return this.registered[i]||null},getPath:function(i){var o=this.externals[i];return CKEDITOR.getUrl(o&&o.dir||this.basePath+i+"/")},getFilePath:function(i){var o=this.externals[i];return CKEDITOR.getUrl(this.getPath(i)+(o?o.file:this.fileName+".js"))},addExternal:function(i,o,s){s||(o=o.replace(/[^\/]+$/,(function(i){return s=i,""}))),s=s||this.fileName+".js",i=i.split(",");for(var _=0;_<i.length;_++)this.externals[i[_]]={dir:o,file:s}},load:function(i,o,s){CKEDITOR.tools.isArray(i)||(i=i?[i]:[]);for(var _=this.loaded,$=this.registered,j=[],Z={},ee={},te=0;te<i.length;te++){var ne=i[te];if(ne)if(_[ne]||$[ne])ee[ne]=this.get(ne);else{var ie=this.getFilePath(ne);j.push(ie),ie in Z||(Z[ie]=[]),Z[ie].push(ne)}}CKEDITOR.scriptLoader.load(j,(function(i,$){if($.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+Z[$[0]].join(",")+'" was not found at "'+$[0]+'".');for(var j=0;j<i.length;j++)for(var te=Z[i[j]],ne=0;ne<te.length;ne++){var ie=te[ne];ee[ie]=this.get(ie),_[ie]=1}o.call(s,ee)}),this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,(function(i){var o={};return function(s,_,$){var j={},k=function(s){i.call(this,s,(function(i){CKEDITOR.tools.extend(j,i);var s,Z=[];for(s in i){var ee=i[s],te=ee&&ee.requires;if(!o[s]){if(ee.icons)for(var ne=ee.icons.split(","),ie=ne.length;ie--;)CKEDITOR.skin.addIcon(ne[ie],ee.path+"icons/"+(CKEDITOR.env.hidpi&&ee.hidpi?"hidpi/":"")+ne[ie]+".png");ee.isSupportedEnvironment=ee.isSupportedEnvironment||function(){return!0},o[s]=1}if(te)for(te.split&&(te=te.split(",")),ee=0;ee<te.length;ee++)j[te[ee]]||Z.push(te[ee])}if(Z.length)k.call(this,Z);else{for(s in j)(ee=j[s]).onLoad&&!ee.onLoad._called&&(!1===ee.onLoad()&&delete j[s],ee.onLoad._called=1);_&&_.call($||window,j)}}),this)};k.call(this,s)}})),CKEDITOR.plugins.setLang=function(i,o,s){var _=this.get(i);i=_.langEntries||(_.langEntries={}),(_=_.lang||(_.lang=[])).split&&(_=_.split(",")),-1==CKEDITOR.tools.indexOf(_,o)&&_.push(o),i[o]=s},CKEDITOR.ui=function(i){return i.ui?i.ui:(this.items={},this.instances={},this.editor=i,this._={handlers:{}},this)},CKEDITOR.ui.prototype={add:function(i,o,s){s.name=i.toLowerCase();var _=this.items[i]={type:o,command:s.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(_,s)},get:function(i){return this.instances[i]},create:function(i){var o=this.items[i],s=o&&this._.handlers[o.type],_=o&&o.command&&this.editor.getCommand(o.command);s=s&&s.create.apply(this,o.args);return this.instances[i]=s,_&&_.uiItems.push(s),s&&!s.type&&(s.type=o.type),s},addHandler:function(i,o){this._.handlers[i]=o},space:function(i){return CKEDITOR.document.getById(this.spaceId(i))},spaceId:function(i){return this.editor.id+"_"+i}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function a(o,s,_){if(CKEDITOR.event.call(this),o=o&&CKEDITOR.tools.clone(o),void 0!==s){if(!(s instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!_)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&_==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!function(i,o){return o==CKEDITOR.ELEMENT_MODE_INLINE?i.is(CKEDITOR.dtd.$editable)||i.is("textarea"):o==CKEDITOR.ELEMENT_MODE_REPLACE?!i.is(CKEDITOR.dtd.$nonBodyContent):1}(s,_))throw Error('The specified element mode is not supported on element: "'+s.getName()+'".');this.element=s,this.elementMode=_,this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(s.getId()||s.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={},this.commands={},this.templates={},this.name=this.name||function(){do{var o="editor"+ ++i}while(CKEDITOR.instances[o]);return o}(),this.id=CKEDITOR.tools.getNextId(),this.status="unloaded",this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config),this.ui=new CKEDITOR.ui(this),this.focusManager=new CKEDITOR.focusManager(this),this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this),this.on("readOnly",c),this.on("selectionChange",(function(i){e(this,i.data.path)})),this.on("activeFilterChange",(function(){e(this,this.elementPath(),!0)})),this.on("mode",c),CKEDITOR.dom.selection.setupEditorOptimization(this),this.on("instanceReady",(function(){if(this.config.startupFocus){if("end"===this.config.startupFocus){var i=this.createRange();i.selectNodeContents(this.editable()),i.shrink(CKEDITOR.SHRINK_ELEMENT,!0),i.collapse(),this.getSelection().selectRanges([i])}this.focus()}})),CKEDITOR.fire("instanceCreated",null,this),CKEDITOR.add(this),CKEDITOR.tools.setTimeout((function(){this.isDestroyed()||this.isDetached()||function(i,o){i.on("customConfigLoaded",(function(){if(o){if(o.on)for(var s in o.on)i.on(s,o.on[s]);CKEDITOR.tools.extend(i.config,o,!0),delete i.config.on}s=i.config,i.readOnly=!!s.readOnly||(i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?i.element.is("textarea")?i.element.hasAttribute("disabled")||i.element.hasAttribute("readonly"):i.element.isReadOnly():i.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(i.element.hasAttribute("disabled")||i.element.hasAttribute("readonly"))),i.blockless=i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!(i.element.is("textarea")||CKEDITOR.dtd[i.element.getName()].p),i.tabIndex=s.tabIndex||i.element&&i.element.getAttribute("tabindex")||0,i.activeEnterMode=i.enterMode=i.blockless?CKEDITOR.ENTER_BR:s.enterMode,i.activeShiftEnterMode=i.shiftEnterMode=i.blockless?CKEDITOR.ENTER_BR:s.shiftEnterMode,s.skin&&(CKEDITOR.skinName=s.skin),i.fireOnce("configLoaded"),i.dataProcessor=new CKEDITOR.htmlDataProcessor(i),i.filter=i.activeFilter=new CKEDITOR.filter(i),function(i){CKEDITOR.skin.loadPart("editor",(function(){m(i)}))}(i)})),o&&null!=o.customConfig&&(i.config.customConfig=o.customConfig),k(i)||i.fireOnce("customConfigLoaded")}(this,o)}),0,this)}function c(){var i,o=this.commands;for(i in o)f(this,o[i])}function f(i,o){o[o.startDisabled||i.readOnly&&!o.readOnly?"disable":o.modes[i.mode]?"enable":"disable"]()}function e(i,o,s){if(o){var _,$,j=i.commands;for($ in j)_=j[$],(s||_.contextSensitive)&&_.refresh(i,o)}}function k(i){if(!(s=i.config.customConfig))return!1;var s=CKEDITOR.getUrl(s),_=o[s]||(o[s]={});return _.fn?(_.fn.call(i,i.config),CKEDITOR.getUrl(i.config.customConfig)!=s&&k(i)||i.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(s,(function(){_.fn=_.fn||CKEDITOR.editorConfig||function(){},k(i)})),!0}function m(i){CKEDITOR.lang.load(i.config.language,i.config.defaultLanguage,(function(o,s){var _=i.config.title,$=i.config.applicationTitle;i.langCode=o,i.lang=CKEDITOR.tools.prototypedCopy(s),i.title="string"==typeof _||!1===_?_:[i.lang.editor,i.name].join(", "),i.applicationTitle="string"==typeof $||!1===$?$:[i.lang.application,i.name].join(", "),i.config.contentsLangDirection||(i.config.contentsLangDirection=i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?i.element.getDirection(1):i.lang.dir),i.fire("langLoaded"),function(i){i.getStylesSet((function(o){i.once("loaded",(function(){i.fire("stylesSet",{styles:o})}),null,null,1),function(i){function b(i){return i?(CKEDITOR.tools.isArray(i)&&(i=i.join(",")),i.replace(/\s/g,"")):""}var o=i.config,s=b(o.plugins),_=b(o.extraPlugins),$=b(o.removePlugins);if(_){var j=new RegExp("(?:^|,)(?:"+_.replace(/,/g,"|")+")(?=,|$)","g");s=s.replace(j,""),s=s+","+_}if($){var Z=new RegExp("(?:^|,)(?:"+$.replace(/,/g,"|")+")(?=,|$)","g");s=s.replace(Z,"")}CKEDITOR.env.air&&(s+=",adobeair"),CKEDITOR.plugins.load(s.split(","),(function(s){var _=[],$=[],j=[];for(var ee in i.plugins=CKEDITOR.tools.extend({},i.plugins,s),s){var te,ne=s[ee],ie=ne.lang,oe=null,ae=ne.requires;if(CKEDITOR.tools.isArray(ae)&&(ae=ae.join(",")),ae&&(te=ae.match(Z)))for(;ae=te.pop();)CKEDITOR.error("editor-plugin-required",{plugin:ae.replace(",",""),requiredBy:ee});ie&&!i.lang[ee]&&(ie.split&&(ie=ie.split(",")),0<=CKEDITOR.tools.indexOf(ie,i.langCode)?oe=i.langCode:oe=(oe=i.langCode.replace(/-.*/,""))!=i.langCode&&0<=CKEDITOR.tools.indexOf(ie,oe)?oe:0<=CKEDITOR.tools.indexOf(ie,"en")?"en":ie[0],ne.langEntries&&ne.langEntries[oe]?(i.lang[ee]=ne.langEntries[oe],oe=null):j.push(CKEDITOR.getUrl(ne.path+"lang/"+oe+".js"))),$.push(oe),_.push(ne)}CKEDITOR.scriptLoader.load(j,(function(){if(!i.isDestroyed()&&!i.isDetached()){for(var s=["beforeInit","init","afterInit"],j=0;j<s.length;j++)for(var Z=0;Z<_.length;Z++){var ee=_[Z];0===j&&$[Z]&&ee.lang&&ee.langEntries&&(i.lang[ee.name]=ee.langEntries[$[Z]]),ee[s[j]]&&ee[s[j]](i)}for(i.fireOnce("pluginsLoaded"),o.keystrokes&&i.setKeystroke(i.config.keystrokes),Z=0;Z<i.config.blockedKeystrokes.length;Z++)i.keystrokeHandler.blockedKeystrokes[i.config.blockedKeystrokes[Z]]=1;i.status="loaded",i.fireOnce("loaded"),CKEDITOR.fire("instanceLoaded",null,i)}}))}))}(i)}))}(i)}))}function y(){var i=this.element;if(i&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var o=this.getData();return this.config.htmlEncodeOutput&&(o=CKEDITOR.tools.htmlEncode(o)),i.is("textarea")?i.setValue(o):i.setHtml(o),!0}return!1}a.prototype=CKEDITOR.editor.prototype,CKEDITOR.editor=a;var i=0,o={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{plugins:{detectConflict:function(i,o){for(var s=0;s<o.length;s++){var _=o[s];if(this[_])return CKEDITOR.warn("editor-plugin-conflict",{plugin:i,replacedWith:_}),!0}return!1}},addCommand:function(i,o){o.name=i.toLowerCase();var s=o instanceof CKEDITOR.command?o:new CKEDITOR.command(this,o);return this.mode&&f(this,s),this.commands[i]=s},_attachToForm:function(){function a(s){i.updateElement(),i._.required&&!o.getValue()&&!1===i.fire("required")&&s.data.preventDefault()}var i=this,o=i.element,s=new CKEDITOR.dom.element(o.$.form);o.is("textarea")&&s&&(s.on("submit",a),function(i){return!!(i&&i.call&&i.apply)}(s.$.submit)&&(s.$.submit=CKEDITOR.tools.override(s.$.submit,(function(i){return function(){a(),i.apply?i.apply(this):i()}}))),i.on("destroy",(function(){s.removeListener("submit",a)})))},destroy:function(i){var o=CKEDITOR.filter.instances,s=this;this.fire("beforeDestroy"),!i&&y.call(this),this.editable(null),this.filter&&delete this.filter,CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(o),(function(i){i=o[i],s===i.editor&&i.destroy()})),delete this.activeFilter,this.status="destroyed",this.fire("destroy"),this.removeAllListeners(),CKEDITOR.remove(this),CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(i){if(!i){if(!(i=this.getSelection()))return null;i=i.getStartElement()}return i?new CKEDITOR.dom.elementPath(i,this.editable()):null},createRange:function(){var i=this.editable();return i?new CKEDITOR.dom.range(i):null},execCommand:function(i,o){var s=this.getCommand(i),_={name:i,commandData:o||{},command:s};return!(!s||s.state==CKEDITOR.TRISTATE_DISABLED||!1===this.fire("beforeCommandExec",_)||(_.returnValue=s.exec(_.commandData),s.async||!1===this.fire("afterCommandExec",_)))&&_.returnValue},getCommand:function(i){return this.commands[i]},getData:function(i){!i&&this.fire("beforeGetData");var o=this._.data;return"string"!=typeof o&&(o=(o=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?o.is("textarea")?o.getValue():o.getHtml():""),o={dataValue:o},!i&&this.fire("getData",o),o.dataValue},getSnapshot:function(){var i=this.fire("getSnapshot");return"string"!=typeof i&&(i=(i=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?i.is("textarea")?i.getValue():i.getHtml():""),i},loadSnapshot:function(i){this.fire("loadSnapshot",i)},setData:function(i,o,s){var _=!0,$=o;o&&"object"==typeof o&&(s=o.internal,$=o.callback,_=!o.noSnapshot),!s&&_&&this.fire("saveSnapshot"),!$&&s||this.once("dataReady",(function(i){!s&&_&&this.fire("saveSnapshot"),$&&$.call(i.editor)})),i={dataValue:i},!s&&this.fire("setData",i),this._.data=i.dataValue,!s&&this.fire("afterSetData",i)},setReadOnly:function(i){i=null==i||i,this.readOnly!=i&&(this.readOnly=i,this.keystrokeHandler.blockedKeystrokes[8]=+i,this.editable().setReadOnly(i),this.fire("readOnly"))},insertHtml:function(i,o,s){this.fire("insertHtml",{dataValue:i,mode:o,range:s})},insertText:function(i){this.fire("insertText",i)},insertElement:function(i){this.fire("insertElement",i)},getSelectedHtml:function(i){var o=this.editable(),s=(s=this.getSelection())&&s.getRanges();return o&&s&&0!==s.length?(o=function(i,o){function c(i){var o=i.startContainer,s=i.endContainer,_=o.is&&o.is("tr"),$=o.is&&o.is("td");return i=$&&o.equals(s)&&i.endOffset===o.getChildCount(),o=$&&1===o.getChildCount()&&"img"===o.getChildren().getItem(0).getName(),!!(_||i&&!o)}function d(i){var o=i.startContainer;return o.is("tr")?i.cloneContents():o.clone(!0)}for(var s,_,$,j=new CKEDITOR.dom.documentFragment,Z=0;Z<i.length;Z++){var ee=i[Z],te=ee.startContainer.getAscendant("tr",!0);c(ee)?(s||((s=te.getAscendant("table").clone()).append(te.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),j.append(s),s=s.findOne("thead, tbody, tfoot")),_&&_.equals(te)||(_=te,$=te.clone(),s.append($)),$.append(d(ee))):j.append(ee.cloneContents())}return s?j:o.getHtmlFromRange(i[0])}(s,o),i?o.getHtml():o):null},extractSelectedHtml:function(i,o){var s,_=this.editable(),$=this.getSelection().getRanges(),j=new CKEDITOR.dom.documentFragment;if(!_||0===$.length)return null;for(s=0;s<$.length;s++)j.append(_.extractHtmlFromRange($[s],o));return o||this.getSelection().selectRanges([$[0]]),i?j.getHtml():j},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return y.call(this)},setKeystroke:function(){for(var i,o,s=this.keystrokeHandler.keystrokes,_=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],$=_.length;$--;)i=_[$],o=0,CKEDITOR.tools.isArray(i)&&(o=i[1],i=i[0]),o?s[i]=o:delete s[i]},getCommandKeystroke:function(i,o){var s="string"==typeof i?this.getCommand(i):i,_=[];if(s){var $=CKEDITOR.tools.object.findKey(this.commands,s),j=this.keystrokeHandler.keystrokes;if(s.fakeKeystroke)_.push(s.fakeKeystroke);else for(var Z in j)j[Z]===$&&_.push(Z)}return o?_:_[0]||null},addFeature:function(i){return this.filter.addFeature(i)},setActiveFilter:function(i){i||(i=this.filter),this.activeFilter!==i&&(this.activeFilter=i,this.fire("activeFilterChange"),i===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(i.getAllowedEnterMode(this.enterMode),i.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(i,o){i=i?this.blockless?CKEDITOR.ENTER_BR:i:this.enterMode,o=o?this.blockless?CKEDITOR.ENTER_BR:o:this.shiftEnterMode,this.activeEnterMode==i&&this.activeShiftEnterMode==o||(this.activeEnterMode=i,this.activeShiftEnterMode=o,this.fire("activeEnterModeChange"))},showNotification:function(i){alert(i)},isDetached:function(){return!!this.container&&this.container.isDetached()},isDestroyed:function(){return"destroyed"===this.status}}),CKEDITOR.editor._getEditorElement=function(i){if(!CKEDITOR.env.isCompatible)return null;var o=CKEDITOR.dom.element.get(i);return o?o.getEditor()?(CKEDITOR.error("editor-element-conflict",{editorName:o.getEditor().name}),null):o:(CKEDITOR.error("editor-incorrect-element",{element:i}),null)},CKEDITOR.editor.initializeDelayedEditorCreation=function(i,o,s){if(o.delayIfDetached_callback)return CKEDITOR.warn("editor-delayed-creation",{method:"callback"}),o.delayIfDetached_callback((function(){CKEDITOR[s](i,o),CKEDITOR.warn("editor-delayed-creation-success",{method:"callback"})})),null;var _=void 0===o.delayIfDetached_interval?CKEDITOR.config.delayIfDetached_interval:o.delayIfDetached_interval;CKEDITOR.warn("editor-delayed-creation",{method:"interval - "+_+" ms"});var $=setInterval((function(){i.isDetached()||(clearInterval($),CKEDITOR[s](i,o),CKEDITOR.warn("editor-delayed-creation-success",{method:"interval - "+_+" ms"}))}),_);return function(){clearInterval($)}},CKEDITOR.editor.shouldDelayEditorCreation=function(i,o){return CKEDITOR.editor.mergeDelayedCreationConfigs(o),o&&o.delayIfDetached&&i.isDetached()},CKEDITOR.editor.mergeDelayedCreationConfigs=function(i){i&&(i.delayIfDetached="boolean"==typeof i.delayIfDetached?i.delayIfDetached:CKEDITOR.config.delayIfDetached,i.delayIfDetached_interval=isNaN(i.delayIfDetached_interval)?CKEDITOR.config.delayIfDetached_interval:i.delayIfDetached_interval,i.delayIfDetached_callback=i.delayIfDetached_callback||CKEDITOR.config.delayIfDetached_callback)}}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.config.delayIfDetached=!1,CKEDITOR.config.delayIfDetached_callback=void 0,CKEDITOR.config.delayIfDetached_interval=50,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--!?>)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},function(){var i=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,o={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(s){for(var _,$,j,Z=0;_=this._.htmlPartsRegex.exec(s);)if(($=_.index)>Z&&(Z=s.substring(Z,$),j?j.push(Z):this.onText(Z)),Z=this._.htmlPartsRegex.lastIndex,!($=_[1])||($=$.toLowerCase(),j&&CKEDITOR.dtd.$cdata[$]&&(this.onCDATA(j.join("")),j=null),j))if(j)j.push(_[0]);else if($=_[3]){if($=$.toLowerCase(),!/="/.test($)){var ee,te={},ne=_[4];if(_=!!_[5],ne)for(;ee=i.exec(ne);){var ie=ee[1].toLowerCase();ee=ee[2]||ee[3]||ee[4]||"",te[ie]=!ee&&o[ie]?ie:CKEDITOR.tools.htmlDecodeAttr(ee)}this.onTagOpen($,te,_),!j&&CKEDITOR.dtd.$cdata[$]&&(j=[])}}else($=_[2])&&this.onComment($);else this.onTagClose($);s.length>Z&&this.onText(s.substring(Z,s.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(i){this._.output.push("<",i)},openTagClose:function(i,o){o?this._.output.push(" />"):this._.output.push(">")},attribute:function(i,o){"string"==typeof o&&(o=CKEDITOR.tools.htmlEncodeAttr(o)),this._.output.push(" ",i,'="',o,'"')},closeTag:function(i){this._.output.push("</",i,">")},text:function(i){this._.output.push(i)},comment:function(i){this._.output.push("\x3c!--",i,"--\x3e")},write:function(i){this._.output.push(i)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(i){var o=this._.output.join("");return i&&this.reset(),o}}}),CKEDITOR.htmlParser.node=function(){},CKEDITOR.htmlParser.node.prototype={remove:function(){var i=this.parent.children,o=CKEDITOR.tools.indexOf(i,this),s=this.previous,_=this.next;s&&(s.next=_),_&&(_.previous=s),i.splice(o,1),this.parent=null},replaceWith:function(i){var o=this.parent.children,s=CKEDITOR.tools.indexOf(o,this),_=i.previous=this.previous,$=i.next=this.next;_&&(_.next=i),$&&($.previous=i),o[s]=i,i.parent=this.parent,this.parent=null},insertAfter:function(i){var o=i.parent.children,s=CKEDITOR.tools.indexOf(o,i),_=i.next;o.splice(s+1,0,this),this.next=i.next,this.previous=i,i.next=this,_&&(_.previous=this),this.parent=i.parent},insertBefore:function(i){var o=i.parent.children,s=CKEDITOR.tools.indexOf(o,i);o.splice(s,0,this),this.next=i,(this.previous=i.previous)&&(i.previous.next=this),i.previous=this,this.parent=i.parent},getAscendant:function(i){for(var o="function"==typeof i?i:"string"==typeof i?function(o){return o.name==i}:function(o){return o.name in i},s=this.parent;s&&s.type==CKEDITOR.NODE_ELEMENT;){if(o(s))return s;s=s.parent}return null},wrapWith:function(i){return this.replaceWith(i),i.add(this),i},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(i){return i||{}}},CKEDITOR.htmlParser.comment=function(i){this.value=i,this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(i,o){var s=this.value;return(s=i.onComment(o,s,this))?"string"!=typeof s?(this.replaceWith(s),!1):(this.value=s,!0):(this.remove(),!1)},writeHtml:function(i,o){o&&this.filter(o),i.comment(this.value)}}),CKEDITOR.htmlParser.text=function(i){this.value=i,this._={isBlockLike:!1}},CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(i,o){if(!(this.value=i.onText(o,this.value,this)))return this.remove(),!1},writeHtml:function(i,o){o&&this.filter(o),i.text(this.value)}}),CKEDITOR.htmlParser.cdata=function(i){this.value=i},CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(i){if((o=this.getAscendant("style"))&&o.getAscendant({math:1,svg:1})){var o=CKEDITOR.htmlParser.fragment.fromHtml(this.value),s=new CKEDITOR.htmlParser.basicWriter;i.applyTo(o),o.writeHtml(s),this.value=s.getHtml()}},writeHtml:function(i){i.write(this.value)}}),CKEDITOR.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function a(i){return!i.attributes["data-cke-survive"]&&("a"==i.name&&i.attributes.href||CKEDITOR.dtd.$removeEmpty[i.name])}var i=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),o={ol:1,ul:1},s=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),_={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function($,j,Z){function p(i){var o;if(0<ne.length)for(var s=0;s<ne.length;s++){var _=ne[s],$=_.name,j=CKEDITOR.dtd[$],Z=oe.name&&CKEDITOR.dtd[oe.name];Z&&!Z[$]||i&&j&&!j[i]&&CKEDITOR.dtd[i]?$==oe.name&&(x(oe,oe.parent,1),s--):(o||(m(),o=1),(_=_.clone()).parent=oe,oe=_,ne.splice(s,1),s--)}}function m(){for(;ie.length;)x(ie.shift(),oe)}function g(i){if(i._.isBlockLike&&"pre"!=i.name&&"textarea"!=i.name){var o,s=i.children.length,_=i.children[s-1];_&&_.type==CKEDITOR.NODE_TEXT&&((o=CKEDITOR.tools.rtrim(_.value))?_.value=o:i.children.length=s-1)}}function x(i,o,s){o=o||oe||te;var _=oe;void 0===i.previous&&(y(o,i)&&(oe=o,ee.onTagOpen(Z,{}),i.returnPoint=o=oe),g(i),a(i)&&!i.children.length||o.add(i),"pre"==i.name&&(re=!1),"textarea"==i.name&&(ae=!1)),i.returnPoint?(oe=i.returnPoint,delete i.returnPoint):oe=s?o:_}function y(i,o){var s,_;if((i==te||"body"==i.name)&&Z&&(!i.name||CKEDITOR.dtd[i.name][Z]))return(s=o.attributes&&(_=o.attributes["data-cke-real-element-type"])?_:o.name)&&s in CKEDITOR.dtd.$inline&&!(s in CKEDITOR.dtd.head)&&!o.isOrphan||o.type==CKEDITOR.NODE_TEXT}function A(i,o){return(i in CKEDITOR.dtd.$listItem||i in CKEDITOR.dtd.$tableContent)&&(i==o||"dt"==i&&"dd"==o||"dd"==i&&"dt"==o)}var ee=new CKEDITOR.htmlParser,te=j instanceof CKEDITOR.htmlParser.element?j:"string"==typeof j?new CKEDITOR.htmlParser.element(j):new CKEDITOR.htmlParser.fragment,ne=[],ie=[],oe=te,ae="textarea"==te.name,re="pre"==te.name;for(ee.onTagOpen=function(_,$,j,Z){if(($=new CKEDITOR.htmlParser.element(_,$)).isUnknown&&j&&($.isEmpty=!0),$.isOptionalClose=Z,a($))ne.push($);else{if("pre"==_)re=!0;else{if("br"==_&&re)return void oe.add(new CKEDITOR.htmlParser.text("\n"));"textarea"==_&&(ae=!0)}if("br"==_)ie.push($);else{for(;Z=(j=oe.name)?CKEDITOR.dtd[j]||(oe._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):s,!($.isUnknown||oe.isUnknown||Z[_]);)if(oe.isOptionalClose)ee.onTagClose(j);else if(_ in o&&j in o)(j=(j=oe.children)[j.length-1])&&"li"==j.name||x(j=new CKEDITOR.htmlParser.element("li"),oe),!$.returnPoint&&($.returnPoint=oe),oe=j;else if(_ in CKEDITOR.dtd.$listItem&&!A(_,j))ee.onTagOpen("li"==_?"ul":"dl",{},0,1);else if(j in i&&!A(_,j))!$.returnPoint&&($.returnPoint=oe),oe=oe.parent;else{if(j in CKEDITOR.dtd.$inline&&ne.unshift(oe),!oe.parent){$.isOrphan=1;break}x(oe,oe.parent,1)}p(_),m(),$.parent=oe,$.isEmpty?x($):oe=$}}},ee.onTagClose=function(i){for(var o=ne.length-1;0<=o;o--)if(i==ne[o].name)return void ne.splice(o,1);for(var s=[],_=[],$=oe;$!=te&&$.name!=i;)$._.isBlockLike||_.unshift($),s.push($),$=$.returnPoint||$.parent;if($!=te){for(o=0;o<s.length;o++){var j=s[o];x(j,j.parent)}oe=$,$._.isBlockLike?m():!0!==(o=CKEDITOR.config.shiftLineBreaks)&&ie.length&&("function"!=typeof o?m():!0!==(o=o(ie[ie.length-1]))&&(m(),o instanceof CKEDITOR.htmlParser.text&&oe.add(o),o instanceof CKEDITOR.htmlParser.element&&x(o,oe))),x($,$.parent),$==oe&&(oe=oe.parent),ne=ne.concat(_)}"body"==i&&(Z=!1)},ee.onText=function(o){if(oe._.hasInlineStarted&&!ie.length||re||ae||0!==(o=CKEDITOR.tools.ltrim(o)).length){var $=oe.name,j=$?CKEDITOR.dtd[$]||(oe._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):s;ae||j["#"]||!($ in i)?(m(),p(),re||ae||(o=o.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),o=new CKEDITOR.htmlParser.text(o),y(oe,o)&&this.onTagOpen(Z,{},0,1),oe.add(o)):(ee.onTagOpen(_[$]||""),ee.onText(o))}},ee.onCDATA=function(i){oe.add(new CKEDITOR.htmlParser.cdata(i))},ee.onComment=function(i){m(),p(),oe.add(new CKEDITOR.htmlParser.comment(i))},ee.parse($),m();oe!=te;)x(oe,oe.parent,1);return g(te),te},CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(i,o){isNaN(o)&&(o=this.children.length);var s=0<o?this.children[o-1]:null;if(s){if(i._.isBlockLike&&s.type==CKEDITOR.NODE_TEXT&&(s.value=CKEDITOR.tools.rtrim(s.value),0===s.value.length))return this.children.pop(),void this.add(i);s.next=i}i.previous=s,i.parent=this,this.children.splice(o,0,i),this._.hasInlineStarted||(this._.hasInlineStarted=i.type==CKEDITOR.NODE_TEXT||i.type==CKEDITOR.NODE_ELEMENT&&!i._.isBlockLike)},filter:function(i,o){o=this.getFilterContext(o),i.onRoot(o,this),this.filterChildren(i,!1,o)},filterChildren:function(i,o,s){if(this.childrenFilteredBy!=i.id)for(s=this.getFilterContext(s),o&&!this.parent&&i.onRoot(s,this),this.childrenFilteredBy=i.id,o=0;o<this.children.length;o++)!1===this.children[o].filter(i,s)&&o--},writeHtml:function(i,o){o&&this.filter(o),this.writeChildrenHtml(i)},writeChildrenHtml:function(i,o,s){var _=this.getFilterContext();for(s&&!this.parent&&o&&o.onRoot(_,this),o&&this.filterChildren(o,!1,_),o=0,_=(s=this.children).length;o<_;o++)s[o].writeHtml(i)},forEach:function(i,o,s){if(!(s||o&&this.type!=o))var _=i(this);if(!1!==_){s=this.children;for(var $=0;$<s.length;$++)(_=s[$]).type==CKEDITOR.NODE_ELEMENT?_.forEach(i,o):o&&_.type!=o||i(_)}},getFilterContext:function(i){return i||{}}},CKEDITOR.config.shiftLineBreaks=!0}(),function(){function a(){this.rules=[]}function d(i,o,s,_){var $,j;for($ in o)(j=i[$])||(j=i[$]=new a),j.add(o[$],s,_)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(i){this.id=CKEDITOR.tools.getNextNumber(),this.elementNameRules=new a,this.attributeNameRules=new a,this.elementsRules={},this.attributesRules={},this.textRules=new a,this.commentRules=new a,this.rootRules=new a,i&&this.addRules(i,10)},proto:{addRules:function(i,o){var s;"number"==typeof o?s=o:o&&"priority"in o&&(s=o.priority),"number"!=typeof s&&(s=10),"object"!=typeof o&&(o={}),i.elementNames&&this.elementNameRules.addMany(i.elementNames,s,o),i.attributeNames&&this.attributeNameRules.addMany(i.attributeNames,s,o),i.elements&&d(this.elementsRules,i.elements,s,o),i.attributes&&d(this.attributesRules,i.attributes,s,o),i.text&&this.textRules.add(i.text,s,o),i.comment&&this.commentRules.add(i.comment,s,o),i.root&&this.rootRules.add(i.root,s,o)},applyTo:function(i){i.filter(this)},onElementName:function(i,o){return this.elementNameRules.execOnName(i,o)},onAttributeName:function(i,o){return this.attributeNameRules.execOnName(i,o)},onText:function(i,o,s){return this.textRules.exec(i,o,s)},onComment:function(i,o,s){return this.commentRules.exec(i,o,s)},onRoot:function(i,o){return this.rootRules.exec(i,o)},onElement:function(i,o){for(var s,_=[this.elementsRules["^"],this.elementsRules[o.name],this.elementsRules.$],$=0;3>$;$++)if(s=_[$]){if(!1===(s=s.exec(i,o,this)))return null;if(s&&s!=o)return this.onNode(i,s);if(o.parent&&!o.name)break}return o},onNode:function(i,o){var s=o.type;return s==CKEDITOR.NODE_ELEMENT?this.onElement(i,o):s==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(i,o.value,o)):s==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(i,o.value,o)):null},onAttribute:function(i,o,s,_){return(s=this.attributesRules[s])?s.exec(i,_,o,this):_}}}),CKEDITOR.htmlParser.filterRulesGroup=a,a.prototype={add:function(i,o,s){this.rules.splice(this.findIndex(o),0,{value:i,priority:o,options:s})},addMany:function(i,o,s){for(var _=[this.findIndex(o),0],$=0,j=i.length;$<j;$++)_.push({value:i[$],priority:o,options:s});this.rules.splice.apply(this.rules,_)},findIndex:function(i){for(var o=this.rules,s=o.length-1;0<=s&&i<o[s].priority;)s--;return s+1},exec:function(i,o){var s,_,$,j,Z=o instanceof CKEDITOR.htmlParser.node||o instanceof CKEDITOR.htmlParser.fragment,ee=Array.prototype.slice.call(arguments,1),te=this.rules,ne=te.length;for(j=0;j<ne;j++)if(Z&&(s=o.type,_=o.name),$=te[j],!(i.nonEditable&&!$.options.applyToAll||i.nestedEditable&&$.options.excludeNestedEditable)){if(!1===($=$.value.apply(null,ee))||Z&&$&&($.name!=_||$.type!=s))return $;null!=$&&(ee[0]=o=$)}return o},execOnName:function(i,o){for(var s,_=0,$=this.rules,j=$.length;o&&_<j;_++)s=$[_],i.nonEditable&&!s.options.applyToAll||i.nestedEditable&&s.options.excludeNestedEditable||(o=o.replace(s.value[0],s.value[1]));return o}}}(),function(){function a(i,s){function g(i){return i||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(" "):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function t(i,o){return function(s){if(s.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var _,$,j=[],Z=b(s);if(Z)for(r(Z,1)&&j.push(Z);Z;)e(Z)&&(_=c(Z))&&r(_)&&(($=c(_))&&!e($)?j.push(_):(g(ee).insertAfter(_),_.remove())),Z=Z.previous;for(Z=0;Z<j.length;Z++)j[Z].remove();(j=!i||!1!==("function"==typeof o?o(s):o))&&((ee||CKEDITOR.env.needsBrFiller||s.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(ee||CKEDITOR.env.needsBrFiller||!(7<document.documentMode||s.name in CKEDITOR.dtd.tr||s.name in CKEDITOR.dtd.$listItem))?j=!(j=b(s))||"form"==s.name&&"input"==j.name:j=!1),j&&s.add(g(i))}}}function r(i,s){return!(ee&&!CKEDITOR.env.needsBrFiller||i.type!=CKEDITOR.NODE_ELEMENT||"br"!=i.name||i.attributes["data-cke-eol"])||!!(i.type==CKEDITOR.NODE_TEXT&&(_=i.value.match(o))&&(_.index&&(new CKEDITOR.htmlParser.text(i.value.substring(0,_.index)).insertBefore(i),i.value=_[0]),!CKEDITOR.env.needsBrFiller&&ee&&(!s||i.parent.name in te)||!ee&&((_=i.previous)&&"br"==_.name||!_||e(_))));var _}var $,Z={elements:{}},ee="html"==s,te=CKEDITOR.tools.extend({},j);for($ in te)"#"in _[$]||delete te[$];for($ in te)Z.elements[$]=t(ee,i.config.fillEmptyBlocks);return Z.root=t(ee,!1),Z.elements.br=function(i){return function(o){if(o.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var s=o.attributes;if("data-cke-bogus"in s||"data-cke-eol"in s)delete s["data-cke-bogus"];else{for(s=o.next;s&&f(s);)s=s.next;var _=c(o);!s&&e(o.parent)?k(o.parent,g(i)):e(s)&&_&&!e(_)&&g(i).insertBefore(s)}}}}(ee),Z}function d(i,o){return i!=CKEDITOR.ENTER_BR&&!1!==o&&(i==CKEDITOR.ENTER_DIV?"div":"p")}function b(i){for(i=i.children[i.children.length-1];i&&f(i);)i=i.previous;return i}function c(i){for(i=i.previous;i&&f(i);)i=i.previous;return i}function f(i){return i.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(i.value)||i.type==CKEDITOR.NODE_ELEMENT&&i.attributes["data-cke-bookmark"]}function e(i){return i&&(i.type==CKEDITOR.NODE_ELEMENT&&i.name in j||i.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function k(i,o){var s=i.children[i.children.length-1];i.children.push(o),o.parent=i,s&&(s.next=o,o.previous=s)}function h(i){"false"!=(i=i.attributes).contenteditable&&(i["data-cke-editable"]=i.contenteditable?"true":1),i.contenteditable="false"}function p(i){switch((i=i.attributes)["data-cke-editable"]){case"true":i.contenteditable="true";break;case"1":delete i.contenteditable}}function m(i,o){return i.replace(ie,(function(i,s,_){return"<"+s+_.replace(oe,(function(i,s){return ae.test(s)&&-1==_.indexOf("data-cke-saved-"+s)?" data-cke-saved-"+i+" data-cke-"+o+"-"+i:i}))+">"}))}function g(i,o){return i.replace(o,(function(i,o,s){return 0===i.indexOf("<textarea")&&(i=o+A(s).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>"),"<cke:encoded>"+encodeURIComponent(i)+"</cke:encoded>"}))}function A(i){return i.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,(function(i,o){return decodeURIComponent(o)}))}function F(i,o){var s=o._.dataStore;return i.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,(function(i,o){return decodeURIComponent(o)})).replace(/\{cke_protected_(\d+)\}/g,(function(i,o){return s&&s[o]||""}))}function v(i,o,_){var $=[],j=o.config.protectedSource,Z=o._.dataStore||(o._.dataStore={id:1}),ee=new RegExp("<\\!--\\{cke_temp_"+_+"(comment)?\\}(\\d*?)--\x3e","g");j=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(j);i=i.replace(/\x3c!--[\s\S]*?--\x3e/g,(function(i){return"\x3c!--{cke_temp_"+_+"comment}"+($.push(i)-1)+"--\x3e"}));for(var te=0;te<j.length;te++)i=i.replace(j[te],(function(i){return i=i.replace(ee,(function(i,o,s){return $[s]})),ee.test(i)?i:"\x3c!--{cke_temp_"+_+"}"+($.push(i)-1)+"--\x3e"}));return i=i.replace(ee,(function(i,o,_){return"\x3c!--"+s+(o?"{C}":"")+encodeURIComponent($[_]).replace(/--/g,"%2D%2D")+"--\x3e"})),i=i.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,(function(i){return i.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,(function(i,o){return Z[Z.id]=decodeURIComponent(o),"{cke_protected_"+Z.id+++"}"}))})),i.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,(function(i,s,_,$){return"<"+s+_+">"+F(A($),o)+"</"+s+">"}))}var i;CKEDITOR.htmlDataProcessor=function(o){var _,$,j=this;this.editor=o,this.dataFilter=_=new CKEDITOR.htmlParser.filter,this.htmlFilter=$=new CKEDITOR.htmlParser.filter,this.writer=new CKEDITOR.htmlParser.basicWriter,_.addRules(Z),_.addRules(ee,{applyToAll:!0}),_.addRules(a(o,"data"),{applyToAll:!0}),$.addRules(te),$.addRules(ne,{applyToAll:!0}),$.addRules(a(o,"html"),{applyToAll:!0}),o.on("toHtml",(function(s){var _;_=(j=window.crypto||window.msCrypto)?j.getRandomValues(new Uint32Array(1))[0]:Math.floor(9e9*Math.random()+1e9);var $,j=(s=s.data).dataValue,Z=(j=g(j=v(j=i(j),o,_),se),j=(j=(j=(j=(j=g(j=m(j,_),re)).replace(ce,"$1cke:$2")).replace(ue,"<cke:$1$2></cke:$1>")).replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2")).replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+_+"-$2"),s.context||o.editable().getName());CKEDITOR.env.ie&&9>CKEDITOR.env.version&&"pre"==Z&&(Z="div",j="<pre>"+j+"</pre>",$=1),(Z=o.document.createElement(Z)).setHtml("a"+j),j=(j=Z.getHtml().substr(1)).replace(new RegExp("data-cke-"+_+"-","ig"),""),$&&(j=j.replace(/^<pre>|<\/pre>$/gi,"")),j=function(i){return i.replace(le,(function(i,o){return decodeURIComponent(o)}))}(j=j.replace(de,"$1$2")),j=A(j),_=!1!==s.fixForBody&&d(s.enterMode,o.config.autoParagraph),j=CKEDITOR.htmlParser.fragment.fromHtml(j,s.context,_),_&&(!($=j).children.length&&CKEDITOR.dtd[$.name][_]&&(_=new CKEDITOR.htmlParser.element(_),$.add(_))),s.dataValue=j}),null,null,5),o.on("toHtml",(function(i){i.data.filter.applyTo(i.data.dataValue,!0,i.data.dontFilter,i.data.enterMode)&&o.fire("dataFiltered")}),null,null,6),o.on("toHtml",(function(i){i.data.dataValue.filterChildren(j.dataFilter,!0)}),null,null,10),o.on("toHtml",(function(i){var o=(i=i.data).dataValue,_=new CKEDITOR.htmlParser.basicWriter;o.writeChildrenHtml(_),o=_.getHtml(!0),i.dataValue=function(i){return i.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,(function(i){return"\x3c!--"+s+"{C}"+encodeURIComponent(i).replace(/--/g,"%2D%2D")+"--\x3e"}))}(o)}),null,null,15),o.on("toDataFormat",(function(i){var s=i.data.dataValue;i.data.enterMode!=CKEDITOR.ENTER_BR&&(s=s.replace(/^<br *\/?>/i,"")),i.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(s,i.data.context,d(i.data.enterMode,o.config.autoParagraph))}),null,null,5),o.on("toDataFormat",(function(i){i.data.dataValue.filterChildren(j.htmlFilter,!0)}),null,null,10),o.on("toDataFormat",(function(i){i.data.filter.applyTo(i.data.dataValue,!1,!0)}),null,null,11),o.on("toDataFormat",(function(i){var s=i.data.dataValue,_=j.writer;_.reset(),s.writeChildrenHtml(_),s=F(s=A(s=_.getHtml(!0)),o),i.data.dataValue=s}),null,null,15)},CKEDITOR.htmlDataProcessor.prototype={toHtml:function(i,o,s,_){var $,j,Z,ee,te=this.editor;return o&&"object"==typeof o?($=o.context,s=o.fixForBody,_=o.dontFilter,j=o.filter,Z=o.enterMode,ee=o.protectedWhitespaces):$=o,$||null===$||($=te.editable().getName()),te.fire("toHtml",{dataValue:i,context:$,fixForBody:s,dontFilter:_,filter:j||te.filter,enterMode:Z||te.enterMode,protectedWhitespaces:ee}).dataValue},toDataFormat:function(i,o){var s,_,$;return o&&(s=o.context,_=o.filter,$=o.enterMode),s||null===s||(s=this.editor.editable().getName()),this.editor.fire("toDataFormat",{dataValue:i,filter:_||this.editor.filter,context:s,enterMode:$||this.editor.enterMode}).dataValue},protectSource:function(i){return v(i,this.editor)},unprotectSource:function(i){return F(i,this.editor)},unprotectRealComments:function(i){return A(i)}};var o=/(?:&nbsp;|\xa0)$/,s="{cke_protected}",_=CKEDITOR.dtd,$="caption colgroup col thead tfoot tbody".split(" "),j=CKEDITOR.tools.extend({},_.$blockLimit,_.$block),Z={elements:{input:h,textarea:h}},ee={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(i){if(i.attributes&&i.attributes.src){var o=i.attributes.src.toLowerCase().replace(/[^a-z]/gi,"");0!==o.indexOf("javascript")&&0!==o.indexOf("data")||(i.attributes["data-cke-pa-src"]=i.attributes.src,delete i.attributes.src)}}}},te={elements:{embed:function(i){if((s=i.parent)&&"object"==s.name){var o=s.attributes.width,s=s.attributes.height;o&&(i.attributes.width=o),s&&(i.attributes.height=s)}},a:function(i){var o=i.attributes;if(!(i.children.length||o.name||o.id||i.attributes["data-cke-saved-name"]))return!1}}},ne={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(i){var o=i.attributes;if(o){if(o["data-cke-temp"])return!1;for(var s=["name","href","src"],_=0;_<s.length;_++)"data-cke-saved-"+s[_]in o&&delete o[s[_]]}return i},table:function(i){i.children.slice(0).sort((function(i,o){var s,_;return i.type==CKEDITOR.NODE_ELEMENT&&o.type==i.type&&(s=CKEDITOR.tools.indexOf($,i.name),_=CKEDITOR.tools.indexOf($,o.name)),-1<s&&-1<_&&s!=_||(s=i.parent?i.getIndex():-1,_=o.parent?o.getIndex():-1),s>_?1:-1}))},param:function(i){return i.children=[],i.isEmpty=!0,i},span:function(i){"Apple-style-span"==i.attributes.class&&delete i.name},html:function(i){delete i.attributes.contenteditable,delete i.attributes.class},body:function(i){delete i.attributes.spellcheck,delete i.attributes.contenteditable},style:function(i){var o=i.children[0];o&&o.value&&(o.value=CKEDITOR.tools.trim(o.value)),i.attributes.type||(i.attributes.type="text/css")},title:function(i){var o=i.children[0];!o&&k(i,o=new CKEDITOR.htmlParser.text),o.value=i.attributes["data-cke-title"]||""},input:p,textarea:p},attributes:{class:function(i){return CKEDITOR.tools.ltrim(i.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(ne.attributes.style=function(i){return i.replace(/(^|;)([^\:]+)/g,(function(i){return i.toLowerCase()}))});var ie=/<(a|area|img|input|source)\b([^>]*)>/gi,oe=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,ae=/^(href|src|name)$/i,re=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,se=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,le=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,ce=/(<\/?)((?:object|embed|param|html|body|head|title)([\s][^>]*)?>)/gi,de=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,ue=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;i=function(){function a(i,o){for(var s=0;s<i.length;s++){var _=i[s];if(_.lastIndex=0,_.test(o))return!0}return!1}function b(i){return CKEDITOR.tools.array.reduce(i.split(""),(function(i,o){var s=o.toLowerCase(),_=o.toUpperCase(),$=c(s);return s!==_&&($+="|"+c(_)),i+"("+$+")"}),"")}function c(i){var o,s=(o=i.charCodeAt(0)).toString(16);for(var _ in o={htmlCode:"&#"+o+";?",hex:"&#x0*"+s+";?",entity:{"<":"&lt;",">":"&gt;",":":"&colon;"}[i]})o[_]&&(i+="|"+o[_]);return i}var i=[new RegExp("("+b("<cke:encoded>")+"(.*?)"+b("</cke:encoded>")+")|("+b("<")+b("/")+"?"+b("cke:encoded>")+")","gi"),new RegExp("(("+b("{cke_protected")+")(_[0-9]*)?"+b("}")+")","gi"),/<!(?:\s*-\s*){2,3}!?\s*>/g];return function(o){for(;a(i,o);)for(var s=i,_=0;_<s.length;_++)o=o.replace(s[_],"");return o}}()}(),CKEDITOR.htmlParser.element=function(i,o){this.name=i,this.attributes=o||{},this.children=[];var s=i||"",_=s.match(/^cke:(.*)/);_&&(s=_[1]),s=!!(CKEDITOR.dtd.$nonBodyContent[s]||CKEDITOR.dtd.$block[s]||CKEDITOR.dtd.$listItem[s]||CKEDITOR.dtd.$tableContent[s]||CKEDITOR.dtd.$nonEditable[s]||"br"==s),this.isEmpty=!!CKEDITOR.dtd.$empty[i],this.isUnknown=!CKEDITOR.dtd[i],this._={isBlockLike:s,hasInlineStarted:this.isEmpty||!s}},CKEDITOR.htmlParser.cssStyle=function(i){var o={};return((i instanceof CKEDITOR.htmlParser.element?i.attributes.style:i)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,(function(i,s,_){"font-family"==s&&(_=_.replace(/["']/g,"")),o[s.toLowerCase()]=_})),{rules:o,populate:function(i){var o=this.toString();o&&(i instanceof CKEDITOR.dom.element?i.setAttribute("style",o):i instanceof CKEDITOR.htmlParser.element?i.attributes.style=o:i.style=o)},toString:function(){var i,s=[];for(i in o)o[i]&&s.push(i,":",o[i],";");return s.join("")}}},o=function(i,o){return(i=i[0])<(o=o[0])?-1:i>o?1:0},s=CKEDITOR.htmlParser.fragment.prototype,CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:s.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(i,o){var s,_,$,j,Z=this;for(o=Z.getFilterContext(o),Z.parent||i.onRoot(o,Z);;){if(s=Z.name,!(_=i.onElementName(o,s)))return this.remove(),!1;if(Z.name=_,!(Z=i.onElement(o,Z)))return this.remove(),!1;if(Z!==this)return this.replaceWith(Z),!1;if(Z.name==s)break;if(Z.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(Z),!1;if(!Z.name)return this.replaceWithChildren(),!1}for($ in s=Z.attributes){for(_=s[$];;){if(!(j=i.onAttributeName(o,$))){delete s[$];break}if(j==$)break;delete s[$],$=j}j&&(!1===(_=i.onAttribute(o,Z,j,_))?delete s[j]:s[j]=_)}return Z.isEmpty||this.filterChildren(i,!1,o),!0},filterChildren:s.filterChildren,writeHtml:function(i,s){s&&this.filter(s);var _,$,j=this.name,Z=[],ee=this.attributes;for(_ in i.openTag(j,ee),ee)Z.push([_,ee[_]]);for(i.sortAttributes&&Z.sort(o),_=0,$=Z.length;_<$;_++)ee=Z[_],i.attribute(ee[0],ee[1]);i.openTagClose(j,this.isEmpty),this.writeChildrenHtml(i),this.isEmpty||i.closeTag(j)},writeChildrenHtml:s.writeChildrenHtml,replaceWithChildren:function(){for(var i=this.children,o=i.length;o;)i[--o].insertAfter(this);this.remove()},forEach:s.forEach,getFirst:function(i){if(!i)return this.children.length?this.children[0]:null;"function"!=typeof i&&(i=function(i){return function(o){return o.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof i?o.name==i:o.name in i)}}(i));for(var o=0,s=this.children.length;o<s;++o)if(i(this.children[o]))return this.children[o];return null},getHtml:function(){var i=new CKEDITOR.htmlParser.basicWriter;return this.writeChildrenHtml(i),i.getHtml()},setHtml:function(i){for(var o=0,s=(i=this.children=CKEDITOR.htmlParser.fragment.fromHtml(i).children).length;o<s;++o)i[o].parent=this},getOuterHtml:function(){var i=new CKEDITOR.htmlParser.basicWriter;return this.writeHtml(i),i.getHtml()},split:function(i){for(var o=this.children.splice(i,this.children.length-i),s=this.clone(),_=0;_<o.length;++_)o[_].parent=s;return s.children=o,o[0]&&(o[0].previous=null),0<i&&(this.children[i-1].next=null),this.parent.add(s,this.getIndex()+1),s},find:function(i,o){void 0===o&&(o=!1);var s,_=[];for(s=0;s<this.children.length;s++){var $=this.children[s];("function"==typeof i&&i($)||"string"==typeof i&&$.name===i)&&_.push($),o&&$.find&&(_=_.concat($.find(i,o)))}return _},findOne:function(i,o){var s=null,_=CKEDITOR.tools.array.find(this.children,(function(_){var $="function"==typeof i?i(_):_.name===i;return $||!o?$:(_.children&&_.findOne&&(s=_.findOne(i,!0)),!!s)}));return s||_||null},addClass:function(i){if(!this.hasClass(i)){var o=this.attributes.class||"";this.attributes.class=o+(o?" ":"")+i}},removeClass:function(i){var o=this.attributes.class;o&&((o=CKEDITOR.tools.trim(o.replace(new RegExp("(?:\\s+|^)"+i+"(?:\\s+|$)")," ")))?this.attributes.class=o:delete this.attributes.class)},hasClass:function(i){var o=this.attributes.class;return!!o&&new RegExp("(?:^|\\s)"+i+"(?=\\s|$)").test(o)},getFilterContext:function(i){var o=[];if(i||(i={nonEditable:!1,nestedEditable:!1}),i.nonEditable||"false"!=this.attributes.contenteditable?i.nonEditable&&!i.nestedEditable&&"true"==this.attributes.contenteditable&&o.push("nestedEditable",!0):o.push("nonEditable",!0),o.length){i=CKEDITOR.tools.copy(i);for(var s=0;s<o.length;s+=2)i[o[s]]=o[s+1]}return i}},!0),function(){var i=/{([^}]+)}/g;CKEDITOR.template=function(i){this.source="function"==typeof i?i:String(i)},CKEDITOR.template.prototype.output=function(o,s){var _=("function"==typeof this.source?this.source(o):this.source).replace(i,(function(i,s){return void 0!==o[s]?o[s]:i}));return s?s.push(_):_}}(),delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(i){function d(){CKEDITOR.currentInstance==i&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}CKEDITOR.instances[i.name]=i,i.on("focus",(function(){CKEDITOR.currentInstance!=i&&(CKEDITOR.currentInstance=i,CKEDITOR.fire("currentInstance"))})),i.on("blur",d),i.on("destroy",d),CKEDITOR.fire("instance",null,i)},CKEDITOR.remove=function(i){delete CKEDITOR.instances[i.name]},function(){var i={};CKEDITOR.addTemplate=function(o,s){var _=i[o];return _||(_={name:o,source:s},CKEDITOR.fire("template",_),i[o]=new CKEDITOR.template(_.source))},CKEDITOR.getTemplate=function(o){return i[o]}}(),function(){var i=[];CKEDITOR.addCss=function(o){i.push(o)},CKEDITOR.getCss=function(){return i.join("\n")}}(),CKEDITOR.on("instanceDestroyed",(function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")})),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,CKEDITOR.inline=function(i,o){if(!(i=CKEDITOR.editor._getEditorElement(i)))return null;if(CKEDITOR.editor.shouldDelayEditorCreation(i,o))return CKEDITOR.editor.initializeDelayedEditorCreation(i,o,"inline");var s=i.is("textarea")?i:null,_=s?s.getValue():i.getHtml(),$=new CKEDITOR.editor(o,i,CKEDITOR.ELEMENT_MODE_INLINE);return s?($.setData(_,null,!0),(i=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!$.readOnly+'" class="cke_textarea_inline">'+s.getValue()+"</div>",CKEDITOR.document)).insertAfter(s),s.hide(),s.$.form&&$._attachToForm()):(o&&void 0!==o.readOnly&&!o.readOnly&&i.setAttribute("contenteditable","true"),$.setData(_,null,!0)),$.on("loaded",(function(){$.fire("uiReady"),$.editable(i),$.container=i,$.ui.contentsElement=i,$.setData($.getData(1)),$.resetDirty(),$.fire("contentDom"),$.mode="wysiwyg",$.fire("mode"),$.status="ready",$.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,$)}),null,null,1e4),$.on("destroy",(function(){var i=$.container;s&&i&&(i.clearCustomData(),i.remove()),s&&s.show(),$.element.clearCustomData(),delete $.element})),$},CKEDITOR.inlineAll=function(){var i,o,s;for(s in CKEDITOR.dtd.$editable)for(var _=CKEDITOR.document.getElementsByTag(s),$=0,j=_.count();$<j;$++)"true"!=(i=_.getItem($)).getAttribute("contenteditable")||i.getEditor()||(o={element:i,config:{}},!1!==CKEDITOR.fire("inline",o)&&CKEDITOR.inline(i,o.config))},CKEDITOR.domReady((function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})),CKEDITOR.replaceClass="ckeditor",function(){function a(i,o,s,_){if(!(i=CKEDITOR.editor._getEditorElement(i)))return null;if(CKEDITOR.editor.shouldDelayEditorCreation(i,o))return CKEDITOR.editor.initializeDelayedEditorCreation(i,o,"replace");var $=new CKEDITOR.editor(o,i,_);return _==CKEDITOR.ELEMENT_MODE_REPLACE&&(i.setStyle("visibility","hidden"),$._.required=i.hasAttribute("required"),i.removeAttribute("required")),s&&$.setData(s,null,!0),$.on("loaded",(function(){$.isDestroyed()||$.isDetached()||(function(i){var o=i.name,s=i.element,_=i.elementMode,$=i.fire("uiSpace",{space:"top",html:""}).html,j=i.fire("uiSpace",{space:"bottom",html:""}).html,Z=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(i.applicationTitle?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(i.applicationTitle?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>');o=CKEDITOR.dom.element.createFromHtml(Z.output({id:i.id,name:o,langDir:i.lang.dir,langCode:i.langCode,voiceLabel:i.applicationTitle,topHtml:$?'<span id="'+i.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+$+"</span>":"",contentId:i.ui.spaceId("contents"),bottomHtml:j?'<span id="'+i.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+j+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"}));_==CKEDITOR.ELEMENT_MODE_REPLACE?(s.hide(),o.insertAfter(s)):s.append(o),i.container=o,i.ui.contentsElement=i.ui.space("contents"),$&&i.ui.space("top").unselectable(),j&&i.ui.space("bottom").unselectable(),s=i.config.width,_=i.config.height,s&&o.setStyle("width",CKEDITOR.tools.cssLength(s)),_&&i.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(_)),o.disableContextMenu(),CKEDITOR.env.webkit&&o.on("focus",(function(){i.focus()})),i.fireOnce("uiReady")}($),_==CKEDITOR.ELEMENT_MODE_REPLACE&&$.config.autoUpdateElement&&i.$.form&&$._attachToForm(),$.setMode($.config.startupMode,(function(){$.resetDirty(),$.status="ready",$.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,$)})))})),$.on("destroy",d),$}function d(){var i=this.container,o=this.element;i&&(i.clearCustomData(),i.remove()),o&&(o.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(o.show(),this._.required&&o.setAttribute("required","required")),delete this.element)}CKEDITOR.replace=function(i,o){return a(i,o,null,CKEDITOR.ELEMENT_MODE_REPLACE)},CKEDITOR.appendTo=function(i,o,s){return a(i,o,s,CKEDITOR.ELEMENT_MODE_APPENDTO)},CKEDITOR.replaceAll=function(){for(var i=document.getElementsByTagName("textarea"),o=0;o<i.length;o++){var s=null,_=i[o];if(_.name||_.id){if("string"==typeof arguments[0]){if(!new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)").test(_.className))continue}else if("function"==typeof arguments[0]&&!1===arguments[0](_,s={}))continue;this.replace(_,s)}}},CKEDITOR.editor.prototype.addMode=function(i,o){(this._.modes||(this._.modes={}))[i]=o},CKEDITOR.editor.prototype.setMode=function(i,o){var s=this,_=this._.modes;if(i!=s.mode&&_&&_[i]){if(s.fire("beforeSetMode",i),s.mode){var $,j=s.checkDirty(),Z=(_=s._.previousModeData,0);s.fire("beforeModeUnload"),s.editable(0),s._.previousMode=s.mode,s._.previousModeData=$=s.getData(1),"source"==s.mode&&_==$&&(s.fire("lockSnapshot",{forceUpdate:!0}),Z=1),s.ui.space("contents").setHtml(""),s.mode=""}else s._.previousModeData=s.getData(1);this._.modes[i]((function(){s.mode=i,void 0!==j&&!j&&s.resetDirty(),Z?s.fire("unlockSnapshot"):"wysiwyg"==i&&s.fire("saveSnapshot"),setTimeout((function(){s.isDestroyed()||s.isDetached()||(s.fire("mode"),o&&o.call(s))}),0)}))}},CKEDITOR.editor.prototype.resize=function(i,o,s,_){var $=this.container,j=this.ui.space("contents"),Z=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;_=_?this.container.getFirst((function(i){return i.type==CKEDITOR.NODE_ELEMENT&&i.hasClass("cke_inner")})):$,(i||0===i)&&(i=CKEDITOR.tools.convertToPx(CKEDITOR.tools.cssLength(i))),_.setSize("width",i,!0),Z&&(Z.style.width="1%"),o=CKEDITOR.tools.convertToPx(CKEDITOR.tools.cssLength(o));var ee=(_.$.offsetHeight||0)-(j.$.clientHeight||0);$=Math.max(o-(s?0:ee),0);o=s?o+ee:o,j.setStyle("height",CKEDITOR.tools.cssLength($)),Z&&(Z.style.width="100%"),this.fire("resize",{outerHeight:o,contentsHeight:$,outerWidth:i||_.getSize("width")})},CKEDITOR.editor.prototype.getResizable=function(i){return i?this.ui.space("contents"):this.container},CKEDITOR.domReady((function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)}))}(),CKEDITOR.config.startupMode="wysiwyg",function(){function a(i){var o,s=i.editor,_=i.data.path,$=_.blockLimit,j=i.data.selection,Z=j.getRanges()[0];(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&(j=function(i,o){if(i.isFake)return 0;var s=o.block||o.blockLimit,_=s&&s.getLast(c);if(!(!s||!s.isBlockBoundary()||_&&_.type==CKEDITOR.NODE_ELEMENT&&_.isBlockBoundary()||s.is("pre")||s.getBogus()))return s}(j,_))&&(j.appendBogus(),o=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.edge&&s._.previousActive),p(s,_.block,$)&&Z.collapsed&&!Z.getCommonAncestor().isReadOnly()&&((_=Z.clone()).enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),($=new CKEDITOR.dom.walker(_)).guard=function(i){return!c(i)||i.type==CKEDITOR.NODE_COMMENT||i.isReadOnly()},!$.checkForward()||_.checkStartOfBlock()&&_.checkEndOfBlock())&&(s=Z.fixBlock(!0,s.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(s=s.getFirst(c))&&s.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(s.getText()).match(/^(?:&nbsp;|\xa0)$/)&&s.remove(),o=1,i.cancel()),o&&Z.select()}function b(i){var o=i.data.getTarget();o.is("input")&&("submit"!=(o=o.getAttribute("type"))&&"reset"!=o||i.data.preventDefault())}function c(s){return i(s)&&o(s)}function f(i,o){return function(s){var _=s.data.$.toElement||s.data.$.fromElement||s.data.$.relatedTarget;(_=_&&_.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(_):null)&&(o.equals(_)||o.contains(_))||i.call(this,s)}}function e(i){return!!i.getRanges()[0].startPath().contains({table:1,ul:1,ol:1,dl:1})}function k(i){function b(i){var s={table:1,ul:1,ol:1,dl:1};return function($,j){if(j&&$.type==CKEDITOR.NODE_ELEMENT&&$.is(s)&&(o=$),!(j||!c($)||i&&_($)))return!1}}var o,s=i.getRanges()[0],$=i.root;return e(i)&&((i=s.clone()).collapse(1),i.setStartAt($,CKEDITOR.POSITION_AFTER_START),($=new CKEDITOR.dom.walker(i)).guard=b(),$.checkBackward(),o)?((i=s.clone()).collapse(),i.setEndAt(o,CKEDITOR.POSITION_AFTER_END),($=new CKEDITOR.dom.walker(i)).guard=b(!0),o=!1,$.checkForward(),o):null}function h(i){return i.block.getParent().getChildCount()}function p(i,o,s){return!1!==i.config.autoParagraph&&i.activeEnterMode!=CKEDITOR.ENTER_BR&&(i.editable().equals(s)&&!o||o&&"true"==o.getAttribute("contenteditable"))}function m(i){return i.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==i.config.autoParagraph&&(i.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p")}function g(i){i&&i.isEmptyInlineRemoveable()&&i.remove()}function x(i){var o=i.editor;o.getSelection().scrollIntoView(),setTimeout((function(){o.fire("saveSnapshot")}),0)}function y(i,o,s){var _=i.getCommonAncestor(o);for(o=i=s?o:i;(i=i.getParent())&&!_.equals(i)&&1==i.getChildCount();)o=i;o.remove()}var i,o,s,_,$,j,Z,ee,te,ne,ie={ul:1,ol:1,dl:1};CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(i,o){this.base(o.$||o),this.editor=i,this.status="unloaded",this.hasFocus=!1,this.setup()},proto:{focus:function(){var i;if(CKEDITOR.env.webkit&&!this.hasFocus&&(i=this.editor._.previousActive||this.getDocument().getActive(),this.contains(i)))i.focus();else{CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var o=this.$.scrollTop;this.$.focus(),this.$.scrollTop=o}else this.$.focus();else this.$.setActive()}catch(i){if(!CKEDITOR.env.ie)throw i}CKEDITOR.env.safari&&!this.isInline()&&((i=CKEDITOR.document.getActive()).equals(this.getWindow().getFrame())||this.getWindow().focus())}},on:function(i,o){var s=Array.prototype.slice.call(arguments,0);return CKEDITOR.env.ie&&/^focus|blur$/.exec(i)&&(i="focus"==i?"focusin":"focusout",o=f(o,this),s[0]=i,s[1]=o),CKEDITOR.dom.element.prototype.on.apply(this,s)},attachListener:function(i){!this._.listeners&&(this._.listeners=[]);var o=Array.prototype.slice.call(arguments,1);o=i.on.apply(i,o);return this._.listeners.push(o),o},clearListeners:function(){var i=this._.listeners;try{for(;i.length;)i.pop().removeListener()}catch(i){}},restoreAttrs:function(){var i,o,s=this._.attrChanges;for(o in s)s.hasOwnProperty(o)&&(null!==(i=s[o])?this.setAttribute(o,i):this.removeAttribute(o))},attachClass:function(i){var o=this.getCustomData("classes");this.hasClass(i)||(!o&&(o=[]),o.push(i),this.setCustomData("classes",o),this.addClass(i))},changeAttr:function(i,o){var s=this.getAttribute(i);o!==s&&(!this._.attrChanges&&(this._.attrChanges={}),i in this._.attrChanges||(this._.attrChanges[i]=s),this.setAttribute(i,o))},insertText:function(i){this.editor.focus(),this.insertHtml(this.transformPlainTextToHtml(i),"text")},transformPlainTextToHtml:function(i){var o=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(i,o)},insertHtml:function(i,o,s){var _=this.editor;_.focus(),_.fire("saveSnapshot"),s||(s=_.getSelection().getRanges()[0]),j(this,o||"html",i,s),s.select(),x(this),this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(i,o,s){j(this,s||"html",i,o),this.editor.fire("afterInsertHtml",{intoRange:o})},insertElement:function(i,o){($=this.editor).focus(),$.fire("saveSnapshot");var s=$.activeEnterMode,$=$.getSelection(),j=i.getName();j=CKEDITOR.dtd.$block[j];o||(o=$.getRanges()[0]),this.insertElementIntoRange(i,o)&&(o.moveToPosition(i,CKEDITOR.POSITION_AFTER_END),j&&((j=i.getNext((function(i){return c(i)&&!_(i)})))&&j.type==CKEDITOR.NODE_ELEMENT&&j.is(CKEDITOR.dtd.$block)?j.getDtd()["#"]?o.moveToElementEditStart(j):o.moveToElementEditEnd(i):j||s==CKEDITOR.ENTER_BR||(j=o.fixBlock(!0,s==CKEDITOR.ENTER_DIV?"div":"p"),o.moveToElementEditStart(j)))),$.selectRanges([o]),x(this)},insertElementIntoSelection:function(i){this.insertElement(i)},insertElementIntoRange:function(i,o){var s,_,$=this.editor,j=$.config.enterMode,te=i.getName(),ne=CKEDITOR.dtd.$block[te];if(o.checkReadOnly())return!1;if(o.deleteContents(1),o.startContainer.type==CKEDITOR.NODE_ELEMENT&&(o.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?Z(o):o.startContainer.is(CKEDITOR.dtd.$list)&&ee(o)),ne)for(;(s=o.getCommonAncestor(0,1))&&(_=CKEDITOR.dtd[s.getName()])&&(!_||!_[te]);)if(s.getName()in CKEDITOR.dtd.span){ne=o.splitElement(s);var ie=o.createBookmark();g(s),g(ne),o.moveToBookmark(ie)}else o.checkStartOfBlock()&&o.checkEndOfBlock()?(o.setStartBefore(s),o.collapse(!0),s.remove()):o.splitBlock(j==CKEDITOR.ENTER_DIV?"div":"p",$.editable());return o.insertNode(i),!0},setData:function(i,o){o||(i=this.editor.dataProcessor.toHtml(i)),this.setHtml(i),this.fixInitialSelection(),"unloaded"==this.status&&(this.status="ready"),this.editor.fire("dataReady")},getData:function(i){var o=this.getHtml();return i||(o=this.editor.dataProcessor.toDataFormat(o)),o},setReadOnly:function(i){this.setAttribute("contenteditable",String(!i)),this.setAttribute("aria-readonly",String(i))},detach:function(){this.status="detached",this.editor.setData(this.editor.getData(),{internal:!0}),this.clearListeners();try{this._.cleanCustomData()}catch(i){if(!CKEDITOR.env.ie||-2146828218!==i.number)throw i}this.editor.fire("contentDomUnload"),delete this.editor.document,delete this.editor.window,delete this.editor},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function a(){var o,s=i.getDocument().$,_=s.getSelection();e:if(_.anchorNode&&_.anchorNode==i.$)o=!0;else{if(CKEDITOR.env.webkit&&(o=i.getDocument().getActive())&&o.equals(i)&&!_.anchorNode){o=!0;break e}o=void 0}o&&((o=new CKEDITOR.dom.range(i)).moveToElementEditStart(i),(s=s.createRange()).setStart(o.startContainer.$,o.startOffset),s.collapse(!0),_.removeAllRanges(),_.addRange(s))}var i=this;CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks)?this.hasFocus&&(this.focus(),function(){var o=i.getDocument().$,s=o.selection,_=i.getDocument().getActive();"None"==s.type&&_.equals(i)&&(s=new CKEDITOR.dom.range(i),o=o.body.createTextRange(),s.moveToElementEditStart(i),(s=s.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(s=s.getParent()),o.moveToElementText(s.$),o.collapse(!0),o.select())}()):this.hasFocus?(this.focus(),a()):this.once("focus",(function(){a()}),null,null,-999)},getHtmlFromRange:function(i){return i.collapsed?new CKEDITOR.dom.documentFragment(i.document):(i={doc:this.getDocument(),range:i.clone()},te.eol.detect(i,this),te.bogus.exclude(i),te.cell.shrink(i),i.fragment=i.range.cloneContents(),te.tree.rebuild(i,this),te.eol.fix(i,this),new CKEDITOR.dom.documentFragment(i.fragment.$))},extractHtmlFromRange:function(i,_){var $=ne,j={range:i,doc:i.document},Z=this.getHtmlFromRange(i);if(i.collapsed)return i.optimize(),Z;if(i.enlarge(CKEDITOR.ENLARGE_INLINE,1),$.table.detectPurge(j),j.bookmark=i.createBookmark(),delete j.range,(te=this.editor.createRange()).moveToPosition(j.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START),j.targetBookmark=te.createBookmark(),$.list.detectMerge(j,this),$.table.detectRanges(j,this),$.block.detectMerge(j,this),j.tableContentsRanges?($.table.deleteRanges(j),i.moveToBookmark(j.bookmark),j.range=i):(i.moveToBookmark(j.bookmark),j.range=i,i.extractContents($.detectExtractMerge(j))),i.moveToBookmark(j.targetBookmark),i.optimize(),$.fixUneditableRangePosition(i),$.list.merge(j,this),$.table.purge(j,this),$.block.merge(j,this),_){if($=i.startPath(),j=i.checkStartOfBlock()&&i.checkEndOfBlock()&&$.block&&!i.root.equals($.block)){e:{var ee,te=0;if(j=$.block.getElementsByTag("span"))for(;ee=j.getItem(te++);)if(!o(ee)){j=!0;break e}j=!1}j=!j}j&&(i.moveToPosition($.block,CKEDITOR.POSITION_BEFORE_START),$.block.remove())}else $.autoParagraph(this.editor,i),s(i.startContainer)&&i.startContainer.appendBogus();return i.startContainer.mergeSiblings(),Z},setup:function(){var o=this.editor;if(this.attachListener(o,"beforeGetData",(function(){var i=this.getData();this.is("textarea")||!1!==o.config.ignoreEmptyParagraph&&(i=i.replace($,(function(i,o){return o}))),o.setData(i,null,1)}),this),this.attachListener(o,"getSnapshot",(function(i){i.data=this.getData(1)}),this),this.attachListener(o,"afterSetData",(function(){this.setData(o.getData(1))}),this),this.attachListener(o,"loadSnapshot",(function(i){this.setData(i.data,1)}),this),this.attachListener(o,"beforeFocus",(function(){var i=o.getSelection();(i=i&&i.getNative())&&"Control"==i.type||this.focus()}),this),this.attachListener(o,"insertHtml",(function(i){this.insertHtml(i.data.dataValue,i.data.mode,i.data.range)}),this),this.attachListener(o,"insertElement",(function(i){this.insertElement(i.data)}),this),this.attachListener(o,"insertText",(function(i){this.insertText(i.data)}),this),this.setReadOnly(o.readOnly),this.attachClass("cke_editable"),o.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):o.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&o.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed"),this.attachClass("cke_contents_"+o.config.contentsLangDirection),o.keystrokeHandler.blockedKeystrokes[8]=+o.readOnly,o.keystrokeHandler.attach(this),this.on("blur",(function(){this.hasFocus=!1}),null,null,-1),this.on("focus",(function(){this.hasFocus=!0}),null,null,-1),CKEDITOR.env.webkit&&this.on("scroll",(function(){o._.previousScrollTop=o.editable().$.scrollTop}),null,null,-1),CKEDITOR.env.edge&&14<CKEDITOR.env.version){var d=function(){var i=o.editable();null!=o._.previousScrollTop&&i.getDocument().equals(CKEDITOR.document)&&(i.$.scrollTop=o._.previousScrollTop,o._.previousScrollTop=null,this.removeListener("scroll",d))};this.on("scroll",d)}if(o.focusManager.add(this),this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,o.once("contentDom",(function(){o.focusManager.focus(this)}),this)),this.isInline()&&this.changeAttr("tabindex",o.tabIndex),!this.is("textarea")){o.document=this.getDocument(),o.window=this.getWindow();var s=o.document;this.changeAttr("spellcheck",!o.config.disableNativeSpellChecker);var _=o.config.contentsLangDirection;this.getDirection(1)!=_&&this.changeAttr("dir",_);var j=CKEDITOR.getCss();if(j){var Z=(_=s.getHead()).getCustomData("stylesheet");Z?j!=Z.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?Z.$.styleSheet.cssText=j:Z.setText(j)):(j=s.appendStyleText(j),j=new CKEDITOR.dom.element(j.ownerNode||j.owningElement),_.setCustomData("stylesheet",j),j.data("cke-temp",1))}_=s.getCustomData("stylesheet_ref")||0,s.setCustomData("stylesheet_ref",_+1),this.setCustomData("cke_includeReadonly",!o.config.disableReadonlyStyling),this.attachListener(this,"click",(function(i){i=i.data;var o=new CKEDITOR.dom.elementPath(i.getTarget(),this).contains("a");o&&2!=i.$.button&&o.isReadOnly()&&i.preventDefault()}));var ee={8:1,46:1};this.attachListener(o,"key",(function(s){if(o.readOnly)return!0;var _,$=s.data.domEvent.getKey(),j=o.getSelection();if(0!==j.getRanges().length){if($ in ee){var Z,te,ne,oe,ae=(s=j.getRanges()[0]).startPath(),re=($=8==$,!1);if(CKEDITOR.env.ie&&11>CKEDITOR.env.version&&j.getSelectedElement())Z=j.getSelectedElement();else if(e(j)){var se,le=new CKEDITOR.dom.walker(s),ce=s.collapsed?s.startContainer:le.next();re=!1;if(s.checkStartOfBlock()){var de=(se=s.startPath().block||s.startPath().blockLimit).getName();se=-1!==CKEDITOR.tools.array.indexOf(["dd","dt","li"],de)&&null===se.getPrevious()}else se=!1;if(se){for(;ce&&!re;)re=ce.$.nodeName.toLowerCase(),re=!!ie[re],ce=le.next();le=h(s.startPath()),ce=h(s.endPath()),re=re||le!==ce}else re=void 0;re||(Z=k(j))}Z||re?(o.fire("saveSnapshot"),re?((_=s.startContainer.getAscendant(ie,!0))?(s.setStart(_,0),s.enlarge(CKEDITOR.ENLARGE_ELEMENT),Z=s):Z=null,Z.deleteContents()):(s.moveToPosition(Z,CKEDITOR.POSITION_BEFORE_START),Z.remove()),s.select(),o.fire("saveSnapshot"),_=1):s.collapsed&&((te=ae.block)&&(oe=te[$?"getPrevious":"getNext"](i))&&oe.type==CKEDITOR.NODE_ELEMENT&&oe.is("table")&&s[$?"checkStartOfBlock":"checkEndOfBlock"]()?(o.fire("saveSnapshot"),s[$?"checkEndOfBlock":"checkStartOfBlock"]()&&te.remove(),s["moveToElementEdit"+($?"End":"Start")](oe),s.select(),o.fire("saveSnapshot"),_=1):ae.blockLimit&&ae.blockLimit.is("td")&&(ne=ae.blockLimit.getAscendant("table"))&&s.checkBoundaryOfElement(ne,$?CKEDITOR.START:CKEDITOR.END)&&(oe=ne[$?"getPrevious":"getNext"](i))?(o.fire("saveSnapshot"),s["moveToElementEdit"+($?"End":"Start")](oe),s.checkStartOfBlock()&&s.checkEndOfBlock()?oe.remove():s.select(),o.fire("saveSnapshot"),_=1):(ne=ae.contains(["td","th","caption"]))&&s.checkBoundaryOfElement(ne,$?CKEDITOR.START:CKEDITOR.END)&&(_=1))}return!_}})),o.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",(function(i){i.data.getKeystroke()in ee&&!this.getFirst(c)&&(this.appendBogus(),(i=o.createRange()).moveToPosition(this,CKEDITOR.POSITION_AFTER_START),i.select())})),this.attachListener(this,"dblclick",(function(i){if(o.readOnly)return!1;i={element:i.data.getTarget()},o.fire("doubleclick",i)})),CKEDITOR.env.ie&&this.attachListener(this,"click",b),CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",(function(i){var s=i.data.getTarget();s.is("img","hr","input","textarea","select")&&!s.isReadOnly()&&(o.getSelection().selectElement(s),s.is("input","textarea","select")&&i.data.preventDefault())})),CKEDITOR.env.edge&&this.attachListener(this,"mouseup",(function(i){(i=i.data.getTarget())&&i.is("img")&&!i.isReadOnly()&&o.getSelection().selectElement(i)})),CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",(function(i){if(2==i.data.$.button&&(!(i=i.data.getTarget()).getAscendant("table")&&!i.getOuterHtml().replace($,""))){var s=o.createRange();s.moveToElementEditStart(i),s.select(!0)}})),CKEDITOR.env.webkit&&(this.attachListener(this,"click",(function(i){i.data.getTarget().is("input","select")&&i.data.preventDefault()})),this.attachListener(this,"mouseup",(function(i){i.data.getTarget().is("input","textarea")&&i.data.preventDefault()}))),CKEDITOR.env.webkit&&this.attachListener(o,"key",(function(i){if(o.readOnly)return!0;if((s=i.data.domEvent.getKey())in ee&&0!==(i=o.getSelection()).getRanges().length){var s=8==s,_=i.getRanges()[0];if(i=_.startPath(),_.collapsed)e:{var $=i.block;if($&&_[s?"checkStartOfBlock":"checkEndOfBlock"](!0)&&_.moveToClosestEditablePosition($,!s)&&_.collapsed){if(_.startContainer.type==CKEDITOR.NODE_ELEMENT){var j=_.startContainer.getChild(_.startOffset-(s?1:0));if(j&&j.type==CKEDITOR.NODE_ELEMENT&&j.is("hr")){o.fire("saveSnapshot"),j.remove(),i=!0;break e}}var Z;if(!(_=_.startPath().block)||_&&_.contains($))i=void 0;else o.fire("saveSnapshot"),(Z=(s?_:$).getBogus())&&Z.remove(),j=(Z=o.getSelection()).createBookmarks(),(s?$:_).moveChildren(s?_:$,!1),i.lastElement.mergeSiblings(),y($,_,!s),Z.selectBookmarks(j),i=!0}else i=!1}else s=_,Z=i.block,_=s.endPath().block,Z&&_&&!Z.equals(_)?(o.fire("saveSnapshot"),($=Z.getBogus())&&$.remove(),s.enlarge(CKEDITOR.ENLARGE_INLINE),s.deleteContents(),_.getParent()&&(_.moveChildren(Z,!1),i.lastElement.mergeSiblings(),y(Z,_,!0)),(s=o.getSelection().getRanges()[0]).collapse(1),s.optimize(),""===s.startContainer.getHtml()&&s.startContainer.appendBogus(),s.select(),i=!0):i=!1;if(!i)return;return o.getSelection().scrollIntoView(),o.fire("saveSnapshot"),!1}}),this,null,100)}},getUniqueId:function(){var i;try{this._.expandoNumber=i=CKEDITOR.dom.domObject.prototype.getUniqueId.call(this)}catch(o){i=this._&&this._.expandoNumber}return i}},_:{cleanCustomData:function(){this.removeClass("cke_editable"),this.restoreAttrs();for(var i=this.removeCustomData("classes");i&&i.length;)this.removeClass(i.pop());if(!this.is("textarea")){var o=(i=this.getDocument()).getHead();if(o.getCustomData("stylesheet")){var s=i.getCustomData("stylesheet_ref");--s?i.setCustomData("stylesheet_ref",s):(i.removeCustomData("stylesheet_ref"),o.removeCustomData("stylesheet").remove())}}}}}),CKEDITOR.editor.prototype.editable=function(i){var o=this._.editable;return o&&i?0:arguments.length?(i?o=i instanceof CKEDITOR.editable?i:new CKEDITOR.editable(this,i):(o&&o.detach(),o=null),this._.editable=o):o},CKEDITOR.on("instanceLoaded",(function(i){var o=i.editor;o.on("insertElement",(function(i){(i=i.data).type==CKEDITOR.NODE_ELEMENT&&(i.is("input")||i.is("textarea"))&&("false"!=i.getAttribute("contentEditable")&&i.data("cke-editable",i.hasAttribute("contenteditable")?"true":"1"),i.setAttribute("contentEditable",!1))})),o.on("selectionChange",(function(i){if(!o.readOnly){var s=o.getSelection();s&&!s.isLocked&&(s=o.checkDirty(),o.fire("lockSnapshot"),a(i),o.fire("unlockSnapshot"),!s&&o.resetDirty())}}))})),CKEDITOR.on("instanceCreated",(function(i){var o=i.editor;o.on("mode",(function(){var i=o.editable();if(i&&i.isInline()){var s=o.title;if(i.changeAttr("role","textbox"),i.changeAttr("aria-multiline","true"),s&&i.changeAttr("aria-label",s),s&&i.changeAttr("title",s),($=o.fire("ariaEditorHelpLabel",{}).label)&&(s=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var _=CKEDITOR.tools.getNextId(),$=CKEDITOR.dom.element.createFromHtml('<span id="'+_+'" class="cke_voice_label">'+$+"</span>");s.append($),i.changeAttr("aria-describedby",_)}}}))})),CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}"),i=CKEDITOR.dom.walker.whitespaces(!0),o=CKEDITOR.dom.walker.bookmark(!1,!0),s=CKEDITOR.dom.walker.empty(),_=CKEDITOR.dom.walker.bogus(),$=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,j=function(){function a(i){return i.type==CKEDITOR.NODE_ELEMENT}function b(o,s){var _,$,j,Z,ee=[],te=s.range.startContainer;_=s.range.startPath();te=i[te.getName()];for(var ne=0,ie=o.getChildren(),oe=ie.count(),ae=-1,re=-1,se=0,le=_.contains(i.$list);ne<oe;++ne)a(_=ie.getItem(ne))?(j=_.getName(),le&&j in CKEDITOR.dtd.$list?ee=ee.concat(b(_,s)):(Z=!!te[j],"br"!=j||!_.data("cke-eol")||ne&&ne!=oe-1||(se=($=ne?ee[ne-1].node:ie.getItem(ne+1))&&(!a($)||!$.is("br")),$=$&&a($)&&i.$block[$.getName()]),-1!=ae||Z||(ae=ne),Z||(re=ne),ee.push({isElement:1,isLineBreak:se,isBlock:_.isBlockBoundary(),hasBlockSibling:$,node:_,name:j,allowed:Z}),$=se=0)):ee.push({isElement:0,node:_,allowed:1});return-1<ae&&(ee[ae].firstNotAllowed=1),-1<re&&(ee[re].lastNotAllowed=1),ee}function d(o,s){var _,$=[],j=o.getChildren(),Z=j.count(),ee=0,te=i[s],ne=!o.is(i.$inline)||o.is("br");for(ne&&$.push(" ");ee<Z;ee++)a(_=j.getItem(ee))&&!_.is(te)?$=$.concat(d(_,s)):$.push(_);return ne&&$.push(" "),$}function e(i){return a(i.startContainer)&&i.startContainer.getChild(i.startOffset-1)}function f(o){return o&&a(o)&&(o.is(i.$removeEmpty)||o.is("a")&&!o.isBlockBoundary())}function h(i,s,_,$){var j,Z,ee=i.clone();ee.setEndAt(s,CKEDITOR.POSITION_BEFORE_END),(j=new CKEDITOR.dom.walker(ee).next())&&a(j)&&o[j.getName()]&&(Z=j.getPrevious())&&a(Z)&&!Z.getParent().equals(i.startContainer)&&_.contains(Z)&&$.contains(j)&&j.isIdentical(Z)&&(j.moveChildren(Z),j.remove(),h(i,s,_,$))}var i=CKEDITOR.dtd,o={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},s={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},_=CKEDITOR.tools.extend({},i.$inline);return delete _.br,function(o,j,Z,ee){var te,ne=o.editor,ie=!1;if("unfiltered_html"==j&&(j="html",ie=!0),!ee.checkReadOnly()){ie=(j={type:j,dontFilter:ie,editable:o,editor:ne,range:ee,blockLimit:de=new CKEDITOR.dom.elementPath(ee.startContainer,ee.root).blockLimit||ee.root,mergeCandidates:[],zombies:[]}).range;var oe,ae,re,se,le,ce,de=j.mergeCandidates,ue="html"===j.type;if("text"==j.type&&ie.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(ae=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",ie.document),ie.insertNode(ae),ie.setStartAfter(ae)),re=new CKEDITOR.dom.elementPath(ie.startContainer),j.endPath=se=new CKEDITOR.dom.elementPath(ie.endContainer),!ie.collapsed){oe=se.block||se.blockLimit;var he=ie.getCommonAncestor();oe&&!oe.equals(he)&&!oe.contains(he)&&ie.checkEndOfBlock()&&j.zombies.push(oe),ie.deleteContents()}for(;(le=e(ie))&&a(le)&&le.isBlockBoundary()&&re.contains(le);)ie.moveToPosition(le,CKEDITOR.POSITION_BEFORE_END);for(h(ie,j.blockLimit,re,se),ae&&(ie.setEndBefore(ae),ie.collapse(),ae.remove()),(oe=(ae=ie.startPath()).contains(f,!1,1))&&(te=ie.splitElement(oe),j.inlineStylesRoot=oe,j.inlineStylesPeak=ae.lastElement),ae=ie.createBookmark(),ue&&(g(oe),g(te)),(oe=ae.startNode.getPrevious(c))&&a(oe)&&f(oe)&&de.push(oe),(oe=ae.startNode.getNext(c))&&a(oe)&&f(oe)&&de.push(oe),oe=ae.startNode;(oe=oe.getParent())&&f(oe);)de.push(oe);if(ie.moveToBookmark(ae),te=""===(te=o.getHtml())||te.match($),ne.enterMode===CKEDITOR.ENTER_DIV&&te&&((ne=o.getFirst())&&ne.remove(),ee.setStartAt(o,CKEDITOR.POSITION_AFTER_START),ee.collapse(!0)),o=Z){if(o=j.range,"text"==j.type&&j.inlineStylesRoot){for(ne=(ee=j.inlineStylesPeak).getDocument().createText("{cke-peak}"),te=j.inlineStylesRoot.getParent();!ee.equals(te);)ne=ne.appendTo(ee.clone()),ee=ee.getParent();Z=ne.getOuterHtml().split("{cke-peak}").join(Z)}if(ee=j.blockLimit.getName(),/^\s+|\s+$/.test(Z)&&"span"in CKEDITOR.dtd[ee])Z=(Ee='<span data-cke-marker="1">&nbsp;</span>')+Z+Ee;if(Z=j.editor.dataProcessor.toHtml(Z,{context:null,fixForBody:!1,protectedWhitespaces:!!Ee,dontFilter:j.dontFilter,filter:j.editor.activeFilter,enterMode:j.editor.activeEnterMode}),(ee=o.document.createElement("body")).setHtml(Z),Ee&&(ee.getFirst().remove(),ee.getLast().remove()),(Ee=o.startPath().block)&&(1!=Ee.getChildCount()||!Ee.getBogus()))e:{var fe;if(1==ee.getChildCount()&&a(fe=ee.getFirst())&&fe.is(s)&&!fe.hasAttribute("contenteditable")){for(o=0,te=(Ee=fe.getElementsByTag("*")).count();o<te;o++)if(!(ne=Ee.getItem(o)).is(_))break e;fe.moveChildren(fe.getParent(1)),fe.remove()}}j.dataWrapper=ee,o=Z}if(o){o=(fe=j.range).document,ee=j.blockLimit,te=0;var ge,me,pe,Ee=[];Z=ae=0;var Te,Ce;ne=fe.startContainer,ie=(le=j.endPath.elements[0]).getPosition(ne),de=!(!le.getCommonAncestor(ne)||ie==CKEDITOR.POSITION_IDENTICAL||ie&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED),ne=b(j.dataWrapper,j);for(j.editor.enterMode!==CKEDITOR.ENTER_BR&&function(i,o){function d(i,o){if(o.isBlock&&o.isElement&&!o.node.is("br")&&a(i)&&i.is("br"))return i.remove(),1}var s=o.endContainer.getChild(o.endOffset),_=o.endContainer.getChild(o.endOffset-1);s&&d(s,i[i.length-1]),_&&d(_,i[0])&&(o.setEnd(o.endContainer,o.endOffset-1),o.collapse())}(ne,fe);te<ne.length;te++)if((ue=(ie=ne[te]).isLineBreak)&&(ue=fe,oe=ee,se=re=void 0,ie.hasBlockSibling?ue=1:(re=ue.startContainer.getAscendant(i.$block,1))&&re.is({div:1,p:1})?(se=re.getPosition(oe))==CKEDITOR.POSITION_IDENTICAL||se==CKEDITOR.POSITION_CONTAINS?ue=0:(oe=ue.splitElement(re),ue.moveToPosition(oe,CKEDITOR.POSITION_AFTER_START),ue=1):ue=0),ue)Z=0<te;else{if(ue=fe.startPath(),!ie.isBlock&&p(j.editor,ue.block,ue.blockLimit)&&(pe=m(j.editor))&&((pe=o.createElement(pe)).appendBogus(),fe.insertNode(pe),CKEDITOR.env.needsBrFiller&&(ge=pe.getBogus())&&ge.remove(),fe.moveToPosition(pe,CKEDITOR.POSITION_BEFORE_END)),(ue=fe.startPath().block)&&!ue.equals(me)&&((ge=ue.getBogus())&&(ge.remove(),Ee.push(ue)),me=ue),ie.firstNotAllowed&&(ae=1),ae&&ie.isElement){for(ue=fe.startContainer,oe=null;ue&&!i[ue.getName()][ie.name];){if(ue.equals(ee)){ue=null;break}oe=ue,ue=ue.getParent()}if(ue)oe&&(Te=fe.splitElement(oe),j.zombies.push(Te),j.zombies.push(oe));else{oe=ee.getName(),Ce=!te,ue=te==ne.length-1,re=[],se=(oe=d(ie.node,oe)).length;he=0;for(var Ie=void 0,Oe=0,De=-1;he<se;he++)" "==(Ie=oe[he])?(Oe||Ce&&!he||(re.push(new CKEDITOR.dom.text(" ")),De=re.length),Oe=1):(re.push(Ie),Oe=0);ue&&De==re.length&&re.pop(),Ce=re}}if(Ce){for(;ue=Ce.pop();)fe.insertNode(ue);Ce=0}else fe.insertNode(ie.node);ie.lastNotAllowed&&te<ne.length-1&&((Te=de?le:Te)&&fe.setEndAt(Te,CKEDITOR.POSITION_AFTER_START),ae=0),fe.collapse()}1!=ne.length?ge=!1:ge=(ge=ne[0]).isElement&&"false"==ge.node.getAttribute("contenteditable"),ge&&(Z=!0,ue=ne[0].node,fe.setStartAt(ue,CKEDITOR.POSITION_BEFORE_START),fe.setEndAt(ue,CKEDITOR.POSITION_AFTER_END)),j.dontMoveCaret=Z,j.bogusNeededBlocks=Ee}for(ge=j.range,Ce=j.bogusNeededBlocks,me=ge.createBookmark();pe=j.zombies.pop();)pe.getParent()&&((Te=ge.clone()).moveToElementEditStart(pe),Te.removeEmptyBlocksAtEnd());if(Ce)for(;pe=Ce.pop();)CKEDITOR.env.needsBrFiller?pe.appendBogus():pe.append(ge.document.createText(" "));for(;pe=j.mergeCandidates.pop();)pe.mergeSiblings();if(CKEDITOR.env.webkit&&ge.startPath()&&((pe=ge.startPath()).block?pe.block.$.normalize():pe.blockLimit&&pe.blockLimit.$.normalize()),ge.moveToBookmark(me),!j.dontMoveCaret){for(pe=e(ge);pe&&a(pe)&&!pe.is(i.$empty);){if(pe.isBlockBoundary())ge.moveToPosition(pe,CKEDITOR.POSITION_BEFORE_END);else{if(f(pe)&&pe.getHtml().match(/(\s|&nbsp;)$/g)){ce=null;break}(ce=ge.clone()).moveToPosition(pe,CKEDITOR.POSITION_BEFORE_END)}pe=pe.getLast(c)}ce&&ge.moveToRange(ce)}}}}(),Z=function(){function a(i){return(i=new CKEDITOR.dom.walker(i)).guard=function(i,o){return!o&&(i.type==CKEDITOR.NODE_ELEMENT?i.is(CKEDITOR.dtd.$tableContent):void 0)},i.evaluator=function(i){return i.type==CKEDITOR.NODE_ELEMENT},i}function b(i,o,s){return o=i.getDocument().createElement(o),i.append(o,s),o}function c(i){for(var o,s=i.count();0<s--;)o=i.getItem(s),CKEDITOR.tools.trim(o.getHtml())||(o.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&o.getChildCount()&&o.getFirst().remove())}return function(i){var o=i.startContainer,s=o.getAscendant("table",1),_=!1;c(s.getElementsByTag("td")),c(s.getElementsByTag("th")),(s=i.clone()).setStart(o,0),(s=a(s).lastBackward())||((s=i.clone()).setEndAt(o,CKEDITOR.POSITION_BEFORE_END),s=a(s).lastForward(),_=!0),s||(s=o),s.is("table")?(i.setStartAt(s,CKEDITOR.POSITION_BEFORE_START),i.collapse(!0),s.remove()):(s.is({tbody:1,thead:1,tfoot:1})&&(s=b(s,"tr",_)),s.is("tr")&&(s=b(s,s.getParent().is("thead")?"th":"td",_)),(o=s.getBogus())&&o.remove(),i.moveToPosition(s,_?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}(),ee=function(){function a(i){return(i=new CKEDITOR.dom.walker(i)).guard=function(i,o){return!o&&(i.type==CKEDITOR.NODE_ELEMENT?i.is(CKEDITOR.dtd.$list)||i.is(CKEDITOR.dtd.$listItem):void 0)},i.evaluator=function(i){return i.type==CKEDITOR.NODE_ELEMENT&&i.is(CKEDITOR.dtd.$listItem)},i}return function(i){var o,s=i.startContainer,_=!1;(o=i.clone()).setStart(s,0),(o=a(o).lastBackward())||((o=i.clone()).setEndAt(s,CKEDITOR.POSITION_BEFORE_END),o=a(o).lastForward(),_=!0),o||(o=s),o.is(CKEDITOR.dtd.$list)?(i.setStartAt(o,CKEDITOR.POSITION_BEFORE_START),i.collapse(!0),o.remove()):((s=o.getBogus())&&s.remove(),i.moveToPosition(o,_?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),i.select())}}(),te={eol:{detect:function(i,o){var s=i.range,_=s.clone(),$=s.clone(),j=new CKEDITOR.dom.elementPath(s.startContainer,o),Z=new CKEDITOR.dom.elementPath(s.endContainer,o);_.collapse(1),$.collapse(),j.block&&_.checkBoundaryOfElement(j.block,CKEDITOR.END)&&(s.setStartAfter(j.block),i.prependEolBr=1),Z.block&&$.checkBoundaryOfElement(Z.block,CKEDITOR.START)&&(s.setEndBefore(Z.block),i.appendEolBr=1)},fix:function(i,o){var s,_=o.getDocument();i.appendEolBr&&(s=this.createEolBr(_),i.fragment.append(s)),!i.prependEolBr||s&&!s.getPrevious()||i.fragment.append(this.createEolBr(_),1)},createEolBr:function(i){return i.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(i){var o,s=(o=i.range.getBoundaryNodes()).startNode;!(o=o.endNode)||!_(o)||s&&s.equals(o)||i.range.setEndBefore(o)}},tree:{rebuild:function(i,o){var s,_=(Z=i.range).getCommonAncestor(),$=new CKEDITOR.dom.elementPath(_,o),j=new CKEDITOR.dom.elementPath(Z.startContainer,o),Z=new CKEDITOR.dom.elementPath(Z.endContainer,o);if(_.type==CKEDITOR.NODE_TEXT&&(_=_.getParent()),$.blockLimit.is({tr:1,table:1})){var ee=$.contains("table").getParent();s=function(i){return!i.equals(ee)}}else if($.block&&$.block.is(CKEDITOR.dtd.$listItem)&&(j=j.contains(CKEDITOR.dtd.$list),Z=Z.contains(CKEDITOR.dtd.$list),!j.equals(Z))){var te=$.contains(CKEDITOR.dtd.$list).getParent();s=function(i){return!i.equals(te)}}s||(s=function(i){return!i.equals($.block)&&!i.equals($.blockLimit)}),this.rebuildFragment(i,o,_,s)},rebuildFragment:function(i,o,s,_){for(var $;s&&!s.equals(o)&&_(s);)$=s.clone(0,1),i.fragment.appendTo($),i.fragment=$,s=s.getParent()}},cell:{shrink:function(i){var o=(i=i.range).startContainer,s=i.endContainer,_=i.startOffset,$=i.endOffset;o.type==CKEDITOR.NODE_ELEMENT&&o.equals(s)&&o.is("tr")&&++_==$&&i.shrink(CKEDITOR.SHRINK_TEXT)}}},ne=function(){function a(i,o){var s=i.getParent();s.is(CKEDITOR.dtd.$inline)&&i[o?"insertBefore":"insertAfter"](s)}function b(i,o,_){a(o),a(_,1);for(var $;$=_.getNext();)$.insertAfter(o),o=$;s(i)&&i.remove()}function c(i,o){var s=new CKEDITOR.dom.range(i);return s.setStartAfter(o.startNode),s.setEndBefore(o.endNode),s}return{list:{detectMerge:function(i,o){var s=c(o,i.bookmark),_=s.startPath(),$=s.endPath(),j=_.contains(CKEDITOR.dtd.$list),Z=$.contains(CKEDITOR.dtd.$list);i.mergeList=j&&Z&&j.getParent().equals(Z.getParent())&&!j.equals(Z),i.mergeListItems=_.block&&$.block&&_.block.is(CKEDITOR.dtd.$listItem)&&$.block.is(CKEDITOR.dtd.$listItem),(i.mergeList||i.mergeListItems)&&((s=s.clone()).setStartBefore(i.bookmark.startNode),s.setEndAfter(i.bookmark.endNode),i.mergeListBookmark=s.createBookmark())},merge:function(i,o){if(i.mergeListBookmark){var s=i.mergeListBookmark.startNode,_=i.mergeListBookmark.endNode,$=new CKEDITOR.dom.elementPath(s,o),j=new CKEDITOR.dom.elementPath(_,o);if(i.mergeList){var Z=$.contains(CKEDITOR.dtd.$list),ee=j.contains(CKEDITOR.dtd.$list);Z.equals(ee)||(ee.moveChildren(Z),ee.remove())}i.mergeListItems&&($=$.contains(CKEDITOR.dtd.$listItem),j=j.contains(CKEDITOR.dtd.$listItem),$.equals(j)||b(j,s,_)),s.remove(),_.remove()}}},block:{detectMerge:function(i,o){if(!i.tableContentsRanges&&!i.mergeListBookmark){var s=new CKEDITOR.dom.range(o);s.setStartBefore(i.bookmark.startNode),s.setEndAfter(i.bookmark.endNode),i.mergeBlockBookmark=s.createBookmark()}},merge:function(i,o){if(i.mergeBlockBookmark&&!i.purgeTableBookmark){var s=i.mergeBlockBookmark.startNode,_=i.mergeBlockBookmark.endNode,$=new CKEDITOR.dom.elementPath(s,o),j=new CKEDITOR.dom.elementPath(_,o);$=$.block,j=j.block;$&&j&&!$.equals(j)&&b(j,s,_),s.remove(),_.remove()}}},table:function(){function a(o){var s,_=[],$=new CKEDITOR.dom.walker(o),j=o.startPath().contains(i),Z=o.endPath().contains(i),ee={};return $.guard=function($,te){if($.type==CKEDITOR.NODE_ELEMENT){var ne="visited_"+(te?"out":"in");if($.getCustomData(ne))return;CKEDITOR.dom.element.setMarker(ee,$,ne,1)}if(te&&j&&$.equals(j))(s=o.clone()).setEndAt(j,CKEDITOR.POSITION_BEFORE_END),_.push(s);else if(!te&&Z&&$.equals(Z))(s=o.clone()).setStartAt(Z,CKEDITOR.POSITION_AFTER_START),_.push(s);else{if((ne=!te)&&(ne=$.type==CKEDITOR.NODE_ELEMENT&&$.is(i)&&(!j||b($,j))&&(!Z||b($,Z))),!ne&&(ne=te))if($.is(i)){ne=j&&j.getAscendant("table",!0);var ie=Z&&Z.getAscendant("table",!0),oe=$.getAscendant("table",!0);ne=ne&&ne.contains(oe)||ie&&ie.contains(oe)}else ne=void 0;ne&&((s=o.clone()).selectNodeContents($),_.push(s))}},$.lastForward(),CKEDITOR.dom.element.clearAllMarkers(ee),_}function b(i,o){var s=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,_=i.getPosition(o);return _!==CKEDITOR.POSITION_IDENTICAL&&0==(_&s)}var i={td:1,th:1,caption:1};return{detectPurge:function(o){var s=o.range;(_=s.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT);var _=new CKEDITOR.dom.walker(_),$=0;if(_.evaluator=function(o){o.type==CKEDITOR.NODE_ELEMENT&&o.is(i)&&++$},_.checkForward(),1<$){_=s.startPath().contains("table");var j=s.endPath().contains("table");_&&j&&s.checkBoundaryOfElement(_,CKEDITOR.START)&&s.checkBoundaryOfElement(j,CKEDITOR.END)&&((s=o.range.clone()).setStartBefore(_),s.setEndAfter(j),o.purgeTableBookmark=s.createBookmark())}},detectRanges:function(o,s){var _,$,j=c(s,o.bookmark),Z=j.clone(),ee=j.getCommonAncestor();ee.is(CKEDITOR.dtd.$tableContent)&&!ee.is(i)&&(ee=ee.getAscendant("table",!0)),$=ee,ee=new CKEDITOR.dom.elementPath(j.startContainer,$),$=new CKEDITOR.dom.elementPath(j.endContainer,$),ee=ee.contains("table"),$=$.contains("table"),(ee||$)&&(ee&&$&&b(ee,$)?(o.tableSurroundingRange=Z,Z.setStartAt(ee,CKEDITOR.POSITION_AFTER_END),Z.setEndAt($,CKEDITOR.POSITION_BEFORE_START),(Z=j.clone()).setEndAt(ee,CKEDITOR.POSITION_AFTER_END),(_=j.clone()).setStartAt($,CKEDITOR.POSITION_BEFORE_START),_=a(Z).concat(a(_))):ee?$||(o.tableSurroundingRange=Z,Z.setStartAt(ee,CKEDITOR.POSITION_AFTER_END),j.setEndAt(ee,CKEDITOR.POSITION_AFTER_END)):(o.tableSurroundingRange=Z,Z.setEndAt($,CKEDITOR.POSITION_BEFORE_START),j.setStartAt($,CKEDITOR.POSITION_AFTER_START)),o.tableContentsRanges=_||a(j))},deleteRanges:function(i){for(var o;o=i.tableContentsRanges.pop();)o.extractContents(),s(o.startContainer)&&o.startContainer.appendBogus();i.tableSurroundingRange&&i.tableSurroundingRange.extractContents()},purge:function(i){if(i.purgeTableBookmark){var o=i.doc,s=i.range.clone();(o=o.createElement("p")).insertBefore(i.purgeTableBookmark.startNode),s.moveToBookmark(i.purgeTableBookmark),s.deleteContents(),i.range.moveToPosition(o,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(i){return!(i.range.startPath().contains(CKEDITOR.dtd.$listItem)&&i.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(i){i.startContainer.getDtd()["#"]||i.moveToClosestEditablePosition(null,!0)},autoParagraph:function(i,o){var s,_=o.startPath();p(i,_.block,_.blockLimit)&&(s=m(i))&&((s=o.document.createElement(s)).appendBogus(),o.insertNode(s),o.moveToPosition(s,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function a(i){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(i)}function d(i,o){if(0===i.length||a(i[0].getEnclosedNode()))return!1;var s,_;if((s=!o&&1===i.length)&&!(s=i[0].collapsed)){var $=i[0];s=$.startContainer.getAscendant({td:1,th:1},!0);var j=$.endContainer.getAscendant({td:1,th:1},!0);_=CKEDITOR.tools.trim,s&&s.equals(j)&&!s.findOne("td, th, tr, tbody, table")?s=!($=$.cloneContents()).getFirst()||_($.getFirst().getText())!==_(s.getText()):s=!1}if(s)return!1;for(_=0;_<i.length;_++)if(!(s=i[_]._getTableElement()))return!1;return!0}function c(i){i=function(i){function b(i){i=i.find("td, th");var o,s=[];for(o=0;o<i.count();o++)s.push(i.getItem(o));return s}var o,s,_=[];for(s=0;s<i.length;s++)(o=i[s]._getTableElement()).is&&o.is({td:1,th:1})?_.push(o):_=_.concat(b(o));return _}(i);var o,s,_="",$=[];for(s=0;s<i.length;s++)o&&!o.equals(i[s].getAscendant("tr"))?(_+=$.join("\t")+"\n",o=i[s].getAscendant("tr"),$=[]):0===s&&(o=i[s].getAscendant("tr")),$.push(i[s].getText());return _+$.join("\t")}function f(o){var s=this.root.editor,_=s.getSelection(1);this.reset(),i=!0,_.root.once("selectionchange",(function(i){i.cancel()}),null,null,0),_.selectRanges([o[0]]),(_=this._.cache).ranges=new CKEDITOR.dom.rangeList(o),_.type=CKEDITOR.SELECTION_TEXT,_.selectedElement=o[0]._getTableElement(),_.selectedText=c(o),_.nativeSel=null,this.isFake=1,this.rev=$++,s._.fakeSelection=this,i=!1,this.root.fire("selectionchange")}function e(){var i,o=this._.fakeSelection;if(o){var s;if(!(s=!(i=this.getSelection(1)))&&(s=!i.isHidden())){s=o;var _=i.getRanges(),$=s.getRanges(),j=_.length&&_[0]._getTableElement()&&_[0]._getTableElement().getAscendant("table",!0),Z=$.length&&$[0]._getTableElement()&&$[0]._getTableElement().getAscendant("table",!0),ee=1===_.length&&_[0]._getTableElement()&&_[0]._getTableElement().is("table"),te=1===$.length&&$[0]._getTableElement()&&$[0]._getTableElement().is("table");if(a(s.getSelectedElement()))s=!1;else{var ne=1===_.length&&_[0].collapsed;$=d(_,!!CKEDITOR.env.webkit)&&d($);(j=!(!j||!Z)&&(j.equals(Z)||Z.contains(j)))&&(ne||$)?(ee&&!te&&s.selectRanges(_),s=!0):s=!1}s=!s}s&&(o.reset(),o=0)}(o||(o=i||this.getSelection(1))&&o.getType()!=CKEDITOR.SELECTION_NONE)&&(this.fire("selectionCheck",o),(i=this.elementPath()).compare(this._.selectionPreviousPath)||(s=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(i.blockLimit),!CKEDITOR.env.webkit&&!CKEDITOR.env.gecko||s||(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=i,this.fire("selectionChange",{selection:o,path:i})))}function k(){s=!0,o||(h.call(this),o=CKEDITOR.tools.setTimeout(h,200,this))}function h(){o=null,s&&(CKEDITOR.tools.setTimeout(e,0,this),s=!1)}function p(i){return!(!ee(i)&&(i.type!=CKEDITOR.NODE_ELEMENT||i.is(CKEDITOR.dtd.$empty)))}function m(i){function b(o,s){return!(!o||o.type==CKEDITOR.NODE_TEXT)&&i.clone()["moveToElementEdit"+(s?"End":"Start")](o)}if(!(i.root instanceof CKEDITOR.editable))return!1;var o=i.startContainer,s=i.getPreviousNode(p,null,o),_=i.getNextNode(p,null,o);return!(!b(s)&&!b(_,1)&&(s||_||o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary()&&o.getBogus()))}function g(i){x(i,!1);var o=i.getDocument().createText(j);return i.setCustomData("cke-fillingChar",o),o}function x(i,o){var s=i&&i.removeCustomData("cke-fillingChar");if(s){if(!1!==o){var _=i.getDocument().getSelection().getNative(),$=_&&"None"!=_.type&&_.getRangeAt(0),Z=j.length;if(s.getLength()>Z&&$&&$.intersectsNode(s.$)){var ee=[{node:_.anchorNode,offset:_.anchorOffset},{node:_.focusNode,offset:_.focusOffset}];_.anchorNode==s.$&&_.anchorOffset>Z&&(ee[0].offset-=Z),_.focusNode==s.$&&_.focusOffset>Z&&(ee[1].offset-=Z)}}s.setText(y(s.getText(),1)),ee&&(_=(s=i.getDocument().$).getSelection(),(s=s.createRange()).setStart(ee[0].node,ee[0].offset),s.collapse(!0),_.removeAllRanges(),_.addRange(s),_.extend(ee[1].node,ee[1].offset))}}function y(i,o){return o?i.replace(Z,(function(i,o){return o?" ":""})):i.replace(j,"")}function F(i){var o={37:1,39:1,8:1,46:1};return function(s){var _=s.data.getKeystroke();if(o[_]){var $=i.getSelection(),j=$.getRanges()[0];$.isCollapsed()&&(j=j[38>_?"getPreviousEditableNode":"getNextEditableNode"]())&&j.type==CKEDITOR.NODE_ELEMENT&&"false"==j.getAttribute("contenteditable")&&(!($=$.getStartElement()).isBlockBoundary()||""!==(void 0===$.$.textContent?$.$.innerText:$.$.textContent)||a($.getFirst())||8!==_&&46!==_||($.remove(),i.fire("saveSnapshot")),i.getSelection().fake(j),s.data.preventDefault(),s.cancel())}}}var i,o,s,_="function"!=typeof window.getSelection,$=1,j=CKEDITOR.tools.repeat("​",7),Z=new RegExp(j+"( )?","g"),ee=CKEDITOR.dom.walker.invisible(1),te=function(){function a(i){return function(o){var s=o.editor.createRange();return s.moveToClosestEditablePosition(o.selected,i)&&o.editor.getSelection().selectRanges([s]),!1}}function b(i){return function(o){var s,_=o.editor,$=_.createRange();if(!_.readOnly)return(s=$.moveToClosestEditablePosition(o.selected,i))||(s=$.moveToClosestEditablePosition(o.selected,!i)),s&&_.getSelection().selectRanges([$]),_.fire("saveSnapshot"),o.selected.remove(),s||($.moveToElementEditablePosition(_.editable()),_.getSelection().selectRanges([$])),_.fire("saveSnapshot"),!1}}var i=a(),o=a(1);return{37:i,38:i,39:o,40:o,8:b(),46:b(1)}}();CKEDITOR.on("instanceCreated",(function(i){function b(){var i=o.getSelection();i&&i.removeAllRanges()}var o=i.editor;o.on("contentDom",(function(){function a(){(s=new CKEDITOR.dom.selection(o.getSelection())).lock()}function b(){ee.removeListener("mouseup",b),ie.removeListener("mouseup",b);var i=CKEDITOR.document.$.selection,o=i.createRange();"None"!=i.type&&o.parentElement()&&o.parentElement().ownerDocument==Z.$&&o.select()}var i,s,$,j,Z=o.document,ee=CKEDITOR.document,te=o.editable(),ne=Z.getBody(),ie=Z.getDocumentElement(),oe=te.isInline();if((CKEDITOR.env.gecko&&te.attachListener(te,"focus",(function(s){s.removeListener(),0!==i&&(s=o.getSelection().getNative())&&s.isCollapsed&&s.anchorNode==te.$&&((s=o.createRange()).moveToElementEditStart(te),s.select())}),null,null,-2),te.attachListener(te,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",(function(){if(i&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){i=o._.previousActive&&o._.previousActive.equals(Z.getActive());var s=null!=o._.previousScrollTop&&o._.previousScrollTop!=te.$.scrollTop;CKEDITOR.env.webkit&&i&&s&&(te.$.scrollTop=o._.previousScrollTop)}o.unlockSelection(i),i=0}),null,null,-1),te.attachListener(te,"mousedown",(function(){i=0})),(CKEDITOR.env.ie||CKEDITOR.env.gecko||oe)&&(_?te.attachListener(te,"beforedeactivate",a,null,null,-1):te.attachListener(o,"selectionCheck",a,null,null,-1),te.attachListener(te,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusout":"blur",(function(){var _=s&&(s.isFake||2>s.getRanges().length);CKEDITOR.env.gecko&&!oe&&_||(o.lockSelection(s),i=1)}),null,null,-1),te.attachListener(te,"mousedown",(function(){i=0}))),CKEDITOR.env.ie&&!oe)&&(te.attachListener(te,"mousedown",(function(i){2==i.data.$.button&&((i=o.document.getSelection())&&i.getType()!=CKEDITOR.SELECTION_NONE||($=o.window.getScrollPosition()))})),te.attachListener(te,"mouseup",(function(i){2==i.data.$.button&&$&&(o.document.$.documentElement.scrollLeft=$.x,o.document.$.documentElement.scrollTop=$.y),$=null})),"BackCompat"!=Z.$.compatMode)){var ae,re;if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)ie.on("mousedown",(function(i){function b(i){if(i=i.data.$,ae){var o=ne.$.createTextRange();try{o.moveToPoint(i.clientX,i.clientY)}catch(i){}ae.setEndPoint(0>re.compareEndPoints("StartToStart",o)?"EndToEnd":"StartToStart",o),ae.select()}}function c(){ie.removeListener("mousemove",b),ee.removeListener("mouseup",c),ie.removeListener("mouseup",c),ae.select()}if((i=i.data).getTarget().is("html")&&i.$.y<ie.$.clientHeight&&i.$.x<ie.$.clientWidth){ae=ne.$.createTextRange();try{ae.moveToPoint(i.$.clientX,i.$.clientY)}catch(i){}re=ae.duplicate(),ie.on("mousemove",b),ee.on("mouseup",c),ie.on("mouseup",c)}}));7<CKEDITOR.env.version&&11>CKEDITOR.env.version&&ie.on("mousedown",(function(i){i.data.getTarget().is("html")&&(ee.on("mouseup",b),ie.on("mouseup",b))}))}(te.attachListener(te,"selectionchange",e,o),te.attachListener(te,"keyup",k,o),te.attachListener(te,"touchstart",k,o),te.attachListener(te,"touchend",k,o),CKEDITOR.env.ie&&te.attachListener(te,"keydown",(function(i){var o,s;(o=!!(o=this.document.getActive())&&("input"===o.getName()||"textarea"===o.getName()))||(s=function(i){return i=i.getRanges()[0],i&&(i=i.startContainer.getAscendant((function(i){return i.type==CKEDITOR.NODE_ELEMENT&&i.hasAttribute("contenteditable")}),!0))&&"false"===i.getAttribute("contenteditable")?i:null}(o=this.getSelection(1)))&&!s.equals(te)&&(o.selectElement(s),i.data.preventDefault())}),o),te.attachListener(te,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",(function(){o.forceNextSelectionCheck(),o.selectionChange(1)})),oe&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko))?(te.attachListener(te,"mousedown",(function(){j=1})),te.attachListener(Z.getDocumentElement(),"mouseup",(function(){j&&k.call(o),j=0}))):te.attachListener(CKEDITOR.env.ie?te:Z.getDocumentElement(),"mouseup",k,o);CKEDITOR.env.webkit&&te.attachListener(Z,"keydown",(function(i){switch(i.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:te.hasFocus&&x(te)}}),null,null,-1),te.attachListener(te,"keydown",F(o),null,null,-1)})),o.on("setData",(function(){o.unlockSelection(),CKEDITOR.env.webkit&&b()})),o.on("contentDomUnload",(function(){o.unlockSelection()})),CKEDITOR.env.ie9Compat&&o.on("beforeDestroy",b,null,null,9),o.on("dataReady",(function(){delete o._.fakeSelection,delete o._.hiddenSelectionContainer,o.selectionChange(1)})),o.on("loadSnapshot",(function(){var i=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),s=o.editable().getLast(i);s&&s.hasAttribute("data-cke-hidden-sel")&&(s.remove(),CKEDITOR.env.gecko&&(i=o.editable().getFirst(i))&&i.is("br")&&i.getAttribute("_moz_editor_bogus_node")&&i.remove())}),null,null,100),o.on("key",(function(i){if("wysiwyg"==o.mode){var s=o.getSelection();if(s.isFake){var _=te[i.data.keyCode];if(_)return _({editor:o,selected:s.getSelectedElement(),selection:s,keyEvent:i})}}}))})),CKEDITOR.env.webkit&&CKEDITOR.on("instanceReady",(function(i){var o=i.editor;o.on("selectionChange",(function(){var i=o.editable(),s=i.getCustomData("cke-fillingChar");s&&(s.getCustomData("ready")?(x(i),i.editor.fire("selectionCheck")):s.setCustomData("ready",1))}),null,null,-1),o.on("beforeSetMode",(function(){x(o.editable())}),null,null,-1),o.on("getSnapshot",(function(i){i.data&&(i.data=y(i.data))}),o,null,20),o.on("toDataFormat",(function(i){i.data.dataValue=y(i.data.dataValue)}),null,null,0)})),CKEDITOR.editor.prototype.selectionChange=function(i){(i?e:k).call(this)},CKEDITOR.editor.prototype.getSelection=function(i){return!this._.savedSelection&&!this._.fakeSelection||i?(i=this.editable())&&"wysiwyg"==this.mode&&"recreating"!==this.status?new CKEDITOR.dom.selection(i):null:this._.savedSelection||this._.fakeSelection},CKEDITOR.editor.prototype.getSelectedRanges=function(i){var o=this.getSelection();return o&&o.getRanges(i)||[]},CKEDITOR.editor.prototype.lockSelection=function(i){return(i=i||this.getSelection(1)).getType()!=CKEDITOR.SELECTION_NONE&&(!i.isLocked&&i.lock(),this._.savedSelection=i,!0)},CKEDITOR.editor.prototype.unlockSelection=function(i){var o=this._.savedSelection;return!!o&&(o.unlock(i),delete this._.savedSelection,!0)},CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)},CKEDITOR.dom.range.prototype.select=function(){var i=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);return i.selectRanges([this]),i},CKEDITOR.SELECTION_NONE=1,CKEDITOR.SELECTION_TEXT=2,CKEDITOR.SELECTION_ELEMENT=3,CKEDITOR.dom.selection=function(i){if(i instanceof CKEDITOR.dom.selection){var o=i;i=i.root}var s,_,j=i instanceof CKEDITOR.dom.element;if(this.rev=o?o.rev:$++,this.document=i instanceof CKEDITOR.dom.document?i:i.getDocument(),this.root=j?i:this.document.getBody(),this.isLocked=0,this._={cache:{}},o)return CKEDITOR.tools.extend(this._.cache,o._.cache),this.isFake=o.isFake,this.isLocked=o.isLocked,this;if(i=this.getNative())if(i.getRangeAt)s=(_=i.rangeCount&&i.getRangeAt(0))&&new CKEDITOR.dom.node(_.commonAncestorContainer);else{try{_=i.createRange()}catch(i){}s=_&&CKEDITOR.dom.element.get(_.item&&_.item(0)||_.parentElement())}return(!s||s.type!=CKEDITOR.NODE_ELEMENT&&s.type!=CKEDITOR.NODE_TEXT||!this.root.equals(s)&&!this.root.contains(s))&&(this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList),this};var ne={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:y,_createFillingCharSequenceNode:g,FILLING_CHAR_SEQUENCE:j}),CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=_?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:_?function(){var i=this._.cache;if(i.type)return i.type;var o=CKEDITOR.SELECTION_NONE;try{var s=this.getNative(),_=s.type;"Text"==_&&(o=CKEDITOR.SELECTION_TEXT),"Control"==_&&(o=CKEDITOR.SELECTION_ELEMENT),s.createRange().parentElement()&&(o=CKEDITOR.SELECTION_TEXT)}catch(i){}return i.type=o}:function(){var i=this._.cache;if(i.type)return i.type;var o=CKEDITOR.SELECTION_TEXT;if((s=this.getNative())&&s.rangeCount){if(1==s.rangeCount){var s,_=(s=s.getRangeAt(0)).startContainer;_==s.endContainer&&1==_.nodeType&&1==s.endOffset-s.startOffset&&ne[_.childNodes[s.startOffset].nodeName.toLowerCase()]&&(o=CKEDITOR.SELECTION_ELEMENT)}}else o=CKEDITOR.SELECTION_NONE;return i.type=o},getRanges:function(){var i=_?function(){function a(i){return new CKEDITOR.dom.node(i).getIndex()}var b=function(i,o){(i=i.duplicate()).collapse(o);var s=i.parentElement();if(!s.hasChildNodes())return{container:s,offset:0};for(var _,$,j,Z,ee=s.children,te=i.duplicate(),ne=0,ie=ee.length-1,oe=-1;ne<=ie;)if(_=ee[oe=Math.floor((ne+ie)/2)],te.moveToElementText(_),0<(j=te.compareEndPoints("StartToStart",i)))ie=oe-1;else{if(!(0>j))return{container:s,offset:a(_)};ne=oe+1}if(-1==oe||oe==ee.length-1&&0>j){if(te.moveToElementText(s),te.setEndPoint("StartToStart",i),te=te.text.replace(/(\r\n|\r)/g,"\n").length,ee=s.childNodes,!te)return(_=ee[ee.length-1]).nodeType!=CKEDITOR.NODE_TEXT?{container:s,offset:ee.length}:{container:_,offset:_.nodeValue.length};for(s=ee.length;0<te&&0<s;)($=ee[--s]).nodeType==CKEDITOR.NODE_TEXT&&(Z=$,te-=$.nodeValue.length);return{container:Z,offset:-te}}if(te.collapse(0<j),te.setEndPoint(0<j?"StartToStart":"EndToStart",i),!(te=te.text.replace(/(\r\n|\r)/g,"\n").length))return{container:s,offset:a(_)+(0<j?0:1)};for(;0<te;)try{($=_[0<j?"previousSibling":"nextSibling"]).nodeType==CKEDITOR.NODE_TEXT&&(te-=$.nodeValue.length,Z=$),_=$}catch(i){return{container:s,offset:a(_)}}return{container:Z,offset:0<j?-te:Z.nodeValue.length+te}};return function(){var i=(Z=this.getNative())&&Z.createRange(),o=this.getType();if(!Z)return[];if(o==CKEDITOR.SELECTION_TEXT)return Z=new CKEDITOR.dom.range(this.root),o=b(i,!0),Z.setStart(new CKEDITOR.dom.node(o.container),o.offset),o=b(i),Z.setEnd(new CKEDITOR.dom.node(o.container),o.offset),Z.endContainer.getPosition(Z.startContainer)&CKEDITOR.POSITION_PRECEDING&&Z.endOffset<=Z.startContainer.getIndex()&&Z.collapse(),[Z];if(o==CKEDITOR.SELECTION_ELEMENT){o=[];for(var s=0;s<i.length;s++){for(var _=i.item(s),$=_.parentNode,j=0,Z=new CKEDITOR.dom.range(this.root);j<$.childNodes.length&&$.childNodes[j]!=_;j++);Z.setStart(new CKEDITOR.dom.node($),j),Z.setEnd(new CKEDITOR.dom.node($),j+1),o.push(Z)}return o}return[]}}():function(){var i,o=[],s=this.getNative();if(!s)return o;for(var _=0;_<s.rangeCount;_++){var $=s.getRangeAt(_);(i=new CKEDITOR.dom.range(this.root)).setStart(new CKEDITOR.dom.node($.startContainer),$.startOffset),i.setEnd(new CKEDITOR.dom.node($.endContainer),$.endOffset),o.push(i)}return o};return function(o){var s=this._.cache,_=s.ranges;return _||(s.ranges=_=new CKEDITOR.dom.rangeList(i.call(this))),o?function(i){for(var o=0;o<i.length;o++){var s=i[o];if(s.getCommonAncestor().isReadOnly()&&i.splice(o,1),!s.collapsed){if(s.startContainer.isReadOnly())for(var _,$=s.startContainer;$&&!((_=$.type==CKEDITOR.NODE_ELEMENT)&&$.is("body")||!$.isReadOnly());)_&&"false"==$.getAttribute("contentEditable")&&s.setStartAfter($),$=$.getParent();$=s.startContainer,_=s.endContainer;var j=s.startOffset,Z=s.endOffset,ee=s.clone();$&&$.type==CKEDITOR.NODE_TEXT&&(j>=$.getLength()?ee.setStartAfter($):ee.setStartBefore($)),_&&_.type==CKEDITOR.NODE_TEXT&&(Z?ee.setEndAfter(_):ee.setEndBefore(_)),($=new CKEDITOR.dom.walker(ee)).evaluator=function(_){if(_.type==CKEDITOR.NODE_ELEMENT&&_.isReadOnly()){var $=s.clone();return s.setEndBefore(_),s.collapsed&&i.splice(o--,1),_.getPosition(ee.endContainer)&CKEDITOR.POSITION_CONTAINS||($.setStartAfter(_),$.collapsed||i.splice(o+1,0,$)),!0}return!1},$.next()}}return i}(new CKEDITOR.dom.rangeList(_.slice())):_}}(),getStartElement:function(){var i,o=this._.cache;if(void 0!==o.startElement)return o.startElement;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var s=this.getRanges()[0];if(s){if(s.collapsed)(i=s.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(i=i.getParent());else{for(s.optimize();i=s.startContainer,s.startOffset==(i.getChildCount?i.getChildCount():i.getLength())&&!i.isBlockBoundary();)s.setStartAfter(i);if((i=s.startContainer).type!=CKEDITOR.NODE_ELEMENT)return i.getParent();if((i=i.getChild(s.startOffset))&&i.type==CKEDITOR.NODE_ELEMENT)for(s=i.getFirst();s&&s.type==CKEDITOR.NODE_ELEMENT;)i=s,s=s.getFirst();else i=s.startContainer}i=i.$}}return o.startElement=i?new CKEDITOR.dom.element(i):null},getSelectedElement:function(){var i=this._.cache;if(void 0!==i.selectedElement)return i.selectedElement;var o=this,s=CKEDITOR.tools.tryThese((function(){return o.getNative().createRange().item(0)}),(function(){for(var i,s,_=o.getRanges()[0].clone(),$=2;$&&!((i=_.getEnclosedNode())&&i.type==CKEDITOR.NODE_ELEMENT&&ne[i.getName()]&&(s=i));$--)_.shrink(CKEDITOR.SHRINK_ELEMENT);return s&&s.$}));return i.selectedElement=s?new CKEDITOR.dom.element(s):null},getSelectedText:function(){var i=this._.cache;if(void 0!==i.selectedText)return i.selectedText;var o=this.getNative();o=_?"Control"==o.type?"":o.createRange().text:o.toString();return i.selectedText=o},lock:function(){this.getRanges(),this.getStartElement(),this.getSelectedElement(),this.getSelectedText(),this._.cache.nativeSel=null,this.isLocked=1},unlock:function(i){if(this.isLocked){if(i)var o=this.getSelectedElement(),s=this.getRanges(),_=this.isFake;this.isLocked=0,this.reset(),i&&(i=o||s[0]&&s[0].getCommonAncestor())&&i.getAscendant("body",1)&&((i=this.root.editor)&&i.plugins.tableselection&&i.plugins.tableselection.isSupportedEnvironment(i)&&d(s)?f.call(this,s):_?this.fake(o):o&&2>s.length?this.selectElement(o):this.selectRanges(s))}},reset:function(){this._.cache={},this.isFake=0;var i=this.root.editor;if(i&&i._.fakeSelection)if(this.rev==i._.fakeSelection.rev){delete i._.fakeSelection;var o=i._.hiddenSelectionContainer;if(o){var s=i.checkDirty();i.fire("lockSnapshot"),o.remove(),i.fire("unlockSnapshot"),!s&&i.resetDirty()}delete i._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=$++},selectElement:function(i){var o=new CKEDITOR.dom.range(this.root);o.setStartBefore(i),o.setEndAfter(i),this.selectRanges([o])},selectRanges:function(o){var s=this.root.editor,$=s&&s._.hiddenSelectionContainer;if(this.reset(),$){$=this.root;for(var j,Z=0;Z<o.length;++Z)(j=o[Z]).endContainer.equals($)&&(j.endOffset=Math.min(j.endOffset,$.getChildCount()))}if(o.length)if(this.isLocked){var ee=CKEDITOR.document.getActive();this.unlock(),this.selectRanges(o),this.lock(),ee&&!ee.equals(this.root)&&ee.focus()}else{var te,ie,oe;if(1==o.length&&!(oe=o[0]).collapsed&&(te=oe.getEnclosedNode())&&te.type==CKEDITOR.NODE_ELEMENT&&((oe=oe.clone()).shrink(CKEDITOR.SHRINK_ELEMENT,!0),(ie=oe.getEnclosedNode())&&ie.type==CKEDITOR.NODE_ELEMENT&&(te=ie),"false"==te.getAttribute("contenteditable"))||(te=void 0),te)this.fake(te);else if(s&&s.plugins.tableselection&&s.plugins.tableselection.isSupportedEnvironment(s)&&d(o)&&!i&&!o[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored"))f.call(this,o);else{if(_){var ae,re,se;if(ie=CKEDITOR.dom.walker.whitespaces(!0),te=/\ufeff|\u00a0/,oe={table:1,tbody:1,tr:1},1<o.length&&(s=o[o.length-1],o[0].setEnd(s.endContainer,s.endOffset)),o=(s=o[0]).collapsed,($=s.getEnclosedNode())&&$.type==CKEDITOR.NODE_ELEMENT&&$.getName()in ne&&(!$.is("a")||!$.getText()))try{return(se=$.$.createControlRange()).addElement($.$),void se.select()}catch(i){}(s.startContainer.type==CKEDITOR.NODE_ELEMENT&&s.startContainer.getName()in oe||s.endContainer.type==CKEDITOR.NODE_ELEMENT&&s.endContainer.getName()in oe)&&(s.shrink(CKEDITOR.NODE_ELEMENT,!0),o=s.collapsed),oe=(se=s.createBookmark()).startNode,o||(ee=se.endNode),(se=s.document.$.body.createTextRange()).moveToElementText(oe.$),se.moveStart("character",1),ee?((te=s.document.$.body.createTextRange()).moveToElementText(ee.$),se.setEndPoint("EndToEnd",te),se.moveEnd("character",-1)):(ae=oe.getNext(ie),re=oe.hasAscendant("pre"),ae=!(ae&&ae.getText&&ae.getText().match(te))&&(re||!oe.hasPrevious()||oe.getPrevious().is&&oe.getPrevious().is("br")),(re=s.document.createElement("span")).setHtml("&#65279;"),re.insertBefore(oe),ae&&s.document.createText("\ufeff").insertBefore(oe)),s.setStartBefore(oe),oe.remove(),o?(ae?(se.moveStart("character",-1),se.select(),s.document.$.selection.clear()):se.select(),s.moveToPosition(re,CKEDITOR.POSITION_BEFORE_START),re.remove()):(s.setEndBefore(ee),ee.remove(),se.select())}else{if(!(ee=this.getNative()))return;for(this.removeAllRanges(),se=0;se<o.length;se++)if(se<o.length-1&&(ae=o[se],re=o[se+1],(te=ae.clone()).setStart(ae.endContainer,ae.endOffset),te.setEnd(re.startContainer,re.startOffset),!te.collapsed&&(te.shrink(CKEDITOR.NODE_ELEMENT,!0),s=te.getCommonAncestor(),te=te.getEnclosedNode(),s.isReadOnly()||te&&te.isReadOnly())))re.setStart(ae.startContainer,ae.startOffset),o.splice(se--,1);else{s=o[se],re=this.document.$.createRange(),s.collapsed&&CKEDITOR.env.webkit&&m(s)&&(te=g(this.root),s.insertNode(te),(ae=te.getNext())&&!te.getPrevious()&&ae.type==CKEDITOR.NODE_ELEMENT&&"br"==ae.getName()?(x(this.root),s.moveToPosition(ae,CKEDITOR.POSITION_BEFORE_START)):s.moveToPosition(te,CKEDITOR.POSITION_AFTER_END)),re.setStart(s.startContainer.$,s.startOffset);try{re.setEnd(s.endContainer.$,s.endOffset)}catch(i){if(!(0<=i.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")))throw i;s.collapse(1),re.setEnd(s.endContainer.$,s.endOffset)}ee.addRange(re)}}this.reset(),this.root.fire("selectionchange")}}},fake:function(i,o){var s=this.root.editor;void 0===o&&i.hasAttribute("aria-label")&&(o=i.getAttribute("aria-label")),this.reset(),function(i,o){var s=o&&CKEDITOR.tools.htmlEncode(o)||"&nbsp;";s=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie&&14>CKEDITOR.env.version?"display:none":"position:fixed;top:0;left:-1000px;width:0;height:0;overflow:hidden;")+'">'+s+"</div>",i.document),i.fire("lockSnapshot"),i.editable().append(s);var _=i.getSelection(1),$=i.createRange(),j=_.root.on("selectionchange",(function(i){i.cancel()}),null,null,0);$.setStartAt(s,CKEDITOR.POSITION_AFTER_START),$.setEndAt(s,CKEDITOR.POSITION_BEFORE_END),_.selectRanges([$]),j.removeListener(),i.fire("unlockSnapshot"),i._.hiddenSelectionContainer=s}(s,o);var _=this._.cache,j=new CKEDITOR.dom.range(this.root);j.setStartBefore(i),j.setEndAfter(i),_.ranges=new CKEDITOR.dom.rangeList(j),_.selectedElement=_.startElement=i,_.type=CKEDITOR.SELECTION_ELEMENT,_.selectedText=_.nativeSel=null,this.isFake=1,this.rev=$++,s._.fakeSelection=this,this.root.fire("selectionchange")},isHidden:function(){var i=this.getCommonAncestor();return i&&i.type==CKEDITOR.NODE_TEXT&&(i=i.getParent()),!(!i||!i.data("cke-hidden-sel"))},isInTable:function(i){return d(this.getRanges(),i)},isCollapsed:function(){var i=this.getRanges();return 1===i.length&&i[0].collapsed},createBookmarks:function(i){return i=this.getRanges().createBookmarks(i),this.isFake&&(i.isFake=1),i},createBookmarks2:function(i){return i=this.getRanges().createBookmarks2(i),this.isFake&&(i.isFake=1),i},selectBookmarks:function(i){for(var o,s=[],_=0;_<i.length;_++){var $=new CKEDITOR.dom.range(this.root);$.moveToBookmark(i[_]),s.push($)}return i.isFake&&((o=d(s)?s[0]._getTableElement():s[0].getEnclosedNode())&&o.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),i.isFake=0)),i.isFake&&!d(s)?this.fake(o):this.selectRanges(s),this},getCommonAncestor:function(){var i=this.getRanges();return i.length?i[0].startContainer.getCommonAncestor(i[i.length-1].endContainer):null},scrollIntoView:function(){this.getType()!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var i=this.getNative();try{i&&i[_?"empty":"removeAllRanges"]()}catch(i){}this.reset()}}}}(),CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function a(i,o){for(var s,_;(i=i.getParent())&&!i.equals(o);)if(i.getAttribute("data-nostyle"))s=i;else if(!_){var $=i.getAttribute("contentEditable");"false"==$?s=i:"true"==$&&(_=1)}return s}function d(i,o,s,_){return(i.getPosition(o)|_)==_&&(!s.childRule||s.childRule(i))}function b(i){var o=i.document;if(i.collapsed)o=L(this,o),i.insertNode(o),i.moveToPosition(o,CKEDITOR.POSITION_BEFORE_END);else{var s,_=this.element,j=this._.definition,te=(le=j.ignoreReadonly)||j.includeReadonly;null==te&&(te=i.root.getCustomData("cke_includeReadonly"));var ne=CKEDITOR.dtd[_];ne||(s=!0,ne=CKEDITOR.dtd.span),i.enlarge(CKEDITOR.ENLARGE_INLINE,1),i.trim();var ie,oe=i.createBookmark(),ae=oe.startNode,re=oe.endNode,se=ae;if(!le){var le=a(ae,ce=i.getCommonAncestor()),ce=a(re,ce);le&&(se=le.getNextSourceNode(!0)),ce&&(re=ce)}for(se.getPosition(re)==CKEDITOR.POSITION_FOLLOWING&&(se=0);se;){if(le=!1,se.equals(re))se=null,le=!0;else{ce=(pe=se.type==CKEDITOR.NODE_ELEMENT?se.getName():null)&&"false"==se.getAttribute("contentEditable");var de=pe&&-1!==CKEDITOR.tools.array.indexOf(CKEDITOR.style.unstylableElements,pe);de=pe&&(se.getAttribute("data-nostyle")||de);if(pe&&se.data("cke-bookmark")||se.type===CKEDITOR.NODE_COMMENT){se=se.getNextSourceNode(!0);continue}if(ce&&te&&CKEDITOR.dtd.$block[pe])for(var ue=void 0,he=0,fe=(Oe=(Ie=f(fe=se)).length)&&new CKEDITOR.dom.range(fe.getDocument());he<Oe;++he){ue=Ie[he];var ge=CKEDITOR.filter.instances[ue.data("cke-filter")];ge&&!ge.check(this)||(fe.selectNodeContents(ue),b.call(this,fe))}if(Ie=pe?!ne[pe]||de||ce&&!te?0:d(se,re,j,Z):1){if(Ie=j,Oe=_,he=s,!(ue=se.getParent())||!(ue.getDtd()||CKEDITOR.dtd.span)[Oe]&&!he||Ie.parentRule&&!Ie.parentRule(ue))le=!0;else if(ie||pe&&CKEDITOR.dtd.$removeEmpty[pe]&&(se.getPosition(re)|Z)!=Z||(ie=i.clone()).setStartBefore(se),(pe=se.type)==CKEDITOR.NODE_TEXT||ce||pe==CKEDITOR.NODE_ELEMENT&&!se.getChildCount()){for(var me,pe=se;(le=!pe.getNext($))&&ne[(me=pe.getParent()).getName()]&&d(me,ae,j,ee);)pe=me;ie.setEndAfter(pe)}}else le=!0;se=se.getNextSourceNode(de||ce)}if(le&&ie&&!ie.collapsed){ce=(le=L(this,o)).hasAttributes(),de=ie.getCommonAncestor(),pe={};for(var Ee,Te,Ce,Ie={},Oe=(ue={},{});le&&de;){if(de.getName()==_){for(Ee in j.attributes)!Oe[Ee]&&(Ce=de.getAttribute(Te))&&(le.getAttribute(Ee)==Ce?Ie[Ee]=1:Oe[Ee]=1);for(Te in j.styles)!ue[Te]&&(Ce=de.getStyle(Te))&&(le.getStyle(Te)==Ce?pe[Te]=1:ue[Te]=1)}de=de.getParent()}for(Ee in Ie)le.removeAttribute(Ee);for(Te in pe)le.removeStyle(Te);ce&&!le.hasAttributes()&&(le=null),le?(ie.extractContents().appendTo(le),ie.insertNode(le),F.call(this,le),le.mergeSiblings(),CKEDITOR.env.ie||le.$.normalize()):(le=new CKEDITOR.dom.element("span"),ie.extractContents().appendTo(le),ie.insertNode(le),F.call(this,le),le.remove(!0)),ie=null}}i.moveToBookmark(oe),i.shrink(CKEDITOR.SHRINK_TEXT),i.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function c(i){function b(){for(var i=new CKEDITOR.dom.elementPath(s.getParent()),o=new CKEDITOR.dom.elementPath(ne.getParent()),_=null,$=null,j=0;j<i.elements.length;j++){var Z=i.elements[j];if(Z==i.block||Z==i.blockLimit)break;ie.checkElementRemovable(Z,!0)&&(_=Z)}for(j=0;j<o.elements.length&&((Z=o.elements[j])!=o.block&&Z!=o.blockLimit);j++)ie.checkElementRemovable(Z,!0)&&($=Z);$&&ne.breakParent($),_&&s.breakParent(_)}i.enlarge(CKEDITOR.ENLARGE_INLINE,1);var o=i.createBookmark(),s=o.startNode,_=this._.definition.alwaysRemoveElement;if(i.collapsed){for(var $,j,Z=new CKEDITOR.dom.elementPath(s.getParent(),i.root),ee=0;ee<Z.elements.length&&(j=Z.elements[ee])&&j!=Z.block&&j!=Z.blockLimit;ee++)if(this.checkElementRemovable(j)){var te;!_&&i.collapsed&&(i.checkBoundaryOfElement(j,CKEDITOR.END)||(te=i.checkBoundaryOfElement(j,CKEDITOR.START)))?($=j).match=te?"start":"end":(j.mergeSiblings(),j.is(this.element)?A.call(this,j):v(j,G(this)[j.getName()]))}if($){for(_=s,ee=0;!(j=Z.elements[ee]).equals($);ee++)j.match||((j=j.clone()).append(_),_=j);_["start"==$.match?"insertBefore":"insertAfter"]($)}}else{var ne=o.endNode,ie=this;for(b(),Z=s;!Z.equals(ne);)$=Z.getNextSourceNode(),Z.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(Z)&&(Z.getName()==this.element?A.call(this,Z):v(Z,G(this)[Z.getName()]),$.type==CKEDITOR.NODE_ELEMENT&&$.contains(s)&&(b(),$=s.getNext())),Z=$}i.moveToBookmark(o),i.shrink(CKEDITOR.NODE_ELEMENT,!0)}function f(i){var o=[];return i.forEach((function(i){if("true"==i.getAttribute("contenteditable"))return o.push(i),!1}),CKEDITOR.NODE_ELEMENT,!0),o}function e(i){var o=i.getEnclosedNode()||i.getCommonAncestor(!1,!0);(i=new CKEDITOR.dom.elementPath(o,i.root).contains(this.element,1))&&!i.isReadOnly()&&w(i,this)}function k(i){var o=i.getCommonAncestor(!0,!0);if(i=new CKEDITOR.dom.elementPath(o,i.root).contains(this.element,1)){var s=(o=this._.definition).attributes;if(s)for(var _ in s)i.removeAttribute(_,s[_]);if(o.styles)for(var $ in o.styles)o.styles.hasOwnProperty($)&&i.removeStyle($)}}function h(i){var o=i.createBookmark(!0),s=i.createIterator();s.enforceRealBlocks=!0,this._.enterMode&&(s.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var _,$=i.document;_=s.getNextParagraph();)!_.isReadOnly()&&(!s.activeFilter||s.activeFilter.check(this))&&m(_,L(this,$,_));i.moveToBookmark(o)}function p(i){var o,s,_=i.createBookmark(1),$=i.createIterator();for($.enforceRealBlocks=!0,$.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;o=$.getNextParagraph();)this.checkElementRemovable(o)&&(o.is("pre")?((s=this._.enterMode==CKEDITOR.ENTER_BR?null:i.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&o.copyAttributes(s),m(o,s)):A.call(this,o));i.moveToBookmark(_)}function m(i,o){(s=!o)&&(o=i.getDocument().createElement("div"),i.copyAttributes(o));var s,_,$=o&&o.is("pre"),Z=i.is("pre"),ee=!$&&Z;if($&&!Z){if(Z=o,(ee=i.getBogus())&&ee.remove(),ee=(ee=(ee=(ee=x(ee=i.getHtml(),/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"")).replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1")).replace(/([ \t\n\r]+|&nbsp;)/g," ")).replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie){var te=i.getDocument().createElement("div");te.append(Z),Z.$.outerHTML="<pre>"+ee+"</pre>",Z.copyAttributes(te.getFirst()),Z=te.getFirst().remove()}else Z.setHtml(ee);o=Z}else ee?o=function(i,o){var s;1<i.length&&(s=new CKEDITOR.dom.documentFragment(o.getDocument()));for(var _=0;_<i.length;_++){var $=x($=($=i[_]).replace(/(\r\n|\r)/g,"\n"),/^[ \t]*\n/,"");$=x($,/\n$/,""),$=x($,/^[ \t]+|[ \t]+$/g,(function(i,o){return 1==i.length?"&nbsp;":o?" "+CKEDITOR.tools.repeat("&nbsp;",i.length-1):CKEDITOR.tools.repeat("&nbsp;",i.length-1)+" "})),$=($=$.replace(/\n/g,"<br>")).replace(/[ \t]{2,}/g,(function(i){return CKEDITOR.tools.repeat("&nbsp;",i.length-1)+" "}));if(s){var j=o.clone();j.setHtml($),s.append(j)}else o.setHtml($)}return s||o}(s?[i.getHtml()]:function(i){var o=[];return x(i.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,(function(i,o,s){return o+"</pre>"+s+"<pre>"})).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,(function(i,s){o.push(s)})),o}(i),o):i.moveChildren(o);(o.replace(i),$)?(_=(s=o).getPrevious(j))&&_.type==CKEDITOR.NODE_ELEMENT&&_.is("pre")&&($=x(_.getHtml(),/\n$/,"")+"\n\n"+x(s.getHtml(),/^\n/,""),CKEDITOR.env.ie?s.$.outerHTML="<pre>"+$+"</pre>":s.setHtml($),_.remove()):s&&l(o)}function x(i,o,s){var _="",$="";return i=i.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,(function(i,o,s){return o&&(_=o),s&&($=s),""})),_+i.replace(o,s)+$}function A(o,s){var _,$=(j=this._.definition).attributes,j=j.styles,Z=G(this)[o.getName()],ee=CKEDITOR.tools.isEmpty($)&&CKEDITOR.tools.isEmpty(j);for(_ in $)("class"!=_&&!this._.definition.fullMatch||o.getAttribute(_)==q(_,$[_]))&&(s&&"data-"==_.slice(0,5)||(ee=o.hasAttribute(_),o.removeAttribute(_)));for(var te in j)this._.definition.fullMatch&&o.getStyle(te)!=q(te,j[te],!0)||(ee=ee||!!o.getStyle(te),o.removeStyle(te));v(o,Z,i[o.getName()]),ee&&(this._.definition.alwaysRemoveElement?l(o,1):!CKEDITOR.dtd.$block[o.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!o.hasAttributes()?l(o):o.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function F(i){for(var o,s=G(this),_=i.getElementsByTag(this.element),$=_.count();0<=--$;)(o=_.getItem($)).isReadOnly()||A.call(this,o,!0);for(var j in s)if(j!=this.element)for($=(_=i.getElementsByTag(j)).count()-1;0<=$;$--)(o=_.getItem($)).isReadOnly()||v(o,s[j])}function v(i,o,s){if(o=o&&o.attributes)for(var _=0;_<o.length;_++){var $,j=o[_][0];if($=i.getAttribute(j)){var Z=o[_][1];(null===Z||Z.test&&Z.test($)||"string"==typeof Z&&$==Z)&&i.removeAttribute(j)}}s||l(i)}function l(i,o){if(!i.hasAttributes()||o)if(CKEDITOR.dtd.$block[i.getName()]){var s=i.getPrevious(j),_=i.getNext(j);!s||s.type!=CKEDITOR.NODE_TEXT&&s.isBlockBoundary({br:1})||i.append("br",1),!_||_.type!=CKEDITOR.NODE_TEXT&&_.isBlockBoundary({br:1})||i.append("br"),i.remove(!0)}else s=i.getFirst(),_=i.getLast(),i.remove(!0),s&&(s.type==CKEDITOR.NODE_ELEMENT&&s.mergeSiblings(),_&&!s.equals(_)&&_.type==CKEDITOR.NODE_ELEMENT&&_.mergeSiblings())}function L(i,o,s){var _;return"*"==(_=i.element)&&(_="span"),_=new CKEDITOR.dom.element(_,o),s&&s.copyAttributes(_),_=w(_,i),o.getCustomData("doc_processing_style")&&_.hasAttribute("id")?_.removeAttribute("id"):o.setCustomData("doc_processing_style",1),_}function w(i,o){var s=(_=o._.definition).attributes,_=CKEDITOR.style.getStyleText(_);if(s)for(var $ in s)i.setAttribute($,s[$]);return _&&i.setAttribute("style",_),i.getDocument().removeCustomData("doc_processing_style"),i}function J(i,o){for(var s in i)i[s]=i[s].replace(_,(function(i,s){return o[s]}))}function G(i){if(i._.overrides)return i._.overrides;var o=i._.overrides={},s=i._.definition.overrides;if(s){CKEDITOR.tools.isArray(s)||(s=[s]);for(var _=0;_<s.length;_++){var $,j;if("string"==typeof(ee=s[_])?$=ee.toLowerCase():($=ee.element?ee.element.toLowerCase():i.element,j=ee.attributes),ee=o[$]||(o[$]={}),j){var Z,ee=ee.attributes=ee.attributes||[];for(Z in j)ee.push([Z.toLowerCase(),j[Z]])}}}return o}function q(i,o,s){var _=new CKEDITOR.dom.element("span");return _[s?"setStyle":"setAttribute"](i,o),_[s?"getStyle":"getAttribute"](i)}function u(i,o){function c(i,o){return"font-family"==o.toLowerCase()?i.replace(/["']/g,""):i}for(var s in"string"==typeof i&&(i=CKEDITOR.tools.parseCssText(i)),"string"==typeof o&&(o=CKEDITOR.tools.parseCssText(o,!0)),i)if(!(s in o)||c(o[s],s)!=c(i[s],s)&&"inherit"!=i[s]&&"inherit"!=o[s])return!1;return!0}function K(i,o,s){var _=i.getRanges();o=o?this.removeFromRange:this.applyToRange;for(var $,j=_.createIterator();$=j.getNextRange();)o.call(this,$,s);i.selectRanges(_)}var i={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},o={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},s=/\s*(?:;\s*|$)/,_=/#\((.+?)\)/g,$=CKEDITOR.dom.walker.bookmark(0,1),j=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(s,_){if("string"==typeof s.type)return new CKEDITOR.style.customHandlers[s.type](s);var $=s.attributes;$&&$.style&&(s.styles=CKEDITOR.tools.extend({},s.styles,CKEDITOR.tools.parseCssText($.style)),delete $.style),_&&(J((s=CKEDITOR.tools.clone(s)).attributes,_),J(s.styles,_)),$=this.element=s.element?"string"==typeof s.element?s.element.toLowerCase():s.element:"*",this.type=s.type||(i[$]?CKEDITOR.STYLE_BLOCK:o[$]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE),"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT),this._={definition:s}},CKEDITOR.style.prototype={apply:function(i){if(i instanceof CKEDITOR.dom.document)return K.call(this,i.getSelection());if(this.checkApplicable(i.elementPath(),i)){var o=this._.enterMode;o||(this._.enterMode=i.activeEnterMode),K.call(this,i.getSelection(),0,i),this._.enterMode=o}},remove:function(i){if(i instanceof CKEDITOR.dom.document)return K.call(this,i.getSelection(),1);if(this.checkApplicable(i.elementPath(),i)){var o=this._.enterMode;o||(this._.enterMode=i.activeEnterMode),K.call(this,i.getSelection(),1,i),this._.enterMode=o}},applyToRange:function(i){return this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?b:this.type==CKEDITOR.STYLE_BLOCK?h:this.type==CKEDITOR.STYLE_OBJECT?e:null,this.applyToRange(i)},removeFromRange:function(i){return this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?c:this.type==CKEDITOR.STYLE_BLOCK?p:this.type==CKEDITOR.STYLE_OBJECT?k:null,this.removeFromRange(i)},applyToObject:function(i){w(i,this)},checkActive:function(i,o){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(i.block||i.blockLimit,!0,o);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var s,_=i.elements,$=0;$<_.length;$++)if(s=_[$],this.type!=CKEDITOR.STYLE_INLINE||s!=i.block&&s!=i.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var j=s.getName();if(!("string"==typeof this.element?j==this.element:j in this.element))continue}if(this.checkElementRemovable(s,!0,o))return!0}}return!1},checkApplicable:function(i,o,s){if(o&&o instanceof CKEDITOR.filter&&(s=o),s&&!s.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!i.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!i.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(i,o){var s=this._.definition;if(!i||!s.ignoreReadonly&&i.isReadOnly())return!1;var _=i.getName();if("string"==typeof this.element?_==this.element:_ in this.element){if(!o&&!i.hasAttributes())return!0;if(_=s._AC)s=_;else{_={};var $=0,j=s.attributes;if(j)for(var Z in j)$++,_[Z]=j[Z];(Z=CKEDITOR.style.getStyleText(s))&&(_.style||$++,_.style=Z),_._length=$,s=s._AC=_}if(!s._length)return!0;for(var ee in s)if("_length"!=ee)if(_=i.getAttribute(ee)||"","style"==ee?u(s[ee],_):s[ee]==_){if(!o)return!0}else if(o)return!1;if(o)return!0}return!1},checkElementRemovable:function(i,o,s){if(this.checkElementMatch(i,o,s))return!0;if(o=G(this)[i.getName()]){var _;if(!(o=o.attributes))return!0;for(s=0;s<o.length;s++)if(_=o[s][0],_=i.getAttribute(_)){var $=o[s][1];if(null===$)return!0;if("string"==typeof $){if(_==$)return!0}else if($.test(_))return!0}}return!1},buildPreview:function(i){var o=this._.definition,s=[],_=o.element;"bdo"==_&&(_="span");s=["<",_];var $=o.attributes;if($)for(var j in $)s.push(" ",j,'="',$[j],'"');return($=CKEDITOR.style.getStyleText(o))&&s.push(' style="',$,'"'),s.push(">",i||o.name,"</",_,">"),s.join("")},getDefinition:function(){return this._.definition}},CKEDITOR.style.getStyleText=function(i){if(o=i._ST)return o;var o=i.styles,_=i.attributes&&i.attributes.style||"",$="";for(var j in _.length&&(_=_.replace(s,";")),o){var Z=o[j],ee=(j+":"+Z).replace(s,";");"inherit"==Z?$+=ee:_+=ee}return _.length&&(_=CKEDITOR.tools.normalizeCssText(_,!0)),i._ST=_+$},CKEDITOR.style.customHandlers={},CKEDITOR.style.unstylableElements=[],CKEDITOR.style.addCustomHandler=function(i){var b=function(i){this._={definition:i},this.setup&&this.setup(i)};return b.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},i,!0),this.customHandlers[i.type]=b};var Z=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,ee=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(i,o){this.requiredContent=this.allowedContent=this.style=i,CKEDITOR.tools.extend(this,o,!0)},CKEDITOR.styleCommand.prototype.exec=function(i){i.focus(),this.state==CKEDITOR.TRISTATE_OFF?i.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&i.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(i,o,s){CKEDITOR.stylesSet.addExternal(i,o,""),CKEDITOR.stylesSet.load(i,s)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(i,o){var s=this._.styleStateChangeCallbacks;s||(s=this._.styleStateChangeCallbacks=[],this.on("selectionChange",(function(i){for(var o=0;o<s.length;o++){var _=s[o],$=_.style.checkActive(i.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;_.fn.call(this,$)}}))),s.push({style:i,fn:o})},applyStyle:function(i){i.apply(this)},removeStyle:function(i){i.remove(this)},getStylesSet:function(i){if(this._.stylesDefinitions)i(this._.stylesDefinitions);else{var o=this;if(!1===(s=o.config.stylesCombo_stylesSet||o.config.stylesSet))i(null);else if(s instanceof Array)o._.stylesDefinitions=s,i(s);else{s||(s="default");var s,_=(s=s.split(":"))[0];CKEDITOR.stylesSet.addExternal(_,s[1]?s.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),""),CKEDITOR.stylesSet.load(_,(function(s){o._.stylesDefinitions=s[_],i(o._.stylesDefinitions)}))}}}}),function(){if(window.Promise)CKEDITOR.tools.promise=Promise;else{var i=CKEDITOR.getUrl("vendor/promise.js");if("function"==typeof window.define&&window.define.amd&&"function"==typeof window.require)return window.require([i],(function(i){CKEDITOR.tools.promise=i}));CKEDITOR.scriptLoader.load(i,(function(o){return o?void 0!==window.ES6Promise?CKEDITOR.tools.promise=ES6Promise:void 0:CKEDITOR.error("no-vendor-lib",{path:i})}))}}(),function(){function a(s,_,$){s.once("selectionCheck",(function(s){if(!i){var j=s.data.getRanges()[0];$.equals(j)?s.cancel():_.equals(j)&&(o=!0)}}),null,null,-1)}var i=!0,o=!1;CKEDITOR.dom.selection.setupEditorOptimization=function(i){i.on("selectionCheck",(function(i){i.data&&!o&&i.data.optimizeInElementEnds(),o=!1})),i.on("contentDom",(function(){var o=i.editable();o&&(o.attachListener(o,"keydown",(function(i){this._.shiftPressed=i.data.$.shiftKey}),this),o.attachListener(o,"keyup",(function(i){this._.shiftPressed=i.data.$.shiftKey}),this))}))},CKEDITOR.dom.selection.prototype.optimizeInElementEnds=function(){var o,s=this.getRanges()[0],_=this.root.editor;if(this.root.editor._.shiftPressed||this.isFake||s.isCollapsed||s.startContainer.equals(s.endContainer)||(s.endContainer.is?s.endContainer.is("li"):s.endContainer.getParent().is&&s.endContainer.getParent().is("li")))o=!1;else if(0===s.endOffset)o=!0;else{o=s.startContainer.type===CKEDITOR.NODE_TEXT;var $=s.endContainer.type===CKEDITOR.NODE_TEXT,j=o?s.startContainer.getLength():s.startContainer.getChildCount();o=s.startOffset===j||o^$}o&&(o=s.clone(),s.shrink(CKEDITOR.SHRINK_TEXT,!1,{skipBogus:!CKEDITOR.env.webkit}),i=!1,a(_,s,o),s.select(),i=!0)}}(),function(){function a(i,o){return b(i)?i=Math.round(o*(parseFloat(i)/100)):("string"==typeof i&&i.match(/^\d+$/gm)||"string"==typeof i&&i.match(/^\d+(?:deg)?$/gm))&&(i=parseInt(i,10)),i}function d(i,o){return b(i)?i=o*(parseFloat(i)/100):"string"==typeof i&&i.match(/^\d?\.\d+/gm)&&(i=parseFloat(i)),i}function b(i){return"string"==typeof i&&i.match(/^((\d*\.\d+)|(\d+))%{1}$/gm)}function c(i,o,s){return!isNaN(i)&&i>=o&&i<=s}function f(i){return 1==(i=i.toString(16)).length?"0"+i:i}CKEDITOR.tools.color=CKEDITOR.tools.createClass({$:function(i,o){this._.initialColorCode=i,this._.defaultValue=o,this._.parseInput(i)},proto:{getHex:function(){if(!this._.isValidColor)return this._.defaultValue;var i=this._.blendAlphaColor(this._.red,this._.green,this._.blue,this._.alpha);return this._.formatHexString(i[0],i[1],i[2])},getHexWithAlpha:function(){if(!this._.isValidColor)return this._.defaultValue;var i=Math.round(this._.alpha*CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE);return this._.formatHexString(this._.red,this._.green,this._.blue,i)},getRgb:function(){if(!this._.isValidColor)return this._.defaultValue;var i=this._.blendAlphaColor(this._.red,this._.green,this._.blue,this._.alpha);return this._.formatRgbString("rgb",i[0],i[1],i[2])},getRgba:function(){return this._.isValidColor?this._.formatRgbString("rgba",this._.red,this._.green,this._.blue,this._.alpha):this._.defaultValue},getHsl:function(){var i=0===this._.alpha||1===this._.alpha;return this._.isValidColor?(this._.type===CKEDITOR.tools.color.TYPE_HSL&&i?i=[this._.hue,this._.saturation,this._.lightness]:(i=this._.blendAlphaColor(this._.red,this._.green,this._.blue,this._.alpha),i=this._.rgbToHsl(i[0],i[1],i[2])),this._.formatHslString("hsl",i[0],i[1],i[2])):this._.defaultValue},getHsla:function(){var i;return this._.isValidColor?(i=this._.type===CKEDITOR.tools.color.TYPE_HSL?[this._.hue,this._.saturation,this._.lightness]:this._.rgbToHsl(this._.red,this._.green,this._.blue),this._.formatHslString("hsla",i[0],i[1],i[2],this._.alpha)):this._.defaultValue},getInitialValue:function(){return this._.initialColorCode}},_:{initialColorCode:"",isValidColor:!0,type:0,hue:0,saturation:0,lightness:0,red:0,green:0,blue:0,alpha:1,blendAlphaColor:function(i,o,s,_){return CKEDITOR.tools.array.map([i,o,s],(function(i){return Math.round(CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE-_*(CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE-i))}))},formatHexString:function(i,o,s,_){return i="#"+f(i)+f(o)+f(s),void 0!==_&&(i+=f(_)),i.toUpperCase()},formatRgbString:function(i,o,s,_,$){return o=[o,s,_],void 0!==$&&o.push($),i+"("+o.join(",")+")"},formatHslString:function(i,o,s,_,$){return i+"("+o+","+s+"%,"+_+"%"+(void 0!==$?","+$:"")+")"},parseInput:function(i){if("string"!=typeof i)this._.isValidColor=!1;else{i=CKEDITOR.tools.trim(i),(o=this._.matchStringToNamedColor(i))&&(i=o);var o=this._.extractColorChannelsFromHex(i),s=this._.extractColorChannelsFromRgba(i);i=this._.extractColorChannelsFromHsla(i),(i=o||s||i)?(this._.type=i.type,this._.red=i.red,this._.green=i.green,this._.blue=i.blue,this._.alpha=i.alpha,i.type===CKEDITOR.tools.color.TYPE_HSL&&(this._.hue=i.hue,this._.saturation=i.saturation,this._.lightness=i.lightness)):this._.isValidColor=!1}},matchStringToNamedColor:function(i){return CKEDITOR.tools.color.namedColors[i.toLowerCase()]||null},extractColorChannelsFromHex:function(i){if(-1===i.indexOf("#")&&(i="#"+i),i.match(CKEDITOR.tools.color.hex3CharsRegExp)&&(i=this._.hex3ToHex6(i)),i.match(CKEDITOR.tools.color.hex4CharsRegExp)&&(i=this._.hex4ToHex8(i)),!i.match(CKEDITOR.tools.color.hex6CharsRegExp)&&!i.match(CKEDITOR.tools.color.hex8CharsRegExp))return null;var o=1;return(i=i.split(""))[7]&&i[8]&&(o=parseInt(i[7]+i[8],16),o/=CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE,o=Number(o.toFixed(1))),{type:CKEDITOR.tools.color.TYPE_RGB,red:parseInt(i[1]+i[2],16),green:parseInt(i[3]+i[4],16),blue:parseInt(i[5]+i[6],16),alpha:o}},extractColorChannelsFromRgba:function(i){var o=this._.extractColorChannelsByPattern(i,CKEDITOR.tools.color.rgbRegExp);if(!o||3>o.length||4<o.length)return null;var s=4===o.length;i=a(o[0],CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE);var _=a(o[1],CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE),$=a(o[2],CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE),j=1;return s&&(j=d(o[3],CKEDITOR.tools.color.MAX_ALPHA_CHANNEL_VALUE)),o={type:CKEDITOR.tools.color.TYPE_RGB,red:i,green:_,blue:$,alpha:j},this._.areColorChannelsValid(i,_,$,j)?o:null},extractColorChannelsFromHsla:function(i){var o=this._.extractColorChannelsByPattern(i,CKEDITOR.tools.color.hslRegExp);if(!o||3>o.length||4<o.length)return null;var s=4===o.length,_=a(o[0],CKEDITOR.tools.color.MAX_HUE_CHANNEL_VALUE),$=d(o[1],CKEDITOR.tools.color.MAX_SATURATION_LIGHTNESS_CHANNEL_VALUE),j=d(o[2],CKEDITOR.tools.color.MAX_SATURATION_LIGHTNESS_CHANNEL_VALUE),Z=1;return i=this._.hslToRgb(_,$,j),s&&(Z=d(o[3],CKEDITOR.tools.color.MAX_ALPHA_CHANNEL_VALUE)),i.push(Z),o={type:CKEDITOR.tools.color.TYPE_HSL,red:i[0],green:i[1],blue:i[2],alpha:i[3],hue:_,saturation:Math.round(100*$),lightness:Math.round(100*j)},this._.areColorChannelsValid(i[0],i[1],i[2],i[3])?o:null},hex3ToHex6:function(i){return"#"+(i=i.split(""))[1]+i[1]+i[2]+i[2]+i[3]+i[3]},hex4ToHex8:function(i){return this._.hex3ToHex6(i.substr(0,4))+CKEDITOR.tools.repeat(i[4],2)},extractColorChannelsByPattern:function(i,o){var s=i.match(o);if(!s)return null;var _=-1===s[1].indexOf(",")?/\s/:",";_=s[1].split(_),_=CKEDITOR.tools.array.reduce(_,(function(i,o){var s=CKEDITOR.tools.trim(o);return 0===s.length?i:i.concat([s])}),[]);return s[2]&&(s=CKEDITOR.tools.trim(s[2].replace(/[\/,]/,"")),_.push(s)),_},areColorChannelsValid:function(i,o,s,_){return c(i,0,CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)&&c(o,0,CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)&&c(s,0,CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)&&c(_,0,CKEDITOR.tools.color.MAX_ALPHA_CHANNEL_VALUE)},hslToRgb:function(i,o,s){var d=function(_){var $=(_+i/30)%12;return _=o*Math.min(s,1-s),$=Math.min($-3,9-$,1),$=Math.max(-1,$),Math.round((s-_*$)*CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)};return[d(0),d(8),d(4)]},rgbToHsl:function(i,o,s){i/=CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE,o/=CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE;var _=s/CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE,$=Math.max(i,o,_),j=Math.min(i,o,_);s=$-j;var Z=0;switch($){case i:Z=(o-_)/s%6;break;case o:Z=(_-i)/s+2;break;case _:Z=(i-o)/s+4}return i=0===s?0:60*Z,o=($+j)/2,$=0,1!==o&&0!==o&&($=s/(1-Math.abs(2*o-1))),[i=Math.round(i),$=Math.round(100*$),o=Math.round(100*o)]}},statics:{TYPE_RGB:1,TYPE_HSL:2,MAX_RGB_CHANNEL_VALUE:255,MAX_ALPHA_CHANNEL_VALUE:1,MAX_HUE_CHANNEL_VALUE:360,MAX_SATURATION_LIGHTNESS_CHANNEL_VALUE:1,hex3CharsRegExp:/#([0-9a-f]{3}$)/gim,hex4CharsRegExp:/#([0-9a-f]{4}$)/gim,hex6CharsRegExp:/#([0-9a-f]{6}$)/gim,hex8CharsRegExp:/#([0-9a-f]{8}$)/gim,rgbRegExp:/rgba?\(([.,\d\s%]*)(\s*\/\s*[\d.%]+)?\s*\)/i,hslRegExp:/hsla?\((\s*(?:[.\d]+(?:deg)?)(?:\s*,?\s*[.\d]+%){2})((?:(?:\s*\/\s*)|(?:\s*,\s*))[\d.]+%?)?\s*\)/i,namedColors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",windowtext:"windowtext",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}}}),CKEDITOR.tools.style.parse._colors=CKEDITOR.tools.color.namedColors}(),CKEDITOR.dom.comment=function(i,o){"string"==typeof i&&(i=(o?o.$:document).createComment(i)),CKEDITOR.dom.domObject.call(this,i)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"\x3c!--"+this.$.nodeValue+"--\x3e"}}),function(){var i,o={},s={};for(i in CKEDITOR.dtd.$blockLimit)i in CKEDITOR.dtd.$list||(o[i]=1);for(i in CKEDITOR.dtd.$block)i in CKEDITOR.dtd.$blockLimit||i in CKEDITOR.dtd.$empty||(s[i]=1);CKEDITOR.dom.elementPath=function(i,_){var $,j=null,Z=null,ee=[],te=i;_=_||i.getDocument().getBody(),te||(te=_);do{if(te.type==CKEDITOR.NODE_ELEMENT){if(ee.push(te),!this.lastElement&&(this.lastElement=te,te.is(CKEDITOR.dtd.$object)||"false"==te.getAttribute("contenteditable")))continue;if(te.equals(_))break;if(!Z&&($=te.getName(),"true"==te.getAttribute("contenteditable")?Z=te:!j&&s[$]&&(j=te),o[$])){if($=!j&&"div"==$){e:{for(var ne=0,ie=($=te.getChildren()).count();ne<ie;ne++){var oe=$.getItem(ne);if(oe.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[oe.getName()]){$=!0;break e}}$=!1}$=!$}$?j=te:Z=te}}}while(te=te.getParent());Z||(Z=_),this.block=j,this.blockLimit=Z,this.root=_,this.elements=ee}}(),CKEDITOR.dom.elementPath.prototype={compare:function(i){var o=this.elements;if(!(i=i&&i.elements)||o.length!=i.length)return!1;for(var s=0;s<o.length;s++)if(!o[s].equals(i[s]))return!1;return!0},contains:function(i,o,s){var _,$=0;"string"==typeof i&&(_=function(o){return o.getName()==i}),i instanceof CKEDITOR.dom.element?_=function(o){return o.equals(i)}:CKEDITOR.tools.isArray(i)?_=function(o){return-1<CKEDITOR.tools.indexOf(i,o.getName())}:"function"==typeof i?_=i:"object"==typeof i&&(_=function(o){return o.getName()in i});var j=this.elements,Z=j.length;for(o&&(s?$+=1:--Z),s&&(j=Array.prototype.slice.call(j,0)).reverse();$<Z;$++)if(_(j[$]))return j[$];return null},isContextFor:function(i){return!(i in CKEDITOR.dtd.$block)||!!(this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit).getDtd()[i]},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(i,o){"string"==typeof i&&(i=(o?o.$:document).createTextNode(i)),this.$=i},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(i){this.$.nodeValue=i},isEmpty:function(i){var o=this.getText();return i&&(o=CKEDITOR.tools.trim(o)),!o||o===CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE},split:function(i){var o=this.$.parentNode,s=o.childNodes.length,_=this.getLength(),$=this.getDocument(),j=new CKEDITOR.dom.text(this.$.splitText(i),$);return o.childNodes.length==s&&(i>=_?(j=$.createText("")).insertAfter(this):((i=$.createText("")).insertAfter(j),i.remove())),j},substring:function(i,o){return"number"!=typeof o?this.$.nodeValue.substr(i):this.$.nodeValue.substring(i,o)}}),function(){function a(i,o,s){var _=i.serializable,$=o[s?"endContainer":"startContainer"],j=s?"endOffset":"startOffset",Z=_?o.document.getById(i.startNode):i.startNode;return i=_?o.document.getById(i.endNode):i.endNode,$.equals(Z.getPrevious())?(o.startOffset=o.startOffset-$.getLength()-i.getPrevious().getLength(),$=i.getNext()):$.equals(i.getPrevious())&&(o.startOffset-=$.getLength(),$=i.getNext()),$.equals(Z.getParent())&&o[j]++,$.equals(i.getParent())&&o[j]++,o[s?"endContainer":"startContainer"]=$,o}CKEDITOR.dom.rangeList=function(o){return o instanceof CKEDITOR.dom.rangeList?o:(o?o instanceof CKEDITOR.dom.range&&(o=[o]):o=[],CKEDITOR.tools.extend(o,i))};var i={createIterator:function(){var i,o=this,s=CKEDITOR.dom.walker.bookmark(),_=[];return{getNextRange:function($){var j=o[i=void 0===i?0:i+1];if(j&&1<o.length){if(!i)for(var Z=o.length-1;0<=Z;Z--)_.unshift(o[Z].createBookmark(!0));if($)for(var ee=0;o[i+ee+1];){var te=j.document;for($=0,Z=te.getById(_[ee].endNode),te=te.getById(_[ee+1].startNode);;){if(Z=Z.getNextSourceNode(!1),te.equals(Z))$=1;else if(s(Z)||Z.type==CKEDITOR.NODE_ELEMENT&&Z.isBlockBoundary())continue;break}if(!$)break;ee++}for(j.moveToBookmark(_.shift());ee--;)(Z=o[++i]).moveToBookmark(_.shift()),j.setEnd(Z.endContainer,Z.endOffset)}return j}}},createBookmarks:function(i){for(var o,s=[],_=0;_<this.length;_++){s.push(o=this[_].createBookmark(i,!0));for(var $=_+1;$<this.length;$++)this[$]=a(o,this[$]),this[$]=a(o,this[$],!0)}return s},createBookmarks2:function(i){for(var o=[],s=0;s<this.length;s++)o.push(this[s].createBookmark2(i));return o},moveToBookmarks:function(i){for(var o=0;o<this.length;o++)this[o].moveToBookmark(i[o])}}}(),function(){function a(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function d(i){var o=CKEDITOR.skin["ua_"+i],s=CKEDITOR.env;if(o){o=o.split(",").sort((function(i,o){return i>o?-1:1}));for(var _,$=0;$<o.length;$++)if(_=o[$],s.ie&&(_.replace(/^ie/,"")==s.version||s.quirks&&"iequirks"==_)&&(_="ie"),s[_]){i+="_"+o[$];break}}return CKEDITOR.getUrl(a()+i+".css")}function b(o,s){i[o]||(CKEDITOR.document.appendStyleSheet(d(o)),i[o]=1),s&&s()}function c(i){var s=i.getById(o);return s||((s=i.getHead().append("style")).setAttribute("id",o),s.setAttribute("type","text/css")),s}function f(i,o,s){var _,$,j;if(CKEDITOR.env.webkit)for(o=o.split("}").slice(0,-1),$=0;$<o.length;$++)o[$]=o[$].split("{");for(var Z=0;Z<i.length;Z++)if(CKEDITOR.env.webkit)for($=0;$<o.length;$++){for(j=o[$][1],_=0;_<s.length;_++)j=j.replace(s[_][0],s[_][1]);i[Z].$.sheet.addRule(o[$][0],j)}else{for(j=o,_=0;_<s.length;_++)j=j.replace(s[_][0],s[_][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?i[Z].$.styleSheet.cssText+=j:i[Z].$.innerHTML+=j}}var i={};CKEDITOR.skin={path:a,loadPart:function(i,o){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(a()+"skin.js"),(function(){b(i,o)})):b(i,o)},getPath:function(i){return CKEDITOR.getUrl(d(i))},icons:{},addIcon:function(i,o,s,_){i=i.toLowerCase(),this.icons[i]||(this.icons[i]={path:o,offset:s||0,bgsize:_||"16px"})},getIconStyle:function(i,o,s,_,$){var j;return i&&(i=i.toLowerCase(),o&&(j=this.icons[i+"-rtl"]),j||(j=this.icons[i])),i=s||j&&j.path||"",_=_||j&&j.offset,$=$||j&&j.bgsize||"16px",i&&(i=i.replace(/'/g,"\\'")),i&&"background-image:url('"+CKEDITOR.getUrl(i)+"');background-position:0 "+_+"px;background-size:"+$+";"}},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(i){var o=c(CKEDITOR.document);return(this.setUiColor=function(i){this.uiColor=i;var $=CKEDITOR.skin.chameleon,j="",Z="";"function"==typeof $&&(j=$(this,"editor"),Z=$(this,"panel")),f([o],j,i=[[_,i]]),f(s,Z,i)}).call(this,i)}});var o="cke_ui_color",s=[],_=/\$color/g;CKEDITOR.on("instanceLoaded",(function(i){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var o=i.editor;i=function(i){if(!(i=(i.data[0]||i.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument()).getById("cke_ui_color")){var $=c(i);s.push($),o.on("destroy",(function(){s=CKEDITOR.tools.array.filter(s,(function(i){return $!==i}))})),(i=o.getUiColor())&&f([$],CKEDITOR.skin.chameleon(o,"panel"),[[_,i]])}},o.on("panelShow",i),o.on("menuShow",i),o.config.uiColor&&o.setUiColor(o.config.uiColor)}}))}(),function(){var i=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);i.appendTo(CKEDITOR.document.getHead());try{var o=i.getComputedStyle("border-top-color"),s=i.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!o||o!=s)}catch(i){CKEDITOR.env.hc=!1}if(i.remove(),CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc"),CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"),CKEDITOR.status="loaded",CKEDITOR.fireOnce("loaded"),i=CKEDITOR._.pending)for(delete CKEDITOR._.pending,o=0;o<i.length;o++)CKEDITOR.editor.prototype.constructor.apply(i[o][0],i[o][1]),CKEDITOR.add(i[o][0])}(),CKEDITOR.skin.name="moono-lisa",CKEDITOR.skin.ua_editor="ie,iequirks,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie8",CKEDITOR.skin.chameleon=function(){var b=function(i,o){for(var s=i.match(/[^#]./g),_=0;3>_;_++){var $,j=_;$=parseInt(s[_],16),$=("0"+(0>o?0|$*(1+o):0|$+(255-$)*o).toString(16)).slice(-2),s[j]=$}return"#"+s.join("")},i={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};return function(o,s){var _=b(o.uiColor,.4);_={id:"."+o.id,defaultBorder:b(_,-.2),toolbarElementsBorder:b(_,-.25),defaultBackground:_,lightBackground:b(_,.8),darkBackground:b(_,-.15),ckeButtonOn:b(_,.4),ckeResizer:b(_,-.4),ckeColorauto:b(_,.8),dialogBody:b(_,.7),dialogTab:b(_,.65),dialogTabSelected:"#FFF",dialogTabSelectedBorder:"#FFF",elementsPathColor:b(_,-.6),menubuttonHover:b(_,.1),menubuttonIcon:b(_,.5),menubuttonIconHover:b(_,.3)};return i[s].output(_).replace(/\[/g,"{").replace(/\]/g,"}")}}(),CKEDITOR.plugins.add("dialogui",{onLoad:function(){var h=function(i){this._||(this._={}),this._.default=this._.initValue=i.default||"",this._.required=i.required||!1;for(var o=[this._],s=1;s<arguments.length;s++)o.push(arguments[s]);return o.push(!0),CKEDITOR.tools.extend.apply(CKEDITOR.tools,o),this._},i={build:function(i,o,s){return new CKEDITOR.ui.dialog.textInput(i,o,s)}},o={build:function(i,o,s){return new CKEDITOR.ui.dialog[o.type](i,o,s)}},s={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(i){this.setValue(this.getInitValue(),i)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._.default},getInitValue:function(){return this._.initValue}},_=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(i,o){this._.domOnChangeRegistered||(i.on("load",(function(){this.getInputElement().on("change",(function(){i.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})}),this)}),this),this._.domOnChangeRegistered=!0),this.on("change",o)}},!0),$=/^on([A-Z]\w+)/,t=function(i){for(var o in i)($.test(o)||"title"==o||"type"==o)&&delete i[o];return i},w=function(i){(i=i.data.getKeystroke())==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):i==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(i,o,s,_){if(!(4>arguments.length)){var $=h.call(this,o);$.labelId=CKEDITOR.tools.getNextId()+"_label",this._.children=[];var j={role:o.role||"presentation"};o.includeLabel&&(j["aria-labelledby"]=$.labelId),CKEDITOR.ui.dialog.uiElement.call(this,i,o,s,"div",null,j,(function(){var s=[],j=o.required?" cke_required":"";return"horizontal"!=o.labelLayout?s.push('<label class="cke_dialog_ui_labeled_label'+j+'" ',' id="'+$.labelId+'"',$.inputId?' for="'+$.inputId+'"':"",(o.labelStyle?' style="'+o.labelStyle+'"':"")+">",o.required?o.label+'<span class="cke_dialog_ui_labeled_required" aria-hidden="true">*</span>':o.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',o.controlStyle?' style="'+o.controlStyle+'"':"",' role="presentation">',_.call(this,i,o),"</div>"):(j={type:"hbox",widths:o.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+j+'" id="'+$.labelId+'" for="'+$.inputId+'"'+(o.labelStyle?' style="'+o.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(o.label)+"</label>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(o.controlStyle?' style="'+o.controlStyle+'"':"")+">"+_.call(this,i,o)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(i,j,s)),s.join("")}))}},textInput:function(i,o,s){if(!(3>arguments.length)){h.call(this,o);var _=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",$={class:"cke_dialog_ui_input_"+o.type,id:_,type:o.type};o.validate&&(this.validate=o.validate),o.maxLength&&($.maxlength=o.maxLength),o.size&&($.size=o.size),o.inputStyle&&($.style=o.inputStyle);var j=this,Z=!1;i.on("load",(function(){j.getInputElement().on("keydown",(function(i){13==i.data.getKeystroke()&&(Z=!0)})),j.getInputElement().on("keyup",(function(o){13==o.data.getKeystroke()&&Z&&(i.getButton("ok")&&setTimeout((function(){i.getButton("ok").click()}),0),Z=!1),j.bidi&&w.call(j,o)}),null,null,1e3)})),CKEDITOR.ui.dialog.labeledElement.call(this,i,o,s,(function(){var i=['<div class="cke_dialog_ui_input_',o.type,'" role="presentation"'];for(var s in o.width&&i.push('style="width:'+o.width+'" '),i.push("><input "),$["aria-labelledby"]=this._.labelId,this._.required&&($["aria-required"]=this._.required),$)i.push(s+'="'+$[s]+'" ');return i.push(" /></div>"),i.join("")}))}},textarea:function(i,o,s){if(!(3>arguments.length)){h.call(this,o);var _=this,$=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",j={};o.validate&&(this.validate=o.validate),j.rows=o.rows||5,j.cols=o.cols||20,j.class="cke_dialog_ui_input_textarea "+(o.class||""),void 0!==o.inputStyle&&(j.style=o.inputStyle),o.dir&&(j.dir=o.dir),_.bidi&&i.on("load",(function(){_.getInputElement().on("keyup",w)}),_),CKEDITOR.ui.dialog.labeledElement.call(this,i,o,s,(function(){j["aria-labelledby"]=this._.labelId,this._.required&&(j["aria-required"]=this._.required);var i,o=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',$,'" '];for(i in j)o.push(i+'="'+CKEDITOR.tools.htmlEncode(j[i])+'" ');return o.push(">",CKEDITOR.tools.htmlEncode(_._.default),"</textarea></div>"),o.join("")}))}},checkbox:function(i,o,s){if(!(3>arguments.length)){var _=h.call(this,o,{default:!!o.default});o.validate&&(this.validate=o.validate),CKEDITOR.ui.dialog.uiElement.call(this,i,o,s,"span",null,null,(function(){var s=CKEDITOR.tools.extend({},o,{id:o.id?o.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),$=[],j=CKEDITOR.tools.getNextId()+"_label",Z={class:"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":j};return t(s),o.default&&(Z.checked="checked"),void 0!==s.inputStyle&&(s.style=s.inputStyle),_.checkbox=new CKEDITOR.ui.dialog.uiElement(i,s,$,"input",null,Z),$.push(' <label id="',j,'" for="',Z.id,'"'+(o.labelStyle?' style="'+o.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(o.label),"</label>"),$.join("")}))}},radio:function(i,o,s){if(!(3>arguments.length)){h.call(this,o),this._.default||(this._.default=this._.initValue=o.items[0][1]),o.validate&&(this.validate=o.validate);var _=[],$=this;o.role="radiogroup",o.includeLabel=!0,CKEDITOR.ui.dialog.labeledElement.call(this,i,o,s,(function(){for(var s=[],j=[],Z=(o.id?o.id:CKEDITOR.tools.getNextId())+"_radio",ee=0;ee<o.items.length;ee++){var te=o.items[ee],ne=void 0!==te[2]?te[2]:te[0],ie=void 0!==te[1]?te[1]:te[0],oe=(ae=CKEDITOR.tools.getNextId()+"_radio_input")+"_label",ae=CKEDITOR.tools.extend({},o,{id:ae,title:null,type:null},!0),re=(ne=CKEDITOR.tools.extend({},ae,{title:ne},!0),{type:"radio",class:"cke_dialog_ui_radio_input",name:Z,value:ie,"aria-labelledby":oe}),se=[];$._.default==ie&&(re.checked="checked"),t(ae),t(ne),void 0!==ae.inputStyle&&(ae.style=ae.inputStyle),ae.keyboardFocusable=!0,_.push(new CKEDITOR.ui.dialog.uiElement(i,ae,se,"input",null,re)),se.push(" "),new CKEDITOR.ui.dialog.uiElement(i,ne,se,"label",null,{id:oe,for:re.id},te[0]),s.push(se.join(""))}return new CKEDITOR.ui.dialog.hbox(i,_,s,j),j.join("")})),this._.children=_}},button:function(i,o,s){if(arguments.length){"function"==typeof o&&(o=o(i.getParentEditor())),h.call(this,o,{disabled:o.disabled||!1}),CKEDITOR.event.implementOn(this);var _=this;i.on("load",(function(){var i=this.getElement();i.on("click",(function(i){_.click(),i.data.preventDefault()})),i.on("keydown",(function(i){i.data.getKeystroke()in{32:1}&&(_.click(),i.data.preventDefault())})),i.unselectable()}),this);var $=CKEDITOR.tools.extend({},o);delete $.style;var j=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,i,$,s,"a",null,{style:o.style,href:"javascript:void(0)",title:o.label,hidefocus:"true",class:o.class,role:"button","aria-labelledby":j},'<span id="'+j+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(o.label)+"</span>")}},select:function(i,o,s){if(!(3>arguments.length)){var _=h.call(this,o);o.validate&&(this.validate=o.validate),_.inputId=CKEDITOR.tools.getNextId()+"_select",CKEDITOR.ui.dialog.labeledElement.call(this,i,o,s,(function(){var s=CKEDITOR.tools.extend({},o,{id:o.id?o.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),$=[],j=[],Z={id:_.inputId,class:"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};$.push('<div class="cke_dialog_ui_input_',o.type,'" role="presentation"'),o.width&&$.push('style="width:'+o.width+'" '),$.push(">"),void 0!==o.size&&(Z.size=o.size),void 0!==o.multiple&&(Z.multiple=o.multiple),t(s);for(var ee,te=0;te<o.items.length&&(ee=o.items[te]);te++)j.push('<option value="',CKEDITOR.tools.htmlEncode(void 0!==ee[1]?ee[1]:ee[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(ee[0]));return void 0!==s.inputStyle&&(s.style=s.inputStyle),_.select=new CKEDITOR.ui.dialog.uiElement(i,s,$,"select",null,Z,j.join("")),$.push("</div>"),$.join("")}))}},file:function(i,o,s){if(!(3>arguments.length)){void 0===o.default&&(o.default="");var _=CKEDITOR.tools.extend(h.call(this,o),{definition:o,buttons:[]});o.validate&&(this.validate=o.validate),i.on("load",(function(){CKEDITOR.document.getById(_.frameId).getParent().addClass("cke_dialog_ui_input_file")})),CKEDITOR.ui.dialog.labeledElement.call(this,i,o,s,(function(){_.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var i=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',_.frameId,'" title="',o.label,'" src="javascript:void('];return i.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0"),i.push(')"></iframe>'),i.join("")}))}},fileButton:function(i,o,s){var _=this;if(!(3>arguments.length)){h.call(this,o),o.validate&&(this.validate=o.validate);var $=CKEDITOR.tools.extend({},o),j=$.onClick;$.className=($.className?$.className+" ":"")+"cke_dialog_ui_button",$.onClick=function(s){var _=o.for;!1!==(s=!!j&&j.call(this,s))&&("xhr"!==s&&i.getContentElement(_[0],_[1]).submit(),this.disable())},i.on("load",(function(){i.getContentElement(o.for[0],o.for[1])._.buttons.push(_)})),CKEDITOR.ui.dialog.button.call(this,i,$,s)}},html:function(){var i=/^\s*<[\w:]+\s+([^>]*)?>/,o=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,s=/\/$/;return function(_,$,j){if(!(3>arguments.length)){var Z=[],ee=$.html;"<"!=ee.charAt(0)&&(ee="<span>"+ee+"</span>");var te=$.focus;if(te){var ne=this.focus;this.focus=function(){("function"==typeof te?te:ne).call(this),this.fire("focus")},$.isFocusable&&(this.isFocusable=this.isFocusable),this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,_,$,Z,"span",null,null,""),Z=Z.join("").match(i),ee=ee.match(o)||["","",""],s.test(ee[1])&&(ee[1]=ee[1].slice(0,-1),ee[2]="/"+ee[2]),j.push([ee[1]," ",Z[1]||"",ee[2]].join(""))}}}(),fieldset:function(i,o,s,_,$){var j=$.label;this._={children:o},CKEDITOR.ui.dialog.uiElement.call(this,i,$,_,"fieldset",null,null,(function(){var i=[];j&&i.push("<legend"+($.labelStyle?' style="'+$.labelStyle+'"':"")+">"+j+"</legend>");for(var o=0;o<s.length;o++)i.push(s[o]);return i.join("")}))}},!0),CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement,CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(i){var o=CKEDITOR.document.getById(this._.labelId);return 1>o.getChildCount()?new CKEDITOR.dom.text(i,CKEDITOR.document).appendTo(o):o.getChild(0).$.nodeValue=i,this},getLabel:function(){var i=CKEDITOR.document.getById(this._.labelId);return!i||1>i.getChildCount()?"":i.getChild(0).getText()},eventProcessors:_},!0),CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return!this._.disabled&&this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var i=this.getElement();i&&i.removeClass("cke_disabled")},disable:function(){this._.disabled=!0,this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(i,o){this.on("click",(function(){o.apply(this,arguments)}))}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var i=this.selectParentTab();setTimeout((function(){var o=i.getInputElement();o&&o.$.focus()}),0)},select:function(){var i=this.selectParentTab();setTimeout((function(){var o=i.getInputElement();o&&(o.$.focus(),o.$.select())}),0)},accessKeyUp:function(){this.select()},setValue:function(i){if(this.bidi){var o=i&&i.charAt(0);(o="‪"==o?"ltr":"‫"==o?"rtl":null)&&(i=i.slice(1)),this.setDirectionMarker(o)}return i||(i=""),CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},getValue:function(){var i=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&i){var o=this.getDirectionMarker();o&&(i=("ltr"==o?"‪":"‫")+i)}return i},setDirectionMarker:function(i){var o=this.getInputElement();i?o.setAttributes({dir:i,"data-cke-dir-marker":i}):this.getDirectionMarker()&&o.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},s,!0),CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput,CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(i,o,s){var _=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),$=this.getInputElement().$;return _.$.text=i,_.$.value=null==o?i:o,null==s?CKEDITOR.env.ie?$.add(_.$):$.add(_.$,null):$.add(_.$,s),this},remove:function(i){return this.getInputElement().$.remove(i),this},clear:function(){for(var i=this.getInputElement().$;0<i.length;)i.remove(0);return this},keyboardFocusable:!0},s,!0),CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(i,o){return this.getInputElement().$.checked=i,!o&&this.fire("change",{value:i}),this},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(i,o){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?_.onChange.apply(this,arguments):(i.on("load",(function(){var i=this._.checkbox.getElement();i.on("propertychange",(function(o){"checked"==(o=o.data.$).propertyName&&this.fire("change",{value:i.$.checked})}),this)}),this),this.on("change",o),null)}},keyboardFocusable:!0},s,!0),CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(i,o){for(var s,_=this._.children,$=0;$<_.length&&(s=_[$]);$++)s.getElement().$.checked=s.getValue()==i;return!o&&this.fire("change",{value:i}),this},getValue:function(){for(var i=this._.children,o=0;o<i.length;o++)if(i[o].getElement().$.checked)return i[o].getValue();return null},accessKeyUp:function(){var i,o=this._.children;for(i=0;i<o.length;i++)if(o[i].getElement().$.checked)return void o[i].getElement().focus();o[0].getElement().focus()},eventProcessors:{onChange:function(i,o){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?_.onChange.apply(this,arguments):(i.on("load",(function(){for(var i=this._.children,o=this,s=0;s<i.length;s++)i[s].getElement().on("propertychange",(function(i){"checked"==(i=i.data.$).propertyName&&this.$.checked&&o.fire("change",{value:this.getAttribute("value")})}))}),this),this.on("change",o),null)}}},s,!0),CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,s,{getInputElement:function(){var i=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<i.$.forms.length?new CKEDITOR.dom.element(i.$.forms[0].elements[0]):this.getElement()},submit:function(){return this.getInputElement().getParent().$.submit(),this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(i){var o,s,_=/^on([A-Z]\w+)/,f=function(i,o,s,_){i.on("formLoaded",(function(){i.getInputElement().on(s,_,i)}))};for(s in i)(o=s.match(_))&&(this.eventProcessors[s]?this.eventProcessors[s].call(this,this._.dialog,i[s]):f(this,this._.dialog,o[1].toLowerCase(),i[s]));return this},reset:function(){function b(){o.$.open();var te="";s.size&&(te=s.size-(CKEDITOR.env.ie?7:0));var ne=i.frameId+"_input";for(o.$.write(['<html dir="'+Z+'" lang="'+ee+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+Z+'" lang="'+ee+'" action="',CKEDITOR.tools.htmlEncode(s.action),'"><label id="',i.labelId,'" for="',ne,'" style="display:none">',CKEDITOR.tools.htmlEncode(s.label),'</label><input style="width:100%" id="',ne,'" aria-labelledby="',i.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(s.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(0<te?te:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+$+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+j+")}","<\/script>"].join("")),o.$.close(),te=0;te<_.length;te++)_[te].enable()}var i=this._,o=CKEDITOR.document.getById(i.frameId).getFrameDocument(),s=i.definition,_=i.buttons,$=this.formLoadedNumber,j=this.formUnloadNumber,Z=i.dialog._.editor.lang.dir,ee=i.dialog._.editor.langCode;$||($=this.formLoadedNumber=CKEDITOR.tools.addFunction((function(){this.fire("formLoaded")}),this),j=this.formUnloadNumber=CKEDITOR.tools.addFunction((function(){this.getInputElement().clearCustomData()}),this),this.getDialog()._.editor.on("destroy",(function(){CKEDITOR.tools.removeFunction($),CKEDITOR.tools.removeFunction(j)}))),CKEDITOR.env.gecko?setTimeout(b,500):b()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(i,o){this._.domOnChangeRegistered||(this.on("formLoaded",(function(){this.getInputElement().on("change",(function(){this.fire("change",{value:this.getValue()})}),this)}),this),this._.domOnChangeRegistered=!0),this.on("change",o)}},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button,CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype),CKEDITOR.dialog.addUIElement("text",i),CKEDITOR.dialog.addUIElement("password",i),CKEDITOR.dialog.addUIElement("tel",i),CKEDITOR.dialog.addUIElement("textarea",o),CKEDITOR.dialog.addUIElement("checkbox",o),CKEDITOR.dialog.addUIElement("radio",o),CKEDITOR.dialog.addUIElement("button",o),CKEDITOR.dialog.addUIElement("select",o),CKEDITOR.dialog.addUIElement("file",o),CKEDITOR.dialog.addUIElement("fileButton",o),CKEDITOR.dialog.addUIElement("html",o),CKEDITOR.dialog.addUIElement("fieldset",{build:function(i,o,s){for(var _,$=o.children,j=[],Z=[],ee=0;ee<$.length&&(_=$[ee]);ee++){var te=[];j.push(te),Z.push(CKEDITOR.dialog._.uiElementBuilders[_.type].build(i,_,te))}return new CKEDITOR.ui.dialog[o.type](i,Z,j,s,o)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function I(i){i._.tabBarMode=!0,i._.tabs[i._.currentTabId][0].focus(),i._.currentFocusIndex=-1}function J(){for(var i=this._.tabIdList.length,o=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+i,s=o-1;s>o-i;s--)if(this._.tabs[this._.tabIdList[s%i]][0].$.offsetHeight)return this._.tabIdList[s%i];return null}function W(){for(var i=this._.tabIdList.length,o=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),s=o+1;s<o+i;s++)if(this._.tabs[this._.tabIdList[s%i]][0].$.offsetHeight)return this._.tabIdList[s%i];return null}function K(i,o){for(var s=i.$.getElementsByTagName("input"),_=0,$=s.length;_<$;_++){var j=new CKEDITOR.dom.element(s[_]);"text"==j.getAttribute("type").toLowerCase()&&(o?(j.setAttribute("value",j.getCustomData("fake_value")||""),j.removeCustomData("fake_value")):(j.setCustomData("fake_value",j.getAttribute("value")),j.setAttribute("value","")))}}function X(i,o){var s=this.getInputElement();s&&(i?s.removeAttribute("aria-invalid"):s.setAttribute("aria-invalid",!0)),i||(this.select?this.select():this.focus()),o&&alert(o),this.fire("validated",{valid:i,msg:o})}function Y(){var i=this.getInputElement();i&&i.removeAttribute("aria-invalid")}function L(i,o,s){this.element=o,this.focusIndex=s,this.tabIndex=0,this.isFocusable=function(){return!o.getAttribute("disabled")&&o.isVisible()},this.focus=function(){i._.currentFocusIndex=this.focusIndex,this.element.focus()},o.on("keydown",(function(i){i.data.getKeystroke()in{32:1,13:1}&&this.fire("click")})),o.on("focus",(function(){this.fire("mouseover")})),o.on("blur",(function(){this.fire("mouseout")}))}function M(i,o){this.dialog=i;for(var s,_=o.contents,$=0;s=_[$];$++)_[$]=s&&new N(i,s);CKEDITOR.tools.extend(this,o)}function N(i,o){this._={dialog:i},CKEDITOR.tools.extend(this,o)}function O(i,o,s){var _=i.parts.dialog.getParent().getClientSize(),$=i.getSize(),j=i._.viewportRatio,Z=Math.max(_.width-$.width,0);_=Math.max(_.height-$.height,0);j.width=Z?o/Z:j.width,j.height=_?s/_:j.height,i._.viewportRatio=j}function H(i){i.data.preventDefault(1)}function P(i){var s=i.config,_=CKEDITOR.skinName||i.config.skin,$=s.dialog_backgroundCoverColor||("moono-lisa"==_?"black":"white"),j=(_=s.dialog_backgroundCoverOpacity,s.baseFloatZIndex),ee=(s=CKEDITOR.tools.genKey($,_,j),Z[s]);CKEDITOR.document.getBody().addClass("cke_dialog_open"),ee?ee.show():(j=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",j,"; top: 0px; left: 0px; ","; width: 100%; height: 100%;",CKEDITOR.env.ie6Compat?"":"background-color: "+$,'" class="cke_dialog_background_cover">'],CKEDITOR.env.ie6Compat&&($="<html><body style=\\'background-color:"+$+";\\'></body></html>",j.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),j.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+$+"' );document.close();")+"})())"),j.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')),j.push("</div>"),(ee=CKEDITOR.dom.element.createFromHtml(j.join(""))).setOpacity(void 0!==_?_:.5),ee.on("keydown",H),ee.on("keypress",H),ee.on("keyup",H),ee.appendTo(CKEDITOR.document.getBody()),Z[s]=ee),i.focusManager.add(ee),o=ee,CKEDITOR.env.mac&&CKEDITOR.env.webkit||ee.focus()}function Q(i){CKEDITOR.document.getBody().removeClass("cke_dialog_open"),o&&(i.focusManager.remove(o),o.hide())}function R(i){var o=i.data.$.ctrlKey||i.data.$.metaKey,s=i.data.$.altKey,_=i.data.$.shiftKey,$=String.fromCharCode(i.data.$.keyCode);(o=ee[(o?"CTRL+":"")+(s?"ALT+":"")+(_?"SHIFT+":"")+$])&&o.length&&((o=o[o.length-1]).keydown&&o.keydown.call(o.uiElement,o.dialog,o.key),i.data.preventDefault())}function S(i){var o=i.data.$.ctrlKey||i.data.$.metaKey,s=i.data.$.altKey,_=i.data.$.shiftKey,$=String.fromCharCode(i.data.$.keyCode);(o=ee[(o?"CTRL+":"")+(s?"ALT+":"")+(_?"SHIFT+":"")+$])&&o.length&&((o=o[o.length-1]).keyup&&(o.keyup.call(o.uiElement,o.dialog,o.key),i.data.preventDefault()))}function T(i,o,s,_,$){(ee[s]||(ee[s]=[])).push({uiElement:i,dialog:o,key:s,keyup:$||i.accessKeyUp,keydown:_||i.accessKeyDown})}function fa(i,o){i._.accessKeyMap[o]&&i.selectPage(i._.accessKeyMap[o])}function ga(){}var i,o,s=CKEDITOR.tools.cssLength,_=!1,$=!CKEDITOR.env.ie||CKEDITOR.env.edge,j='<div class="cke_reset_all cke_dialog_container {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" style="'+($?"display:flex":"")+'" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="'+($?"margin:auto":"position:absolute")+'" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';CKEDITOR.dialog=function(s,_){function e(i){var o=re._.focusList;if(i=i||0,!(1>o.length)){var s=re._.currentFocusIndex;re._.tabBarMode&&0>i&&(s=0);try{o[s].getInputElement().$.blur()}catch(i){}var _=s,$=1<re._.pageCount;do{if(_+=i,$&&!re._.tabBarMode&&(_==o.length||-1==_))return re._.tabBarMode=!0,re._.tabs[re._.currentTabId][0].focus(),void(re._.currentFocusIndex=-1);if((_=(_+o.length)%o.length)==s)break}while(i&&!o[_].isFocusable());o[_].focus(),"text"==o[_].type&&o[_].select()}}function d(i){if(re==CKEDITOR.dialog._.currentTop){var o=i.data.getKeystroke(),_="rtl"==s.lang.dir;if($=Z=0,9==o||o==CKEDITOR.SHIFT+9)e(o==CKEDITOR.SHIFT+9?-1:1),$=1;else if(o==CKEDITOR.ALT+121&&!re._.tabBarMode&&1<re.getPageCount())I(re),$=1;else if(-1!=CKEDITOR.tools.indexOf([37,38,39,40],o)&&re._.tabBarMode)o=-1!=CKEDITOR.tools.indexOf([_?39:37,38],o)?J.call(re):W.call(re),re.selectPage(o),re._.tabs[o][0].focus(),$=1;else if(13!=o&&32!=o||!re._.tabBarMode)if(13==o)(o=i.data.getTarget()).is("a","button","select","textarea")||o.is("input")&&"button"==o.$.type||((o=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(o.click,0,o),$=1),Z=1;else{if(27!=o)return;(o=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(o.click,0,o):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),Z=1}else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=-1,e(1),$=1;f(i)}}function f(i){$?i.data.preventDefault(1):Z&&i.data.stopPropagation()}var $,Z,ee=CKEDITOR.dialog._.dialogDefinitions[_],te=CKEDITOR.tools.clone(i),ne=s.config.dialog_buttonsOrder||"OS",ie=s.lang.dir,oe={};if(("OS"==ne&&CKEDITOR.env.mac||"rtl"==ne&&"ltr"==ie||"ltr"==ne&&"rtl"==ie)&&te.buttons.reverse(),ee=CKEDITOR.tools.extend(ee(s),te),ee=new M(this,ee=CKEDITOR.tools.clone(ee)),te=function(i){var o=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",j).output({id:CKEDITOR.tools.getNextNumber(),editorId:i.id,langDir:i.lang.dir,langCode:i.langCode,editorDialogClass:"cke_editor_"+i.name.replace(/\./g,"\\.")+"_dialog",closeTitle:i.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),s=o.getChild([0,0,0,0,0]),_=s.getChild(0),$=s.getChild(1);return i.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(s),!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(i="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+i+'" tabIndex="-1"></iframe>').appendTo(s.getParent())),_.unselectable(),$.unselectable(),{element:o,parts:{dialog:o.getChild(0),title:_,close:$,tabs:s.getChild(2),contents:s.getChild([3,0,0,0]),footer:s.getChild([3,0,1,0])}}}(s),this._={editor:s,element:te.element,name:_,model:null,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},viewportRatio:{width:.5,height:.5},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1},this.parts=te.parts,CKEDITOR.tools.setTimeout((function(){s.fire("ariaWidget",this.parts.contents)}),0,this),te={top:0,visibility:"hidden"},CKEDITOR.env.ie6Compat&&(te.position="absolute"),te["rtl"==ie?"right":"left"]=0,this.parts.dialog.setStyles(te),CKEDITOR.event.call(this),this.definition=ee=CKEDITOR.fire("dialogDefinition",{name:_,definition:ee,dialog:this},s).definition,!("removeDialogTabs"in s._)&&s.config.removeDialogTabs){for(te=s.config.removeDialogTabs.split(";"),ie=0;ie<te.length;ie++)if(2==(ne=te[ie].split(":")).length){var ae=ne[0];oe[ae]||(oe[ae]=[]),oe[ae].push(ne[1])}s._.removeDialogTabs=oe}if(s._.removeDialogTabs&&(oe=s._.removeDialogTabs[_]))for(ie=0;ie<oe.length;ie++)ee.removeContents(oe[ie]);ee.onLoad&&this.on("load",ee.onLoad),ee.onShow&&this.on("show",ee.onShow),ee.onHide&&this.on("hide",ee.onHide),ee.onOk&&this.on("ok",(function(i){s.fire("saveSnapshot"),setTimeout((function(){s.fire("saveSnapshot")}),0),!1===ee.onOk.call(this,i)&&(i.data.hide=!1)})),this.state=CKEDITOR.DIALOG_STATE_IDLE,ee.onCancel&&this.on("cancel",(function(i){!1===ee.onCancel.call(this,i)&&(i.data.hide=!1)}));var re=this,t=function(i){var o,s=re._.contents;for(o in s)for(var _ in s[o])if(i.call(this,s[o][_]))return};this.on("ok",(function(i){t((function(o){if(o.validate){var s=o.validate(this),_="string"==typeof s||!1===s;return _&&(i.data.hide=!1,i.stop()),X.call(o,!_,"string"==typeof s?s:void 0),_}}))}),this,null,0),this.on("cancel",(function(i){t((function(o){if(o.isChanged())return s.config.dialog_noConfirmCancel||confirm(s.lang.common.confirmCancel)||(i.data.hide=!1),!0}))}),this,null,0),this.parts.close.on("click",(function(i){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),i.data.preventDefault()}),this),this.changeFocus=e;var se=this._.element;for(s.focusManager.add(se,1),this.on("show",(function(){se.on("keydown",d,this),CKEDITOR.env.gecko&&se.on("keypress",f,this)})),this.on("hide",(function(){se.removeListener("keydown",d),CKEDITOR.env.gecko&&se.removeListener("keypress",f),t((function(i){Y.apply(i)}))})),this.on("iframeAdded",(function(i){new CKEDITOR.dom.document(i.data.iframe.$.contentWindow.document).on("keydown",d,this,null,0)})),this.on("show",(function(){!function(){var i=re._.focusList;i.sort((function(i,o){return i.tabIndex!=o.tabIndex?o.tabIndex-i.tabIndex:i.focusIndex-o.focusIndex}));for(var o=i.length,s=0;s<o;s++)i[s].focusIndex=s}();var i=1<re._.pageCount;s.config.dialog_startupFocusTab&&i?(re._.tabBarMode=!0,re._.tabs[re._.currentTabId][0].focus(),re._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=i?-1:this._.focusList.length-1,ee.onFocus?(i=ee.onFocus.call(this))&&i.focus():e(1))}),this,null,4294967295),CKEDITOR.env.ie6Compat&&this.on("load",(function(){var i=this.getElement(),o=i.getFirst();o.remove(),o.appendTo(i)}),this),function(i){function b(o){var ee=i.getSize(),te=i.parts.dialog.getParent().getClientSize(),ne=o.data.$.screenX,ie=o.data.$.screenY,oe=ne-s.x,ae=ie-s.y;s={x:ne,y:ie},_.x+=oe,_.y+=ae,ne=_.x+Z[3]<j?-Z[3]:_.x-Z[1]>te.width-ee.width-j?te.width-ee.width+("rtl"==$.lang.dir?0:Z[1]):_.x,ee=_.y+Z[0]<j?-Z[0]:_.y-Z[2]>te.height-ee.height-j?te.height-ee.height+Z[2]:_.y,ne=Math.floor(ne),ee=Math.floor(ee),i.move(ne,ee,1),o.data.preventDefault()}function c(){if(CKEDITOR.document.removeListener("mousemove",b),CKEDITOR.document.removeListener("mouseup",c),CKEDITOR.env.ie6Compat){var i=o.getChild(0).getFrameDocument();i.removeListener("mousemove",b),i.removeListener("mouseup",c)}}var s=null,_=null,$=i.getParentEditor(),j=$.config.dialog_magnetDistance,Z=CKEDITOR.skin.margins||[0,0,0,0];void 0===j&&(j=20),i.parts.title.on("mousedown",(function($){if(!i._.moved){var j=i._.element;j.getFirst().setStyle("position","absolute"),j.removeStyle("display"),i._.moved=!0,i.layout()}s={x:$.data.$.screenX,y:$.data.$.screenY},CKEDITOR.document.on("mousemove",b),CKEDITOR.document.on("mouseup",c),_=i.getPosition(),CKEDITOR.env.ie6Compat&&((j=o.getChild(0).getFrameDocument()).on("mousemove",b),j.on("mouseup",c)),$.data.preventDefault()}),i)}(this),function(i){function b(o){var ne="rtl"==ie.lang.dir,oe=te.width,ae=te.height,re=oe+(o.data.$.screenX-ee.x)*(ne?-1:1)*(i._.moved?1:2),se=ae+(o.data.$.screenY-ee.y)*(i._.moved?1:2),le=i._.element.getFirst(),ce=(le=ne&&parseInt(le.getComputedStyle("right"),10),i.getPosition());ce.x=ce.x||0,ce.y=ce.y||0,ce.y+se>Z.height&&(se=Z.height-ce.y),(ne?le:ce.x)+re>Z.width&&(re=Z.width-(ne?le:ce.x)),se=Math.floor(se),re=Math.floor(re),_!=CKEDITOR.DIALOG_RESIZE_WIDTH&&_!=CKEDITOR.DIALOG_RESIZE_BOTH||(oe=Math.max(s.minWidth||0,re-$)),_!=CKEDITOR.DIALOG_RESIZE_HEIGHT&&_!=CKEDITOR.DIALOG_RESIZE_BOTH||(ae=Math.max(s.minHeight||0,se-j)),i.resize(oe,ae),i._.moved&&O(i,i._.position.x,i._.position.y),i._.moved||i.layout(),o.data.preventDefault()}function c(){if(CKEDITOR.document.removeListener("mouseup",c),CKEDITOR.document.removeListener("mousemove",b),ne&&(ne.remove(),ne=null),CKEDITOR.env.ie6Compat){var i=o.getChild(0).getFrameDocument();i.removeListener("mouseup",c),i.removeListener("mousemove",b)}}var s=i.definition,_=s.resizable;if(_!=CKEDITOR.DIALOG_RESIZE_NONE){var $,j,Z,ee,te,ne,ie=i.getParentEditor(),oe=CKEDITOR.tools.addFunction((function(s){function e(i){return i.isVisible()}te=i.getSize();var _=i.parts.contents,ie=_.$.getElementsByTagName("iframe").length,oe=!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks);ie&&(ne=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%; left:0; top:0;"></div>'),_.append(ne)),j=te.height-i.parts.contents.getFirst(e).getSize("height",oe),$=te.width-i.parts.contents.getFirst(e).getSize("width",1),ee={x:s.screenX,y:s.screenY},Z=CKEDITOR.document.getWindow().getViewPaneSize(),CKEDITOR.document.on("mousemove",b),CKEDITOR.document.on("mouseup",c),CKEDITOR.env.ie6Compat&&((_=o.getChild(0).getFrameDocument()).on("mousemove",b),_.on("mouseup",c)),s.preventDefault&&s.preventDefault()}));i.on("load",(function(){var o="";_==CKEDITOR.DIALOG_RESIZE_WIDTH?o=" cke_resizer_horizontal":_==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(o=" cke_resizer_vertical"),o=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+o+" cke_resizer_"+ie.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(ie.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+oe+', event )">'+("ltr"==ie.lang.dir?"◢":"◣")+"</div>"),i.parts.footer.append(o,1)})),ie.on("destroy",(function(){CKEDITOR.tools.removeFunction(oe)}))}}(this),new CKEDITOR.dom.text(ee.title,CKEDITOR.document).appendTo(this.parts.title),ie=0;ie<ee.contents.length;ie++)(oe=ee.contents[ie])&&this.addPage(oe);for(this.parts.tabs.on("click",(function(i){var o=i.data.getTarget();o.hasClass("cke_dialog_tab")&&(o=o.$.id,this.selectPage(o.substring(4,o.lastIndexOf("_"))),I(this),i.data.preventDefault())}),this),ie=[],oe=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:ee.buttons},ie).getChild(),this.parts.footer.setHtml(ie.join("")),ie=0;ie<oe.length;ie++)this._.buttons[oe[ie].id]=oe[ie]},CKEDITOR.dialog.prototype={destroy:function(){this.hide(),this._.element.remove()},resize:function(i,o){if(!this._.contentSize||this._.contentSize.width!=i||this._.contentSize.height!=o){if(CKEDITOR.dialog.fire("resize",{dialog:this,width:i,height:o},this._.editor),this.fire("resize",{width:i,height:o},this._.editor),this.parts.contents.setStyles({width:i+"px",height:o+"px"}),"rtl"==this._.editor.lang.dir&&this._.position){var s=this.parts.dialog.getParent().getClientSize().width;this._.position.x=s-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)}this._.contentSize={width:i,height:o}}},getSize:function(){var i=this._.element.getFirst();return{width:i.$.offsetWidth||0,height:i.$.offsetHeight||0}},move:function(i,o,s){var _=this._.element.getFirst(),$="rtl"==this._.editor.lang.dir;CKEDITOR.env.ie&&_.setStyle("zoom","100%");var j=this.parts.dialog.getParent().getClientSize(),Z=this.getSize(),ee=this._.viewportRatio,te=Math.max(j.width-Z.width,0);j=Math.max(j.height-Z.height,0);this._.position&&this._.position.x==i&&this._.position.y==o?(i=Math.floor(te*ee.width),o=Math.floor(j*ee.height)):O(this,i,o),this._.position={x:i,y:o},$&&(i=te-i),(o={top:(0<o?o:0)+"px"})[$?"right":"left"]=(0<i?i:0)+"px",_.setStyles(o),s&&(this._.moved=1)},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var i=this._.element,o=this.definition,s=CKEDITOR.document.getBody(),_=this._.editor.config.baseFloatZIndex;for(var j in i.getParent()&&i.getParent().equals(s)?i.setStyle("display",$?"flex":"block"):i.appendTo(s),this.resize(this._.contentSize&&this._.contentSize.width||o.width||o.minWidth,this._.contentSize&&this._.contentSize.height||o.height||o.minHeight),this.reset(),null===this._.currentTabId&&this.selectPage(this.definition.contents[0].id),null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=_),this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10),this.getElement().setStyle("z-index",CKEDITOR.dialog._.currentZIndex),null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,P(this._.editor)):CKEDITOR.dialog._.currentTop!==this&&(this._.parentDialog=CKEDITOR.dialog._.currentTop,(s=this._.parentDialog.getElement().getFirst()).$.style.zIndex-=Math.floor(_/2),this._.parentDialog.getElement().setStyle("z-index",s.$.style.zIndex),CKEDITOR.dialog._.currentTop=this),i.on("keydown",R),i.on("keyup",S),this._.hasFocus=!1,o.contents)if(o.contents[j]){i=o.contents[j],_=this._.tabs[i.id],s=i.requiredContent;var Z=0;if(_){for(var ee in this._.contents[i.id]){var te=this._.contents[i.id][ee];"hbox"!=te.type&&"vbox"!=te.type&&te.getInputElement()&&(te.requiredContent&&!this._.editor.activeFilter.check(te.requiredContent)?te.disable():(te.enable(),Z++))}!Z||s&&!this._.editor.activeFilter.check(s)?_[0].addClass("cke_dialog_tab_disabled"):_[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout((function(){this.layout(),function(i){function b(){i.layout()}var o=CKEDITOR.document.getWindow();o.on("resize",b),i.on("hide",(function(){o.removeListener("resize",b)}))}(this),this.parts.dialog.setStyle("visibility",""),this.fireOnce("load",{}),CKEDITOR.ui.fire("ready",this),this.fire("show",{}),this._.editor.fire("dialogShow",this),this._.parentDialog||this._.editor.focusManager.lock(),this.foreach((function(i){i.setInitValue&&i.setInitValue()}))}),100,this)},layout:function(){var i=this.parts.dialog;if(this._.moved||!$){var o,s=this.getSize(),_=CKEDITOR.document.getWindow().getViewPaneSize();this._.moved&&this._.position?(o=this._.position.x,s=this._.position.y):(o=(_.width-s.width)/2,s=(_.height-s.height)/2),CKEDITOR.env.ie6Compat||(i.setStyle("position","absolute"),i.removeStyle("margin")),o=Math.floor(o),s=Math.floor(s),this.move(o,s)}},foreach:function(i){for(var o in this._.contents)for(var s in this._.contents[o])i.call(this,this._.contents[o][s]);return this},reset:function(){var a=function(i){i.reset&&i.reset(1)};return function(){return this.foreach(a),this}}(),setupContent:function(){var i=arguments;this.foreach((function(o){o.setup&&o.setup.apply(o,i)}))},commitContent:function(){var i=arguments;this.foreach((function(o){CKEDITOR.env.ie&&this._.currentFocusIndex==o.focusIndex&&o.getInputElement().$.blur(),o.commit&&o.commit.apply(o,i)}))},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{}),this._.editor.fire("dialogHide",this),this.selectPage(this._.tabIdList[0]);var i=this._.element;for(i.setStyle("display","none"),this.parts.dialog.setStyle("visibility","hidden"),function(i){for(var o in ee){for(var s=ee[o],_=s.length-1;0<=_;_--)s[_].dialog!=i&&s[_].uiElement!=i||s.splice(_,1);0===s.length&&delete ee[o]}}(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var o=this._.parentDialog.getElement().getFirst(),s=parseInt(o.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2);this._.parentDialog.getElement().setStyle("z-index",s),o.setStyle("z-index",s)}else Q(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null,i.removeListener("keydown",R),i.removeListener("keyup",S);var _=this._.editor;_.focus(),setTimeout((function(){_.focusManager.unlock(),CKEDITOR.env.iOS&&_.window.focus()}),0)}delete this._.parentDialog,this.foreach((function(i){i.resetInitValue&&i.resetInitValue()})),this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(i){if(!i.requiredContent||this._.editor.filter.check(i.requiredContent)){for(var o=[],s=i.label?' title="'+CKEDITOR.tools.htmlEncode(i.label)+'"':"",_=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:i.elements,expand:!!i.expand,padding:i.padding,style:i.style||"width: 100%;"},o),$=this._.contents[i.id]={},j=_.getChild(),Z=0;_=j.shift();)_.notAllowed||"hbox"==_.type||"vbox"==_.type||Z++,$[_.id]=_,"function"==typeof _.getChild&&j.push.apply(j,_.getChild());Z||(i.hidden=!0),(o=CKEDITOR.dom.element.createFromHtml(o.join(""))).setAttribute("role","tabpanel"),o.setStyle("min-height","100%"),_=CKEDITOR.env,$="cke_"+i.id+"_"+CKEDITOR.tools.getNextNumber(),s=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",s,i.hidden?' style="display:none"':"",' id="',$,'"',_.gecko&&!_.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',i.label,"</a>"].join("")),o.setAttribute("aria-labelledby",$),this._.tabs[i.id]=[s,o],this._.tabIdList.push(i.id),!i.hidden&&this._.pageCount++,this._.lastTab=s,this.updateStyle(),o.setAttribute("name",i.id),o.appendTo(this.parts.contents),s.unselectable(),this.parts.tabs.append(s),i.accessKey&&(T(this,this,"CTRL+"+i.accessKey,ga,fa),this._.accessKeyMap["CTRL+"+i.accessKey]=i.id)}},selectPage:function(i){if(this._.currentTabId!=i&&!this._.tabs[i][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:i,currentPage:this._.currentTabId})){for(var o in this._.tabs){var s=this._.tabs[o][0],_=this._.tabs[o][1];o!=i&&(s.removeClass("cke_dialog_tab_selected"),s.removeAttribute("aria-selected"),_.hide()),_.setAttribute("aria-hidden",o!=i)}var $=this._.tabs[i];$[0].addClass("cke_dialog_tab_selected"),$[0].setAttribute("aria-selected",!0),CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(K($[1]),$[1].show(),setTimeout((function(){K($[1],1)}),0)):$[1].show(),this._.currentTabId=i,this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,i)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(i){var o=this._.tabs[i]&&this._.tabs[i][0];o&&1!=this._.pageCount&&o.isVisible()&&(i==this._.currentTabId&&this.selectPage(J.call(this)),o.hide(),this._.pageCount--,this.updateStyle())},showPage:function(i){(i=this._.tabs[i]&&this._.tabs[i][0])&&(i.show(),this._.pageCount++,this.updateStyle())},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(i,o){var s=this._.contents[i];return s&&s[o]},getValueOf:function(i,o){return this.getContentElement(i,o).getValue()},setValueOf:function(i,o,s){return this.getContentElement(i,o).setValue(s)},getButton:function(i){return this._.buttons[i]},click:function(i){return this._.buttons[i].click()},disableButton:function(i){return this._.buttons[i].disable()},enableButton:function(i){return this._.buttons[i].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(i,o){if(void 0===o)o=this._.focusList.length,this._.focusList.push(new L(this,i,o));else{this._.focusList.splice(o,0,new L(this,i,o));for(var s=o+1;s<this._.focusList.length;s++)this._.focusList[s].focusIndex++}},setState:function(i){if(this.state!=i){if(this.state=i,i==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var o=this.getParentEditor().lang.dir,s={attributes:{class:"cke_dialog_spinner"},styles:{float:"rtl"==o?"right":"left"}};s.styles["margin-"+("rtl"==o?"left":"right")]="8px",this.parts.spinner=CKEDITOR.document.createElement("div",s),this.parts.spinner.setHtml("&#8987;"),this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show(),this.getButton("ok")&&this.getButton("ok").disable()}else i==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok")&&this.getButton("ok").enable());this.fire("state",i)}},getModel:function(i){return this._.model?this._.model:this.definition.getModel?this.definition.getModel(i):null},setModel:function(i){this._.model=i},getMode:function(i){return this.definition.getMode?this.definition.getMode(i):!(i=this.getModel(i))||i instanceof CKEDITOR.dom.element&&!i.getParent()?CKEDITOR.dialog.CREATION_MODE:CKEDITOR.dialog.EDITING_MODE}},CKEDITOR.tools.extend(CKEDITOR.dialog,{CREATION_MODE:0,EDITING_MODE:1,add:function(i,o){this._.dialogDefinitions[i]&&"function"!=typeof o||(this._.dialogDefinitions[i]=o)},exists:function(i){return!!this._.dialogDefinitions[i]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(i,o,s){return!((i=i.config.removeDialogTabs)&&i.match(new RegExp("(?:^|;)"+o+":"+s+"(?:$|;)","i")))},okButton:function(){var a=function(i,o){return o=o||{},CKEDITOR.tools.extend({id:"ok",type:"button",label:i.lang.common.ok,class:"cke_dialog_ui_button_ok",onClick:function(i){!1!==(i=i.data.dialog).fire("ok",{hide:!0}).hide&&i.hide()}},o,!0)};return a.type="button",a.override=function(i){return CKEDITOR.tools.extend((function(o){return a(o,i)}),{type:"button"},!0)},a}(),cancelButton:function(){var a=function(i,o){return o=o||{},CKEDITOR.tools.extend({id:"cancel",type:"button",label:i.lang.common.cancel,class:"cke_dialog_ui_button_cancel",onClick:function(i){!1!==(i=i.data.dialog).fire("cancel",{hide:!0}).hide&&i.hide()}},o,!0)};return a.type="button",a.override=function(i){return CKEDITOR.tools.extend((function(o){return a(o,i)}),{type:"button"},!0)},a}(),addUIElement:function(i,o){this._.uiElementBuilders[i]=o}}),CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null},CKEDITOR.event.implementOn(CKEDITOR.dialog),CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype),i={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]};var E=function(i,o,s){for(var _,$=0;_=i[$];$++)if(_.id==o||s&&_[s]&&(_=E(_[s],o,s)))return _;return null},F=function(i,o,s,_,$){if(s){for(var j,Z=0;j=i[Z];Z++){if(j.id==s)return i.splice(Z,0,o),o;if(_&&j[_]&&(j=F(j[_],o,s,_,!0)))return j}if($)return null}return i.push(o),o},G=function(i,o,s){for(var _,$=0;_=i[$];$++){if(_.id==o)return i.splice($,1);if(s&&_[s]&&(_=G(_[s],o,s)))return _}return null};M.prototype={getContents:function(i){return E(this.contents,i)},getButton:function(i){return E(this.buttons,i)},addContents:function(i,o){return F(this.contents,i,o)},addButton:function(i,o){return F(this.buttons,i,o)},removeContents:function(i){G(this.contents,i)},removeButton:function(i){G(this.buttons,i)}},N.prototype={get:function(i){return E(this.elements,i,"children")},add:function(i,o){return F(this.elements,i,o,"children")},remove:function(i){G(this.elements,i,"children")}};var Z={},ee={};CKEDITOR.ui.dialog={uiElement:function(i,o,s,_,$,j,Z){if(!(4>arguments.length)){var ee=(_.call?_(o):_)||"div",te=["<",ee," "],ne=($&&$.call?$(o):$)||{},ie=(j&&j.call?j(o):j)||{},oe=(Z&&Z.call?Z.call(this,i,o):Z)||"",ae=this.domId=ie.id||CKEDITOR.tools.getNextId()+"_uiElement";o.requiredContent&&!i.getParentEditor().filter.check(o.requiredContent)&&(ne.display="none",this.notAllowed=!0),ie.id=ae;var re={};o.type&&(re["cke_dialog_ui_"+o.type]=1),o.className&&(re[o.className]=1),o.disabled&&(re.cke_disabled=1);var se=ie.class&&ie.class.split?ie.class.split(" "):[];for(ae=0;ae<se.length;ae++)se[ae]&&(re[se[ae]]=1);for(ae in se=[],re)se.push(ae);for(ae in ie.class=se.join(" "),o.title&&(ie.title=o.title),re=(o.style||"").split(";"),o.align&&(se=o.align,ne["margin-left"]="left"==se?0:"auto",ne["margin-right"]="right"==se?0:"auto"),ne)re.push(ae+":"+ne[ae]);for(o.hidden&&re.push("display:none"),ae=re.length-1;0<=ae;ae--)""===re[ae]&&re.splice(ae,1);for(ae in 0<re.length&&(ie.style=(ie.style?ie.style+"; ":"")+re.join("; ")),ie)te.push(ae+'="'+CKEDITOR.tools.htmlEncode(ie[ae])+'" ');te.push(">",oe,"</",ee,">"),s.push(te.join("")),(this._||(this._={})).dialog=i,"boolean"==typeof o.isChanged&&(this.isChanged=function(){return o.isChanged}),"function"==typeof o.isChanged&&(this.isChanged=o.isChanged),"function"==typeof o.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,(function(i){return function(s){i.call(this,o.setValue.call(this,s))}}))),"function"==typeof o.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,(function(i){return function(){return o.getValue.call(this,i.call(this))}}))),CKEDITOR.event.implementOn(this),this.registerEvents(o),this.accessKeyUp&&this.accessKeyDown&&o.accessKey&&T(this,i,"CTRL+"+o.accessKey);var le=this;i.on("load",(function(){var o=le.getInputElement();if(o){var s=le.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?"cke_dialog_ui_focused":"";o.on("focus",(function(){i._.tabBarMode=!1,i._.hasFocus=!0,le.fire("focus"),s&&this.addClass(s)})),o.on("blur",(function(){le.fire("blur"),s&&this.removeClass(s)}))}})),CKEDITOR.tools.extend(this,o),this.keyboardFocusable&&(this.tabIndex=o.tabIndex||0,this.focusIndex=i._.focusList.push(this)-1,this.on("focus",(function(){i._.currentFocusIndex=le.focusIndex})))}},hbox:function(i,o,_,$,j){if(!(4>arguments.length)){this._||(this._={});var Z,ee=this._.children=o,te=j&&j.widths||null,ne=j&&j.height||null,ie={role:"presentation"};j&&j.align&&(ie.align=j.align),CKEDITOR.ui.dialog.uiElement.call(this,i,j||{type:"hbox"},$,"table",{},ie,(function(){var i=['<tbody><tr class="cke_dialog_ui_hbox">'];for(Z=0;Z<_.length;Z++){var o="cke_dialog_ui_hbox_child",$=[];0===Z&&(o="cke_dialog_ui_hbox_first"),Z==_.length-1&&(o="cke_dialog_ui_hbox_last"),i.push('<td class="',o,'" role="presentation" '),te?te[Z]&&$.push("width:"+s(te[Z])):$.push("width:"+Math.floor(100/_.length)+"%"),ne&&$.push("height:"+s(ne)),j&&void 0!==j.padding&&$.push("padding:"+s(j.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&ee[Z].align&&$.push("text-align:"+ee[Z].align),0<$.length&&i.push('style="'+$.join("; ")+'" '),i.push(">",_[Z],"</td>")}return i.push("</tr></tbody>"),i.join("")}))}},vbox:function(i,o,_,$,j){if(!(3>arguments.length)){this._||(this._={});var Z=this._.children=o,ee=j&&j.width||null,te=j&&j.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,i,j||{type:"vbox"},$,"div",null,{role:"presentation"},(function(){var o=['<table role="presentation" cellspacing="0" border="0" '];o.push('style="'),j&&j.expand&&o.push("height:100%;"),o.push("width:"+s(ee||"100%"),";"),CKEDITOR.env.webkit&&o.push("float:none;"),o.push('"'),o.push('align="',CKEDITOR.tools.htmlEncode(j&&j.align||("ltr"==i.getParentEditor().lang.dir?"left":"right")),'" '),o.push("><tbody>");for(var $=0;$<_.length;$++){var ne=[];o.push('<tr><td role="presentation" '),ee&&ne.push("width:"+s(ee||"100%")),te?ne.push("height:"+s(te[$])):j&&j.expand&&ne.push("height:"+Math.floor(100/_.length)+"%"),j&&void 0!==j.padding&&ne.push("padding:"+s(j.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&Z[$].align&&ne.push("text-align:"+Z[$].align),0<ne.length&&o.push('style="',ne.join("; "),'" '),o.push(' class="cke_dialog_ui_vbox_child">',_[$],"</td></tr>")}return o.push("</tbody></table>"),o.join("")}))}}},CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(i,o){return this.getInputElement().setValue(i),!o&&this.fire("change",{value:i}),this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var i=this.getInputElement();(i=i.getParent())&&-1==i.$.className.search("cke_dialog_page_contents"););return i?(i=i.getAttribute("name"),this._.dialog._.currentTabId!=i&&this._.dialog.selectPage(i),this):this},focus:function(){return this.selectParentTab().getInputElement().focus(),this},registerEvents:function(i){var o,s,_=/^on([A-Z]\w+)/,e=function(i,o,s,_){o.on("load",(function(){i.getInputElement().on(s,_,i)}))};for(s in i)(o=s.match(_))&&(this.eventProcessors[s]?this.eventProcessors[s].call(this,this._.dialog,i[s]):e(this,this._.dialog,o[1].toLowerCase(),i[s]));return this},eventProcessors:{onLoad:function(i,o){i.on("load",o,this)},onShow:function(i,o){i.on("show",o,this)},onHide:function(i,o){i.on("hide",o,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var i=this.getElement();this.getInputElement().setAttribute("disabled","true"),i.addClass("cke_disabled")},enable:function(){var i=this.getElement();this.getInputElement().removeAttribute("disabled"),i.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return!(!this.isEnabled()||!this.isVisible())}},CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(i){return 1>arguments.length?this._.children.concat():(i.splice||(i=[i]),2>i.length?this._.children[i[0]]:this._.children[i[0]]&&this._.children[i[0]].getChild?this._.children[i[0]].getChild(i.slice(1,i.length)):null)}},!0),CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox,function(){var i={build:function(i,o,s){for(var _,$=o.children,j=[],Z=[],ee=0;ee<$.length&&(_=$[ee]);ee++){var te=[];j.push(te),Z.push(CKEDITOR.dialog._.uiElementBuilders[_.type].build(i,_,te))}return new CKEDITOR.ui.dialog[o.type](i,Z,j,s,o)}};CKEDITOR.dialog.addUIElement("hbox",i),CKEDITOR.dialog.addUIElement("vbox",i)}(),CKEDITOR.dialogCommand=function(i,o){this.dialogName=i,CKEDITOR.tools.extend(this,o,!0)},CKEDITOR.dialogCommand.prototype={exec:function(i){var o=this.tabId;i.openDialog(this.dialogName,(function(i){o&&i.selectPage(o)}))},canUndo:!1,editorFocus:1},function(){var i=/^\d*$/,o=/^\d*(?:\.\d+)?$/,s=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,_=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,$=/^(--|-?([a-zA-Z_]|\\))(\\|[a-zA-Z0-9-_])*\s*?:\s*?[^:;]+$/;CKEDITOR.VALIDATE_OR=1,CKEDITOR.VALIDATE_AND=2,CKEDITOR.dialog.validate={functions:function(){var i=arguments;return function(o){this&&this.getValue&&(o=this.getValue());var s,_,$=CKEDITOR.VALIDATE_AND,j=[];for(_=0;_<i.length&&"function"==typeof i[_];_++)j.push(i[_]);_<i.length&&"string"==typeof i[_]&&(s=i[_],_++),_<i.length&&"number"==typeof i[_]&&($=i[_]),_=$==CKEDITOR.VALIDATE_AND;for(var Z=0;Z<j.length;Z++){var ee=!0===j[Z](o);_=$==CKEDITOR.VALIDATE_AND?_&&ee:_||ee}return!!_||s}},regex:function(i,o){return this.functions((function(o){return i.test(o)}),o)},notEmpty:function(i){return this.functions((function(i){return 0<i.replace(RegExp("^[\\u0020\\u00a0\\u1680\\u202f\\u205f\\u3000\\u2000-\\u200a\\s]+|[\\u0020\\u00a0\\u1680\\u202f\\u205f\\u3000\\u2000-\\u200a\\s]+$","g"),"").length}),i)},integer:function(o){return this.regex(i,o)},number:function(i){return this.regex(o,i)},cssLength:function(i){return this.functions((function(i){return _.test(CKEDITOR.tools.trim(i))}),i)},htmlLength:function(i){return this.functions((function(i){return s.test(CKEDITOR.tools.trim(i))}),i)},inlineStyle:function(i){return this.functions((function(i){return""===(i=CKEDITOR.tools.trim(i).split(";"))[i.length-1]&&i.pop(),CKEDITOR.tools.array.every(i,(function(i){return $.test(CKEDITOR.tools.trim(i))}))}),i)},equals:function(i,o){return this.functions((function(o){return o==i}),o)},notEqual:function(i,o){return this.functions((function(o){return o!=i}),o)}},CKEDITOR.on("instanceDestroyed",(function(i){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var o;o=CKEDITOR.dialog._.currentTop;)o.hide();for(var s in Z)Z[s].remove();Z={}}for(var _ in i=i.editor._.storedDialogs)i[_].destroy()}))}(),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(i,o,s){var _=null,$=CKEDITOR.dialog._.dialogDefinitions[i];if(null===CKEDITOR.dialog._.currentTop&&P(this),"function"==typeof $)$=this._.storedDialogs||(this._.storedDialogs={}),(_=$[i]||($[i]=new CKEDITOR.dialog(this,i))).setModel(s),o&&o.call(_,_),_.show();else{if("failed"==$)throw Q(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+i+'" failed when loading definition.');"string"==typeof $&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl($),(function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[i]&&(CKEDITOR.dialog._.dialogDefinitions[i]="failed"),this.openDialog(i,o,s)}),this,0,1)}return CKEDITOR.skin.loadPart("dialog"),_&&_.once("hide",(function(){_.setModel(null)}),null,null,999),_}}),CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(i){_||(CKEDITOR.document.appendStyleSheet(this.path+"styles/dialog.css"),_=!0),i.on("doubleclick",(function(o){o.data.dialog&&i.openDialog(o.data.dialog)}),null,null,999)}})}(),CKEDITOR.plugins.add("about",{requires:"dialog",init:function(i){var o=i.addCommand("about",new CKEDITOR.dialogCommand("about"));o.modes={wysiwyg:1,source:1},o.canUndo=!1,o.readOnly=1,i.ui.addButton&&i.ui.addButton("About",{label:i.lang.about.dlgTitle,command:"about",toolbar:"about"}),CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}}),CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(i){var o=this;i.addCommand("a11yHelp",{exec:function(){var s=i.langCode;s=o.availableLangs[s]?s:o.availableLangs[s.replace(/-.*/,"")]?s.replace(/-.*/,""):"en",CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(o.path+"dialogs/lang/"+s+".js"),(function(){i.lang.a11yhelp=o.langEntries[s],i.openDialog("a11yHelp")}))},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1}),i.setKeystroke(CKEDITOR.ALT+48,"a11yHelp"),CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js"),i.on("ariaEditorHelpLabel",(function(o){o.data.label=i.lang.common.editorHelp}))}}),function(){function f(i){var o=this.att;void 0!==(i=i&&i.hasAttribute(o)&&i.getAttribute(o)||"")&&this.setValue(i)}function g(){for(var i,o=0;o<arguments.length;o++)if(arguments[o]instanceof CKEDITOR.dom.element){i=arguments[o];break}if(i){o=this.att;var s=this.getValue();s?i.setAttribute(o,s):i.removeAttribute(o,s)}}var i={id:1,dir:1,classes:1,styles:1};CKEDITOR.plugins.add("dialogadvtab",{requires:"dialog",allowedContent:function(o){o||(o=i);var s=[];o.id&&s.push("id"),o.dir&&s.push("dir");var _="";return s.length&&(_+="["+s.join(",")+"]"),o.classes&&(_+="(*)"),o.styles&&(_+="{*}"),_},createAdvancedTab:function(o,s,_){s||(s=i);var $=o.lang.common,j={id:"advanced",label:$.advancedTab,title:$.advancedTab,elements:[{type:"vbox",padding:1,children:[]}]},Z=[];return(s.id||s.dir)&&(s.id&&Z.push({id:"advId",att:"id",type:"text",requiredContent:_?_+"[id]":null,label:$.id,setup:f,commit:g}),s.dir&&Z.push({id:"advLangDir",att:"dir",type:"select",requiredContent:_?_+"[dir]":null,label:$.langDir,default:"",style:"width:100%",items:[[$.notSet,""],[$.langDirLTR,"ltr"],[$.langDirRTL,"rtl"]],setup:f,commit:g}),j.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(Z)})),(s.styles||s.classes)&&(Z=[],s.styles&&Z.push({id:"advStyles",att:"style",type:"text",requiredContent:_?_+"{cke-xyz}":null,label:$.styles,default:"",validate:CKEDITOR.dialog.validate.inlineStyle($.invalidInlineStyle),onChange:function(){},getStyle:function(i,o){var s=this.getValue().match(new RegExp("(?:^|;)\\s*"+i+"\\s*:\\s*([^;]*)","i"));return s?s[1]:o},updateStyle:function(i,s){var _=this.getValue(),$=o.document.createElement("span");$.setAttribute("style",_),$.setStyle(i,s),_=CKEDITOR.tools.normalizeCssText($.getAttribute("style")),this.setValue(_,1)},setup:f,commit:g}),s.classes&&Z.push({type:"hbox",widths:["45%","55%"],children:[{id:"advCSSClasses",att:"class",type:"text",requiredContent:_?_+"(cke-xyz)":null,label:$.cssClasses,default:"",setup:f,commit:g}]}),j.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(Z)})),j}})}(),CKEDITOR.plugins.add("basicstyles",{init:function(i){var o=0,d=function(_,$,j,Z){if(Z){Z=new CKEDITOR.style(Z);var ee=s[j];ee.unshift(Z),i.attachStyleStateChange(Z,(function(o){!i.readOnly&&i.getCommand(j).setState(o)})),i.addCommand(j,new CKEDITOR.styleCommand(Z,{contentForms:ee})),i.ui.addButton&&i.ui.addButton(_,{isToggle:!0,label:$,command:j,toolbar:"basicstyles,"+(o+=10)})}},s={bold:["strong","b",["span",function(i){return"bold"==(i=i.styles["font-weight"])||700<=+i}]],italic:["em","i",["span",function(i){return"italic"==i.styles["font-style"]}]],underline:["u",["span",function(i){return"underline"==i.styles["text-decoration"]}]],strike:["s","strike",["span",function(i){return"line-through"==i.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},_=i.config,$=i.lang.basicstyles;d("Bold",$.bold,"bold",_.coreStyles_bold),d("Italic",$.italic,"italic",_.coreStyles_italic),d("Underline",$.underline,"underline",_.coreStyles_underline),d("Strike",$.strike,"strike",_.coreStyles_strike),d("Subscript",$.subscript,"subscript",_.coreStyles_subscript),d("Superscript",$.superscript,"superscript",_.coreStyles_superscript),i.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])},afterInit:function(i){if(i.config.coreStyles_toggleSubSup){var o=i.getCommand("subscript"),s=i.getCommand("superscript");o&&s&&i.on("afterCommandExec",(function(_){if("subscript"===(_=_.data.name)||"superscript"===_){var $="subscript"===_?s:o;("subscript"===_?o:s).state===CKEDITOR.TRISTATE_ON&&$.state===CKEDITOR.TRISTATE_ON&&($.exec(i),i.fire("updateSnapshot"))}}))}}}),CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"},CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"},CKEDITOR.config.coreStyles_underline={element:"u"},CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"},CKEDITOR.config.coreStyles_subscript={element:"sub"},CKEDITOR.config.coreStyles_superscript={element:"sup"},CKEDITOR.config.coreStyles_toggleSubSup=!1,function(){function q(i,o,s,_){if(!i.isReadOnly()&&!i.equals(s.editable())){CKEDITOR.dom.element.setMarker(_,i,"bidi_processed",1),_=i;for(var $=s.editable();(_=_.getParent())&&!_.equals($);)if(_.getCustomData("bidi_processed"))return i.removeStyle("direction"),void i.removeAttribute("dir");((_=s.config.useComputedState)?i.getComputedStyle("direction"):i.getStyle("direction")||i.hasAttribute("dir"))!=o&&(i.removeStyle("direction"),_?(i.removeAttribute("dir"),o!=i.getComputedStyle("direction")&&i.setAttribute("dir",o)):i.setAttribute("dir",o),s.forceNextSelectionCheck())}}function v(i,o,s){var _=i.getCommonAncestor(!1,!0);if((i=i.clone()).enlarge(s==CKEDITOR.ENTER_BR?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),i.checkBoundaryOfElement(_,CKEDITOR.START)&&i.checkBoundaryOfElement(_,CKEDITOR.END)){for(var $;_&&_.type==CKEDITOR.NODE_ELEMENT&&($=_.getParent())&&1==$.getChildCount()&&!(_.getName()in o);)_=$;return _.type==CKEDITOR.NODE_ELEMENT&&_.getName()in o&&_}}function p(_){return{context:"p",allowedContent:{"h1 h2 h3 h4 h5 h6 table ul ol blockquote div tr p div li td":{propertiesOnly:!0,attributes:"dir"}},requiredContent:"p[dir]",refresh:function(i,o){var _,$=i.config.useComputedState;if(!$){_=o.lastElement;for(var j=i.editable();_&&!(_.getName()in s)&&!_.equals(j);){var Z=_.getParent();if(!Z)break;_=Z}}(_=_||o.block||o.blockLimit).equals(i.editable())&&(j=i.getSelection().getRanges()[0].getEnclosedNode())&&j.type==CKEDITOR.NODE_ELEMENT&&(_=j),_&&($=$?_.getComputedStyle("direction"):_.getStyle("direction")||_.getAttribute("dir"),i.getCommand("bidirtl").setState("rtl"==$?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),i.getCommand("bidiltr").setState("ltr"==$?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)),($=(o.block||o.blockLimit||i.editable()).getDirection(1))!=(i._.selDir||i.lang.dir)&&(i._.selDir=$,i.fire("contentDirChanged",$))},exec:function(s){var $=s.getSelection(),j=s.config.enterMode;if((ne=$.getRanges())&&ne.length){for(var Z,ee={},te=$.createBookmarks(),ne=ne.createIterator(),ie=0;Z=ne.getNextRange(1);){var oe=Z.getEnclosedNode();oe&&(!oe||oe.type==CKEDITOR.NODE_ELEMENT&&oe.getName()in o)||(oe=v(Z,i,j)),oe&&q(oe,_,s,ee);var ae=new CKEDITOR.dom.walker(Z),re=te[ie].startNode,se=te[ie++].endNode;for(ae.evaluator=function(o){var s,_=j==CKEDITOR.ENTER_P?"p":"div";return(s=!!o&&o.type==CKEDITOR.NODE_ELEMENT&&o.getName()in i)&&((_=o.is(_))&&(_=!!(_=o.getParent())&&_.type==CKEDITOR.NODE_ELEMENT),s=!(_&&o.getParent().is("blockquote"))),!!(s&&o.getPosition(re)&CKEDITOR.POSITION_FOLLOWING&&(o.getPosition(se)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_CONTAINS)==CKEDITOR.POSITION_PRECEDING)};oe=ae.next();)q(oe,_,s,ee);for((Z=Z.createIterator()).enlargeBr=j!=CKEDITOR.ENTER_BR;oe=Z.getNextParagraph(j==CKEDITOR.ENTER_P?"p":"div");)q(oe,_,s,ee)}CKEDITOR.dom.element.clearAllMarkers(ee),s.forceNextSelectionCheck(),$.selectBookmarks(te),s.focus()}}}}function w(i){var o=i==_.setAttribute,s=i==_.removeAttribute,$=/\bdirection\s*:\s*(.*?)\s*(:?$|;)/;return function(_,j){if(!this.isReadOnly()){var Z;if(Z=_==(o||s?"dir":"direction")||"style"==_&&(s||$.test(j))){e:{for(var ee=(Z=this).getDocument().getBody().getParent();Z;){if(Z.equals(ee)){Z=!1;break e}Z=Z.getParent()}Z=!0}Z=!Z}if(Z&&(Z=this.getDirection(1),ee=i.apply(this,arguments),Z!=this.getDirection(1)))return this.getDocument().fire("dirChanged",this),ee}return i.apply(this,arguments)}}var i={table:1,ul:1,ol:1,blockquote:1,div:1},o={},s={};CKEDITOR.tools.extend(o,i,{tr:1,p:1,div:1,li:1}),CKEDITOR.tools.extend(s,o,{td:1}),CKEDITOR.plugins.add("bidi",{init:function(i){function f(o,s,_,$,j){i.addCommand(_,new CKEDITOR.command(i,$)),i.ui.addButton&&i.ui.addButton(o,{isToggle:!0,label:s,command:_,toolbar:"bidi,"+j})}if(!i.blockless){var o=i.lang.bidi;f("BidiLtr",o.ltr,"bidiltr",p("ltr"),10),f("BidiRtl",o.rtl,"bidirtl",p("rtl"),20),i.on("contentDom",(function(){i.document.on("dirChanged",(function(o){i.fire("dirChanged",{node:o.data,dir:o.data.getDirection(1)})}))})),i.on("contentDirChanged",(function(o){o=(i.lang.dir!=o.data?"add":"remove")+"Class";var s=i.ui.space(i.config.toolbarLocation);s&&s[o]("cke_mixed_dir_content")}))}}});for(var _=CKEDITOR.dom.element.prototype,$=["setStyle","removeStyle","setAttribute","removeAttribute"],j=0;j<$.length;j++)_[$[j]]=CKEDITOR.tools.override(_[$[j]],w)}(),_={exec:function(i){var o=i.getCommand("blockquote").state,s=i.getSelection(),_=s&&s.getRanges()[0];if(_){var $=s.createBookmarks();if(CKEDITOR.env.ie){var j,Z=$[0].startNode,ee=$[0].endNode;if(Z&&"blockquote"==Z.getParent().getName())for(j=Z;j=j.getNext();)if(j.type==CKEDITOR.NODE_ELEMENT&&j.isBlockBoundary()){Z.move(j,!0);break}if(ee&&"blockquote"==ee.getParent().getName())for(j=ee;j=j.getPrevious();)if(j.type==CKEDITOR.NODE_ELEMENT&&j.isBlockBoundary()){ee.move(j);break}}if((te=_.createIterator()).enlargeBr=i.config.enterMode!=CKEDITOR.ENTER_BR,o==CKEDITOR.TRISTATE_OFF){for(Z=[];o=te.getNextParagraph();)Z.push(o);for(1>Z.length&&(o=i.document.createElement(i.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),ee=$.shift(),_.insertNode(o),o.append(new CKEDITOR.dom.text("\ufeff",i.document)),_.moveToBookmark(ee),_.selectNodeContents(o),_.collapse(!0),ee=_.createBookmark(),Z.push(o),$.unshift(ee)),j=Z[0].getParent(),_=[],ee=0;ee<Z.length;ee++)o=Z[ee],j=j.getCommonAncestor(o.getParent());for(o={table:1,tbody:1,tr:1,ol:1,ul:1};o[j.getName()];)j=j.getParent();for(ee=null;0<Z.length;){for(o=Z.shift();!o.getParent().equals(j);)o=o.getParent();o.equals(ee)||_.push(o),ee=o}for(;0<_.length;)if("blockquote"==(o=_.shift()).getName()){for(ee=new CKEDITOR.dom.documentFragment(i.document);o.getFirst();)ee.append(o.getFirst().remove()),Z.push(ee.getLast());ee.replace(o)}else Z.push(o);for((_=i.document.createElement("blockquote")).insertBefore(Z[0]);0<Z.length;)o=Z.shift(),_.append(o)}else if(o==CKEDITOR.TRISTATE_ON){for(ee=[],j={};o=te.getNextParagraph();){for(Z=_=null;o.getParent();){if("blockquote"==o.getParent().getName()){_=o.getParent(),Z=o;break}o=o.getParent()}_&&Z&&!Z.getCustomData("blockquote_moveout")&&(ee.push(Z),CKEDITOR.dom.element.setMarker(j,Z,"blockquote_moveout",!0))}for(CKEDITOR.dom.element.clearAllMarkers(j),o=[],Z=[],j={};0<ee.length;)_=(te=ee.shift()).getParent(),te.getPrevious()?te.getNext()?(te.breakParent(te.getParent()),Z.push(te.getNext())):te.remove().insertAfter(_):te.remove().insertBefore(_),_.getCustomData("blockquote_processed")||(Z.push(_),CKEDITOR.dom.element.setMarker(j,_,"blockquote_processed",!0)),o.push(te);for(CKEDITOR.dom.element.clearAllMarkers(j),ee=Z.length-1;0<=ee;ee--){e:{for(var te=0,ne=(j=_=Z[ee]).getChildCount(),ie=void 0;te<ne&&(ie=j.getChild(te));te++)if(ie.type==CKEDITOR.NODE_ELEMENT&&ie.isBlockBoundary()){j=!1;break e}j=!0}j&&_.remove()}if(i.config.enterMode==CKEDITOR.ENTER_BR)for(_=!0;o.length;)if("div"==(te=o.shift()).getName()){for(ee=new CKEDITOR.dom.documentFragment(i.document),!_||!te.getPrevious()||te.getPrevious().type==CKEDITOR.NODE_ELEMENT&&te.getPrevious().isBlockBoundary()||ee.append(i.document.createElement("br")),_=te.getNext()&&!(te.getNext().type==CKEDITOR.NODE_ELEMENT&&te.getNext().isBlockBoundary());te.getFirst();)te.getFirst().remove().appendTo(ee);_&&ee.append(i.document.createElement("br")),ee.replace(te),_=!1}}s.selectBookmarks($),i.focus()}},refresh:function(i,o){this.setState(i.elementPath(o.block||o.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"},CKEDITOR.plugins.add("blockquote",{init:function(i){i.blockless||(i.addCommand("blockquote",_),i.ui.addButton&&i.ui.addButton("Blockquote",{isToggle:!0,label:i.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}}),function(){function q(i,o){CKEDITOR.tools.extend(this,o,{editor:i,id:"cke-"+CKEDITOR.tools.getUniqueId(),area:i._.notificationArea}),o.type||(this.type="info"),this.element=this._createElement(),i.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function r(i){var o=this;this.editor=i,this.notifications=[],this.element=this._createElement(),this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this),this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,this),i.on("destroy",(function(){o._removeListeners(),o.element.remove()}))}CKEDITOR.plugins.add("notification",{init:function(i){i._.notificationArea=new r(i),i.showNotification=function(o,s,_){var $,j;return"progress"==s?$=_:j=_,(o=new CKEDITOR.plugins.notification(i,{message:o,type:s,progress:$,duration:j})).show(),o},i.on("key",(function(o){if(27==o.data.keyCode){var s=i._.notificationArea.notifications;s.length&&(function(i){var o=new CKEDITOR.dom.element("div");o.setStyles({position:"fixed","margin-left":"-9999px"}),o.setAttributes({"aria-live":"assertive","aria-atomic":"true"}),o.setText(i),CKEDITOR.document.getBody().append(o),setTimeout((function(){o.remove()}),100)}(i.lang.notification.closed),s[s.length-1].hide(),o.cancel())}}))}}),q.prototype={show:function(){!1!==this.editor.fire("notificationShow",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(i){var o=!0;!1===this.editor.fire("notificationUpdate",{notification:this,options:i})&&(o=!1);var s=this.element,_=s.findOne(".cke_notification_message"),$=s.findOne(".cke_notification_progress"),j=i.type;s.removeAttribute("role"),i.progress&&"progress"!=this.type&&(j="progress"),j&&(s.removeClass(this._getClass()),s.removeAttribute("aria-label"),this.type=j,s.addClass(this._getClass()),s.setAttribute("aria-label",this.type),"progress"!=this.type||$?"progress"!=this.type&&$&&$.remove():($=this._createProgressElement()).insertBefore(_)),void 0!==i.message&&(this.message=i.message,_.setHtml(this.message)),void 0!==i.progress&&(this.progress=i.progress,$&&$.setStyle("width",this._getPercentageProgress())),o&&i.important&&(s.setAttribute("role","alert"),this.isVisible()||this.area.add(this)),this.duration=i.duration,this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire("notificationHide",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var i,o,s=this,_=this.editor.lang.common.close;return(i=new CKEDITOR.dom.element("div")).addClass("cke_notification"),i.addClass(this._getClass()),i.setAttributes({id:this.id,role:"alert","aria-label":this.type}),"progress"==this.type&&i.append(this._createProgressElement()),(o=new CKEDITOR.dom.element("p")).addClass("cke_notification_message"),o.setHtml(this.message),i.append(o),o=CKEDITOR.dom.element.createFromHtml('<a class="cke_notification_close" href="javascript:void(0)" title="'+_+'" role="button" tabindex="-1"><span class="cke_label">X</span></a>'),i.append(o),o.on("click",(function(){s.editor.focus(),s.hide()})),i},_getClass:function(){return"progress"==this.type?"cke_notification_info":"cke_notification_"+this.type},_createProgressElement:function(){var i=new CKEDITOR.dom.element("span");return i.addClass("cke_notification_progress"),i.setStyle("width",this._getPercentageProgress()),i},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+"%"},_hideAfterTimeout:function(){var i,o=this;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),"number"==typeof this.duration?i=this.duration:"info"!=this.type&&"success"!=this.type||(i="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5e3),i&&(o._hideTimeoutId=setTimeout((function(){o.hide()}),i))}},r.prototype={add:function(i){this.notifications.push(i),this.element.append(i.element),1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners()),this._layout()},remove:function(i){var o=CKEDITOR.tools.indexOf(this.notifications,i);0>o||(this.notifications.splice(o,1),i.element.remove(),this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var i=this.editor,o=i.config,s=new CKEDITOR.dom.element("div");return s.addClass("cke_notifications_area"),s.setAttribute("id","cke_notifications_area_"+i.name),s.setStyle("z-index",o.baseFloatZIndex-2),s},_attachListeners:function(){var i=CKEDITOR.document.getWindow(),o=this.editor;i.on("scroll",this._uiBuffer.input),i.on("resize",this._uiBuffer.input),o.on("change",this._changeBuffer.input),o.on("floatingSpaceLayout",this._layout,this,null,20),o.on("blur",this._layout,this,null,20)},_removeListeners:function(){var i=CKEDITOR.document.getWindow(),o=this.editor;i.removeListener("scroll",this._uiBuffer.input),i.removeListener("resize",this._uiBuffer.input),o.removeListener("change",this._changeBuffer.input),o.removeListener("floatingSpaceLayout",this._layout),o.removeListener("blur",this._layout)},_layout:function(){function b(){_.setStyle("left",se(le+j.width-te-ne))}var i,o,s,_=this.element,$=this.editor,j=$.ui.contentsElement.getClientRect(),Z=$.ui.contentsElement.getDocumentPosition(),ee=_.getClientRect(),te=this._notificationWidth,ne=this._notificationMargin,ie=(s=CKEDITOR.document.getWindow()).getScrollPosition(),oe=s.getViewPaneSize(),ae=CKEDITOR.document.getBody(),re=ae.getDocumentPosition(),se=CKEDITOR.tools.cssLength;te&&ne||(s=this.element.getChild(0),te=this._notificationWidth=s.getClientRect().width,ne=this._notificationMargin=parseInt(s.getComputedStyle("margin-left"),10)+parseInt(s.getComputedStyle("margin-right"),10)),$.toolbar&&(o=(i=$.ui.space($.config.toolbarLocation)).getClientRect()),i&&i.isVisible()&&o.bottom>j.top&&o.bottom<j.bottom-ee.height?_.setStyles({position:"fixed",top:se(o.bottom)}):0<j.top?_.setStyles({position:"absolute",top:se(Z.y)}):Z.y+j.height-ee.height>ie.y?_.setStyles({position:"fixed",top:0}):_.setStyles({position:"absolute",top:se(Z.y+j.height-ee.height)});var le="fixed"==_.getStyle("position")?j.left:"static"!=ae.getComputedStyle("position")?Z.x-re.x:Z.x;j.width<te+ne?Z.x+te+ne>ie.x+oe.width?b():_.setStyle("left",se(le)):Z.x+te+ne>ie.x+oe.width?_.setStyle("left",se(le)):Z.x+j.width/2+te/2+ne>ie.x+oe.width?_.setStyle("left",se(le-Z.x+ie.x+oe.width-te-ne)):0>j.left+j.width-te-ne?b():0>j.left+j.width/2-te/2?_.setStyle("left",se(le-Z.x+ie.x)):_.setStyle("left",se(le+j.width/2-te/2-ne/2))}},CKEDITOR.plugins.notification=q}(),function(){var i='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-describedby="{id}_description" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"{hasArrowAriaHtml}{toggleAriaHtml}';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(i+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(i+=' onblur="this.style.cssText = this.style.cssText;"');var o="";CKEDITOR.env.ie&&(o='return false;" onmouseup="CKEDITOR.tools.getMouseButton(event)==CKEDITOR.MOUSE_BUTTON_LEFT&&');i=i+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" onclick="'+o+'CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}">&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span><span id="{id}_description" class="cke_button_label" aria-hidden="false">{ariaShortcutSpace}{ariaShortcut}</span>{arrowHtml}</a>';var s=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),_=CKEDITOR.addTemplate("button",i);CKEDITOR.plugins.add("button",{beforeInit:function(i){i.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}}),CKEDITOR.UI_BUTTON="button",CKEDITOR.ui.button=function(i){CKEDITOR.tools.extend(this,i,{isToggle:i.isToggle||!1,title:i.label,click:i.click||function(o){o.execCommand(i.command)}}),this._={}},CKEDITOR.ui.button.handler={create:function(i){return new CKEDITOR.ui.button(i)}},CKEDITOR.ui.button.prototype={render:function(i,o){function c(){var o=i.mode;o&&(o=this.modes[o]?void 0!==ee[o]?ee[o]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,o=i.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:o,this.setState(o),this.refresh&&this.refresh())}var $,j,Z,ee=null,te=CKEDITOR.env,ne=this._.id=CKEDITOR.tools.getNextId(),ie="",oe=this.command;this._.editor=i;var ae,re={id:ne,button:this,editor:i,focus:function(){CKEDITOR.document.getById(ne).focus()},execute:function(){this.button.click(i)},attach:function(i){this.button.attach(i)}},se=CKEDITOR.tools.addFunction((function(i){if(re.onkey)return i=new CKEDITOR.dom.event(i),!1!==re.onkey(re,i.getKeystroke())})),le=CKEDITOR.tools.addFunction((function(i){var o;return re.onfocus&&(o=!1!==re.onfocus(re,new CKEDITOR.dom.event(i))),o})),ce=0;re.clickFn=$=CKEDITOR.tools.addFunction((function(){ce&&(i.unlockSelection(1),ce=0),re.execute(),te.iOS&&i.focus()})),this.modes?(ee={},i.on("beforeModeUnload",(function(){i.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(ee[i.mode]=this._.state)}),this),i.on("activeFilterChange",c,this),i.on("mode",c,this),!this.readOnly&&i.on("readOnly",c,this)):oe&&(oe=i.getCommand(oe))&&(oe.on("state",(function(){this.setState(oe.state)}),this),ie+=oe.state==CKEDITOR.TRISTATE_ON?"on":oe.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off"),this.directional&&i.on("contentDirChanged",(function(o){var s=CKEDITOR.document.getById(this._.id),_=s.getFirst();(o=o.data)!=i.lang.dir?s.addClass("cke_"+o):s.removeClass("cke_ltr").removeClass("cke_rtl"),_.setAttribute("style",CKEDITOR.skin.getIconStyle(ae,"rtl"==o,this.icon,this.iconOffset))}),this),oe?(j=i.getCommandKeystroke(oe))&&(Z=CKEDITOR.tools.keystrokeToString(i.lang.common.keyboard,j)):ie+="off",j=this.name||this.command;var de=null,ue=this.icon;return ae=j,this.icon&&!/\./.test(this.icon)?(ae=this.icon,ue=null):(this.icon&&(de=this.icon),CKEDITOR.env.hidpi&&this.iconHiDpi&&(de=this.iconHiDpi)),de?(CKEDITOR.skin.addIcon(de,de),ue=null):de=ae,ie={id:ne,name:j,iconName:ae,label:this.label,cls:(this.hasArrow?"cke_button_expandable ":"")+(this.className||""),state:ie,ariaDisabled:"disabled"==ie?"true":"false",title:this.title+(Z?" ("+Z.display+")":""),ariaShortcutSpace:Z?"&nbsp;":"",ariaShortcut:Z?i.lang.common.keyboardShortcut+" "+Z.aria:"",titleJs:te.gecko&&!te.hc?"":(this.title||"").replace("'",""),hasArrow:"string"==typeof this.hasArrow&&this.hasArrow||(this.hasArrow?"true":"false"),keydownFn:se,focusFn:le,clickFn:$,style:CKEDITOR.skin.getIconStyle(de,"rtl"==i.lang.dir,ue,this.iconOffset),arrowHtml:this.hasArrow?s.output():"",hasArrowAriaHtml:this.hasArrow?' aria-expanded="false"':"",toggleAriaHtml:this.isToggle?'aria-pressed="false"':""},_.output(ie,o),this.onRender&&this.onRender(),re},setState:function(i){if(this._.state==i)return!1;this._.state=i;var o=CKEDITOR.document.getById(this._.id);return!!o&&(o.setState(i,"cke_button"),o.setAttribute("aria-disabled",i==CKEDITOR.TRISTATE_DISABLED),this.isToggle&&!this.hasArrow&&o.setAttribute("aria-pressed",i===CKEDITOR.TRISTATE_ON),!0)},getState:function(){return this._.state},toFeature:function(i){if(this._.feature)return this._.feature;var o=this;return this.allowedContent||this.requiredContent||!this.command||(o=i.getCommand(this.command)||o),this._.feature=o}},CKEDITOR.ui.prototype.addButton=function(i,o){this.add(i,CKEDITOR.UI_BUTTON,o)}}(),function(){function D(i){function c(s,_){if(_.length){s.items?s.items.push(i.ui.create("-")):s.items=[];for(var $;$=_.shift();)$="string"==typeof $?$:$.name,o&&-1!=CKEDITOR.tools.indexOf(o,$)||($=i.ui.create($))&&i.addFeature($)&&s.items.push($)}}var o=function(i){return i&&"string"==typeof i?i.split(","):i}(i.config.removeButtons),s=i.config.toolbar;return"string"==typeof s&&(s=i.config["toolbar_"+s]),i.toolbar=s?function(i){var o,s,_,$=[];for(o=0;o<i.length;++o)_={},"/"==(s=i[o])?$.push(s):CKEDITOR.tools.isArray(s)?(c(_,CKEDITOR.tools.clone(s)),$.push(_)):s.items&&(c(_,CKEDITOR.tools.clone(s.items)),_.name=s.name,$.push(_));return $}(s):function(){for(var o=function(){var o,s,_,$={};for(o in i.ui.items)s=i.ui.items[o],_=(_=s.toolbar||"others").split(","),s=_[0],_=parseInt(_[1]||-1,10),$[s]||($[s]=[]),$[s].push({name:o,order:_});for(s in $)$[s]=$[s].sort((function(i,o){return i.order==o.order?0:0>o.order?-1:0>i.order?1:i.order<o.order?-1:1}));return $}(),s=CKEDITOR.tools.clone(i.config.toolbarGroups)||v(i),_=0;_<s.length;_++){var $=s[_];if("/"!=$){"string"==typeof $&&($=s[_]={name:$});var j,Z=$.groups;if(Z)for(var ee=0;ee<Z.length;ee++)(j=o[j=Z[ee]])&&c($,j);(j=o[$.name])&&c($,j)}}return s}()}function v(i){return i._.toolbarGroups||(i._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var z=function(){this.toolbars=[]};z.prototype.focus=function(){for(var i,o=0;i=this.toolbars[o++];)for(var s,_=0;s=i.items[_++];)if(s.focus)return void s.focus()};var i={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(i){i.toolbox&&(CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout((function(){i.toolbox.focus()}),100):i.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(o){var s,f=function(i,_){var $,j=(Z="rtl"==o.lang.dir)?37:39,Z=Z?39:37,ee=void 0===(ee=o.config.toolbarGroupCycling)||ee;switch(_){case 9:case CKEDITOR.SHIFT+9:for(;!$||!$.items.length;)if(($=9==_?($?$.next:i.toolbar.next)||o.toolbox.toolbars[0]:($?$.previous:i.toolbar.previous)||o.toolbox.toolbars[o.toolbox.toolbars.length-1]).items.length)for(i=$.items[s?$.items.length-1:0];i&&!i.focus;)(i=s?i.previous:i.next)||($=0);return i&&i.focus(),!1;case j:$=i;do{!($=$.next)&&ee&&($=i.toolbar.items[0])}while($&&!$.focus);return $?$.focus():f(i,9),!1;case 40:return i.button&&i.button.hasArrow?i.execute():f(i,40==_?j:Z),!1;case Z:case 38:$=i;do{!($=$.previous)&&ee&&($=i.toolbar.items[i.toolbar.items.length-1])}while($&&!$.focus);return $?$.focus():(s=1,f(i,CKEDITOR.SHIFT+9),s=0),!1;case 27:return o.focus(),!1;case 13:case 32:return i.execute(),!1;case CKEDITOR.ALT+122:return o.execCommand("elementsPathFocus"),!1}return!0};o.on("uiSpace",(function(i){if(i.data.space==o.config.toolbarLocation){i.removeListener(),o.toolbox=new z;var s,_,$=['<span id="',j=CKEDITOR.tools.getNextId(),'" class="cke_voice_label">',o.lang.toolbar.toolbars,"</span>",'<span id="'+o.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',j,'" onmousedown="return false;">'],j=!1!==o.config.toolbarStartupExpanded;o.config.toolbarCanCollapse&&o.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&$.push('<span class="cke_toolbox_main"'+(j?">":' style="display:none">'));for(var Z=o.toolbox.toolbars,ee=D(o),te=ee.length,ne=0;ne<te;ne++){var ie,oe,ae,re=0,se=ee[ne],le="/"!==se&&("/"===ee[ne+1]||ne==te-1);if(se)if(s&&($.push("</span>"),_=s=0),"/"===se)$.push('<span class="cke_toolbar_break"></span>');else{ae=se.items||se;for(var ce=0;ce<ae.length;ce++){var de,ue=ae[ce];if(ue){var B=function(i){i=i.render(o,$),0<(he=re.items.push(i)-1)&&(i.previous=re.items[he-1],i.previous.next=i),i.toolbar=re,i.onkey=f};if(ue.type==CKEDITOR.UI_SEPARATOR)_=s&&ue;else{if(de=!1!==ue.canGroup,!re){ie=CKEDITOR.tools.getNextId(),re={id:ie,items:[]},oe=se.name&&(o.lang.toolbar.toolbarGroups[se.name]||se.name),$.push('<span id="',ie,'" class="cke_toolbar'+(le?' cke_toolbar_last"':'"'),oe?' aria-labelledby="'+ie+'_label"':"",' role="toolbar">'),oe&&$.push('<span id="',ie,'_label" class="cke_voice_label">',oe,"</span>"),$.push('<span class="cke_toolbar_start"></span>');var he=Z.push(re)-1;0<he&&(re.previous=Z[he-1],re.previous.next=re)}de?s||($.push('<span class="cke_toolgroup" role="presentation">'),s=1):s&&($.push("</span>"),s=0),_&&(B(_),_=0),B(ue)}}}s&&($.push("</span>"),_=s=0),re&&$.push('<span class="cke_toolbar_end"></span></span>')}}if(o.config.toolbarCanCollapse&&$.push("</span>"),o.config.toolbarCanCollapse&&o.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var fe=CKEDITOR.tools.addFunction((function(){o.execCommand("toolbarCollapse")}));o.on("destroy",(function(){CKEDITOR.tools.removeFunction(fe)})),o.addCommand("toolbarCollapse",{readOnly:1,exec:function(i){var o=i.ui.space("toolbar_collapser"),s=o.getPrevious(),_=i.ui.space("contents"),$=s.getParent(),j=parseInt(_.$.style.height,10),Z=$.$.offsetHeight,ee=o.hasClass("cke_toolbox_collapser_min");ee?(s.show(),o.removeClass("cke_toolbox_collapser_min"),o.setAttribute("title",i.lang.toolbar.toolbarCollapse)):(s.hide(),o.addClass("cke_toolbox_collapser_min"),o.setAttribute("title",i.lang.toolbar.toolbarExpand)),o.getFirst().setText(ee?"▲":"◀"),_.setStyle("height",j-($.$.offsetHeight-Z)+"px"),i.fire("resize",{outerHeight:i.container.$.offsetHeight,contentsHeight:_.$.offsetHeight,outerWidth:i.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}}),o.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse"),$.push('<a title="'+(j?o.lang.toolbar.toolbarCollapse:o.lang.toolbar.toolbarExpand)+'" id="'+o.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser'),j||$.push(" cke_toolbox_collapser_min"),$.push('" onclick="CKEDITOR.tools.callFunction('+fe+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}$.push("</span>"),i.data.html+=$.join("")}})),o.on("destroy",(function(){if(this.toolbox){var i,o,s,_,$=0;for(i=this.toolbox.toolbars;$<i.length;$++)for(s=i[$].items,o=0;o<s.length;o++)(_=s[o]).clickFn&&CKEDITOR.tools.removeFunction(_.clickFn),_.keyDownFn&&CKEDITOR.tools.removeFunction(_.keyDownFn)}})),o.on("uiReady",(function(){var i=o.ui.space("toolbox");i&&o.focusManager.add(i,1)})),o.addCommand("toolbarFocus",i),o.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus"),o.ui.add("-",CKEDITOR.UI_SEPARATOR,{}),o.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(i,o){return o.push('<span class="cke_toolbar_separator" role="separator"></span>'),{}}}}})}}),CKEDITOR.ui.prototype.addToolbarGroup=function(i,o,s){var _=v(this.editor),$=0===o,j={name:i};if(s){if(s=CKEDITOR.tools.search(_,(function(i){return i.name==s})))return!s.groups&&(s.groups=[]),o&&0<=(o=CKEDITOR.tools.indexOf(s.groups,o))?void s.groups.splice(o+1,0,i):void($?s.groups.splice(0,0,i):s.groups.push(i));o=null}o&&(o=CKEDITOR.tools.indexOf(_,(function(i){return i.name==o}))),$?_.splice(0,0,i):"number"==typeof o?_.splice(o+1,0,j):_.push(i)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation="top",function(){function t(i,o,s){return o.type||(o.type="auto"),!(s&&!1===i.fire("beforePaste",o)||!o.dataValue&&o.dataTransfer.isEmpty())&&(o.dataValue||(o.dataValue=""),CKEDITOR.env.gecko&&"drop"==o.method&&i.toolbox&&i.once("afterPaste",(function(){i.toolbox.focus(),i.focus()})),i.fire("paste",o))}function y(i){function b(){var $,j=i.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var c=function(s){i.getSelection().isCollapsed()||(i.readOnly&&"cut"==s.name||o.initPasteDataTransfer(s,i),s.data.preventDefault())};j.on("copy",c),j.on("cut",c),j.on("cut",(function(){i.readOnly||i.extractSelectedHtml()}),null,null,999)}j.on(o.mainPasteEvent,(function(i){"beforepaste"==o.mainPasteEvent&&s||m(i)})),"beforepaste"==o.mainPasteEvent&&(j.on("paste",(function(i){_||(g(),i.data.preventDefault(),m(i),e("paste"))})),j.on("contextmenu",f,null,null,0),j.on("beforepaste",(function(i){!i.data||i.data.$.ctrlKey||i.data.$.shiftKey||f()}),null,null,0)),j.on("beforecut",(function(){!s&&l()})),j.attachListener(CKEDITOR.env.ie?j:i.document.getDocumentElement(),"mouseup",(function(){$=setTimeout(p,0)})),i.on("destroy",(function(){clearTimeout($)})),j.on("keyup",p)}function c(o){return{type:o,canUndo:"cut"==o,startDisabled:!0,fakeKeystroke:"cut"==o?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){var o;"cut"==this.type&&l();var s=this.type;if(CKEDITOR.env.ie)o=e(s);else try{o=i.document.$.execCommand(s,!1,null)}catch(i){o=!1}return o||i.showNotification(i.lang.clipboard[this.type+"Error"]),o}}}function g(){_=1,setTimeout((function(){_=0}),100)}function f(){s=1,setTimeout((function(){s=0}),10)}function e(o){var s=i.document,_=s.getBody(),$=!1,m=function(){$=!0};return _.on(o,m),7<CKEDITOR.env.version?s.$.execCommand(o):s.$.selection.createRange().execCommand(o),_.removeListener(o,m),$}function l(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var o,s,_,$=i.getSelection();$.getType()==CKEDITOR.SELECTION_ELEMENT&&(o=$.getSelectedElement())&&(s=$.getRanges()[0],(_=i.document.createText("")).insertBefore(o),s.setStartBefore(_),s.setEndAfter(o),$.selectRanges([s]),setTimeout((function(){o.getParent()&&(_.remove(),$.selectElement(o))}),0))}}function v(){if("paste"==o.mainPasteEvent)return i.fire("beforePaste",{type:"auto",method:"paste"}),!1;i.focus(),g();var s=i.focusManager;return s.lock(),i.editable().fire(o.mainPasteEvent)&&!e("paste")?(s.unlock(),!1):(s.unlock(),!0)}function h(s){if("wysiwyg"==i.mode)switch(s.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:s=i.editable(),g(),"paste"==o.mainPasteEvent&&s.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:i.fire("saveSnapshot"),setTimeout((function(){i.fire("saveSnapshot")}),50)}}function m(s){var _={type:"auto",method:"paste",dataTransfer:o.initPasteDataTransfer(s)};_.dataTransfer.cacheData();var $=!1!==i.fire("beforePaste",_);$&&o.canClipboardApiBeTrusted(_.dataTransfer,i)?(s.data.preventDefault(),setTimeout((function(){t(i,_)}),0)):function(o,s){var _,$=i.document,j=i.editable(),m=function(i){i.cancel()};if(!$.getById("cke_pastebin")){var Z=i.getSelection(),ee=Z.createBookmarks();CKEDITOR.env.ie&&Z.root.fire("selectionchange");var te=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!j.is("body")||CKEDITOR.env.ie?"div":"body",$);te.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var ne=0;$=$.getWindow(),CKEDITOR.env.webkit?(j.append(te),te.addClass("cke_editable"),j.is("body")||(ne=(ne="static"!=j.getComputedStyle("position")?j:CKEDITOR.dom.element.get(j.$.offsetParent)).getDocumentPosition().y)):j.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(te),te.setStyles({position:"absolute",top:$.getScrollPosition().y-ne+10+"px",width:"1px",height:Math.max(1,$.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0}),CKEDITOR.env.safari&&te.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text")),(ne=te.getParent().isReadOnly())?(te.setOpacity(0),te.setAttribute("contenteditable",!0)):te.setStyle("ltr"==i.config.contentsLangDirection?"left":"right","-10000px"),i.on("selectionChange",m,null,null,0),(CKEDITOR.env.webkit||CKEDITOR.env.gecko)&&(_=j.once("blur",m,null,null,-100)),ne&&te.focus(),(ne=new CKEDITOR.dom.range(te)).selectNodeContents(te);var ie=ne.select();CKEDITOR.env.ie&&(_=j.once("blur",(function(){i.lockSelection(ie)})));var oe=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout((function(){var o;CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=oe),_&&_.removeListener(),CKEDITOR.env.ie&&j.focus(),Z.selectBookmarks(ee),te.remove(),CKEDITOR.env.webkit&&(o=te.getFirst())&&o.is&&o.hasClass("Apple-style-span")&&(te=o),i.removeListener("selectionChange",m),s(te.getHtml())}),0)}}(0,(function(o){_.dataValue=o.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,""),$&&t(i,_)}))}function p(){if("wysiwyg"==i.mode){var o=k("paste");i.getCommand("cut").setState(k("cut")),i.getCommand("copy").setState(k("copy")),i.getCommand("paste").setState(o),i.fire("pasteState",o)}}function k(o){var s=(s=i.getSelection())&&s.getRanges()[0];return(i.readOnly||s&&s.checkReadOnly())&&o in{paste:1,cut:1}?CKEDITOR.TRISTATE_DISABLED:"paste"==o?CKEDITOR.TRISTATE_OFF:(s=(o=i.getSelection()).getRanges(),o.getType()==CKEDITOR.SELECTION_NONE||1==s.length&&s[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF)}var o=CKEDITOR.plugins.clipboard,s=0,_=0;!function(){if(i.on("key",h),i.on("contentDom",b),i.on("selectionChange",p),i.contextMenu){i.contextMenu.addListener((function(){return{cut:k("cut"),copy:k("copy"),paste:k("paste")}}));var o=null;i.on("menuShow",(function(){o&&(o.removeListener(),o=null);var s=i.contextMenu.findItemByCommandName("paste");s&&s.element&&(o=s.element.on("touchend",(function(){i._.forcePasteDialog=!0})))}))}i.ui.addButton&&i.once("instanceReady",(function(){i._.pasteButtons&&CKEDITOR.tools.array.forEach(i._.pasteButtons,(function(o){(o=i.ui.get(o))&&(o=CKEDITOR.document.getById(o._.id))&&o.on("touchend",(function(){i._.forcePasteDialog=!0}))}))}))}(),function(){function b(o,s,_,$,j){var Z=i.lang.clipboard[s];i.addCommand(s,_),i.ui.addButton&&i.ui.addButton(o,{label:Z,command:s,toolbar:"clipboard,"+$}),i.addMenuItems&&i.addMenuItem(s,{label:Z,command:s,group:"clipboard",order:j})}b("Cut","cut",c("cut"),10,1),b("Copy","copy",c("copy"),20,4),b("Paste","paste",{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(i,s){function c(s,j){j=void 0===j||j,s?(s.method="paste",s.dataTransfer||(s.dataTransfer=o.initPasteDataTransfer()),t(i,s,j)):$&&!i._.forcePasteDialog&&i.showNotification(ee,"info",i.config.clipboard_notificationDuration),i._.forcePasteDialog=!1,i.fire("afterCommandExec",{name:"paste",command:_,returnValue:!!s})}var _=this,$=void 0===(s=null!=s?s:{}).notification||s.notification,j=s.type,Z=CKEDITOR.tools.keystrokeToString(i.lang.common.keyboard,i.getCommandKeystroke(this)),ee="string"==typeof $?$:i.lang.clipboard.pasteNotification.replace(/%1/,'<kbd aria-label="'+Z.aria+'">'+Z.display+"</kbd>");Z="string"==typeof s?s:s.dataValue,j&&!0!==i.config.forcePasteAsPlainText&&"allow-word"!==i.config.forcePasteAsPlainText?i._.nextPasteType=j:delete i._.nextPasteType,"string"==typeof Z?c({dataValue:Z}):i.getClipboardData(c)}},30,8),i._.pasteButtons||(i._.pasteButtons=[]),i._.pasteButtons.push("Paste")}(),i.getClipboardData=function(o,s){function h(i){i.removeListener(),i.cancel(),s(i.data)}function d(i){i.removeListener(),i.cancel(),s({type:$,dataValue:i.data.dataValue,dataTransfer:i.data.dataTransfer,method:"paste"})}var _=!1,$="auto";s||(s=o,o=null),i.on("beforePaste",(function(i){i.removeListener(),_=!0,$=i.data.type}),null,null,1e3),i.on("paste",h,null,null,0),!1===v()&&(i.removeListener("paste",h),i._.forcePasteDialog&&_&&i.fire("pasteDialog")?(i.on("pasteDialogCommit",d),i.on("dialogHide",(function(i){i.removeListener(),i.data.removeListener("pasteDialogCommit",d),i.data._.committed||s(null)}))):s(null))}}function A(i,o){function c(i){return CKEDITOR.tools.repeat("</p><p>",~~(i/2))+(1==i%2?"<br>":"")}return o=(o=o.replace(/(?!\u3000)\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>")).replace(/<\/?[A-Z]+>/g,(function(i){return i.toLowerCase()})),o.match(/^[^<]$/)?o:(CKEDITOR.env.webkit&&-1<o.indexOf("<div>")&&((o=o.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>")).match(/<div>(<br>|)<\/div>/)&&(o="<p>"+o.replace(/(<div>(<br>|)<\/div>)+/g,(function(i){return c(i.split("</div><div>").length+1)}))+"</p>"),o=(o=o.replace(/<\/div><div>/g,"<br>")).replace(/<\/?div>/g,"")),CKEDITOR.env.gecko&&i.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(o=o.replace(/^<br><br>$/,"<br>")),-1<o.indexOf("<br><br>")&&(o="<p>"+o.replace(/(<br>){2,}/g,(function(i){return c(i.length/4)}))+"</p>")),function(i,o){return i.enterMode==CKEDITOR.ENTER_BR?o=o.replace(/(<\/p><p>)+/g,(function(i){return CKEDITOR.tools.repeat("<br>",i.length/7*2)})).replace(/<\/?p>/g,""):i.enterMode==CKEDITOR.ENTER_DIV&&(o=o.replace(/<(\/)?p>/g,"<$1div>")),o}(i,o))}function x(i,o,s){o=CKEDITOR.htmlParser.fragment.fromHtml(o);var _=new CKEDITOR.htmlParser.basicWriter;return s.applyTo(o,!0,!1,i.activeEnterMode),o.writeHtml(_),_.getHtml()}function D(i){i.data.preventDefault(),i.data.$.dataTransfer.dropEffect="none"}function E(i){var o=CKEDITOR.plugins.clipboard;i.on("contentDom",(function(){function g(o,s,_){var $={$:o.data.$,target:o.data.getTarget()};s&&($.dragRange=s),_&&($.dropRange=_),!1===i.fire(o.name,$)&&o.data.preventDefault()}function f(i){return i.type!=CKEDITOR.NODE_ELEMENT&&(i=i.getParent()),i.getChildCount()}var s=i.editable(),_=CKEDITOR.plugins.clipboard.getDropTarget(i),$=i.ui.space("top"),j=i.ui.space("bottom");o.preventDefaultDropOnElement($),o.preventDefaultDropOnElement(j),s.attachListener(_,"dragstart",g),s.attachListener(i,"dragstart",o.resetDragDataTransfer,o,null,1),s.attachListener(i,"dragstart",(function(s){o.initDragDataTransfer(s,i)}),null,null,2),s.attachListener(i,"dragstart",(function(){var s=o.dragRange=i.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(o.dragStartContainerChildCount=s?f(s.startContainer):null,o.dragEndContainerChildCount=s?f(s.endContainer):null)}),null,null,100),s.attachListener(_,"dragend",g),s.attachListener(i,"dragend",o.initDragDataTransfer,o,null,1),s.attachListener(i,"dragend",o.resetDragDataTransfer,o,null,100),s.attachListener(_,"dragover",(function(i){if(CKEDITOR.env.edge)i.data.preventDefault();else{var o=i.data.getTarget();(o&&o.is&&o.is("html")||CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&i.data.$.dataTransfer.types.contains("Files"))&&i.data.preventDefault()}})),s.attachListener(_,"drop",(function(s){if(!s.data.$.defaultPrevented&&(s.data.preventDefault(),!i.readOnly)&&(!(_=s.data.getTarget()).isReadOnly()||_.type==CKEDITOR.NODE_ELEMENT&&_.is("html"))){var _=o.getRangeAtDropPosition(s,i),$=o.dragRange;_&&g(s,$,_)}}),null,null,9999),s.attachListener(i,"drop",o.initDragDataTransfer,o,null,1),s.attachListener(i,"drop",(function(s){if(s=s.data){var _=s.dropRange,$=s.dragRange,j=s.dataTransfer;j.getTransferType(i)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout((function(){o.internalDrop($,_,j,i)}),0):j.getTransferType(i)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?function(o,s,_){s.select(),t(i,{dataTransfer:_,method:"drop"},1),_.sourceEditor.fire("saveSnapshot"),_.sourceEditor.editable().extractHtmlFromRange(o),_.sourceEditor.getSelection().selectRanges([o]),_.sourceEditor.fire("saveSnapshot")}($,_,j):function(s,_){s.select(),t(i,{dataTransfer:_,method:"drop"},1),o.resetDragDataTransfer()}(_,j)}}),null,null,9999)}))}var i;CKEDITOR.plugins.add("clipboard",{requires:"dialog,notification,toolbar",_supportedFileMatchers:[],init:function(i){function b(i){return-1!==CKEDITOR.tools.indexOf(["image/png","image/jpeg","image/gif"],i.type)}function c(o){return CKEDITOR.tools.array.some(i.plugins.clipboard._supportedFileMatchers,(function(i){return i(o)}))}function d(o){o.length&&(o=CKEDITOR.tools.array.unique(o),o=CKEDITOR.tools.array.filter(o,(function(i){return!!CKEDITOR.tools.trim(i)})),o=function(o){return o?i.lang.clipboard.fileFormatNotSupportedNotification.replace(/\${formats\}/g,"<em>"+o+"</em>"):i.lang.clipboard.fileWithoutFormatNotSupportedNotification}(o.join(", ")),i.showNotification(o,"info",i.config.clipboard_notificationDuration))}var o,s=function(i){function b(){var i,o={};for(i in CKEDITOR.dtd)"$"!=i.charAt(0)&&"div"!=i&&"span"!=i&&(o[i]=1);return o}var o={};return{get:function(s){return"plain-text"==s?o.plainText||(o.plainText=new CKEDITOR.filter(i,"br")):"semantic-content"==s?((s=o.semanticContent)||((s=new CKEDITOR.filter(i,{})).allow({$1:{elements:b(),attributes:!0,styles:!1,classes:!1}}),s=o.semanticContent=s),s):s?new CKEDITOR.filter(i,s):null}}}(i);i.config.forcePasteAsPlainText?o="plain-text":i.config.pasteFilter?o=i.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in i.config||(o="semantic-content"),i.pasteFilter=s.get(o),y(i),E(i),CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js"));var _,$=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||CKEDITOR.plugins.clipboard.isFileApiSupported;CKEDITOR.plugins.clipboard.addFileMatcher(i,b),i.on("paste",(function(i){if($&&(i=(o=i.data).dataTransfer,!o.dataValue)){for(var o=[],s=0;s<i.getFilesCount();s++){var _=i.getFile(s);c(_)||o.push(_.type)}d(o)}}),null,null,1),i.on("paste",(function(o){if($&&i.config.clipboard_handleImages){var s=o.data,j=s.dataTransfer;if(!s.dataValue&&function(i,o){return!(CKEDITOR.env.ie&&i.data.fileTransferCancel||!(CKEDITOR.env.ie||o&&_!==o.id))&&o.isFileTransfer()&&1===o.getFilesCount()}(o,j)&&b(j=j.getFile(0))){var Z=new FileReader;Z.addEventListener("load",(function(){o.data.dataValue='<img src="'+Z.result+'" />',i.fire("paste",o.data)}),!1),Z.addEventListener("abort",(function(){CKEDITOR.env.ie&&(o.data.fileTransferCancel=!0),i.fire("paste",o.data)}),!1),Z.addEventListener("error",(function(){CKEDITOR.env.ie&&(o.data.fileTransferCancel=!0),i.fire("paste",o.data)}),!1),Z.readAsDataURL(j),_=s.dataTransfer.id,o.stop()}}}),null,null,1),i.on("paste",(function(o){if(o.data.dataTransfer||(o.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer),!o.data.dataValue){var s=o.data.dataTransfer,_=s.getData("text/html");_?(o.data.dataValue=_,o.data.type="html"):(_=s.getData("text/plain"))&&(o.data.dataValue=i.editable().transformPlainTextToHtml(_),o.data.type="text")}}),null,null,1),i.on("paste",(function(i){var o=i.data.dataValue,s=CKEDITOR.dtd.$block;if(-1<o.indexOf("Apple-")&&(o=o.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=i.data.type&&(o=o.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,(function(i,o){return o.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")}))),-1<o.indexOf('<br class="Apple-interchange-newline">')&&(i.data.startsWithEOL=1,i.data.preSniffing="html",o=o.replace(/<br class="Apple-interchange-newline">/,"")),o=o.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1")),o.match(/^<[^<]+cke_(editable|contents)/i)){var _,$,j=new CKEDITOR.dom.element("div");for(j.setHtml(o);1==j.getChildCount()&&(_=j.getFirst())&&_.type==CKEDITOR.NODE_ELEMENT&&(_.hasClass("cke_editable")||_.hasClass("cke_contents"));)j=$=_;$&&(o=$.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?o=o.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,(function(o,_){return _.toLowerCase()in s?(i.data.preSniffing="html","<"+_):o})):CKEDITOR.env.webkit?o=o.replace(/<\/(\w+)><div><br><\/div>$/,(function(o,_){return _ in s?(i.data.endsWithEOL=1,"</"+_+">"):o})):CKEDITOR.env.gecko&&(o=o.replace(/(\s)<br>$/,"$1")),i.data.dataValue=o}),null,null,3),i.on("paste",(function(o){o=o.data;var _,$=i._.nextPasteType||o.type,j=o.dataValue,Z=i.config.clipboard_defaultContentType||"html",ee=o.dataTransfer.getTransferType(i)==CKEDITOR.DATA_TRANSFER_EXTERNAL,te=!0===i.config.forcePasteAsPlainText;_="html"==$||"html"==o.preSniffing?"html":function(i){if(CKEDITOR.env.webkit){if(!i.match(/^[^<]*$/g)&&!i.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!i.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!i.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else{if(!CKEDITOR.env.gecko)return"html";if(!i.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}return"htmlifiedtext"}(j),delete i._.nextPasteType,"htmlifiedtext"==_&&(j=A(i.config,j)),"text"==$&&"html"==_?j=x(i,j,s.get("plain-text")):(ee&&i.pasteFilter&&!o.dontFilter||te)&&(j=x(i,j,i.pasteFilter)),o.startsWithEOL&&(j='<br data-cke-eol="1">'+j),o.endsWithEOL&&(j+='<br data-cke-eol="1">'),"auto"==$&&($="html"==_||"html"==Z?"html":"text"),o.type=$,o.dataValue=j,delete o.preSniffing,delete o.startsWithEOL,delete o.endsWithEOL}),null,null,6),i.on("paste",(function(o){(o=o.data).dataValue&&(i.insertHtml(o.dataValue,o.type,o.range),setTimeout((function(){i.fire("afterPaste")}),0))}),null,null,1e3),i.on("pasteDialog",(function(o){setTimeout((function(){i.openDialog("paste",o.data)}),0)}))}}),CKEDITOR.plugins.clipboard={addFileMatcher:function(i,o){i.plugins.clipboard._supportedFileMatchers.push(o)},isCustomCopyCutSupported:!(CKEDITOR.env.ie&&16>CKEDITOR.env.version||CKEDITOR.env.iOS&&605>CKEDITOR.env.version),isCustomDataTypesSupported:!CKEDITOR.env.ie||16<=CKEDITOR.env.version,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",addPasteButton:function(i,o,s){i.ui.addButton&&(i.ui.addButton(o,s),i._.pasteButtons||(i._.pasteButtons=[]),i._.pasteButtons.push(o))},canClipboardApiBeTrusted:function(i,o){return!!(i.getTransferType(o)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!i.isEmpty()||CKEDITOR.env.gecko&&(i.getData("text/html")||i.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS||CKEDITOR.env.iOS&&605<=CKEDITOR.env.version||CKEDITOR.env.edge&&16<=CKEDITOR.env.version)},getDropTarget:function(i){var o=i.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||o.isInline()?o:i.document},fixSplitNodesAfterDrop:function(i,o,s,_){function g(i,s,_){var $=i;if($.type==CKEDITOR.NODE_TEXT&&($=i.getParent()),$.equals(s)&&_!=s.getChildCount())return i=o.startContainer.getChild(o.startOffset-1),s=o.startContainer.getChild(o.startOffset),i&&i.type==CKEDITOR.NODE_TEXT&&s&&s.type==CKEDITOR.NODE_TEXT&&(_=i.getLength(),i.setText(i.getText()+s.getText()),s.remove(),o.setStart(i,_),o.collapse(!0)),!0}var $=o.startContainer;"number"==typeof _&&"number"==typeof s&&$.type==CKEDITOR.NODE_ELEMENT&&(g(i.startContainer,$,s)||g(i.endContainer,$,_))},isDropRangeAffectedByDragRange:function(i,o){var s=o.startContainer,_=o.endOffset;return!!(i.endContainer.equals(s)&&i.endOffset<=_||i.startContainer.getParent().equals(s)&&i.startContainer.getIndex()<_||i.endContainer.getParent().equals(s)&&i.endContainer.getIndex()<_)},internalDrop:function(i,o,s,_){var $,j,Z=CKEDITOR.plugins.clipboard,ee=_.editable();_.fire("saveSnapshot"),_.fire("lockSnapshot",{dontUpdate:1}),CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(i,o,Z.dragStartContainerChildCount,Z.dragEndContainerChildCount),(j=this.isDropRangeAffectedByDragRange(i,o))||($=i.createBookmark(!1)),Z=o.clone().createBookmark(!1),j&&($=i.createBookmark(!1)),i=$.startNode,o=$.endNode,j=Z.startNode,o&&i.getPosition(j)&CKEDITOR.POSITION_PRECEDING&&o.getPosition(j)&CKEDITOR.POSITION_FOLLOWING&&j.insertBefore(i),(i=_.createRange()).moveToBookmark($),ee.extractHtmlFromRange(i,1),o=_.createRange(),Z.startNode.getCommonAncestor(ee)||(Z=_.getSelection().createBookmarks()[0]),o.moveToBookmark(Z),t(_,{dataTransfer:s,method:"drop",range:o},1),_.fire("unlockSnapshot")},getRangeAtDropPosition:function(i,o){var s=i.data.$,_=s.clientX,$=s.clientY,j=o.getSelection(!0).getRanges()[0],Z=o.createRange();if(i.data.testRange)return i.data.testRange;if(document.caretRangeFromPoint&&o.document.$.caretRangeFromPoint(_,$))s=o.document.$.caretRangeFromPoint(_,$),Z.setStart(CKEDITOR.dom.node(s.startContainer),s.startOffset),Z.collapse(!0);else if(s.rangeParent)Z.setStart(CKEDITOR.dom.node(s.rangeParent),s.rangeOffset),Z.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&j&&o.editable().hasFocus)return j;if(!document.body.createTextRange)return null;o.focus(),s=o.document.getBody().$.createTextRange();try{for(var ee=!1,te=0;20>te&&!ee;te++){if(!ee)try{s.moveToPoint(_,$-te),ee=!0}catch(i){}if(!ee)try{s.moveToPoint(_,$+te),ee=!0}catch(i){}}if(ee){var ne="cke-temp-"+(new Date).getTime();s.pasteHTML('<span id="'+ne+'">​</span>');var ie=o.document.getById(ne);Z.moveToPosition(ie,CKEDITOR.POSITION_BEFORE_START),ie.remove()}else{var oe=o.document.$.elementFromPoint(_,$),ae=new CKEDITOR.dom.element(oe);if(ae.equals(o.editable())||"html"==ae.getName())return j&&j.startContainer&&!j.startContainer.equals(o.editable())?j:null;_<ae.getClientRect().left?Z.setStartAt(ae,CKEDITOR.POSITION_AFTER_START):Z.setStartAt(ae,CKEDITOR.POSITION_BEFORE_END),Z.collapse(!0)}}catch(i){return null}}return Z},initDragDataTransfer:function(i,o){var s=i.data.$?i.data.$.dataTransfer:null,_=new this.dataTransfer(s,o);"dragstart"===i.name&&_.storeId(),s?this.dragData&&_.id==this.dragData.id?_=this.dragData:this.dragData=_:this.dragData?_=this.dragData:this.dragData=_,i.data.dataTransfer=_},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(i,o){if(this.isCustomCopyCutSupported){if(i&&i.data&&i.data.$){var s=i.data.$.clipboardData,_=new this.dataTransfer(s,o);return"copy"!==i.name&&"cut"!==i.name||_.storeId(),this.copyCutData&&_.id==this.copyCutData.id?(_=this.copyCutData).$=s:this.copyCutData=_,_}return new this.dataTransfer(null,o)}return new this.dataTransfer(CKEDITOR.env.edge&&i&&i.data.$&&i.data.$.clipboardData||null,o)},preventDefaultDropOnElement:function(i){i&&i.on("dragover",D)}},i=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text",CKEDITOR.plugins.clipboard.dataTransfer=function(o,s){o&&(this.$=o),this._={metaRegExp:/^<meta.*?>/i,fragmentRegExp:/\s*\x3c!--StartFragment--\x3e|\x3c!--EndFragment--\x3e\s*/g,types:[],data:{},files:[],nativeHtmlCache:"",normalizeType:function(i){return"text"==(i=i.toLowerCase())||"text/plain"==i?"Text":"url"==i?"URL":"files"===i?"Files":i}},this._.fallbackDataTransfer=new CKEDITOR.plugins.clipboard.fallbackDataTransfer(this),this.id=this.getData(i),this.id||(this.id="Text"==i?"":"cke-"+CKEDITOR.tools.getUniqueId()),s&&(this.sourceEditor=s,this.setData("text/html",s.getSelectedHtml(1)),"Text"==i||this.getData("text/plain")||this.setData("text/plain",s.getSelection().getSelectedText()))},CKEDITOR.DATA_TRANSFER_INTERNAL=1,CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2,CKEDITOR.DATA_TRANSFER_EXTERNAL=3,CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(i,o){if(null==(_="text/html"==(i=this._.normalizeType(i))&&o?this._.nativeHtmlCache:this._.data[i])||""===_){if(this._.fallbackDataTransfer.isRequired())_=this._.fallbackDataTransfer.getData(i,o);else try{_=this.$.getData(i)||""}catch(i){_=""}"text/html"!=i||o||(_=this._stripHtml(_))}if("Text"==i&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==_.substring(0,7)&&(_=""),"string"==typeof _)var s=_.indexOf("</html>"),_=-1!==s?_.substring(0,s+7):_;return _},setData:function(o,s){if("text/html"==(o=this._.normalizeType(o))?(this._.data[o]=this._stripHtml(s),this._.nativeHtmlCache=s):this._.data[o]=s,CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==o||"Text"==o)if("Text"==i&&"Text"==o&&(this.id=s),this._.fallbackDataTransfer.isRequired())this._.fallbackDataTransfer.setData(o,s);else try{this.$.setData(o,s)}catch(i){}},storeId:function(){"Text"!==i&&this.setData(i,this.id)},getTransferType:function(i){return this.sourceEditor?this.sourceEditor==i?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function a(i){i=_._.normalizeType(i);var o=_.getData(i);"text/html"==i&&(_._.nativeHtmlCache=_.getData(i,!0),o=_._stripHtml(o)),o&&(_._.data[i]=o),_._.types.push(i)}if(this.$){var i,o,s,_=this;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(i=0;i<this.$.types.length;i++)a(this.$.types[i])}else a("Text"),a("URL");if(o=this._getImageFromClipboard(),(s=this.$&&this.$.files||null)||o){if(this._.files=[],s&&s.length)for(i=0;i<s.length;i++)this._.files.push(s[i]);0===this._.files.length&&o&&this._.files.push(o)}}},getFilesCount:function(){if(this._.files.length)return this._.files.length;var i=this.$&&this.$.files||null;return i&&i.length?i.length:this._getImageFromClipboard()?1:0},getFile:function(i){if(this._.files.length)return this._.files[i];var o=this.$&&this.$.files||null;return o&&o.length?o[i]:0===i?this._getImageFromClipboard():void 0},isFileTransfer:function(){var i=this.getTypes();return 1===(i=CKEDITOR.tools.array.filter(i,(function(i){return"application/x-moz-file"!==i}))).length&&"files"===i[0].toLowerCase()},isEmpty:function(){var o,s={};if(this.getFilesCount())return!1;if(CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(this._.data),(function(i){s[i]=1})),this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var _=0;_<this.$.types.length;_++)s[this.$.types[_]]=1}else s.Text=1,s.URL=1;for(o in"Text"!=i&&(s[i]=0),s)if(s[o]&&""!==this.getData(o))return!1;return!0},getTypes:function(){return 0<this._.types.length?this._.types:this.$&&this.$.types?[].slice.call(this.$.types):[]},_getImageFromClipboard:function(){var i;try{if(this.$&&this.$.items&&this.$.items[0]&&(i=this.$.items[0].getAsFile())&&i.type)return i}catch(i){}},_stripHtml:function(i){return i&&i.length&&(i=function(i){var o,s,_=new CKEDITOR.htmlParser;return _.onTagOpen=function(i){"body"===i&&(o=_._.htmlPartsRegex.lastIndex)},_.onTagClose=function(i){"body"===i&&(s=_._.htmlPartsRegex.lastIndex)},_.parse(i),"number"!=typeof o||"number"!=typeof s?i:i.substring(o,s).replace(/<\/body\s*>$/gi,"")}(i),i=(i=i.replace(this._.metaRegExp,"")).replace(this._.fragmentRegExp,"")),i}},CKEDITOR.plugins.clipboard.fallbackDataTransfer=function(i){this._dataTransfer=i,this._customDataFallbackType="text/html"},CKEDITOR.plugins.clipboard.fallbackDataTransfer._isCustomMimeTypeSupported=null,CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes=[],CKEDITOR.plugins.clipboard.fallbackDataTransfer.prototype={isRequired:function(){var i=CKEDITOR.plugins.clipboard.fallbackDataTransfer,o=this._dataTransfer.$;if(null===i._isCustomMimeTypeSupported){if(!o)return!1;if(i._isCustomMimeTypeSupported=!1,CKEDITOR.env.edge&&17<=CKEDITOR.env.version)return!0;try{o.setData("cke/mimetypetest","cke test value"),i._isCustomMimeTypeSupported="cke test value"===o.getData("cke/mimetypetest"),o.clearData("cke/mimetypetest")}catch(i){}}return!i._isCustomMimeTypeSupported},getData:function(i,o){var s=this._getData(this._customDataFallbackType,!0);if(o)return s;s=this._extractDataComment(s);var _=null;return null!==(_=i===this._customDataFallbackType?s.content:s.data&&s.data[i]?s.data[i]:this._getData(i,!0))?_:""},setData:function(i,o){($=i===this._customDataFallbackType)&&(o=this._applyDataComment(o,this._getFallbackTypeData()));var s=o,_=this._dataTransfer.$;try{_.setData(i,s),$&&(this._dataTransfer._.nativeHtmlCache=s)}catch(o){if(this._isUnsupportedMimeTypeError(o)){$=CKEDITOR.plugins.clipboard.fallbackDataTransfer,-1===CKEDITOR.tools.indexOf($._customTypes,i)&&$._customTypes.push(i);var $=this._getFallbackTypeContent(),j=this._getFallbackTypeData();j[i]=s;try{s=this._applyDataComment($,j),_.setData(this._customDataFallbackType,s),this._dataTransfer._.nativeHtmlCache=s}catch(i){s=""}}}return s},_getData:function(i,o){var s=this._dataTransfer._.data;if(!o&&s[i])return s[i];try{return this._dataTransfer.$.getData(i)}catch(i){return null}},_getFallbackTypeContent:function(){var i=this._dataTransfer._.data[this._customDataFallbackType];return i||(i=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).content),i},_getFallbackTypeData:function(){var i=CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes,o=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).data||{},s=this._dataTransfer._.data;return CKEDITOR.tools.array.forEach(i,(function(i){void 0!==s[i]?o[i]=s[i]:void 0!==o[i]&&(o[i]=o[i])}),this),o},_isUnsupportedMimeTypeError:function(i){return i.message&&-1!==i.message.search(/element not found/gi)},_extractDataComment:function(i){var o,s={data:null,content:i||""};i&&16<i.length&&((o=/\x3c!--cke-data:(.*?)--\x3e/g.exec(i))&&o[1]&&(s.data=JSON.parse(decodeURIComponent(o[1])),s.content=i.replace(o[0],"")));return s},_applyDataComment:function(i,o){var s="";return o&&CKEDITOR.tools.object.keys(o).length&&(s="\x3c!--cke-data:"+encodeURIComponent(JSON.stringify(o))+"--\x3e"),s+(i&&i.length?i:"")}}}(),CKEDITOR.config.clipboard_notificationDuration=1e4,CKEDITOR.config.clipboard_handleImages=!0,CKEDITOR.plugins.add("panelbutton",{requires:"button",onLoad:function(){function e(i){var o=this._;o.state!=CKEDITOR.TRISTATE_DISABLED&&(this.createPanel(i),o.on?o.panel.hide():o.panel.showBlock(this._.id,this.document.getById(this._.id),4))}CKEDITOR.ui.panelButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(i){var o=i.panel||{};delete i.panel,this.base(i),this.document=o.parent&&o.parent.getDocument()||CKEDITOR.document,o.block={attributes:o.attributes},o.toolbarRelated=!0,this.hasArrow="listbox",this.click=e,this._={panelDefinition:o}},statics:{handler:{create:function(i){return new CKEDITOR.ui.panelButton(i)}}},proto:{createPanel:function(i){var o=this._;if(!o.panel){var s=this._.panelDefinition,_=this._.panelDefinition.block,$=s.parent||CKEDITOR.document.getBody(),j=CKEDITOR.document.getById(this._.id),Z=this._.panel=new CKEDITOR.ui.floatPanel(i,$,s),ee=(s=Z.addBlock(o.id,_),this),te=i.getCommand(this.command);Z.onShow=function(){ee.className&&this.element.addClass(ee.className+"_panel"),ee.setState(CKEDITOR.TRISTATE_ON),j.setAttribute("aria-expanded","true"),o.on=1,ee.editorFocus&&i.focus(),ee.onOpen&&ee.onOpen()},Z.onHide=function(s){ee.className&&this.element.getFirst().removeClass(ee.className+"_panel"),!ee.modes&&te?ee.setStateFromCommand(te):ee.setState(ee.modes&&ee.modes[i.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),o.on=0,j.setAttribute("aria-expanded","false"),!s&&ee.onClose&&ee.onClose()},Z.onEscape=function(){Z.hide(1),ee.document.getById(o.id).focus()},this.onBlock&&this.onBlock(Z,s),s.onHide=function(){o.on=0,!ee.modes&&ee.command?ee.setStateFromCommand(te):ee.setState(CKEDITOR.TRISTATE_OFF)}}},setStateFromCommand:function(i){this.setState(i.state)}}})},beforeInit:function(i){i.ui.addHandler(CKEDITOR.UI_PANELBUTTON,CKEDITOR.ui.panelButton.handler)}}),CKEDITOR.UI_PANELBUTTON="panelbutton",function(){CKEDITOR.plugins.add("panel",{beforeInit:function(i){i.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}}),CKEDITOR.UI_PANEL="panel",CKEDITOR.ui.panel=function(i,o){o&&CKEDITOR.tools.extend(this,o),CKEDITOR.tools.extend(this,{className:"",css:[]}),this.id=CKEDITOR.tools.getNextId(),this.document=i,this.isFramed=this.forceIFrame||this.css.length,this._={blocks:{}}},CKEDITOR.ui.panel.handler={create:function(i){return new CKEDITOR.ui.panel(i)}};var i=CKEDITOR.addTemplate("panel",'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),o=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),s=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');CKEDITOR.ui.panel.prototype={render:function(_,$){var j={editorId:_.id,id:this.id,langCode:_.langCode,dir:_.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":_.config.baseFloatZIndex+1};if(this.getHolderElement=function(){if(!(o=this._.holder)){if(this.isFramed){var i=(o=this.document.getById(this.id+"_frame")).getParent(),o=o.getFrameDocument();CKEDITOR.env.iOS&&i.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"}),i=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind((function(){this.isLoaded=!0,this.onLoad&&this.onLoad()}),this)),o.write(s.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+i+");"},j))),o.getWindow().$.CKEDITOR=CKEDITOR,o.on("keydown",(function(i){var o=i.data.getKeystroke(),s=this.document.getById(this.id).getAttribute("dir");("input"!==i.data.getTarget().getName()||37!==o&&39!==o)&&(this._.onKeyDown&&!1===this._.onKeyDown(o)?"input"===i.data.getTarget().getName()&&32===o||i.data.preventDefault():(27==o||o==("rtl"==s?39:37))&&this.onEscape&&!1===this.onEscape(o)&&i.data.preventDefault())}),this),(o=o.getBody()).unselectable(),CKEDITOR.env.air&&CKEDITOR.tools.callFunction(i)}else o=this.document.getById(this.id);this._.holder=o}return o},this.isFramed){var Z=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";j.frame=o.output({id:this.id+"_frame",src:Z})}return Z=i.output(j),$&&$.push(Z),Z},addBlock:function(i,o){return o=this._.blocks[i]=o instanceof CKEDITOR.ui.panel.block?o:new CKEDITOR.ui.panel.block(this.getHolderElement(),o),this._.currentBlock||this.showBlock(i),o},getBlock:function(i){return this._.blocks[i]},showBlock:function(i){i=this._.blocks[i];var o=this._.currentBlock,s=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");return o&&o.hide(),this._.currentBlock=i,CKEDITOR.fire("ariaWidget",s),i._.focusIndex=-1,this._.onKeyDown=i.onKeyDown&&CKEDITOR.tools.bind(i.onKeyDown,i),i.show(),i},destroy:function(){this.element&&this.element.remove()}},CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(i,o){this.element=i.append(i.getDocument().createElement("div",{attributes:{tabindex:-1,class:"cke_panel_block"},styles:{display:"none"}})),o&&CKEDITOR.tools.extend(this,o),this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]}),this.keys={},this._.focusIndex=-1,this.element.disableContextMenu()},_:{markItem:function(i){-1!=i&&(i=this._.getItems().getItem(this._.focusIndex=i),CKEDITOR.env.webkit&&i.getDocument().getWindow().focus(),i.focus(),this.onMark&&this.onMark(i))},markFirstDisplayed:function(i){for(var o,s,b=function(i){return i.type==CKEDITOR.NODE_ELEMENT&&"none"==i.getStyle("display")},_=this._.getItems(),$=_.count()-1;0<=$;$--)if((o=_.getItem($)).getAscendant(b)||(s=o,this._.focusIndex=$),"true"==o.getAttribute("aria-selected")){s=o,this._.focusIndex=$;break}s&&(i&&i(),CKEDITOR.env.webkit&&s.getDocument().getWindow().focus(),s.focus(),this.onMark&&this.onMark(s))},getItems:function(){return this.element.find("a,input")}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle("display","none")},onKeyDown:function(i,o){switch($=this.keys[i]){case"next":for(var s,_=this._.focusIndex,$=this._.getItems();s=$.getItem(++_);)if(s.getAttribute("_cke_focus")&&s.$.offsetWidth){this._.focusIndex=_,s.focus(!0);break}return!s&&!o&&(this._.focusIndex=-1,this.onKeyDown(i,1));case"prev":for(_=this._.focusIndex,$=this._.getItems();0<_&&(s=$.getItem(--_));){if(s.getAttribute("_cke_focus")&&s.$.offsetWidth){this._.focusIndex=_,s.focus(!0);break}s=null}return!s&&!o&&(this._.focusIndex=$.count(),this.onKeyDown(i,1));case"click":case"mouseup":return(s=0<=(_=this._.focusIndex)&&this._.getItems().getItem(_))&&s.fireEventHandler($,{button:CKEDITOR.tools.normalizeMouseButton(CKEDITOR.MOUSE_BUTTON_LEFT,!0)}),!1}return!0}}})}(),CKEDITOR.plugins.add("floatpanel",{requires:"panel"}),$={},CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(i,o,s,_){function h(){te.hide()}s.forceIFrame=1,s.toolbarRelated&&i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(o=CKEDITOR.document.getById("cke_"+i.name));var j=o.getDocument();_=function(i,o,s,_,j){j=CKEDITOR.tools.genKey(o.getUniqueId(),s.getUniqueId(),i.lang.dir,i.uiColor||"",_.css||"",j||"");var Z=$[j];return Z||((Z=$[j]=new CKEDITOR.ui.panel(o,_)).element=s.append(CKEDITOR.dom.element.createFromHtml(Z.render(i),o)),Z.element.setStyles({display:"none",position:"absolute"})),Z}(i,j,o,s,_||0);var Z=_.element,ee=Z.getFirst(),te=this;Z.disableContextMenu(),this.element=Z,this._={editor:i,panel:_,parentElement:o,definition:s,document:j,iframe:ee,children:[],dir:i.lang.dir,showBlockParams:null,markFirst:void 0===s.markFirst||s.markFirst},i.on("mode",h),i.on("resize",h),j.getWindow().on("resize",(function(){this.reposition()}),this)},proto:{addBlock:function(i,o){return this._.panel.addBlock(i,o)},addListBlock:function(i,o){return this._.panel.addListBlock(i,o)},getBlock:function(i){return this._.panel.getBlock(i)},showBlock:function(i,o,s,_,$,j){var Z=this._.panel,ee=Z.showBlock(i);this._.showBlockParams=[].slice.call(arguments),this.allowBlur(!1);var te=this._.editor.editable();this._.returnFocus=te.hasFocus?te:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement),this._.hideTimeout=0;var ne=this.element,ie=(te=this._.iframe,te=CKEDITOR.env.ie&&!CKEDITOR.env.edge?te:new CKEDITOR.dom.window(te.$.contentWindow),ne.getDocument()),oe=this._.parentElement.getPositionedAncestor(),ae=o.getDocumentPosition(ie),re=(ie=oe?oe.getDocumentPosition(ie):{x:0,y:0},"rtl"==this._.dir),se=ae.x+(_||0)-ie.x,le=ae.y+($||0)-ie.y;!re||1!=s&&4!=s?re||2!=s&&3!=s||(se+=o.$.offsetWidth-1):se+=o.$.offsetWidth,3!=s&&4!=s||(le+=o.$.offsetHeight-1),this._.panel._.offsetParentId=o.getId(),ne.setStyles({top:le+"px",left:0,display:""}),ne.setOpacity(0),ne.getFirst().removeStyle("width"),this._.editor.focusManager.add(te),this._.blurSet||(CKEDITOR.event.useCapture=!0,te.on("blur",(function(i){function u(){delete this._.returnFocus,this.hide()}this.allowBlur()&&i.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(u,0,this)):u.call(this))}),this),te.on("focus",(function(){this._.focused=!0,this.hideChild(),this.allowBlur(!0)}),this),CKEDITOR.env.iOS&&(te.on("touchstart",(function(){clearTimeout(this._.hideTimeout)}),this),te.on("touchend",(function(){this._.hideTimeout=0,this.focus()}),this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1),Z.onEscape=CKEDITOR.tools.bind((function(i){if(this.onEscape&&!1===this.onEscape(i))return!1}),this),CKEDITOR.tools.setTimeout((function(){var i=CKEDITOR.tools.bind((function(){if((s=ne).removeStyle("width"),ee.autoSize){var i=ee.element.getDocument();i=(CKEDITOR.env.webkit||CKEDITOR.env.edge?ee.element:i.getBody()).$.scrollWidth,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<i&&(i+=(s.$.offsetWidth||0)-(s.$.clientWidth||0)+3),s.setStyle("width",i+10+"px"),i=ee.element.$.scrollHeight,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<i&&(i+=(s.$.offsetHeight||0)-(s.$.clientHeight||0)+3),s.setStyle("height",i+"px"),Z._.currentBlock.element.setStyle("display","none").removeStyle("display")}else s.removeStyle("height");re&&(se-=ne.$.offsetWidth),ne.setStyle("left",se+"px"),i=Z.element.getWindow();var o,s=ne.$.getBoundingClientRect(),_=(i=i.getViewPaneSize(),s.width||s.right-s.left),$=s.height||s.bottom-s.top,te=re?s.right:i.width-s.left,ie=re?i.width-s.right:s.left;re?te<_&&(se=ie>_?se+_:i.width>_?se-s.left:se-s.right+i.width):te<_&&(se=ie>_?se-_:i.width>_?se-s.right+i.width:se-s.left),_=s.top,i.height-s.top<$&&(le=_>$?le-$:i.height>$?le-s.bottom+i.height:le-s.top),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&((i=s=ne.$.offsetParent&&new CKEDITOR.dom.element(ne.$.offsetParent))&&"html"==i.getName()&&(i=i.getDocument().getBody()),i&&"rtl"==i.getComputedStyle("direction")&&(se=CKEDITOR.env.ie8Compat?se-2*ne.getDocument().getDocumentElement().$.scrollLeft:se-(s.$.scrollWidth-s.$.clientWidth))),(o=(s=ne.getFirst()).getCustomData("activePanel"))&&o.onHide&&o.onHide.call(this,1),s.setCustomData("activePanel",this),ne.setStyles({top:le+"px",left:se+"px"}),ne.setOpacity(1),j&&j()}),this);Z.isLoaded?i():Z.onLoad=i,CKEDITOR.tools.setTimeout((function(){var i=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus(),ee.element.focus(),CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=i),this.allowBlur(!0),this._.markFirst&&(CKEDITOR.env.ie?CKEDITOR.tools.setTimeout((function(){ee.markFirstDisplayed?ee.markFirstDisplayed():ee._.markFirstDisplayed()}),0):ee.markFirstDisplayed?ee.markFirstDisplayed():ee._.markFirstDisplayed()),this._.editor.fire("panelShow",this)}),0,this)}),CKEDITOR.env.air?200:0,this),this.visible=1,this.onShow&&this.onShow.call(this)},reposition:function(){var i=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,i))},focus:function(){if(CKEDITOR.env.webkit){var i=CKEDITOR.document.getActive();i&&!i.equals(this._.iframe)&&i.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var i=this._.iframe.getFrameDocument().getActive();i&&i.is("a")&&(this._.lastFocused=i)},hide:function(i){!this.visible||this.onHide&&!0===this.onHide.call(this)||(this.hideChild(),CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur(),this.element.setStyle("display","none"),this.visible=0,this.element.getFirst().removeCustomData("activePanel"),(i=i&&this._.returnFocus)&&(CKEDITOR.env.webkit&&i.type&&i.getWindow().$.focus(),i.focus()),delete this._.lastFocused,this._.showBlockParams=null,this._.editor.fire("panelHide",this))},allowBlur:function(i){var o=this._.panel;return void 0!==i&&(o.allowBlur=i),o.allowBlur},showAsChild:function(i,o,s,_,$,j){this._.activeChild==i&&i._.panel._.offsetParentId==s.getId()||(this.hideChild(),i.onHide=CKEDITOR.tools.bind((function(){CKEDITOR.tools.setTimeout((function(){this._.focused||this.hide()}),0,this)}),this),this._.activeChild=i,this._.focused=!1,i.showBlock(o,s,_,$,j),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout((function(){i.element.getChild(0).$.style.cssText+=""}),100))},hideChild:function(i){var o=this._.activeChild;o&&(delete o.onHide,delete this._.activeChild,o.hide(),i&&this.focus())}}}),CKEDITOR.on("instanceDestroyed",(function(){var i,o=CKEDITOR.tools.isEmpty(CKEDITOR.instances);for(i in $){var s=$[i];o?s.destroy():s.element.hide()}o&&($={})})),CKEDITOR.plugins.add("colorbutton",{requires:"panelbutton,floatpanel",init:function(i){function b(_){function z(o,s,_){var $={};if(o&&($.color=o),s&&($.colorName=s),s=!CKEDITOR.tools.isEmpty($)&&new CKEDITOR.style(function(){var o=i.config["colorButton_"+Z+"Style"];return o.childRule="back"==Z?function(i){return f(i)}:function(i){return!(i.is("a")||i.getElementsByTag("a").count())||f(i)},o}(),$),i.execCommand(ie,{newStyle:s}),o&&_)for(_.addColor(o.substr(1).toUpperCase()),o=oe.element.find("[role=option]").toArray(),_=0;_<o.length;_++)o[_].setAttributes({"aria-posinset":_+1,"aria-setsize":o.length})}var $=_.name,Z=_.type,te=_.title,ne=_.order,ie=_.commandName;_=_.contentTransformations||{};var oe,ae=new CKEDITOR.style(o["colorButton_"+Z+"Style"]),re=CKEDITOR.tools.getNextId()+"_colorBox",se={type:Z},le=new CKEDITOR.style(o["colorButton_"+Z+"Style"],{color:"inherit"}),ce=CKEDITOR.tools.addFunction((function(o,s,_){i.focus(),i.fire("saveSnapshot"),"?"==o?i.getColorFromDialog((function(i){i&&z(i,s,de)}),null,se):z(o&&"#"+o,s,de),_&&(_.setAttribute("cke_colorlast",!0),i.once("selectionChange",(function(){_.removeAttribute("cke_colorlast")})))})),de=ee.getRowLimit(i)?new ee(i,"back"==Z?"background-color":"color",ce):void 0;i.addCommand(ie,{contextSensitive:!0,exec:function(i,o){if(!i.readOnly){var s=o.newStyle;i.removeStyle(le),i.focus(),s&&i.applyStyle(s),i.fire("saveSnapshot")}},refresh:function(i,o){le.checkApplicable(o,i,i.activeFilter)?le.checkActive(o,i)?this.setState(CKEDITOR.TRISTATE_ON):this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)}}),i.ui.add($,CKEDITOR.UI_PANELBUTTON,{label:te,title:te,command:ie,editorFocus:0,toolbar:"colors,"+ne,allowedContent:ae,requiredContent:ae,contentTransformations:_,panel:{css:CKEDITOR.skin.getPath("editor"),attributes:{role:"listbox","aria-label":s.panelTitle}},select:function(i){var s=o.colorButton_colors.split(",");i=CKEDITOR.tools.array.find(s,i),i=j.normalizeColor(i),v(oe,i),oe._.markFirstDisplayed()},onBlock:function(_,$){oe=$,$.autoSize=!0,$.element.addClass("cke_colorblock"),$.element.setHtml(function(_,$,Z){var te=[],ne=o.colorButton_colors.split(","),ie=i.plugins.colordialog&&o.colorButton_enableMore;Z=ne.length+Z+(ie?1:0);var oe=1;for(o.colorButton_enableAutomatic&&(Z+=1,oe+=1,te.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true',' title="',s.auto,'"',' draggable="false"',' ondragstart="return false;"',' onclick="CKEDITOR.tools.callFunction(',$,',null);return false;"'," href=\"javascript:void('",s.auto,"')\"",' role="option" aria-posinset="1" aria-setsize="',Z,'">','<table role="presentation" cellspacing=0 cellpadding=0 width="100%">',"<tr>",'<td colspan="',i.config.colorButton_colorsPerRow,'" align="center">','<span class="cke_colorbox" id="',_,'"></span>',s.auto,"</td>","</tr>","</table>","</a>")),te.push('<table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tbody>'),_=0;_<ne.length;_++){0==_%i.config.colorButton_colorsPerRow&&te.push("</tr><tr>");var ae,re=(ae=ne[_].split("/"))[0];(ae=new j(i,{color:ae[1]||re,label:ae[1]?re:void 0},$)).setPositionIndex(oe+_,Z),te.push(ae.getHtml())}return ee.getRowLimit(i)&&ee.renderContainer(te,i),ie&&te.push("</tr>","<tr>",'<td colspan="',i.config.colorButton_colorsPerRow,'" align="center">','<a class="cke_colormore" _cke_focus=1 hidefocus=true',' title="',s.more,'"',' draggable="false"',' ondragstart="return false;"',' onclick="CKEDITOR.tools.callFunction(',$,",'?');return false;\""," href=\"javascript:void('",s.more,"')\"",' role="option" aria-posinset="',Z,'" aria-setsize="',Z,'">',s.more,"</a>","</td>"),te.push("</tr></tbody></table>"),te.join("")}(re,ce,de?de.getLength():0)),$.element.getDocument().getBody().setStyle("overflow","hidden"),$.element.getAscendant({html:1}).setStyle("overflow","hidden"),CKEDITOR.ui.fire("ready",this);var Z=$.keys,te="rtl"==i.lang.dir;Z[te?37:39]="next",Z[40]="next",Z[9]="next",Z[te?39:37]="prev",Z[38]="prev",Z[CKEDITOR.SHIFT+9]="prev",Z[32]="click",de&&de.setContainer($.element.findOne(".cke_colorhistory"))},onOpen:function(){var s=(ee=i.getSelection())&&ee.getStartElement(),_=i.elementPath(s),$="back"==Z?"background-color":"color";if(_){s=_.block||_.blockLimit||i.document.getBody();do{_=s&&s.getComputedStyle($)||"transparent"}while("back"==Z&&"transparent"==_&&s&&(s=s.getParent()));if(_&&"transparent"!=_||(_="#ffffff"),o.colorButton_enableAutomatic&&oe.element.findOne("#"+re).setStyle("background-color",_),s=ee&&ee.getRanges()[0]){var ee=new CKEDITOR.dom.walker(s),te=s.collapsed?s.startContainer:ee.next();for(s="";te;){if(te.type!==CKEDITOR.NODE_ELEMENT&&(te=te.getParent()),te=j.normalizeColor(te.getComputedStyle($)),(s=s||te)!==te){s="";break}te=ee.next()}"transparent"==s&&(s=""),"fore"==Z&&(se.automaticTextColor="#"+j.normalizeColor(_)),se.selectionColor=s?"#"+s:"",v(oe,s)}return _}}})}function f(i){return"false"==i.getAttribute("contentEditable")||i.getAttribute("data-nostyle")}function v(i,o){var s=i._.getItems(),_=i.element.findOne("[aria-selected]"),$=i.element.findOne("[cke_colorlast]");if(_&&_.removeAttribute("aria-selected"),$)$.setAttribute("aria-selected",!0);else for(_=0;_<s.count();_++)if($=s.getItem(_),o&&o==j.normalizeColor($.getAttribute("data-value"))){$.setAttribute("aria-selected",!0);break}}var o=i.config,s=i.lang.colorbutton;if(!CKEDITOR.env.hc){b({name:"TextColor",type:"fore",commandName:"textColor",title:s.textColorTitle,order:10,contentTransformations:[[{element:"font",check:"span{color}",left:function(i){return!!i.attributes.color},right:function(i){i.name="span",i.attributes.color&&(i.styles.color=i.attributes.color),delete i.attributes.color}}]]});var _,$=i.config.colorButton_normalizeBackground;(void 0===$||$)&&(_=[[{element:"span",left:function(i){var o=CKEDITOR.tools;return!("span"!=i.name||!i.styles||!i.styles.background)&&(i=o.style.parse.background(i.styles.background)).color&&1===o.object.keys(i).length},right:function(o){var s=new CKEDITOR.style(i.config.colorButton_backStyle,{color:o.styles.background}).getDefinition();return o.name=s.element,o.styles=s.styles,o.attributes=s.attributes||{},o}}]]),b({name:"BGColor",type:"back",commandName:"bgColor",title:s.bgColorTitle,order:20,contentTransformations:_})}}}),j=CKEDITOR.tools.createClass({$:function(i,o,s){this.$=new CKEDITOR.dom.element("td"),this.color=CKEDITOR.tools._isValidColorFormat(o.color)?o.color:"",this.clickFn=s,this.label=o.label||j.colorNames(i)[this.color]||this.color,this.setHtml()},statics:{colorNames:function(i){return i.lang.colorbutton.colors},normalizeColor:function(i){var o=/^(rgb|hsl)a\(/g.test(i),s=/^rgba\((\s*0\s*,?){4}\)$/g.test(i);return o&&!s?(i=new CKEDITOR.tools.color(i),CKEDITOR.tools.normalizeHex(i.getHex()||"").replace(/#/g,"")):CKEDITOR.tools.normalizeHex("#"+CKEDITOR.tools.convertRgbToHex(i||"")).replace(/#/g,"")}},proto:{getElement:function(){return this.$},getHtml:function(){return this.getElement().getOuterHtml()},setHtml:function(){this.getElement().setHtml('<a class="cke_colorbox" _cke_focus=1 hidefocus=true title="'+this.label+'" draggable="false" ondragstart="return false;" onclick="CKEDITOR.tools.callFunction('+this.clickFn+",'"+this.color+"','"+this.label+"', this); return false;\" href=\"javascript:void('"+this.color+'\')" data-value="'+this.color+'" role="option"><span class="cke_colorbox" style="background-color:#'+this.color+'"></span></a>')},setPositionIndex:function(i,o){this.getElement().getChild(0).setAttributes({"aria-posinset":i,"aria-setsize":o})}}}),Z=CKEDITOR.tools.createClass({$:function(){this.$=new CKEDITOR.dom.element("tr"),this.$.addClass("cke_colorhistory_row"),this.boxes=[]},proto:{getElement:function(){return this.$},removeLastColor:function(){return this.getElement().getLast().remove(),this.boxes.pop()},addNewColor:function(i){this.boxes.unshift(i),this.getElement().append(i.getElement(),!0)},extractColorBox:function(i){var o=CKEDITOR.tools.getIndex(this.boxes,(function(o){return o.color===i}));return 0>o?null:(this.boxes[o].getElement().remove(),this.boxes.splice(o,1)[0])}}}),ee=CKEDITOR.tools.createClass({$:function(i,o,s){this.editor=i,this.cssProperty=o,this.clickFn=s,this.rows=[],this._.addNewRow(),this.editor.config.colorButton_renderContentColors&&this.editor.once("instanceReady",(function(){this.renderContentColors()}),this)},statics:{renderContainer:function(i,o){i.push('</tbody><tbody class="cke_colorhistory" style="display:none;">',"<tr>",'<td colspan="',o.config.colorButton_colorsPerRow,'" align="center">',"<span><hr></span>","</td>","</tr>","</tbody><tbody>")},getRowLimit:function(i){return i.config.colorButton_historyRowLimit},getCapacity:function(i){return ee.getRowLimit(i)*i.config.colorButton_colorsPerRow},colorList:CKEDITOR.tools.style.parse._colors},_:{countColors:function(){var i=CKEDITOR.tools.getStyledSpans(this.cssProperty,this.editor.editable());return CKEDITOR.tools.array.reduce(i,(function(i,o){var s=this._.getHexCode(o,this.cssProperty,ee.colorList);return i[s]=i[s]||0,i[s]+=1,i}),{},this)},getHexCode:function(i,o,s){var _=i.getStyle(o);return _ in s?s[_].substr(1):j.normalizeColor(i.getComputedStyle(o)).toUpperCase()},sortByOccurrencesAscending:function(i,o){var s,_=[];for(s in i){var $={};$[o]=s,$.frequency=i[s],_.push($)}return _.sort((function(i,o){return o.frequency-i.frequency})),this._.trimToCapacity(_),_.reverse()},trimToCapacity:function(i){i.splice(ee.getCapacity(this.editor))},addColors:function(i){CKEDITOR.tools.array.forEach(i,(function(i){this.addColor(i.colorCode)}),this)},extractColorBox:function(i){for(var o=0;o<this.rows.length;o++){var s=this.rows[o].extractColorBox(i);if(s)return s}return null},moveToBeginning:function(i){this.rows[0].addNewColor(i)},createAtBeginning:function(i){this._.moveToBeginning(new j(this.editor,{color:i},this.clickFn))},addNewRow:function(){this.rows.push(new Z),this.container&&this.container.append(this.rows[this.rows.length-1].getElement())},alignRows:function(){for(var i=0;i<ee.getRowLimit(this.editor)&&!(this.rows[i].boxes.length<=this.editor.config.colorButton_colorsPerRow);i++)this.rows[i+1]?this._.moveLastBoxToNextRow(i):i<ee.getRowLimit(this.editor)-1?(this._.addNewRow(),this._.moveLastBoxToNextRow(i)):this.rows[i].removeLastColor()},moveLastBoxToNextRow:function(i){this.rows[i+1].addNewColor(this.rows[i].removeLastColor())},refreshPositions:function(){var i=this._.countPanelElements(),o=this._.calculateFirstPosition(i);CKEDITOR.tools.array.forEach(this.rows,(function(s){CKEDITOR.tools.array.forEach(s.boxes,(function(s){s.setPositionIndex(o,i),o+=1}))}))},countPanelElements:function(){var i=this.editor.config.colorButton_colors.split(",").length+this.getLength();return this.editor.plugins.colordialog&&this.editor.config.colorButton_enableMore&&(i+=1),this.editor.config.colorButton_enableAutomatic&&(i+=1),i},calculateFirstPosition:function(i){return this.editor.plugins.colordialog&&this.editor.config.colorButton_enableMore?i-this.getLength():i-this.getLength()+1},attachRows:function(){CKEDITOR.tools.array.forEach(this.rows,(function(i){this.container.append(i.getElement())}),this)}},proto:{setContainer:function(i){this.container=i,this._.attachRows(),this.getLength()&&this.show()},show:function(){this.container&&this.container.show()},renderContentColors:function(){var i=this._.countColors();CKEDITOR.tools.isEmpty(i)||(i=this._.sortByOccurrencesAscending(i,"colorCode"),this._.addColors(i),this._.refreshPositions())},addColor:function(i){var o=this._.extractColorBox(i);this.container&&!this.container.isVisible()&&this.show(),o?this._.moveToBeginning(o):this._.createAtBeginning(i),this._.alignRows()},getLength:function(){return CKEDITOR.tools.array.reduce(this.rows,(function(i,o){return i+o.boxes.length}),0)}}}),CKEDITOR.config.colorButton_enableMore=!0,CKEDITOR.config.colorButton_colors="1ABC9C,2ECC71,3498DB,9B59B6,4E5F70,F1C40F,16A085,27AE60,2980B9,8E44AD,2C3E50,F39C12,E67E22,E74C3C,ECF0F1,95A5A6,DDD,FFF,D35400,C0392B,BDC3C7,7F8C8D,999,000",CKEDITOR.config.colorButton_foreStyle={element:"span",styles:{color:"#(color)"},overrides:[{element:"font",attributes:{color:null}}]},CKEDITOR.config.colorButton_backStyle={element:"span",styles:{"background-color":"#(color)"}},CKEDITOR.config.colorButton_enableAutomatic=!0,CKEDITOR.config.colorButton_colorsPerRow=6,CKEDITOR.config.colorButton_historyRowLimit=1,CKEDITOR.config.colorButton_renderContentColors=!0,CKEDITOR.plugins.colordialog={requires:"dialog",init:function(i){var o=new CKEDITOR.dialogCommand("colordialog");o.editorFocus=!1,i.addCommand("colordialog",o),CKEDITOR.dialog.add("colordialog",this.path+"dialogs/colordialog.js"),i.getColorFromDialog=function(o,s,_){var $,j,Z,ee;$=function(i){Z(this),(i="ok"==i.name?this.getValueOf("picker","selectedColor"):null)&&!CKEDITOR.tools._isValidColorFormat(i)&&(i=null),/^[0-9a-f]{3}([0-9a-f]{3})?$/i.test(i)&&(i="#"+i),o.call(s,i)},j=function(i){_&&(i.data=_)},Z=function(i){i.removeListener("ok",$),i.removeListener("cancel",$),i.removeListener("show",j)},ee=function(i){i.on("ok",$),i.on("cancel",$),i.on("show",j,null,null,5)},i.execCommand("colordialog"),i._.storedDialogs&&i._.storedDialogs.colordialog?ee(i._.storedDialogs.colordialog):CKEDITOR.on("dialogDefinition",(function(i){if("colordialog"==i.data.name){var o=i.data.definition;i.removeListener(),o.onLoad=CKEDITOR.tools.override(o.onLoad,(function(i){return function(){ee(this),o.onLoad=i,"function"==typeof i&&i.call(this)}}))}}))}}},CKEDITOR.plugins.add("colordialog",CKEDITOR.plugins.colordialog),CKEDITOR.plugins.add("xml",{}),CKEDITOR.xml=function(i){var o=null;if("object"==typeof i)o=i;else if(i=(i||"").replace(/&nbsp;/g," "),"ActiveXObject"in window){try{o=new ActiveXObject("MSXML2.DOMDocument")}catch(i){try{o=new ActiveXObject("Microsoft.XmlDom")}catch(i){}}o&&(o.async=!1,o.resolveExternals=!1,o.validateOnParse=!1,o.loadXML(i))}else window.DOMParser&&(o=(new DOMParser).parseFromString(i,"text/xml"));this.baseXml=o},CKEDITOR.xml.prototype={selectSingleNode:function(i,o){var s=this.baseXml;if(o||(o=s)){if("selectSingleNode"in o)return o.selectSingleNode(i);if(s.evaluate)return(s=s.evaluate(i,o,null,9,null))&&s.singleNodeValue||null}return null},selectNodes:function(i,o){var s=this.baseXml,_=[];if(o||(o=s)){if("selectNodes"in o)return o.selectNodes(i);if(s.evaluate&&(s=s.evaluate(i,o,null,5,null)))for(var $;$=s.iterateNext();)_.push($)}return _},getInnerXml:function(i,o){var s=this.selectSingleNode(i,o),_=[];if(s)for(s=s.firstChild;s;)s.xml?_.push(s.xml):window.XMLSerializer&&_.push((new XMLSerializer).serializeToString(s)),s=s.nextSibling;return _.length?_.join(""):null}},CKEDITOR.plugins.add("ajax",{requires:"xml"}),CKEDITOR.ajax=function(){function k(){if(!CKEDITOR.env.ie||"file:"!=location.protocol)try{return new XMLHttpRequest}catch(i){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(i){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(i){}return null}function h(i,o){if(4!=i.readyState||!(200<=i.status&&300>i.status||304==i.status||0===i.status||1223==i.status))return null;switch(o){case"text":return i.responseText;case"xml":var s=i.responseXML;return new CKEDITOR.xml(s&&s.firstChild?s:i.responseText);case"arraybuffer":return i.response;default:return null}}function g(i,o,s){var _=!!o,$=k();return $?(_&&"text"!==s&&"xml"!==s&&($.responseType=s),$.open("GET",i,_),_&&($.onreadystatechange=function(){4==$.readyState&&(o(h($,s)),$=null)}),$.send(null),_?"":h($,s)):null}return{load:function(i,o,s){return g(i,o,s||"text")},post:function(i,o,s,_){return function(i,o,s,_,$){var j=k();if(!j)return null;j.open("POST",i,!0),j.onreadystatechange=function(){4==j.readyState&&(_&&_(h(j,$)),j=null)},j.setRequestHeader("Content-type",s||"application/x-www-form-urlencoded; charset=UTF-8"),j.send(o)}(i,o,s,_,"text")},loadXml:function(i,o){return g(i,o,"xml")},loadText:function(i,o){return g(i,o,"text")},loadBinary:function(i,o){return g(i,o,"arraybuffer")}}}(),function(){CKEDITOR.plugins.add("templates",{requires:"dialog,ajax",init:function(i){CKEDITOR.dialog.add("templates",CKEDITOR.getUrl(this.path+"dialogs/templates.js")),i.addCommand("templates",new CKEDITOR.dialogCommand("templates")),i.ui.addButton&&i.ui.addButton("Templates",{label:i.lang.templates.button,command:"templates",toolbar:"doctools,10"})}});var i={},o={};CKEDITOR.addTemplates=function(o,s){i[o]=s},CKEDITOR.getTemplates=function(o){return i[o]},CKEDITOR.loadTemplates=function(i,s){for(var _=[],$=0,j=i.length;$<j;$++)o[i[$]]||(_.push(i[$]),o[i[$]]=1);_.length?CKEDITOR.scriptLoader.load(_,s):setTimeout(s,0)}}(),CKEDITOR.config.templates_files=[CKEDITOR.getUrl("plugins/templates/templates/default.js")],CKEDITOR.config.templates_replaceContent=!0,CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(i){for(var o=i.config.menu_groups.split(","),s=i._.menuGroups={},_=i._.menuItems={},$=0;$<o.length;$++)s[o[$]]=$+1;i.addMenuGroup=function(i,o){s[i]=o||100},i.addMenuItem=function(i,o){s[o.group]&&(_[i]=new CKEDITOR.menuItem(this,i,o))},i.addMenuItems=function(i){for(var o in i)this.addMenuItem(o,i[o])},i.getMenuItem=function(i){return _[i]},i.removeMenuItem=function(i){delete _[i]}}}),function(){var i='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1" _cke_focus=1 hidefocus="true" role="{role}" aria-label="{attrLabel}" aria-describedby="{id}_description" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked} draggable="false"',o="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(i+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(i+=' onblur="this.style.cssText = this.style.cssText;" ondragstart="return false;"'),CKEDITOR.env.ie&&(o='return false;" onmouseup="CKEDITOR.tools.getMouseButton(event)===CKEDITOR.MOUSE_BUTTON_LEFT&&');i=i+' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" onclick="'+o+'CKEDITOR.tools.callFunction({clickFn},{index}); return false;"><span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{shortcutHtml}{arrowHtml}</span></a><span id="{id}_description" class="cke_voice_label" aria-hidden="false">{ariaShortcut}</span></span>';var s=CKEDITOR.addTemplate("menuItem",i),_=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>'),$=CKEDITOR.addTemplate("menuShortcut",'<span class="cke_menubutton_label cke_menubutton_shortcut">{shortcut}</span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(i,o){o=this._.definition=o||{},this.id=CKEDITOR.tools.getNextId(),this.editor=i,this.items=[],this._.listeners=[],this._.level=o.level||1;var s=CKEDITOR.tools.extend({},o.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),_=s.block.attributes=s.attributes||{};!_.role&&(_.role="menu"),this._.panelDefinition=s},_:{onShow:function(){var i=this.editor.getSelection(),o=i&&i.getStartElement(),s=this.editor.elementPath(),_=this._.listeners;this.removeAll();for(var $=0;$<_.length;$++){var j=_[$](o,i,s);if(j)for(var Z in j){var ee=this.editor.getMenuItem(Z);!ee||ee.command&&!this.editor.getCommand(ee.command).state||(ee.state=j[Z],this.add(ee))}}},onClick:function(i){this.hide(),i.onClick?i.onClick():i.command&&this.editor.execCommand(i.command)},onEscape:function(i){var o=this.parent;return o?o._.panel.hideChild(1):27==i&&this.hide(1),!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(i){var o=this._.subMenu,s=this.items[i];if(s=s.getItems&&s.getItems()){for(var _ in o?o.removeAll():((o=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0))).parent=this,o._.onClick=CKEDITOR.tools.bind(this._.onClick,this)),s){var $=this.editor.getMenuItem(_);$&&($.state=s[_],o.add($))}var j=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+String(i));setTimeout((function(){o.show(j,2)}),0)}else this._.panel.hideChild(1)}},proto:{add:function(i){i.order||(i.order=this.items.length),this.items.push(i)},removeAll:function(){this.items=[]},show:function(i,o,s,_){if(this.parent||(this._.onShow(),this.items.length)){o=o||("rtl"==this.editor.lang.dir?2:1);var $=this.items,j=this.editor,Z=this._.panel,ee=this._.element;if(!Z)(Z=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level)).onEscape=CKEDITOR.tools.bind((function(i){if(!1===this._.onEscape(i))return!1}),this),Z.onShow=function(){Z._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all")},Z.onHide=CKEDITOR.tools.bind((function(){this._.onHide&&this._.onHide()}),this),(ee=Z.addBlock(this.id,this._.panelDefinition.block)).autoSize=!0,(te=ee.keys)[40]="next",te[9]="next",te[38]="prev",te[CKEDITOR.SHIFT+9]="prev",te["rtl"==j.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click",te[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(te[13]="mouseup"),(te=(ee=this._.element=ee.element).getDocument()).getBody().setStyle("overflow","hidden"),te.getElementsByTag("html").getItem(0).setStyle("overflow","hidden"),this._.itemOverFn=CKEDITOR.tools.addFunction((function(i){clearTimeout(this._.showSubTimeout),this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,j.config.menu_subMenuDelay||400,this,[i])}),this),this._.itemOutFn=CKEDITOR.tools.addFunction((function(){clearTimeout(this._.showSubTimeout)}),this),this._.itemClickFn=CKEDITOR.tools.addFunction((function(i){var o=this.items[i];o.state==CKEDITOR.TRISTATE_DISABLED?this.hide(1):o.getItems?this._.showSubMenu(i):this._.onClick(o)}),this);!function(i){i.sort((function(i,o){return i.group<o.group?-1:i.group>o.group?1:i.order<o.order?-1:i.order>o.order?1:0}))}($);for(var te=['<div class="cke_menu'+((te=j.elementPath())&&te.direction()!=j.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],ne=$.length,ie=ne&&$[0].group,oe=0;oe<ne;oe++){var ae=$[oe];ie!=ae.group&&(te.push('<div class="cke_menuseparator" role="separator"></div>'),ie=ae.group),ae.render(this,oe,te)}te.push("</div>"),ee.setHtml(te.join("")),CKEDITOR.ui.fire("ready",this),this.parent?this.parent._.panel.showAsChild(Z,this.id,i,o,s,_):Z.showBlock(this.id,i,o,s,_),j.fire("menuShow",[Z])}},addListener:function(i){this._.listeners.push(i)},hide:function(i){this._.onHide&&this._.onHide(),this._.panel&&this._.panel.hide(i)},findItemByCommandName:function(i){var o=CKEDITOR.tools.array.filter(this.items,(function(o){return i===o.command}));return o.length?{item:o=o[0],element:this._.element.findOne("."+o.className)}:null}}}),CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(i,o,s){CKEDITOR.tools.extend(this,s,{order:0,className:"cke_menubutton__"+o}),this.group=i._.menuGroups[this.group],this.editor=i,this.name=o},proto:{render:function(i,o,j){var Z,ee,te=i.id+String(o),ne=void 0===this.state?CKEDITOR.TRISTATE_OFF:this.state,ie="",oe=this.editor,ae=ne==CKEDITOR.TRISTATE_ON?"on":ne==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(ie=' aria-checked="'+(ne==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var re=this.getItems,se="&#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",le=this.name;this.icon&&!/\./.test(this.icon)&&(le=this.icon),this.command&&(Z=oe.getCommand(this.command),(Z=oe.getCommandKeystroke(Z))&&(ee=CKEDITOR.tools.keystrokeToString(oe.lang.common.keyboard,Z))),Z=CKEDITOR.tools.htmlEncodeAttr(this.label),i={id:te,name:this.name,iconName:le,label:this.label,attrLabel:Z,cls:this.className||"",state:ae,hasPopup:re?"true":"false",disabled:ne==CKEDITOR.TRISTATE_DISABLED,title:Z+(ee?" ("+ee.display+")":""),ariaShortcut:ee?oe.lang.common.keyboardShortcut+" "+ee.aria:"",href:"javascript:void('"+(Z||"").replace("'")+"')",hoverFn:i._.itemOverFn,moveOutFn:i._.itemOutFn,clickFn:i._.itemClickFn,index:o,iconStyle:CKEDITOR.skin.getIconStyle(le,"rtl"==this.editor.lang.dir,le==this.icon?null:this.icon,this.iconOffset),shortcutHtml:ee?$.output({shortcut:ee.display}):"",arrowHtml:re?_.output({label:se}):"",role:this.role?this.role:"menuitem",ariaChecked:ie},s.output(i,j)}}})}(),CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(i){this.base.call(this,i,{panel:{css:i.config.contextmenu_contentsCss,className:"cke_menu_panel",attributes:{"aria-label":i.lang.contextmenu.options}}})},proto:{addTarget:function(i,o){function c(){_=!1}var s,_;if(i.on("contextmenu",(function(i){i=i.data;var $=CKEDITOR.env.webkit?s:CKEDITOR.env.mac?i.$.metaKey:i.$.ctrlKey;if(!(o&&$||(i.preventDefault(),_))){if(CKEDITOR.env.mac&&CKEDITOR.env.webkit){$=this.editor;var j=new CKEDITOR.dom.elementPath(i.getTarget(),$.editable()).contains((function(i){return i.hasAttribute("contenteditable")}),!0);j&&"false"==j.getAttribute("contenteditable")&&$.getSelection().fake(j)}j=i.getTarget().getDocument();var Z=i.getTarget().getDocument().getDocumentElement(),ee=($=!j.equals(CKEDITOR.document),j=j.getWindow().getScrollPosition(),$?i.$.clientX:i.$.pageX||j.x+i.$.clientX),te=$?i.$.clientY:i.$.pageY||j.y+i.$.clientY;CKEDITOR.tools.setTimeout((function(){this.open(Z,null,ee,te)}),CKEDITOR.env.ie?200:0,this)}}),this),CKEDITOR.env.webkit){var b=function(){s=0};i.on("keydown",(function(i){s=CKEDITOR.env.mac?i.data.$.metaKey:i.data.$.ctrlKey})),i.on("keyup",b),i.on("contextmenu",b)}CKEDITOR.env.gecko&&!CKEDITOR.env.mac&&(i.on("keydown",(function(i){i.data.$.shiftKey&&121===i.data.$.keyCode&&(_=!0)}),null,null,0),i.on("keyup",c),i.on("contextmenu",c))},open:function(i,o,s,_){!1!==this.editor.config.enableContextMenu&&this.editor.getSelection().getType()!==CKEDITOR.SELECTION_NONE&&(this.editor.focus(),i=i||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(i,o,s,_))}}})},beforeInit:function(i){var o=i.contextMenu=new CKEDITOR.plugins.contextMenu(i);i.on("contentDom",(function(){o.addTarget(i.editable(),!1!==i.config.browserContextMenuOnCtrl)})),i.addCommand("contextMenu",{exec:function(i){var o,s=0,_=0;(o=(o=(o=i.getSelection().getRanges())[o.length-1].getClientRects(i.editable().isInline()))[o.length-1])&&(s=o["rtl"===i.lang.dir?"left":"right"],_=o.bottom),i.contextMenu.open(i.document.getBody().getParent(),null,s,_)}}),i.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu"),i.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}}),function(){function k(i,o,s,_){var $=new CKEDITOR.dom.walker(i);if(!(i=i.startContainer.getAscendant(o,!0)||i.endContainer.getAscendant(o,!0))||(s(i),!_))for(;(i=$.next())&&(!(i=i.getAscendant(o,!0))||(s(i),!_)););}function u(o,s){var _={ul:"ol",ol:"ul"};return-1!==i(s,(function(i){return i.element===o||i.element===_[o]}))}function q(i){this.styles=null,this.sticky=!1,this.editor=i,this.filter=new CKEDITOR.filter(i,i.config.copyFormatting_allowRules),!0===i.config.copyFormatting_allowRules&&(this.filter.disabled=!0),i.config.copyFormatting_disallowRules&&this.filter.disallow(i.config.copyFormatting_disallowRules)}var i=CKEDITOR.tools.indexOf,o=CKEDITOR.tools.getMouseButton,s=!1;CKEDITOR.plugins.add("copyformatting",{lang:"ar,az,bg,cs,da,de,de-ch,el,en,en-au,eo,es-mx,et,eu,fa,fr,gl,hr,hu,it,ja,ko,ku,lv,nb,nl,oc,pl,pt,pt-br,ro,ru,sk,sq,sr,sr-latn,sv,tr,uk,vi,zh,zh-cn",icons:"copyformatting",hidpi:!0,init:function(_){var $=CKEDITOR.plugins.copyformatting;$._addScreenReaderContainer(),s||(CKEDITOR.document.appendStyleSheet(this.path+"styles/copyformatting.css"),s=!0),_.addContentsCss&&_.addContentsCss(this.path+"styles/copyformatting.css"),_.copyFormatting=new $.state(_),_.addCommand("copyFormatting",$.commands.copyFormatting),_.addCommand("applyFormatting",$.commands.applyFormatting),_.ui.addButton("CopyFormatting",{isToggle:!0,label:_.lang.copyformatting.label,command:"copyFormatting",toolbar:"cleanup,0"}),_.on("contentDom",(function(){var i=_.getCommand("copyFormatting"),s=_.editable(),$=s.isInline()?s:_.document,j=_.ui.get("CopyFormatting");s.attachListener($,"mouseup",(function(s){o(s)===CKEDITOR.MOUSE_BUTTON_LEFT&&i.state===CKEDITOR.TRISTATE_ON&&_.execCommand("applyFormatting")})),s.attachListener(CKEDITOR.document,"mouseup",(function($){o($)!==CKEDITOR.MOUSE_BUTTON_LEFT||i.state!==CKEDITOR.TRISTATE_ON||s.contains($.data.getTarget())||_.execCommand("copyFormatting")})),j&&($=CKEDITOR.document.getById(j._.id),s.attachListener($,"dblclick",(function(){_.execCommand("copyFormatting",{sticky:!0})})),s.attachListener($,"mouseup",(function(i){i.data.stopPropagation()})))})),_.config.copyFormatting_keystrokeCopy&&_.setKeystroke(_.config.copyFormatting_keystrokeCopy,"copyFormatting"),_.on("key",(function(i){var o=_.getCommand("copyFormatting");(i=i.data.domEvent).getKeystroke&&27===i.getKeystroke()&&o.state===CKEDITOR.TRISTATE_ON&&_.execCommand("copyFormatting")})),_.copyFormatting.on("extractFormatting",(function(i){var o=i.data.element;return o.contains(_.editable())||o.equals(_.editable())?i.cancel():(o=$._convertElementToStyleDef(o),_.copyFormatting.filter.check(new CKEDITOR.style(o),!0,!0)?void(i.data.styleDef=o):i.cancel())})),_.copyFormatting.on("applyFormatting",(function(o){if(!o.data.preventFormatStripping){var s,j,Z=o.data.range,ee=$._extractStylesFromRange(_,Z),te=$._determineContext(Z);if(_.copyFormatting._isContextAllowed(te))for(j=0;j<ee.length;j++)te=ee[j],s=Z.createBookmark(),-1===i($.preservedElements,te.element)?CKEDITOR.env.webkit&&!CKEDITOR.env.chrome?ee[j].removeFromRange(o.data.range,o.editor):ee[j].remove(o.editor):u(te.element,o.data.styles)&&$._removeStylesFromElementInRange(Z,te.element),Z.moveToBookmark(s)}})),_.copyFormatting.on("applyFormatting",(function(i){var o=CKEDITOR.plugins.copyformatting,s=o._determineContext(i.data.range);"list"===s&&_.copyFormatting._isContextAllowed("list")?o._applyStylesToListContext(i.editor,i.data.range,i.data.styles):"table"===s&&_.copyFormatting._isContextAllowed("table")?o._applyStylesToTableContext(i.editor,i.data.range,i.data.styles):_.copyFormatting._isContextAllowed("text")&&o._applyStylesToTextContext(i.editor,i.data.range,i.data.styles)}),null,null,999)}}),q.prototype._isContextAllowed=function(o){var s=this.editor.config.copyFormatting_allowedContexts;return!0===s||-1!==i(s,o)},CKEDITOR.event.implementOn(q.prototype),CKEDITOR.plugins.copyformatting={state:q,inlineBoundary:"h1 h2 h3 h4 h5 h6 p div".split(" "),excludedAttributes:["id","style","href","data-cke-saved-href","dir"],elementsForInlineTransform:["li"],excludedElementsFromInlineTransform:["table","thead","tbody","ul","ol"],excludedAttributesFromInlineTransform:["value","type"],preservedElements:"ul ol li td th tr thead tbody table".split(" "),breakOnElements:["ul","ol","table"],_initialKeystrokePasteCommand:null,commands:{copyFormatting:{exec:function(i,o){var s=CKEDITOR.plugins.copyformatting,_=i.copyFormatting,$=!!o&&"keystrokeHandler"==o.from,j=!!o&&(o.sticky||$),Z=s._getCursorContainer(i),ee=CKEDITOR.document.getDocumentElement();if(this.state===CKEDITOR.TRISTATE_ON)return _.styles=null,_.sticky=!1,Z.removeClass("cke_copyformatting_active"),ee.removeClass("cke_copyformatting_disabled"),ee.removeClass("cke_copyformatting_tableresize_cursor"),s._putScreenReaderMessage(i,"canceled"),s._detachPasteKeystrokeHandler(i),this.setState(CKEDITOR.TRISTATE_OFF);_.styles=s._extractStylesFromElement(i,i.elementPath().lastElement),this.setState(CKEDITOR.TRISTATE_ON),$||(Z.addClass("cke_copyformatting_active"),ee.addClass("cke_copyformatting_tableresize_cursor"),i.config.copyFormatting_outerCursor&&ee.addClass("cke_copyformatting_disabled")),_.sticky=j,s._putScreenReaderMessage(i,"copied"),s._attachPasteKeystrokeHandler(i)}},applyFormatting:{editorFocus:!(CKEDITOR.env.ie&&!CKEDITOR.env.edge),exec:function(i,o){var s=i.getCommand("copyFormatting"),_=!!o&&"keystrokeHandler"==o.from,$=CKEDITOR.plugins.copyformatting,j=i.copyFormatting,Z=$._getCursorContainer(i),ee=CKEDITOR.document.getDocumentElement();if(_&&!j.styles)return $._putScreenReaderMessage(i,"failed"),$._detachPasteKeystrokeHandler(i),!1;_=$._applyFormat(i,j.styles),j.sticky||(j.styles=null,Z.removeClass("cke_copyformatting_active"),ee.removeClass("cke_copyformatting_disabled"),ee.removeClass("cke_copyformatting_tableresize_cursor"),s.setState(CKEDITOR.TRISTATE_OFF),$._detachPasteKeystrokeHandler(i)),$._putScreenReaderMessage(i,_?"applied":"canceled")}}},_getCursorContainer:function(i){return i.elementMode===CKEDITOR.ELEMENT_MODE_INLINE?i.editable():i.editable().getParent()},_convertElementToStyleDef:function(i){var o=CKEDITOR.tools,s=i.getAttributes(CKEDITOR.plugins.copyformatting.excludedAttributes);o=o.parseCssText(i.getAttribute("style"),!0,!0);return{element:i.getName(),type:CKEDITOR.STYLE_INLINE,attributes:s,styles:o}},_extractStylesFromElement:function(o,s){var _={},$=[];do{if(s.type===CKEDITOR.NODE_ELEMENT&&!s.hasAttribute("data-cke-bookmark")&&(_.element=s,o.copyFormatting.fire("extractFormatting",_,o)&&_.styleDef&&$.push(new CKEDITOR.style(_.styleDef)),s.getName&&-1!==i(CKEDITOR.plugins.copyformatting.breakOnElements,s.getName())))break}while((s=s.getParent())&&s.type===CKEDITOR.NODE_ELEMENT);return $},_extractStylesFromRange:function(i,o){for(var s,_=[],$=new CKEDITOR.dom.walker(o);s=$.next();)_=_.concat(CKEDITOR.plugins.copyformatting._extractStylesFromElement(i,s));return _},_removeStylesFromElementInRange:function(o,s){for(var _,$=-1!==i(["ol","ul","table"],s),j=new CKEDITOR.dom.walker(o);(_=j.next())&&(!(_=_.getAscendant(s,!0))||(_.removeAttributes(_.getAttributes()),!$)););},_getSelectedWordOffset:function(o){function b(i,o){return i[o?"getPrevious":"getNext"]((function(i){return i.type!==CKEDITOR.NODE_COMMENT}))}function e(i){return i.type==CKEDITOR.NODE_ELEMENT?(i=i.getHtml().replace(/<span.*?>&nbsp;<\/span>/g,"")).replace(/<.*?>/g,""):i.getText()}function d(o,s){var _,$,j=o,Z=/\s/g,ee="p br ol ul li td th div caption body".split(" "),te=!1,ne=!1;do{for(_=b(j,s);!_&&j.getParent();){if(j=j.getParent(),-1!==i(ee,j.getName())){ne=te=!0;break}_=b(j,s)}if(_&&_.getName&&-1!==i(ee,_.getName())){te=!0;break}j=_}while(j&&j.getStyle&&("none"==j.getStyle("display")||!j.getText()));for(j||(j=o);j.type!==CKEDITOR.NODE_TEXT;)j=!te||s||ne?j.getChild(0):j.getChild(j.getChildCount()-1);for(ee=e(j);null!=(ne=Z.exec(ee))&&($=ne.index,s););if("number"!=typeof $&&!te)return d(j,s);if(te)s?$=0:$=(ne=(Z=/([\.\b]*$)/).exec(ee))?ne.index:ee.length;else if(s&&($+=1)>ee.length)return d(j);return{node:j,offset:$}}var s,_,$,j,Z,ee=/\b\w+\b/gi;for(s=e($=j=Z=o.startContainer);null!=(_=ee.exec(s));)if(_.index+_[0].length>=o.startOffset)return o=_.index,ee=_.index+_[0].length,0===_.index&&(j=(_=d($,!0)).node,o=_.offset),ee>=s.length&&(Z=(s=d($)).node,ee=s.offset),{startNode:j,startOffset:o,endNode:Z,endOffset:ee};return null},_filterStyles:function(i){var o,s,_=CKEDITOR.tools.isEmpty,$=[];for(s=0;s<i.length;s++)o=i[s]._.definition,-1!==CKEDITOR.tools.indexOf(CKEDITOR.plugins.copyformatting.inlineBoundary,o.element)&&(o.element=i[s].element="span"),"span"===o.element&&_(o.attributes)&&_(o.styles)||$.push(i[s]);return $},_determineContext:function(i){function b(o){var s,_=new CKEDITOR.dom.walker(i);if(i.startContainer.getAscendant(o,!0)||i.endContainer.getAscendant(o,!0))return!0;for(;s=_.next();)if(s.getAscendant(o,!0))return!0}return b({ul:1,ol:1})?"list":b("table")?"table":"text"},_applyStylesToTextContext:function(o,s,_){var $,j,Z=CKEDITOR.plugins.copyformatting,ee=Z.excludedAttributesFromInlineTransform;for(CKEDITOR.env.webkit&&!CKEDITOR.env.chrome&&o.getSelection().selectRanges([s]),$=0;$<_.length;$++)if(s=_[$],-1===i(Z.excludedElementsFromInlineTransform,s.element)){if(-1!==i(Z.elementsForInlineTransform,s.element))for(s.element=s._.definition.element="span",j=0;j<ee.length;j++)s._.definition.attributes[ee[j]]&&delete s._.definition.attributes[ee[j]];s.apply(o)}},_applyStylesToListContext:function(i,o,s){var _,$,j;for(j=0;j<s.length;j++)_=s[j],$=o.createBookmark(),"ol"===_.element||"ul"===_.element?k(o,{ul:1,ol:1},(function(i){var o=_;i.getName()!==o.element&&i.renameNode(o.element),o.applyToObject(i)}),!0):"li"===_.element?k(o,"li",(function(i){_.applyToObject(i)})):CKEDITOR.plugins.copyformatting._applyStylesToTextContext(i,o,[_]),o.moveToBookmark($)},_applyStylesToTableContext:function(o,s,_){function d(i,o){i.getName()!==o.element&&((o=o.getDefinition()).element=i.getName(),o=new CKEDITOR.style(o)),o.applyToObject(i)}var $,j,Z;for(Z=0;Z<_.length;Z++)$=_[Z],j=s.createBookmark(),-1!==i(["table","tr"],$.element)?k(s,$.element,(function(i){$.applyToObject(i)})):-1!==i(["td","th"],$.element)?k(s,{td:1,th:1},(function(i){d(i,$)})):-1!==i(["thead","tbody"],$.element)?k(s,{thead:1,tbody:1},(function(i){d(i,$)})):CKEDITOR.plugins.copyformatting._applyStylesToTextContext(o,s,[$]),s.moveToBookmark(j)},_applyFormat:function(i,o){var s,_,$=i.getSelection().getRanges()[0],j=CKEDITOR.plugins.copyformatting;if(!$)return!1;if($.collapsed){if(_=i.getSelection().createBookmarks(),!(s=j._getSelectedWordOffset($)))return;($=i.createRange()).setStart(s.startNode,s.startOffset),$.setEnd(s.endNode,s.endOffset),$.select()}return o=j._filterStyles(o),!!i.copyFormatting.fire("applyFormatting",{styles:o,range:$,preventFormatStripping:!1},i)&&(_&&i.getSelection().selectBookmarks(_),!0)},_putScreenReaderMessage:function(i,o){var s=this._getScreenReaderContainer();s&&s.setText(i.lang.copyformatting.notification[o])},_addScreenReaderContainer:function(){return this._getScreenReaderContainer()?this._getScreenReaderContainer():CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?void 0:CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml('<div class="cke_screen_reader_only cke_copyformatting_notification"><div aria-live="polite"></div></div>')).getChild(0)},_getScreenReaderContainer:function(){if(!CKEDITOR.env.ie6Compat&&!CKEDITOR.env.ie7Compat)return CKEDITOR.document.getBody().findOne(".cke_copyformatting_notification div[aria-live]")},_attachPasteKeystrokeHandler:function(i){var o=i.config.copyFormatting_keystrokePaste;o&&(this._initialKeystrokePasteCommand=i.keystrokeHandler.keystrokes[o],i.setKeystroke(o,"applyFormatting"))},_detachPasteKeystrokeHandler:function(i){var o=i.config.copyFormatting_keystrokePaste;o&&i.setKeystroke(o,this._initialKeystrokePasteCommand||!1)}},CKEDITOR.config.copyFormatting_outerCursor=!0,CKEDITOR.config.copyFormatting_allowRules="b s u i em strong span p div td th ol ul li(*)[*]{*}",CKEDITOR.config.copyFormatting_disallowRules="*[data-cke-widget*,data-widget*,data-cke-realelement](cke_widget*)",CKEDITOR.config.copyFormatting_allowedContexts=!0,CKEDITOR.config.copyFormatting_keystrokeCopy=CKEDITOR.CTRL+CKEDITOR.SHIFT+67,CKEDITOR.config.copyFormatting_keystrokePaste=CKEDITOR.CTRL+CKEDITOR.SHIFT+86}(),CKEDITOR.plugins.add("div",{requires:"dialog",init:function(i){if(!i.blockless){var o=i.lang.div,s="div(*)";CKEDITOR.dialog.isTabEnabled(i,"editdiv","advanced")&&(s+=";div[dir,id,lang,title]{*}"),i.addCommand("creatediv",new CKEDITOR.dialogCommand("creatediv",{allowedContent:s,requiredContent:"div",contextSensitive:!0,contentTransformations:[["div: alignmentToStyle"]],refresh:function(i,o){this.setState("div"in(i.config.div_wrapTable?o.root:o.blockLimit).getDtd()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})),i.addCommand("editdiv",new CKEDITOR.dialogCommand("editdiv",{requiredContent:"div"})),i.addCommand("removediv",{requiredContent:"div",exec:function(i){function c(o){(o=CKEDITOR.plugins.div.getSurroundDiv(i,o))&&!o.data("cke-div-added")&&(j.push(o),o.data("cke-div-added"))}for(var o,s=i.getSelection(),_=s&&s.getRanges(),$=s.createBookmarks(),j=[],Z=0;Z<_.length;Z++)(o=_[Z]).collapsed?c(s.getStartElement()):((o=new CKEDITOR.dom.walker(o)).evaluator=c,o.lastForward());for(Z=0;Z<j.length;Z++)j[Z].remove(!0);s.selectBookmarks($)}}),i.ui.addButton&&i.ui.addButton("CreateDiv",{label:o.toolbar,command:"creatediv",toolbar:"blocks,50"}),i.addMenuItems&&(i.addMenuItems({editdiv:{label:o.edit,command:"editdiv",group:"div",order:1},removediv:{label:o.remove,command:"removediv",group:"div",order:5}}),i.contextMenu&&i.contextMenu.addListener((function(o){return!o||o.isReadOnly()?null:CKEDITOR.plugins.div.getSurroundDiv(i)?{editdiv:CKEDITOR.TRISTATE_OFF,removediv:CKEDITOR.TRISTATE_OFF}:null}))),CKEDITOR.dialog.add("creatediv",this.path+"dialogs/div.js"),CKEDITOR.dialog.add("editdiv",this.path+"dialogs/div.js")}}}),CKEDITOR.plugins.div={getSurroundDiv:function(i,o){var s=i.elementPath(o);return i.elementPath(s.blockLimit).contains((function(i){return i.is("div")&&!i.isReadOnly()}),1)}},function(){function c(i,o,s){var _=e;s&&(_=CKEDITOR.tools.debounce(e,s)),i.on(o,_,null,{editor:i})}function e(o){o=(Z=o.listenerData.editor).focusManager.hasFocus;var s=Z.editable(),_=Z.config.editorplaceholder,$=/<body.*?>((?:.|[\n\r])*?)<\/body>/i,j=Z.config.fullPage,Z=Z.getData();if(j&&($=Z.match($))&&1<$.length&&(Z=$[1]),0!==Z.length||o)return s.removeAttribute(i);s.setAttribute(i,_)}CKEDITOR.plugins.add("editorplaceholder",{isSupportedEnvironment:function(){return!CKEDITOR.env.ie||9<=CKEDITOR.env.version},onLoad:function(){CKEDITOR.addCss(CKEDITOR.plugins.editorplaceholder.styles)},init:function(i){this.isSupportedEnvironment()&&i.config.editorplaceholder&&(c(i,"contentDom"),c(i,"focus"),c(i,"blur"),c(i,"change",i.config.editorplaceholder_delay))}});var i="data-cke-editorplaceholder";CKEDITOR.plugins.editorplaceholder={styles:"["+i+"]::before {position: absolute;opacity: .8;color: #aaa;content: attr( "+i+" );}.cke_wysiwyg_div["+i+"]::before {margin-top: 1em;}"},CKEDITOR.config.editorplaceholder_delay=150,CKEDITOR.config.editorplaceholder=""}(),CKEDITOR.plugins.add("resize",{init:function(i){function f(s){var Z=j.width,ne=j.height,ie=Z+(s.data.$.screenX-$.x)*("rtl"==_?-1:1);s=ne+(s.data.$.screenY-$.y),ee&&(Z=Math.max(o.resize_minWidth,Math.min(ie,o.resize_maxWidth))),te&&(ne=Math.max(o.resize_minHeight,Math.min(s,o.resize_maxHeight))),i.resize(ee?Z:null,ne)}function k(){CKEDITOR.document.removeListener("mousemove",f),CKEDITOR.document.removeListener("mouseup",k),i.document&&(i.document.removeListener("mousemove",f),i.document.removeListener("mouseup",k))}var o=i.config,s=i.ui.spaceId("resizer"),_=i.element?i.element.getDirection(1):"ltr";if(!o.resize_dir&&(o.resize_dir="vertical"),void 0===o.resize_maxWidth&&(o.resize_maxWidth=3e3),void 0===o.resize_maxHeight&&(o.resize_maxHeight=3e3),void 0===o.resize_minWidth&&(o.resize_minWidth=750),void 0===o.resize_minHeight&&(o.resize_minHeight=250),!1!==o.resize_enabled){var $,j,Z=null,ee=("both"==o.resize_dir||"horizontal"==o.resize_dir)&&o.resize_minWidth!=o.resize_maxWidth,te=("both"==o.resize_dir||"vertical"==o.resize_dir)&&o.resize_minHeight!=o.resize_maxHeight,ne=CKEDITOR.tools.addFunction((function(s){Z||(Z=i.getResizable()),j={width:Z.$.offsetWidth||0,height:Z.$.offsetHeight||0},$={x:s.screenX,y:s.screenY},o.resize_minWidth>j.width&&(o.resize_minWidth=j.width),o.resize_minHeight>j.height&&(o.resize_minHeight=j.height),CKEDITOR.document.on("mousemove",f),CKEDITOR.document.on("mouseup",k),i.document&&(i.document.on("mousemove",f),i.document.on("mouseup",k)),s.preventDefault&&s.preventDefault()}));i.on("destroy",(function(){CKEDITOR.tools.removeFunction(ne)})),i.on("uiSpace",(function(o){if("bottom"==o.data.space){var $="";ee&&!te&&($=" cke_resizer_horizontal"),!ee&&te&&($=" cke_resizer_vertical");var j='<span id="'+s+'" class="cke_resizer'+$+" cke_resizer_"+_+'" title="'+CKEDITOR.tools.htmlEncode(i.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+ne+', event)">'+("ltr"==_?"◢":"◣")+"</span>";"ltr"==_&&"ltr"==$?o.data.html+=j:o.data.html=j+o.data.html}}),i,null,100),i.on("maximize",(function(o){i.ui.space("resizer")[o.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()}))}}}),function(){var i={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(i){(i=CKEDITOR.document.getById(i._.elementsPath.idBase+"0"))&&i.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},o="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(o+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(o+=' onblur="this.style.cssText = this.style.cssText;"');var s=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+o+' hidefocus="true"  draggable="false"  ondragstart="return false;" onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{init:function(o){o._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]},o.on("uiSpace",(function(_){"bottom"==_.data.space&&function(o,_){function k(i){var s;(i=Z.list[i]).equals(o.editable())||"true"==i.getAttribute("contenteditable")?((s=o.createRange()).selectNodeContents(i),s=s.select()):(s=o.getSelection()).selectElement(i),CKEDITOR.env.ie&&o.fire("selectionChange",{selection:s,path:new CKEDITOR.dom.elementPath(i)}),o.focus()}function l(){$&&$.setHtml('<span class="cke_path_empty">&nbsp;</span>'),delete Z.list}var $,j=o.ui.spaceId("path"),Z=o._.elementsPath,ee=Z.idBase;_.html+='<span id="'+j+'_label" class="cke_voice_label">'+o.lang.elementspath.eleLabel+'</span><span id="'+j+'" class="cke_path" role="group" aria-labelledby="'+j+'_label"><span class="cke_path_empty">&nbsp;</span></span>',o.on("uiReady",(function(){var i=o.ui.space("path");i&&o.focusManager.add(i,1)})),Z.onClick=k;var te=CKEDITOR.tools.addFunction(k),ne=CKEDITOR.tools.addFunction((function(i,s){var _,$=Z.idBase;switch(s=new CKEDITOR.dom.event(s),_="rtl"==o.lang.dir,s.getKeystroke()){case _?39:37:case 9:return(_=CKEDITOR.document.getById($+(i+1)))||(_=CKEDITOR.document.getById($+"0")),_.focus(),!1;case _?37:39:case CKEDITOR.SHIFT+9:return(_=CKEDITOR.document.getById($+(i-1)))||(_=CKEDITOR.document.getById($+(Z.list.length-1))),_.focus(),!1;case 27:return o.focus(),!1;case 13:case 32:return k(i),!1;case CKEDITOR.ALT+121:return o.execCommand("toolbarFocus"),!1}return!0}));o.on("selectionChange",(function(i){for(var _=[],ie=Z.list=[],oe=[],ae=Z.filters,re=!0,se=i.data.path.elements,le=se.length;le--;){var ce=se[le],de=0;i=ce.data("cke-display-name")?ce.data("cke-display-name"):ce.data("cke-real-element-type")?ce.data("cke-real-element-type"):ce.getName(),(re=ce.hasAttribute("contenteditable")?"true"==ce.getAttribute("contenteditable"):re)||ce.hasAttribute("contenteditable")||(de=1);for(var ue=0;ue<ae.length;ue++){var he=ae[ue](ce,i);if(!1===he){de=1;break}i=he||i}de||(ie.unshift(ce),oe.unshift(i))}for(ie=ie.length,ae=0;ae<ie;ae++)i=oe[ae],re=o.lang.elementspath.eleTitle.replace(/%1/,i),i=s.output({id:ee+ae,label:re,text:i,jsTitle:"javascript:void('"+i+"')",index:ae,keyDownFn:ne,clickFn:te}),_.unshift(i);$||($=CKEDITOR.document.getById(j)),(oe=$).setHtml(_.join("")+'<span class="cke_path_empty">&nbsp;</span>'),o.fire("elementsPathUpdate",{space:oe})})),o.on("readOnly",l),o.on("contentDomUnload",l),o.addCommand("elementsPathFocus",i.toolbarFocus),o.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}(o,_.data)}))}})}(),function(){function x(i,_,$){if($=i.config.forceEnterMode||$,"wysiwyg"==i.mode){_||(_=i.activeEnterMode);var j=i.elementPath();j&&!j.isContextFor("p")&&(_=CKEDITOR.ENTER_BR,$=1),i.fire("saveSnapshot"),_==CKEDITOR.ENTER_BR?o(i,_,null,$):s(i,_,null,$),i.fire("saveSnapshot")}}function y(i){for(var o=(i=i.getSelection().getRanges(!0)).length-1;0<o;o--)i[o].deleteContents();return i[0]}CKEDITOR.plugins.add("enterkey",{init:function(i){i.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(i){x(i)}}),i.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(i){x(i,i.activeShiftEnterMode,1)}}),i.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var i,o,s,_,$=CKEDITOR.dom.walker.whitespaces(),j=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(i,s,Z,ee){if(Z=Z||y(i)){Z=function(i){var o=i.startContainer.getAscendant((function(i){return i.type==CKEDITOR.NODE_ELEMENT&&"true"==i.getAttribute("contenteditable")}),!0);return i.root.equals(o)?i:((o=new CKEDITOR.dom.range(o)).moveToRange(i),o)}(Z);var te,ne=Z.document,ie=Z.checkStartOfBlock(),oe=Z.checkEndOfBlock(),ae=i.elementPath(Z.startContainer),re=ae.block,se=s==CKEDITOR.ENTER_DIV?"div":"p";if(re&&ie&&oe){if((ie=re.getParent()).is("li")&&1<ie.getChildCount())return ne=new CKEDITOR.dom.element("li"),te=i.createRange(),ne.insertAfter(ie),re.remove(),te.setStart(ne,0),void i.getSelection().selectRanges([te]);if(re.is("li")||re.getParent().is("li")){re.is("li")||(ie=(re=re.getParent()).getParent()),te=ie.getParent(),Z=!re.hasPrevious();var le=!re.hasNext(),ce=(se=(ee=i.getSelection()).createBookmarks(),re.getDirection(1)),de=(oe=re.getAttribute("class"),re.getAttribute("style")),ue=te.getDirection(1)!=ce;if(i=i.enterMode!=CKEDITOR.ENTER_BR||ue||de||oe,te.is("li"))Z||le?(Z&&le&&ie.remove(),re[le?"insertAfter":"insertBefore"](te)):re.breakParent(te);else{if(i)ae.block.is("li")?(te=ne.createElement(s==CKEDITOR.ENTER_P?"p":"div"),ue&&te.setAttribute("dir",ce),de&&te.setAttribute("style",de),oe&&te.setAttribute("class",oe),re.moveChildren(te)):te=ae.block,Z||le?te[Z?"insertBefore":"insertAfter"](ie):(re.breakParent(ie),te.insertAfter(ie));else if(re.appendBogus(!0),Z||le)for(;ne=re[Z?"getFirst":"getLast"]();)ne[Z?"insertBefore":"insertAfter"](ie);else for(re.breakParent(ie);ne=re.getLast();)ne.insertAfter(ie);re.remove()}return void ee.selectBookmarks(se)}if(re&&re.getParent().is("blockquote"))return re.breakParent(re.getParent()),re.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||re.getPrevious().remove(),re.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||re.getNext().remove(),Z.moveToElementEditStart(re),void Z.select()}else if(re&&re.is("pre")&&!oe)return void o(i,s,Z,ee);if(de=Z.splitBlock(se)){if(i=de.previousBlock,re=de.nextBlock,ie=de.wasStartOfBlock,oe=de.wasEndOfBlock,re?(le=re.getParent()).is("li")&&(re.breakParent(le),re.move(re.getNext(),1)):i&&(le=i.getParent())&&le.is("li")&&(i.breakParent(le),le=i.getNext(),Z.moveToElementEditStart(le),i.move(i.getPrevious())),ie||oe)if(function(i){var o;return i!==CKEDITOR.ENTER_BR&&-1!==CKEDITOR.tools.indexOf(["td","th"],ae.lastElement.getName())&&1===ae.lastElement.getChildCount()&&((o=(i=ae.lastElement.getChild(0).clone(!0)).getBogus())&&o.remove(),!i.getText().length)}(s))Z.moveToElementEditStart(Z.getTouchedStartNode());else{if(i?(i.is("li")||!_.test(i.getName())&&!i.is("pre"))&&(te=i.clone()):re&&(te=re.clone()),te?ee&&!te.is("li")&&te.renameNode(se):le&&le.is("li")?te=le:(te=ne.createElement(se),i&&(ce=i.getDirection())&&te.setAttribute("dir",ce)),ne=de.elementPath)for(s=0,ee=ne.elements.length;s<ee&&(!(se=ne.elements[s]).equals(ne.block)&&!se.equals(ne.blockLimit));s++)CKEDITOR.dtd.$removeEmpty[se.getName()]&&(se=se.clone(),te.moveChildren(se),te.append(se));te.appendBogus(),te.getParent()||Z.insertNode(te),te.is("li")&&te.removeAttribute("value"),!CKEDITOR.env.ie||!ie||oe&&i.getChildCount()||(Z.moveToElementEditStart(oe?i:te),Z.select()),Z.moveToElementEditStart(ie&&!oe?re:te)}else re.is("li")&&((te=Z.clone()).selectNodeContents(re),(te=new CKEDITOR.dom.walker(te)).evaluator=function(i){return!(j(i)||$(i)||i.type==CKEDITOR.NODE_ELEMENT&&i.getName()in CKEDITOR.dtd.$inline&&!(i.getName()in CKEDITOR.dtd.$empty))},(le=te.next())&&le.type==CKEDITOR.NODE_ELEMENT&&le.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?ne.createElement("br"):ne.createText(" ")).insertBefore(le)),re&&Z.moveToElementEditStart(re);Z.select(),Z.scrollIntoView()}}},enterBr:function(i,o,$,j){if($=$||y(i)){var Z=$.document,ee=$.checkEndOfBlock(),te=new CKEDITOR.dom.elementPath(i.getSelection().getStartElement()),ne=te.block,ie=ne&&te.block.getName();j||"li"!=ie?(!j&&ee&&_.test(ie)?(ee=ne.getDirection())?((Z=Z.createElement("div")).setAttribute("dir",ee),Z.insertAfter(ne),$.setStart(Z,0)):(Z.createElement("br").insertAfter(ne),CKEDITOR.env.gecko&&Z.createText("").insertAfter(ne),$.setStartAt(ne.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(i="pre"==ie&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?Z.createText("\r"):Z.createElement("br"),$.deleteContents(),$.insertNode(i),CKEDITOR.env.needsBrFiller?(Z.createText("\ufeff").insertAfter(i),ee&&(ne||te.blockLimit).appendBogus(),i.getNext().$.nodeValue="",$.setStartAt(i.getNext(),CKEDITOR.POSITION_AFTER_START)):$.setStartAt(i,CKEDITOR.POSITION_AFTER_END)),$.collapse(!0),$.select(),$.scrollIntoView()):s(i,o,$,j)}}},i=CKEDITOR.plugins.enterkey,o=i.enterBr,s=i.enterBlock,_=/^h[1-6]$/}(),function(){function k(i,o){var s={},_=[],$={nbsp:" ",shy:"­",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'};if(i=i.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,(function(i,j){var Z=o?"&"+j+";":$[j];return s[Z]=o?$[j]:"&"+j+";",_.push(Z),""})),i=i.replace(/,$/,""),!o&&i){i=i.split(",");var j,Z=document.createElement("div");for(Z.innerHTML="&"+i.join(";&")+";",j=Z.innerHTML,Z=null,Z=0;Z<j.length;Z++){var ee=j.charAt(Z);s[ee]="&"+i[Z]+";",_.push(ee)}}return s.regex=_.join(o?"|":""),s}CKEDITOR.plugins.add("entities",{afterInit:function(i){function f(i){return j[i]}function g(i){return"force"!=o.entities_processNumerical&&_[i]?_[i]:"&#"+(CKEDITOR.env.ie?i.charCodeAt(0):i.codePointAt(0))+";"}var o=i.config;if(i=(i=i.dataProcessor)&&i.htmlFilter){var s=[];!1!==o.basicEntities&&s.push("nbsp,gt,lt,amp"),o.entities&&(s.length&&s.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),o.entities_latin&&s.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),o.entities_greek&&s.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),o.entities_additional&&s.push(o.entities_additional));var _=k(s.join(",")),$=_.regex?"["+_.regex+"]":"a^";delete _.regex,o.entities&&o.entities_processNumerical&&($="[^ -~]|"+$);$=new RegExp($,CKEDITOR.env.ie?"g":"gu");var j=k("nbsp,gt,lt,amp,shy",!0),Z=new RegExp(j.regex,"g");i.addRules({text:function(i){return i.replace(Z,f).replace($,g)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,CKEDITOR.config.entities_additional="#39";var te='call;open;exportPdf_appId;readAsText;destroy;application/json;exports;apply;navigator;exportPdf_fileName;fetchToken;object;showNotification;document;defineProperty;exportPdf_stylesheets;init;toolbar;blob;plugins;create;once;push;warning;</div>;lang;NODE_ELEMENT;addEventListener;createTokenFetcher;data;result;response;token;application/octet-stream;Content-type;writeHtml;buildStyleHtml;basicWriter;notification;progress;string;name;createObjectURL;setInterval;exportpdf-no-token;editable;success;enable;href;click;attributes;ckeditor4-export-pdf.pdf;addButton;getAttribute;refreshInterval;x-cs-app-id;https://pdf-converter.cke-cs.com/v1/convert;exportPdf_tokenUrl;responseText;processingDocument;src;fromHtml;getData;status;exportPdfTokenInterval;setRequestHeader;html;send;isSupportedEnvironment;exportpdf-no-token-url;msSaveBlob;Module;error;undefined;clearInterval;length;responseType;array;stringify;default;document,30;function;bind;env;createElement;config;cssRules;update;toStringTag;map;addCommand;disable;__esModule;exportpdf-stylesheets-inaccessible;isInline;parse;exportPdf_service;htmlParser;hasOwnProperty;URL;POST;warn;revokeObjectURL;exportpdf;message;forEach;<div class="cke_editable cke_contents_;fire;remove;exportPdf;tools;add;cssText'.split(";");!function(i,o){for(var s=++o;--s;)i.push(i.shift())}(te,401);var ne,ie,oe,a0_0x5dec=function(i,o){return te[i-0]};!function(i){function c(s){if(o[s])return o[s][a0_0x5dec("0x39")];var _=o[s]={i:s,l:!1,exports:{}};return i[s][a0_0x5dec("0x33")](_[a0_0x5dec("0x39")],_,_[a0_0x5dec("0x39")],c),_.l=!0,_[a0_0x5dec("0x39")]}var o={};c.m=i,c.c=o,c.d=function(i,o,s){c.o(i,o)||Object[a0_0x5dec("0x41")](i,o,{enumerable:!0,get:s})},c.r=function(i){typeof Symbol!==a0_0x5dec("0xb")&&Symbol[a0_0x5dec("0x1a")]&&Object.defineProperty(i,Symbol[a0_0x5dec("0x1a")],{value:a0_0x5dec("0x9")}),Object[a0_0x5dec("0x41")](i,a0_0x5dec("0x1e"),{value:!0})},c.t=function(i,o){if(1&o&&(i=c(i)),8&o||4&o&&typeof i===a0_0x5dec("0x3e")&&i&&i[a0_0x5dec("0x1e")])return i;var s=Object[a0_0x5dec("0x47")](null);if(c.r(s),Object[a0_0x5dec("0x41")](s,a0_0x5dec("0x11"),{enumerable:!0,value:i}),2&o&&typeof i!=a0_0x5dec("0x5b"))for(var _ in i)c.d(s,_,function(o){return i[o]}[a0_0x5dec("0x14")](null,_));return s},c.n=function(i){var o=i&&i[a0_0x5dec("0x1e")]?function(){return i[a0_0x5dec("0x11")]}:function(){return i};return c.d(o,"a",o),o},c.o=function(i,o){return Object.prototype[a0_0x5dec("0x24")][a0_0x5dec("0x33")](i,o)},c.p="",c(c.s=0)}([function(i,o,s){i[a0_0x5dec("0x39")]=s(1)},function(i,o){CKEDITOR[a0_0x5dec("0x46")][a0_0x5dec("0x31")](a0_0x5dec("0x29"),{lang:"en",icons:a0_0x5dec("0x29"),hidpi:!0,isSupportedEnvironment:function(){return!CKEDITOR[a0_0x5dec("0x15")].ie||10<CKEDITOR.env.version},beforeInit:function(i){var o=i[a0_0x5dec("0x17")].exportPdf_tokenUrl,s=this[a0_0x5dec("0x4f")](i,o);s[a0_0x5dec("0x43")](),i.on("exportPdf",(function(i){i[a0_0x5dec("0x50")].token=s[a0_0x5dec("0x53")]}),null,null,16)},init:function(i){function b(o){if(!i[a0_0x5dec("0x17")][a0_0x5dec("0x42")][a0_0x5dec("0xd")]&&!i[a0_0x5dec("0x60")]()[a0_0x5dec("0x20")]()){var s=[];o=o.$.styleSheets;try{CKEDITOR[a0_0x5dec("0x30")].array.forEach(o,(function(i){CKEDITOR[a0_0x5dec("0x30")][a0_0x5dec("0xf")][a0_0x5dec("0x2b")](i[a0_0x5dec("0x18")],(function(i){s[a0_0x5dec("0x49")](i[a0_0x5dec("0x32")])}))}))}catch(i){CKEDITOR[a0_0x5dec("0x27")](a0_0x5dec("0x1f"),{error:i[a0_0x5dec("0x2a")]})}return s.join("")}}function d(o,s){o.addEventListener(a0_0x5dec("0x5a"),(function(){s[a0_0x5dec("0x19")]({progress:.8})})),o[a0_0x5dec("0x4e")]("loadend",(function(){"200"==o[a0_0x5dec("0x1")]?(CKEDITOR[a0_0x5dec("0x46")][a0_0x5dec("0x29")].downloadFile(function(){var o=i.config[a0_0x5dec("0x3c")];return typeof o===a0_0x5dec("0x13")?o():o}(),o[a0_0x5dec("0x52")]),s.update({message:i[a0_0x5dec("0x4c")][a0_0x5dec("0x29")].documentReady,type:a0_0x5dec("0x61"),duration:3e3,progress:1})):(function(i){if(i){var o=new FileReader;o[a0_0x5dec("0x4e")]("loadend",(function(i){i=JSON[a0_0x5dec("0x21")](i.srcElement[a0_0x5dec("0x51")]),console[a0_0x5dec("0xa")](i)})),o[a0_0x5dec("0x36")](i)}}(o.response),s.hide(),i[a0_0x5dec("0x3f")](i[a0_0x5dec("0x4c")][a0_0x5dec("0x29")].error,a0_0x5dec("0x4a"))),i.commands.exportPdf[a0_0x5dec("0x62")]()}))}function l(o){var s=i.document.createElement("a");return s.$[a0_0x5dec("0x63")]=o,s.$[a0_0x5dec("0x63")]}this[a0_0x5dec("0x6")]()&&(i[a0_0x5dec("0x1c")]("exportPdf",{exec:function(o){var s=function(){return i[a0_0x5dec("0x46")][a0_0x5dec("0x59")]?i[a0_0x5dec("0x3f")][a0_0x5dec("0x3a")](i,arguments):{update:function(){},hide:function(){}}}(o[a0_0x5dec("0x4c")][a0_0x5dec("0x29")][a0_0x5dec("0x6e")],"progress",0),_={html:o[a0_0x5dec("0x0")](),css:b(o[a0_0x5dec("0x40")]),options:o.config.exportPdf_options};this[a0_0x5dec("0x1d")](),o[a0_0x5dec("0x48")](a0_0x5dec("0x2f"),(function(_){s[a0_0x5dec("0x19")]({progress:.2}),_.data[a0_0x5dec("0x4")]=function(i){var o=new(CKEDITOR[a0_0x5dec("0x23")][a0_0x5dec("0x58")]);return(i=CKEDITOR[a0_0x5dec("0x23")].fragment[a0_0x5dec("0x70")](i))[a0_0x5dec("0x2b")]((function(i){"img"===i[a0_0x5dec("0x5c")]&&(i.attributes[a0_0x5dec("0x6f")]=l(i[a0_0x5dec("0x65")][a0_0x5dec("0x6f")]))}),CKEDITOR[a0_0x5dec("0x4d")],!1),i[a0_0x5dec("0x56")](o),o.getHtml()}(_[a0_0x5dec("0x50")][a0_0x5dec("0x4")]);var $=_.data,j=a0_0x5dec("0x4");_=_[a0_0x5dec("0x50")][a0_0x5dec("0x4")];var Z=o[a0_0x5dec("0x60")]().getDirection(!0);_=(i[a0_0x5dec("0x17")][a0_0x5dec("0x42")].length?CKEDITOR[a0_0x5dec("0x30")][a0_0x5dec("0x57")](CKEDITOR[a0_0x5dec("0x30")][a0_0x5dec("0xf")][a0_0x5dec("0x1b")](i[a0_0x5dec("0x17")][a0_0x5dec("0x42")],l)):"")+a0_0x5dec("0x2c")+Z+'">'+_+a0_0x5dec("0x4b"),$[j]=_}),null,null,15),o[a0_0x5dec("0x48")](a0_0x5dec("0x2f"),(function(_){var $=_[a0_0x5dec("0x50")][a0_0x5dec("0x53")];delete _[a0_0x5dec("0x50")].token;var j=o[a0_0x5dec("0x17")][a0_0x5dec("0x22")];_=JSON[a0_0x5dec("0x10")](_.data);var Z=new XMLHttpRequest,ee=i[a0_0x5dec("0x17")][a0_0x5dec("0x35")]||"cke4";Z[a0_0x5dec("0x34")](a0_0x5dec("0x26"),j),Z.setRequestHeader(a0_0x5dec("0x55"),a0_0x5dec("0x38")),Z[a0_0x5dec("0x3")](a0_0x5dec("0x6a"),ee),$?Z.setRequestHeader("Authorization",$):CKEDITOR[a0_0x5dec("0x27")](a0_0x5dec("0x5f")),Z[a0_0x5dec("0xe")]=a0_0x5dec("0x45"),Z[a0_0x5dec("0x5")](_),s[a0_0x5dec("0x19")]({progress:.5}),d(Z,s)}),null,null,20),o[a0_0x5dec("0x2d")](a0_0x5dec("0x2f"),_)},modes:{wysiwyg:1},readOnly:1,canUndo:!1}),i.ui[a0_0x5dec("0x67")])&&i.ui[a0_0x5dec("0x67")]("ExportPdf",{label:i.lang[a0_0x5dec("0x29")][a0_0x5dec("0x44")],command:"exportPdf",toolbar:a0_0x5dec("0x12")})},createTokenFetcher:function(i,o){var s={refreshInterval:i[a0_0x5dec("0x2")]||36e5,fetchToken:function(){var i=new XMLHttpRequest;i[a0_0x5dec("0x34")]("GET",o),i.addEventListener("loadend",(function(){i[a0_0x5dec("0x6d")]&&(s[a0_0x5dec("0x53")]=i.responseText)})),i[a0_0x5dec("0x5")]()},init:function(){if(o){this[a0_0x5dec("0x3d")]();var s=window[a0_0x5dec("0x5e")](this[a0_0x5dec("0x3d")],this[a0_0x5dec("0x69")]);i[a0_0x5dec("0x48")](a0_0x5dec("0x37"),(function(){window[a0_0x5dec("0xc")](s)}))}else CKEDITOR[a0_0x5dec("0x27")](a0_0x5dec("0x7"))}};return s}}),CKEDITOR[a0_0x5dec("0x46")].exportpdf={downloadFile:function(i,o){if(CKEDITOR[a0_0x5dec("0x15")].ie){var s=new Blob([o],{type:a0_0x5dec("0x54")});window[a0_0x5dec("0x3b")][a0_0x5dec("0x8")](s,i)}else(s=CKEDITOR.document[a0_0x5dec("0x16")]("a",{attributes:{href:window.URL[a0_0x5dec("0x5d")](o),download:i}})).$[a0_0x5dec("0x64")](),s[a0_0x5dec("0x2e")](),window[a0_0x5dec("0x25")][a0_0x5dec("0x28")](s[a0_0x5dec("0x68")](a0_0x5dec("0x63")))}},CKEDITOR[a0_0x5dec("0x17")][a0_0x5dec("0x22")]=a0_0x5dec("0x6b"),CKEDITOR[a0_0x5dec("0x17")][a0_0x5dec("0x6c")]="",CKEDITOR.config.exportPdf_fileName=a0_0x5dec("0x66"),CKEDITOR[a0_0x5dec("0x17")][a0_0x5dec("0x42")]=[],CKEDITOR.config.exportPdf_options={}}]),CKEDITOR.plugins.add("popup"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(i,o,s,_){s=s||"70%","string"==typeof(o=o||"80%")&&1<o.length&&"%"==o.substr(o.length-1,1)&&(o=parseInt(window.screen.width*parseInt(o,10)/100,10)),"string"==typeof s&&1<s.length&&"%"==s.substr(s.length-1,1)&&(s=parseInt(window.screen.height*parseInt(s,10)/100,10)),640>o&&(o=640),420>s&&(s=420);var $=parseInt((window.screen.height-s)/2,10),j=parseInt((window.screen.width-o)/2,10);_=(_||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+o+",height="+s+",top="+$+",left="+j;var Z=window.open("",null,_,!0);if(!Z)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(" chrome/")&&(Z.moveTo(j,$),Z.resizeTo(o,s)),Z.focus(),Z.location.href=i}catch(o){window.open(i,null,_,!0)}return!0}}),function(){function k(i){this.editor=i,this.loaders=[]}function l(o,s,_){var $=o.config.fileTools_defaultFileName;this.editor=o,this.lang=o.lang,"string"==typeof s?(this.data=s,this.file=function(o){var s=o.match(i)[1];o=o.replace(i,""),o=atob(o);var _,$,j,Z,ee=[];for(_=0;_<o.length;_+=512){for($=o.slice(_,_+512),j=Array($.length),Z=0;Z<$.length;Z++)j[Z]=$.charCodeAt(Z);$=new Uint8Array(j),ee.push($)}return new Blob(ee,{type:s})}(this.data),this.loaded=this.total=this.file.size):(this.data=null,this.file=s,this.total=this.file.size,this.loaded=0),_?this.fileName=_:this.file.name?this.fileName=this.file.name:(o=this.file.type.split("/"),$&&(o[0]=$),this.fileName=o.join(".")),this.uploaded=0,this.responseData=this.uploadTotal=null,this.status="created",this.abort=function(){this.changeStatus("abort")}}CKEDITOR.plugins.add("filetools",{beforeInit:function(i){i.uploadRepository=new k(i),i.on("fileUploadRequest",(function(i){var o=i.data.fileLoader;o.xhr.open("POST",o.uploadUrl,!0),i.data.requestData.upload={file:o.file,name:o.fileName}}),null,null,5),i.on("fileUploadRequest",(function(o){var s=o.data.fileLoader,_=new FormData;o=o.data.requestData;var $,j,Z=i.config.fileTools_requestHeaders;for(j in o){var ee=o[j];"object"==typeof ee&&ee.file?_.append(j,ee.file,ee.name):_.append(j,ee)}if(_.append("ckCsrfToken",CKEDITOR.tools.getCsrfToken()),Z)for($ in Z)s.xhr.setRequestHeader($,Z[$]);s.xhr.send(_)}),null,null,999),i.on("fileUploadResponse",(function(i){var o=i.data.fileLoader,s=o.xhr,_=i.data;try{var $=JSON.parse(s.responseText);if($.error&&$.error.message&&(_.message=$.error.message),$.uploaded)for(var j in $)_[j]=$[j];else i.cancel()}catch($){_.message=o.lang.filetools.responseError,CKEDITOR.warn("filetools-response-error",{responseText:s.responseText}),i.cancel()}}),null,null,999)}}),k.prototype={create:function(i,o,s){s=s||l;var _=this.loaders.length;return(i=new s(this.editor,i,o)).id=_,this.loaders[_]=i,this.fire("instanceCreated",i),i},isFinished:function(){for(var i=0;i<this.loaders.length;++i)if(!this.loaders[i].isFinished())return!1;return!0}},l.prototype={loadAndUpload:function(i,o){var s=this;this.once("loaded",(function(_){_.cancel(),s.once("update",(function(i){i.cancel()}),null,null,0),s.upload(i,o)}),null,null,0),this.load()},load:function(){var i=this,o=this.reader=new FileReader;i.changeStatus("loading"),this.abort=function(){i.reader.abort()},o.onabort=function(){i.changeStatus("abort")},o.onerror=function(){i.message=i.lang.filetools.loadError,i.changeStatus("error")},o.onprogress=function(o){i.loaded=o.loaded,i.update()},o.onload=function(){i.loaded=i.total,i.data=o.result,i.changeStatus("loaded")},o.readAsDataURL(this.file)},upload:function(i,o){var s=o||{};i?(this.uploadUrl=i,this.xhr=new XMLHttpRequest,this.attachRequestListeners(),this.editor.fire("fileUploadRequest",{fileLoader:this,requestData:s})&&this.changeStatus("uploading")):(this.message=this.lang.filetools.noUrlError,this.changeStatus("error"))},attachRequestListeners:function(){function a(){"error"!=i.status&&(i.message=i.lang.filetools.networkError,i.changeStatus("error"))}function c(){"abort"!=i.status&&i.changeStatus("abort")}var i=this,o=this.xhr;i.abort=function(){o.abort(),c()},o.onerror=a,o.onabort=c,o.upload?(o.upload.onprogress=function(o){o.lengthComputable&&(i.uploadTotal||(i.uploadTotal=o.total),i.uploaded=o.loaded,i.update())},o.upload.onerror=a,o.upload.onabort=c):(i.uploadTotal=i.total,i.update()),o.onload=function(){if(i.update(),"abort"!=i.status)if(i.uploaded=i.uploadTotal,200>o.status||299<o.status)i.message=i.lang.filetools["httpError"+o.status],i.message||(i.message=i.lang.filetools.httpError.replace("%1",o.status)),i.changeStatus("error");else{for(var s={fileLoader:i},_=["message","fileName","url"],$=i.editor.fire("fileUploadResponse",s),j=0;j<_.length;j++){var Z=_[j];"string"==typeof s[Z]&&(i[Z]=s[Z])}i.responseData=s,delete i.responseData.fileLoader,!1===$?i.changeStatus("error"):i.changeStatus("uploaded")}}},changeStatus:function(i){this.status=i,"error"!=i&&"abort"!=i&&"loaded"!=i&&"uploaded"!=i||(this.abort=function(){}),this.fire(i),this.update()},update:function(){this.fire("update")},isFinished:function(){return!!this.status.match(/^(?:loaded|uploaded|error|abort)$/)}},CKEDITOR.event.implementOn(k.prototype),CKEDITOR.event.implementOn(l.prototype);var i=/^data:(\S*?);base64,/;CKEDITOR.fileTools||(CKEDITOR.fileTools={}),CKEDITOR.tools.extend(CKEDITOR.fileTools,{uploadRepository:k,fileLoader:l,getUploadUrl:function(i,o){var s=CKEDITOR.tools.capitalize;return o&&i[o+"UploadUrl"]?i[o+"UploadUrl"]:i.uploadUrl?i.uploadUrl:o&&i["filebrowser"+s(o,1)+"UploadUrl"]?i["filebrowser"+s(o,1)+"UploadUrl"]+"&responseType=json":i.filebrowserUploadUrl?i.filebrowserUploadUrl+"&responseType=json":null},isTypeSupported:function(i,o){return!!i.type.match(o)},isFileUploadSupported:"function"==typeof FileReader&&"function"==typeof(new FileReader).readAsDataURL&&"function"==typeof FormData&&"function"==typeof(new FormData).append&&"function"==typeof XMLHttpRequest&&"function"==typeof Blob})}(),function(){function g(i,o){var s=[];if(!o)return i;for(var _ in o)s.push(_+"="+encodeURIComponent(o[_]));return i+(-1!=i.indexOf("?")?"&":"?")+s.join("&")}function p(i){return!i.match(/command=QuickUpload/)||i.match(/(\?|&)responseType=json/)?i:g(i,{responseType:"json"})}function k(i){return(i+="").charAt(0).toUpperCase()+i.substr(1)}function q(){var i=(s=this.getDialog()).getParentEditor();i._.filebrowserSe=this;var o=i.config["filebrowser"+k(s.getName())+"WindowWidth"]||i.config.filebrowserWindowWidth||"80%",s=i.config["filebrowser"+k(s.getName())+"WindowHeight"]||i.config.filebrowserWindowHeight||"70%",_=this.filebrowser.params||{};_.CKEditor=i.name,_.CKEditorFuncNum=i._.filebrowserFn,_.langCode||(_.langCode=i.langCode),_=g(this.filebrowser.url,_),i.popup(_,o,s,i.config.filebrowserWindowFeatures||i.config.fileBrowserWindowFeatures)}function r(i){var o=new CKEDITOR.dom.element(i.$.form);o&&((i=o.$.elements.ckCsrfToken)?i=new CKEDITOR.dom.element(i):((i=new CKEDITOR.dom.element("input")).setAttributes({name:"ckCsrfToken",type:"hidden"}),o.append(i)),i.setAttribute("value",CKEDITOR.tools.getCsrfToken()))}function t(){var i=this.getDialog();return i.getParentEditor()._.filebrowserSe=this,!(!i.getContentElement(this.for[0],this.for[1]).getInputElement().$.value||!i.getContentElement(this.for[0],this.for[1]).getAction())}function u(i,o,s){var _=s.params||{};_.CKEditor=i.name,_.CKEditorFuncNum=i._.filebrowserFn,_.langCode||(_.langCode=i.langCode),o.action=g(s.url,_),o.filebrowser=s}function l(i,o,s,_){if(_&&_.length)for(var $,j=_.length;j--;)if("hbox"!=($=_[j]).type&&"vbox"!=$.type&&"fieldset"!=$.type||l(i,o,s,$.children),$.filebrowser)if("string"==typeof $.filebrowser&&($.filebrowser={action:"fileButton"==$.type?"QuickUpload":"Browse",target:$.filebrowser}),"Browse"==$.filebrowser.action){var Z=$.filebrowser.url;void 0===Z&&(void 0===(Z=i.config["filebrowser"+k(o)+"BrowseUrl"])&&(Z=i.config.filebrowserBrowseUrl)),Z&&($.onClick=q,$.filebrowser.url=Z,$.hidden=!1)}else if("QuickUpload"==$.filebrowser.action&&$.for&&(void 0===(Z=$.filebrowser.url)&&(void 0===(Z=i.config["filebrowser"+k(o)+"UploadUrl"])&&(Z=i.config.filebrowserUploadUrl)),Z)){var ee=$.onClick;$.onClick=function(o){var s=o.sender,_=s.getDialog().getContentElement(this.for[0],this.for[1]).getInputElement(),$=CKEDITOR.fileTools&&CKEDITOR.fileTools.isFileUploadSupported;return(!ee||!1!==ee.call(s,o))&&(!!t.call(s,o)&&("form"!==i.config.filebrowserUploadMethod&&$?((o=i.uploadRepository.create(_.$.files[0])).on("uploaded",(function(i){var o=i.sender.responseData;m.call(i.sender.editor,o.url,o.message)})),o.on("error",n.bind(this)),o.on("abort",n.bind(this)),o.loadAndUpload(p(Z)),"xhr"):(r(_),!0)))},$.filebrowser.url=Z,$.hidden=!1,u(i,s.getContents($.for[0]).get($.for[1]),$.filebrowser)}}function n(i){var o={};try{o=JSON.parse(i.sender.xhr.response)||{}}catch(i){}this.enable(),alert(o.error?o.error.message:i.sender.message)}function h(i,o,s){if(-1!==s.indexOf(";")){s=s.split(";");for(var _=0;_<s.length;_++)if(h(i,o,s[_]))return!0;return!1}return(i=i.getContents(o).get(s).filebrowser)&&i.url}function m(i,o){var s=this._.filebrowserSe.getDialog(),_=this._.filebrowserSe.for,$=this._.filebrowserSe.filebrowser.onSelect;_&&s.getContentElement(_[0],_[1]).reset(),"function"==typeof o&&!1===o.call(this._.filebrowserSe)||$&&!1===$.call(this._.filebrowserSe,i,o)||("string"==typeof o&&o&&alert(o),i&&(s=(_=this._.filebrowserSe).getDialog(),_=_.filebrowser.target||null)&&(_=_.split(":"),($=s.getContentElement(_[0],_[1]))&&($.setValue(i),s.selectPage(_[0]))))}CKEDITOR.plugins.add("filebrowser",{requires:"popup,filetools",init:function(i){i._.filebrowserFn=CKEDITOR.tools.addFunction(m,i),i.on("destroy",(function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)}))}}),CKEDITOR.on("dialogDefinition",(function(i){if(i.editor.plugins.filebrowser)for(var o,s=i.data.definition,_=0;_<s.contents.length;++_)(o=s.contents[_])&&(l(i.editor,i.data.name,s,o.elements),o.hidden&&o.filebrowser&&(o.hidden=!h(s,o.id,o.filebrowser)))}))}(),CKEDITOR.plugins.add("find",{requires:"dialog",init:function(i){var o=i.addCommand("find",new CKEDITOR.dialogCommand("find")),s=i.addCommand("replace",new CKEDITOR.dialogCommand("find",{tabId:"replace"}));o.canUndo=!1,o.readOnly=1,s.canUndo=!1,i.ui.addButton&&(i.ui.addButton("Find",{label:i.lang.find.find,command:"find",toolbar:"find,10"}),i.ui.addButton("Replace",{label:i.lang.find.replace,command:"replace",toolbar:"find,20"})),CKEDITOR.dialog.add("find",this.path+"dialogs/find.js")}}),CKEDITOR.config.find_highlight={element:"span",styles:{"background-color":"#004",color:"#fff"}},ne=CKEDITOR.document.getWindow(),ie=CKEDITOR.tools.cssLength,CKEDITOR.plugins.add("floatingspace",{init:function(i){i.on("loaded",(function(){!function(i){var o=i.config,s=i.fire("uiSpace",{space:"top",html:""}).html,_=function(){function f(i,o,s){j.setStyle(o,ie(s)),j.setStyle("position",i)}function e(i){var o=$.getDocumentPosition();switch(i){case"top":f("absolute","top",o.y-oe-se);break;case"pin":f("fixed","top",ce);break;case"bottom":f("absolute","top",o.y+(ee.height||ee.bottom-ee.top)+se)}s=i}var s,$,Z,ee,te,oe,ae,re=o.floatSpaceDockedOffsetX||0,se=o.floatSpaceDockedOffsetY||0,le=o.floatSpacePinnedOffsetX||0,ce=o.floatSpacePinnedOffsetY||0;return function(ce){if($=i.editable()){var de=ce&&"focus"==ce.name;de&&j.show(),i.fire("floatingSpaceLayout",{show:de}),j.removeStyle("left"),j.removeStyle("right"),Z=j.getClientRect(),ee=$.getClientRect(),te=ne.getViewPaneSize(),oe=Z.height,ae="pageXOffset"in ne.$?ne.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft,s?(oe+se<=ee.top?e("top"):oe+se>te.height-ee.bottom?e("pin"):e("bottom"),ce=te.width/2,ce=o.floatSpacePreferRight?"right":0<ee.left&&ee.right<te.width&&ee.width>Z.width?"rtl"==o.contentsLangDirection?"right":"left":ce-ee.left>ee.right-ce?"left":"right",Z.width>te.width?(ce="left",de=0):(de="left"==ce?0<ee.left?ee.left:0:ee.right<te.width?te.width-ee.right:0)+Z.width>te.width&&(ce="left"==ce?"right":"left",de=0),j.setStyle(ce,ie(("pin"==s?le:re)+de+("pin"==s?0:"left"==ce?ae:-ae)))):(s="pin",e("pin"),_(ce))}}}();if(s){var $=new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"'+(i.applicationTitle?' aria-labelledby="cke_{name}_arialbl"':" ")+">"+(i.applicationTitle?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':" ")+'<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),j=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml($.output({content:s,id:i.id,langDir:i.lang.dir,langCode:i.langCode,name:i.name,style:"display:none;z-index:"+(o.baseFloatZIndex-1),topId:i.ui.spaceId("top"),voiceLabel:i.applicationTitle}))),Z=CKEDITOR.tools.eventsBuffer(500,_),ee=CKEDITOR.tools.eventsBuffer(100,_);j.unselectable(),j.on("mousedown",(function(i){(i=i.data).getTarget().hasAscendant("a",1)||i.preventDefault()})),i.on("focus",(function(o){_(o),i.on("change",Z.input),ne.on("scroll",ee.input),ne.on("resize",ee.input)})),i.on("blur",(function(){j.hide(),i.removeListener("change",Z.input),ne.removeListener("scroll",ee.input),ne.removeListener("resize",ee.input)})),i.on("destroy",(function(){ne.removeListener("scroll",ee.input),ne.removeListener("resize",ee.input),j.clearCustomData(),j.remove()})),i.focusManager.hasFocus&&j.show(),i.focusManager.add(j,1)}}(this)}),null,null,20)}}),CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var i=CKEDITOR.addTemplate("panel-list",'<ul role="presentation" class="cke_panel_list">{items}</ul>'),o=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" draggable="false" ondragstart="return false;" href="javascript:void(\'{val}\')"  onclick="{onclick}CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),s=CKEDITOR.addTemplate("panel-list-group",'<h1 id="{id}" draggable="false" ondragstart="return false;" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),_=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(i,o){return this.addBlock(i,new CKEDITOR.ui.listBlock(this.getHolderElement(),o))},CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(i,o){var s=(o=o||{}).attributes||(o.attributes={});(this.multiSelect=!!o.multiSelect)&&(s["aria-multiselectable"]=!0),!s.role&&(s.role="listbox"),this.base.apply(this,arguments),this.element.setAttribute("role",s.role),(s=this.keys)[40]="next",s[9]="next",s[38]="prev",s[CKEDITOR.SHIFT+9]="prev",s[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(s[13]="mouseup"),this._.pendingHtml=[],this._.pendingList=[],this._.items={},this._.groups={}},_:{close:function(){if(this._.started){var o=i.output({items:this._.pendingList.join("")});this._.pendingList=[],this._.pendingHtml.push(o),delete this._.started}},getClick:function(){return this._.click||(this._.click=CKEDITOR.tools.addFunction((function(i){var o=this.toggle(i);this.onClick&&this.onClick(i,o)}),this)),this._.click}},proto:{add:function(i,s,$){var j=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0),this._.items[i]=j,i={id:j,val:CKEDITOR.tools.htmlEncodeAttr(i).replace(_,"\\'"),onclick:CKEDITOR.env.ie?'return false;" onmouseup="CKEDITOR.tools.getMouseButton(event)===CKEDITOR.MOUSE_BUTTON_LEFT&&':"",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr($||i),text:s||i},this._.pendingList.push(o.output(i))},startGroup:function(i){this._.close();var o=CKEDITOR.tools.getNextId();this._.groups[i]=o,this._.pendingHtml.push(s.output({id:o,label:i}))},commit:function(){this._.close(),this.element.appendHtml(this._.pendingHtml.join("")),delete this._.size,this._.pendingHtml=[]},toggle:function(i){var o=this.isMarked(i);return o?this.unmark(i):this.mark(i),!o},hideGroup:function(i){var o=(i=this.element.getDocument().getById(this._.groups[i]))&&i.getNext();i&&(i.setStyle("display","none"),o&&"ul"==o.getName()&&o.setStyle("display","none"))},hideItem:function(i){this.element.getDocument().getById(this._.items[i]).setStyle("display","none")},showAll:function(){var i,o=this._.items,s=this._.groups,_=this.element.getDocument();for(i in o)_.getById(o[i]).setStyle("display","");for(var $ in s)i=(o=_.getById(s[$])).getNext(),o.setStyle("display",""),i&&"ul"==i.getName()&&i.setStyle("display","")},mark:function(i){this.multiSelect||this.unmarkAll(),i=this._.items[i];var o=this.element.getDocument().getById(i);o.addClass("cke_selected"),this.element.getDocument().getById(i+"_option").setAttribute("aria-selected",!0),this.onMark&&this.onMark(o)},markFirstDisplayed:function(){var i=this;this._.markFirstDisplayed((function(){i.multiSelect||i.unmarkAll()}))},unmark:function(i){var o=this.element.getDocument();i=this._.items[i];var s=o.getById(i);s.removeClass("cke_selected"),o.getById(i+"_option").removeAttribute("aria-selected"),this.onUnmark&&this.onUnmark(s)},unmarkAll:function(){var i,o=this._.items,s=this.element.getDocument();for(i in o){var _=o[i];s.getById(_).removeClass("cke_selected"),s.getById(_+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(i){return this.element.getDocument().getById(this._.items[i]).hasClass("cke_selected")},focus:function(i){this._.focusIndex=-1;var o,s=this.element.getElementsByTag("a"),_=-1;if(i){for(o=this.element.getDocument().getById(this._.items[i]).getFirst();i=s.getItem(++_);)if(i.equals(o)){this._.focusIndex=_;break}}else this.element.focus();o&&setTimeout((function(){o.focus()}),0)}}})}}),CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(i){i.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var i='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="listbox"',o="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(i+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(i+=' onblur="this.style.cssText = this.style.cssText;"'),CKEDITOR.env.ie&&(o='return false;" onmouseup="CKEDITOR.tools.getMouseButton(event)==CKEDITOR.MOUSE_BUTTON_LEFT&&');i=i+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" onclick="'+o+'CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>";var s=CKEDITOR.addTemplate("combo",i);CKEDITOR.UI_RICHCOMBO="richcombo",CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(i){CKEDITOR.tools.extend(this,i,{canGroup:!1,title:i.label,modes:{wysiwyg:1},editorFocus:1}),i=this.panel||{},delete this.panel,this.id=CKEDITOR.tools.getNextNumber(),this.document=i.parent&&i.parent.getDocument()||CKEDITOR.document,i.className="cke_combopanel",i.block={multiSelect:i.multiSelect,attributes:i.attributes},i.toolbarRelated=!0,this._={panelDefinition:i,items:{},listeners:[]}},proto:{renderHtml:function(i){var o=[];return this.render(i,o),o.join("")},render:function(i,o){function c(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var o=this.modes[i.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;i.readOnly&&!this.readOnly&&(o=CKEDITOR.TRISTATE_DISABLED),this.setState(o),this.setValue(""),o!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var _,$,j=CKEDITOR.env,Z="cke_"+this.id,ee=CKEDITOR.tools.addFunction((function(o){$&&(i.unlockSelection(1),$=0),_.execute(o)}),this),te=this;_={id:Z,combo:this,focus:function(){CKEDITOR.document.getById(Z).getChild(1).focus()},execute:function(o){var s=te._;if(s.state!=CKEDITOR.TRISTATE_DISABLED)if(te.createPanel(i),s.on)s.panel.hide();else{te.commit();var _=te.getValue();_?s.list.mark(_):s.list.unmarkAll(),s.panel.showBlock(te.id,new CKEDITOR.dom.element(o),4)}},clickFn:ee},this._.listeners.push(i.on("activeFilterChange",c,this)),this._.listeners.push(i.on("mode",c,this)),this._.listeners.push(i.on("selectionChange",c,this)),!this.readOnly&&this._.listeners.push(i.on("readOnly",c,this));var ne=CKEDITOR.tools.addFunction((function(i,o){var s=(i=new CKEDITOR.dom.event(i)).getKeystroke();switch(s){case 13:case 32:case 40:CKEDITOR.tools.callFunction(ee,o);break;default:_.onkey(_,s)}i.preventDefault()})),ie=CKEDITOR.tools.addFunction((function(){_.onfocus&&_.onfocus()}));return $=0,_.keyDownFn=ne,j={id:Z,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:j.gecko&&!j.hc?"":(this.title||"").replace("'",""),keydownFn:ne,focusFn:ie,clickFn:ee},s.output(j,o),this.onRender&&this.onRender(),_},createPanel:function(i){if(!this._.panel){var o=this._.panelDefinition,s=this._.panelDefinition.block,_=o.parent||CKEDITOR.document.getBody(),$="cke_combopanel__"+this.name,j=new CKEDITOR.ui.floatPanel(i,_,o),Z=(o=j.addListBlock(this.id,s),this);j.onShow=function(){this.element.addClass($),Z.setState(CKEDITOR.TRISTATE_ON),Z._.on=1,Z.editorFocus&&!i.focusManager.hasFocus&&i.focus(),Z.onOpen&&Z.onOpen()},j.onHide=function(o){this.element.removeClass($),Z.setState(Z.modes&&Z.modes[i.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),Z._.on=0,!o&&Z.onClose&&Z.onClose()},j.onEscape=function(){j.hide(1)},o.onClick=function(i,o){Z.onClick&&Z.onClick.call(Z,i,o),j.hide()},this._.panel=j,this._.list=o,j.getBlock(this.id).onHide=function(){Z._.on=0,Z.setState(CKEDITOR.TRISTATE_OFF)},this.init&&this.init()}},setValue:function(i,o){this._.value=i,(s=this.document.getById("cke_"+this.id+"_text"))&&(i||o?s.removeClass("cke_combo_inlinelabel"):(o=this.label,s.addClass("cke_combo_inlinelabel")),s.setText(void 0!==o?o:i));var s=void 0!==o?o:i,_=this.label;s=s===_?s:s+", "+_;(_=this.document.getById("cke_"+this.id+"_label"))&&_.setText(s)},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(i){this._.list.mark(i)},hideItem:function(i){this._.list.hideItem(i)},hideGroup:function(i){this._.list.hideGroup(i)},showAll:function(){this._.list.showAll()},add:function(i,o,s){this._.items[i]=s||i,this._.list.add(i,o,s)},startGroup:function(i){this._.list.startGroup(i)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this)),this._.committed=1},setState:function(i){if(this._.state!=i){var o=this.document.getById("cke_"+this.id),s=o.getElementsByTag("a").getItem(0);o.setState(i,"cke_combo"),i==CKEDITOR.TRISTATE_DISABLED?o.setAttribute("aria-disabled",!0):o.removeAttribute("aria-disabled"),s&&s.setAttribute("aria-expanded",i==CKEDITOR.TRISTATE_ON),this._.state=i}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))},destroy:function(){CKEDITOR.tools.array.forEach(this._.listeners,(function(i){i.removeListener()})),this._.listeners=[]},select:function(i){if(!CKEDITOR.tools.isEmpty(this._.items))for(var o in this._.items)if(i({value:o,text:this._.items[o]})){this.setValue(o);break}}},statics:{handler:{create:function(i){return new CKEDITOR.ui.richCombo(i)}}}}),CKEDITOR.ui.prototype.addRichCombo=function(i,o){this.add(i,CKEDITOR.UI_RICHCOMBO,o)}}(),function(){function k(o,s){var _,$=o.config,j=s.lang,Z=new CKEDITOR.style(s.styleDefinition),ee=new i({entries:s.entries,styleVariable:s.styleVariable,styleDefinition:s.styleDefinition});o.addCommand(s.commandName,{exec:function(i,o){var s=o.newStyle,_=o.oldStyle,$=i.getSelection().getRanges()[0],j=void 0===s;(_||s)&&(_&&$.collapsed&&function(i){var o,s,_,$=i.editor,j=i.range,Z=i.style;if(o=$.elementPath(),i=o.contains((function(i){return Z.checkElementRemovable(i)}))){if(s=j.checkBoundaryOfElement(i,CKEDITOR.START),_=j.checkBoundaryOfElement(i,CKEDITOR.END),s&&_){for(s=j.createBookmark();o=i.getFirst();)o.insertBefore(i);i.remove(),j.moveToBookmark(s)}else s||_?j.moveToPosition(i,s?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_END):(j.splitElement(i),j.moveToPosition(i,CKEDITOR.POSITION_AFTER_END)),h(j,o.elements.slice(),i);$.getSelection().selectRanges([j])}}({editor:i,range:$,style:_}),j?i.removeStyle(_):(_&&!function(i,o){if(!(i instanceof CKEDITOR.style&&o instanceof CKEDITOR.style))return!1;var s=function(i,o){var s=i.getDefinition().attributes,_=o.getDefinition().attributes;return CKEDITOR.tools.objectCompare(s,_)}(i,o),_=function(i,o){return CKEDITOR.style.getStyleText(i.getDefinition())===CKEDITOR.style.getStyleText(o.getDefinition())}(i,o);return s&&_}(_,s)&&i.removeStyle(_),i.applyStyle(s)))},refresh:function(i,o){Z.checkApplicable(o,i,i.activeFilter)||this.setState(CKEDITOR.TRISTATE_DISABLED)}}),_=o.getCommand(s.commandName),o.ui.addRichCombo(s.comboName,{label:j.label,title:j.panelTitle,command:s.commandName,toolbar:"styles,"+s.order,defaultValue:"cke-default",allowedContent:Z,requiredContent:Z,contentTransformations:"span"===s.styleDefinition.element?[[{element:"font",check:"span",left:function(i){return!!i.attributes.size||!!i.attributes.align||!!i.attributes.face},right:function(i){var o=" x-small small medium large x-large xx-large 48px".split(" ");i.name="span",i.attributes.size&&(i.styles["font-size"]=o[i.attributes.size],delete i.attributes.size),i.attributes.align&&(i.styles["text-align"]=i.attributes.align,delete i.attributes.align),i.attributes.face&&(i.styles["font-family"]=i.attributes.face,delete i.attributes.face)}}]]:null,panel:{css:[CKEDITOR.skin.getPath("editor")].concat($.contentsCss),multiSelect:!1,attributes:{"aria-label":j.panelTitle}},init:function(){var i="("+o.lang.common.optionDefault+")";this.startGroup(j.panelTitle),this.add(this.defaultValue,i,i),ee.addToCombo(this)},onClick:function(i){var _=this.getValue();o.focus(),o.fire("saveSnapshot"),o.execCommand(s.commandName,{newStyle:ee.getStyle(i),oldStyle:ee.getStyle(_)}),o.fire("saveSnapshot")},onRender:function(){o.on("selectionChange",(function(i){var _=this.getValue();(i=ee.getMatchingValue(o,i.data.path))?i!=_&&this.setValue(i):this.setValue("",s.defaultLabel)}),this),_.on("state",(function(){this.setState(_.state)}),this)},refresh:function(){this.setState(_.state)}})}function h(i,o,s){var _=o.pop();if(_){if(s)return h(i,o,_.equals(s)?null:s);s=_.clone(),i.insertNode(s),i.moveToPosition(s,CKEDITOR.POSITION_AFTER_START),h(i,o)}}var i=CKEDITOR.tools.createClass({$:function(i){var o=i.entries.split(";");this._.data={},this._.names=[];for(var s=0;s<o.length;s++){var _,$,j=o[s];j?(_=(j=j.split("/"))[0],j=j[1],($={})[i.styleVariable]=j||_,this._.data[_]=new CKEDITOR.style(i.styleDefinition,$),this._.data[_]._.definition.name=_,this._.names.push(_)):(o.splice(s,1),s--)}},proto:{getStyle:function(i){return this._.data[i]},addToCombo:function(i){for(var o=0;o<this._.names.length;o++){var s=this._.names[o];i.add(s,this.getStyle(s).buildPreview(),s)}},getMatchingValue:function(i,o){for(var s,_=o.elements,$=0;$<_.length;$++)if(s=_[$],s=this._.findMatchingStyleName(i,s))return s;return null}},_:{findMatchingStyleName:function(i,o){return CKEDITOR.tools.array.find(this._.names,(function(s){return this.getStyle(s).checkElementMatch(o,!0,i)}),this)}}});CKEDITOR.plugins.add("font",{requires:"richcombo",init:function(i){var o=i.config;k(i,{comboName:"Font",commandName:"font",styleVariable:"family",lang:i.lang.font,entries:o.font_names,defaultLabel:o.font_defaultLabel,styleDefinition:o.font_style,order:30}),k(i,{comboName:"FontSize",commandName:"fontSize",styleVariable:"size",lang:i.lang.font.fontSize,entries:o.fontSize_sizes,defaultLabel:o.fontSize_defaultLabel,styleDefinition:o.fontSize_style,order:40})}})}(),CKEDITOR.config.font_names="Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif",CKEDITOR.config.font_defaultLabel="",CKEDITOR.config.font_style={element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]},CKEDITOR.config.fontSize_sizes="8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px",CKEDITOR.config.fontSize_defaultLabel="",CKEDITOR.config.fontSize_style={element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]},function(){function f(i,o){var _=s.exec(i),$=s.exec(o);if(_){if(!_[2]&&"px"==$[2])return $[1];if("px"==_[2]&&!$[2])return $[1]+"px"}return o}function l(i,o){var s=[],_=/^cke:/i,$=new CKEDITOR.htmlParser.filter({elements:{"^":function(i){_.test(i.name)&&(i.name=i.name.replace(_,""),s.push(i))},iframe:function(i){i.children=[]}}}),j=i.activeFilter,Z=new CKEDITOR.htmlParser.basicWriter,ee=CKEDITOR.htmlParser.fragment.fromHtml(o);return $.applyTo(ee),j.applyTo(ee),CKEDITOR.tools.array.forEach(s,(function(i){i.name="cke:"+i.name})),ee.writeHtml(Z),Z.getHtml()}var i=CKEDITOR.htmlParser.cssStyle,o=CKEDITOR.tools.cssLength,s=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i;CKEDITOR.plugins.add("fakeobjects",{init:function(i){i.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(o){var s=o.dataProcessor;(s=s&&s.htmlFilter)&&s.addRules(function(o){return{elements:{$:function(s){var _=(_=s.attributes)&&_["data-cke-realelement"],$=l(o,decodeURIComponent(_));if((_=(_=_&&new CKEDITOR.htmlParser.fragment.fromHtml($))&&_.children[0])&&s.attributes["data-cke-resizable"]){var j=new i(s).rules;s=_.attributes,$=j.width,j=j.height,$&&(s.width=f(s.width,$)),j&&(s.height=f(s.height,j))}return _}}}}(o),{applyToAll:!0})}}),CKEDITOR.editor.prototype.createFakeElement=function(s,_,$,j){var Z=(Z=this.lang.fakeobjects)[$]||Z.unknown;return _={class:_,"data-cke-realelement":encodeURIComponent(s.getOuterHtml()),"data-cke-real-node-type":s.type,alt:Z,title:Z,align:s.getAttribute("align")||""},CKEDITOR.env.hc||(_.src=CKEDITOR.tools.transparentImageData),$&&(_["data-cke-real-element-type"]=$),j&&(_["data-cke-resizable"]=j,$=new i,j=s.getAttribute("width"),s=s.getAttribute("height"),j&&($.rules.width=o(j)),s&&($.rules.height=o(s)),$.populate(_)),this.document.createElement("img",{attributes:_})},CKEDITOR.editor.prototype.createFakeParserElement=function(s,_,$,j){var Z,ee=(ee=this.lang.fakeobjects)[$]||ee.unknown;return Z=new CKEDITOR.htmlParser.basicWriter,s.writeHtml(Z),Z=Z.getHtml(),_={class:_,"data-cke-realelement":encodeURIComponent(Z),"data-cke-real-node-type":s.type,alt:ee,title:ee,align:s.attributes.align||""},CKEDITOR.env.hc||(_.src=CKEDITOR.tools.transparentImageData),$&&(_["data-cke-real-element-type"]=$),j&&(_["data-cke-resizable"]=j,j=s.attributes,s=new i,$=j.width,j=j.height,void 0!==$&&(s.rules.width=o($)),void 0!==j&&(s.rules.height=o(j)),s.populate(_)),new CKEDITOR.htmlParser.element("img",_)},CKEDITOR.editor.prototype.restoreRealElement=function(i){if(i.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var o=l(this,o=decodeURIComponent(i.data("cke-realelement")));o=CKEDITOR.dom.element.createFromHtml(o,this.document);if(i.data("cke-resizable")){var s=i.getStyle("width");i=i.getStyle("height"),s&&o.setAttribute("width",f(o.getAttribute("width"),s)),i&&o.setAttribute("height",f(o.getAttribute("height"),i))}return o}}(),CKEDITOR.plugins.add("forms",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss(".cke_editable form{border: 1px dotted #FF0000;padding: 2px;}\n"),CKEDITOR.addCss("img.cke_hidden{background-image: url("+CKEDITOR.getUrl(this.path+"images/hiddenfield.gif")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 16px !important;height: 16px !important;}"),CKEDITOR.style.unstylableElements.push("select","option")},init:function(i){var o=i.lang,s=0,_={email:1,password:1,search:1,tel:1,text:1,url:1},$={checkbox:"input[type,name,checked,required]",radio:"input[type,name,checked,required]",textfield:"input[type,name,value,size,maxlength,required]",textarea:"textarea[cols,rows,name,required]",select:"select[name,size,multiple,required]; option[value,selected]",button:"input[type,name,value]",form:"form[action,name,id,enctype,target,method]",hiddenfield:"input[type,name,value]",imagebutton:"input[type,alt,src]{width,height,border,border-width,border-style,margin,float}"},j={checkbox:"input",radio:"input",textfield:"input",textarea:"textarea",select:"select",button:"input",form:"form",hiddenfield:"input",imagebutton:"input"},d=function(_,Z,ee){var te={allowedContent:$[Z],requiredContent:j[Z]};"form"==Z&&(te.context="form"),i.addCommand(Z,new CKEDITOR.dialogCommand(Z,te)),i.ui.addButton&&i.ui.addButton(_,{label:o.common[_.charAt(0).toLowerCase()+_.slice(1)],command:Z,toolbar:"forms,"+(s+=10)}),CKEDITOR.dialog.add(Z,ee)},Z=this.path+"dialogs/";!i.blockless&&d("Form","form",Z+"form.js"),d("Checkbox","checkbox",Z+"checkbox.js"),d("Radio","radio",Z+"radio.js"),d("TextField","textfield",Z+"textfield.js"),d("Textarea","textarea",Z+"textarea.js"),d("Select","select",Z+"select.js"),d("Button","button",Z+"button.js");var ee=i.plugins.image;ee&&!i.plugins.image2&&d("ImageButton","imagebutton",CKEDITOR.plugins.getPath("image")+"dialogs/image.js"),d("HiddenField","hiddenfield",Z+"hiddenfield.js"),i.addMenuItems&&(d={checkbox:{label:o.forms.checkboxAndRadio.checkboxTitle,command:"checkbox",group:"checkbox"},radio:{label:o.forms.checkboxAndRadio.radioTitle,command:"radio",group:"radio"},textfield:{label:o.forms.textfield.title,command:"textfield",group:"textfield"},hiddenfield:{label:o.forms.hidden.title,command:"hiddenfield",group:"hiddenfield"},button:{label:o.forms.button.title,command:"button",group:"button"},select:{label:o.forms.select.title,command:"select",group:"select"},textarea:{label:o.forms.textarea.title,command:"textarea",group:"textarea"}},ee&&(d.imagebutton={label:o.image.titleButton,command:"imagebutton",group:"imagebutton"}),!i.blockless&&(d.form={label:o.forms.form.menu,command:"form",group:"form"}),i.addMenuItems(d)),i.contextMenu&&(!i.blockless&&i.contextMenu.addListener((function(i,o,s){if((i=s.contains("form",1))&&!i.isReadOnly())return{form:CKEDITOR.TRISTATE_OFF}})),i.contextMenu.addListener((function(i){if(i&&!i.isReadOnly()){var o=i.getName();if("select"==o)return{select:CKEDITOR.TRISTATE_OFF};if("textarea"==o)return{textarea:CKEDITOR.TRISTATE_OFF};if("input"==o){var s=i.getAttribute("type")||"text";switch(s){case"button":case"submit":case"reset":return{button:CKEDITOR.TRISTATE_OFF};case"checkbox":return{checkbox:CKEDITOR.TRISTATE_OFF};case"radio":return{radio:CKEDITOR.TRISTATE_OFF};case"image":return ee?{imagebutton:CKEDITOR.TRISTATE_OFF}:null}if(_[s])return{textfield:CKEDITOR.TRISTATE_OFF}}if("img"==o&&"hiddenfield"==i.data("cke-real-element-type"))return{hiddenfield:CKEDITOR.TRISTATE_OFF}}}))),i.on("doubleclick",(function(o){var s=o.data.element;if(!i.blockless&&s.is("form"))o.data.dialog="form";else if(s.is("select"))o.data.dialog="select";else if(s.is("textarea"))o.data.dialog="textarea";else if(s.is("img")&&"hiddenfield"==s.data("cke-real-element-type"))o.data.dialog="hiddenfield";else if(s.is("input")){switch(s=s.getAttribute("type")||"text"){case"button":case"submit":case"reset":o.data.dialog="button";break;case"checkbox":o.data.dialog="checkbox";break;case"radio":o.data.dialog="radio";break;case"image":o.data.dialog="imagebutton"}_[s]&&(o.data.dialog="textfield")}}))},afterInit:function(i){var o=(s=i.dataProcessor)&&s.htmlFilter,s=s&&s.dataFilter;CKEDITOR.env.ie&&o&&o.addRules({elements:{input:function(i){var o=(i=i.attributes).type;o||(i.type="text"),"checkbox"!=o&&"radio"!=o||"on"!=i.value||delete i.value}}},{applyToAll:!0}),s&&s.addRules({elements:{input:function(o){if("hidden"==o.attributes.type)return i.createFakeParserElement(o,"cke_hidden","hiddenfield")}}},{applyToAll:!0})}}),CKEDITOR.plugins.forms={_setupRequiredAttribute:function(i){this.setValue(i.hasAttribute("required"))}},CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(i){if(!i.blockless){for(var o=i.config,s=i.lang.format,_=o.format_tags.split(";"),$={},j=0,Z=[],ee=0;ee<_.length;ee++){var te=_[ee],ne=new CKEDITOR.style(o["format_"+te]);i.filter.customConfig&&!i.filter.check(ne)||(j++,$[te]=ne,$[te]._.enterMode=i.config.enterMode,Z.push(ne))}0!==j&&i.ui.addRichCombo("Format",{label:s.label,title:s.panelTitle,toolbar:"styles,20",allowedContent:Z,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(o.contentsCss),multiSelect:!1,attributes:{"aria-label":s.panelTitle}},init:function(){for(var i in this.startGroup(s.panelTitle),$){var o=s["tag_"+i];this.add(i,$[i].buildPreview(o),o)}},onClick:function(o){i.focus(),i.fire("saveSnapshot"),o=$[o];var s=i.elementPath();i.fire("stylesRemove",{type:CKEDITOR.STYLE_BLOCK}),o.checkActive(s,i)||i.applyStyle(o),setTimeout((function(){i.fire("saveSnapshot")}),0)},onRender:function(){i.on("selectionChange",(function(o){var s=this.getValue();for(var _ in o=o.data.path,this.refresh(),$)if($[_].checkActive(o,i))return void(_!=s&&this.setValue(_,i.lang.format["tag_"+_]));this.setValue("")}),this)},onOpen:function(){for(var o in this.showAll(),$)i.activeFilter.check($[o])||this.hideItem(o)},refresh:function(){var o=i.elementPath();if(o){if(o.isContextFor("p"))for(var s in $)if(i.activeFilter.check($[s]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre={element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"},function(){var i={canUndo:!1,exec:function(i){var o=i.document.createElement("hr");i.insertElement(o)},allowedContent:"hr",requiredContent:"hr"};CKEDITOR.plugins.add("horizontalrule",{init:function(o){o.blockless||(o.addCommand("horizontalrule",i),o.ui.addButton&&o.ui.addButton("HorizontalRule",{label:o.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}})}(),CKEDITOR.plugins.add("htmlwriter",{init:function(i){var o=new CKEDITOR.htmlWriter;o.forceSimpleAmpersand=i.config.forceSimpleAmpersand,o.indentationChars="string"==typeof i.config.dataIndentationChars?i.config.dataIndentationChars:"\t",i.dataProcessor.writer=o}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base(),this.indentationChars="\t",this.selfClosingEnd=" />",this.lineBreakChars="\n",this.sortAttributes=1,this._.indent=0,this._.indentation="",this._.inPre=0,this._.rules={};var i,o=CKEDITOR.dtd;for(i in CKEDITOR.tools.extend({},o.$nonBodyContent,o.$block,o.$listItem,o.$tableContent))this.setRules(i,{indent:!o[i]["#"],breakBeforeOpen:1,breakBeforeClose:!o[i]["#"],breakAfterClose:1,needsSpace:i in o.$block&&!(i in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1}),this.setRules("title",{indent:0,breakAfterOpen:0}),this.setRules("style",{indent:0,breakBeforeClose:1}),this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(i){var o=this._.rules[i];this._.afterCloser&&o&&o.needsSpace&&this._.needsSpace&&this._.output.push("\n"),this._.indent?this.indentation():o&&o.breakBeforeOpen&&(this.lineBreak(),this.indentation()),this._.output.push("<",i),this._.afterCloser=0},openTagClose:function(i,o){var s=this._.rules[i];o?(this._.output.push(this.selfClosingEnd),s&&s.breakAfterClose&&(this._.needsSpace=s.needsSpace)):(this._.output.push(">"),s&&s.indent&&(this._.indentation+=this.indentationChars)),s&&s.breakAfterOpen&&this.lineBreak(),"pre"==i&&(this._.inPre=1)},attribute:function(i,o){"string"==typeof o&&(o=CKEDITOR.tools.htmlEncodeAttr(o),this.forceSimpleAmpersand&&(o=o.replace(/&amp;/g,"&"))),this._.output.push(" ",i,'="',o,'"')},closeTag:function(i){var o=this._.rules[i];o&&o.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length)),this._.indent?this.indentation():o&&o.breakBeforeClose&&(this.lineBreak(),this.indentation()),this._.output.push("</",i,">"),"pre"==i&&(this._.inPre=0),o&&o.breakAfterClose&&(this.lineBreak(),this._.needsSpace=o.needsSpace),this._.afterCloser=1},text:function(i){this._.indent&&(this.indentation(),!this._.inPre&&(i=CKEDITOR.tools.ltrim(i))),this._.output.push(i)},comment:function(i){this._.indent&&this.indentation(),this._.output.push("\x3c!--",i,"--\x3e")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars),this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation),this._.indent=0},reset:function(){this._.output=[],this._.indent=0,this._.indentation="",this._.afterCloser=0,this._.inPre=0,this._.needsSpace=0},setRules:function(i,o){var s=this._.rules[i];s?CKEDITOR.tools.extend(s,o,!0):this._.rules[i]=o}}}),CKEDITOR.plugins.add("iframe",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss("img.cke_iframe{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")},init:function(i){var o=i.lang.iframe,s="iframe[align,longdesc,tabindex,frameborder,height,name,scrolling,src,title,width]";i.plugins.dialogadvtab&&(s+=";iframe"+i.plugins.dialogadvtab.allowedContent({id:1,classes:1,styles:1})),CKEDITOR.dialog.add("iframe",this.path+"dialogs/iframe.js"),i.addCommand("iframe",new CKEDITOR.dialogCommand("iframe",{allowedContent:s,requiredContent:"iframe"})),i.ui.addButton&&i.ui.addButton("Iframe",{label:o.toolbar,command:"iframe",toolbar:"insert,80"}),i.on("doubleclick",(function(i){var o=i.data.element;o.is("img")&&"iframe"==o.data("cke-real-element-type")&&(i.data.dialog="iframe")})),i.addMenuItems&&i.addMenuItems({iframe:{label:o.title,command:"iframe",group:"image"}}),i.contextMenu&&i.contextMenu.addListener((function(i){if(i&&i.is("img")&&"iframe"==i.data("cke-real-element-type"))return{iframe:CKEDITOR.TRISTATE_OFF}}))},afterInit:function(i){var o=i.dataProcessor;(o=o&&o.dataFilter)&&o.addRules({elements:{iframe:function(o){return i.createFakeParserElement(o,"cke_iframe","iframe",!0)}}})}}),function(){function v(i){function e(i){var o=!1;j.attachListener(j,"keydown",(function(){var _=s.getBody().getElementsByTag(i);if(!o){for(var $=0;$<_.count();$++)_.getItem($).setCustomData("retain",!0);o=!0}}),null,null,1),j.attachListener(j,"keyup",(function(){var _=s.getElementsByTag(i);o&&(1==_.count()&&!_.getItem(0).getCustomData("retain")&&CKEDITOR.tools.isEmpty(_.getItem(0).getAttributes())&&_.getItem(0).remove(1),o=!1)}))}var o=this.editor;if(o&&!o.isDetached()){var s=i.document,_=s.body,$=s.getElementById("cke_actscrpt");$&&$.parentNode.removeChild($),($=s.getElementById("cke_shimscrpt"))&&$.parentNode.removeChild($),($=s.getElementById("cke_basetagscrpt"))&&$.parentNode.removeChild($),_.contentEditable=!0,CKEDITOR.env.ie&&(_.hideFocus=!0,_.disabled=!0,_.removeAttribute("disabled")),delete this._.isLoadingData,this.$=_,s=new CKEDITOR.dom.document(s),this.setup(),this.fixInitialSelection();var j=this;CKEDITOR.env.ie&&!CKEDITOR.env.edge&&s.getDocumentElement().addClass(s.$.compatMode),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&o.enterMode!=CKEDITOR.ENTER_P?e("p"):CKEDITOR.env.edge&&15>CKEDITOR.env.version&&o.enterMode!=CKEDITOR.ENTER_DIV&&e("div"),(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)&&s.getDocumentElement().on("mousedown",(function(i){i.data.getTarget().is("html")&&setTimeout((function(){o.editable().focus()}))})),function(i){function e(){var o;i.editable().attachListener(i,"selectionChange",(function(){var s=i.getSelection().getSelectedElement();s&&(o&&(o.detachEvent("onresizestart",b),o=null),s.$.attachEvent("onresizestart",b),o=s.$)}))}function b(i){i.returnValue=!1}if(CKEDITOR.env.gecko)try{var o=i.document.$;o.execCommand("enableObjectResizing",!1,!i.config.disableObjectResizing),o.execCommand("enableInlineTableEditing",!1,!i.config.disableNativeTableHandles)}catch(i){}else CKEDITOR.env.ie&&11>CKEDITOR.env.version&&i.config.disableObjectResizing&&e()}(o);try{o.document.$.execCommand("2D-position",!1,!0)}catch(i){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&"CSS1Compat"==o.document.$.compatMode)&&this.attachListener(this,"keydown",(function(i){var s=i.data.getKeystroke();if(33==s||34==s)if(CKEDITOR.env.ie)setTimeout((function(){o.getSelection().scrollIntoView()}),0);else if(o.window.$.innerHeight>this.$.offsetHeight){var _=o.createRange();_[33==s?"moveToElementEditStart":"moveToElementEditEnd"](this),_.select(),i.data.preventDefault()}})),CKEDITOR.env.ie&&this.attachListener(s,"blur",(function(){try{s.$.selection.empty()}catch(i){}})),CKEDITOR.env.iOS&&this.attachListener(s,"touchend",(function(){i.focus()})),(_=o.document.getElementsByTag("title").getItem(0)).data("cke-title",_.getText()),CKEDITOR.env.ie&&(o.document.$.title=this._.docTitle),CKEDITOR.tools.setTimeout((function(){"unloaded"==this.status&&(this.status="ready"),o.fire("contentDom"),this._.isPendingFocus&&(o.focus(),this._.isPendingFocus=!1),setTimeout((function(){o.fire("dataReady")}),0)}),0,this)}}var i;CKEDITOR.plugins.add("wysiwygarea",{init:function(o){o.config.fullPage&&o.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",requiredContent:"body"}),o.addMode("wysiwyg",(function(s){function b(_){_&&_.removeListener(),o.isDestroyed()||o.isDetached()||(o.editable(new i(o,$.getFrameDocument().getBody())),o.setData(o.getData(1),s),!oe)||(ie&&o.on("mode",c,{iframe:$,editor:o,callback:s}),o.on("mode",(function(){o.status="ready"})),Z=new MutationObserver((function(i){for(var s=0;s<i.length;s++){var _=i[s];if("childList"===_.type&&0!==_.addedNodes.length)for(var $=0;$<_.addedNodes.length;$++){var j=_.addedNodes[$];j.contains&&j.contains(o.container.$)&&(ie?ne=!0:d())}}})),Z.observe(o.config.observableParent,{childList:!0,subtree:!0}))}function c(i){i&&i.removeListener(),$.on("load",(function(){ne&&(ne=!1,d())}))}function d(){var _,j=o.getData(!1);o.editable().preserveIframe=!0,o.editable(null),_=new i(o,$.getFrameDocument().getBody()),o.editable(_),o.status="recreating",o.setData(j,{callback:s,internal:!1,noSnapshot:!1})}var _="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",$=(_=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent(_)+"}())":"",CKEDITOR.dom.element.createFromHtml('<iframe src="'+_+'" frameBorder="0"></iframe>'));$.setStyles({width:"100%",height:"100%"}),$.addClass("cke_wysiwyg_frame").addClass("cke_reset"),(_=o.ui.space("contents")).append($);var j=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;j&&$.on("load",b);var Z,ee=o.title,te=o.fire("ariaEditorHelpLabel",{}).label,ne=!1,ie=CKEDITOR.env.ie&&11===CKEDITOR.env.version,oe=!!window.MutationObserver;if(ee&&(CKEDITOR.env.ie&&te&&(ee+=", "+te),$.setAttribute("title",ee)),te){ee=CKEDITOR.tools.getNextId();var ae=CKEDITOR.dom.element.createFromHtml('<span id="'+ee+'" class="cke_voice_label">'+te+"</span>");_.append(ae,1),$.setAttribute("aria-describedby",ee)}o.on("beforeModeUnload",(function(i){i.removeListener(),ae&&ae.remove(),oe&&Z.disconnect()})),o.on("destroy",(function(){Z&&Z.disconnect()})),$.setAttributes({tabIndex:o.tabIndex,allowTransparency:"true"}),!j&&b(),o.fire("ariaWidget",$)}))}}),CKEDITOR.editor.prototype.addContentsCss=function(i){var o=this.config,s=o.contentsCss;CKEDITOR.tools.isArray(s)||(o.contentsCss=s?[s]:[]),o.contentsCss.push(i)},i=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments),this._.frameLoadedHandler=CKEDITOR.tools.addFunction((function(i){CKEDITOR.tools.setTimeout(v,0,this,i)}),this),this._.docTitle=this.getWindow().getFrame().getAttribute("title")||" "},base:CKEDITOR.editable,proto:{preserveIframe:!1,setData:function(i,o){var s=this.editor;if(o)this.setHtml(i),this.fixInitialSelection(),s.fire("dataReady");else{this._.isLoadingData=!0,s._.dataStore={id:1};var _=s.config,$=_.fullPage,j=_.docType,Z=CKEDITOR.tools.buildStyleHtml(function(){var i=[];if(8<=CKEDITOR.document.$.documentMode){i.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var o,s=[];for(o in CKEDITOR.dtd.$removeEmpty)s.push("html.CSS1Compat "+o+"[contenteditable=false]");i.push(s.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(i.push("html{height:100% !important}"),i.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));return i.push("html{cursor:text;*cursor:auto}"),i.push("img,input,textarea{cursor:default}"),i.join("\n")}()).replace(/<style>/,'<style data-cke-temp="1">');$||(Z+=CKEDITOR.tools.buildStyleHtml(s.config.contentsCss));var ee=_.baseHref?'<base href="'+_.baseHref+'" data-cke-temp="1" />':"";$&&(i=i.replace(/<!DOCTYPE[^>]*>/i,(function(i){return s.docType=j=i,""})).replace(/<\?xml\s[^\?]*\?>/i,(function(i){return s.xmlDeclaration=i,""}))),i=s.dataProcessor.toHtml(i),$?(/<body[\s|>]/.test(i)||(i="<body>"+i),/<html[\s|>]/.test(i)||(i="<html>"+i+"</html>"),/<head[\s|>]/.test(i)?/<title[\s|>]/.test(i)||(i=i.replace(/<head[^>]*>/,"$&<title></title>")):i=i.replace(/<html[^>]*>/,"$&<head><title></title></head>"),ee&&(i=i.replace(/<head[^>]*?>/,"$&"+ee)),i=i.replace(/<\/head\s*>/,Z+"$&"),i=j+i):i=_.docType+'<html dir="'+_.contentsLangDirection+'" lang="'+(_.contentsLanguage||s.langCode)+'"><head><title>'+this._.docTitle+"</title>"+ee+Z+"</head><body"+(_.bodyId?' id="'+_.bodyId+'"':"")+(_.bodyClass?' class="'+_.bodyClass+'"':"")+">"+i+"</body></html>",CKEDITOR.env.gecko&&(i=i.replace(/<body/,'<body contenteditable="true" '),2e4>CKEDITOR.env.version&&(i=i.replace(/<body[^>]*>/,"$&\x3c!-- cke-content-start --\x3e"))),i=i.replace(/<body/,'<body role="textbox" aria-multiline="true"'),s.title&&(i=i.replace(/<body/,'<body aria-label="'+CKEDITOR.tools.htmlEncodeAttr(s.title)+'"')),CKEDITOR.env.gecko||(i=i.replace("<body",'<body tabindex="0" ')),_='<script id="cke_actscrpt" type="text/javascript"'+(CKEDITOR.env.ie?' defer="defer" ':"")+">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR && window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"<\/script>",CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(_+='<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)<\/script>'),ee&&CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(_+='<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;<\/script>'),i=i.replace(/(?=\s*<\/(:?head)>)/,_),this.clearCustomData(),this.clearListeners(),s.fire("contentDomUnload");var te=this.getDocument();try{te.write(i)}catch(o){setTimeout((function(){te.write(i)}),0)}}},getData:function(i){if(i)return this.getHtml();var o=(i=this.editor).config,s=o.fullPage,_=s&&i.docType,$=s&&i.xmlDeclaration,j=this.getDocument();j=s?j.getDocumentElement().getOuterHtml():j.getBody().getHtml();return CKEDITOR.env.gecko&&o.enterMode!=CKEDITOR.ENTER_BR&&(j=j.replace(/<br>(?=\s*(:?$|<\/body>))/,"")),s&&(j=j.replace(/<body(.*?)role="?textbox"?/i,"<body$1").replace(/<body(.*?)aria-multiline="?true"?/i,"<body$1").replace(/<body(.*?)tabindex="?0"?/i,"<body$1").replace(/<body(.*?)aria-label="(.+?)"/i,"<body$1").replace(/<body(.*?)aria-readonly="?(?:true|false)"?/i,"<body$1")),j=i.dataProcessor.toDataFormat(j),$&&(j=$+"\n"+j),_&&(j=_+"\n"+j),j},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:i.baseProto.focus.call(this)},detach:function(){if(!this.preserveIframe){var o=(s=this.editor).document,s=s.container.findOne("iframe.cke_wysiwyg_frame");i.baseProto.detach.call(this),this.clearCustomData(this._.expandoNumber),o.getDocumentElement().clearCustomData(),CKEDITOR.tools.removeFunction(this._.frameLoadedHandler),s&&(s.clearCustomData(),(o=s.removeCustomData("onResize"))&&o.removeListener(),s.isDetached()||s.remove())}}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,CKEDITOR.config.observableParent=CKEDITOR.document.$,function(){function e(i,o){if(o||(o=i.getSelection().getSelectedElement()),o&&o.is("img")&&!o.data("cke-realelement")&&!o.isReadOnly())return o}function f(i){var o=i.getStyle("float");return"inherit"!=o&&"none"!=o||(o=0),o||(o=i.getAttribute("align")),o}CKEDITOR.plugins.add("image",{requires:"dialog",init:function(i){if(!i.plugins.detectConflict("image",["easyimage","image2"])){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var o="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(i,"image","advanced")&&(o="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"),i.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:o,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]})),i.ui.addButton&&i.ui.addButton("Image",{label:i.lang.common.image,command:"image",toolbar:"insert,10"}),i.on("doubleclick",(function(i){var o=i.data.element;!o.is("img")||o.data("cke-realelement")||o.isReadOnly()||(i.data.dialog="image")})),i.addMenuItems&&i.addMenuItems({image:{label:i.lang.image.menu,command:"image",group:"image"}}),i.contextMenu&&i.contextMenu.addListener((function(o){if(e(i,o))return{image:CKEDITOR.TRISTATE_OFF}}))}},afterInit:function(i){function a(o){var s=i.getCommand("justify"+o);s&&("left"!=o&&"right"!=o||s.on("exec",(function(s){var _=e(i);_&&(f(_)==o?(_.removeStyle("float"),o==f(_)&&_.removeAttribute("align")):_.setStyle("float",o),s.cancel())})),s.on("refresh",(function(s){var _=e(i);_&&(_=f(_),this.setState(_==o?CKEDITOR.TRISTATE_ON:"right"==o||"left"==o?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),s.cancel())})))}i.plugins.image2||(a("left"),a("right"),a("center"),a("block"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function m(s,_){var $,j;_.on("refresh",(function(s){var _,$=[i];for(_ in s.data.states)$.push(s.data.states[_]);this.setState(CKEDITOR.tools.search($,o)?o:i)}),_,null,100),_.on("exec",(function(i){$=s.getSelection(),j=$.createBookmarks(1),i.data||(i.data={}),i.data.done=!1}),_,null,0),_.on("exec",(function(){s.forceNextSelectionCheck(),$.selectBookmarks(j)}),_,null,100)}var i=CKEDITOR.TRISTATE_DISABLED,o=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(i){var o=CKEDITOR.plugins.indent.genericDefinition;m(i,i.addCommand("indent",new o(!0))),m(i,i.addCommand("outdent",new o)),i.ui.addButton&&(i.ui.addButton("Indent",{label:i.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),i.ui.addButton("Outdent",{label:i.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"})),i.on("dirChanged",(function(o){var s=i.createRange(),_=o.data.node;s.setStartBefore(_),s.setEndAfter(_);for(var $,j=new CKEDITOR.dom.walker(s);$=j.next();)if($.type==CKEDITOR.NODE_ELEMENT)if(!$.equals(_)&&$.getDirection())s.setStartAfter($),j=new CKEDITOR.dom.walker(s);else{var Z=i.config.indentClasses;if(Z)for(var ee="ltr"==o.data.dir?["_rtl",""]:["","_rtl"],te=0;te<Z.length;te++)$.hasClass(Z[te]+ee[0])&&($.removeClass(Z[te]+ee[0]),$.addClass(Z[te]+ee[1]));Z=$.getStyle("margin-right"),ee=$.getStyle("margin-left"),Z?$.setStyle("margin-left",Z):$.removeStyle("margin-left"),ee?$.setStyle("margin-right",ee):$.removeStyle("margin-right")}}))}}),CKEDITOR.plugins.indent={genericDefinition:function(i){this.isIndent=!!i,this.startDisabled=!this.isIndent},specificDefinition:function(i,o,s){this.name=o,this.editor=i,this.jobs={},this.enterBr=i.config.enterMode==CKEDITOR.ENTER_BR,this.isIndent=!!s,this.relatedGlobal=s?"indent":"outdent",this.indentKey=s?9:CKEDITOR.SHIFT+9,this.database={}},registerCommands:function(i,o){i.on("pluginsLoaded",(function(){for(var i in o)!function(i,o){var s,_=i.getCommand(o.relatedGlobal);for(s in o.jobs)_.on("exec",(function(_){_.data.done||(i.fire("lockSnapshot"),o.execJob(i,s)&&(_.data.done=!0),i.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(o.database))}),this,null,s),_.on("refresh",(function(_){_.data.states||(_.data.states={}),_.data.states[o.name+"@"+s]=o.refreshJob(i,s,_.data.path)}),this,null,s);i.addFeature(o)}(this,o[i])}))}},CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}},CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(o,s){var _=this.jobs[s];if(_.state!=i)return _.exec.call(this,o)},refreshJob:function(o,s,_){return s=this.jobs[s],o.activeFilter.checkFeature(this)?s.state=s.refresh.call(this,o,_):s.state=i,s.state},getContext:function(i){return i.contains(this.context)}}}(),function(){function f(i,o,s){if(!i.getCustomData("indent_processed")){var _=this.editor,$=this.isIndent;if(o){if(s=0,(_=i.$.className.match(this.classNameRegex))&&(_=_[1],s=CKEDITOR.tools.indexOf(o,_)+1),0>(s+=$?1:-1))return;s=Math.min(s,o.length),s=Math.max(s,0),i.$.className=CKEDITOR.tools.ltrim(i.$.className.replace(this.classNameRegex,"")),0<s&&i.addClass(o[s-1])}else{o=m(i,s),s=parseInt(i.getStyle(o),10);var j=_.config.indentOffset||40;if(isNaN(s)&&(s=0),0>(s+=($?1:-1)*j))return;s=Math.max(s,0),s=Math.ceil(s/j)*j,i.setStyle(o,s?s+(_.config.indentUnit||"px"):""),""===i.getAttribute("style")&&i.removeAttribute("style")}CKEDITOR.dom.element.setMarker(this.database,i,"indent_processed",1)}}function m(i,o){return"ltr"==(o||i.getComputedStyle("direction"))?"margin-left":"margin-right"}var i=CKEDITOR.dtd.$listItem,o=CKEDITOR.dtd.$list,s=CKEDITOR.TRISTATE_DISABLED,_=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentblock",{requires:"indent",init:function($){function c(){j.specificDefinition.apply(this,arguments),this.allowedContent={"div h1 h2 h3 h4 h5 h6 ol p pre ul":{propertiesOnly:!0,styles:Z?null:"margin-left,margin-right",classes:Z||null}},this.contentTransformations=[["div: splitMarginShorthand"],["h1: splitMarginShorthand"],["h2: splitMarginShorthand"],["h3: splitMarginShorthand"],["h4: splitMarginShorthand"],["h5: splitMarginShorthand"],["h6: splitMarginShorthand"],["ol: splitMarginShorthand"],["p: splitMarginShorthand"],["pre: splitMarginShorthand"],["ul: splitMarginShorthand"]],this.enterBr&&(this.allowedContent.div=!0),this.requiredContent=(this.enterBr?"div":"p")+(Z?"("+Z.join(",")+")":"{margin-left}"),this.jobs={20:{refresh:function(o,$){if(!(j=$.block||$.blockLimit).is(i))var j=(ee=j.getAscendant(i))&&$.contains(ee)||j;if(j.is(i)&&(j=j.getParent()),this.enterBr||this.getContext($)){if(Z){var ee=Z,te=(j=j.$.className.match(this.classNameRegex),this.isIndent);return(ee=j?!te||j[1]!=ee.slice(-1):te)?_:s}return this.isIndent?_:j?CKEDITOR[0>=(parseInt(j.getStyle(m(j)),10)||0)?"TRISTATE_DISABLED":"TRISTATE_OFF"]:s}return s},exec:function(i){var s,_=(_=i.getSelection())&&_.getRanges()[0];if(s=i.elementPath().contains(o))f.call(this,s,Z);else for(_=_.createIterator(),i=i.config.enterMode,_.enforceRealBlocks=!0,_.enlargeBr=i!=CKEDITOR.ENTER_BR;s=_.getNextParagraph(i==CKEDITOR.ENTER_P?"p":"div");)s.isReadOnly()||f.call(this,s,Z);return!0}}}}var j=CKEDITOR.plugins.indent,Z=$.config.indentClasses;j.registerCommands($,{indentblock:new c($,"indentblock",!0),outdentblock:new c($,"outdentblock")}),CKEDITOR.tools.extend(c.prototype,j.specificDefinition.prototype,{context:{div:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,p:1,pre:1,table:1},classNameRegex:Z?new RegExp("(?:^|\\s+)("+Z.join("|")+")(?=$|\\s)"):null})}})}(),function(){function w(i){function g(j){for(var Z=o.startContainer,ee=o.endContainer;Z&&!Z.getParent().equals(j);)Z=Z.getParent();for(;ee&&!ee.getParent().equals(j);)ee=ee.getParent();if(!Z||!ee)return!1;for(var te=[],ne=!1;!ne;)Z.equals(ee)&&(ne=!0),te.push(Z),Z=Z.getNext();if(1>te.length)return!1;for(Z=j.getParents(!0),ee=0;ee<Z.length;ee++)if(Z[ee].getName&&$[Z[ee].getName()]){j=Z[ee];break}Z=s.isIndent?1:-1,ee=te[0],te=te[te.length-1];var ie=(ne=CKEDITOR.plugins.list.listToArray(j,_))[te.getCustomData("listarray_index")].indent;for(ee=ee.getCustomData("listarray_index");ee<=te.getCustomData("listarray_index");ee++)if(ne[ee].indent+=Z,0<Z){for(var oe=ne[ee].parent,ae=ee-1;0<=ae;ae--)if(ne[ae].indent===Z){oe=ne[ae].parent;break}ne[ee].parent=new CKEDITOR.dom.element(oe.getName(),oe.getDocument())}for(ee=te.getCustomData("listarray_index")+1;ee<ne.length&&ne[ee].indent>ie;ee++)ne[ee].indent+=Z;var re;if((Z=CKEDITOR.plugins.list.arrayToList(ne,_,null,i.config.enterMode,j.getDirection()),!s.isIndent)&&((re=j.getParent())&&re.is("li"))){var se,le=[];for(ee=(te=Z.listNode.getChildren()).count()-1;0<=ee;ee--)(se=te.getItem(ee))&&se.is&&se.is("li")&&le.push(se)}if(Z&&Z.listNode.replace(j),le&&le.length)for(ee=0;ee<le.length;ee++){for(se=j=le[ee];(se=se.getNext())&&se.is&&se.getName()in $;)CKEDITOR.env.needsNbspFiller&&!j.getFirst(x)&&j.append(o.document.createText(" ")),j.append(se);j.insertAfter(re)}return Z&&i.fire("contentDomInvalidated"),!0}for(var o,s=this,_=this.database,$=this.context,j=((j=i.getSelection())&&j.getRanges()).createIterator();o=j.getNextRange();){for(var Z=o.getCommonAncestor();Z&&(Z.type!=CKEDITOR.NODE_ELEMENT||!$[Z.getName()]);){if(i.editable().equals(Z)){Z=!1;break}Z=Z.getParent()}if(Z||(Z=o.startPath().contains($))&&o.setEndAt(Z,CKEDITOR.POSITION_BEFORE_END),!Z){var ee=o.getEnclosedNode();ee&&ee.type==CKEDITOR.NODE_ELEMENT&&ee.getName()in $&&(o.setStartAt(ee,CKEDITOR.POSITION_AFTER_START),o.setEndAt(ee,CKEDITOR.POSITION_BEFORE_END),Z=ee)}if(Z&&o.startContainer.type==CKEDITOR.NODE_ELEMENT&&o.startContainer.getName()in $&&((ee=new CKEDITOR.dom.walker(o)).evaluator=n,o.startContainer=ee.next()),Z&&o.endContainer.type==CKEDITOR.NODE_ELEMENT&&o.endContainer.getName()in $&&((ee=new CKEDITOR.dom.walker(o)).evaluator=n,o.endContainer=ee.previous()),Z)return g(Z)}return 0}function n(i){return i.type==CKEDITOR.NODE_ELEMENT&&i.is("li")}function x(s){return i(s)&&o(s)}var i=CKEDITOR.dom.walker.whitespaces(!0),o=CKEDITOR.dom.walker.bookmark(!1,!0),s=CKEDITOR.TRISTATE_DISABLED,_=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(i){function g(i){o.specificDefinition.apply(this,arguments),this.requiredContent=["ul","ol"],i.on("key",(function(o){var s=i.elementPath();if("wysiwyg"==i.mode&&o.data.keyCode==this.indentKey&&s){var _=this.getContext(s);!_||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,s,_)||(i.execCommand(this.relatedGlobal),o.cancel())}}),this),this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(i,o){var $=this.getContext(o),j=CKEDITOR.plugins.indentList.firstItemInPath(this.context,o,$);return $&&this.isIndent&&!j?_:s}:function(i,o){return!this.getContext(o)||this.isIndent?s:_},exec:CKEDITOR.tools.bind(w,this)}}var o=CKEDITOR.plugins.indent;o.registerCommands(i,{indentlist:new g(i,"indentlist",!0),outdentlist:new g(i,"outdentlist")}),CKEDITOR.tools.extend(g.prototype,o.specificDefinition.prototype,{context:{ol:1,ul:1}})}}),CKEDITOR.plugins.indentList={},CKEDITOR.plugins.indentList.firstItemInPath=function(i,o,s){var _=o.contains(n);return s||(s=o.contains(i)),s&&_&&_.equals(s.getFirst(n))}}(),CKEDITOR.plugins.add("smiley",{requires:"dialog",init:function(i){i.config.smiley_path=i.config.smiley_path||this.path+"images/",i.addCommand("smiley",new CKEDITOR.dialogCommand("smiley",{allowedContent:"img[alt,height,!src,title,width]",requiredContent:"img"})),i.ui.addButton&&i.ui.addButton("Smiley",{label:i.lang.smiley.toolbar,command:"smiley",toolbar:"insert,50"}),CKEDITOR.dialog.add("smiley",this.path+"dialogs/smiley.js")}}),CKEDITOR.config.smiley_images="regular_smile.png sad_smile.png wink_smile.png teeth_smile.png confused_smile.png tongue_smile.png embarrassed_smile.png omg_smile.png whatchutalkingabout_smile.png angry_smile.png angel_smile.png shades_smile.png devil_smile.png cry_smile.png lightbulb.png thumbs_down.png thumbs_up.png heart.png broken_heart.png kiss.png envelope.png".split(" "),CKEDITOR.config.smiley_descriptions="smiley;sad;wink;laugh;frown;cheeky;blush;surprise;indecision;angry;angel;cool;devil;crying;enlightened;no;yes;heart;broken heart;kiss;mail".split(";"),function(){function p(i,o){var s;if(o)s=i.getComputedStyle("text-align");else{for(;(!i.hasAttribute||!i.hasAttribute("align")&&!i.getStyle("text-align"))&&(s=i.getParent());)i=s;s=i.getStyle("text-align")||i.getAttribute("align")||""}return s&&(s=s.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i,"")),!s&&o&&(s="rtl"==i.getComputedStyle("direction")?"right":"left"),s}function h(i,o,s){this.editor=i,this.name=o,this.value=s,this.context="p",o=i.config.justifyClasses;var _=i.config.enterMode==CKEDITOR.ENTER_P?"p":"div";if(o){switch(s){case"left":this.cssClassName=o[0];break;case"center":this.cssClassName=o[1];break;case"right":this.cssClassName=o[2];break;case"justify":this.cssClassName=o[3]}this.cssClassRegex=new RegExp("(?:^|\\s+)(?:"+o.join("|")+")(?=$|\\s)"),this.requiredContent=_+"("+this.cssClassName+")"}else this.requiredContent=_+"{text-align}";this.allowedContent={"caption div h1 h2 h3 h4 h5 h6 p pre td th li":{propertiesOnly:!0,styles:this.cssClassName?null:"text-align",classes:this.cssClassName||null}},i.config.enterMode==CKEDITOR.ENTER_BR&&(this.allowedContent.div=!0)}function l(i){var o=i.editor,s=o.createRange();s.setStartBefore(i.data.node),s.setEndAfter(i.data.node);for(var _,$=new CKEDITOR.dom.walker(s);_=$.next();)if(_.type==CKEDITOR.NODE_ELEMENT)if(!_.equals(i.data.node)&&_.getDirection())s.setStartAfter(_),$=new CKEDITOR.dom.walker(s);else{var j=o.config.justifyClasses;j&&(_.hasClass(j[0])?(_.removeClass(j[0]),_.addClass(j[2])):_.hasClass(j[2])&&(_.removeClass(j[2]),_.addClass(j[0]))),"left"==(j=_.getStyle("text-align"))?_.setStyle("text-align","right"):"right"==j&&_.setStyle("text-align","left")}}h.prototype={exec:function(i){var o=i.getSelection(),s=i.config.enterMode;if(o){for(var _,$,j=o.createBookmarks(),Z=o.getRanges(),ee=this.cssClassName,te=i.config.useComputedState,ne=Z.length-1;0<=ne;ne--)for((_=Z[ne].createIterator()).enlargeBr=s!=CKEDITOR.ENTER_BR;$=_.getNextParagraph(s==CKEDITOR.ENTER_P?"p":"div");)if(!$.isReadOnly()){var ie,oe=$.getName();if(ie=i.activeFilter.check(oe+"{text-align}"),(oe=i.activeFilter.check(oe+"("+ee+")"))||ie){$.removeAttribute("align"),$.removeStyle("text-align");var ae=ee&&($.$.className=CKEDITOR.tools.ltrim($.$.className.replace(this.cssClassRegex,""))),re=this.state==CKEDITOR.TRISTATE_OFF&&(!te||p($,!0)!=this.value);ee&&oe?re?$.addClass(ee):ae||$.removeAttribute("class"):re&&ie&&$.setStyle("text-align",this.value)}}i.focus(),i.forceNextSelectionCheck(),o.selectBookmarks(j)}},refresh:function(i,o){var s=o.block||o.blockLimit,_=s.getName(),$=s.equals(i.editable());_=this.cssClassName?i.activeFilter.check(_+"("+this.cssClassName+")"):i.activeFilter.check(_+"{text-align}");$&&!CKEDITOR.dtd.$list[o.lastElement.getName()]?this.setState(CKEDITOR.TRISTATE_OFF):!$&&_?this.setState(p(s,this.editor.config.useComputedState)==this.value?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)}},CKEDITOR.plugins.add("justify",{init:function(i){if(!i.blockless){var o=new h(i,"justifyleft","left"),s=new h(i,"justifycenter","center"),_=new h(i,"justifyright","right"),$=new h(i,"justifyblock","justify");i.addCommand("justifyleft",o),i.addCommand("justifycenter",s),i.addCommand("justifyright",_),i.addCommand("justifyblock",$),i.ui.addButton&&(i.ui.addButton("JustifyLeft",{isToggle:!0,label:i.lang.common.alignLeft,command:"justifyleft",toolbar:"align,10"}),i.ui.addButton("JustifyCenter",{isToggle:!0,label:i.lang.common.center,command:"justifycenter",toolbar:"align,20"}),i.ui.addButton("JustifyRight",{isToggle:!0,label:i.lang.common.alignRight,command:"justifyright",toolbar:"align,30"}),i.ui.addButton("JustifyBlock",{isToggle:!0,label:i.lang.common.justify,command:"justifyblock",toolbar:"align,40"})),i.on("dirChanged",l)}}})}(),CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var d=function(i){var o=this._,s=CKEDITOR.document.getById(o.id),_=o.menu;o.state!==CKEDITOR.TRISTATE_DISABLED&&(o.on&&_?_.hide():(o.previousState=o.state,_||((_=o.menu=new CKEDITOR.menu(i,{panel:{className:"cke_menu_panel",attributes:{"aria-label":i.lang.common.options}}})).onHide=CKEDITOR.tools.bind((function(){var _=this.command?i.getCommand(this.command).modes:this.modes;this.setState(!_||_[i.mode]?o.previousState:CKEDITOR.TRISTATE_DISABLED),o.on=0,s.setAttribute("aria-expanded","false")}),this),this.onMenu&&_.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),o.on=1,s.setAttribute("aria-expanded","true"),setTimeout((function(){_.show(CKEDITOR.document.getById(o.id),4)}),0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(i){delete i.panel,this.base(i),this.hasArrow="menu",this.click=d},statics:{handler:{create:function(i){return new CKEDITOR.ui.menuButton(i)}}}})},beforeInit:function(i){i.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON="menubutton",CKEDITOR.plugins.add("language",{requires:"menubutton",init:function(i){var o,s,_,$,j=i.config.language_list||["ar:Arabic:rtl","fr:French","es:Spanish"],Z=this,ee=i.lang.language,te={};for(i.addCommand("language",{allowedContent:"span[!lang,dir]",requiredContent:"span[lang]",contextSensitive:!0,exec:function(i,o){var s=te["language_"+o];s&&i[s.style.checkActive(i.elementPath(),i)?"removeStyle":"applyStyle"](s.style)},refresh:function(i){this.setState(Z.getCurrentLangElement(i)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}}),$=0;$<j.length;$++)s=(o=j[$].split(":"))[0],te[_="language_"+s]={label:o[1],langId:s,group:"language",order:$,ltr:"rtl"!=(""+o[2]).toLowerCase(),onClick:function(){i.execCommand("language",this.langId)},role:"menuitemcheckbox"},te[_].style=new CKEDITOR.style({element:"span",attributes:{lang:s,dir:te[_].ltr?"ltr":"rtl"}});te.language_remove={label:ee.remove,group:"language_remove",state:CKEDITOR.TRISTATE_DISABLED,order:te.length,onClick:function(){var o=Z.getCurrentLangElement(i);o&&i.execCommand("language",o.getAttribute("lang"))}},i.addMenuGroup("language",1),i.addMenuGroup("language_remove"),i.addMenuItems(te),i.ui.add("Language",CKEDITOR.UI_MENUBUTTON,{label:ee.button,allowedContent:"span[!lang,dir]",requiredContent:"span[lang]",toolbar:"bidi,30",command:"language",contentTransformations:[[{element:"span",left:function(i){return i.attributes.lang&&(!i.attributes.dir||""===i.attributes.dir)},right:function(i){var o=CKEDITOR.tools.object.keys(CKEDITOR.lang.rtl);o=-1!==CKEDITOR.tools.array.indexOf(o,i.attributes.lang)?"rtl":"ltr",i.attributes.dir=o}}]],onMenu:function(){var o,s={},_=Z.getCurrentLangElement(i);for(o in te)s[o]=CKEDITOR.TRISTATE_OFF;return s.language_remove=_?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,_&&(s["language_"+_.getAttribute("lang")]=CKEDITOR.TRISTATE_ON),s}}),i.addRemoveFormatFilter&&i.addRemoveFormatFilter((function(i){return!(i.is("span")&&i.getAttribute("dir")&&i.getAttribute("lang"))}))},getCurrentLangElement:function(i){var o,s=i.elementPath();if(i=s&&s.elements,s)for(var _=0;_<i.length;_++)s=i[_],!o&&"span"==s.getName()&&s.hasAttribute("lang")&&(o=s);return o}}),function(){function p(i){return i.replace(/'/g,"\\$&")}function q(i){for(var o,s=i.length,_=[],$=0;$<s;$++)o=i.charCodeAt($),_.push(o);return"String.fromCharCode("+_.join(",")+")"}function r(i,o){for(var s,_,$=(j=i.plugins.link).compiledProtectionFunction.params,j=[j.compiledProtectionFunction.name,"("],Z=0;Z<$.length;Z++)_=o[s=$[Z].toLowerCase()],0<Z&&j.push(","),j.push("'",_?p(encodeURIComponent(o[s])):"","'");return j.push(")"),j.join("")}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function c(i){return o.replace(/%1/g,"rtl"==i?"right":"left").replace(/%2/g,"cke_contents_"+i)}var i="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",o=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+i+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+i+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(c("ltr")+c("rtl"))},init:function(i){var o="a[!href]";CKEDITOR.dialog.isTabEnabled(i,"link","advanced")&&(o=o.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)")),CKEDITOR.dialog.isTabEnabled(i,"link","target")&&(o=o.replace("]",",target,onclick]")),i.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:o,requiredContent:"a[href]"})),i.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"})),i.addCommand("unlink",new CKEDITOR.unlinkCommand),i.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand),i.setKeystroke(CKEDITOR.CTRL+76,"link"),i.setKeystroke(CKEDITOR.CTRL+75,"link"),i.ui.addButton&&(i.ui.addButton("Link",{label:i.lang.link.toolbar,command:"link",toolbar:"links,10"}),i.ui.addButton("Unlink",{label:i.lang.link.unlink,command:"unlink",toolbar:"links,20"}),i.ui.addButton("Anchor",{label:i.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"})),CKEDITOR.dialog.add("link",this.path+"dialogs/link.js"),CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js"),i.on("doubleclick",(function(o){var s=o.data.element.getAscendant({a:1,img:1},!0);s&&!s.isReadOnly()&&(s.is("a")?(o.data.dialog=!s.getAttribute("name")||s.getAttribute("href")&&s.getChildCount()?"link":"anchor",o.data.link=s):CKEDITOR.plugins.link.tryRestoreFakeAnchor(i,s)&&(o.data.dialog="anchor"))}),null,null,0),i.on("doubleclick",(function(o){o.data.dialog in{link:1,anchor:1}&&o.data.link&&i.getSelection().selectElement(o.data.link)}),null,null,20),i.addMenuItems&&i.addMenuItems({anchor:{label:i.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:i.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:i.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:i.lang.link.unlink,command:"unlink",group:"link",order:5}}),i.contextMenu&&i.contextMenu.addListener((function(o){if(!o||o.isReadOnly())return null;if(!(o=CKEDITOR.plugins.link.tryRestoreFakeAnchor(i,o))&&!(o=CKEDITOR.plugins.link.getSelectedLink(i)))return null;var s={};return o.getAttribute("href")&&o.getChildCount()&&(s={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF}),o&&o.hasAttribute("name")&&(s.anchor=s.removeAnchor=CKEDITOR.TRISTATE_OFF),s})),this.compiledProtectionFunction=function(i){var o;return(i=i.config.emailProtection||"")&&"encode"!=i&&(o={},i.replace(/^([^(]+)\(([^)]+)\)$/,(function(i,s,_){o.name=s,o.params=[],_.replace(/[^,\s]+/g,(function(i){o.params.push(i)}))}))),o}(i)},afterInit:function(i){i.dataProcessor.dataFilter.addRules({elements:{a:function(o){return o.attributes.name?o.children.length?null:i.createFakeParserElement(o,"cke_anchor","anchor"):null}}});var o=i._.elementsPath&&i._.elementsPath.filters;o&&o.push((function(o,s){if("a"==s&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(i,o)||o.getAttribute("name")&&(!o.getAttribute("href")||!o.getChildCount())))return"anchor"}))}});var i=/^javascript:/,o=/^(?:mailto)(?:(?!\?(subject|body)=).)+/i,s=/subject=([^;?:@&=$,\/]*)/i,_=/body=([^;?:@&=$,\/]*)/i,$=/^#(.*)$/,j=/^((?:http|https|ftp|news):\/\/)?(.*)$/,Z=/^(_(?:self|top|parent|blank))$/,ee=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,te=/^javascript:([^(]+)\(([^)]+)\)$/,ne=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,ie=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,oe=/^tel:(.*)$/,ae={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType",class:"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(i,o){var s,_=i.getSelection(),$=_.getSelectedElement(),j=_.getRanges(),Z=[];if(!o&&$&&$.is("a"))return $;for($=0;$<j.length;$++)if((s=_.getRanges()[$]).shrink(CKEDITOR.SHRINK_ELEMENT,!0,{skipBogus:!0}),(s=i.elementPath(s.getCommonAncestor()).contains("a",1))&&o)Z.push(s);else if(s)return s;return o?Z:null},getEditorAnchors:function(i){for(var o,s=(_=(s=i.editable()).isInline()&&!i.plugins.divarea?i.document:s).getElementsByTag("a"),_=_.getElementsByTag("img"),$=[],j=0;o=s.getItem(j++);)(o.data("cke-saved-name")||o.hasAttribute("name"))&&$.push({name:o.data("cke-saved-name")||o.getAttribute("name"),id:o.getAttribute("id")});for(j=0;o=_.getItem(j++);)(o=this.tryRestoreFakeAnchor(i,o))&&$.push({name:o.getAttribute("name"),id:o.getAttribute("id")});return $},fakeAnchor:!0,tryRestoreFakeAnchor:function(i,o){if(o&&o.data("cke-real-element-type")&&"anchor"==o.data("cke-real-element-type")){var s=i.restoreRealElement(o);if(s.data("cke-saved-name"))return s}},parseLinkAttributes:function(re,se){var le,ce=se&&(se.data("cke-saved-href")||se.getAttribute("href"))||"",de=re.plugins.link.compiledProtectionFunction,ue=re.config.emailProtection,he={};if(ce.match(i)&&("encode"==ue?ce=ce.replace(ee,(function(i,o,s){return s=s||"","mailto:"+String.fromCharCode.apply(String,o.split(","))+s.replace(/\\'/g,"'")})):ue&&ce.replace(te,(function(i,o,s){if(o==de.name){he.type="email",i=he.email={},o=/(^')|('$)/g;for(var _,$=(s=s.match(/[^,\s]+/g)).length,j=0;j<$;j++)_=decodeURIComponent(_=s[j].replace(o,"").replace(/\\'/g,"'")),i[de.params[j].toLowerCase()]=_;i.address=[i.name,i.domain].join("@")}}))),!he.type)if(ue=ce.match($))he.type="anchor",he.anchor={},he.anchor.name=he.anchor.id=ue[1];else if(ue=ce.match(oe))he.type="tel",he.tel=ue[1];else if(ue=ce.match(o)){le=ce.match(s);ce=ce.match(_);var fe=he.email={};he.type="email",fe.address=ue[0].replace("mailto:",""),le&&(fe.subject=decodeURIComponent(le[1])),ce&&(fe.body=decodeURIComponent(ce[1]))}else ce&&(le=ce.match(j))&&(he.type="url",he.url={},he.url.protocol=le[1],he.url.url=le[2]);if(se){if(ce=se.getAttribute("target"))he.target={type:ce.match(Z)?ce:"frame",name:ce};else if(ce=(ce=se.data("cke-pa-onclick")||se.getAttribute("onclick"))&&ce.match(ne))for(he.target={type:"popup",name:ce[1]};ue=ie.exec(ce[2]);)"yes"!=ue[2]&&"1"!=ue[2]||ue[1]in{height:1,width:1,top:1,left:1}?isFinite(ue[2])&&(he.target[ue[1]]=ue[2]):he.target[ue[1]]=!0;null!==se.getAttribute("download")&&(he.download=!0);var ge;ce={};for(ge in ae)(ue=se.getAttribute(ge))&&(ce[ae[ge]]=ue);(ge=se.data("cke-saved-name")||ce.advName)&&(ce.advName=ge),CKEDITOR.tools.isEmpty(ce)||(he.advanced=ce)}return he},getLinkAttributes:function(i,o){var s=i.config.emailProtection||"",_={};switch(o.type){case"url":s=o.url&&void 0!==o.url.protocol?o.url.protocol:"http://";var $=o.url&&CKEDITOR.tools.trim(o.url.url)||"";_["data-cke-saved-href"]=0===$.indexOf("/")?$:s+$;break;case"anchor":s=o.anchor&&o.anchor.id,_["data-cke-saved-href"]="#"+(o.anchor&&o.anchor.name||s||"");break;case"email":$=(ee=o.email).address;switch(s){case"":case"encode":var j=encodeURIComponent(ee.subject||""),Z=encodeURIComponent(ee.body||""),ee=[];j&&ee.push("subject="+j),Z&&ee.push("body="+Z),ee=ee.length?"?"+ee.join("&"):"","encode"==s?(s=["javascript:void(location.href='mailto:'+",q($)],ee&&s.push("+'",p(ee),"'"),s.push(")")):s=["mailto:",$,ee];break;default:s=$.split("@",2),ee.name=s[0],ee.domain=s[1],s=["javascript:",r(i,ee)]}_["data-cke-saved-href"]=s.join("");break;case"tel":_["data-cke-saved-href"]="tel:"+o.tel}if(o.target)if("popup"==o.target.type){s=["window.open(this.href, '",o.target.name||"","', '"];var te="resizable status location toolbar menubar fullscreen scrollbars dependent".split(" ");for($=te.length,j=function(i){o.target[i]&&te.push(i+"="+o.target[i])},ee=0;ee<$;ee++)te[ee]+=o.target[te[ee]]?"=yes":"=no";j("width"),j("left"),j("height"),j("top"),s.push(te.join(","),"'); return false;"),_["data-cke-pa-onclick"]=s.join("")}else"notSet"!=o.target.type&&o.target.name&&(_.target=o.target.name);if(o.download&&(_.download=""),o.advanced){for(var ne in ae)(s=o.advanced[ae[ne]])&&(_[ne]=s);_.name&&(_["data-cke-saved-name"]=_.name)}for(var ie in _["data-cke-saved-href"]&&(_.href=_["data-cke-saved-href"]),ne={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1,download:1},o.advanced&&CKEDITOR.tools.extend(ne,ae),_)delete ne[ie];return{set:_,removed:CKEDITOR.tools.object.keys(ne)}},showDisplayTextForElement:function(i,o){var s=o.getSelection();return!(o.widgets&&o.widgets.focused||s&&1<s.getRanges().length)&&(!i||!i.getName||!i.is({img:1,table:1,tbody:1,thead:1,tfoot:1,input:1,select:1,textarea:1}))}},CKEDITOR.unlinkCommand=function(){},CKEDITOR.unlinkCommand.prototype={exec:function(i){if(CKEDITOR.env.ie){var o,s=i.getSelection().getRanges()[0],_=s.getPreviousEditableNode()&&s.getPreviousEditableNode().getAscendant("a",!0)||s.getNextEditableNode()&&s.getNextEditableNode().getAscendant("a",!0);s.collapsed&&_&&(o=s.createBookmark(),s.selectNodeContents(_),s.select())}_=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1}),i.removeStyle(_),o&&(s.moveToBookmark(o),s.select())},refresh:function(i,o){var s=o.lastElement&&o.lastElement.getAscendant("a",!0);s&&"a"==s.getName()&&s.getAttribute("href")&&s.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]",editorFocus:1},CKEDITOR.removeAnchorCommand=function(){},CKEDITOR.removeAnchorCommand.prototype={exec:function(i){var o,s=i.getSelection(),_=s.createBookmarks();s&&(o=s.getSelectedElement())&&(o.getChildCount()?o.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(i,o))?o.remove(1):(o=CKEDITOR.plugins.link.getSelectedLink(i))&&(o.hasAttribute("href")?(o.removeAttributes({name:1,"data-cke-saved-name":1}),o.removeClass("cke_anchor")):o.remove(1)),s.selectBookmarks(_)},requiredContent:"a[name]"},CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0,linkDefaultProtocol:"http://"})}(),function(){function K(i,o,s,_){for(var $=CKEDITOR.plugins.list.listToArray(o.root,s),j=[],Z=0;Z<o.contents.length;Z++){(ne=(ne=o.contents[Z]).getAscendant("li",!0))&&!ne.getCustomData("list_item_processed")&&(j.push(ne),CKEDITOR.dom.element.setMarker(s,ne,"list_item_processed",!0))}var ee,te,ne=o.root.getDocument();for(Z=0;Z<j.length;Z++){var ie=j[Z].getCustomData("listarray_index");(ee=$[ie].parent).is(this.type)||(te=ne.createElement(this.type),ee.copyAttributes(te,{start:1,type:1}),te.removeStyle("list-style-type"),$[ie].parent=te)}var oe;for($=(s=CKEDITOR.plugins.list.arrayToList($,s,null,i.config.enterMode)).listNode.getChildCount(),Z=0;Z<$&&(oe=s.listNode.getChild(Z));Z++)oe.getName()==this.type&&_.push(oe);s.listNode.replace(o.root),i.fire("contentDomInvalidated")}function L(i,o,s){var _=o.contents,j=o.root.getDocument(),Z=[];if(1==_.length&&_[0].equals(o.root)){var ee=j.createElement("div");_[0].moveChildren&&_[0].moveChildren(ee),_[0].append(ee),_[0]=ee}for(o=o.contents[0].getParent(),ee=0;ee<_.length;ee++)o=o.getCommonAncestor(_[ee].getParent());i=i.config.useComputedState;var te,ne;for(ee=0;ee<_.length;ee++)for(var ie,oe=_[ee];ie=oe.getParent();){if(ie.equals(o)){Z.push(oe),!ne&&oe.getDirection()&&(ne=1),oe=oe.getDirection(i),null!==te&&(te=te&&te!=oe?null:oe);break}oe=ie}if(!(1>Z.length)){for(_=Z[Z.length-1].getNext(),ee=j.createElement(this.type),s.push(ee);Z.length;)s=Z.shift(),i=j.createElement("li"),(oe=s).is("pre")||$.test(oe.getName())||"false"==oe.getAttribute("contenteditable")?s.appendTo(i):(s.copyAttributes(i),te&&s.getDirection()&&(i.removeStyle("direction"),i.removeAttribute("dir")),s.moveChildren(i),s.remove()),i.appendTo(ee);te&&ne&&ee.setAttribute("dir",te),_?ee.insertBefore(_):ee.appendTo(o)}}function N(i,o,s){function f(s){!(ee=ne[s?"getFirst":"getLast"]())||ee.is&&ee.isBlockBoundary()||!(te=o.root[s?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||te.is&&te.isBlockBoundary({br:1})||i.document.createElement("br")[s?"insertBefore":"insertAfter"](ee)}for(var _=CKEDITOR.plugins.list.listToArray(o.root,s),$=[],j=0;j<o.contents.length;j++){var Z=o.contents[j];(Z=Z.getAscendant("li",!0))&&!Z.getCustomData("list_item_processed")&&($.push(Z),CKEDITOR.dom.element.setMarker(s,Z,"list_item_processed",!0))}for(Z=null,j=0;j<$.length;j++)_[Z=$[j].getCustomData("listarray_index")].indent=-1;for(j=Z+1;j<_.length;j++)if(_[j].indent>_[j-1].indent+1){for($=_[j-1].indent+1-_[j].indent,Z=_[j].indent;_[j]&&_[j].indent>=Z;)_[j].indent+=$,j++;j--}var ee,te,ne=CKEDITOR.plugins.list.arrayToList(_,s,null,i.config.enterMode,o.root.getAttribute("dir")).listNode;f(!0),f(),ne.replace(o.root),i.fire("contentDomInvalidated")}function C(i,o){this.name=i,this.context=this.type=o,this.allowedContent=o+" li",this.requiredContent=o}function F(i,o,s,_){for(var $,Z;$=i[_?"getLast":"getFirst"](j);)(Z=$.getDirection(1))!==o.getDirection(1)&&$.setAttribute("dir",Z),$.remove(),s?$[_?"insertBefore":"insertAfter"](s):o.append($,_),s=$}function G(i){function l(o){var s=i[o?"getPrevious":"getNext"](t);s&&s.type==CKEDITOR.NODE_ELEMENT&&s.is(i.getName())&&(F(i,s,null,!o),i.remove(),i=s)}l(),l(1)}function H(i){return i.type==CKEDITOR.NODE_ELEMENT&&(i.getName()in CKEDITOR.dtd.$block||i.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[i.getName()]["#"]}function D(i,o,s){i.fire("saveSnapshot"),s.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var $=s.extractContents();o.trim(!1,!0);var j=o.createBookmark(),Z=(ee=new CKEDITOR.dom.elementPath(o.startContainer)).block,ee=ee.lastElement.getAscendant("li",1)||Z,te=(ne=new CKEDITOR.dom.elementPath(s.startContainer)).contains(CKEDITOR.dtd.$listItem),ne=ne.contains(CKEDITOR.dtd.$list);for(Z?(Z=Z.getBogus())&&Z.remove():ne&&(Z=ne.getPrevious(t))&&_(Z)&&Z.remove(),(Z=$.getLast())&&Z.type==CKEDITOR.NODE_ELEMENT&&Z.is("br")&&Z.remove(),(Z=o.startContainer.getChild(o.startOffset))?$.insertBefore(Z):o.startContainer.append($),te&&($=A(te))&&(ee.contains(te)?(F($,te.getParent(),te),$.remove()):ee.append($));s.checkStartOfBlock()&&s.checkEndOfBlock()&&($=(ne=s.startPath()).block);)$.is("li")&&(ee=$.getParent(),$.equals(ee.getLast(t))&&$.equals(ee.getFirst(t))&&($=ee)),s.moveToPosition($,CKEDITOR.POSITION_BEFORE_START),$.remove();s=s.clone(),$=i.editable(),s.setEndAt($,CKEDITOR.POSITION_BEFORE_END),(s=new CKEDITOR.dom.walker(s)).evaluator=function(i){return t(i)&&!_(i)},(s=s.next())&&s.type==CKEDITOR.NODE_ELEMENT&&s.getName()in CKEDITOR.dtd.$list&&G(s),o.moveToBookmark(j),o.select(),i.fire("saveSnapshot")}function A(o){return(o=o.getLast(t))&&o.type==CKEDITOR.NODE_ELEMENT&&o.getName()in i?o:null}var i={ol:1,ul:1},o=CKEDITOR.dom.walker.whitespaces(),s=CKEDITOR.dom.walker.bookmark(),t=function(i){return!(o(i)||s(i))},_=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(o,s,_,$,j){if(!i[o.getName()])return[];$||($=0),_||(_=[]);for(var Z=0,ee=o.getChildCount();Z<ee;Z++){var te=o.getChild(Z);if(te.type==CKEDITOR.NODE_ELEMENT&&te.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(te,s,_,$+1),"li"==te.$.nodeName.toLowerCase()){var ne={parent:o,indent:$,element:te,contents:[]};j?ne.grandparent=j:(ne.grandparent=o.getParent(),ne.grandparent&&"li"==ne.grandparent.$.nodeName.toLowerCase()&&(ne.grandparent=ne.grandparent.getParent())),s&&CKEDITOR.dom.element.setMarker(s,te,"listarray_index",_.length),_.push(ne);for(var ie,oe=0,ae=te.getChildCount();oe<ae;oe++)(ie=te.getChild(oe)).type==CKEDITOR.NODE_ELEMENT&&i[ie.getName()]?CKEDITOR.plugins.list.listToArray(ie,s,_,$+1,ne.grandparent):ne.contents.push(ie)}}return _},arrayToList:function(o,_,$,j,Z){if($||($=0),!o||o.length<$+1)return null;for(var ee,te,ne,ie=o[$].parent.getDocument(),oe=new CKEDITOR.dom.documentFragment(ie),ae=null,re=$,se=Math.max(o[$].indent,0),le=null,ce=j==CKEDITOR.ENTER_P?"p":"div";;){var de=o[re];if(ee=de.grandparent,te=de.element.getDirection(1),de.indent==se){for(ae&&o[re].parent.getName()==ae.getName()||(ae=o[re].parent.clone(!1,1),Z&&ae.setAttribute("dir",Z),oe.append(ae)),le=ae.append(de.element.clone(0,1)),te!=ae.getDirection(1)&&le.setAttribute("dir",te),ee=0;ee<de.contents.length;ee++)le.append(de.contents[ee].clone(1,1));re++}else if(de.indent==Math.max(se,0)+1)de=o[re-1].element.getDirection(1),re=CKEDITOR.plugins.list.arrayToList(o,null,re,j,de!=te?te:null),!le.getChildCount()&&CKEDITOR.env.needsNbspFiller&&7>=ie.$.documentMode&&le.append(ie.createText(" ")),le.append(re.listNode),re=re.nextIndex;else{if(-1!=de.indent||$||!ee)return null;i[ee.getName()]?(le=de.element.clone(!1,!0),te!=ee.getDirection(1)&&le.setAttribute("dir",te)):le=new CKEDITOR.dom.documentFragment(ie);ae=ee.getDirection(1)!=te;var ue,he,fe=de.element,ge=fe.getAttribute("class"),me=fe.getAttribute("style"),pe=le.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(j!=CKEDITOR.ENTER_BR||ae||me||ge),Ee=de.contents.length;for(ee=0;ee<Ee;ee++)if(ue=de.contents[ee],s(ue)&&1<Ee)pe?he=ue.clone(1,1):le.append(ue.clone(1,1));else if(ue.type==CKEDITOR.NODE_ELEMENT&&ue.isBlockBoundary()){ae&&!ue.getDirection()&&ue.setAttribute("dir",te),ne=ue;var Te=fe.getAttribute("style");Te&&ne.setAttribute("style",Te.replace(/([^;])$/,"$1;")+(ne.getAttribute("style")||"")),ge&&ue.addClass(ge),ne=null,he&&(le.append(he),he=null),le.append(ue.clone(1,1))}else pe?(ne||(ne=ie.createElement(ce),le.append(ne),ae&&ne.setAttribute("dir",te)),me&&ne.setAttribute("style",me),ge&&ne.setAttribute("class",ge),he&&(ne.append(he),he=null),ne.append(ue.clone(1,1))):le.append(ue.clone(1,1));he&&((ne||le).append(he),he=null),le.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&re!=o.length-1&&(CKEDITOR.env.needsBrFiller&&(te=le.getLast())&&te.type==CKEDITOR.NODE_ELEMENT&&te.is("br")&&te.remove(),(te=le.getLast(t))&&te.type==CKEDITOR.NODE_ELEMENT&&te.is(CKEDITOR.dtd.$block)||le.append(ie.createElement("br"))),"div"!=(te=le.$.nodeName.toLowerCase())&&"p"!=te||le.appendBogus(),oe.append(le),ae=null,re++}if(ne=null,o.length<=re||Math.max(o[re].indent,0)<se)break}if(_)for(o=oe.getFirst();o;){if(o.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(_,o),o.getName()in CKEDITOR.dtd.$listItem&&(ie=Z=j=void 0,j=($=o).getDirection()))){for(Z=$.getParent();Z&&!(ie=Z.getDirection());)Z=Z.getParent();j==ie&&$.removeAttribute("dir")}o=o.getNextSourceNode()}return{listNode:oe,nextIndex:re}}};var $=/^h[1-6]$/,j=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);C.prototype={exec:function(o){function l(o){return i[o.root.getName()]&&!function(i,o){return CKEDITOR.tools.array.filter(i.getChildren().toArray(),(function(i){return-1===CKEDITOR.tools.array.indexOf(o,i.type)})).length}(o.root,[CKEDITOR.NODE_COMMENT])}function f(i){var o=!0;return 0!==i.getChildCount()&&(i.forEach((function(i){if(i.type!==CKEDITOR.NODE_COMMENT)return o=!1}),null,!0),o)}this.refresh(o,o.elementPath());var s=o.config,_=o.getSelection(),$=_&&_.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF)if((Z=o.editable()).getFirst(t)){var j=1==$.length&&$[0];(s=j&&j.getEnclosedNode())&&s.is&&this.type==s.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else s.enterMode==CKEDITOR.ENTER_BR?Z.appendBogus():$[0].fixBlock(1,s.enterMode==CKEDITOR.ENTER_P?"p":"div"),_.selectRanges($);s=_.createBookmarks(!0);for(var Z=[],ee={},te=($=$.createIterator(),0);(j=$.getNextRange())&&++te;){var ne=j.getBoundaryNodes(),ie=ne.startNode,oe=ne.endNode;for(ie.type==CKEDITOR.NODE_ELEMENT&&"td"==ie.getName()&&j.setStartAt(ne.startNode,CKEDITOR.POSITION_AFTER_START),oe.type==CKEDITOR.NODE_ELEMENT&&"td"==oe.getName()&&j.setEndAt(ne.endNode,CKEDITOR.POSITION_BEFORE_END),(j=j.createIterator()).forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;ne=j.getNextParagraph();)if(!ne.getCustomData("list_block")&&!f(ne)){CKEDITOR.dom.element.setMarker(ee,ne,"list_block",1);ie=(re=o.elementPath(ne)).elements,oe=0;for(var ae,re=re.blockLimit,se=ie.length-1;0<=se&&(ae=ie[se]);se--)if(i[ae.getName()]&&re.contains(ae)){re.removeCustomData("list_group_object_"+te),(ie=ae.getCustomData("list_group_object"))?ie.contents.push(ne):(ie={root:ae,contents:[ne]},Z.push(ie),CKEDITOR.dom.element.setMarker(ee,ae,"list_group_object",ie)),oe=1;break}oe||((oe=re).getCustomData("list_group_object_"+te)?oe.getCustomData("list_group_object_"+te).contents.push(ne):(ie={root:oe,contents:[ne]},CKEDITOR.dom.element.setMarker(ee,oe,"list_group_object_"+te,ie),Z.push(ie)))}}for(ae=[];0<Z.length;)ie=Z.shift(),this.state==CKEDITOR.TRISTATE_OFF?l(ie)||(i[ie.root.getName()]?K.call(this,o,ie,ee,ae):L.call(this,o,ie,ae)):this.state==CKEDITOR.TRISTATE_ON&&i[ie.root.getName()]&&!l(ie)&&N.call(this,o,ie,ee);for(se=0;se<ae.length;se++)G(ae[se]);CKEDITOR.dom.element.clearAllMarkers(ee),_.selectBookmarks(s),o.focus()},refresh:function(o,s){var _=s.contains(i,1),$=s.blockLimit||s.root;_&&$.contains(_)?this.setState(_.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(o){o.blockless||(o.addCommand("numberedlist",new C("numberedlist","ol")),o.addCommand("bulletedlist",new C("bulletedlist","ul")),o.ui.addButton&&(o.ui.addButton("NumberedList",{isToggle:!0,label:o.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),o.ui.addButton("BulletedList",{isToggle:!0,label:o.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),o.on("key",(function(s){var $,j=s.data.domEvent.getKey();if("wysiwyg"==o.mode&&j in{8:1,46:1}){var Z=o.getSelection().getRanges()[0],ee=Z&&Z.startPath();if(Z&&Z.collapsed){var te,ne=8==j,ie=o.editable(),oe=new CKEDITOR.dom.walker(Z.clone());if(oe.evaluator=function(i){return t(i)&&!_(i)},oe.guard=function(i,o){return!(o&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("table"))},j=Z.clone(),ne)if((te=ee.contains(i))&&Z.checkBoundaryOfElement(te,CKEDITOR.START)&&(te=te.getParent())&&te.is("li")&&(te=A(te))?($=te,te=te.getPrevious(t),j.moveToPosition(te&&_(te)?te:$,CKEDITOR.POSITION_BEFORE_START)):(oe.range.setStartAt(ie,CKEDITOR.POSITION_AFTER_START),oe.range.setEnd(Z.startContainer,Z.startOffset),(te=oe.previous())&&te.type==CKEDITOR.NODE_ELEMENT&&(te.getName()in i||te.is("li"))&&(te.is("li")||(oe.range.selectNodeContents(te),oe.reset(),oe.evaluator=H,te=oe.previous()),$=te,j.moveToElementEditEnd($),j.moveToPosition(j.endPath().block,CKEDITOR.POSITION_BEFORE_END))),$)D(o,j,Z),s.cancel();else{var ae=ee.contains(i);ae&&Z.checkBoundaryOfElement(ae,CKEDITOR.START)&&($=ae.getFirst(t),Z.checkBoundaryOfElement($,CKEDITOR.START)&&(te=ae.getPrevious(t),A($)?te&&(Z.moveToElementEditEnd(te),Z.select()):o.execCommand("outdent"),s.cancel()))}else if($=ee.contains("li")){if(oe.range.setEndAt(ie,CKEDITOR.POSITION_BEFORE_END),ne=(ie=$.getLast(t))&&H(ie)?ie:$,ee=0,(te=oe.next())&&te.type==CKEDITOR.NODE_ELEMENT&&te.getName()in i&&te.equals(ie)?(ee=1,te=oe.next()):Z.checkBoundaryOfElement(ne,CKEDITOR.END)&&(ee=2),ee&&te){if((Z=Z.clone()).moveToElementEditStart(te),1==ee&&(j.optimize(),!j.startContainer.equals($))){for($=j.startContainer;$.is(CKEDITOR.dtd.$inline);)ae=$,$=$.getParent();ae&&j.moveToPosition(ae,CKEDITOR.POSITION_AFTER_END)}2==ee&&(j.moveToPosition(j.endPath().block,CKEDITOR.POSITION_BEFORE_END),Z.endPath().block&&Z.moveToPosition(Z.endPath().block,CKEDITOR.POSITION_AFTER_START)),D(o,j,Z),s.cancel()}}else oe.range.setEndAt(ie,CKEDITOR.POSITION_BEFORE_END),(te=oe.next())&&te.type==CKEDITOR.NODE_ELEMENT&&te.is(i)&&(te=te.getFirst(t),ee.block&&Z.checkStartOfBlock()&&Z.checkEndOfBlock()?(ee.block.remove(),Z.moveToElementEditStart(te),Z.select()):A(te)?(Z.moveToElementEditStart(te),Z.select()):((Z=Z.clone()).moveToElementEditStart(te),D(o,j,Z)),s.cancel());setTimeout((function(){o.selectionChange(1)}))}}})))}})}(),CKEDITOR.plugins.liststyle={requires:"dialog,contextmenu",init:function(i){var o;i.blockless||(o=new CKEDITOR.dialogCommand("numberedListStyle",{requiredContent:"ol",allowedContent:"ol{list-style-type}[start]; li{list-style-type}[value]",contentTransformations:[["ol: listTypeToStyle"]]}),o=i.addCommand("numberedListStyle",o),i.addFeature(o),CKEDITOR.dialog.add("numberedListStyle",this.path+"dialogs/liststyle.js"),o=new CKEDITOR.dialogCommand("bulletedListStyle",{requiredContent:"ul",allowedContent:"ul{list-style-type}",contentTransformations:[["ul: listTypeToStyle"]]}),o=i.addCommand("bulletedListStyle",o),i.addFeature(o),CKEDITOR.dialog.add("bulletedListStyle",this.path+"dialogs/liststyle.js"),i.addMenuGroup("list",108),i.addMenuItems({numberedlist:{label:i.lang.liststyle.numberedTitle,group:"list",command:"numberedListStyle"},bulletedlist:{label:i.lang.liststyle.bulletedTitle,group:"list",command:"bulletedListStyle"}}),i.contextMenu.addListener((function(i){if(!i||i.isReadOnly())return null;for(;i;){var o=i.getName();if("ol"==o)return{numberedlist:CKEDITOR.TRISTATE_OFF};if("ul"==o)return{bulletedlist:CKEDITOR.TRISTATE_OFF};i=i.getParent()}return null})))}},CKEDITOR.plugins.add("liststyle",CKEDITOR.plugins.liststyle),function(){function V(i,o,s){return n(o)&&n(s)&&s.equals(o.getNext((function(i){return!(Ee(i)||Te(i)||u(i))})))}function z(i){this.upper=i[0],this.lower=i[1],this.set.apply(this,i.slice(2))}function O(i){var o=i.element;if(o&&n(o)&&(o=o.getAscendant(i.triggers,!0))&&i.editable.contains(o)){var s=P(o);if("true"==s.getAttribute("contenteditable"))return o;if(s.is(i.triggers))return s}return null}function ka(i,o,s){return r(i,o),r(i,s),i=o.size.bottom,s=s.size.top,i&&s?0|(i+s)/2:i||s}function w(i,o,s){return o[s?"getPrevious":"getNext"]((function(o){return o&&o.type==CKEDITOR.NODE_TEXT&&!Ee(o)||n(o)&&!u(o)&&!A(i,o)}))}function q(i,o,s){return i>o&&i<s}function P(i,o){if(i.data("cke-editable"))return null;for(o||(i=i.getParent());i&&!i.data("cke-editable");){if(i.hasAttribute("contenteditable"))return i;i=i.getParent()}return null}function la($){var j=$.doc,Z=s('<span contenteditable="false" data-cke-magic-line="1" style="'+fe+"position:absolute;border-top:1px dashed "+$.boxColor+'"></span>',j),te=CKEDITOR.getUrl(this.path+"images/"+(_.hidpi?"hidpi/":"")+"icon"+($.rtl?"-rtl":"")+".png");for(i(Z,{attach:function(){return this.wrap.getParent()||this.wrap.appendTo($.editable,!0),this},lineChildren:[i(s('<span title="'+$.editor.lang.magicline.title+'" contenteditable="false">&#8629;</span>',j),{base:fe+"height:17px;width:17px;"+($.rtl?"left":"right")+":17px;background:url("+te+") center no-repeat "+$.boxColor+";cursor:pointer;"+(_.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(_.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px; border-radius: 2px;","top:-17px; border-radius: 2px 2px 0px 0px;","top:-1px; border-radius: 0px 0px 2px 2px;"]}),i(s(me,j),{base:ge+"left:0px;border-left-color:"+$.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),i(s(me,j),{base:ge+"right:0px;border-right-color:"+$.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){return this.wrap.getParent()&&this.wrap.remove(),this},mouseNear:function(){r($,this);var i=$.holdDistance,o=this.size;return!!(o&&q($.mouse.y,o.top-i,o.bottom+i)&&q($.mouse.x,o.left-i,o.right+i))},place:function(){var i=$.view,o=$.editable,s=$.trigger,_=s.upper,j=s.lower,Z=_||j,ee=Z.getParent(),te={};for(var ne in this.trigger=s,_&&r($,_,!0),j&&r($,j,!0),r($,ee,!0),$.inInlineMode&&H($,!0),ee.equals(o)?(te.left=i.scroll.x,te.right=-i.scroll.x,te.width=""):(te.left=Z.size.left-Z.size.margin.left+i.scroll.x-($.inInlineMode?i.editable.left+i.editable.border.left:0),te.width=Z.size.outerWidth+Z.size.margin.left+Z.size.margin.right+i.scroll.x,te.right=""),_&&j?te.top=_.size.margin.bottom===j.size.margin.top?0|_.size.bottom+_.size.margin.bottom/2:_.size.margin.bottom<j.size.margin.top?_.size.bottom+_.size.margin.bottom:_.size.bottom+_.size.margin.bottom-j.size.margin.top:_?j||(te.top=_.size.bottom+_.size.margin.bottom):te.top=j.size.top-j.size.margin.top,s.is(oe)||q(te.top,i.scroll.y-15,i.scroll.y+5)?(te.top=$.inInlineMode?0:i.scroll.y,this.look(oe)):s.is(ae)||q(te.top,i.pane.bottom-5,i.pane.bottom+15)?(te.top=$.inInlineMode?i.editable.height+i.editable.padding.top+i.editable.padding.bottom:i.pane.bottom-1,this.look(ae)):($.inInlineMode&&(te.top-=i.editable.top+i.editable.border.top),this.look(re)),$.inInlineMode&&(te.top--,te.top+=i.editable.scroll.top,te.left+=i.editable.scroll.left),te)te[ne]=CKEDITOR.tools.cssLength(te[ne]);this.setStyles(te)},look:function(i){if(this.oldLook!=i){for(var o,s=this.lineChildren.length;s--;)(o=this.lineChildren[s]).setAttribute("style",o.base+o.looks[0|i/2]);this.oldLook=i}},wrap:new o("span",$.doc)}),j=Z.lineChildren.length;j--;)Z.lineChildren[j].appendTo(Z);Z.look(re),Z.appendTo(Z.wrap),Z.unselectable(),Z.lineChildren[0].on("mouseup",(function(i){Z.detach(),S($,(function(i){var o=$.line.trigger;i[o.is(ee)?"insertBefore":"insertAfter"](o.is(ee)?o.lower:o.upper)}),!0),$.editor.focus(),_.ie||$.enterMode==CKEDITOR.ENTER_BR||$.hotNode.scrollIntoView(),i.data.preventDefault(!0)})),Z.on("mousedown",(function(i){i.data.preventDefault(!0)})),$.line=Z}function S(i,s,$){var j,ee=new CKEDITOR.dom.range(i.doc),te=i.editor;_.ie&&i.enterMode==CKEDITOR.ENTER_BR?j=i.doc.createText(se):(j=(j=P(i.element,!0))&&j.data("cke-enter-mode")||i.enterMode,(j=new o(Z[j],i.doc)).is("br")||i.doc.createText(se).appendTo(j)),$&&te.fire("saveSnapshot"),s(j),ee.moveToPosition(j,CKEDITOR.POSITION_AFTER_START),te.getSelection().selectRanges([ee]),i.hotNode=j,$&&te.fire("saveSnapshot")}function Y(i,o){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function d(s){var $=_.ie&&9>_.version?" ":se,j=i.hotNode&&i.hotNode.getText()==$&&i.element.equals(i.hotNode)&&i.lastCmdDirection===!!o;S(i,(function(_){j&&i.hotNode&&i.hotNode.remove(),_[o?"insertAfter":"insertBefore"](s),_.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!o}),i.lastCmdDirection=!!o})),_.ie||i.enterMode==CKEDITOR.ENTER_BR||i.hotNode.scrollIntoView(),i.line.detach()}return function(s){var _,$;(s=(s=s.getSelection().getStartElement()).getAscendant(ue,1),aa(i,s)||!s||s.equals(i.editable)||s.contains(i.editable))||((_=P(s))&&"false"==_.getAttribute("contenteditable")&&(s=_),i.element=s,n(_=w(i,s,!o))&&_.is(i.triggers)&&_.is(de)&&(!w(i,_,!o)||($=w(i,_,!o))&&n($)&&$.is(i.triggers))?d(_):n($=O(i))&&(w(i,$,!o)?(s=w(i,$,!o))&&n(s)&&s.is(i.triggers)&&d($):d($)))}}()}}function A(i,o){if(!o||o.type!=CKEDITOR.NODE_ELEMENT||!o.$)return!1;var s=i.line;return s.wrap.equals(o)||s.wrap.contains(o)}function n(i){return i&&i.type==CKEDITOR.NODE_ELEMENT&&i.$}function u(i){return!!n(i)&&((o=ba(i))||(n(i)?o=!(!(o={left:1,right:1,center:1})[i.getComputedStyle("float")]&&!o[i.getAttribute("align")]):o=!1),o);var o}function ba(i){return!!{absolute:1,fixed:1}[i.getComputedStyle("position")]}function L(i,o){return n(o)?o.is(i.triggers):null}function aa(i,o){if(!o)return!1;for(var s=o.getParents(1),_=s.length;_--;)for(var $=i.tabuList.length;$--;)if(s[_].hasAttribute(i.tabuList[$]))return!0;return!1}function ca(i){var o=i.editable,s=i.mouse,_=i.view,$=i.triggerOffset;H(i);var j=s.y>(i.inInlineMode?_.editable.top+_.editable.height/2:Math.min(_.editable.height,_.pane.height)/2);o=o[j?"getLast":"getFirst"]((function(i){return!(Ee(i)||Te(i))}));return o?(A(i,o)&&(o=i.line.wrap[j?"getPrevious":"getNext"]((function(i){return!(Ee(i)||Te(i))}))),n(o)&&!u(o)&&L(i,o)?(r(i,o),!j&&0<=o.size.top&&q(s.y,0,o.size.top+$)?(i=i.inInlineMode||0===_.scroll.y?oe:re,new z([null,o,ee,ie,i])):j&&o.size.bottom<=_.pane.height&&q(s.y,o.size.bottom-$,_.pane.height)?(i=i.inInlineMode||q(o.size.bottom,_.pane.height-$,_.pane.height)?ae:re,new z([o,null,te,ie,i])):null):null):null}function ea(i){var o=i.mouse,s=i.view,_=i.triggerOffset,$=O(i);if(!$)return null;r(i,$);_=Math.min(_,0|$.size.outerHeight/2);var j,Z,se=[];if(q(o.y,$.size.top-1,$.size.top+_))Z=!1;else{if(!q(o.y,$.size.bottom-_,$.size.bottom+1))return null;Z=!0}if(u($)||function(i,o,s){return o=o[s?"getLast":"getFirst"]((function(o){return i.isRelevant(o)&&!o.is(ce)})),!!o&&(r(i,o),s?o.size.top>i.mouse.y:o.size.bottom<i.mouse.y)}(i,$,Z)||$.getParent().is(le))return null;var de=w(i,$,!Z);if(de){if(de&&de.type==CKEDITOR.NODE_TEXT)return null;if(n(de)){if(u(de)||!L(i,de)||de.getParent().is(le))return null;se=[de,$][Z?"reverse":"concat"]().concat([ne,ie])}}else $.equals(i.editable[Z?"getLast":"getFirst"](i.isRelevant))?(H(i),Z&&q(o.y,$.size.bottom-_,s.pane.height)&&q($.size.bottom,s.pane.height-_,s.pane.height)?j=ae:q(o.y,0,$.size.top+_)&&(j=oe)):j=re,se=[null,$][Z?"reverse":"concat"]().concat([Z?te:ee,ie,j,$.equals(i.editable[Z?"getLast":"getFirst"](i.isRelevant))?Z?ae:oe:re]);return 0 in se?new z(se):null}function U(o,s,_,$){for(var j=s.getDocumentPosition(),Z={},ee={},te={},ne={},ie=Ie.length;ie--;)Z[Ie[ie]]=parseInt(s.getComputedStyle.call(s,"border-"+Ie[ie]+"-width"),10)||0,te[Ie[ie]]=parseInt(s.getComputedStyle.call(s,"padding-"+Ie[ie]),10)||0,ee[Ie[ie]]=parseInt(s.getComputedStyle.call(s,"margin-"+Ie[ie]),10)||0;return _&&!$||N(o,$),ne.top=j.y-(_?0:o.view.scroll.y),ne.left=j.x-(_?0:o.view.scroll.x),ne.outerWidth=s.$.offsetWidth,ne.outerHeight=s.$.offsetHeight,ne.height=ne.outerHeight-(te.top+te.bottom+Z.top+Z.bottom),ne.width=ne.outerWidth-(te.left+te.right+Z.left+Z.right),ne.bottom=ne.top+ne.outerHeight,ne.right=ne.left+ne.outerWidth,o.inInlineMode&&(ne.scroll={top:s.$.scrollTop,left:s.$.scrollLeft}),i({border:Z,padding:te,margin:ee,ignoreScroll:_},ne,!0)}function r(o,s,_){if(!n(s))return s.size=null;if(s.size){if(s.size.ignoreScroll==_&&s.size.date>new Date-he)return null}else s.size={};return i(s.size,U(o,s,_),{date:+new Date},!0)}function H(i,o){i.view.editable=U(i,i.editable,o,!0)}function N(o,s){o.view||(o.view={});var _=o.view;if(!(!s&&_&&_.date>new Date-he)){_=($=o.win).getScrollPosition();var $=$.getViewPaneSize();i(o.view,{scroll:{x:_.x,y:_.y,width:o.doc.$.documentElement.scrollWidth-$.width,height:o.doc.$.documentElement.scrollHeight-$.height},pane:{width:$.width,height:$.height,bottom:$.height+_.y},date:+new Date},!0)}}CKEDITOR.plugins.add("magicline",{init:function(o){var s,Z,ee,te=o.config,ne=te.magicline_triggerOffset||30,ie={editor:o,enterMode:te.enterMode,triggerOffset:ne,holdDistance:0|ne*(te.magicline_holdDistance||.5),boxColor:te.magicline_color||"#ff0000",rtl:"rtl"==te.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(te.magicline_tabuList||[]),triggers:te.magicline_everywhere?ue:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}};ie.isRelevant=function(i){return n(i)&&!A(ie,i)&&!u(i)},o.on("contentDom",(function(){var ne=o.editable(),oe=o.document,ae=o.window;i(ie,{editable:ne,inInlineMode:ne.isInline(),doc:oe,win:ae,hotNode:null},!0),ie.boundary=ie.inInlineMode?ie.editable:ie.doc.getDocumentElement(),ne.is(j.$inline)||(ie.inInlineMode&&!ba(ne)&&ne.setStyles({position:"relative",top:null,left:null}),la.call(this,ie),N(ie),ne.attachListener(o,"beforeUndoImage",(function(){ie.line.detach()})),ne.attachListener(o,"beforeGetData",(function(){ie.line.wrap.getParent()&&(ie.line.detach(),o.once("getData",(function(){ie.line.attach()}),null,null,1e3))}),null,null,0),ne.attachListener(ie.inInlineMode?oe:oe.getWindow().getFrame(),"mouseout",(function(i){if("wysiwyg"==o.mode)if(ie.inInlineMode){var s=i.data.$.clientX;i=i.data.$.clientY,N(ie),H(ie,!0);var _=ie.view.editable,$=ie.view.scroll;s>_.left-$.x&&s<_.right-$.x&&i>_.top-$.y&&i<_.bottom-$.y||(clearTimeout(ee),ee=null,ie.line.detach())}else clearTimeout(ee),ee=null,ie.line.detach()})),ne.attachListener(ne,"keyup",(function(){ie.hiddenMode=0})),ne.attachListener(ne,"keydown",(function(i){if("wysiwyg"==o.mode)switch(i.data.getKeystroke()){case 2228240:case 16:ie.hiddenMode=1,ie.line.detach()}})),ne.attachListener(ie.inInlineMode?ne:oe,"mousemove",(function(i){if(Z=!0,"wysiwyg"==o.mode&&!o.readOnly&&!ee){var s={x:i.data.$.clientX,y:i.data.$.clientY};ee=setTimeout((function(){ie.mouse=s,ee=ie.trigger=null,N(ie),Z&&!ie.hiddenMode&&o.focusManager.hasFocus&&!ie.line.mouseNear()&&(ie.element=pe(ie,!0))&&((ie.trigger=ca(ie)||ea(ie)||Ce(ie))&&!aa(ie,ie.trigger.upper||ie.trigger.lower)?ie.line.attach().place():(ie.trigger=null,ie.line.detach()),Z=!1)}),30)}})),ne.attachListener(ae,"scroll",(function(){"wysiwyg"==o.mode&&(ie.line.detach(),_.webkit&&(ie.hiddenMode=1,clearTimeout(s),s=setTimeout((function(){ie.mouseDown||(ie.hiddenMode=0)}),50)))})),ne.attachListener($?oe:ae,"mousedown",(function(){"wysiwyg"==o.mode&&(ie.line.detach(),ie.hiddenMode=1,ie.mouseDown=1)})),ne.attachListener($?oe:ae,"mouseup",(function(){ie.hiddenMode=0,ie.mouseDown=0})),o.addCommand("accessPreviousSpace",Y(ie)),o.addCommand("accessNextSpace",Y(ie,!0)),o.setKeystroke([[te.magicline_keystrokePrevious,"accessPreviousSpace"],[te.magicline_keystrokeNext,"accessNextSpace"]]),o.on("loadSnapshot",(function(){var i,s,_,$;for($ in{p:1,br:1,div:1})for(_=(i=o.document.getElementsByTag($)).count();_--;)if((s=i.getItem(_)).data("cke-magicline-hot"))return ie.hotNode=s,void(ie.lastCmdDirection="true"===s.data("cke-magicline-dir"))})),o._.magiclineBackdoor={accessFocusSpace:S,boxTrigger:z,isLine:A,getAscendantTrigger:O,getNonEmptyNeighbour:w,getSize:U,that:ie,triggerEdge:ea,triggerEditable:ca,triggerExpand:Ce})}),this)}});var i=CKEDITOR.tools.extend,o=CKEDITOR.dom.element,s=o.createFromHtml,_=CKEDITOR.env,$=CKEDITOR.env.ie&&9>CKEDITOR.env.version,j=CKEDITOR.dtd,Z={},ee=128,te=64,ne=32,ie=16,oe=4,ae=2,re=1,se=" ",le=j.$listItem,ce=j.$tableContent,de=i({},j.$nonEditable,j.$empty),ue=j.$block,he=100,fe="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",ge=fe+"border-color:transparent;display:block;border-style:solid;",me="<span>"+se+"</span>";Z[CKEDITOR.ENTER_BR]="br",Z[CKEDITOR.ENTER_P]="p",Z[CKEDITOR.ENTER_DIV]="div",z.prototype={set:function(i,o,s){return this.properties=i+o+(s||re),this},is:function(i){return(this.properties&i)==i}};var pe=function(){function a(i,o){var s=i.$.elementFromPoint(o.x,o.y);return s&&s.nodeType?new CKEDITOR.dom.element(s):null}return function(i,o,s){if(!i.mouse)return null;var $=i.doc,j=i.line.wrap,Z=a($,s=s||i.mouse);return o&&A(i,Z)&&(j.hide(),Z=a($,s),j.show()),!Z||Z.type!=CKEDITOR.NODE_ELEMENT||!Z.$||_.ie&&9>_.version&&!i.boundary.equals(Z)&&!i.boundary.contains(Z)?null:Z}}(),Ee=CKEDITOR.dom.walker.whitespaces(),Te=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),Ce=function(){function a(i){var o,s,_;if(!n(te=i.element)||te.contains(i.editable)||te.isReadOnly())return null;if(_=function(i,o,s,_){for(var $=_,j=_,Z=0,ee=!1,te=!1,ne=i.view.pane.height,ie=i.mouse;ie.y+Z<ne&&0<ie.y-Z&&(ee||(ee=o($,_)),te||(te=o(j,_)),!ee&&0<ie.y-Z&&($=s(i,{x:ie.x,y:ie.y-Z})),!te&&ie.y+Z<ne&&(j=s(i,{x:ie.x,y:ie.y+Z})),!ee||!te);)Z+=2;return new z([$,j,null,null])}(i,(function(i,o){return!o.equals(i)}),(function(i,o){return pe(i,!0,o)}),te),V(0,o=_.upper,s=_.lower))return _.set(ne,8);if(o&&te.contains(o))for(;!o.getParent().equals(te);)o=o.getParent();else o=te.getFirst((function(o){return c(i,o)}));if(s&&te.contains(s))for(;!s.getParent().equals(te);)s=s.getParent();else s=te.getLast((function(o){return c(i,o)}));if(!o||!s)return null;if(r(i,o),r(i,s),!q(i.mouse.y,o.size.top,s.size.bottom))return null;for(var $,j,Z,ee,te=Number.MAX_VALUE;s&&!s.equals(o)&&(j=o.getNext(i.isRelevant));)($=Math.abs(ka(i,o,j)-i.mouse.y))<te&&(te=$,Z=o,ee=j),r(i,o=j);return Z&&ee&&q(i.mouse.y,Z.size.top,ee.size.bottom)?(_.upper=Z,_.lower=ee,_.set(ne,8)):null}function c(i,o){return!(o&&o.type==CKEDITOR.NODE_TEXT||Te(o)||u(o)||A(i,o)||o.type==CKEDITOR.NODE_ELEMENT&&o.$&&o.is("br"))}return function(i){var o,s=a(i);if(o=s){o=s.upper;var _=s.lower;o=!(!o||!_||u(_)||u(o)||_.equals(o)||o.equals(_)||_.contains(o)||o.contains(_))&&!!(L(i,o)&&L(i,_)&&V(0,o,_))}return o?s:null}}(),Ie=["top","left","right","bottom"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function m(i){if(!i||i.type!=CKEDITOR.NODE_ELEMENT||"form"!=i.getName())return[];for(var o=[],s=["style","className"],_=0;_<s.length;_++){var $=i.$.elements.namedItem(s[_]);$&&($=new CKEDITOR.dom.element($),o.push([$,$.nextSibling]),$.remove())}return o}function r(i,o){if(i&&i.type==CKEDITOR.NODE_ELEMENT&&"form"==i.getName()&&0<o.length)for(var s=o.length-1;0<=s;s--){var _=o[s][0],$=o[s][1];$?_.insertBefore($):_.appendTo(i)}}function q(i,o){var s=m(i),_={},$=i.$;return o||(_.class=$.className||"",$.className=""),_.inline=$.style.cssText||"",o||($.style.cssText="position: static; overflow: visible"),r(s),_}function t(i,o){var s=m(i),_=i.$;"class"in o&&(_.className=o.class),"inline"in o&&(_.style.cssText=o.inline),r(s)}function u(i){if(!i.editable().isInline()){var o,s=CKEDITOR.instances;for(o in s){var _=s[o];"wysiwyg"!=_.mode||_.readOnly||((_=_.document.getBody()).setAttribute("contentEditable",!1),_.setAttribute("contentEditable",!0))}i.editable().hasFocus&&(i.toolbox.focus(),i.focus())}}CKEDITOR.plugins.add("maximize",{init:function(i){function e(){var o=Z.getViewPaneSize();i.resize(o.width,o.height,null,!0)}if(i.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var o,s,_,$=i.lang,j=CKEDITOR.document,Z=j.getWindow(),ee=CKEDITOR.TRISTATE_OFF;i.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var $=i.container.getFirst((function(i){return i.type==CKEDITOR.NODE_ELEMENT&&i.hasClass("cke_inner")})),te=i.ui.space("contents");if("wysiwyg"==i.mode){var ne=i.getSelection();o=ne&&ne.getRanges(),s=Z.getScrollPosition()}else{var ie=i.editable().$;o=!CKEDITOR.env.ie&&[ie.selectionStart,ie.selectionEnd],s=[ie.scrollLeft,ie.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){for(Z.on("resize",e),_=Z.getScrollPosition(),ne=i.container;ne=ne.getParent();)ne.setCustomData("maximize_saved_styles",q(ne)),ne.setStyle("z-index",i.config.baseFloatZIndex-5);te.setCustomData("maximize_saved_styles",q(te,!0)),$.setCustomData("maximize_saved_styles",q($,!0)),te={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0},j.getDocumentElement().setStyles(te),!CKEDITOR.env.gecko&&j.getDocumentElement().setStyle("position","fixed"),CKEDITOR.env.gecko&&CKEDITOR.env.quirks||j.getBody().setStyles(te),CKEDITOR.env.ie?setTimeout((function(){Z.$.scrollTo(0,0)}),0):Z.$.scrollTo(0,0),$.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute"),$.$.offsetLeft,$.setStyles({"z-index":i.config.baseFloatZIndex-5,left:"0px",top:"0px"}),$.addClass("cke_maximized"),e(),te=$.getDocumentPosition(),$.setStyles({left:-1*te.x+"px",top:-1*te.y+"px"}),CKEDITOR.env.gecko&&u(i)}else if(this.state==CKEDITOR.TRISTATE_ON){Z.removeListener("resize",e);ne=[te,$];for(var oe=0;oe<ne.length;oe++)t(ne[oe],ne[oe].getCustomData("maximize_saved_styles")),ne[oe].removeCustomData("maximize_saved_styles");for(ne=i.container;ne=ne.getParent();)t(ne,ne.getCustomData("maximize_saved_styles")),ne.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout((function(){Z.$.scrollTo(_.x,_.y)}),0):Z.$.scrollTo(_.x,_.y),$.removeClass("cke_maximized"),CKEDITOR.env.webkit&&($.setStyle("display","inline"),setTimeout((function(){$.setStyle("display","block")}),0)),i.fire("resize",{outerHeight:i.container.$.offsetHeight,contentsHeight:te.$.offsetHeight,outerWidth:i.container.$.offsetWidth})}this.toggleState(),"wysiwyg"==i.mode?o?(CKEDITOR.env.gecko&&u(i),i.getSelection().selectRanges(o),(ie=i.getSelection().getStartElement())&&ie.scrollIntoView(!0)):Z.$.scrollTo(s.x,s.y):(o&&(ie.selectionStart=o[0],ie.selectionEnd=o[1]),ie.scrollLeft=s[0],ie.scrollTop=s[1]),o=s=null,ee=this.state,i.fire("maximize",this.state)},canUndo:!1}),i.ui.addButton&&i.ui.addButton("Maximize",{isToggle:!0,label:$.maximize.maximize,command:"maximize",toolbar:"tools,10"}),i.on("mode",(function(){var o=i.getCommand("maximize");o.setState(o.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:ee)}),null,null,100),i.config.maximize_historyIntegration&&Z.on(i.config.maximize_historyIntegration===CKEDITOR.HISTORY_NATIVE?"popstate":"hashchange",(function(){var o=i.getCommand("maximize");o.state===CKEDITOR.TRISTATE_ON&&o.exec()}))}}}),CKEDITOR.config.maximize_historyIntegration=CKEDITOR.HISTORY_NATIVE}(),CKEDITOR.plugins.add("newpage",{init:function(i){i.addCommand("newpage",{modes:{wysiwyg:1,source:1},exec:function(i){var o=this;i.setData(i.config.newpage_html||"",(function(){i.focus(),setTimeout((function(){i.fire("afterCommandExec",{name:"newpage",command:o}),i.selectionChange()}),200)}))},async:!0}),i.ui.addButton&&i.ui.addButton("NewPage",{label:i.lang.newpage.toolbar,command:"newpage",toolbar:"document,20"})}}),function(){function e(i){return{"aria-label":i,class:"cke_pagebreak",contenteditable:"false","data-cke-display-name":"pagebreak","data-cke-pagebreak":1,style:"page-break-after: always",title:i}}CKEDITOR.plugins.add("pagebreak",{requires:"fakeobjects",onLoad:function(){var i=("background:url("+CKEDITOR.getUrl(this.path+"images/pagebreak.gif")+") no-repeat center center;clear:both;width:100%;border-top:#999 1px dotted;border-bottom:#999 1px dotted;padding:0;height:7px;cursor:default;").replace(/;/g," !important;");CKEDITOR.addCss("div.cke_pagebreak{"+i+"}")},init:function(i){i.blockless||(i.addCommand("pagebreak",CKEDITOR.plugins.pagebreakCmd),i.ui.addButton&&i.ui.addButton("PageBreak",{label:i.lang.pagebreak.toolbar,command:"pagebreak",toolbar:"insert,70"}),CKEDITOR.env.webkit&&i.on("contentDom",(function(){i.document.on("click",(function(o){(o=o.data.getTarget()).is("div")&&o.hasClass("cke_pagebreak")&&i.getSelection().selectElement(o)}))})))},afterInit:function(i){function c(o){CKEDITOR.tools.extend(o.attributes,e(i.lang.pagebreak.alt),!0),o.children.length=0}var o=(s=i.dataProcessor)&&s.dataFilter,s=s&&s.htmlFilter,_=/page-break-after\s*:\s*always/i,$=/display\s*:\s*none/i;s&&s.addRules({attributes:{class:function(i,o){var s=i.replace("cke_pagebreak","");if(s!=i){var _=CKEDITOR.htmlParser.fragment.fromHtml('<span style="display: none;">&nbsp;</span>').children[0];o.children.length=0,o.add(_),delete(_=o.attributes)["aria-label"],delete _.contenteditable,delete _.title}return s}}},{applyToAll:!0,priority:5}),o&&o.addRules({elements:{div:function(i){if(i.attributes["data-cke-pagebreak"])c(i);else if(_.test(i.attributes.style)){var o=i.children[0];o&&"span"==o.name&&$.test(o.attributes.style)&&c(i)}}}})}}),CKEDITOR.plugins.pagebreakCmd={exec:function(i){i.insertElement(CKEDITOR.plugins.pagebreak.createElement(i))},context:"div",allowedContent:{div:{styles:"!page-break-after"},span:{match:function(i){return(i=i.parent)&&"div"==i.name&&i.styles&&i.styles["page-break-after"]},styles:"display"}},requiredContent:"div{page-break-after}"},CKEDITOR.plugins.pagebreak={createElement:function(i){return i.document.createElement("div",{attributes:e(i.lang.pagebreak.alt)})}}}(),function(){var i={canUndo:!1,async:!0,exec:function(i,o){var s=i.lang,_=CKEDITOR.tools.keystrokeToString(s.common.keyboard,i.getCommandKeystroke(CKEDITOR.env.ie?i.commands.paste:this)),$=o&&void 0!==o.notification?o.notification:!o||!o.from||"keystrokeHandler"===o.from&&CKEDITOR.env.ie;s=$&&"string"==typeof $?$:s.pastetext.pasteNotification.replace(/%1/,'<kbd aria-label="'+_.aria+'">'+_.display+"</kbd>");i.execCommand("paste",{type:"text",notification:!!$&&s})}};CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(o){var s=CKEDITOR.env.safari?CKEDITOR.CTRL+CKEDITOR.ALT+CKEDITOR.SHIFT+86:CKEDITOR.CTRL+CKEDITOR.SHIFT+86;o.addCommand("pastetext",i),o.setKeystroke(s,"pastetext"),CKEDITOR.plugins.clipboard.addPasteButton(o,"PasteText",{label:o.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"}),o.config.forcePasteAsPlainText&&o.on("beforePaste",(function(i){"html"!=i.data.type&&(i.data.type="text")})),o.on("pasteState",(function(i){o.getCommand("pastetext").setState(i.data)}))}})}(),function(){function k(i,o){var s=i.shift();s&&s.handle(o,(function(){k(i,o)}))}function l(o,s){var _,$,j=0;if(!CKEDITOR.tools.array.isArray(o)||0===o.length)return!0;if(_=CKEDITOR.tools.array.filter(o,(function(o){return-1===CKEDITOR.tools.array.indexOf(i,o)})),0<_.length)for($=0;$<_.length;$++)!function(o){CKEDITOR.scriptLoader.queue(o,(function($){$&&i.push(o),++j===_.length&&s()}))}(_[$]);return 0===_.length}var i=[],o=CKEDITOR.tools.createClass({$:function(){this.handlers=[]},proto:{register:function(i){"number"!=typeof i.priority&&(i.priority=10),this.handlers.push(i)},addPasteListener:function(i){i.on("paste",(function(o){var s,_=function(i,o){return CKEDITOR.tools.array.filter(i,(function(i){return i.canHandle(o)})).sort((function(i,o){return i.priority===o.priority?0:i.priority-o.priority}))}(this.handlers,o);if(0!==_.length){if(s=function(i){var o=CKEDITOR.tools.array.reduce(i,(function(i,o){return CKEDITOR.tools.array.isArray(o.filters)?i.concat(o.filters):i}),[]);return CKEDITOR.tools.array.filter(o,(function(i,s){return CKEDITOR.tools.array.indexOf(o,i)===s}))}(_),!(s=l(s,(function(){return i.fire("paste",o.data)}))))return o.cancel();k(_,o)}}),this,null,3)}}});CKEDITOR.plugins.add("pastetools",{requires:["clipboard","ajax"],beforeInit:function(i){i.pasteTools=new o,i.pasteTools.addPasteListener(i)}}),CKEDITOR.plugins.pastetools={filters:{},loadFilters:l,createFilter:function(i){var o=CKEDITOR.tools.array.isArray(i.rules)?i.rules:[i.rules],s=i.additionalTransforms;return function(i,_){var $,j=new CKEDITOR.htmlParser.basicWriter,Z=new CKEDITOR.htmlParser.filter;return s&&(i=s(i,_)),CKEDITOR.tools.array.forEach(o,(function(o){Z.addRules(o(i,_,Z))})),$=CKEDITOR.htmlParser.fragment.fromHtml(i),Z.applyTo($),$.writeHtml(j),j.getHtml()}},getClipboardData:function(i,o){var s;return CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"text/html"===o?(s=i.dataTransfer.getData(o,!0))||"text/html"!==o?s:i.dataValue:null},getConfigValue:function(i,o){if(i&&i.config){var s=CKEDITOR.tools,_=i.config,$=s.object.keys(_),j=["pasteTools_"+o,"pasteFromWord_"+o,"pasteFromWord"+s.capitalize(o,!0)];j=s.array.find(j,(function(i){return-1!==s.array.indexOf($,i)}));return _[j]}},getContentGeneratorName:function(i){if((i=/<meta\s+name=["']?generator["']?\s+content=["']?(\w+)/gi.exec(i))&&i.length)return 0===(i=i[1].toLowerCase()).indexOf("microsoft")?"microsoft":0===i.indexOf("libreoffice")?"libreoffice":"unknown"}},CKEDITOR.pasteFilters=CKEDITOR.plugins.pastetools.filters}(),CKEDITOR.plugins.add("pastefromgdocs",{requires:"pastetools",init:function(i){var o=CKEDITOR.plugins.getPath("pastetools"),s=this.path;i.pasteTools.register({filters:[CKEDITOR.getUrl(o+"filter/common.js"),CKEDITOR.getUrl(s+"filter/default.js")],canHandle:function(i){return/id=(\"|\')?docs\-internal\-guid\-/.test(i.data.dataValue)},handle:function(o,s){var _=o.data,$=CKEDITOR.plugins.pastetools.getClipboardData(_,"text/html");_.dontFilter=!0,_.dataValue=CKEDITOR.pasteFilters.gdocs($,i),!0===i.config.forcePasteAsPlainText&&(_.type="text"),s()}})}}),CKEDITOR.plugins.add("pastefromlibreoffice",{requires:"pastetools",isSupportedEnvironment:function(){var i=CKEDITOR.env.ie&&11>=CKEDITOR.env.version;return!(CKEDITOR.env.webkit&&!CKEDITOR.env.chrome||i)},init:function(i){if(this.isSupportedEnvironment()){var o=CKEDITOR.plugins.getPath("pastetools"),s=this.path;i.pasteTools.register({priority:100,filters:[CKEDITOR.getUrl(o+"filter/common.js"),CKEDITOR.getUrl(o+"filter/image.js"),CKEDITOR.getUrl(s+"filter/default.js")],canHandle:function(i){return!!(i=(i=i.data).dataTransfer.getData("text/html",!0)||i.dataValue)&&"libreoffice"===CKEDITOR.plugins.pastetools.getContentGeneratorName(i)},handle:function(o,s){var _=o.data,$=_.dataValue||CKEDITOR.plugins.pastetools.getClipboardData(_,"text/html");_.dontFilter=!0,$=CKEDITOR.pasteFilters.image($,i,CKEDITOR.plugins.pastetools.getClipboardData(_,"text/rtf")),_.dataValue=CKEDITOR.pasteFilters.libreoffice($,i),!0===i.config.forcePasteAsPlainText&&(_.type="text"),s()}})}}}),CKEDITOR.plugins.add("pastefromword",{requires:"pastetools",init:function(i){var o=0,s=CKEDITOR.plugins.getPath("pastetools"),_=this.path,$=void 0===i.config.pasteFromWord_inlineImages||i.config.pasteFromWord_inlineImages;s=[CKEDITOR.getUrl(s+"filter/common.js"),CKEDITOR.getUrl(s+"filter/image.js"),CKEDITOR.getUrl(_+"filter/default.js")],i.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(i,s){o=1,i.execCommand("paste",{type:"html",notification:!s||void 0===s.notification||s.notification})}}),CKEDITOR.plugins.clipboard.addPasteButton(i,"PasteFromWord",{label:i.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"}),i.pasteTools.register({filters:i.config.pasteFromWordCleanupFile?[i.config.pasteFromWordCleanupFile]:s,canHandle:function(i){i=CKEDITOR.plugins.pastetools.getClipboardData(i.data,"text/html");var s=(s=CKEDITOR.plugins.pastetools.getContentGeneratorName(i))?"microsoft"===s:/(class="?Mso|style=["'][^"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/.test(i);return i&&(o||s)},handle:function(s,_){var j=s.data,Z=CKEDITOR.plugins.pastetools.getClipboardData(j,"text/html"),ee=CKEDITOR.plugins.pastetools.getClipboardData(j,"text/rtf");Z={dataValue:Z,dataTransfer:{"text/rtf":ee}},(!1!==i.fire("pasteFromWord",Z)||o)&&(j.dontFilter=!0,(o||!i.config.pasteFromWordPromptCleanup||confirm(i.lang.pastefromword.confirmCleanup))&&(Z.dataValue=CKEDITOR.cleanWord(Z.dataValue,i),CKEDITOR.plugins.clipboard.isCustomDataTypesSupported&&$&&CKEDITOR.pasteFilters.image&&(Z.dataValue=CKEDITOR.pasteFilters.image(Z.dataValue,i,ee)),i.fire("afterPasteFromWord",Z),j.dataValue=Z.dataValue,!0===i.config.forcePasteAsPlainText?j.type="text":CKEDITOR.plugins.clipboard.isCustomCopyCutSupported||"allow-word"!==i.config.forcePasteAsPlainText||(j.type="html")),o=0,_())}})}}),function(){function k(i,o){var s=CKEDITOR.plugins.getPath("preview"),_=i.config,$=i.title,j=function(){var i=location.origin,o=location.pathname;return _.baseHref||CKEDITOR.env.gecko?_.baseHref?'<base href="{HREF}">'.replace("{HREF}",_.baseHref):((o=o.split("/")).pop(),o=o.join("/"),'<base href="{HREF}">'.replace("{HREF}",i+o+"/")):""}();return _.fullPage?i.getData().replace(/<head>/,"$&"+j).replace(/[^>]*(?=<\/title>)/,"$& &mdash; "+$):_.docType+'<html dir="'+_.contentsLangDirection+'"><head>'+j+"<title>"+$+"</title>"+CKEDITOR.tools.buildStyleHtml(_.contentsCss)+'<link rel="stylesheet" media="screen" href="'+s+'styles/screen.css"></head>'+function(){var o="<body>",s=i.document&&i.document.getBody();return s?(s.getAttribute("id")&&(o=o.replace(">",' id="'+s.getAttribute("id")+'">')),s.getAttribute("class")&&(o=o.replace(">",' class="'+s.getAttribute("class")+'">')),o):o}()+i.getData()+(o?"<script>"+(CKEDITOR.env.ie?"window.onload":"document.onreadystatechange")+" = function() { previewCallback(); } <\/script>":"")+"</body></html>"}CKEDITOR.plugins.add("preview",{init:function(i){i.addCommand("preview",{modes:{wysiwyg:1},canUndo:!1,readOnly:1,exec:function(){CKEDITOR.plugins.preview.createPreview(i)}}),i.ui.addButton&&i.ui.addButton("Preview",{label:i.lang.preview.preview,command:"preview",toolbar:"document,40"})}}),CKEDITOR.plugins.preview={createPreview:function(i,o){var s,_={dataValue:k(i,o)},$=function(){var i=window.screen;return{width:Math.round(.8*i.width),height:Math.round(.7*i.height),left:Math.round(.1*i.width)}}();s=CKEDITOR.env.ie||CKEDITOR.env.gecko?"javascript:void( (function(){document.open();"+("("+CKEDITOR.tools.fixDomain+")();").replace(/\/\/.*?\n/g,"").replace(/parent\./g,"window.opener.")+"document.write( window.opener._cke_htmlToLoad );document.close();window.opener._cke_htmlToLoad = null;})() )":null;var j,Z,ee=function(){var i=CKEDITOR.plugins.getPath("preview");return CKEDITOR.env.gecko?CKEDITOR.getUrl(i+"preview.html"):""}();return!1!==i.fire("contentPreview",_)&&((s||ee)&&(window._cke_htmlToLoad=_.dataValue),j=window.open(ee,null,["toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes","width="+$.width,"height="+$.height,"left="+$.left].join()),Z=new CKEDITOR.dom.window(j),s&&j&&(j.location=s),window._cke_htmlToLoad||(($=j.document).open(),$.write(_.dataValue),$.close()),o&&(j.previewCallback=function(){"complete"===j.document.readyState&&o(Z)},j.previewCallback()),Z)}}}(),CKEDITOR.plugins.add("print",{requires:"preview",init:function(i){i.addCommand("print",CKEDITOR.plugins.print),i.ui.addButton&&i.ui.addButton("Print",{label:i.lang.print.toolbar,command:"print",toolbar:"document,50"})}}),CKEDITOR.plugins.print={exec:function(i){CKEDITOR.plugins.preview.createPreview(i,(function(i){i=i.$,CKEDITOR.env.gecko?i.print():i.document.execCommand("Print"),i.close()}))},canUndo:!1,readOnly:1,modes:{wysiwyg:1}},CKEDITOR.plugins.add("removeformat",{init:function(i){i.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat),i.ui.addButton&&i.ui.addButton("RemoveFormat",{label:i.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(i){for(var o,s=i._.removeFormatRegex||(i._.removeFormatRegex=new RegExp("^(?:"+i.config.removeFormatTags.replace(/,/g,"|")+")$","i")),_=i._.removeAttributes||(i._.removeAttributes=i.config.removeFormatAttributes.split(",")),$=CKEDITOR.plugins.removeformat.filter,j=i.getSelection().getRanges(),Z=j.createIterator(),p=function(i){return i.type==CKEDITOR.NODE_ELEMENT};o=Z.getNextRange();){o.enlarge(CKEDITOR.ENLARGE_INLINE);var ee=o.createBookmark(),te=ee.startNode,ne=ee.endNode,k=function(o){for(var _,j=i.elementPath(o),Z=j.elements,ee=1;(_=Z[ee])&&!_.equals(j.block)&&!_.equals(j.blockLimit);ee++)s.test(_.getName())&&$(i,_)&&o.breakParent(_)};if(k(te),ne)for(k(ne),te=te.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);te&&!te.equals(ne);)if(te.isReadOnly()){if(te.getPosition(ne)&CKEDITOR.POSITION_CONTAINS)break;te=te.getNext(p)}else k=te.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==te.getName()&&te.data("cke-realelement")||!$(i,te)||(s.test(te.getName())?te.remove(1):(te.removeAttributes(_),i.fire("removeFormatCleanup",te))),te=k;o.moveToBookmark(ee)}i.forceNextSelectionCheck(),i.getSelection().selectRanges(j)}}},filter:function(i,o){for(var s=i._.removeFormatFilters||[],_=0;_<s.length;_++)if(!1===s[_](o))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(i){this._.removeFormatFilters||(this._.removeFormatFilters=[]),this._.removeFormatFilters.push(i)},CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var",CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",function(){var i={readOnly:1,modes:{wysiwyg:1,source:1},exec:function(i){if(i.fire("save")&&(i=i.element.$.form))try{i.submit()}catch(o){i.submit.click&&i.submit.click()}}};CKEDITOR.plugins.add("save",{init:function(o){o.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(o.addCommand("save",i).startDisabled=!o.element.$.form,o.ui.addButton&&o.ui.addButton("Save",{label:o.lang.save.toolbar,command:"save",toolbar:"document,10"}))}})}(),CKEDITOR.plugins.add("selectall",{init:function(i){i.addCommand("selectAll",{modes:{wysiwyg:1,source:1},exec:function(i){var o=i.editable();if(o.is("textarea"))i=o.$,CKEDITOR.env.ie&&i.createTextRange?i.createTextRange().execCommand("SelectAll"):(i.selectionStart=0,i.selectionEnd=i.value.length),i.focus();else{if(o.is("body"))i.document.$.execCommand("SelectAll",!1,null);else{var s=i.createRange();s.selectNodeContents(o),s.select()}i.forceNextSelectionCheck(),i.selectionChange()}},canUndo:!1}),i.ui.addButton&&i.ui.addButton("SelectAll",{label:i.lang.selectall.toolbar,command:"selectAll",toolbar:"selection,10"})}}),function(){var i={readOnly:1,preserveState:!0,editorFocus:!1,exec:function(i){this.toggleState(),this.refresh(i)},refresh:function(i){if(i.document){var o=this.state!=CKEDITOR.TRISTATE_ON||i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!i.focusManager.hasFocus?"removeClass":"attachClass";i.editable()[o]("cke_show_blocks")}}};CKEDITOR.plugins.add("showblocks",{onLoad:function(){var i,o,s,_,$,j,Z="p div pre address blockquote h1 h2 h3 h4 h5 h6".split(" "),ee=CKEDITOR.getUrl(this.path),te=!(CKEDITOR.env.ie&&9>CKEDITOR.env.version),ne=te?":not([contenteditable=false]):not(.cke_show_blocks_off)":"";for(i=o=s=_="";$=Z.pop();)i+=".cke_show_blocks "+$+ne+(j=Z.length?",":""),s+=".cke_show_blocks.cke_contents_ltr "+$+ne+j,_+=".cke_show_blocks.cke_contents_rtl "+$+ne+j,o+=".cke_show_blocks "+$+ne+"{background-image:url("+CKEDITOR.getUrl(ee+"images/block_"+$+".png")+")}";CKEDITOR.addCss((i+"{background-repeat:no-repeat;border:1px dotted gray;padding-top:8px}").concat(o,s+"{background-position:top left;padding-left:8px}",_+"{background-position:top right;padding-right:8px}")),te||CKEDITOR.addCss(".cke_show_blocks [contenteditable=false],.cke_show_blocks .cke_show_blocks_off{border:none;padding-top:0;background-image:none}.cke_show_blocks.cke_contents_rtl [contenteditable=false],.cke_show_blocks.cke_contents_rtl .cke_show_blocks_off{padding-right:0}.cke_show_blocks.cke_contents_ltr [contenteditable=false],.cke_show_blocks.cke_contents_ltr .cke_show_blocks_off{padding-left:0}")},init:function(o){function c(){s.refresh(o)}if(!o.blockless){var s=o.addCommand("showblocks",i);s.canUndo=!1,o.config.startupOutlineBlocks&&s.setState(CKEDITOR.TRISTATE_ON),o.ui.addButton&&o.ui.addButton("ShowBlocks",{label:o.lang.showblocks.toolbar,command:"showblocks",toolbar:"tools,20"}),o.on("mode",(function(){s.state!=CKEDITOR.TRISTATE_DISABLED&&s.refresh(o)})),o.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(o.on("focus",c),o.on("blur",c)),o.on("contentDom",(function(){s.state!=CKEDITOR.TRISTATE_DISABLED&&s.refresh(o)}))}}})}(),function(){var i={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(i){this.toggleState(),this.refresh(i)},refresh:function(i){if(i.document){var o=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";i.editable()[o]("cke_show_borders")}}};CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var i;i=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:".%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g,"cke_show_border").replace(/%1/g,"cke_show_borders "),CKEDITOR.addCss(i)},init:function(o){var s=o.addCommand("showborders",i);s.canUndo=!1,!1!==o.config.startupShowBorders&&s.setState(CKEDITOR.TRISTATE_ON),o.on("mode",(function(){s.state!=CKEDITOR.TRISTATE_DISABLED&&s.refresh(o)}),null,null,100),o.on("contentDom",(function(){s.state!=CKEDITOR.TRISTATE_DISABLED&&s.refresh(o)})),o.on("removeFormatCleanup",(function(i){i=i.data,o.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&i.is("table")&&(!i.hasAttribute("border")||0>=parseInt(i.getAttribute("border"),10))&&i.addClass("cke_show_border")}))},afterInit:function(i){var o=i.dataProcessor;i=o&&o.dataFilter,o=o&&o.htmlFilter,i&&i.addRules({elements:{table:function(i){var o=(i=i.attributes).class,s=parseInt(i.border,10);s&&!(0>=s)||o&&-1!=o.indexOf("cke_show_border")||(i.class=(o||"")+" cke_show_border")}}}),o&&o.addRules({elements:{table:function(i){var o=(i=i.attributes).class;o&&(i.class=o.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}}),CKEDITOR.on("dialogDefinition",(function(i){var o=i.data.name;"table"!=o&&"tableProperties"!=o||((o=(i=i.data.definition).getContents("info").get("txtBorder")).commit=CKEDITOR.tools.override(o.commit,(function(i){return function(o,s){i.apply(this,arguments);var _=parseInt(this.getValue(),10);s[!_||0>=_?"addClass":"removeClass"]("cke_show_border")}})),(i=(i=i.getContents("advanced"))&&i.get("advCSSClasses"))&&(i.setup=CKEDITOR.tools.override(i.setup,(function(i){return function(){i.apply(this,arguments),this.setValue(this.getValue().replace(/cke_show_border/,""))}})),i.commit=CKEDITOR.tools.override(i.commit,(function(i){return function(o,s){i.apply(this,arguments),parseInt(s.getAttribute("border"),10)||s.addClass("cke_show_border")}}))))}))}(),function(){CKEDITOR.plugins.add("sourcearea",{init:function(o){function d(){var i=_&&this.equals(CKEDITOR.document.getActive());this.hide(),this.setStyle("height",this.getParent().$.clientHeight+"px"),this.setStyle("width",this.getParent().$.clientWidth+"px"),this.show(),i&&this.focus()}if(o.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var s=CKEDITOR.plugins.sourcearea;o.addMode("source",(function(s){var _=o.ui.space("contents").getDocument().createElement("textarea");_.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",o.config.sourceAreaTabSize||4))),_.setAttribute("dir","ltr"),_.addClass("cke_source").addClass("cke_reset").addClass("cke_enable_context_menu"),o.ui.space("contents").append(_),(_=o.editable(new i(o,_))).setData(o.getData(1)),CKEDITOR.env.ie&&(_.attachListener(o,"resize",d,_),_.attachListener(CKEDITOR.document.getWindow(),"resize",d,_),CKEDITOR.tools.setTimeout(d,0,_)),o.fire("ariaWidget",this),s()})),o.addCommand("source",s.commands.source),o.ui.addButton&&o.ui.addButton("Source",{isToggle:!0,label:o.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"}),o.on("mode",(function(){o.getCommand("source").setState("source"==o.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}));var _=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var i=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(i){this.setValue(i),this.status="ready",this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(i){this[(i?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){i.baseProto.detach.call(this),this.clearCustomData(),this.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(i){"wysiwyg"==i.mode&&i.fire("saveSnapshot"),i.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED),i.setMode("source"==i.mode?"wysiwyg":"source")},canUndo:!1}}},CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(i){var o=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js"),i.addCommand("specialchar",{exec:function(){var s=i.langCode;s=o.availableLangs[s]?s:o.availableLangs[s.replace(/-.*/,"")]?s.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(o.path+"dialogs/lang/"+s+".js"),(function(){CKEDITOR.tools.extend(i.lang.specialchar,o.langEntries[s]),i.openDialog("specialchar")}))},modes:{wysiwyg:1},canUndo:!1}),i.ui.addButton&&i.ui.addButton("SpecialChar",{label:i.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}}),CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "),CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",onLoad:function(i){"moono-lisa"==(CKEDITOR.skinName||i.config.skin)&&CKEDITOR.document.appendStyleSheet(CKEDITOR.getUrl(this.path+"skins/"+CKEDITOR.skin.name+"/scayt.css")),CKEDITOR.document.appendStyleSheet(CKEDITOR.getUrl(this.path+"dialogs/dialog.css"));var o=!1;CKEDITOR.on("instanceLoaded",(function(i){if(!o&&CKEDITOR.plugins.autocomplete){o=!0;var s=CKEDITOR.plugins.autocomplete.prototype.getModel;CKEDITOR.plugins.autocomplete.prototype.getModel=function(i){var o=this.editor;return(i=s.bind(this)(i)).on("change-isActive",(function(i){i.data?o.fire("autocompletePanelShow"):o.fire("autocompletePanelHide")})),i}}}))},init:function(i){var o=this,s=CKEDITOR.plugins.scayt;this.bindEvents(i),this.parseConfig(i),this.addRule(i),CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js")),this.addMenuItems(i);var _=i.lang.scayt,$=CKEDITOR.env;i.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:_.text_title,title:i.plugins.wsc?i.lang.wsc.title:_.text_title,modes:{wysiwyg:!($.ie&&(8>$.version||$.quirks))},toolbar:"spellchecker,20",refresh:function(){var o=i.ui.instances.Scayt.getState();i.scayt&&(o=s.state.scayt[i.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),i.fire("scaytButtonState",o)},onRender:function(){var o=this;i.on("scaytButtonState",(function(i){void 0!==typeof i.data&&o.setState(i.data)}))},onMenu:function(){var o=i.scayt;i.getMenuItem("scaytToggle").label=i.lang.scayt[o&&s.state.scayt[i.name]?"btn_disable":"btn_enable"];var _={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:o?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:o?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:o?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:o?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:i.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};return i.config.scayt_uiTabs[0]||delete _.scaytOptions,i.config.scayt_uiTabs[1]||delete _.scaytLangs,i.config.scayt_uiTabs[2]||delete _.scaytDict,o&&!CKEDITOR.plugins.scayt.isNewUdSupported(o)&&(delete _.scaytDict,i.config.scayt_uiTabs[2]=0,CKEDITOR.plugins.scayt.alarmCompatibilityMessage()),_}}),i.contextMenu&&i.addMenuItems&&(i.contextMenu.addListener((function(s,_){var $,j,Z=i.scayt;return Z&&(j=Z.getSelectionNode())&&($=o.menuGenerator(i,j),Z.showBanner("."+i.contextMenu._.definition.panel.className.split(" ").join(" ."))),$})),i.contextMenu._.onHide=CKEDITOR.tools.override(i.contextMenu._.onHide,(function(o){return function(){var s=i.scayt;return s&&s.hideBanner(),o.apply(this)}})))},addMenuItems:function(i){var o=this,s=CKEDITOR.plugins.scayt;i.addMenuGroup("scaytButton");for(var _=i.config.scayt_contextMenuItemsOrder.split("|"),$=0;$<_.length;$++)_[$]="scayt_"+_[$];if((_=["grayt_description","grayt_suggest","grayt_control"].concat(_))&&_.length)for($=0;$<_.length;$++)i.addMenuGroup(_[$],$-10);i.addCommand("scaytToggle",{exec:function(i){var o=i.scayt;s.state.scayt[i.name]=!s.state.scayt[i.name],!0===s.state.scayt[i.name]?o||s.createScayt(i):o&&s.destroy(i)}}),i.addCommand("scaytAbout",{exec:function(i){i.scayt.tabToOpen="about",s.openDialog(o.dialogName,i)}}),i.addCommand("scaytOptions",{exec:function(i){i.scayt.tabToOpen="options",s.openDialog(o.dialogName,i)}}),i.addCommand("scaytLangs",{exec:function(i){i.scayt.tabToOpen="langs",s.openDialog(o.dialogName,i)}}),i.addCommand("scaytDict",{exec:function(i){i.scayt.tabToOpen="dictionaries",s.openDialog(o.dialogName,i)}}),_={scaytToggle:{label:i.lang.scayt.btn_enable,group:"scaytButton",command:"scaytToggle"},scaytAbout:{label:i.lang.scayt.btn_about,group:"scaytButton",command:"scaytAbout"},scaytOptions:{label:i.lang.scayt.btn_options,group:"scaytButton",command:"scaytOptions"},scaytLangs:{label:i.lang.scayt.btn_langs,group:"scaytButton",command:"scaytLangs"},scaytDict:{label:i.lang.scayt.btn_dictionaries,group:"scaytButton",command:"scaytDict"}},i.plugins.wsc&&(_.WSC={label:i.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var o=CKEDITOR.plugins.scayt,s=i.scayt,_=i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?i.container.getText():i.document.getBody().getText();(_=_.replace(/\s/g,""))?(s&&o.state.scayt[i.name]&&s.setMarkupPaused&&s.setMarkupPaused(!0),i.lockSelection(),i.execCommand("checkspell")):alert("Nothing to check!")}}),i.addMenuItems(_)},bindEvents:function(i){var o=CKEDITOR.plugins.scayt,s=i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,b=function(){o.destroy(i)},e=function(){!o.state.scayt[i.name]||i.readOnly||i.scayt||o.createScayt(i)},g=function(){s?i.config.scayt_inlineModeImmediateMarkup?e():(i.on("blur",(function(){setTimeout(b,0)})),i.on("focus",e),i.focusManager.hasFocus&&e()):e(),function(){var o=i.editable();o.attachListener(o,"focus",(function(o){var _,$;if(CKEDITOR.plugins.scayt&&!i.scayt&&setTimeout(e,0),o=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[i.name]&&i.scayt,(s||o)&&i._.savedSelection){o=!(o=i._.savedSelection.getSelectedElement())&&i._.savedSelection.getRanges();for(var j=0;j<o.length;j++)"string"==typeof($=o[j]).startContainer.$.nodeValue&&((_=$.startContainer.getText().length)<$.startOffset||_<$.endOffset)&&i.unlockSelection(!1)}}),this,null,-10)}();var o=i.editable();o.attachListener(o,"mousedown",(function(o){o=o.data.getTarget();var s=i.widgets&&i.widgets.getByElement(o);s&&(s.wrapper=o.getAscendant((function(i){return i.hasAttribute("data-cke-widget-wrapper")}),!0))}),this,null,-10)};i.on("contentDom",g),i.on("beforeCommandExec",(function(s){var _=i.scayt,$=!1,j=!1,Z=!0;s.data.name in o.options.disablingCommandExec&&"wysiwyg"==i.mode?_&&(o.destroy(i),i.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)):"bold"!==s.data.name&&"italic"!==s.data.name&&"underline"!==s.data.name&&"strike"!==s.data.name&&"subscript"!==s.data.name&&"superscript"!==s.data.name&&"enter"!==s.data.name&&"cut"!==s.data.name&&"language"!==s.data.name||!_||("cut"===s.data.name&&(Z=!1,j=!0),"language"===s.data.name&&(j=$=!0),i.fire("reloadMarkupScayt",{removeOptions:{removeInside:Z,forceBookmark:j,language:$},timeout:0}))})),i.on("beforeSetMode",(function(s){"source"==s.data&&((s=i.scayt)&&(o.destroy(i),i.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)),i.document&&i.document.getBody().removeAttribute("_jquid"))})),i.on("afterCommandExec",(function(s){"wysiwyg"!=i.mode||"undo"!=s.data.name&&"redo"!=s.data.name||setTimeout((function(){o.reloadMarkup(i.scayt)}),250)})),i.on("readOnly",(function(s){var _;s&&(_=i.scayt,!0===s.editor.readOnly?_&&_.fire("removeMarkupInDocument",{}):_?o.reloadMarkup(_):"wysiwyg"==s.editor.mode&&!0===o.state.scayt[s.editor.name]&&(o.createScayt(i),s.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)))})),i.on("beforeDestroy",b),i.on("setData",(function(){b(),(i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||i.plugins.divarea)&&g()}),this,null,50),i.on("reloadMarkupScayt",(function(s){var _=s.data&&s.data.removeOptions,$=s.data&&s.data.timeout,j=s.data&&s.data.language,Z=i.scayt;Z&&setTimeout((function(){j&&(_.selectionNode=i.plugins.language.getCurrentLangElement(i),_.selectionNode=_.selectionNode&&_.selectionNode.$||null),Z.removeMarkupInSelectionNode(_),o.reloadMarkup(Z)}),$||0)})),i.on("insertElement",(function(){i.fire("reloadMarkupScayt",{removeOptions:{forceBookmark:!0}})}),this,null,50),i.on("insertHtml",(function(){i.scayt&&i.scayt.setFocused&&i.scayt.setFocused(!0),i.fire("reloadMarkupScayt")}),this,null,50),i.on("insertText",(function(){i.scayt&&i.scayt.setFocused&&i.scayt.setFocused(!0),i.fire("reloadMarkupScayt")}),this,null,50),i.on("scaytDialogShown",(function(o){o.data.selectPage(i.scayt.tabToOpen)})),i.on("autocompletePanelShow",(function(o){(o=i.scayt)&&o.setMarkupPaused&&o.setMarkupPaused(!0)})),i.on("autocompletePanelHide",(function(o){(o=i.scayt)&&o.setMarkupPaused&&o.setMarkupPaused(!1)}))},parseConfig:function(i){if((_=CKEDITOR.plugins.scayt).replaceOldOptionsNames(i.config),"boolean"!=typeof i.config.scayt_autoStartup&&(i.config.scayt_autoStartup=!1),_.state.scayt[i.name]=i.config.scayt_autoStartup,"boolean"!=typeof i.config.grayt_autoStartup&&(i.config.grayt_autoStartup=!1),"boolean"!=typeof i.config.scayt_inlineModeImmediateMarkup&&(i.config.scayt_inlineModeImmediateMarkup=!1),_.state.grayt[i.name]=i.config.grayt_autoStartup,i.config.scayt_contextCommands||(i.config.scayt_contextCommands="ignoreall|add"),i.config.scayt_contextMenuItemsOrder||(i.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control"),i.config.scayt_sLang||(i.config.scayt_sLang="en_US"),(void 0===i.config.scayt_maxSuggestions||"number"!=typeof i.config.scayt_maxSuggestions||0>i.config.scayt_maxSuggestions)&&(i.config.scayt_maxSuggestions=3),(void 0===i.config.scayt_minWordLength||"number"!=typeof i.config.scayt_minWordLength||1>i.config.scayt_minWordLength)&&(i.config.scayt_minWordLength=3),void 0!==i.config.scayt_customDictionaryIds&&"string"==typeof i.config.scayt_customDictionaryIds||(i.config.scayt_customDictionaryIds=""),void 0!==i.config.scayt_userDictionaryName&&"string"==typeof i.config.scayt_userDictionaryName||(i.config.scayt_userDictionaryName=null),"string"==typeof i.config.scayt_uiTabs&&3===i.config.scayt_uiTabs.split(",").length){var o=[],s=[];i.config.scayt_uiTabs=i.config.scayt_uiTabs.split(","),CKEDITOR.tools.search(i.config.scayt_uiTabs,(function(i){1===Number(i)||0===Number(i)?(s.push(!0),o.push(Number(i))):s.push(!1)})),null===CKEDITOR.tools.search(s,!1)?i.config.scayt_uiTabs=o:i.config.scayt_uiTabs=[1,1,1]}else i.config.scayt_uiTabs=[1,1,1];if("string"!=typeof i.config.scayt_serviceProtocol&&(i.config.scayt_serviceProtocol=null),"string"!=typeof i.config.scayt_serviceHost&&(i.config.scayt_serviceHost=null),"string"!=typeof i.config.scayt_servicePort&&(i.config.scayt_servicePort=null),"string"!=typeof i.config.scayt_servicePath&&(i.config.scayt_servicePath=null),i.config.scayt_moreSuggestions||(i.config.scayt_moreSuggestions="on"),"string"!=typeof i.config.scayt_customerId&&(i.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2"),"string"!=typeof i.config.scayt_customPunctuation&&(i.config.scayt_customPunctuation="-"),"string"!=typeof i.config.scayt_srcUrl&&(i.config.scayt_srcUrl="https://svc.webspellchecker.net/spellcheck31/wscbundle/wscbundle.js"),"boolean"!=typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0),"boolean"!=typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0),CKEDITOR.config.scayt_handleUndoRedo=!!CKEDITOR.plugins.undo&&CKEDITOR.config.scayt_handleUndoRedo,i.config.scayt_ignoreAllCapsWords&&"boolean"!=typeof i.config.scayt_ignoreAllCapsWords&&(i.config.scayt_ignoreAllCapsWords=!1),i.config.scayt_ignoreDomainNames&&"boolean"!=typeof i.config.scayt_ignoreDomainNames&&(i.config.scayt_ignoreDomainNames=!1),i.config.scayt_ignoreWordsWithMixedCases&&"boolean"!=typeof i.config.scayt_ignoreWordsWithMixedCases&&(i.config.scayt_ignoreWordsWithMixedCases=!1),i.config.scayt_ignoreWordsWithNumbers&&"boolean"!=typeof i.config.scayt_ignoreWordsWithNumbers&&(i.config.scayt_ignoreWordsWithNumbers=!1),i.config.scayt_disableOptionsStorage){var _=CKEDITOR.tools.isArray(i.config.scayt_disableOptionsStorage)?i.config.scayt_disableOptionsStorage:"string"==typeof i.config.scayt_disableOptionsStorage?[i.config.scayt_disableOptionsStorage]:void 0,$="all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),j=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],Z=CKEDITOR.tools.search,ee=CKEDITOR.tools.indexOf;i.config.scayt_disableOptionsStorage=function(i){for(var o=[],s=0;s<i.length;s++){var _=i[s],te=!!Z(i,"options");if(!Z($,_)||te&&Z(j,(function(i){if("lang"===i)return!1})))return;if(Z(j,_)&&j.splice(ee(j,_),1),"all"===_||te&&Z(i,"lang"))return[];"options"===_&&(j=["lang"])}return o.concat(j)}(_)}},addRule:function(i){var o=CKEDITOR.plugins.scayt,s=($=i.dataProcessor)&&$.htmlFilter,_=i._.elementsPath&&i._.elementsPath.filters,$=$&&$.dataFilter,j=i.addRemoveFormatFilter;_&&_.push((function(s){if(i.scayt&&(s.hasAttribute(o.options.data_attribute_name)||s.hasAttribute(o.options.problem_grammar_data_attribute)))return!1})),$&&$.addRules({elements:{span:function(i){var s=i.hasClass(o.options.misspelled_word_class)&&i.attributes[o.options.data_attribute_name],_=i.hasClass(o.options.problem_grammar_class)&&i.attributes[o.options.problem_grammar_data_attribute];return o&&(s||_)&&delete i.name,i}}}),s&&s.addRules({elements:{span:function(i){var s=i.hasClass(o.options.misspelled_word_class)&&i.attributes[o.options.data_attribute_name],_=i.hasClass(o.options.problem_grammar_class)&&i.attributes[o.options.problem_grammar_data_attribute];return o&&(s||_)&&delete i.name,i}}}),j&&j.call(i,(function(s){var _=!0;return i.scayt&&(s.hasAttribute(o.options.data_attribute_name)||s.hasAttribute(o.options.problem_grammar_data_attribute))&&(_=!1),_}))},scaytMenuDefinition:function(i){var o=this,s=CKEDITOR.plugins.scayt;return{scayt:{scayt_ignore:{label:(i=i.scayt).getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(i){i.scayt.ignoreWord()}},scayt_ignoreall:{label:i.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(i){i.scayt.ignoreAllWords()}},scayt_add:{label:i.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(i){var o=i.scayt;setTimeout((function(){o.addWordToUserDictionary()}),10)}},scayt_option:{label:i.getLocal("btn_options"),group:"scayt_control",order:4,exec:function(i){i.scayt.tabToOpen="options",s.openDialog(o.dialogName,i)},verification:function(i){return 1==i.config.scayt_uiTabs[0]}},scayt_language:{label:i.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(i){i.scayt.tabToOpen="langs",s.openDialog(o.dialogName,i)},verification:function(i){return 1==i.config.scayt_uiTabs[1]}},scayt_dictionary:{label:i.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(i){i.scayt.tabToOpen="dictionaries",s.openDialog(o.dialogName,i)},verification:function(i){return 1==i.config.scayt_uiTabs[2]}},scayt_about:{label:i.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(i){i.scayt.tabToOpen="about",s.openDialog(o.dialogName,i)}}},grayt:{grayt_problemdescription:{label:"Grammar problem description",group:"grayt_description",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(i){}},grayt_ignore:{label:i.getLocal("btn_ignore"),group:"grayt_control",order:2,exec:function(i){i.scayt.ignorePhrase()}},grayt_ignoreall:{label:i.getLocal("btn_ignoreAll"),group:"grayt_control",order:3,exec:function(i){i.scayt.ignoreAllPhrases()}}}}},buildSuggestionMenuItems:function(i,o,s){var _={},$={},j=s?"word":"phrase",Z=s?"startGrammarCheck":"startSpellCheck",ee=i.scayt;if(0<o.length&&"no_any_suggestions"!==o[0])if(s)for(s=0;s<o.length;s++){var te="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[s].replace(" ","_");i.addCommand(te,this.createCommand(CKEDITOR.plugins.scayt.suggestions[s],j,Z)),s<i.config.scayt_maxSuggestions?(i.addMenuItem(te,{label:o[s],command:te,group:"scayt_suggest",order:s+1}),_[te]=CKEDITOR.TRISTATE_OFF):(i.addMenuItem(te,{label:o[s],command:te,group:"scayt_moresuggest",order:s+1}),$[te]=CKEDITOR.TRISTATE_OFF,"on"===i.config.scayt_moreSuggestions&&(i.addMenuItem("scayt_moresuggest",{label:ee.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return $}}),_.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(s=0;s<o.length;s++)te="grayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[s].replace(" ","_"),i.addCommand(te,this.createCommand(CKEDITOR.plugins.scayt.suggestions[s],j,Z)),i.addMenuItem(te,{label:o[s],command:te,group:"grayt_suggest",order:s+1}),_[te]=CKEDITOR.TRISTATE_OFF;else _.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,i.addCommand("no_scayt_suggest",{exec:function(){}}),i.addMenuItem("no_scayt_suggest",{label:ee.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0});return _},menuGenerator:function(i,o){var s,_,$,j,Z=i.scayt,ee=this.scaytMenuDefinition(i),te={},ne=i.config.scayt_contextCommands.split("|"),ie=o.getAttribute(Z.getLangAttribute())||Z.getLang();if(_=Z.isScaytNode(o),$=Z.isGraytNode(o),_?(ee=ee.scayt,s=o.getAttribute(Z.getScaytNodeAttributeName()),Z.fire("getSuggestionsList",{lang:ie,word:s}),te=this.buildSuggestionMenuItems(i,CKEDITOR.plugins.scayt.suggestions,_)):$&&(ee=ee.grayt,te=o.getAttribute(Z.getGraytNodeAttributeName()),Z.getGraytNodeRuleAttributeName?(s=o.getAttribute(Z.getGraytNodeRuleAttributeName()),Z.getProblemDescriptionText(te,s,ie)):Z.getProblemDescriptionText(te,ie),j=Z.getProblemDescriptionText(te,s,ie),ee.grayt_problemdescription&&j&&(j=j.replace(/([.!?])\s/g,"$1<br>"),ee.grayt_problemdescription.label=j),Z.fire("getGrammarSuggestionsList",{lang:ie,phrase:te,rule:s}),te=this.buildSuggestionMenuItems(i,CKEDITOR.plugins.scayt.suggestions,_)),_&&"off"==i.config.scayt_contextCommands)return te;for(var oe in ee)_&&-1==CKEDITOR.tools.indexOf(ne,oe.replace("scayt_",""))&&"all"!=i.config.scayt_contextCommands||$&&"grayt_problemdescription"!==oe&&-1==CKEDITOR.tools.indexOf(ne,oe.replace("grayt_",""))&&"all"!=i.config.scayt_contextCommands||(te[oe]=void 0!==ee[oe].state?ee[oe].state:CKEDITOR.TRISTATE_OFF,"function"!=typeof ee[oe].verification||ee[oe].verification(i)||delete te[oe],i.addCommand(oe,{exec:ee[oe].exec}),i.addMenuItem(oe,{label:i.lang.scayt[ee[oe].label]||ee[oe].label,command:oe,group:ee[oe].group,order:ee[oe].order}));return te},createCommand:function(i,o,s){return{exec:function(_){_=_.scayt;var $={};$[o]=i,_.replaceSelectionNode($),"startGrammarCheck"===s&&_.removeMarkupInSelectionNode({grammarOnly:!0}),_.fire(s)}}}}),CKEDITOR.plugins.scayt={charsToObserve:[{charName:"cke-fillingChar",charCode:function(){var i,o,s=CKEDITOR.version,_=[4,5,6],$=String.fromCharCode(8203),j=Array(8).join($);if(!s)return $;s=s.split(".");for(var Z=0;Z<_.length;Z++){if(i=_[Z],(o=Number(s[Z]))>i)return j;if(o<i)break}return $}()}],state:{scayt:{},grayt:{}},warningCounter:0,suggestions:[],options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",misspelled_word_class:"scayt-misspell-word",problem_grammar_data_attribute:"data-grayt-phrase",problem_grammar_class:"gramm-problem"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},openDialog:function(i,o){var s=o.scayt;s.isAllModulesReady&&!1===s.isAllModulesReady()||(o.lockSelection(),o.openDialog(i))},alarmCompatibilityMessage:function(){5>this.warningCounter&&(console.warn("You are using the latest version of SCAYT plugin for CKEditor with the old application version. In order to have access to the newest features, it is recommended to upgrade the application version to latest one as well. Contact us for more details at support@webspellchecker.net."),this.warningCounter+=1)},isNewUdSupported:function(i){return!!i.getUserDictionary},reloadMarkup:function(i){var o;i&&(o=i.getScaytLangList(),i.reloadMarkup?i.reloadMarkup():(this.alarmCompatibilityMessage(),o&&o.ltr&&o.rtl&&i.fire("startSpellCheck, startGrammarCheck")))},replaceOldOptionsNames:function(i){for(var o in i)o in this.backCompatibilityMap&&(i[this.backCompatibilityMap[o]]=i[o],delete i[o])},createScayt:function(i){var o=this,s=CKEDITOR.plugins.scayt;this.loadScaytLibrary(i,(function(i){function e(i){return new SCAYT.CKSCAYT(i,(function(){}),(function(){}))}var _;if(i.window&&(_="BODY"==i.editable().$.nodeName?i.window.getFrame():i.editable()),_){var $;_={lang:i.config.scayt_sLang,container:_.$,customDictionary:i.config.scayt_customDictionaryIds,userDictionaryName:i.config.scayt_userDictionaryName,localization:i.langCode,customer_id:i.config.scayt_customerId,customPunctuation:i.config.scayt_customPunctuation,debug:i.config.scayt_debug,data_attribute_name:o.options.data_attribute_name,misspelled_word_class:o.options.misspelled_word_class,problem_grammar_data_attribute:o.options.problem_grammar_data_attribute,problem_grammar_class:o.options.problem_grammar_class,"options-to-restore":i.config.scayt_disableOptionsStorage,focused:i.editable().hasFocus,ignoreElementsRegex:i.config.scayt_elementsToIgnore,ignoreGraytElementsRegex:i.config.grayt_elementsToIgnore,minWordLength:i.config.scayt_minWordLength,graytAutoStartup:i.config.grayt_autoStartup,charsToObserve:s.charsToObserve},i.config.scayt_serviceProtocol&&(_.service_protocol=i.config.scayt_serviceProtocol),i.config.scayt_serviceHost&&(_.service_host=i.config.scayt_serviceHost),i.config.scayt_servicePort&&(_.service_port=i.config.scayt_servicePort),i.config.scayt_servicePath&&(_.service_path=i.config.scayt_servicePath),"boolean"==typeof i.config.scayt_ignoreAllCapsWords&&(_["ignore-all-caps-words"]=i.config.scayt_ignoreAllCapsWords),"boolean"==typeof i.config.scayt_ignoreDomainNames&&(_["ignore-domain-names"]=i.config.scayt_ignoreDomainNames),"boolean"==typeof i.config.scayt_ignoreWordsWithMixedCases&&(_["ignore-words-with-mixed-cases"]=i.config.scayt_ignoreWordsWithMixedCases),"boolean"==typeof i.config.scayt_ignoreWordsWithNumbers&&(_["ignore-words-with-numbers"]=i.config.scayt_ignoreWordsWithNumbers);try{$=e(_)}catch(i){o.alarmCompatibilityMessage(),delete _.charsToObserve,$=e(_)}$.subscribe("suggestionListSend",(function(i){for(var o={},s=[],_=0;_<i.suggestionList.length;_++)o["word_"+i.suggestionList[_]]||(o["word_"+i.suggestionList[_]]=i.suggestionList[_],s.push(i.suggestionList[_]));CKEDITOR.plugins.scayt.suggestions=s})),$.subscribe("selectionIsChanged",(function(o){i.getSelection().isLocked&&"restoreSelection"!==o.action&&i.lockSelection(),"restoreSelection"===o.action&&i.selectionChange(!0)})),$.subscribe("graytStateChanged",(function(o){s.state.grayt[i.name]=o.state})),$.addMarkupHandler&&$.addMarkupHandler((function(o){var s=i.editable(),_=s.getCustomData(o.charName);_&&(_.$=o.node,s.setCustomData(o.charName,_))})),i.scayt=$,i.fire("scaytButtonState",i.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)}else s.state.scayt[i.name]=!1}))},destroy:function(i){i.scayt&&i.scayt.destroy(),delete i.scayt,i.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(i,o){var s,b=function(){CKEDITOR.fireOnce("scaytReady"),i.scayt||"function"==typeof o&&o(i)};void 0===window.SCAYT||"function"!=typeof window.SCAYT.CKSCAYT?(s=i.config.scayt_srcUrl,CKEDITOR.scriptLoader.load(s,(function(i){i&&b()}))):window.SCAYT&&"function"==typeof window.SCAYT.CKSCAYT&&b()}},CKEDITOR.on("dialogDefinition",(function(i){var o=i.data.name;i=i.data.definition.dialog,"scaytDialog"!==o&&"checkspell"!==o&&(i.on("show",(function(i){i=i.sender&&i.sender.getParentEditor();var o=CKEDITOR.plugins.scayt,s=i.scayt;s&&o.state.scayt[i.name]&&s.setMarkupPaused&&s.setMarkupPaused(!0)})),i.on("hide",(function(i){i=i.sender&&i.sender.getParentEditor();var o=CKEDITOR.plugins.scayt,s=i.scayt;s&&o.state.scayt[i.name]&&s.setMarkupPaused&&s.setMarkupPaused(!1)}))),"scaytDialog"===o&&i.on("cancel",(function(i){return!1}),this,null,-1),"checkspell"===o&&i.on("cancel",(function(i){i=i.sender&&i.sender.getParentEditor();var o=CKEDITOR.plugins.scayt,s=i.scayt;s&&o.state.scayt[i.name]&&s.setMarkupPaused&&s.setMarkupPaused(!1),i.unlockSelection()}),this,null,-2),"link"===o&&i.on("ok",(function(i){var o=i.sender&&i.sender.getParentEditor();o&&setTimeout((function(){o.fire("reloadMarkupScayt",{removeOptions:{removeInside:!0,forceBookmark:!0},timeout:0})}),0)})),"replace"===o&&i.on("hide",(function(i){i=i.sender&&i.sender.getParentEditor();var o=CKEDITOR.plugins.scayt,s=i.scayt;i&&setTimeout((function(){s&&(s.fire("removeMarkupInDocument",{}),o.reloadMarkup(s))}),0)}))})),CKEDITOR.on("scaytReady",(function(){!0===CKEDITOR.config.scayt_handleCheckDirty&&((i=CKEDITOR.editor.prototype).checkDirty=CKEDITOR.tools.override(i.checkDirty,(function(i){return function(){var o=null,s=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt){if(o="ready"==this.status){var _=s.removeMarkupFromString(this.getSnapshot());s=s.removeMarkupFromString(this._.previousValue),o=o&&s!==_}}else o=i.call(this);return o}})),i.resetDirty=CKEDITOR.tools.override(i.resetDirty,(function(i){return function(){var o=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=o.removeMarkupFromString(this.getSnapshot()):i.call(this)}})));if(!0===CKEDITOR.config.scayt_handleUndoRedo){var i,o="function"==typeof(i=CKEDITOR.plugins.undo.Image.prototype).equalsContent?"equalsContent":"equals";i[o]=CKEDITOR.tools.override(i[o],(function(i){return function(o){var s=o.editor.scayt,_=this.contents,$=o.contents,j=null;return CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[o.editor.name]&&o.editor.scayt&&(this.contents=s.removeMarkupFromString(_)||"",o.contents=s.removeMarkupFromString($)||""),j=i.apply(this,arguments),this.contents=_,o.contents=$,j}}))}})),CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(i){var o=i.config,s=i.lang.stylescombo,_={},$=[],j=[];i.on("stylesSet",(function(s){if(s=s.data.styles){for(var Z,ee,te,ne=0,ie=s.length;ne<ie;ne++)Z=s[ne],i.blockless&&Z.element in CKEDITOR.dtd.$block||"string"==typeof Z.type&&!CKEDITOR.style.customHandlers[Z.type]||(ee=Z.name,Z=new CKEDITOR.style(Z),i.filter.customConfig&&!i.filter.check(Z))||(Z._name=ee,Z._.enterMode=o.enterMode,Z._.type=te=Z.assignedTo||Z.type,Z._.weight=ne+1e3*(te==CKEDITOR.STYLE_OBJECT?1:te==CKEDITOR.STYLE_BLOCK?2:3),_[ee]=Z,$.push(Z),j.push(Z));$.sort((function(i,o){return i._.weight-o._.weight}))}})),i.on("stylesRemove",(function(o){var s,$=void 0===(o=o.data&&o.data.type);for(s in _){var j=_[s];($||j.type===o)&&i.removeStyle(j)}})),i.ui.addRichCombo("Styles",{label:s.label,title:s.panelTitle,toolbar:"styles,10",allowedContent:j,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(o.contentsCss),multiSelect:!0,attributes:{"aria-label":s.panelTitle}},init:function(){var i,o,_,j,Z,ee;for(Z=0,ee=$.length;Z<ee;Z++)o=(i=$[Z])._name,(j=i._.type)!=_&&(this.startGroup(s["panelTitle"+String(j)]),_=j),this.add(o,i.type==CKEDITOR.STYLE_OBJECT?o:i.buildPreview(),o);this.commit()},onClick:function(o){i.focus(),i.fire("saveSnapshot"),o=_[o];var s=i.elementPath();o.group&&o.removeStylesFromSameGroup(i)?i.applyStyle(o):i[o.checkActive(s,i)?"removeStyle":"applyStyle"](o),i.fire("saveSnapshot")},onRender:function(){i.on("selectionChange",(function(o){for(var s,$=this.getValue(),j=0,Z=(o=o.data.path.elements).length;j<Z;j++)for(var ee in s=o[j],_)if(_[ee].checkElementRemovable(s,!0,i))return void(ee!=$&&this.setValue(ee));this.setValue("")}),this)},onOpen:function(){var o=(o=i.getSelection()).getSelectedElement()||o.getStartElement()||i.editable(),$=(o=i.elementPath(o),[0,0,0,0]);for(var j in this.showAll(),this.unmarkAll(),_){var Z=_[j],ee=Z._.type;Z.checkApplicable(o,i,i.activeFilter)?$[ee]++:this.hideItem(j),Z.checkActive(o,i)&&this.mark(j)}$[CKEDITOR.STYLE_BLOCK]||this.hideGroup(s["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]),$[CKEDITOR.STYLE_INLINE]||this.hideGroup(s["panelTitle"+String(CKEDITOR.STYLE_INLINE)]),$[CKEDITOR.STYLE_OBJECT]||this.hideGroup(s["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var o=i.elementPath();if(o){for(var s in _)if(_[s].checkApplicable(o,i,i.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){_={},$=[]}})}}),function(){function k(i){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(o){if(o.editable().hasFocus){var s,_=o.getSelection();if(s=new CKEDITOR.dom.elementPath(_.getStartElement(),_.root).contains({td:1,th:1},1)){_=o.createRange();if((j=CKEDITOR.tools.tryThese((function(){var o=s.getParent().$.cells[s.$.cellIndex+(i?-1:1)];return o.parentNode.parentNode,o}),(function(){var o;return(o=(o=s.getParent()).getAscendant("table").$.rows[o.$.rowIndex+(i?-1:1)]).cells[i?o.cells.length-1:0]})))||i){if(!j)return!0;j=new CKEDITOR.dom.element(j),_.moveToElementEditStart(j),_.checkStartOfBlock()&&_.checkEndOfBlock()||_.selectNodeContents(j)}else{for(var $=s.getAscendant("table").$,j=s.getParent().$.cells,Z=($=new CKEDITOR.dom.element($.insertRow(-1),o.document),0),ee=j.length;Z<ee;Z++)$.append(new CKEDITOR.dom.element(j[Z],o.document).clone(!1,!1)).appendBogus();_.moveToElementEditStart($)}return _.select(!0),!0}}return!1}}}var i={editorFocus:!1,modes:{wysiwyg:1,source:1}},o={exec:function(i){i.container.focusNext(!0,i.tabIndex)}},s={exec:function(i){i.container.focusPrevious(!0,i.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(_){for(var $=!1!==_.config.enableTabKeyTools,j=_.config.tabSpaces||0,Z="";j--;)Z+=" ";Z&&_.on("key",(function(i){9==i.data.keyCode&&(_.insertText(Z),i.cancel())})),$&&_.on("key",(function(i){(9==i.data.keyCode&&_.execCommand("selectNextCell")||i.data.keyCode==CKEDITOR.SHIFT+9&&_.execCommand("selectPreviousCell"))&&i.cancel()})),_.addCommand("blur",CKEDITOR.tools.extend(o,i)),_.addCommand("blurBack",CKEDITOR.tools.extend(s,i)),_.addCommand("selectNextCell",k()),_.addCommand("selectPreviousCell",k(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(i,o){var s,_,$,j,Z,ee,te=void 0===o?this.getTabIndex():o;if(0>=te)for(Z=this.getNextSourceNode(i,CKEDITOR.NODE_ELEMENT);Z;){if(Z.isVisible()&&0===Z.getTabIndex()){$=Z;break}Z=Z.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(Z=this.getDocument().getBody().getFirst();Z=Z.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!s)if(!_&&Z.equals(this)){if(_=!0,i){if(!(Z=Z.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;s=1}}else _&&!this.contains(Z)&&(s=1);if(Z.isVisible()&&!(0>(ee=Z.getTabIndex()))){if(s&&ee==te){$=Z;break}ee>te&&(!$||!j||ee<j)?($=Z,j=ee):$||0!==ee||($=Z,j=ee)}}$&&$.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(i,o){for(var s,_,$,j,Z=void 0===o?this.getTabIndex():o,ee=0,te=this.getDocument().getBody().getLast();te=te.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!s)if(!_&&te.equals(this)){if(_=!0,i){if(!(te=te.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;s=1}}else _&&!this.contains(te)&&(s=1);if(te.isVisible()&&!(0>(j=te.getTabIndex())))if(0>=Z){if(s&&0===j){$=te;break}j>ee&&($=te,ee=j)}else{if(s&&j==Z){$=te;break}j<Z&&(!$||j>ee)&&($=te,ee=j)}}$&&$.focus()},CKEDITOR.plugins.add("table",{requires:"dialog",init:function(i){function f(i){return CKEDITOR.tools.extend(i||{},{contextSensitive:1,refresh:function(i,o){this.setState(o.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!i.blockless){var o=i.lang.table;i.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height,border-collapse}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];td{border*,background-color,vertical-align,width,height}[colspan,rowspan];"+(i.plugins.dialogadvtab?"table"+i.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"],["td: splitBorderShorthand"],[{element:"table",right:function(i){if(i.styles){var o;if(i.styles.border)o=CKEDITOR.tools.style.parse.border(i.styles.border);else if(CKEDITOR.env.ie&&8===CKEDITOR.env.version){var s=i.styles;s["border-left"]&&s["border-left"]===s["border-right"]&&s["border-right"]===s["border-top"]&&s["border-top"]===s["border-bottom"]&&(o=CKEDITOR.tools.style.parse.border(s["border-top"]))}o&&o.style&&"solid"===o.style&&o.width&&0!==parseFloat(o.width)&&(i.attributes.border=1),"collapse"==i.styles["border-collapse"]&&(i.attributes.cellspacing=0)}}}]]})),i.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",f())),i.addCommand("tableDelete",f({exec:function(i){var o=i.elementPath().contains("table",1);if(o){var s=o.getParent(),_=i.editable();1!=s.getChildCount()||s.is("td","th")||s.equals(_)||(o=s),(i=i.createRange()).moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),o.remove(),i.select()}}})),i.ui.addButton&&i.ui.addButton("Table",{label:o.toolbar,command:"table",toolbar:"insert,30"}),CKEDITOR.dialog.add("table",this.path+"dialogs/table.js"),CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js"),i.addMenuItems&&i.addMenuItems({table:{label:o.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:o.deleteTable,command:"tableDelete",group:"table",order:1}}),i.on("doubleclick",(function(i){i.data.element.is("table")&&(i.data.dialog="tableProperties")})),i.contextMenu&&i.contextMenu.addListener((function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}}))}}}),function(){function q(i,o){function b(i){return!o||o.contains(i)&&i.getAscendant("table",!0).equals(o)}function c(i){0<s.length||i.type!=CKEDITOR.NODE_ELEMENT||!/^(?:td|th)$/.test(i.getName())||i.getCustomData("selected_cell")||(CKEDITOR.dom.element.setMarker(_,i,"selected_cell",!0),s.push(i))}var s=[],_={};if(!i)return s;for(var $=i.getRanges(),j=0;j<$.length;j++){var Z,ee;if((Z=$[j]).collapsed)(Z=Z.getCommonAncestor().getAscendant({td:1,th:1},!0))&&b(Z)&&s.push(Z);else for((Z=new CKEDITOR.dom.walker(Z)).guard=c;ee=Z.next();)ee.type==CKEDITOR.NODE_ELEMENT&&ee.is(CKEDITOR.dtd.table)||(ee=ee.getAscendant({td:1,th:1},!0))&&!ee.getCustomData("selected_cell")&&b(ee)&&(CKEDITOR.dom.element.setMarker(_,ee,"selected_cell",!0),s.push(ee))}return CKEDITOR.dom.element.clearAllMarkers(_),s}function r(o,s){var _=($=(ee=i(o)?o:q(o))[0]).getAscendant("table"),$=$.getDocument(),j=(te=ee[0].getParent()).$.rowIndex,Z=(ee=ee[ee.length-1]).getParent().$.rowIndex+ee.$.rowSpan-1,ee=new CKEDITOR.dom.element(_.$.rows[Z]),te=(j=s?j:Z,s?te:ee);for(_=(ee=CKEDITOR.tools.buildTableMap(_))[j],j=s?ee[j-1]:ee[j+1],ee=ee[0].length,$=$.createElement("tr"),Z=0;_[Z]&&Z<ee;Z++){var ne;1<_[Z].rowSpan&&j&&_[Z]==j[Z]?(ne=_[Z]).rowSpan+=1:((ne=new CKEDITOR.dom.element(_[Z]).clone()).removeAttribute("rowSpan"),ne.appendBogus(),$.append(ne),ne=ne.$),Z+=ne.colSpan-1}return s?$.insertBefore(te):$.insertAfter(te),$}function B(i){if(i instanceof CKEDITOR.dom.selection){var o=i.getRanges(),s=(Z=q(i))[0].getAscendant("table"),_=CKEDITOR.tools.buildTableMap(s),$=Z[0].getParent().$.rowIndex,j=(Z=Z[Z.length-1]).getParent().$.rowIndex+Z.$.rowSpan-1,Z=[];for(i.reset(),i=$;i<=j;i++){for(var ee=_[i],te=new CKEDITOR.dom.element(s.$.rows[i]),ne=0;ne<ee.length;ne++){var ie=new CKEDITOR.dom.element(ee[ne]),oe=ie.getParent().$.rowIndex;1==ie.$.rowSpan?ie.remove():(--ie.$.rowSpan,oe==i&&((oe=_[i+1])[ne-1]?ie.insertAfter(new CKEDITOR.dom.element(oe[ne-1])):new CKEDITOR.dom.element(s.$.rows[i+1]).append(ie,1))),ne+=ie.$.colSpan-1}Z.push(te)}for(_=s.$.rows,o[0].moveToPosition(s,CKEDITOR.POSITION_BEFORE_START),$=new CKEDITOR.dom.element(_[j+1]||(0<$?_[$-1]:null)||s.$.parentNode),i=Z.length;0<=i;i--)B(Z[i]);return s.$.parentNode?$:(o[0].select(),null)}return i instanceof CKEDITOR.dom.element&&(1==(s=i.getAscendant("table")).$.rows.length?s.remove():i.remove()),null}function v(i){for(var o=i.getParent().$.cells,s=0,_=0;_<o.length;_++){var $=o[_];s=s+$.colSpan;if($==i.$)break}return s-1}function w(i,o){for(var s=o?1/0:0,_=0;_<i.length;_++){var $=v(i[_]);(o?$<s:$>s)&&(s=$)}return s}function u(o,s){for(var _=(j=i(o)?o:q(o))[0].getAscendant("table"),$=w(j,1),j=w(j),Z=s?$:j,ee=CKEDITOR.tools.buildTableMap(_),te=(_=[],$=[],j=[],ee.length),ne=0;ne<te;ne++){var ie=s?ee[ne][Z-1]:ee[ne][Z+1];_.push(ee[ne][Z]),$.push(ie)}for(ne=0;ne<te;ne++)_[ne]&&(1<_[ne].colSpan&&$[ne]==_[ne]?(ee=_[ne]).colSpan+=1:((ee=(Z=new CKEDITOR.dom.element(_[ne])).clone()).removeAttribute("colSpan"),ee.appendBogus(),ee[s?"insertBefore":"insertAfter"].call(ee,Z),j.push(ee),ee=ee.$),ne+=ee.rowSpan-1);return j}function t(i,o){var s=i.getStartElement().getAscendant({td:1,th:1},!0);if(s){var _=s.clone();_.appendBogus(),o?_.insertBefore(s):_.insertAfter(s)}}function z(i){if(i instanceof CKEDITOR.dom.selection){var o,s=i.getRanges(),_=q(i),$=_[0]&&_[0].getAscendant("table");e:{var j=0;o=_.length-1;for(var Z,ee,te={};Z=_[j++];)CKEDITOR.dom.element.setMarker(te,Z,"delete_cell",!0);for(j=0;Z=_[j++];)if((ee=Z.getPrevious())&&!ee.getCustomData("delete_cell")||(ee=Z.getNext())&&!ee.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(te),o=ee;break e}CKEDITOR.dom.element.clearAllMarkers(te),(j=(j=_[0].getParent()).getPrevious())?o=j.getLast():o=(j=(j=_[o].getParent()).getNext())?j.getChild(0):null}for(i.reset(),i=_.length-1;0<=i;i--)z(_[i]);o?p(o,!0):$&&(s[0].moveToPosition($,CKEDITOR.POSITION_BEFORE_START),s[0].select(),$.remove())}else i instanceof CKEDITOR.dom.element&&(1==(s=i.getParent()).getChildCount()?s.remove():i.remove())}function p(i,o){var s=i.getDocument(),_=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(_.focus(),s.focus()),(s=new CKEDITOR.dom.range(s))["moveToElementEdit"+(o?"End":"Start")](i)||(s.selectNodeContents(i),s.collapse(!o)),s.select(!0)}function A(i,o,s){if(i=i[o],void 0===s)return i;for(o=0;i&&o<i.length;o++){if(s.is&&i[o]==s.$)return o;if(o==s)return new CKEDITOR.dom.element(i[o])}return s.is?-1:null}function x(i,o,s){var _,$=q(i);if((o?1!=$.length:2>$.length)||(_=i.getCommonAncestor())&&_.type==CKEDITOR.NODE_ELEMENT&&_.is("table"))return!1;_=(i=$[0]).getAscendant("table");var j,Z=CKEDITOR.tools.buildTableMap(_),ee=Z.length,te=Z[0].length,ne=i.getParent().$.rowIndex,ie=A(Z,ne,i);if(o){var oe;try{var ae=parseInt(i.getAttribute("rowspan"),10)||1;j=parseInt(i.getAttribute("colspan"),10)||1,oe=Z["up"==o?ne-ae:"down"==o?ne+ae:ne]["left"==o?ie-j:"right"==o?ie+j:ie]}catch(i){return!1}if(!oe||i.$==oe)return!1;$["up"==o||"left"==o?"unshift":"push"](new CKEDITOR.dom.element(oe))}o=i.getDocument();var re=ne,se=(ae=oe=0,!s&&new CKEDITOR.dom.documentFragment(o)),le=0;for(o=0;o<$.length;o++){var ce=(j=$[o]).getParent(),de=j.getFirst(),ue=j.$.colSpan,he=j.$.rowSpan,fe=A(Z,ce=ce.$.rowIndex,j);le=le+ue*he,ae=Math.max(ae,fe-ie+ue);oe=Math.max(oe,ce-ne+he),s||((he=(ue=j).getBogus())&&he.remove(),ue.trim(),j.getChildren().count()&&(ce==re||!de||de.isBlockBoundary&&de.isBlockBoundary({br:1})||(!(re=se.getLast(CKEDITOR.dom.walker.whitespaces(!0)))||re.is&&re.is("br")||se.append("br")),j.moveChildren(se)),o?j.remove():j.setHtml("")),re=ce}if(s)return oe*ae==le;for(se.moveChildren(i),i.appendBogus(),ae>=te?i.removeAttribute("rowSpan"):i.$.rowSpan=oe,oe>=ee?i.removeAttribute("colSpan"):i.$.colSpan=ae,o=($=(s=new CKEDITOR.dom.nodeList(_.$.rows)).count())-1;0<=o;o--)(_=s.getItem(o)).$.cells.length||(_.remove(),$++);return i}function C(i,o){if(1<(s=q(i)).length)return!1;if(o)return!0;var s,_,$=(te=(s=s[0]).getParent()).getAscendant("table"),j=A(ne=CKEDITOR.tools.buildTableMap($),ie=te.$.rowIndex,s);if(1<(ee=s.$.rowSpan)){_=Math.ceil(ee/2);for(var Z,ee=Math.floor(ee/2),te=ie+_,ne=($=new CKEDITOR.dom.element($.$.rows[te]),A(ne,te)),ie=(te=s.clone(),0);ie<ne.length;ie++){if((Z=ne[ie]).parentNode==$.$&&ie>j){te.insertBefore(new CKEDITOR.dom.element(Z));break}Z=null}Z||$.append(te)}else for(ee=_=1,($=te.clone()).insertAfter(te),$.append(te=s.clone()),Z=A(ne,ie),j=0;j<Z.length;j++)Z[j].rowSpan++;return te.appendBogus(),s.$.rowSpan=_,te.$.rowSpan=ee,1==_&&s.removeAttribute("rowSpan"),1==ee&&te.removeAttribute("rowSpan"),te}function E(i,o){if(1<(s=q(i)).length)return!1;if(o)return!0;var s,_=(s=s[0]).getParent(),$=_.getAscendant("table"),j=A($=CKEDITOR.tools.buildTableMap($),_.$.rowIndex,s);if(1<(Z=s.$.colSpan))_=Math.ceil(Z/2),Z=Math.floor(Z/2);else{for(var Z=_=1,ee=[],te=0;te<$.length;te++){var ne=$[te];ee.push(ne[j]),1<ne[j].rowSpan&&(te+=ne[j].rowSpan-1)}for($=0;$<ee.length;$++)ee[$].colSpan++}return($=s.clone()).insertAfter(s),$.appendBogus(),s.$.colSpan=_,$.$.colSpan=Z,1==_&&s.removeAttribute("colSpan"),1==Z&&$.removeAttribute("colSpan"),$}var i=CKEDITOR.tools.isArray;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(i){function f(i){return CKEDITOR.tools.extend(i||{},{contextSensitive:1,refresh:function(i,o){this.setState(o.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function b(o,s){var _=i.addCommand(o,s);i.addFeature(_)}var o=i.lang.table,s=CKEDITOR.tools.style.parse,_="td{width} td{height} td{border-color} td{background-color} td{white-space} td{vertical-align} td{text-align} td[colspan] td[rowspan] th".split(" ");b("cellProperties",new CKEDITOR.dialogCommand("cellProperties",f({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:_,contentTransformations:[[{element:"td",left:function(i){return i.styles.background&&s.background(i.styles.background).color},right:function(i){i.styles["background-color"]=s.background(i.styles.background).color}},{element:"td",check:"td{vertical-align}",left:function(i){return i.attributes&&i.attributes.valign},right:function(i){i.styles["vertical-align"]=i.attributes.valign,delete i.attributes.valign}}],[{element:"tr",check:"td{height}",left:function(i){return i.styles&&i.styles.height},right:function(i){CKEDITOR.tools.array.forEach(i.children,(function(o){o.name in{td:1,th:1}&&(o.attributes["cke-row-height"]=i.styles.height)})),delete i.styles.height}}],[{element:"td",check:"td{height}",left:function(i){return(i=i.attributes)&&i["cke-row-height"]},right:function(i){i.styles.height=i.attributes["cke-row-height"],delete i.attributes["cke-row-height"]}}]]}))),CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js"),b("rowDelete",f({requiredContent:"table",exec:function(i){(i=B(i=i.getSelection()))&&p(i)}})),b("rowInsertBefore",f({requiredContent:"table",exec:function(i){r(i=q(i=i.getSelection()),!0)}})),b("rowInsertAfter",f({requiredContent:"table",exec:function(i){r(i=q(i=i.getSelection()))}})),b("columnDelete",f({requiredContent:"table",exec:function(i){(i=function(i){CKEDITOR.env.webkit&&!i.isFake&&(i=function(i){var o,s,_=i.getRanges();if(1!==_.length)return i;if((_=_[0]).collapsed||0!==_.endOffset)return i;if("td"!==(s=(o=_.endContainer).getName().toLowerCase())&&"th"!==s)return i;for((s=o.getPrevious())||(s=o.getParent().getPrevious().getLast());s.type!==CKEDITOR.NODE_TEXT&&"br"!==s.getName().toLowerCase();)if(!(s=s.getLast()))return i;return _.setEndAt(s,CKEDITOR.POSITION_BEFORE_END),_.select()}(i));var o,s,_=i.getRanges(),$=(Z=q(i))[0],j=Z[Z.length-1],Z=$.getAscendant("table"),ee=CKEDITOR.tools.buildTableMap(Z),te=[];i.reset();var ne=0;for(i=ee.length;ne<i;ne++)for(var ie=0,oe=ee[ne].length;ie<oe;ie++)void 0===o&&ee[ne][ie]==$.$&&(o=ie),ee[ne][ie]==j.$&&(s=ie);for(ne=o;ne<=s;ne++)for(ie=0;ie<ee.length;ie++)j=ee[ie],$=new CKEDITOR.dom.element(Z.$.rows[ie]),(j=new CKEDITOR.dom.element(j[ne])).$&&(1==j.$.colSpan?j.remove():--j.$.colSpan,ie+=j.$.rowSpan-1,$.$.cells.length||te.push($));return o=ee[0].length-1>s?new CKEDITOR.dom.element(ee[0][s+1]):o&&-1!==ee[0][o-1].cellIndex?new CKEDITOR.dom.element(ee[0][o-1]):new CKEDITOR.dom.element(Z.$.parentNode),te.length==i&&(_[0].moveToPosition(Z,CKEDITOR.POSITION_AFTER_END),_[0].select(),Z.remove()),o}(i=i.getSelection()))&&p(i,!0)}})),b("columnInsertBefore",f({requiredContent:"table",exec:function(i){u(i=q(i=i.getSelection()),!0)}})),b("columnInsertAfter",f({requiredContent:"table",exec:function(i){u(i=q(i=i.getSelection()))}})),b("cellDelete",f({requiredContent:"table",exec:function(i){z(i=i.getSelection())}})),b("cellMerge",f({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(i,o){o.cell=x(i.getSelection()),p(o.cell,!0)}})),b("cellMergeRight",f({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(i,o){o.cell=x(i.getSelection(),"right"),p(o.cell,!0)}})),b("cellMergeDown",f({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(i,o){o.cell=x(i.getSelection(),"down"),p(o.cell,!0)}})),b("cellVerticalSplit",f({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(i){p(E(i.getSelection()))}})),b("cellHorizontalSplit",f({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(i){p(C(i.getSelection()))}})),b("cellInsertBefore",f({requiredContent:"table",exec:function(i){t(i=i.getSelection(),!0)}})),b("cellInsertAfter",f({requiredContent:"table",exec:function(i){t(i=i.getSelection())}})),i.addMenuItems&&i.addMenuItems({tablecell:{label:o.cell.menu,group:"tablecell",order:1,getItems:function(){var o=q(s=i.getSelection()),s={tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:x(s,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:x(s,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:x(s,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:E(s,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:C(s,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};return i.filter.check(_)&&(s.tablecell_properties=0<o.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),s}},tablecell_insertBefore:{label:o.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:o.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:o.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:o.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:o.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:o.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:o.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:o.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:o.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:o.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:o.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:o.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:o.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:o.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:o.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:o.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:o.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}}),i.contextMenu&&i.contextMenu.addListener((function(i,o,s){return(i=s.contains({td:1,th:1},1))&&!i.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null}))},getCellColIndex:v,insertRow:r,insertColumn:u,getSelectedCells:q},CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(i,o,s,_,$){i=i.$.rows,s=s||0,_="number"==typeof _?_:i.length-1,$="number"==typeof $?$:-1;var j=-1,Z=[];for(o=o||0;o<=_;o++){!Z[++j]&&(Z[j]=[]);for(var ee=-1,te=s;te<=(-1===$?i[o].cells.length-1:$);te++){if(!(ie=i[o].cells[te]))break;for(ee++;Z[j][ee];)ee++;for(var ne=isNaN(ie.colSpan)?1:ie.colSpan,ie=isNaN(ie.rowSpan)?1:ie.rowSpan,oe=0;oe<ie&&!(o+oe>_);oe++){Z[j+oe]||(Z[j+oe]=[]);for(var ae=0;ae<ne;ae++)Z[j+oe][ee+ae]=i[o].cells[te]}if(ee+=ne-1,-1!==$&&ee>=$)break}}return Z},CKEDITOR.config.tabletools_scopedHeaders=!1,function(){function D(i){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(i)}function z(i,o){var s,_,$=i.getAscendant("table"),j=o.getAscendant("table"),Z=CKEDITOR.tools.buildTableMap($),ee=r(i),te=r(o),ne=[],ie={};for($.contains(j)&&(te=r(o=o.getAscendant({td:1,th:1}))),ee>te&&($=ee,ee=te,te=$,$=i,i=o,o=$),$=0;$<Z[ee].length;$++)if(i.$===Z[ee][$]){s=$;break}for($=0;$<Z[te].length;$++)if(o.$===Z[te][$]){_=$;break}for(s>_&&($=s,s=_,_=$),$=ee;$<=te;$++)for(ee=s;ee<=_;ee++)(j=new CKEDITOR.dom.element(Z[$][ee])).$&&!j.getCustomData("selected_cell")&&(ne.push(j),CKEDITOR.dom.element.setMarker(ie,j,"selected_cell",!0));return CKEDITOR.dom.element.clearAllMarkers(ie),ne}function A(i,o){var s,_=i.editable().find(".cke_table-faked-selection"),$=i.editable().findOne("[data-cke-table-faked-selection-table]");for(i.fire("lockSnapshot"),i.editable().removeClass("cke_table-faked-selection-editor"),s=0;s<_.count();s++)_.getItem(s).removeClass("cke_table-faked-selection");$&&$.data("cke-table-faked-selection-table",!1),i.fire("unlockSnapshot"),o&&(j={active:!1},i.getSelection().isInTable()&&i.getSelection().reset())}function t(i,o){var s,_,$=[];for(_=0;_<o.length;_++)(s=i.createRange()).setStartBefore(o[_]),s.setEndAfter(o[_]),$.push(s);i.getSelection().selectRanges($)}function E(i){var o=i.editable().find(".cke_table-faked-selection");1>o.count()||t(i,o=z(o.getItem(0),o.getItem(o.count()-1)))}function L(i){var s,_=(i=i.editor||i.sender.editor)&&i.getSelection(),$=_&&_.getRanges()||[],j=(j=$&&$[0].getEnclosedNode())&&j.type==CKEDITOR.NODE_ELEMENT&&j.is("img");if(_&&(A(i),_.isInTable()&&_.isFake))if(j)i.getSelection().reset();else if(!$[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored")){for(1===$.length&&$[0]._getTableElement()&&$[0]._getTableElement().is("table")&&(s=$[0]._getTableElement()),s=o(_,s),i.fire("lockSnapshot"),_=0;_<s.length;_++)s[_].addClass("cke_table-faked-selection");0<s.length&&(i.editable().addClass("cke_table-faked-selection-editor"),s[0].getAscendant("table").data("cke-table-faked-selection-table","")),i.fire("unlockSnapshot")}}function r(i){return i.getAscendant("tr",!0).$.rowIndex}function w(i){function c(i){return!i.getAscendant("table",!0)&&i.getDocument().equals(s.document)}if(i.data.getTarget().getName&&("mouseup"===i.name||!D(i.data.getTarget()))){var s=i.editor||i.listenerData.editor,_=s.getSelection(1),$=function(i){return(i=i.editable().findOne(".cke_table-faked-selection"))&&i.getAscendant("table")}(s),Z=(ee=i.data.getTarget())&&ee.getAscendant({td:1,th:1},!0),ee=ee&&ee.getAscendant("table",!0),te={table:1,thead:1,tbody:1,tfoot:1,tr:1,td:1,th:1};ee&&ee.hasAttribute("data-cke-tableselection-ignored")||(function(i,o,s,_){return!("mousedown"!==i.name||CKEDITOR.tools.getMouseButton(i)!==CKEDITOR.MOUSE_BUTTON_LEFT&&_)||((o=i.name===(CKEDITOR.env.gecko?"mousedown":"mouseup")&&!c(i.data.getTarget()))&&(o=!((i=i.data.getTarget().getAscendant({td:1,th:1},!0))&&i.hasClass("cke_table-faked-selection"))),o)}(i,_,0,ee)&&A(s,!0),!j.active&&"mousedown"===i.name&&CKEDITOR.tools.getMouseButton(i)===CKEDITOR.MOUSE_BUTTON_LEFT&&ee&&(j={active:!0},CKEDITOR.document.on("mouseup",w,null,{editor:s})),(Z||ee)&&function(i,s,_){var $,Z=o(i.getSelection(!0));if(s=s.is("table")?null:s,($=j.active&&!j.first)&&!($=s)&&($=i.getSelection().getRanges(),$=!!(1<Z.length||$[0]&&!$[0].collapsed)),$)j.first=s||Z[0],j.dirty=!s&&1!==Z.length;else if(j.active&&s&&j.first.getAscendant("table").equals(s.getAscendant("table"))){if(Z=z(j.first,s),!j.dirty&&1===Z.length&&!D(_.data.getTarget()))return A(i,"mouseup"===_.name);j.dirty=!0,j.last=s,t(i,Z)}}(s,Z||ee,i),"mouseup"===i.name&&(CKEDITOR.tools.getMouseButton(i)===CKEDITOR.MOUSE_BUTTON_LEFT&&(c(i.data.getTarget())||function(i,o){return!(!i||!o)&&(i.equals(o)||i.contains(o)||o.contains(i)||i.getCommonAncestor(o).is(te))}($,ee))&&E(s),j={active:!1},CKEDITOR.document.removeListener("mouseup",w)))}}function M(i){var o=i.data.getTarget().getAscendant("table",!0);j.active=!1,o&&o.hasAttribute("data-cke-tableselection-ignored")||(!(i=i.data.getTarget().getAscendant({td:1,th:1},!0))||i.hasClass("cke_table-faked-selection"))}function F(i){var o=i.editor||i.sender.editor,s=o.getSelection();s.isInTable()&&(s.getRanges()[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored")||function(i,o){var s,_,$,j,Z=i.getSelection(),ee=Z.createBookmarks(),te=i.document,ne=i.createRange(),ie=te.getDocumentElement().$,oe=CKEDITOR.env.ie&&9>CKEDITOR.env.version,ae=i.blockless||CKEDITOR.env.ie?"span":"div";te.getById("cke_table_copybin")||(s=te.createElement(ae),(_=te.createElement(ae)).setAttributes({id:"cke_table_copybin","data-cke-temp":"1"}),s.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),s.setStyle("ltr"==i.config.contentsLangDirection?"left":"right","-5000px"),s.setHtml(i.getSelectedHtml(!0)),i.fire("lockSnapshot"),_.append(s),i.editable().append(_),j=i.on("selectionChange",(function(i){i.cancel()}),null,null,0),oe&&($=ie.scrollTop),ne.selectNodeContents(s),ne.select(),oe&&(ie.scrollTop=$),setTimeout((function(){_.remove(),Z.selectBookmarks(ee),j.removeListener(),i.fire("unlockSnapshot"),o&&(i.extractSelectedHtml(),i.fire("saveSnapshot"))}),100))}(o,"cut"===i.name))}function q(i){this._reset(),i&&this.setSelectedCells(i)}function B(i,s,_){i.on("beforeCommandExec",(function(_){-1!==CKEDITOR.tools.array.indexOf(s,_.data.name)&&(_.data.selectedCells=o(i.getSelection()))})),i.on("afterCommandExec",(function(o){-1!==CKEDITOR.tools.array.indexOf(s,o.data.name)&&_(i,o.data)}),null,null,9)}var i,o,s,_,$,j={active:!1};q.prototype={},q.prototype._reset=function(){this.cells={first:null,last:null,all:[]},this.rows={first:null,last:null}},q.prototype.setSelectedCells=function(i){this._reset(),i=i.slice(0),this._arraySortByDOMOrder(i),this.cells.all=i,this.cells.first=i[0],this.cells.last=i[i.length-1],this.rows.first=i[0].getAscendant("tr"),this.rows.last=this.cells.last.getAscendant("tr")},q.prototype.getTableMap=function(){var i,o=s(this.cells.first);e:{var _,$=(i=this.cells.last).getAscendant("table"),j=r(i);$=CKEDITOR.tools.buildTableMap($);for(_=0;_<$[j].length;_++)if(new CKEDITOR.dom.element($[j][_]).equals(i)){i=_;break e}i=void 0}return CKEDITOR.tools.buildTableMap(this._getTable(),r(this.rows.first),o,r(this.rows.last),i)},q.prototype._getTable=function(){return this.rows.first.getAscendant("table")},q.prototype.insertRow=function(i,o,s){if(void 0===i)i=1;else if(0>=i)return;for(var $,j=this.cells.first.$.cellIndex,Z=this.cells.last.$.cellIndex,ee=s?[]:this.cells.all,te=0;te<i;te++)$=_(s?this.cells.all:ee,o),$=CKEDITOR.tools.array.filter($.find("td, th").toArray(),(function(i){return!!s||i.$.cellIndex>=j&&i.$.cellIndex<=Z})),ee=o?$.concat(ee):ee.concat($);this.setSelectedCells(ee)},q.prototype.insertColumn=function(i){function b(i){return(i=r(i))>=s&&i<=_}if(void 0===i)i=1;else if(0>=i)return;for(var o=(j=this.cells).all,s=r(j.first),_=r(j.last),j=0;j<i;j++)o=o.concat(CKEDITOR.tools.array.filter($(o),b));this.setSelectedCells(o)},q.prototype.emptyCells=function(i){i=i||this.cells.all;for(var o=0;o<i.length;o++)i[o].setHtml("")},q.prototype._arraySortByDOMOrder=function(i){i.sort((function(i,o){return i.getPosition(o)&CKEDITOR.POSITION_PRECEDING?-1:1}))};var Z={onPaste:function(i){function c(i){return Math.max.apply(null,CKEDITOR.tools.array.map(i,(function(i){return i.length}),0))}var s,_,$=i.editor,j=$.getSelection(),Z=o(j),ee=j.isInTable(!0)&&this.isBoundarySelection(j),te=this.findTableInPastedContent($,i.data.dataValue);(function(i,o,s,_){var $=(i=i.getRanges()).length&&i[0]._getTableElement({table:1});return!(!o.length||$&&$.hasAttribute("data-cke-tableselection-ignored")||_&&!s)&&((o=!_)&&((o=i[0])?((o=o.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),o=(o=o.getEnclosedNode())&&o.is&&o.is(CKEDITOR.dtd.$tableContent)):o=void 0,o=!o),!o)})(j,Z,te,ee)&&"drop"!==i.data.method&&(Z=Z[0].getAscendant("table"),s=new q(o(j,Z)),$.once("afterPaste",(function(){var i;if(_){i=new CKEDITOR.dom.element(_[0][0]);var o=_[_.length-1];i=z(i,new CKEDITOR.dom.element(o[o.length-1]))}else i=s.cells.all;t($,i)})),te?(i.stop(),ee?(s.insertRow(1,1===ee,!0),j.selectElement(s.rows.first)):(s.emptyCells(),t($,s.cells.all)),i=s.getTableMap(),_=CKEDITOR.tools.buildTableMap(te),s.insertRow(_.length-i.length),s.insertColumn(c(_)-c(i)),i=s.getTableMap(),this.pasteTable(s,i,_),$.fire("saveSnapshot"),setTimeout((function(){$.fire("afterPaste")}),0)):(function(i){var o=$.createRange();o.selectNodeContents(i),o.select()}(s.cells.first),$.once("afterPaste",(function(){$.fire("lockSnapshot"),s.emptyCells(s.cells.all.slice(1)),t($,s.cells.all),$.fire("unlockSnapshot")}))))},isBoundarySelection:function(i){var o=(i=i.getRanges()[0]).endContainer.getAscendant("tr",!0);if(o&&i.collapsed){if(i.checkBoundaryOfElement(o,CKEDITOR.START))return 1;if(i.checkBoundaryOfElement(o,CKEDITOR.END))return 2}return 0},findTableInPastedContent:function(i,o){var s=i.dataProcessor,_=new CKEDITOR.dom.element("body");return s||(s=new CKEDITOR.htmlDataProcessor(i)),_.setHtml(s.toHtml(o),{fixForBody:!1}),1<_.getChildCount()?null:_.findOne("table")},pasteTable:function(i,o,_){var $,j,Z,ee,te,ne=s(i.cells.first),ie=i._getTable(),oe={};for(ee=0;ee<_.length;ee++)for(j=new CKEDITOR.dom.element(ie.$.rows[i.rows.first.$.rowIndex+ee]),te=0;te<_[ee].length;te++)Z=new CKEDITOR.dom.element(_[ee][te]),$=o[ee]&&o[ee][te]?new CKEDITOR.dom.element(o[ee][te]):null,Z&&!Z.getCustomData("processed")?($&&$.getParent()?Z.replace($):(0===te||_[ee][te-1])&&(($=0!==te?new CKEDITOR.dom.element(_[ee][te-1]):null)&&j.equals($.getParent())?Z.insertAfter($):0<ne?j.$.cells[ne]?Z.insertAfter(new CKEDITOR.dom.element(j.$.cells[ne])):j.append(Z):j.append(Z,!0)),CKEDITOR.dom.element.setMarker(oe,Z,"processed",!0)):Z.getCustomData("processed")&&$&&$.remove();CKEDITOR.dom.element.clearAllMarkers(oe)}};CKEDITOR.plugins.tableselection={getCellsBetween:z,keyboardIntegration:function(i){function b(i){var o=i.getEnclosedNode();o&&"function"==typeof o.is&&o.is({td:1,th:1})?o.setText(""):i.deleteContents(),CKEDITOR.tools.array.forEach(i._find("td"),(function(i){i.appendBogus()}))}var o=i.editable();o.attachListener(o,"keydown",function(i){function c(o,_){if(!_.length)return null;var $=i.createRange(),j=CKEDITOR.dom.range.mergeRanges(_);CKEDITOR.tools.array.forEach(j,(function(i){i.enlarge(CKEDITOR.ENLARGE_ELEMENT)}));var Z=(ee=j[0].getBoundaryNodes()).startNode,ee=ee.endNode;if(Z&&Z.is&&Z.is(s)){for(var te=Z.getAscendant("table",!0),ne=Z.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,te),ie=!1,t=function(i){return!Z.contains(i)&&i.is&&i.is("td","th")};ne&&!t(ne);)ne=ne.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,te);return!ne&&ee&&ee.is&&!ee.is("table")&&ee.getNext()&&(ne=ee.getNext().findOne("td, th"),ie=!0),ne?$["moveToElementEdit"+(ie?"Start":"End")](ne):($.setStartBefore(Z.getAscendant("table",!0)),$.collapse(!0)),j[0].deleteContents(),[$]}return Z?($.moveToElementEditablePosition(Z),[$]):void 0}var o={37:1,38:1,39:1,40:1,8:1,46:1,13:1},s=CKEDITOR.tools.extend({table:1},CKEDITOR.dtd.$tableContent);return delete s.td,delete s.th,function(s){var _,$,j,Z,ee=s.data.getKey(),te=s.data.getKeystroke(),ne=37===ee||38==ee;if(o[ee]&&!i.readOnly&&(_=i.getSelection())&&_.isInTable()&&_.isFake)if(j=($=_.getRanges())[0]._getTableElement(),Z=$[$.length-1]._getTableElement(),(13!==ee||i.plugins.enterkey)&&(s.data.preventDefault(),s.cancel()),36<ee&&41>ee)$[0].moveToElementEditablePosition(ne?j:Z,!ne),_.selectRanges([$[0]]);else if(13!==ee||13===te||te===CKEDITOR.SHIFT+13){for(s=0;s<$.length;s++)b($[s]);(s=c(0,$))?$=s:$[0].moveToElementEditablePosition(j),_.selectRanges($),13===ee&&i.plugins.enterkey?(i.fire("lockSnapshot"),13===te?i.execCommand("enter"):i.execCommand("shiftEnter"),i.fire("unlockSnapshot"),i.fire("saveSnapshot")):13!==ee&&i.fire("saveSnapshot")}}}(i),null,null,-1),o.attachListener(o,"keypress",(function(o){var s,_=i.getSelection(),$=o.data.$.charCode||13===o.data.getKey();if(!i.readOnly&&_&&_.isInTable()&&_.isFake&&$&&!(o.data.getKeystroke()&CKEDITOR.CTRL)){for($=(o=_.getRanges())[0].getEnclosedNode().getAscendant({td:1,th:1},!0),s=0;s<o.length;s++)b(o[s]);$&&(o[0].moveToElementEditablePosition($),_.selectRanges([o[0]]))}}),null,null,-1),o.attachListener(o,"keyup",function(i){return function(o){o=o.data.getKey();var s=i.getSelection();9===o&&s.isInTable()&&E(i)}}(i),null,null,-1)}},CKEDITOR.plugins.add("tableselection",{requires:"clipboard,tabletools",isSupportedEnvironment:function(){return!(CKEDITOR.env.ie&&11>CKEDITOR.env.version)},onLoad:function(){i=CKEDITOR.plugins.tabletools,o=i.getSelectedCells,s=i.getCellColIndex,_=i.insertRow,$=i.insertColumn,CKEDITOR.document.appendStyleSheet(this.path+"styles/tableselection.css")},init:function(i){this.isSupportedEnvironment()&&(i.addContentsCss&&i.addContentsCss(this.path+"styles/tableselection.css"),i.on("contentDom",(function(){var o=i.editable(),s=o.isInline()?o:i.document,_={editor:i};o.attachListener(s,"mousedown",w,null,_),o.attachListener(s,"mousemove",w,null,_),o.attachListener(s,"mouseup",w,null,_),o.attachListener(o,"dragstart",M),o.attachListener(i,"selectionCheck",L),CKEDITOR.plugins.tableselection.keyboardIntegration(i),CKEDITOR.plugins.clipboard&&!CKEDITOR.plugins.clipboard.isCustomCopyCutSupported&&(o.attachListener(o,"cut",F),o.attachListener(o,"copy",F))})),i.on("paste",Z.onPaste,Z),B(i,"rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter".split(" "),(function(i,o){t(i,o.selectedCells)})),B(i,["cellMerge","cellMergeRight","cellMergeDown"],(function(i,o){t(i,[o.commandData.cell])})),B(i,["cellDelete"],(function(i){A(i,!0)})))}})}(),function(){var i=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],o={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(o){function b(i){_.enabled&&!1!==i.data.command.canUndo&&_.save()}function c(){_.enabled=!o.readOnly&&"wysiwyg"==o.mode,_.onChange()}var _=o.undoManager=new s(o),$=_.editingHandler=new j(_),Z=o.addCommand("undo",{exec:function(){_.undo()&&(o.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),ee=o.addCommand("redo",{exec:function(){_.redo()&&(o.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});o.setKeystroke([[i[0],"undo"],[i[1],"redo"],[i[2],"redo"]]),_.onChange=function(){Z.setState(_.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),ee.setState(_.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},o.on("beforeCommandExec",b),o.on("afterCommandExec",b),o.on("saveSnapshot",(function(i){_.save(i.data&&i.data.contentOnly)})),o.on("contentDom",$.attachListeners,$),o.on("instanceReady",(function(){o.fire("saveSnapshot")})),o.on("beforeModeUnload",(function(){"wysiwyg"==o.mode&&_.save(!0)})),o.on("mode",c),o.on("readOnly",c),o.ui.addButton&&(o.ui.addButton("Undo",{label:o.lang.undo.undo,command:"undo",toolbar:"undo,10"}),o.ui.addButton("Redo",{label:o.lang.undo.redo,command:"redo",toolbar:"undo,20"})),o.resetUndo=function(){_.reset(),o.fire("saveSnapshot")},o.on("updateSnapshot",(function(){_.currentImage&&_.update()})),o.on("lockSnapshot",(function(i){i=i.data,_.lock(i&&i.dontUpdate,i&&i.forceUpdate)})),o.on("unlockSnapshot",_.unlock,_)}}),CKEDITOR.plugins.undo={};var s=CKEDITOR.plugins.undo.UndoManager=function(i){this.strokesRecorded=[0,0],this.locked=null,this.previousKeyGroup=-1,this.limit=i.config.undoStackSize||20,this.strokesLimit=25,this._filterRules=[],this.editor=i,this.reset(),CKEDITOR.env.ie&&this.addFilterRule((function(i){return i.replace(/\s+data-cke-expando=".*?"/g,"")}))};s.prototype={type:function(i,o){var _=s.getKeyGroup(i),$=this.strokesRecorded[_]+1;o=o||$>=this.strokesLimit,this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange()),o?($=0,this.editor.fire("saveSnapshot")):this.editor.fire("change"),this.strokesRecorded[_]=$,this.previousKeyGroup=_},keyGroupChanged:function(i){return s.getKeyGroup(i)!=this.previousKeyGroup},reset:function(){this.snapshots=[],this.index=-1,this.currentImage=null,this.hasRedo=this.hasUndo=!1,this.locked=null,this.resetType()},resetType:function(){this.strokesRecorded=[0,0],this.typing=!1,this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0),this.hasRedo=!!this.getNextImage(!1),this.resetType(),this.onChange()},save:function(i,o,s){var $=this.editor;if(this.locked||"ready"!=$.status||"wysiwyg"!=$.mode)return!1;var j=$.editable();if(!j||"ready"!=j.status)return!1;if(j=this.snapshots,o||(o=new _($)),!1===o.contents)return!1;if(this.currentImage)if(o.equalsContent(this.currentImage)){if(i||o.equalsSelection(this.currentImage))return!1}else!1!==s&&$.fire("change");return j.splice(this.index+1,j.length-this.index-1),j.length==this.limit&&j.shift(),this.index=j.push(o)-1,this.currentImage=o,!1!==s&&this.refreshState(),!0},restoreImage:function(i){var o,s=this.editor;i.bookmarks&&(s.focus(),o=s.getSelection()),this.locked={level:999},this.editor.loadSnapshot(i.contents),i.bookmarks?o.selectBookmarks(i.bookmarks):CKEDITOR.env.ie&&((o=this.editor.document.getBody().$.createTextRange()).collapse(!0),o.select()),this.locked=null,this.index=i.index,this.currentImage=this.snapshots[this.index],this.update(),this.refreshState(),s.fire("change")},getNextImage:function(i){var o,s=this.snapshots,_=this.currentImage;if(_)if(i){for(o=this.index-1;0<=o;o--)if(i=s[o],!_.equalsContent(i))return i.index=o,i}else for(o=this.index+1;o<s.length;o++)if(i=s[o],!_.equalsContent(i))return i.index=o,i;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var i=this.getNextImage(!0);if(i)return this.restoreImage(i),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var i=this.getNextImage(!1);if(i)return this.restoreImage(i),!0}return!1},update:function(i){if(!this.locked){i||(i=new _(this.editor));for(var o=this.index,s=this.snapshots;0<o&&this.currentImage.equalsContent(s[o-1]);)--o;s.splice(o,this.index-o+1,i),this.index=o,this.currentImage=i}},updateSelection:function(i){if(!this.snapshots.length)return!1;var o=this.snapshots,s=o[o.length-1];return!(!s.equalsContent(i)||s.equalsSelection(i))&&(this.currentImage=o[o.length-1]=i,!0)},lock:function(i,o){if(this.locked)this.locked.level++;else if(i)this.locked={level:1};else{var s=null;if(o)s=!0;else{var $=new _(this.editor,!0);this.currentImage&&this.currentImage.equalsContent($)&&(s=$)}this.locked={update:s,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var i=this.locked.update;if(this.locked=null,!0===i)this.update();else if(i){var o=new _(this.editor,!0);i.equalsContent(o)||this.update()}}},addFilterRule:function(i){this._filterRules.push(i)}},s.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1},s.keyGroups={PRINTABLE:0,FUNCTIONAL:1},s.isNavigationKey=function(i){return!!s.navigationKeyCodes[i]},s.getKeyGroup=function(i){var _=s.keyGroups;return o[i]?_.FUNCTIONAL:_.PRINTABLE},s.getOppositeKeyGroup=function(i){var o=s.keyGroups;return i==o.FUNCTIONAL?o.PRINTABLE:o.FUNCTIONAL},s.ieFunctionalKeysBug=function(i){return CKEDITOR.env.ie&&s.getKeyGroup(i)==s.keyGroups.FUNCTIONAL};var _=CKEDITOR.plugins.undo.Image=function(i,o){this.editor=i,i.fire("beforeUndoImage");var s=i.getSnapshot();s&&(this.contents=function(i,o){return CKEDITOR.tools.array.reduce(o,(function(i,o){return o(i)}),i)}(s,i.undoManager._filterRules)),o||(this.bookmarks=(s=s&&i.getSelection())&&s.createBookmarks2(!0)),i.fire("afterUndoImage")},$=/\b(?:href|src|name)="[^"]*?"/gi;_.prototype={equalsContent:function(i){var o=this.contents;return i=i.contents,CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(o=o.replace($,""),i=i.replace($,"")),o==i},equalsSelection:function(i){var o=this.bookmarks;if(i=i.bookmarks,o||i){if(!o||!i||o.length!=i.length)return!1;for(var s=0;s<o.length;s++){var _=o[s],$=i[s];if(_.startOffset!=$.startOffset||_.endOffset!=$.endOffset||!CKEDITOR.tools.arrayCompare(_.start,$.start)||!CKEDITOR.tools.arrayCompare(_.end,$.end))return!1}}return!0}};var j=CKEDITOR.plugins.undo.NativeEditingHandler=function(i){this.undoManager=i,this.ignoreInputEvent=!1,this.keyEventsStack=new Z,this.lastKeydownImage=null};j.prototype={onKeydown:function(o){var $=o.data.getKey();229!==$&&(-1<CKEDITOR.tools.indexOf(i,o.data.getKeystroke())?o.data.preventDefault():(this.keyEventsStack.cleanUp(o),o=this.undoManager,this.keyEventsStack.getLast($)||this.keyEventsStack.push($),this.lastKeydownImage=new _(o.editor),(s.isNavigationKey($)||this.undoManager.keyGroupChanged($))&&(o.strokesRecorded[0]||o.strokesRecorded[1])&&(o.save(!1,this.lastKeydownImage,!1),o.resetType())))},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var i=this.keyEventsStack.getLast();i||(i=this.keyEventsStack.push(0)),this.keyEventsStack.increment(i.keyCode),this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(i.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(i){var o=this.undoManager;i=i.data.getKey();var $=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(i),s.ieFunctionalKeysBug(i)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new _(o.editor,!0))||(0<$?o.type(i):s.isNavigationKey(i)&&this.onNavigationKey(!0))},onNavigationKey:function(i){var o=this.undoManager;!i&&o.save(!0,null,!1)||o.updateSelection(new _(o.editor)),o.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},activateInputEventListener:function(){this.ignoreInputEvent=!1},attachListeners:function(){var i=this.undoManager.editor,o=i.editable(),_=this;o.attachListener(o,"keydown",(function(i){_.onKeydown(i),s.ieFunctionalKeysBug(i.data.getKey())&&_.onInput()}),null,null,999),o.attachListener(o,CKEDITOR.env.ie?"keypress":"input",_.onInput,_,null,999),o.attachListener(o,"keyup",_.onKeyup,_,null,999),o.attachListener(o,"paste",_.ignoreInputEventListener,_,null,999),o.attachListener(o,"drop",_.ignoreInputEventListener,_,null,999),i.on("afterPaste",_.activateInputEventListener,_,null,999),o.attachListener(o.isInline()?o:i.document.getDocumentElement(),"click",(function(){_.onNavigationKey()}),null,null,999),o.attachListener(this.undoManager.editor,"blur",(function(){_.keyEventsStack.remove(9)}),null,null,999)}};var Z=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};Z.prototype={push:function(i){return i=this.stack.push({keyCode:i,inputs:0}),this.stack[i-1]},getLastIndex:function(i){if("number"!=typeof i)return this.stack.length-1;for(var o=this.stack.length;o--;)if(this.stack[o].keyCode==i)return o;return-1},getLast:function(i){return-1!=(i=this.getLastIndex(i))?this.stack[i]:null},increment:function(i){this.getLast(i).inputs++},remove:function(i){-1!=(i=this.getLastIndex(i))&&this.stack.splice(i,1)},resetInputs:function(i){if("number"==typeof i)this.getLast(i).inputs=0;else for(i=this.stack.length;i--;)this.stack[i].inputs=0},getTotalInputs:function(){for(var i=this.stack.length,o=0;i--;)o+=this.stack[i].inputs;return o},cleanUp:function(i){(i=i.data.$).ctrlKey||i.metaKey||this.remove(17),i.shiftKey||this.remove(16),i.altKey||this.remove(18)}}}(),function(){function m(i,o){CKEDITOR.tools.extend(this,{editor:i,editable:i.editable(),doc:i.document,win:i.window},o,!0),this.inline=this.editable.isInline(),this.inline||(this.frame=this.win.getFrame()),this.target=this[this.inline?"editable":"doc"]}function n(i,o){CKEDITOR.tools.extend(this,o,{editor:i},!0)}function p(s,_){var $=s.editable();CKEDITOR.tools.extend(this,{editor:s,editable:$,inline:$.isInline(),doc:s.document,win:s.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},_,!0),this.hidden={},this.visible={},this.inline||(this.frame=this.win.getFrame()),this.queryViewport();var j=CKEDITOR.tools.bind(this.queryViewport,this),Z=CKEDITOR.tools.bind(this.hideVisible,this),ee=CKEDITOR.tools.bind(this.removeAll,this);$.attachListener(this.winTop,"resize",j),$.attachListener(this.winTop,"scroll",j),$.attachListener(this.winTop,"resize",Z),$.attachListener(this.win,"scroll",Z),$.attachListener(this.inline?$:this.frame,"mouseout",(function(i){var o=i.data.$.clientX;i=i.data.$.clientY,this.queryViewport(),(o<=this.rect.left||o>=this.rect.right||i<=this.rect.top||i>=this.rect.bottom)&&this.hideVisible(),(0>=o||o>=this.winTopPane.width||0>=i||i>=this.winTopPane.height)&&this.hideVisible()}),this),$.attachListener(s,"resize",j),$.attachListener(s,"mode",ee),s.on("destroy",ee),this.lineTpl=new CKEDITOR.template('<div data-cke-lineutils-line="1" class="cke_reset_all" style="{lineStyle}"><span style="{tipLeftStyle}">&nbsp;</span><span style="{tipRightStyle}">&nbsp;</span></div>').output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},o,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},i,{left:"0px","border-left-color":"red","border-width":"6px 0 6px 6px"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},i,{right:"0px","border-right-color":"red","border-width":"6px 6px 6px 0"},this.tipCss,this.tipRightStyle,!0))})}function l(i){var o;return(o=i&&i.type==CKEDITOR.NODE_ELEMENT)&&(o=!(s[i.getComputedStyle("float")]||s[i.getAttribute("align")])),o&&!_[i.getComputedStyle("position")]}CKEDITOR.plugins.add("lineutils"),CKEDITOR.LINEUTILS_BEFORE=1,CKEDITOR.LINEUTILS_AFTER=2,CKEDITOR.LINEUTILS_INSIDE=4,m.prototype={start:function(i){var o,s,_,$,j=this,Z=this.editor,ee=this.doc,te=CKEDITOR.tools.eventsBuffer(50,(function(){Z.readOnly||"wysiwyg"!=Z.mode||(j.relations={},(s=ee.$.elementFromPoint(_,$))&&s.nodeType&&(o=new CKEDITOR.dom.element(s),j.traverseSearch(o),isNaN(_+$)||j.pixelSearch(o,_,$),i&&i(j.relations,_,$)))}));this.listener=this.editable.attachListener(this.target,"mousemove",(function(i){_=i.data.$.clientX,$=i.data.$.clientY,te.input()})),this.editable.attachListener(this.inline?this.editable:this.frame,"mouseout",(function(){te.reset()}))},stop:function(){this.listener&&this.listener.removeListener()},getRange:function(){var i={};return i[CKEDITOR.LINEUTILS_BEFORE]=CKEDITOR.POSITION_BEFORE_START,i[CKEDITOR.LINEUTILS_AFTER]=CKEDITOR.POSITION_AFTER_END,i[CKEDITOR.LINEUTILS_INSIDE]=CKEDITOR.POSITION_AFTER_START,function(o){var s=this.editor.createRange();return s.moveToPosition(this.relations[o.uid].element,i[o.type]),s}}(),store:function(){function a(i,o,s){var _=i.getUniqueId();_ in s?s[_].type|=o:s[_]={element:i,type:o}}return function(i,o){var s;o&CKEDITOR.LINEUTILS_AFTER&&l(s=i.getNext())&&s.isVisible()&&(a(s,CKEDITOR.LINEUTILS_BEFORE,this.relations),o^=CKEDITOR.LINEUTILS_AFTER),o&CKEDITOR.LINEUTILS_INSIDE&&l(s=i.getFirst())&&s.isVisible()&&(a(s,CKEDITOR.LINEUTILS_BEFORE,this.relations),o^=CKEDITOR.LINEUTILS_INSIDE),a(i,o,this.relations)}}(),traverseSearch:function(i){var o,s,_;do{if(!(_=i.$["data-cke-expando"])||!(_ in this.relations)){if(i.equals(this.editable))break;if(l(i))for(o in this.lookups)(s=this.lookups[o](i))&&this.store(i,s)}}while((!i||i.type!=CKEDITOR.NODE_ELEMENT||"true"!=i.getAttribute("contenteditable"))&&(i=i.getParent()))},pixelSearch:function(){function a(o,s,_,$,j){for(var Z,ee=0;j(_)&&(_+=$,25!=++ee);)if(Z=this.doc.$.elementFromPoint(s,_))if(Z==o)ee=0;else if(i(o,Z)&&(ee=0,l(Z=new CKEDITOR.dom.element(Z))))return Z}var i=CKEDITOR.env.ie||CKEDITOR.env.webkit?function(i,o){return i.contains(o)}:function(i,o){return!!(16&i.compareDocumentPosition(o))};return function(i,o,s){var _=this.win.getViewPaneSize().height,$=a.call(this,i.$,o,s,-1,(function(i){return 0<i}));if(o=a.call(this,i.$,o,s,1,(function(i){return i<_})),$)for(this.traverseSearch($);!$.getParent().equals(i);)$=$.getParent();if(o)for(this.traverseSearch(o);!o.getParent().equals(i);)o=o.getParent();for(;($||o)&&($&&($=$.getNext(l)),$&&!$.equals(o))&&(this.traverseSearch($),o&&(o=o.getPrevious(l)),o&&!o.equals($));)this.traverseSearch(o)}}(),greedySearch:function(){this.relations={};for(var i,o,s,_=this.editable.getElementsByTag("*"),$=0;i=_.getItem($++);)if(!i.equals(this.editable)&&i.type==CKEDITOR.NODE_ELEMENT&&(i.hasAttribute("contenteditable")||!i.isReadOnly())&&l(i)&&i.isVisible())for(s in this.lookups)(o=this.lookups[s](i))&&this.store(i,o);return this.relations}},n.prototype={locate:function(){function a(i,o){var s=i.element[o===CKEDITOR.LINEUTILS_BEFORE?"getPrevious":"getNext"]();return s&&l(s)?(i.siblingRect=s.getClientRect(),o==CKEDITOR.LINEUTILS_BEFORE?(i.siblingRect.bottom+i.elementRect.top)/2:(i.elementRect.bottom+i.siblingRect.top)/2):o==CKEDITOR.LINEUTILS_BEFORE?i.elementRect.top:i.elementRect.bottom}return function(i){var o;for(var s in this.locations={},i)(o=i[s]).elementRect=o.element.getClientRect(),o.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(s,CKEDITOR.LINEUTILS_BEFORE,a(o,CKEDITOR.LINEUTILS_BEFORE)),o.type&CKEDITOR.LINEUTILS_AFTER&&this.store(s,CKEDITOR.LINEUTILS_AFTER,a(o,CKEDITOR.LINEUTILS_AFTER)),o.type&CKEDITOR.LINEUTILS_INSIDE&&this.store(s,CKEDITOR.LINEUTILS_INSIDE,(o.elementRect.top+o.elementRect.bottom)/2);return this.locations}}(),sort:function(){var i,o,s,_;return function($,j){for(var Z in i=this.locations,o=[],i)for(var ee in i[Z])if(s=Math.abs($-i[Z][ee]),o.length){for(_=0;_<o.length;_++)if(s<o[_].dist){o.splice(_,0,{uid:+Z,type:ee,dist:s});break}_==o.length&&o.push({uid:+Z,type:ee,dist:s})}else o.push({uid:+Z,type:ee,dist:s});return void 0!==j?o.slice(0,j):o}}(),store:function(i,o,s){this.locations[i]||(this.locations[i]={}),this.locations[i][o]=s}};var i={display:"block",width:"0px",height:"0px","border-color":"transparent","border-style":"solid",position:"absolute",top:"-6px"},o={height:"0px","border-top":"1px dashed red",position:"absolute","z-index":9999};p.prototype={removeAll:function(){for(var i in this.hidden)this.hidden[i].remove(),delete this.hidden[i];for(i in this.visible)this.visible[i].remove(),delete this.visible[i]},hideLine:function(i){var o=i.getUniqueId();i.hide(),this.hidden[o]=i,delete this.visible[o]},showLine:function(i){var o=i.getUniqueId();i.show(),this.visible[o]=i,delete this.hidden[o]},hideVisible:function(){for(var i in this.visible)this.hideLine(this.visible[i])},placeLine:function(i,o){var s,_,$;if(s=this.getStyle(i.uid,i.type)){for($ in this.visible)if(this.visible[$].getCustomData("hash")!==this.hash){_=this.visible[$];break}if(!_)for($ in this.hidden)if(this.hidden[$].getCustomData("hash")!==this.hash){this.showLine(_=this.hidden[$]);break}_||this.showLine(_=this.addLine()),_.setCustomData("hash",this.hash),this.visible[_.getUniqueId()]=_,_.setStyles(s),o&&o(_)}},getStyle:function(i,o){var s=this.relations[i],_=this.locations[i][o],$={};if($.width=s.siblingRect?Math.max(s.siblingRect.width,s.elementRect.width):s.elementRect.width,$.top=this.inline?_+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+_,$.top-this.winTopScroll.y<this.rect.top||$.top-this.winTopScroll.y>this.rect.bottom)return!1;for(var j in this.inline?$.left=s.elementRect.left-this.rect.relativeX:(0<s.elementRect.left?$.left=this.rect.left+s.elementRect.left:($.width+=s.elementRect.left,$.left=this.rect.left),0<(s=$.left+$.width-(this.rect.left+this.winPane.width))&&($.width-=s)),$.left+=this.winTopScroll.x,$)$[j]=CKEDITOR.tools.cssLength($[j]);return $},addLine:function(){var i=CKEDITOR.dom.element.createFromHtml(this.lineTpl);return i.appendTo(this.container),i},prepare:function(i,o){this.relations=i,this.locations=o,this.hash=Math.random()},cleanup:function(){var i,o;for(o in this.visible)(i=this.visible[o]).getCustomData("hash")!==this.hash&&this.hideLine(i)},queryViewport:function(){this.winPane=this.win.getViewPaneSize(),this.winTopScroll=this.winTop.getScrollPosition(),this.winTopPane=this.winTop.getViewPaneSize(),this.rect=this.getClientRect(this.inline?this.editable:this.frame)},getClientRect:function(i){i=i.getClientRect();var o=this.container.getDocumentPosition(),s=this.container.getComputedStyle("position");return i.relativeX=i.relativeY=0,"static"!=s&&(i.relativeY=o.y,i.relativeX=o.x,i.top-=i.relativeY,i.bottom-=i.relativeY,i.left-=i.relativeX,i.right-=i.relativeX),i}};var s={left:1,right:1,center:1},_={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:m,locator:n,liner:p}}(),function(){function e(i){return i.getName&&!i.hasAttribute("data-cke-temp")}CKEDITOR.plugins.add("widgetselection",{init:function(i){if(CKEDITOR.env.webkit){var o=CKEDITOR.plugins.widgetselection;i.on("contentDom",(function(i){var s=(i=i.editor).editable();s.attachListener(s,"keydown",(function(i){i.data.getKeystroke()==CKEDITOR.CTRL+65&&CKEDITOR.tools.setTimeout((function(){o.addFillers(s)||o.removeFillers(s)}),0)}),null,null,-1),i.on("selectionCheck",(function(i){o.removeFillers(i.editor.editable())})),i.on("paste",(function(i){i.data.dataValue=o.cleanPasteData(i.data.dataValue)})),"selectall"in i.plugins&&o.addSelectAllIntegration(i)}))}}}),CKEDITOR.plugins.widgetselection={startFiller:null,endFiller:null,fillerAttribute:"data-cke-filler-webkit",fillerContent:"&nbsp;",fillerTagName:"div",addFillers:function(i){var o=i.editor;if(!this.isWholeContentSelected(i)&&0<i.getChildCount()){var s=i.getFirst(e),_=i.getLast(e);if(s&&s.type==CKEDITOR.NODE_ELEMENT&&!s.isEditable()&&(this.startFiller=this.createFiller(),i.append(this.startFiller,1)),_&&_.type==CKEDITOR.NODE_ELEMENT&&!_.isEditable()&&(this.endFiller=this.createFiller(!0),i.append(this.endFiller,0)),this.hasFiller(i))return(o=o.createRange()).selectNodeContents(i),o.select(),!0}return!1},removeFillers:function(i){if(this.hasFiller(i)&&!this.isWholeContentSelected(i)){var o=i.findOne(this.fillerTagName+"["+this.fillerAttribute+"=start]"),s=i.findOne(this.fillerTagName+"["+this.fillerAttribute+"=end]");this.startFiller&&o&&this.startFiller.equals(o)?this.removeFiller(this.startFiller,i):this.startFiller=o,this.endFiller&&s&&this.endFiller.equals(s)?this.removeFiller(this.endFiller,i):this.endFiller=s}},cleanPasteData:function(i){return i&&i.length&&(i=i.replace(this.createFillerRegex(),"").replace(this.createFillerRegex(!0),"")),i},isWholeContentSelected:function(i){var o=i.editor.getSelection().getRanges()[0];return!(!o||o&&o.collapsed)&&((o=o.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),!!(o&&i&&o.startContainer&&o.endContainer&&0===o.startOffset&&o.endOffset===i.getChildCount()&&o.startContainer.equals(i)&&o.endContainer.equals(i)))},hasFiller:function(i){return 0<i.find(this.fillerTagName+"["+this.fillerAttribute+"]").count()},createFiller:function(i){var o=new CKEDITOR.dom.element(this.fillerTagName);return o.setHtml(this.fillerContent),o.setAttribute(this.fillerAttribute,i?"end":"start"),o.setAttribute("data-cke-temp",1),o.setStyles({display:"block",width:0,height:0,padding:0,border:0,margin:0,position:"absolute",top:0,left:"-9999px",opacity:0,overflow:"hidden"}),o},removeFiller:function(i,o){if(i){var s,_,$=o.editor,j=o.editor.getSelection().getRanges()[0].startPath(),Z=$.createRange();j.contains(i)&&(s=i.getHtml(),_=!0),j="start"==i.getAttribute(this.fillerAttribute),i.remove(),s&&0<s.length&&s!=this.fillerContent?(o.insertHtmlIntoRange(s,$.getSelection().getRanges()[0]),Z.setStartAt(o.getChild(o.getChildCount()-1),CKEDITOR.POSITION_BEFORE_END),$.getSelection().selectRanges([Z])):_&&(j?Z.setStartAt(o.getFirst().getNext(),CKEDITOR.POSITION_AFTER_START):Z.setEndAt(o.getLast().getPrevious(),CKEDITOR.POSITION_BEFORE_END),o.editor.getSelection().selectRanges([Z]))}},createFillerRegex:function(i){var o=this.createFiller(i).getOuterHtml().replace(/style="[^"]*"/gi,'style="[^"]*"').replace(/>[^<]*</gi,">[^<]*<");return new RegExp((i?"":"^")+o+(i?"$":""))},addSelectAllIntegration:function(i){var o=this;i.editable().attachListener(i,"beforeCommandExec",(function(s){var _=i.editable();"selectAll"==s.data.name&&_&&o.addFillers(_)}),null,null,9999)}}}(),function(){function q(o){this.editor=o,this.registered={},this.instances={},this.selected=[],this.widgetHoldingFocusedEditable=this.focused=null,this._={nextId:0,upcasts:[],upcastCallbacks:[],filters:{}},function(o){var s,_,$=o.editor;$.on("toHtml",(function(i){var _,$=function(i){var o=[],s=i._.upcasts,_=i._.upcastCallbacks;return{toBeWrapped:o,iterator:function(i){var $,j,Z,ee,te;if("data-cke-widget-wrapper"in i.attributes)return(i=i.getFirst(h.isParserWidgetElement))&&o.push([i]),!1;if("data-widget"in i.attributes)return o.push([i]),!1;if(te=s.length){if(i.attributes["data-cke-widget-upcasted"])return!1;for(ee=0,$=_.length;ee<$;++ee)if(!1===_[ee](i))return;for(ee=0;ee<te;++ee)if(Z={},j=($=s[ee])[0](i,Z))return j instanceof CKEDITOR.htmlParser.element&&(i=j),i.attributes["data-cke-widget-data"]=encodeURIComponent(JSON.stringify(Z)),i.attributes["data-cke-widget-upcasted"]=1,o.push([i,$[1]]),!1}}}}(o);for(i.data.dataValue.forEach($.iterator,CKEDITOR.NODE_ELEMENT,!0);_=$.toBeWrapped.pop();){var j=_[0],Z=j.parent;Z.type==CKEDITOR.NODE_ELEMENT&&Z.attributes["data-cke-widget-wrapper"]&&Z.replaceWith(j),o.wrapElement(_[0],_[1])}s=i.data.protectedWhitespaces?3==i.data.dataValue.children.length&&h.isParserWidgetWrapper(i.data.dataValue.children[1]):1==i.data.dataValue.children.length&&h.isParserWidgetWrapper(i.data.dataValue.children[0])}),null,null,8),$.on("dataReady",(function(){if(_)for(var i,s,j=$.editable().find(".cke_widget_wrapper"),Z=0,ee=j.count();Z<ee;++Z)(s=(i=j.getItem(Z)).getFirst(h.isDomWidgetElement)).type==CKEDITOR.NODE_ELEMENT&&s.data("widget")?(s.replace(i),o.wrapElement(s)):i.remove();_=0,o.destroyAll(!0),o.initOnAll()})),$.on("loadSnapshot",(function(i){/data-cke-widget/.test(i.data)&&(_=1),o.destroyAll(!0)}),null,null,9),$.on("paste",(function(o){(o=o.data).dataValue=o.dataValue.replace(i,fa),o.range&&(o=h.getNestedEditable($.editable(),o.range.startContainer))&&(o=CKEDITOR.filter.instances[o.data("cke-filter")])&&$.setActiveFilter(o)})),$.on("afterInsertHtml",(function(i){i.data.intoRange?o.checkWidgets({initOnlyNew:!0}):($.fire("lockSnapshot"),o.checkWidgets({initOnlyNew:!0,focusInited:s}),$.fire("unlockSnapshot"))}))}(this),function(i){var o=i.editor,s={};o.on("toDataFormat",(function(o){var _=CKEDITOR.tools.getNextNumber(),$=[];o.data.downcastingSessionId=_,s[_]=$,o.data.dataValue.forEach((function(o){var s,_=o.attributes;if("data-cke-widget-white-space"in _){s=z(o);var j=A(o);s.parent.attributes["data-cke-white-space-first"]&&(s.value=s.value.replace(/^&nbsp;/g," ")),j.parent.attributes["data-cke-white-space-last"]&&(j.value=j.value.replace(/&nbsp;$/g," "))}if("data-cke-widget-id"in _)(_=i.instances[_["data-cke-widget-id"]])&&(s=o.getFirst(h.isParserWidgetElement),$.push({wrapper:o,element:s,widget:_,editables:{}}),"1"!=s.attributes["data-cke-widget-keep-attr"]&&delete s.attributes["data-widget"]);else if("data-cke-widget-editable"in _)return 0<$.length&&($[$.length-1].editables[_["data-cke-widget-editable"]]=o),!1}),CKEDITOR.NODE_ELEMENT,!0)}),null,null,8),o.on("toDataFormat",(function(i){if(i.data.downcastingSessionId)for(var o,_,$,j,Z,ee,te=s[i.data.downcastingSessionId];o=te.shift();){for(ee in _=o.widget,$=o.element,j=_._.downcastFn&&_._.downcastFn.call(_,$),i.data.widgetsCopy&&_.getClipboardHtml&&(j=(j=CKEDITOR.htmlParser.fragment.fromHtml(_.getClipboardHtml())).children[0]),o.editables)delete(Z=o.editables[ee]).attributes.contenteditable,Z.setHtml(_.editables[ee].getData());j||(j=$),o.wrapper.replaceWith(j)}}),null,null,13),o.on("contentDomUnload",(function(){i.destroyAll(!0)}))}(this),this.on("checkWidgets",T),this.editor.on("contentDomInvalidated",this.checkWidgets,this),function(i){function b(){var i=o.getSelection();if(i&&(i=i.getRanges()[0])&&!i.collapsed){var s=c(i.startContainer),_=c(i.endContainer);!s&&_?(i.setEndBefore(_.wrapper),i.select()):s&&!_&&(i.setStartAfter(s.wrapper),i.select())}}function c(i){return i?i.type==CKEDITOR.NODE_TEXT?c(i.getParent()):o.widgets.getByElement(i):null}function d(){i.fire("checkSelection")}var o=i.editor;o.on("selectionCheck",d),o.on("contentDom",(function(){o.editable().attachListener(o,"key",(function(){setTimeout(d,10)}))})),CKEDITOR.env.ie||i.on("checkSelection",b);i.on("checkSelection",i.checkSelection,i),o.on("selectionChange",(function(s){var _=(s=h.getNestedEditable(o.editable(),s.data.selection.getStartElement()))&&i.getByElement(s),$=i.widgetHoldingFocusedEditable;$?$===_&&$.focusedEditable.equals(s)||(p(i,$,null),_&&s&&p(i,_,s)):_&&s&&p(i,_,s)})),o.on("dataReady",(function(){H(i).commit()})),o.on("blur",(function(){var o;(o=i.focused)&&x(i,o),(o=i.widgetHoldingFocusedEditable)&&p(i,o,null)}))}(this),function(i){var o=i.editor;o.on("contentDom",(function(){var s,_,$=o.editable(),j=$.isInline()?$:o.document;$.attachListener(j,"mousedown",(function($){var j=$.data.getTarget();s=j instanceof CKEDITOR.dom.element?i.getByElement(j):null,_=0,s&&(s.inline&&j.type==CKEDITOR.NODE_ELEMENT&&j.hasAttribute("data-cke-widget-drag-handler")?(_=1,i.focused!=s&&o.getSelection().removeAllRanges()):h.getNestedEditable(s.wrapper,j)?s=null:($.data.preventDefault(),CKEDITOR.env.ie||s.focus()))})),$.attachListener(j,"mouseup",(function(){_&&s&&s.wrapper&&(_=0,s.focus())})),CKEDITOR.env.ie&&$.attachListener(j,"mouseup",(function(){setTimeout((function(){s&&s.wrapper&&$.contains(s.wrapper)&&(s.focus(),s=null)}))}))})),o.on("doubleclick",(function(o){var s=i.getByElement(o.data.element);if(s&&!h.getNestedEditable(s.wrapper,o.data.element))return s.fire("doubleclick",{element:o.data.element})}),null,null,1)}(this),function(i){i.editor.on("key",(function(o){var s,_=i.focused,$=i.widgetHoldingFocusedEditable;return _?s=_.fire("key",{keyCode:o.data.keyCode}):$&&(_=o.data.keyCode,o=$.focusedEditable,_==CKEDITOR.CTRL+65?(_=o.getBogus(),($=$.editor.createRange()).selectNodeContents(o),_&&$.setEndAt(_,CKEDITOR.POSITION_BEFORE_START),$.select(),s=!1):8==_||46==_?(s=$.editor.getSelection().getRanges(),$=s[0],s=!(1==s.length&&$.collapsed&&$.checkBoundaryOfElement(o,CKEDITOR[8==_?"START":"END"]))):s=void 0),s}),null,null,1)}(this),function(i){var o=i.editor,s=CKEDITOR.plugins.lineutils;o.on("dragstart",(function(s){var _=s.data.target;h.isDomDragHandler(_)&&(_=i.getByElement(_),s.data.dataTransfer.setData("cke/widget-id",_.id),o.focus(),_.focus())})),o.on("drop",(function(s){function e(i,o){return!(!i||!o)&&(i.wrapper.equals(o.wrapper)||i.wrapper.contains(o.wrapper))}var _=(j=s.data.dataTransfer).getData("cke/widget-id"),$=j.getTransferType(o),j=o.createRange(),Z=function(i){return(i=i.getBoundaryNodes().startNode).type!==CKEDITOR.NODE_ELEMENT&&(i=i.getParent()),o.widgets.getByElement(i)}(s.data.dropRange);""!==_&&$===CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?s.cancel():$==CKEDITOR.DATA_TRANSFER_INTERNAL&&(""===_&&0<o.widgets.selected.length?s.data.dataTransfer.setData("text/html",F(o)):(_=i.instances[_])&&(e(_,Z)?s.cancel():(j.setStartBefore(_.wrapper),j.setEndAfter(_.wrapper),s.data.dragRange=j,delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount,delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount,s.data.dataTransfer.setData("text/html",_.getClipboardHtml()),o.widgets.destroy(_,!0))))})),o.on("contentDom",(function(){var _=o.editable();CKEDITOR.tools.extend(i,{finder:new s.finder(o,{lookups:{default:function(o){if(!o.is(CKEDITOR.dtd.$listItem)&&o.is(CKEDITOR.dtd.$block)&&!h.isDomNestedEditable(o)&&!i._.draggedWidget.wrapper.contains(o)){var s=h.getNestedEditable(_,o);if(s){if(o=i._.draggedWidget,i.getByElement(s)==o)return;if(s=CKEDITOR.filter.instances[s.data("cke-filter")],o=o.requiredContent,s&&o&&!s.check(o))return}return CKEDITOR.LINEUTILS_BEFORE|CKEDITOR.LINEUTILS_AFTER}}}}),locator:new s.locator(o),liner:new s.liner(o,{lineStyle:{cursor:"move !important","border-top-color":"#666"},tipLeftStyle:{"border-left-color":"#666"},tipRightStyle:{"border-right-color":"#666"}})},!0)}))}(this),function(i){function b(s){1>i.selected.length||G(o,"cut"===s.name)}var o=i.editor;o.on("contentDom",(function(){var i=o.editable();i.attachListener(i,"copy",b),i.attachListener(i,"cut",b)}))}(this)}function h(i,s,_,$,j){var Z=i.editor;CKEDITOR.tools.extend(this,$,{editor:Z,id:s,inline:"span"==_.getParent().getName(),element:_,data:CKEDITOR.tools.extend({},"function"==typeof $.defaults?$.defaults():$.defaults),dataReady:!1,inited:!1,ready:!1,edit:h.prototype.edit,focusedEditable:null,definition:$,repository:i,draggable:!1!==$.draggable,_:{downcastFn:$.downcast&&"string"==typeof $.downcast?$.downcasts[$.downcast]:$.downcast}},!0),i.fire("instanceCreated",this),function(i,s){var _=i.editor.config.widget_keystrokeInsertLineBefore,$=i.editor.config.widget_keystrokeInsertLineAfter;(function(i){(i.wrapper=i.element.getParent()).setAttribute("data-cke-widget-id",i.id)})(i),O(i),function(i){var o,s,_=i.editables;if(i.editables={},i.editables)for(o in _)s=_[o],i.initEditable(o,"string"==typeof s?{selector:s}:s)}(i),P(i),function(i){if(i.draggable){var o,s=i.editor,_=i.wrapper.getLast(h.isDomDragHandlerContainer);_?o=_.findOne("img"):((_=new CKEDITOR.dom.element("span",s.document)).setAttributes({class:"cke_reset cke_widget_drag_handler_container",style:"background:rgba(220,220,220,0.5);background-image:url("+s.plugins.widget.path+"images/handle.png);display:none;"}),(o=new CKEDITOR.dom.element("img",s.document)).setAttributes({class:"cke_reset cke_widget_drag_handler","data-cke-widget-drag-handler":"1",src:CKEDITOR.tools.transparentImageData,width:15,title:s.lang.widget.move,height:15,role:"presentation"}),i.inline&&o.setAttribute("draggable","true"),_.append(o),i.wrapper.append(_)),i.wrapper.on("dragover",(function(i){i.data.preventDefault()})),i.wrapper.on("mouseenter",i.updateDragHandlerPosition,i),setTimeout((function(){i.on("data",i.updateDragHandlerPosition,i)}),50),!i.inline&&(o.on("mousedown",pa,i),CKEDITOR.env.ie&&9>CKEDITOR.env.version)&&o.on("dragstart",(function(i){i.data.preventDefault(!0)})),i.dragHandlerContainer=_}}(i),function(i){var o=null;i.on("data",(function(){var i,s=this.data.classes;if(o!=s){for(i in o)s&&s[i]||this.removeClass(i);for(i in s)this.addClass(i);o=s}}))}(i),function(i){i.on("data",(function(){if(i.wrapper){var o=this.getLabel?this.getLabel():this.editor.lang.widget.label.replace(/%1/,this.pathName||this.element.getName());i.wrapper.setAttribute("role","region"),i.wrapper.setAttribute("aria-label",o)}}),null,null,9999)}(i),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&i.wrapper.on("dragstart",(function(o){var s=o.data.getTarget();h.getNestedEditable(i,s)||i.inline&&h.isDomDragHandler(s)||o.data.preventDefault()}));i.wrapper.removeClass("cke_widget_new"),i.element.addClass("cke_widget_element"),i.on("key",(function(s){if((s=s.data.keyCode)==_)L(i,"before"),i.editor.fire("saveSnapshot");else if(s==$)L(i,"after"),i.editor.fire("saveSnapshot");else if(13==s)i.edit();else{if(s==CKEDITOR.CTRL+67||s==CKEDITOR.CTRL+88)return void G(i.editor,s==CKEDITOR.CTRL+88);if(s in o||CKEDITOR.CTRL&s||CKEDITOR.ALT&s)return}return!1}),null,null,999),i.on("doubleclick",(function(o){i.edit()&&o.cancel()})),s.data&&i.on("data",s.data);s.edit&&i.on("edit",s.edit)}(this,$),this.init&&this.init(),this.inited=!0,(i=this.element.data("cke-widget-data"))&&this.setData(JSON.parse(decodeURIComponent(i))),j&&this.setData(j),this.data.classes||this.setData("classes",this.getClasses()),this.dataReady=!0,v(this),this.fire("data",this.data),this.isInited()&&Z.editable().contains(this.wrapper)&&(this.ready=!0,this.fire("ready"))}function t(i,o,s){CKEDITOR.dom.element.call(this,o.$),this.editor=i,this._={},o=this.filter=s.filter,CKEDITOR.dtd[this.getName()].p?(this.enterMode=o?o.getAllowedEnterMode(i.enterMode):i.enterMode,this.shiftEnterMode=o?o.getAllowedEnterMode(i.shiftEnterMode,!0):i.shiftEnterMode):this.enterMode=this.shiftEnterMode=CKEDITOR.ENTER_BR}function x(i,o){if(i.focused=null,o.isInited()){var s=o.editor.checkDirty();i.fire("widgetBlurred",{widget:o}),o.setFocused(!1),!s&&o.editor.resetDirty()}}function T(i){if(i=i.data,"wysiwyg"==this.editor.mode){var o,s,_,$,j=this.editor.editable(),Z=this.instances;if(j){for(o in Z)Z[o].isReady()&&!j.contains(Z[o].wrapper)&&this.destroy(Z[o],!0);if(i&&i.initOnlyNew)Z=this.initOnAll();else{var ee=j.find(".cke_widget_wrapper");Z=[];for(o=0,s=ee.count();o<s;o++){if(_=ee.getItem(o),$=!this.getByElement(_,!0)){e:{$=ca;for(var te=_;te=te.getParent();)if($(te)){$=!0;break e}$=!1}$=!$}$&&j.contains(_)&&(_.addClass("cke_widget_new"),Z.push(this.initOn(_.getFirst(h.isDomWidgetElement))))}}i&&i.focusInited&&1==Z.length&&Z[0].focus()}}}function y(i){if(void 0!==i.attributes&&i.attributes["data-widget"]){var o=z(i),s=A(i),_=!1;o&&o.value&&o.value.match(/^\s/g)&&(o.parent.attributes["data-cke-white-space-first"]=1,o.value=o.value.replace(/^\s/g,"&nbsp;"),_=!0),s&&s.value&&s.value.match(/\s$/g)&&(s.parent.attributes["data-cke-white-space-last"]=1,s.value=s.value.replace(/\s$/g,"&nbsp;"),_=!0),_&&(i.attributes["data-cke-widget-white-space"]=1)}}function z(i){return i.find((function(i){return 3===i.type}),!0).shift()}function A(i){return i.find((function(i){return 3===i.type}),!0).pop()}function B(i,o,s){if(!s.allowedContent&&!s.disallowedContent)return null;var _=this._.filters[i];return _||(this._.filters[i]=_={}),(i=_[o])||(i=s.allowedContent?new CKEDITOR.filter(s.allowedContent):this.editor.filter.clone(),_[o]=i,s.disallowedContent&&i.disallow(s.disallowedContent)),i}function C(i,o){return{tabindex:-1,contenteditable:"false","data-cke-widget-wrapper":1,"data-cke-filter":"off",class:"cke_widget_wrapper cke_widget_new cke_widget_"+(i?"inline":"block")+(o?" cke_widget_"+o:"")}}function D(i,o,s){if(i.type==CKEDITOR.NODE_ELEMENT&&((_=CKEDITOR.dtd[i.name])&&!_[s.name])){var _=i.split(o),$=i.parent;return o=_.getIndex(),i.children.length||(--o,i.remove()),_.children.length||_.remove(),D($,o,s)}i.add(s,o)}function E(i,o){return"boolean"==typeof i.inline?i.inline:!!CKEDITOR.dtd.$inline[o]}function ca(i){return i.hasAttribute("data-cke-temp")}function p(i,o,s,_){var $=i.editor;$.fire("lockSnapshot"),s?(_=s.data("cke-widget-editable"),_=o.editables[_],i.widgetHoldingFocusedEditable=o,o.focusedEditable=_,s.addClass("cke_widget_editable_focused"),_.filter&&$.setActiveFilter(_.filter),$.setActiveEnterMode(_.enterMode,_.shiftEnterMode)):(_||o.focusedEditable.removeClass("cke_widget_editable_focused"),o.focusedEditable=null,i.widgetHoldingFocusedEditable=null,$.setActiveFilter(null),$.setActiveEnterMode(null,null)),$.fire("unlockSnapshot")}function fa(i,o){return CKEDITOR.tools.trim(o)}function H(i){var o=i.selected,s=[],_=o.slice(0),$=null;return{select:function(i){return 0>CKEDITOR.tools.indexOf(o,i)&&s.push(i),0<=(i=CKEDITOR.tools.indexOf(_,i))&&_.splice(i,1),this},focus:function(i){return $=i,this},commit:function(){var j,Z,ee=i.focused!==$;for(i.editor.fire("lockSnapshot"),ee&&(j=i.focused)&&x(i,j);j=_.pop();)o.splice(CKEDITOR.tools.indexOf(o,j),1),j.isInited()&&(Z=j.editor.checkDirty(),j.setSelected(!1),!Z&&j.editor.resetDirty());for(ee&&$&&(Z=i.editor.checkDirty(),i.focused=$,i.fire("widgetFocused",{widget:$}),$.setFocused(!0),!Z&&i.editor.resetDirty());j=s.pop();)o.push(j),j.setSelected(!0);i.editor.fire("unlockSnapshot")}}}function I(i,o,s){var _=0;o=J(o);var $,j=i.data.classes||{};if(o){for(j=CKEDITOR.tools.clone(j);$=o.pop();)s?j[$]||(_=j[$]=1):j[$]&&(delete j[$],_=1);_&&i.setData("classes",j)}}function K(i){i.cancel()}function L(i,o){var s=function(i){return i==CKEDITOR.ENTER_BR?"br":i==CKEDITOR.ENTER_DIV?"div":"p"}(i.editor.config.enterMode),_=new CKEDITOR.dom.element(s);"br"!==s&&_.appendBogus(),"after"===o?_.insertAfter(i.wrapper):_.insertBefore(i.wrapper),function(o){var s=i.editor.createRange();s.setStart(o,0),i.editor.getSelection().selectRanges([s])}(_)}function G(i,o){var _,$,j,Z=i.widgets.focused;s.hasCopyBin(i)||($=new s(i,{beforeDestroy:function(){!o&&Z&&Z.focus(),j&&i.getSelection().selectBookmarks(j),_&&CKEDITOR.plugins.widgetselection.addFillers(i.editable())},afterDestroy:function(){o&&!i.readOnly&&(Z?i.widgets.del(Z):i.extractSelectedHtml(),i.fire("saveSnapshot"))}}),Z||(_=CKEDITOR.env.webkit&&CKEDITOR.plugins.widgetselection.isWholeContentSelected(i.editable()),j=i.getSelection().createBookmarks(!0)),$.handle(F(i)))}function J(i){return(i=(i=i.getDefinition().attributes)&&i.class)?i.split(/\s+/):null}function M(){var i=CKEDITOR.document.getActive(),o=this.editor,s=o.editable();(s.isInline()?s:o.document.getWindow().getFrame()).equals(i)&&o.focusManager.focus(s)}function N(){CKEDITOR.env.gecko&&this.editor.unlockSelection(),CKEDITOR.env.webkit||(this.editor.forceNextSelectionCheck(),this.editor.selectionChange(1))}function F(i){var o=i.getSelectedHtml(!0);return i.widgets.focused?i.widgets.focused.getClipboardHtml():(i.once("toDataFormat",(function(i){i.data.widgetsCopy=!0}),null,null,-1),i.dataProcessor.toDataFormat(o))}function O(i,o){if(i.partSelectors||(i.partSelectors=i.parts),i.parts){var s,_,$={};for(_ in i.partSelectors)o||!i.parts[_]||"string"==typeof i.parts[_]?(s=i.wrapper.findOne(i.partSelectors[_]),$[_]=s):$[_]=i.parts[_];i.parts=$}}function P(i){if(!0===i.mask)!function(i){var o=i.wrapper.findOne(".cke_widget_mask");o||(o=new CKEDITOR.dom.element("img",i.editor.document),o.setAttributes({src:CKEDITOR.tools.transparentImageData,class:"cke_reset cke_widget_mask"}),i.wrapper.append(o)),i.mask=o}(i);else if(i.mask){var o,s,_=new CKEDITOR.tools.buffers.throttle(250,oa,i),$=CKEDITOR.env.gecko?300:0;if(i.on("focus",(function(){_.input(),o=i.editor.on("change",_.input),s=i.on("blur",(function(){o.removeListener(),s.removeListener()}))})),i.editor.on("instanceReady",(function(){setTimeout((function(){_.input()}),$)})),i.editor.on("mode",(function(){setTimeout((function(){_.input()}),$)})),CKEDITOR.env.gecko){var j=i.element.find("img");CKEDITOR.tools.array.forEach(j.toArray(),(function(i){i.on("load",(function(){_.input()}))}))}for(var Z in i.editables)i.editables[Z].on("focus",(function(){i.editor.on("change",_.input),s&&s.removeListener()})),i.editables[Z].on("blur",(function(){i.editor.removeListener("change",_.input)}));_.input()}}function oa(){if(this.wrapper){this.maskPart=this.maskPart||this.mask;var i,o=this.parts[this.maskPart];if(o&&"string"!=typeof o){(i=this.wrapper.findOne(".cke_widget_partial_mask"))||((i=new CKEDITOR.dom.element("img",this.editor.document)).setAttributes({src:CKEDITOR.tools.transparentImageData,class:"cke_reset cke_widget_partial_mask"}),this.wrapper.append(i)),this.mask=i;var s=i.$,_=o.$,$=!(s.offsetTop==_.offsetTop&&s.offsetLeft==_.offsetLeft);(s.offsetWidth!=_.offsetWidth||s.offsetHeight!=_.offsetHeight||$)&&(s=o.getParent(),_=CKEDITOR.plugins.widget.isDomWidget(s),i.setStyles({top:o.$.offsetTop+(_?0:s.$.offsetTop)+"px",left:o.$.offsetLeft+(_?0:s.$.offsetLeft)+"px",width:o.$.offsetWidth+"px",height:o.$.offsetHeight+"px"}))}}}function pa(i){function b(){var o;for(oe.reset();o=te.pop();)o.removeListener();var s=ne;o=i.sender;var _=this.repository.finder,$=this.repository.liner,j=this.editor,Z=this.editor.editable();CKEDITOR.tools.isEmpty($.visible)||(s=_.getRange(s[0]),this.focus(),j.fire("drop",{dropRange:s,target:s.startContainer})),Z.removeClass("cke_widget_dragging"),$.hideVisible(),j.fire("dragend",{target:o})}if(CKEDITOR.tools.getMouseButton(i)===CKEDITOR.MOUSE_BUTTON_LEFT){var o,s,_=this.repository.finder,$=this.repository.locator,j=this.repository.liner,Z=this.editor,ee=Z.editable(),te=[],ne=[];this.repository._.draggedWidget=this;var ie=_.greedySearch(),oe=CKEDITOR.tools.eventsBuffer(50,(function(){o=$.locate(ie),(ne=$.sort(s,1)).length&&(j.prepare(ie,o),j.placeLine(ne[0]),j.cleanup())}));ee.addClass("cke_widget_dragging"),te.push(ee.on("mousemove",(function(i){s=i.data.$.clientY,oe.input()}))),Z.fire("dragstart",{target:i.sender}),te.push(Z.document.once("mouseup",b,this)),ee.isInline()||te.push(CKEDITOR.document.once("mouseup",b,this))}}function v(i){i.element.data("cke-widget-data",encodeURIComponent(JSON.stringify(i.data)))}function qa(){function a(){}function b(i,o,s){return!(!s||!this.checkElement(i))&&((i=s.widgets.getByElement(i,!0))&&i.checkStyleActive(this))}function c(o){function b(i,o,s){for(var _=i.length,$=0;$<_;){if(o.call(s,i[$],$,i))return i[$];$++}}function c(i){function b(i,o){var s=CKEDITOR.tools.object.keys(i),_=CKEDITOR.tools.object.keys(o);if(s.length!==_.length)return!1;for(var $ in i)if(("object"!=typeof i[$]||"object"!=typeof o[$]||!b(i[$],o[$]))&&i[$]!==o[$])return!1;return!0}return function(o){return b(i.getDefinition(),o.getDefinition())}}var s,_=o.widget;i[_]||(i[_]={});for(var $=0,j=o.group.length;$<j;$++)s=o.group[$],i[_][s]||(i[_][s]=[]),b(s=i[_][s],c(o))||s.push(o)}var i={};CKEDITOR.style.addCustomHandler({type:"widget",setup:function(i){this.widget=i.widget,(this.group="string"==typeof i.group?[i.group]:i.group)&&c(this)},apply:function(i){var o;i instanceof CKEDITOR.editor&&this.checkApplicable(i.elementPath(),i)&&(o=i.widgets.focused,this.group&&this.removeStylesFromSameGroup(i),o.applyStyle(this))},remove:function(i){i instanceof CKEDITOR.editor&&this.checkApplicable(i.elementPath(),i)&&i.widgets.focused.removeStyle(this)},removeStylesFromSameGroup:function(o){var s,_,$=!1;if(!(o instanceof CKEDITOR.editor))return!1;if(_=o.elementPath(),this.checkApplicable(_,o))for(var j=0,Z=this.group.length;j<Z;j++){s=i[this.widget][this.group[j]];for(var ee=0;ee<s.length;ee++)s[ee]!==this&&s[ee].checkActive(_,o)&&(o.widgets.focused.removeStyle(s[ee]),$=!0)}return $},checkActive:function(i,o){return this.checkElementMatch(i.lastElement,0,o)},checkApplicable:function(i,o){return o instanceof CKEDITOR.editor&&this.checkElement(i.lastElement)},checkElementMatch:b,checkElementRemovable:b,checkElement:function(i){return!!h.isDomWidgetWrapper(i)&&((i=i.getFirst(h.isDomWidgetElement))&&i.data("widget")==this.widget)},buildPreview:function(i){return i||this._.definition.name},toAllowedContentRules:function(i){if(!i)return null;var o,s={};return(i=i.widgets.registered[this.widget])?i.styleableElements?(o=this.getClassesArray())?(s[i.styleableElements]={classes:o,propertiesOnly:!0},s):null:i.styleToAllowedContentRules?i.styleToAllowedContentRules(this):null:null},getClassesArray:function(){var i=this._.definition.attributes&&this._.definition.attributes.class;return i?CKEDITOR.tools.trim(i).split(/\s+/):null},applyToRange:a,removeFromRange:a,applyToObject:a})}CKEDITOR.plugins.add("widget",{requires:"lineutils,clipboard,widgetselection",onLoad:function(){void 0!==CKEDITOR.document.$.querySelectorAll&&(CKEDITOR.addCss('.cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover>.cke_widget_element{outline:2px solid #ffd25c;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid #ffd25c}.cke_widget_wrapper.cke_widget_focused>.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #47a4f5}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:15px;height:0;display:block;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover>.cke_widget_drag_handler_container{height:15px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}.cke_editable[contenteditable="false"] .cke_widget_drag_handler_container{display:none;}img.cke_widget_drag_handler{cursor:move;width:15px;height:15px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_widget_partial_mask{position:absolute;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}'),qa())},beforeInit:function(i){void 0!==CKEDITOR.document.$.querySelectorAll&&(i.widgets=new q(i))},afterInit:function(i){if(void 0!==CKEDITOR.document.$.querySelectorAll){var o,s,_,$=i.widgets.registered;for(s in $)(_=(o=$[s]).button)&&i.ui.addButton&&i.ui.addButton(CKEDITOR.tools.capitalize(o.name,!0),{label:_,command:o.name,toolbar:"insert,10"});!function(i){i.contextMenu&&i.contextMenu.addListener((function(o){if(o=i.widgets.getByElement(o,!0))return o.fire("contextMenu",{})}))}(i),function(i){i&&i.addFilterRule((function(i){return i.replace(/\s*cke_widget_selected/g,"").replace(/\s*cke_widget_focused/g,"")}))}(i.undoManager)}}}),q.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:function(i,o){var s=this.editor;if((o=CKEDITOR.tools.prototypedCopy(o)).name=i,o._=o._||{},s.fire("widgetDefinition",o),o.template&&(o.template=new CKEDITOR.template(o.template)),function(i,o){i.addCommand(o.name,{exec:function(i,s){function e(){i.widgets.finalizeCreation(Z)}if(($=i.widgets.focused)&&$.name==o.name)$.edit();else if(o.insert)o.insert({editor:i,commandData:s});else if(o.template){var _,$="function"==typeof o.defaults?o.defaults():o.defaults,j=($=CKEDITOR.dom.element.createFromHtml(o.template.output($),i.document),i.widgets.wrapElement($,o.name)),Z=new CKEDITOR.dom.documentFragment(j.getDocument());Z.append(j),(_=i.widgets.initOn($,o,s&&s.startupData))?($=_.once("edit",(function(o){o.data.dialog?_.once("dialog",(function(o){var s,$;o=o.data,s=o.once("ok",e,null,null,20),$=o.once("cancel",(function(o){o.data&&!1===o.data.hide||i.widgets.destroy(_,!0)})),o.once("hide",(function(){s.removeListener(),$.removeListener()}))})):e()}),null,null,999),_.edit(),$.removeListener()):e()}},allowedContent:o.allowedContent,requiredContent:o.requiredContent,contentForms:o.contentForms,contentTransformations:o.contentTransformations})}(s,o),function(i,o){function d(o,s,_){var $=CKEDITOR.tools.getIndex(i._.upcasts,(function(i){return i[2]>_}));0>$&&($=i._.upcasts.length),i._.upcasts.splice($,0,[CKEDITOR.tools.bind(o,s),s.name,_])}var s=o.upcast,_=o.upcastPriority||10;s&&d("string"==typeof s?function(i,s){var _,$,j=o.upcast.split(",");for($=0;$<j.length;$++)if((_=j[$])===i.name)return o.upcasts[_].call(this,i,s);return!1}:s,o,_)}(this,o),this.registered[i]=o,o.dialog&&s.plugins.dialog)var _=CKEDITOR.on("dialogDefinition",(function(i){var $=(i=i.data.definition).dialog;i.getMode||$.getName()!==o.dialog||(i.getMode=function(){var i=$.getModel(s);return i&&i instanceof CKEDITOR.plugins.widget&&i.ready?CKEDITOR.dialog.EDITING_MODE:CKEDITOR.dialog.CREATION_MODE}),_.removeListener()}));return o},addUpcastCallback:function(i){this._.upcastCallbacks.push(i)},checkSelection:function(){if(this.editor.getSelection()){var i,o=this.editor.getSelection(),s=o.getSelectedElement(),_=H(this);if(s&&(i=this.getByElement(s,!0)))return _.focus(i).select(i).commit();if(!(o=o.getRanges()[0])||o.collapsed)return _.commit();for((o=new CKEDITOR.dom.walker(o)).evaluator=h.isDomWidgetWrapper;s=o.next();)_.select(this.getByElement(s));_.commit()}},checkWidgets:function(i){this.fire("checkWidgets",CKEDITOR.tools.copy(i||{}))},del:function(i){if(this.focused===i){var o,s=i.editor,_=s.createRange();(o=_.moveToClosestEditablePosition(i.wrapper,!0))||(o=_.moveToClosestEditablePosition(i.wrapper,!1)),o&&s.getSelection().selectRanges([_])}i.wrapper.remove(),this.destroy(i,!0)},destroy:function(i,o){this.widgetHoldingFocusedEditable===i&&p(this,i,null,o),i.destroy(o),delete this.instances[i.id],this.fire("instanceDestroyed",i)},destroyAll:function(i,o){var s,_,$=this.instances;if(o&&!i){$=(_=o.find(".cke_widget_wrapper")).count();for(var j=0;j<$;++j)(s=this.getByElement(_.getItem(j),!0))&&this.destroy(s)}else for(_ in $)s=$[_],this.destroy(s,i)},finalizeCreation:function(i){(i=i.getFirst())&&h.isDomWidgetWrapper(i)&&(this.editor.insertElement(i),(i=this.getByElement(i)).ready=!0,i.fire("ready"),i.focus())},getByElement:function(){function a(o){return o.is(i)&&o.data("cke-widget-id")}var i={div:1,span:1};return function(i,o){if(!i)return null;var s=a(i);if(!o&&!s){var _=this.editor.editable();do{i=i.getParent()}while(i&&!i.equals(_)&&!(s=a(i)))}return this.instances[s]||null}}(),initOn:function(i,o,s){if(o?"string"==typeof o&&(o=this.registered[o]):o=this.registered[i.data("widget")],!o)return null;var _=this.wrapElement(i,o.name);return _?_.hasClass("cke_widget_new")?(i=new h(this,this._.nextId++,i,o,s)).isInited()?this.instances[i.id]=i:null:this.getByElement(i):null},initOnAll:function(i){for(var o,s=[],_=(i=(i||this.editor.editable()).find(".cke_widget_new")).count();_--;)(o=this.initOn(i.getItem(_).getFirst(h.isDomWidgetElement)))&&s.push(o);return s},onWidget:function(i){var o=Array.prototype.slice.call(arguments);for(var s in o.shift(),this.instances){var _=this.instances[s];_.name==i&&_.on.apply(_,o)}this.on("instanceCreated",(function(s){(s=s.data).name==i&&s.on.apply(s,o)}))},parseElementClasses:function(i){if(!i)return null;i=CKEDITOR.tools.trim(i).split(/\s+/);for(var o,s={},_=0;o=i.pop();)-1==o.indexOf("cke_")&&(s[o]=_=1);return _?s:null},wrapElement:function(i,o){var s,_,$=null;if(i instanceof CKEDITOR.dom.element){if(o=o||i.data("widget"),!(s=this.registered[o]))return null;if(($=i.getParent())&&$.type==CKEDITOR.NODE_ELEMENT&&$.data("cke-widget-wrapper"))return $;i.hasAttribute("data-cke-widget-keep-attr")||i.data("cke-widget-keep-attr",i.data("widget")?1:0),i.data("widget",o),(_=E(s,i.getName()))&&y(i),($=new CKEDITOR.dom.element(_?"span":"div",i.getDocument())).setAttributes(C(_,o)),$.data("cke-display-name",s.pathName?s.pathName:i.getName()),i.getParent(!0)&&$.replace(i),i.appendTo($)}else if(i instanceof CKEDITOR.htmlParser.element){if(o=o||i.attributes["data-widget"],!(s=this.registered[o]))return null;if(($=i.parent)&&$.type==CKEDITOR.NODE_ELEMENT&&$.attributes["data-cke-widget-wrapper"])return $;var j;"data-cke-widget-keep-attr"in i.attributes||(i.attributes["data-cke-widget-keep-attr"]=i.attributes["data-widget"]?1:0),o&&(i.attributes["data-widget"]=o),(_=E(s,i.name))&&y(i),($=new CKEDITOR.htmlParser.element(_?"span":"div",C(_,o))).attributes["data-cke-display-name"]=s.pathName?s.pathName:i.name,(s=i.parent)&&(j=i.getIndex(),i.remove()),$.add(i),s&&D(s,j,$)}return $},_tests_createEditableFilter:B},CKEDITOR.event.implementOn(q.prototype),h.prototype={addClass:function(i){this.element.addClass(i),this.wrapper.addClass(h.WRAPPER_CLASS_PREFIX+i)},applyStyle:function(i){I(this,i,1)},checkStyleActive:function(i){var o;if(!(i=J(i)))return!1;for(;o=i.pop();)if(!this.hasClass(o))return!1;return!0},destroy:function(i){if(this.fire("destroy"),this.editables)for(var o in this.editables)this.destroyEditable(o,i);i||("0"==this.element.data("cke-widget-keep-attr")&&this.element.removeAttribute("data-widget"),this.element.removeAttributes(["data-cke-widget-data","data-cke-widget-keep-attr"]),this.element.removeClass("cke_widget_element"),this.element.replace(this.wrapper)),this.wrapper=null},destroyEditable:function(i,o){var s=this.editables[i],_=!0;if(s.removeListener("focus",N),s.removeListener("blur",M),this.editor.focusManager.remove(s),s.filter){for(var $ in this.repository.instances){var j=this.repository.instances[$];j.editables&&(j=j.editables[i])&&j!==s&&s.filter===j.filter&&(_=!1)}_&&(s.filter.destroy(),(_=this.repository._.filters[this.name])&&delete _[i])}o||(this.repository.destroyAll(!1,s),s.removeClass("cke_widget_editable"),s.removeClass("cke_widget_editable_focused"),s.removeAttributes(["contenteditable","data-cke-widget-editable","data-cke-enter-mode"])),delete this.editables[i]},edit:function(){var i={dialog:this.dialog},o=this;return!(!1===this.fire("edit",i)||!i.dialog)&&(this.editor.openDialog(i.dialog,(function(i){var s,_;!1!==o.fire("dialog",i)&&(s=i.on("show",(function(){i.setupContent(o)})),_=i.on("ok",(function(){var s,_=o.on("data",(function(i){s=1,i.cancel()}),null,null,0);o.editor.fire("saveSnapshot"),i.commitContent(o),_.removeListener(),s&&(o.fire("data",o.data),o.editor.fire("saveSnapshot"))})),i.once("hide",(function(){s.removeListener(),_.removeListener()})))}),o),!0)},getClasses:function(){return this.repository.parseElementClasses(this.element.getAttribute("class"))},getClipboardHtml:function(){var i=this.editor.createRange();return i.setStartBefore(this.wrapper),i.setEndAfter(this.wrapper),this.editor.editable().getHtmlFromRange(i).getHtml()},hasClass:function(i){return this.element.hasClass(i)},initEditable:function(i,o){var s=this._findOneNotNested(o.selector);return!(!s||!s.is(CKEDITOR.dtd.$editable))&&(s=new t(this.editor,s,{filter:B.call(this.repository,this.name,i,o)}),this.editables[i]=s,s.setAttributes({contenteditable:"true","data-cke-widget-editable":i,"data-cke-enter-mode":s.enterMode}),s.filter&&s.data("cke-filter",s.filter.id),s.addClass("cke_widget_editable"),s.removeClass("cke_widget_editable_focused"),o.pathName&&s.data("cke-display-name",o.pathName),this.editor.focusManager.add(s),s.on("focus",N,this),CKEDITOR.env.ie&&s.on("blur",M,this),s._.initialSetData=!0,s.setData(s.getHtml()),!0)},_findOneNotNested:function(i){i=this.wrapper.find(i);for(var o,s,_=0;_<i.count();_++)if(s=(o=i.getItem(_)).getAscendant(h.isDomWidgetWrapper),this.wrapper.equals(s))return o;return null},isInited:function(){return!(!this.wrapper||!this.inited)},isReady:function(){return this.isInited()&&this.ready},focus:function(){var i=this.editor.getSelection();if(i){var o=this.editor.checkDirty();i.fake(this.wrapper),!o&&this.editor.resetDirty()}this.editor.focus()},refreshMask:function(){P(this)},refreshParts:function(i){O(this,void 0===i||i)},removeClass:function(i){this.element.removeClass(i),this.wrapper.removeClass(h.WRAPPER_CLASS_PREFIX+i)},removeStyle:function(i){I(this,i,0)},setData:function(i,o){var s=this.data,_=0;if("string"==typeof i)s[i]!==o&&(s[i]=o,_=1);else{var $=i;for(i in $)s[i]!==$[i]&&(_=1,s[i]=$[i])}return _&&this.dataReady&&(v(this),this.fire("data",s)),this},setFocused:function(i){return this.wrapper[i?"addClass":"removeClass"]("cke_widget_focused"),this.fire(i?"focus":"blur"),this},setSelected:function(i){return this.wrapper[i?"addClass":"removeClass"]("cke_widget_selected"),this.fire(i?"select":"deselect"),this},updateDragHandlerPosition:function(){var i=this.editor,o=this.element.$,s=this._.dragHandlerOffset;o={x:o.offsetLeft,y:o.offsetTop-15};s&&o.x==s.x&&o.y==s.y||(s=i.checkDirty(),i.fire("lockSnapshot"),this.dragHandlerContainer.setStyles({top:o.y+"px",left:o.x+"px"}),this.dragHandlerContainer.removeStyle("display"),i.fire("unlockSnapshot"),!s&&i.resetDirty(),this._.dragHandlerOffset=o)}},CKEDITOR.event.implementOn(h.prototype),h.getNestedEditable=function(i,o){return!o||o.equals(i)?null:h.isDomNestedEditable(o)?o:h.getNestedEditable(i,o.getParent())},h.isDomDragHandler=function(i){return i.type==CKEDITOR.NODE_ELEMENT&&i.hasAttribute("data-cke-widget-drag-handler")},h.isDomDragHandlerContainer=function(i){return i.type==CKEDITOR.NODE_ELEMENT&&i.hasClass("cke_widget_drag_handler_container")},h.isDomNestedEditable=function(i){return i.type==CKEDITOR.NODE_ELEMENT&&i.hasAttribute("data-cke-widget-editable")},h.isDomWidgetElement=function(i){return i.type==CKEDITOR.NODE_ELEMENT&&i.hasAttribute("data-widget")},h.isDomWidgetWrapper=function(i){return i.type==CKEDITOR.NODE_ELEMENT&&i.hasAttribute("data-cke-widget-wrapper")},h.isDomWidget=function(i){return!!i&&(this.isDomWidgetWrapper(i)||this.isDomWidgetElement(i))},h.isParserWidgetElement=function(i){return i.type==CKEDITOR.NODE_ELEMENT&&!!i.attributes["data-widget"]},h.isParserWidgetWrapper=function(i){return i.type==CKEDITOR.NODE_ELEMENT&&!!i.attributes["data-cke-widget-wrapper"]},h.WRAPPER_CLASS_PREFIX="cke_widget_wrapper_",t.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:function(i){this._.initialSetData||this.editor.widgets.destroyAll(!1,this),this._.initialSetData=!1,i=this.editor.dataProcessor.unprotectRealComments(i),i=this.editor.dataProcessor.unprotectSource(i),i=this.editor.dataProcessor.toHtml(i,{context:this.getName(),filter:this.filter,enterMode:this.enterMode}),this.setHtml(i),this.editor.widgets.initOnAll(this)},getData:function(){return this.editor.dataProcessor.toDataFormat(this.getHtml(),{context:this.getName(),filter:this.filter,enterMode:this.enterMode})}});var i=/^(?:<(?:div|span)(?: data-cke-temp="1")?(?: id="cke_copybin")?(?: data-cke-temp="1")?>)?(?:<(?:div|span)(?: style="[^"]+")?>)?<span [^>]*data-cke-copybin-start="1"[^>]*>.?<\/span>([\s\S]+)<span [^>]*data-cke-copybin-end="1"[^>]*>.?<\/span>(?:<\/(?:div|span)>)?(?:<\/(?:div|span)>)?$/i,o={37:1,38:1,39:1,40:1,8:1,46:1};o[CKEDITOR.SHIFT+121]=1;var s=CKEDITOR.tools.createClass({$:function(i,o){this._.createCopyBin(i,o),this._.createListeners(o)},_:{createCopyBin:function(i){var o=i.document,s=CKEDITOR.env.edge&&16<=CKEDITOR.env.version,_=!i.blockless&&!CKEDITOR.env.ie||s?"div":"span";s=o.createElement(_);(o=o.createElement(_)).setAttributes({id:"cke_copybin","data-cke-temp":"1"}),s.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),s.setStyle("ltr"==i.config.contentsLangDirection?"left":"right","-5000px"),this.editor=i,this.copyBin=s,this.container=o},createListeners:function(i){i&&(i.beforeDestroy&&(this.beforeDestroy=i.beforeDestroy),i.afterDestroy&&(this.afterDestroy=i.afterDestroy))}},proto:{handle:function(i){var o,s,_,$=this.copyBin,j=this.editor,Z=this.container,ee=CKEDITOR.env.ie&&9>CKEDITOR.env.version,te=j.document.getDocumentElement().$,ne=j.createRange(),ie=this,oe=CKEDITOR.env.mac&&CKEDITOR.env.webkit,ae=oe?100:0,re=window.requestAnimationFrame&&!oe?requestAnimationFrame:setTimeout;return $.setHtml('<span data-cke-copybin-start="1">​</span>'+i+'<span data-cke-copybin-end="1">​</span>'),j.fire("lockSnapshot"),Z.append($),j.editable().append(Z),o=j.on("selectionChange",K,null,null,0),s=j.widgets.on("checkSelection",K,null,null,0),ee&&(_=te.scrollTop),ne.selectNodeContents($),ne.select(),ee&&(te.scrollTop=_),new CKEDITOR.tools.promise((function(i){re((function(){ie.beforeDestroy&&ie.beforeDestroy(),Z.remove(),o.removeListener(),s.removeListener(),j.fire("unlockSnapshot"),ie.afterDestroy&&ie.afterDestroy(),i()}),ae)}))}},statics:{hasCopyBin:function(i){return!!s.getCopyBin(i)},getCopyBin:function(i){return i.document.getById("cke_copybin")}}});CKEDITOR.plugins.widget=h,h.repository=q,h.nestedEditable=t}(),CKEDITOR.config.widget_keystrokeInsertLineBefore=CKEDITOR.SHIFT+CKEDITOR.ALT+13,CKEDITOR.config.widget_keystrokeInsertLineAfter=CKEDITOR.SHIFT+13,function(){function e(i,o,s){this.editor=i,this.notification=null,this._message=new CKEDITOR.template(o),this._singularMessage=s?new CKEDITOR.template(s):null,this._tasks=[],this._doneTasks=this._doneWeights=this._totalWeights=0}function d(i){this._weight=i||1,this._doneWeight=0,this._isCanceled=!1}CKEDITOR.plugins.add("notificationaggregator",{requires:"notification"}),e.prototype={createTask:function(i){i=i||{};var o,s=!this.notification;return s&&(this.notification=this._createNotification()),(o=this._addTask(i)).on("updated",this._onTaskUpdate,this),o.on("done",this._onTaskDone,this),o.on("canceled",(function(){this._removeTask(o)}),this),this.update(),s&&this.notification.show(),o},update:function(){this._updateNotification(),this.isFinished()&&this.fire("finished")},getPercentage:function(){return 0===this.getTaskCount()?1:this._doneWeights/this._totalWeights},isFinished:function(){return this.getDoneTaskCount()===this.getTaskCount()},getTaskCount:function(){return this._tasks.length},getDoneTaskCount:function(){return this._doneTasks},_updateNotification:function(){this.notification.update({message:this._getNotificationMessage(),progress:this.getPercentage()})},_getNotificationMessage:function(){var i=this.getTaskCount(),o={current:this.getDoneTaskCount(),max:i,percentage:Math.round(100*this.getPercentage())};return(1==i&&this._singularMessage?this._singularMessage:this._message).output(o)},_createNotification:function(){return new CKEDITOR.plugins.notification(this.editor,{type:"progress"})},_addTask:function(i){return i=new d(i.weight),this._tasks.push(i),this._totalWeights+=i._weight,i},_removeTask:function(i){var o=CKEDITOR.tools.indexOf(this._tasks,i);-1!==o&&(i._doneWeight&&(this._doneWeights-=i._doneWeight),this._totalWeights-=i._weight,this._tasks.splice(o,1),this.update())},_onTaskUpdate:function(i){this._doneWeights+=i.data,this.update()},_onTaskDone:function(){this._doneTasks+=1,this.update()}},CKEDITOR.event.implementOn(e.prototype),d.prototype={done:function(){this.update(this._weight)},update:function(i){if(!this.isDone()&&!this.isCanceled()){var o=(i=Math.min(this._weight,i))-this._doneWeight;this._doneWeight=i,this.fire("updated",o),this.isDone()&&this.fire("done")}},cancel:function(){this.isDone()||this.isCanceled()||(this._isCanceled=!0,this.fire("canceled"))},isDone:function(){return this._weight===this._doneWeight},isCanceled:function(){return this._isCanceled}},CKEDITOR.event.implementOn(d.prototype),CKEDITOR.plugins.notificationAggregator=e,CKEDITOR.plugins.notificationAggregator.task=d}(),CKEDITOR.plugins.add("uploadwidget",{requires:"widget,clipboard,filetools,notificationaggregator",init:function(i){i.filter.allow("*[!data-widget,!data-cke-upload-id]")},isSupportedEnvironment:function(){return CKEDITOR.plugins.clipboard.isFileApiSupported}}),CKEDITOR.fileTools||(CKEDITOR.fileTools={}),CKEDITOR.tools.extend(CKEDITOR.fileTools,{addUploadWidget:function(i,o,s){var _=CKEDITOR.fileTools,$=i.uploadRepository,j=s.supportedTypes?10:20;CKEDITOR.plugins.clipboard.addFileMatcher(i,(function(i){return!s.supportedTypes||_.isTypeSupported(i,s.supportedTypes)})),s.fileToElement&&i.on("paste",(function(s){s=s.data;var j,Z,ee=i.widgets.registered[o],te=s.dataTransfer,ne=te.getFilesCount(),ie=ee.loadMethod||"loadAndUpload";if(!s.dataValue&&ne)for(Z=0;Z<ne;Z++)if(j=te.getFile(Z),!ee.supportedTypes||_.isTypeSupported(j,ee.supportedTypes)){var oe=ee.fileToElement(j);j=$.create(j,void 0,ee.loaderType),oe&&(j[ie](ee.uploadUrl,ee.additionalRequestParameters),CKEDITOR.fileTools.markElement(oe,o,j.id),"loadAndUpload"!=ie&&"upload"!=ie||ee.skipNotifications||CKEDITOR.fileTools.bindNotifications(i,j),s.dataValue+=oe.getOuterHtml())}}),null,null,j),CKEDITOR.tools.extend(s,{downcast:function(){return new CKEDITOR.htmlParser.text("")},init:function(){var o,s,_=this,j=this.wrapper.findOne("[data-cke-upload-id]").data("cke-upload-id"),Z=$.loaders[j],ee=CKEDITOR.tools.capitalize;Z.on("update",(function($){"abort"===Z.status&&"function"==typeof _.onAbort&&_.onAbort(Z),_.wrapper&&_.wrapper.getParent()?(i.fire("lockSnapshot"),$="on"+ee(Z.status),"abort"!==Z.status&&"function"==typeof _[$]&&!1===_[$](Z)||(s="cke_upload_"+Z.status,_.wrapper&&s!=o&&(o&&_.wrapper.removeClass(o),_.wrapper.addClass(s),o=s),"error"!=Z.status&&"abort"!=Z.status||i.widgets.del(_)),i.fire("unlockSnapshot")):(CKEDITOR.instances[i.name]&&i.editable().find('[data-cke-upload-id="'+j+'"]').count()||Z.abort(),$.removeListener())})),Z.update()},replaceWith:function(o,s){if(""===o.trim())i.widgets.del(this);else{var _,$,j=this==i.widgets.focused,Z=i.editable(),ee=i.createRange();j||($=i.getSelection().createBookmarks()),ee.setStartBefore(this.wrapper),ee.setEndAfter(this.wrapper),j&&(_=ee.createBookmark()),Z.insertHtmlIntoRange(o,ee,s),i.widgets.checkWidgets({initOnlyNew:!0}),i.widgets.destroy(this,!0),j?(ee.moveToBookmark(_),ee.select()):i.getSelection().selectBookmarks($)}},_getLoader:function(){var i=this.wrapper.findOne("[data-cke-upload-id]");return i?this.editor.uploadRepository.loaders[i.data("cke-upload-id")]:null}}),i.widgets.add(o,s)},markElement:function(i,o,s){i.setAttributes({"data-cke-upload-id":s,"data-widget":o})},bindNotifications:function(i,o){var s,_=null;o.on("update",(function(){!_&&o.uploadTotal&&((s=i._.uploadWidgetNotificaionAggregator)&&!s.isFinished()||(s=i._.uploadWidgetNotificaionAggregator=new CKEDITOR.plugins.notificationAggregator(i,i.lang.uploadwidget.uploadMany,i.lang.uploadwidget.uploadOne)).once("finished",(function(){var o=s.getTaskCount();0===o?s.notification.hide():s.notification.update({message:1==o?i.lang.uploadwidget.doneOne:i.lang.uploadwidget.doneMany.replace("%1",o),type:"success",important:1})})),_=s.createTask({weight:o.uploadTotal})),_&&"uploading"==o.status&&_.update(o.uploaded)})),o.on("uploaded",(function(){_&&_.done()})),o.on("error",(function(){_&&_.cancel(),i.showNotification(o.message,"warning")})),o.on("abort",(function(){_&&_.cancel(),CKEDITOR.instances[i.name]&&i.showNotification(i.lang.uploadwidget.abort,"info")}))}}),function(){function l(i){return 9>=i&&(i="0"+i),String(i)}function n(o){var s=[(s=new Date).getFullYear(),s.getMonth()+1,s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()];return i+=1,"image-"+CKEDITOR.tools.array.map(s,l).join("")+"-"+i+"."+o}var i=0;CKEDITOR.plugins.add("uploadimage",{requires:"uploadwidget",onLoad:function(){CKEDITOR.addCss(".cke_upload_uploading img{opacity: 0.3}")},isSupportedEnvironment:function(){return CKEDITOR.plugins.clipboard.isFileApiSupported},init:function(i){if(this.isSupportedEnvironment()){var o=CKEDITOR.fileTools,s=o.getUploadUrl(i.config,"image");s&&(i.config.clipboard_handleImages&&(i.config.clipboard_handleImages=!1,CKEDITOR.warn("clipboard-image-handling-disabled",{editor:i.name,plugin:"uploadimage"})),o.addUploadWidget(i,"uploadimage",{supportedTypes:/image\/(jpeg|png|gif|bmp)/,uploadUrl:s,fileToElement:function(){var i=new CKEDITOR.dom.element("img");return i.setAttribute("src","data:image/gif;base64,R0lGODlhDgAOAIAAAAAAAP///yH5BAAAAAAALAAAAAAOAA4AAAIMhI+py+0Po5y02qsKADs="),i},parts:{img:"img"},onUploading:function(i){this.parts.img.setAttribute("src",i.data)},onUploaded:function(i){var o=this.parts.img.$;this.replaceWith('<img src="'+i.url+'" width="'+(i.responseData.width||o.naturalWidth)+'" height="'+(i.responseData.height||o.naturalHeight)+'">')}}),i.on("paste",(function(_){if(_.data.dataValue.match(/<img[\s\S]+data:/i)){_=_.data;var $,j,Z,ee=document.implementation.createHTMLDocument("");for((ee=new CKEDITOR.dom.element(ee.body)).data("cke-editable",1),ee.appendHtml(_.dataValue),$=ee.find("img"),Z=0;Z<$.count();Z++){var te=(j=$.getItem(Z)).getAttribute("src"),ne=te&&"data:"==te.substring(0,5),ie=null===j.data("cke-realelement");ne&&ie&&!j.data("cke-upload-id")&&!j.isReadOnly(1)&&(ne=(ne=te.match(/image\/([a-z]+?);/i))&&ne[1]||"jpg",(te=i.uploadRepository.create(te,n(ne))).upload(s),o.markElement(j,"uploadimage",te.id),o.bindNotifications(i,te))}_.dataValue=ee.getHtml()}})))}}})}(),CKEDITOR.config.plugins="dialogui,dialog,about,a11yhelp,dialogadvtab,basicstyles,bidi,blockquote,notification,button,toolbar,clipboard,panelbutton,panel,floatpanel,colorbutton,colordialog,xml,ajax,templates,menu,contextmenu,copyformatting,div,editorplaceholder,resize,elementspath,enterkey,entities,exportpdf,popup,filetools,filebrowser,find,floatingspace,listblock,richcombo,font,fakeobjects,forms,format,horizontalrule,htmlwriter,iframe,wysiwygarea,image,indent,indentblock,indentlist,smiley,justify,menubutton,language,link,list,liststyle,magicline,maximize,newpage,pagebreak,pastetext,pastetools,pastefromgdocs,pastefromlibreoffice,pastefromword,preview,print,removeformat,save,selectall,showblocks,showborders,sourcearea,specialchar,scayt,stylescombo,tab,table,tabletools,tableselection,undo,lineutils,widgetselection,widget,notificationaggregator,uploadwidget,uploadimage",CKEDITOR.config.skin="moono-lisa",oe=function(i,o){var s=CKEDITOR.getUrl("plugins/"+o);i=i.split(",");for(var _=0;_<i.length;_++)CKEDITOR.skin.icons[i[_]]={path:s,offset:-i[++_],bgsize:i[++_]}},CKEDITOR.env.hidpi?oe("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,bgcolor,384,,textcolor,408,,templates-rtl,432,,templates,456,,copyformatting,480,,creatediv,504,,exportpdf,528,,find-rtl,552,,find,576,,replace,600,,button,624,,checkbox,648,,form,672,,hiddenfield,696,,imagebutton,720,,radio,744,,select-rtl,768,,select,792,,textarea-rtl,816,,textarea,840,,textfield-rtl,864,,textfield,888,,horizontalrule,912,,iframe,936,,image,960,,indent-rtl,984,,indent,1008,,outdent-rtl,1032,,outdent,1056,,smiley,1080,,justifyblock,1104,,justifycenter,1128,,justifyleft,1152,,justifyright,1176,,language,1200,,anchor-rtl,1224,,anchor,1248,,link,1272,,unlink,1296,,bulletedlist-rtl,1320,,bulletedlist,1344,,numberedlist-rtl,1368,,numberedlist,1392,,maximize,1416,,newpage-rtl,1440,,newpage,1464,,pagebreak-rtl,1488,,pagebreak,1512,,pastetext-rtl,1536,,pastetext,1560,,pastefromword-rtl,1584,,pastefromword,1608,,preview-rtl,1632,,preview,1656,,print,1680,,removeformat,1704,,save,1728,,selectall,1752,,showblocks-rtl,1776,,showblocks,1800,,source-rtl,1824,,source,1848,,specialchar,1872,,scayt,1896,,table,1920,,redo-rtl,1944,,redo,1968,,undo-rtl,1992,,undo,2016,","icons_hidpi.png"):oe("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,bgcolor,384,auto,textcolor,408,auto,templates-rtl,432,auto,templates,456,auto,copyformatting,480,auto,creatediv,504,auto,exportpdf,528,auto,find-rtl,552,auto,find,576,auto,replace,600,auto,button,624,auto,checkbox,648,auto,form,672,auto,hiddenfield,696,auto,imagebutton,720,auto,radio,744,auto,select-rtl,768,auto,select,792,auto,textarea-rtl,816,auto,textarea,840,auto,textfield-rtl,864,auto,textfield,888,auto,horizontalrule,912,auto,iframe,936,auto,image,960,auto,indent-rtl,984,auto,indent,1008,auto,outdent-rtl,1032,auto,outdent,1056,auto,smiley,1080,auto,justifyblock,1104,auto,justifycenter,1128,auto,justifyleft,1152,auto,justifyright,1176,auto,language,1200,auto,anchor-rtl,1224,auto,anchor,1248,auto,link,1272,auto,unlink,1296,auto,bulletedlist-rtl,1320,auto,bulletedlist,1344,auto,numberedlist-rtl,1368,auto,numberedlist,1392,auto,maximize,1416,auto,newpage-rtl,1440,auto,newpage,1464,auto,pagebreak-rtl,1488,auto,pagebreak,1512,auto,pastetext-rtl,1536,auto,pastetext,1560,auto,pastefromword-rtl,1584,auto,pastefromword,1608,auto,preview-rtl,1632,auto,preview,1656,auto,print,1680,auto,removeformat,1704,auto,save,1728,auto,selectall,1752,auto,showblocks-rtl,1776,auto,showblocks,1800,auto,source-rtl,1824,auto,source,1848,auto,specialchar,1872,auto,scayt,1896,auto,table,1920,auto,redo-rtl,1944,auto,redo,1968,auto,undo-rtl,1992,auto,undo,2016,auto","icons.png"),CKEDITOR.lang.languages={af:1,sq:1,ar:1,az:1,eu:1,bn:1,bs:1,bg:1,ca:1,"zh-cn":1,zh:1,hr:1,cs:1,da:1,nl:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,et:1,fo:1,fi:1,fr:1,"fr-ca":1,gl:1,ka:1,de:1,"de-ch":1,el:1,gu:1,he:1,hi:1,hu:1,is:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lv:1,lt:1,mk:1,ms:1,mn:1,no:1,nb:1,oc:1,fa:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,sr:1,"sr-latn":1,si:1,sk:1,sl:1,es:1,"es-mx":1,sv:1,tt:1,th:1,tr:1,ug:1,uk:1,vi:1,cy:1}}}()}}]);