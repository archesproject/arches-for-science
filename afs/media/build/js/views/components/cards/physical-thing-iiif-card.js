/*! For license information please see physical-thing-iiif-card.js.LICENSE.txt */
require([],(function(){return function(){var S={28459:function(L){L.exports=function e(L,S,z){function s(tt,it){if(!S[tt]){if(!L[tt]){if(H)return H(tt,!0);var nt=new Error("Cannot find module '"+tt+"'");throw nt.code="MODULE_NOT_FOUND",nt}var ot=S[tt]={exports:{}};L[tt][0].call(ot.exports,(function(S){var z=L[tt][1][S];return s(z||S)}),ot,ot.exports,e,L,S,z)}return S[tt].exports}for(var H=void 0,tt=0;tt<z.length;tt++)s(z[tt]);return s}({1:[function(L,S){function getExtent(L){for(var S=tt(),H=z(L),it=0;it<H.length;it++)S.include(H[it]);return S}var z=L("geojson-coords"),H=L("traverse"),tt=L("extent"),it=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","Feature","FeatureCollection","GeometryCollection"];S.exports=function(L){return getExtent(L).bbox()},S.exports.polygon=function(L){return getExtent(L).polygon()},S.exports.bboxify=function(L){return H(L).map((function(L){L&&-1!==typeof it.indexOf(L.type)&&(console.log(L.type,L),L.bbox=getExtent(L).bbox(),this.update(L))}))}},{extent:2,"geojson-coords":4,traverse:7}],2:[function(L,S){function Extent(){return this instanceof Extent?(this._bbox=[1/0,1/0,-1/0,-1/0],void(this._valid=!1)):new Extent}S.exports=Extent,Extent.prototype.include=function(L){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],L[0]),this._bbox[1]=Math.min(this._bbox[1],L[1]),this._bbox[2]=Math.max(this._bbox[2],L[0]),this._bbox[3]=Math.max(this._bbox[3],L[1]),this},Extent.prototype.union=function(L){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],L[0]),this._bbox[1]=Math.min(this._bbox[1],L[1]),this._bbox[2]=Math.max(this._bbox[2],L[2]),this._bbox[3]=Math.max(this._bbox[3],L[3]),this},Extent.prototype.bbox=function(){return this._valid?this._bbox:null},Extent.prototype.contains=function(L){return this._valid?this._bbox[0]<=L[0]&&this._bbox[1]<=L[1]&&this._bbox[2]>=L[0]&&this._bbox[3]>=L[1]:null},Extent.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null}},{}],3:[function(L,S){S.exports=function(L){function _flatten(L){return Array.isArray(L)&&L.length&&"number"==typeof L[0]?[L]:L.reduce((function(L,S){return Array.isArray(S)&&Array.isArray(S[0])?L.concat(_flatten(S)):(L.push(S),L)}),[])}return _flatten(L)}},{}],4:[function(L,S){var z=L("geojson-normalize"),H=L("geojson-flatten"),tt=L("./flatten");S.exports=function(L){if(!L)return[];var S=H(z(L)),it=[];return S.features.forEach((function(L){L.geometry&&(it=it.concat(tt(L.geometry.coordinates)))})),it}},{"./flatten":3,"geojson-flatten":5,"geojson-normalize":6}],5:[function(L,S){function flatten(L){switch(L&&L.type||null){case"FeatureCollection":return L.features=L.features.reduce((function(L,S){return L.concat(flatten(S))}),[]),L;case"Feature":return flatten(L.geometry).map((function(S){return{type:"Feature",properties:JSON.parse(JSON.stringify(L.properties)),geometry:S}}));case"MultiPoint":return L.coordinates.map((function(L){return{type:"Point",coordinates:L}}));case"MultiPolygon":return L.coordinates.map((function(L){return{type:"Polygon",coordinates:L}}));case"MultiLineString":return L.coordinates.map((function(L){return{type:"LineString",coordinates:L}}));case"GeometryCollection":return L.geometries;case"Point":case"Polygon":case"LineString":return[L];default:return L}}S.exports=flatten},{}],6:[function(L,S){function normalize(L){if(!L||!L.type)return null;var S=z[L.type];return S?"geometry"===S?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:L}]}:"feature"===S?{type:"FeatureCollection",features:[L]}:"featurecollection"===S?L:void 0:null}S.exports=normalize;var z={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},{}],7:[function(L,S){function Traverse(L){this.value=L}function walk(L,S,z){var nt=[],ot=[],at=!0;return function walker(L){function updateState(){if("object"==typeof pt.node&&null!==pt.node){pt.keys&&pt.node_===pt.node||(pt.keys=H(pt.node)),pt.isLeaf=0==pt.keys.length;for(var S=0;S<ot.length;S++)if(ot[S].node_===L){pt.circular=ot[S];break}}else pt.isLeaf=!0,pt.keys=null;pt.notLeaf=!pt.isLeaf,pt.notRoot=!pt.isRoot}var rt=z?copy(L):L,ht={},dt=!0,pt={node:rt,node_:L,path:[].concat(nt),parent:ot[ot.length-1],parents:ot,key:nt.slice(-1)[0],isRoot:0===nt.length,level:nt.length,circular:null,update:function(L,S){pt.isRoot||(pt.parent.node[pt.key]=L),pt.node=L,S&&(dt=!1)},delete:function(L){delete pt.parent.node[pt.key],L&&(dt=!1)},remove:function(L){tt(pt.parent.node)?pt.parent.node.splice(pt.key,1):delete pt.parent.node[pt.key],L&&(dt=!1)},keys:null,before:function(L){ht.before=L},after:function(L){ht.after=L},pre:function(L){ht.pre=L},post:function(L){ht.post=L},stop:function(){at=!1},block:function(){dt=!1}};if(!at)return pt;updateState();var gt=S.call(pt,pt.node);return void 0!==gt&&pt.update&&pt.update(gt),ht.before&&ht.before.call(pt,pt.node),dt?("object"!=typeof pt.node||null===pt.node||pt.circular||(ot.push(pt),updateState(),forEach(pt.keys,(function(L,S){nt.push(L),ht.pre&&ht.pre.call(pt,pt.node[L],L);var H=walker(pt.node[L]);z&&it.call(pt.node,L)&&(pt.node[L]=H.node),H.isLast=S==pt.keys.length-1,H.isFirst=0==S,ht.post&&ht.post.call(pt,H),nt.pop()})),ot.pop()),ht.after&&ht.after.call(pt,pt.node),pt):pt}(L).node}function copy(L){if("object"==typeof L&&null!==L){var S;if(tt(L))S=[];else if(isDate(L))S=new Date(L.getTime?L.getTime():L);else if(isRegExp(L))S=new RegExp(L);else if(isError(L))S={message:L.message};else if(isBoolean(L))S=new Boolean(L);else if(isNumber(L))S=new Number(L);else if(isString(L))S=new String(L);else if(Object.create&&Object.getPrototypeOf)S=Object.create(Object.getPrototypeOf(L));else if(L.constructor===Object)S={};else{var z=L.constructor&&L.constructor.prototype||L.__proto__||{},T=function(){};T.prototype=z,S=new T}return forEach(H(L),(function(z){S[z]=L[z]})),S}return L}function toS(L){return Object.prototype.toString.call(L)}function isDate(L){return"[object Date]"===toS(L)}function isRegExp(L){return"[object RegExp]"===toS(L)}function isError(L){return"[object Error]"===toS(L)}function isBoolean(L){return"[object Boolean]"===toS(L)}function isNumber(L){return"[object Number]"===toS(L)}function isString(L){return"[object String]"===toS(L)}var z=S.exports=function(L){return new Traverse(L)};Traverse.prototype.get=function(L){for(var S=this.value,z=0;z<L.length;z++){var H=L[z];if(!S||!it.call(S,H)){S=void 0;break}S=S[H]}return S},Traverse.prototype.has=function(L){for(var S=this.value,z=0;z<L.length;z++){var H=L[z];if(!S||!it.call(S,H))return!1;S=S[H]}return!0},Traverse.prototype.set=function(L,S){for(var z=this.value,H=0;H<L.length-1;H++){var tt=L[H];it.call(z,tt)||(z[tt]={}),z=z[tt]}return z[L[H]]=S,S},Traverse.prototype.map=function(L){return walk(this.value,L,!0)},Traverse.prototype.forEach=function(L){return this.value=walk(this.value,L,!1),this.value},Traverse.prototype.reduce=function(L,S){var z=1===arguments.length,H=z?this.value:S;return this.forEach((function(S){this.isRoot&&z||(H=L.call(this,H,S))})),H},Traverse.prototype.paths=function(){var L=[];return this.forEach((function(){L.push(this.path)})),L},Traverse.prototype.nodes=function(){var L=[];return this.forEach((function(){L.push(this.node)})),L},Traverse.prototype.clone=function(){var L=[],S=[];return function clone(z){for(var tt=0;tt<L.length;tt++)if(L[tt]===z)return S[tt];if("object"==typeof z&&null!==z){var it=copy(z);return L.push(z),S.push(it),forEach(H(z),(function(L){it[L]=clone(z[L])})),L.pop(),S.pop(),it}return z}(this.value)};var H=Object.keys||function(L){var S=[];for(var z in L)S.push(z);return S},tt=Array.isArray||function(L){return"[object Array]"===Object.prototype.toString.call(L)},forEach=function(L,S){if(L.forEach)return L.forEach(S);for(var z=0;z<L.length;z++)S(L[z],z,L)};forEach(H(Traverse.prototype),(function(L){z[L]=function(S){var z=[].slice.call(arguments,1),H=new Traverse(S);return H[L].apply(H,z)}}));var it=Object.hasOwnProperty||function(L,S){return S in L}},{}]},{},[1])(1)},46186:function(L,S,z){var H,tt;function _typeof(L){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},_typeof(L)}function ownKeys(L,S){var z=Object.keys(L);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(L);S&&(H=H.filter((function(S){return Object.getOwnPropertyDescriptor(L,S).enumerable}))),z.push.apply(z,H)}return z}function _objectSpread(L){for(var S=1;S<arguments.length;S++){var z=null!=arguments[S]?arguments[S]:{};S%2?ownKeys(Object(z),!0).forEach((function(S){_defineProperty(L,S,z[S])})):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(z)):ownKeys(Object(z)).forEach((function(S){Object.defineProperty(L,S,Object.getOwnPropertyDescriptor(z,S))}))}return L}function _defineProperty(L,S,z){return(S=function(L){var S=function(L,S){if("object"!==_typeof(L)||null===L)return L;var z=L[Symbol.toPrimitive];if(void 0!==z){var H=z.call(L,S||"default");if("object"!==_typeof(H))return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(L)}(L,"string");return"symbol"===_typeof(S)?S:String(S)}(S))in L?Object.defineProperty(L,S,{value:z,enumerable:!0,configurable:!0,writable:!0}):L[S]=z,L}function _createForOfIteratorHelper(L,S){var z="undefined"!=typeof Symbol&&L[Symbol.iterator]||L["@@iterator"];if(!z){if(Array.isArray(L)||(z=function(L,S){if(!L)return;if("string"==typeof L)return _arrayLikeToArray(L,S);var z=Object.prototype.toString.call(L).slice(8,-1);"Object"===z&&L.constructor&&(z=L.constructor.name);if("Map"===z||"Set"===z)return Array.from(L);if("Arguments"===z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return _arrayLikeToArray(L,S)}(L))||S&&L&&"number"==typeof L.length){z&&(L=z);var H=0,F=function(){};return{s:F,n:function(){return H>=L.length?{done:!0}:{done:!1,value:L[H++]}},e:function(L){throw L},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var tt,it=!0,nt=!1;return{s:function(){z=z.call(L)},n:function(){var L=z.next();return it=L.done,L},e:function(L){nt=!0,tt=L},f:function(){try{it||null==z.return||z.return()}finally{if(nt)throw tt}}}}function _arrayLikeToArray(L,S){(null==S||S>L.length)&&(S=L.length);for(var z=0,H=new Array(S);z<S;z++)H[z]=L[z];return H}H=[z(94242)],void 0===(tt=function(){function removeTrailingCommaFromArray(L){return L.replace(/, *]*$/,"]")}function convertToCamelCase(L){return L.replace(/-([a-z])/g,(function(L){return L[1].toUpperCase()}))}var L,S={},z=_createForOfIteratorHelper(document.querySelectorAll(".arches-urls"));try{for(z.s();!(L=z.n()).done;){var H,tt=_createForOfIteratorHelper(L.value.attributes);try{for(tt.s();!(H=tt.n()).done;){var it=H.value;if(it.specified&&"style"!==it.name&&"class"!==it.name)try{var nt=Function("return"+it.value)();nt||(nt=""),"object"===_typeof(nt)&&(nt=String(nt)),S[it.name]=nt}catch(L){S[it.name]=String(it.value)}}}catch(L){tt.e(L)}finally{tt.f()}}}catch(L){z.e(L)}finally{z.f()}var ot,at={},rt=_createForOfIteratorHelper(document.querySelectorAll(".arches-translations"));try{for(rt.s();!(ot=rt.n()).done;){var ht,dt=_createForOfIteratorHelper(ot.value.attributes);try{for(dt.s();!(ht=dt.n()).done;){var pt=ht.value;pt.specified&&"style"!==pt.name&&"class"!==pt.name&&(at[convertToCamelCase(pt.name)]=JSON.parse(pt.value))}}catch(L){dt.e(L)}finally{dt.f()}}}catch(L){rt.e(L)}finally{rt.f()}var gt,_t={},bt=_createForOfIteratorHelper(document.querySelectorAll(".arches-data"));try{for(bt.s();!(gt=bt.n()).done;){var xt,kt=_createForOfIteratorHelper(gt.value.attributes);try{for(kt.s();!(xt=kt.n()).done;){var Ct=xt.value;if(Ct.specified&&"style"!==Ct.name&&"class"!==Ct.name){var Lt=convertToCamelCase(Ct.name);try{_t[Lt]=JSON.parse(Ct.value)}catch(L){try{_t[Lt]=JSON.parse(Ct.value.replace(/,\s*}*$/,"}"))}catch(L){try{_t[Lt]=JSON.parse(removeTrailingCommaFromArray(Ct.value))}catch(L){_t[Lt]=JSON.parse('"'.concat(Ct.value,'"'))}}}}}}catch(L){kt.e(L)}finally{kt.f()}}}catch(L){bt.e(L)}finally{bt.f()}return _objectSpread(_objectSpread({},_t),{},{translations:at,urls:S})}.apply(S,H))||(L.exports=tt)},66504:function(L,S,z){var H,tt;H=[z(20198),z(84490),z(54922),z(35605)],void 0===(tt=function(L,S,z,H){return z.bindingHandlers.leaflet={init:function(S,tt,it,nt){var ot=z.unwrap(tt()),at=H.map(S,ot);"function"==typeof ot.afterRender&&ot.afterRender(at),L(S).mousedown((function(L){L.stopPropagation()}))}},z.bindingHandlers.leaflet}.apply(S,H))||(L.exports=tt)},86535:function(L,S,z){var H,tt;H=[z(20198),z(54922)],void 0===(tt=function(L,S){return S.bindingHandlers.scrollTo={update:function(z,H,tt){var it=H();if(S.unwrap(it)){var nt=L(z),ot=L(tt.get("container")||"html, body"),at=tt.get("scrollDirection")||"vertical";if("vertical"===at){var rt=L(window).height(),ht=ot.offset().top,dt=nt.offset().top+nt.outerHeight();(dt>rt||dt<ht)&&ot.stop().animate({scrollTop:nt.offset().top-ht+ot.scrollTop()-50},500)}else if("horizontal"===at){var pt=L(window).width(),gt=nt.offset().left,_t=gt+nt.width();gt<50?ot.stop().animate({scrollLeft:ot.scrollLeft()+gt-50},500):_t>pt&&ot.stop().animate({scrollLeft:ot.scrollLeft()+_t-pt},500)}}}},S.bindingHandlers.scrollTo}.apply(S,H))||(L.exports=tt)},87720:function(L,S,z){var H,tt;H=[z(20198),z(54922),z(84490),z(16950)],void 0===(tt=function(L,S,z){return S.bindingHandlers.select2Query={init:function(H,tt,it){var nt=it().select2Query,ot=S.utils.unwrapObservable(nt.select2Config);ot=Object.assign({},ot);var at=(ot=z.defaults(ot,{clickBubble:!0,multiple:!1,allowClear:!0})).value;S.utils.domNodeDisposal.addDisposeCallback(H,(function(){L(H).select2("destroy")}));var rt=ot.placeholder;S.isObservable(rt)&&(rt.subscribe((function(S){ot.placeholder=S,L(H).select2("destroy").select2(ot)})),ot.placeholder=ot.placeholder(),ot.allowClear&&(ot.placeholder=""===ot.placeholder?" ":ot.placeholder)),L(H).select2(ot),at&&(L(H).select2("val",at()),at.subscribe((function(S){ot.value=S,L(H).select2("val",S)}),this),L(H).on("change",(function(L){return""===L.val&&(L.val=null),at(L.val)}))),S.unwrap(ot.disabled)&&(L(H).select2("disable"),ot.disabled.subscribe((function(S){!1===S&&L(H).select2("enable")}))),L(H).on("select2-opening",(function(){ot.clickBubble&&L(H).parent().trigger("click")})),"function"==typeof ot.onSelect&&L(H).on("select2-selecting",(function(L){ot.onSelect(L.choice)})),"function"==typeof ot.onClear&&L(H).on("select2-clearing",(function(L){ot.onClear(L.choice)}))}},S.bindingHandlers.select2}.apply(S,H))||(L.exports=tt)},44050:function(L,S,z){var H,tt,it;tt=[z(54922),z(20198),z(50847)],H=function(L,S){var z="ko_sortItem",H="ko_sourceIndex",tt="ko_sortList",it="ko_parentList",nt="ko_dragItem",ot=L.utils.unwrapObservable,at=L.utils.domData.get,rt=L.utils.domData.set,ht=S.ui&&S.ui.version,dt=ht&&ht.indexOf("1.6.")&&ht.indexOf("1.7.")&&(ht.indexOf("1.8.")||"1.8.24"===ht),addMetaDataAfterRender=function(S,H){L.utils.arrayForEach(S,(function(L){1===L.nodeType&&(rt(L,z,H),rt(L,it,at(L.parentNode,tt)))}))},prepareTemplateOptions=function(S,z){var H,tt={},it=ot(S())||{};return it.data?(tt[z]=it.data,tt.name=it.template):tt[z]=S(),L.utils.arrayForEach(["afterAdd","afterRender","as","beforeRemove","includeDestroyed","templateEngine","templateOptions","nodes"],(function(S){Object.prototype.hasOwnProperty.call(it,S)?tt[S]=it[S]:Object.prototype.hasOwnProperty.call(L.bindingHandlers.sortable,S)&&(tt[S]=L.bindingHandlers.sortable[S])})),"foreach"===z&&(tt.afterRender?(H=tt.afterRender,tt.afterRender=function(L,S){addMetaDataAfterRender.call(S,L,S),H.call(S,L,S)}):tt.afterRender=addMetaDataAfterRender),tt},updateIndexFromDestroyedItems=function(L,S){var z=ot(S);if(z)for(var H=0;H<L;H++)z[H]&&ot(z[H]._destroy)&&L++;return L},stripTemplateWhitespace=function(z,H){var tt,it;H?(it=document.getElementById(H))&&(tt=new L.templateSources.domElement(it)).text(S.trim(tt.text())):S(z).contents().each((function(){this&&1!==this.nodeType&&z.removeChild(this)}))};L.bindingHandlers.sortable={init:function(ht,pt,gt,_t,bt){var xt,kt,Ct=S(ht),Lt=ot(pt())||{},Tt=prepareTemplateOptions(pt,"foreach"),Et={};stripTemplateWhitespace(ht,Tt.name),S.extend(!0,Et,L.bindingHandlers.sortable),Lt.options&&Et.options&&(L.utils.extend(Et.options,Lt.options),delete Lt.options),L.utils.extend(Et,Lt),Et.connectClass&&(L.isObservable(Et.allowDrop)||"function"==typeof Et.allowDrop)?L.computed({read:function(){var S=ot(Et.allowDrop),z="function"==typeof S?S.call(this,Tt.foreach):S;L.utils.toggleDomNodeCssClass(ht,Et.connectClass,z)},disposeWhenNodeIsRemoved:ht},this):L.utils.toggleDomNodeCssClass(ht,Et.connectClass,Et.allowDrop),L.bindingHandlers.template.init(ht,(function(){return Tt}),gt,_t,bt),xt=Et.options.start,kt=Et.options.update,Et.options.helper||(Et.options.helper=function(L,z){return z.is("tr")&&z.children().each((function(){S(this).width(S(this).width())})),z});var Mt=setTimeout((function(){var pt,gt=Et.options.receive;Ct.sortable(L.utils.extend(Et.options,{start:function(S,z){var tt=z.item[0];rt(tt,H,L.utils.arrayIndexOf(z.item.parent().children(),tt)),z.item.find("input:focus").change(),xt&&xt.apply(this,arguments)},receive:function(L,S){"function"==typeof gt&&gt.call(this,L,S),(pt=at(S.item[0],nt))&&(pt.clone&&(pt=pt.clone()),Et.dragged&&(pt=Et.dragged.call(this,pt,L,S)||pt))},update:function(nt,ht){var gt,_t,bt,xt,Ct,Lt=ht.item[0],Mt=ht.item.parent()[0],Pt=at(Lt,z)||pt;if(Pt||S(Lt).remove(),pt=null,Pt&&this===Mt||!dt&&S.contains(this,Mt)){if(gt=at(Lt,it),bt=at(Lt,H),_t=at(Lt.parentNode,tt),xt=L.utils.arrayIndexOf(ht.item.parent().children(),Lt),Tt.includeDestroyed||(bt=updateIndexFromDestroyedItems(bt,gt),xt=updateIndexFromDestroyedItems(xt,_t)),(Et.beforeMove||Et.afterMove)&&(Ct={item:Pt,sourceParent:gt,sourceParentNode:gt&&ht.sender||Lt.parentNode,sourceIndex:bt,targetParent:_t,targetIndex:xt,cancelDrop:!1},Et.beforeMove&&Et.beforeMove.call(this,Ct,nt,ht)),gt&&!Et.addToSelf?S(gt===_t?this:ht.sender||this).sortable("cancel"):S(Lt).remove(),Ct&&Ct.cancelDrop)return;if(Object.prototype.hasOwnProperty.call(Et,"strategyMove")&&!1!==Et.strategyMove){if(xt>=0)if(gt)if(gt!==_t)gt.splice(bt,1),_t.splice(xt,0,Pt),rt(Lt,z,null),ht.item.remove();else{var Dt=ot(gt);gt.valueWillMutate&&gt.valueWillMutate(),Dt.splice(bt,1),Dt.splice(xt,0,Pt),gt.valueHasMutated&&gt.valueHasMutated()}else _t.splice(xt,0,Pt),rt(Lt,z,null),ht.item.remove()}else xt>=0&&(gt&&(gt.splice(bt,1),L.processAllDeferredBindingUpdates&&L.processAllDeferredBindingUpdates(),L.options&&L.options.deferUpdates&&L.tasks.runEarly()),_t.splice(xt,0,Pt)),rt(Lt,z,null);L.processAllDeferredBindingUpdates&&L.processAllDeferredBindingUpdates(),Et.afterMove&&Et.afterMove.call(this,Ct,nt,ht)}kt&&kt.apply(this,arguments)},connectWith:!!Et.connectClass&&"."+Et.connectClass})),void 0!==Et.isEnabled&&L.computed({read:function(){Ct.sortable(ot(Et.isEnabled)?"enable":"disable")},disposeWhenNodeIsRemoved:ht})}),0);return L.utils.domNodeDisposal.addDisposeCallback(ht,(function(){(Ct.data("ui-sortable")||Ct.data("sortable"))&&Ct.sortable("destroy"),L.utils.toggleDomNodeCssClass(ht,Et.connectClass,!1),clearTimeout(Mt)})),{controlsDescendantBindings:!0}},update:function(S,z,H,it,nt){var ot=prepareTemplateOptions(z,"foreach");rt(S,tt,ot.foreach),L.bindingHandlers.template.update(S,(function(){return ot}),H,it,nt)},connectClass:"ko_container",allowDrop:!0,afterMove:null,beforeMove:null,options:{}},L.bindingHandlers.draggable={init:function(z,H,tt,it,at){var ht=ot(H())||{},dt=ht.options||{},pt=L.utils.extend({},L.bindingHandlers.draggable.options),gt=prepareTemplateOptions(H,"data"),_t=ht.connectClass||L.bindingHandlers.draggable.connectClass,bt=void 0!==ht.isEnabled?ht.isEnabled:L.bindingHandlers.draggable.isEnabled;return ht="data"in ht?ht.data:ht,rt(z,nt,ht),L.utils.extend(pt,dt),pt.connectToSortable=!!_t&&"."+_t,S(z).draggable(pt),void 0!==bt&&L.computed({read:function(){S(z).draggable(ot(bt)?"enable":"disable")},disposeWhenNodeIsRemoved:z}),L.utils.domNodeDisposal.addDisposeCallback(z,(function(){S(z).draggable("destroy")})),L.bindingHandlers.template.init(z,(function(){return gt}),tt,it,at)},update:function(S,z,H,tt,it){var nt=prepareTemplateOptions(z,"data");return L.bindingHandlers.template.update(S,(function(){return nt}),H,tt,it)},connectClass:L.bindingHandlers.sortable.connectClass,options:{helper:"clone"}}},void 0===(it="function"==typeof H?H.apply(S,tt):H)||(L.exports=it)},32274:function(L,S,z){var H,tt;H=[z(46186)],tt=function(L){var S={},z={lookupResourceInstanceData:function(z){var H=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return S[z]&&H?Promise.resolve(S[z]):window.fetch("".concat(L.urls.search_results,"?id=").concat(z,"&tiles=true")).then((function(L){if(L.ok)return L.json()})).then((function(L){return S[z]=L.results.hits.hits[0],S[z]}))},getNodeValues:function(L,S,z){var H,tt=[],it=!!L.returnTiles,resolveWidgetLabel=function(L,S,z){var H,tt,it="",nt=L.split(".");1===nt.length?it=nt[0]:2===nt.length&&(H=nt[0],it=nt[1]),H&&(tt=S.filter((function(L){return L.name===H})).map((function(L){return L.cardid})),z=z.filter((function(L){return tt.includes(L.card_id)})));var ot=z.filter((function(L){return L.label===it})).map((function(L){return L.node_id}));return(!ot||ot.length>1)&&console.log("Can't resolve path '",L,"' into a single nodeid"),ot};if(L.nodeId)H=[L.nodeId];else if(L.nodeName){var nt=z.nodes.find((function(S){return S.name===L.nodeName}));nt&&(H=nt.nodeid)}else L.widgetLabel&&(H=resolveWidgetLabel(L.widgetLabel,z.cards,z.widgets));if(H&&1===H.length){if(H=H[0],tt=S.filter((function(L){return Object.keys(L.data).includes(H)})),L.where)if(L.where.nodeId)tt=tt.filter((function(S){return!!L.where.contains&&S.data[L.where.nodeId].includes(L.where.contains)}));else if(L.where.widgetLabel){var ot=resolveWidgetLabel(L.where.widgetLabel,z.cards,z.widgets);ot&&1===ot.length&&(tt=tt.filter((function(S){return!!L.where.contains&&S.data[ot].includes(L.where.contains)})))}return it?tt:tt.map((function(L){return L.data[H]})).flat(1/0)}}};return z}.apply(S,H),void 0===tt||(L.exports=tt)},94242:function(L,S,z){var H,tt;H=[z(20198),z(3942)],void 0===(tt=function(L,S){L.ajaxSetup({beforeSend:function(L,z){var H;H=z.type,/^(GET|HEAD|OPTIONS|TRACE)$/.test(H)||this.crossDomain||L.setRequestHeader("X-CSRFToken",S.get("csrftoken"))}})}.apply(S,H))||(L.exports=tt)},62666:function(L,S,z){var H,tt;H=[z(54922)],void 0===(tt=function(L){return function(S,z,H,tt,it){var nt=this;this.active=L.observable(!0),this.close=function(){nt.active(!1)},this.type=L.observable(S),this.title=L.observable(z),this.text=L.observable(H),this.ok=!1,this.cancel=!1,"function"==typeof it&&(this.ok=function(){nt.close(),it()}),"function"==typeof tt&&(this.cancel=function(){nt.close(),tt()})}}.apply(S,H))||(L.exports=tt)},66186:function(L,S,z){var H,tt;function _typeof(L){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},_typeof(L)}function _regeneratorRuntime(){"use strict";_regeneratorRuntime=function(){return L};var L={},S=Object.prototype,z=S.hasOwnProperty,H=Object.defineProperty||function(L,S,z){L[S]=z.value},tt="function"==typeof Symbol?Symbol:{},it=tt.iterator||"@@iterator",nt=tt.asyncIterator||"@@asyncIterator",ot=tt.toStringTag||"@@toStringTag";function define(L,S,z){return Object.defineProperty(L,S,{value:z,enumerable:!0,configurable:!0,writable:!0}),L[S]}try{define({},"")}catch(L){define=function(L,S,z){return L[S]=z}}function wrap(L,S,z,tt){var it=S&&S.prototype instanceof Generator?S:Generator,nt=Object.create(it.prototype),ot=new Context(tt||[]);return H(nt,"_invoke",{value:makeInvokeMethod(L,z,ot)}),nt}function tryCatch(L,S,z){try{return{type:"normal",arg:L.call(S,z)}}catch(L){return{type:"throw",arg:L}}}L.wrap=wrap;var at={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var rt={};define(rt,it,(function(){return this}));var ht=Object.getPrototypeOf,dt=ht&&ht(ht(values([])));dt&&dt!==S&&z.call(dt,it)&&(rt=dt);var pt=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(rt);function defineIteratorMethods(L){["next","throw","return"].forEach((function(S){define(L,S,(function(L){return this._invoke(S,L)}))}))}function AsyncIterator(L,S){function invoke(H,tt,it,nt){var ot=tryCatch(L[H],L,tt);if("throw"!==ot.type){var at=ot.arg,rt=at.value;return rt&&"object"==_typeof(rt)&&z.call(rt,"__await")?S.resolve(rt.__await).then((function(L){invoke("next",L,it,nt)}),(function(L){invoke("throw",L,it,nt)})):S.resolve(rt).then((function(L){at.value=L,it(at)}),(function(L){return invoke("throw",L,it,nt)}))}nt(ot.arg)}var tt;H(this,"_invoke",{value:function(L,z){function callInvokeWithMethodAndArg(){return new S((function(S,H){invoke(L,z,S,H)}))}return tt=tt?tt.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(L,S,z){var H="suspendedStart";return function(tt,it){if("executing"===H)throw new Error("Generator is already running");if("completed"===H){if("throw"===tt)throw it;return doneResult()}for(z.method=tt,z.arg=it;;){var nt=z.delegate;if(nt){var ot=maybeInvokeDelegate(nt,z);if(ot){if(ot===at)continue;return ot}}if("next"===z.method)z.sent=z._sent=z.arg;else if("throw"===z.method){if("suspendedStart"===H)throw H="completed",z.arg;z.dispatchException(z.arg)}else"return"===z.method&&z.abrupt("return",z.arg);H="executing";var rt=tryCatch(L,S,z);if("normal"===rt.type){if(H=z.done?"completed":"suspendedYield",rt.arg===at)continue;return{value:rt.arg,done:z.done}}"throw"===rt.type&&(H="completed",z.method="throw",z.arg=rt.arg)}}}function maybeInvokeDelegate(L,S){var z=S.method,H=L.iterator[z];if(void 0===H)return S.delegate=null,"throw"===z&&L.iterator.return&&(S.method="return",S.arg=void 0,maybeInvokeDelegate(L,S),"throw"===S.method)||"return"!==z&&(S.method="throw",S.arg=new TypeError("The iterator does not provide a '"+z+"' method")),at;var tt=tryCatch(H,L.iterator,S.arg);if("throw"===tt.type)return S.method="throw",S.arg=tt.arg,S.delegate=null,at;var it=tt.arg;return it?it.done?(S[L.resultName]=it.value,S.next=L.nextLoc,"return"!==S.method&&(S.method="next",S.arg=void 0),S.delegate=null,at):it:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,at)}function pushTryEntry(L){var S={tryLoc:L[0]};1 in L&&(S.catchLoc=L[1]),2 in L&&(S.finallyLoc=L[2],S.afterLoc=L[3]),this.tryEntries.push(S)}function resetTryEntry(L){var S=L.completion||{};S.type="normal",delete S.arg,L.completion=S}function Context(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(pushTryEntry,this),this.reset(!0)}function values(L){if(L){var S=L[it];if(S)return S.call(L);if("function"==typeof L.next)return L;if(!isNaN(L.length)){var H=-1,tt=function next(){for(;++H<L.length;)if(z.call(L,H))return next.value=L[H],next.done=!1,next;return next.value=void 0,next.done=!0,next};return tt.next=tt}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,H(pt,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),H(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,ot,"GeneratorFunction"),L.isGeneratorFunction=function(L){var S="function"==typeof L&&L.constructor;return!!S&&(S===GeneratorFunction||"GeneratorFunction"===(S.displayName||S.name))},L.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,GeneratorFunctionPrototype):(L.__proto__=GeneratorFunctionPrototype,define(L,ot,"GeneratorFunction")),L.prototype=Object.create(pt),L},L.awrap=function(L){return{__await:L}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,nt,(function(){return this})),L.AsyncIterator=AsyncIterator,L.async=function(S,z,H,tt,it){void 0===it&&(it=Promise);var nt=new AsyncIterator(wrap(S,z,H,tt),it);return L.isGeneratorFunction(z)?nt:nt.next().then((function(L){return L.done?L.value:nt.next()}))},defineIteratorMethods(pt),define(pt,ot,"Generator"),define(pt,it,(function(){return this})),define(pt,"toString",(function(){return"[object Generator]"})),L.keys=function(L){var S=Object(L),z=[];for(var H in S)z.push(H);return z.reverse(),function next(){for(;z.length;){var L=z.pop();if(L in S)return next.value=L,next.done=!1,next}return next.done=!0,next}},L.values=values,Context.prototype={constructor:Context,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!L)for(var S in this)"t"===S.charAt(0)&&z.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var L=this.tryEntries[0].completion;if("throw"===L.type)throw L.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var S=this;function handle(z,H){return it.type="throw",it.arg=L,S.next=z,H&&(S.method="next",S.arg=void 0),!!H}for(var H=this.tryEntries.length-1;H>=0;--H){var tt=this.tryEntries[H],it=tt.completion;if("root"===tt.tryLoc)return handle("end");if(tt.tryLoc<=this.prev){var nt=z.call(tt,"catchLoc"),ot=z.call(tt,"finallyLoc");if(nt&&ot){if(this.prev<tt.catchLoc)return handle(tt.catchLoc,!0);if(this.prev<tt.finallyLoc)return handle(tt.finallyLoc)}else if(nt){if(this.prev<tt.catchLoc)return handle(tt.catchLoc,!0)}else{if(!ot)throw new Error("try statement without catch or finally");if(this.prev<tt.finallyLoc)return handle(tt.finallyLoc)}}}},abrupt:function(L,S){for(var H=this.tryEntries.length-1;H>=0;--H){var tt=this.tryEntries[H];if(tt.tryLoc<=this.prev&&z.call(tt,"finallyLoc")&&this.prev<tt.finallyLoc){var it=tt;break}}it&&("break"===L||"continue"===L)&&it.tryLoc<=S&&S<=it.finallyLoc&&(it=null);var nt=it?it.completion:{};return nt.type=L,nt.arg=S,it?(this.method="next",this.next=it.finallyLoc,at):this.complete(nt)},complete:function(L,S){if("throw"===L.type)throw L.arg;return"break"===L.type||"continue"===L.type?this.next=L.arg:"return"===L.type?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):"normal"===L.type&&S&&(this.next=S),at},finish:function(L){for(var S=this.tryEntries.length-1;S>=0;--S){var z=this.tryEntries[S];if(z.finallyLoc===L)return this.complete(z.completion,z.afterLoc),resetTryEntry(z),at}},catch:function(L){for(var S=this.tryEntries.length-1;S>=0;--S){var z=this.tryEntries[S];if(z.tryLoc===L){var H=z.completion;if("throw"===H.type){var tt=H.arg;resetTryEntry(z)}return tt}}throw new Error("illegal catch attempt")},delegateYield:function(L,S,z){return this.delegate={iterator:values(L),resultName:S,nextLoc:z},"next"===this.method&&(this.arg=void 0),at}},L}function asyncGeneratorStep(L,S,z,H,tt,it,nt){try{var ot=L[it](nt),at=ot.value}catch(L){return void z(L)}ot.done?S(at):Promise.resolve(at).then(H,tt)}H=[z(54922),z(84490),z(46186),z(62666),z(86535)],tt=function(L,S,z,H){return function(tt){var it,nt,ot=this;!tt.card&&L.unwrap(tt.form.card)&&(tt.card=L.unwrap(tt.form.card)),this.inResourceEditor=location.pathname.includes(z.urls.resource_editor),this.configKeys=tt.configKeys||[],this.showIds=tt.showIds||!1,this.state=tt.state||"form",this.preview=tt.preview,this.loading=tt.loading||L.observable(!1),this.card=tt.card,this.showGrid=null==tt||null===(it=tt.form)||void 0===it?void 0:it.showGrid,this.toggleGrid=null==tt||null===(nt=tt.form)||void 0===nt?void 0:nt.toggleGrid,this.card.hideEmptyNodes=tt.hideEmptyNodes,this.card.showIds=this.showIds,this.tile=tt.tile,this.reportExpanded=L.observable(!0),this.form=tt.form,this.provisionalTileViewModel=tt.provisionalTileViewModel,this.reviewer=tt.reviewer,this.expanded=L.observable(!0),this.showHeaderLine=tt.showHeaderLine,this.config=this.card.model?this.card.model.get("config"):{},S.each(this.configKeys,(function(L){ot[L]=ot.config[L]})),this.showChildCards=L.computed((function(){return 0===this.card.widgets().length}),this),this.initialize=function(){ot.card.showForm(!0),ot.tiles=L.computed((function(){var L=[];return ot.tile?ot.getTiles(ot.tile):(ot.card.tiles().forEach((function(S){ot.getTiles(S,L)})),L)}),ot),L.isObservable(tt.tiles)&&(tt.tiles(ot.tiles()),ot.tiles.subscribe((function(L){tt.tiles(L)}))),ot.dirty=L.computed((function(){return!L.unwrap(ot.tiles)||L.unwrap(ot.tiles).reduce((function(L,S){return S.dirty()&&(L=!0),L}),!1)})),L.isObservable(tt.dirty)&&ot.dirty.subscribe((function(L){tt.dirty(L)})),ot.preview&&(ot.card.newTile||(ot.card.newTile=ot.card.getNewTile()),ot.tile=ot.card.newTile),ot.card.tiles().length>0&&ot.card.showForm(!1),ot.card.preSaveCallback&&ot.card.preSaveCallback(ot.saveTile)},this.revealForm=function(L){L.selected()||L.selected(!0),setTimeout((function(){L.showForm(!0)}),50)},this.getTiles=function(L,S){return S=S||[L],L.cards.forEach((function(L){L.tiles().forEach((function(L){S.push(L),ot.getTiles(L,S)}))})),S},this.beforeMove=function(L){L.cancelDrop=L.sourceParent!==L.targetParent},this.startDrag=function(S,z){L.utils.domData.get(z.item[0],"ko_sortItem").selected(!0)},this.getValuesByDatatype=function(z){var H={};if(ot.tile&&ot.form){var tt=ot.tile.getAttributes().data;S.each(tt,(function(S,tt){var it=ot.form.nodeLookup[tt];it&&L.unwrap(it.datatype)===z&&(H[L.unwrap(it.id)]={name:L.unwrap(it.name),value:S})}))}return H},this.selectWorkflowTile=function(L){L.selected(!0),ot.tile=L,tt.dirty(!0)},this.saveTile=function(S){var z,it;ot.loading(!0),ot.tile.transactionId=(null===(z=tt.form)||void 0===z?void 0:z.workflowId)||void 0,ot.tile.resourceinstance_id=ot.tile.resourceinstance_id||L.unwrap(null===(it=tt.form)||void 0===it?void 0:it.resourceId),ot.tile.save((function(L){var S;ot.loading(!1),null!=tt&&null!==(S=tt.form)&&void 0!==S&&S.error&&tt.form.error(L.responseJSON.message),tt.pageVm.alert(new H("ep-alert-red",L.responseJSON.title,L.responseJSON.message,null,(function(){}))),tt.form.onSaveError&&tt.form.onSaveError(ot.tile)}),(function(){ot.loading(!1),"function"==typeof ot.onSaveSuccess&&ot.onSaveSuccess(),tt.form.onSaveSuccess&&tt.form.onSaveSuccess(ot.tile),"function"==typeof S&&S()}))};var saveTileInWorkflow=function(){ot.saveTile((function(){tt.form.complete(!0)}))};tt.save&&(tt.save=saveTileInWorkflow),tt.form&&tt.form.save&&(tt.form.save=saveTileInWorkflow),"workflow"===tt.renderContext&&"n"===tt.form.componentData.cardinalityOverride&&(ot.card.selected(!0),ot.inResourceEditor=!0),this.saveTileAddNew=function(){ot.saveTile((function(){window.setTimeout((function(){ot.card.selected(!0)}),1)}))},this.deleteTile=function(){ot.loading(!0),ot.tile.deleteTile((function(L){ot.loading(!1),tt.pageVm.alert(new H("ep-alert-red",L.responseJSON.title,L.responseJSON.message,null,(function(){}))),tt.form.onDeleteError&&tt.form.onDeleteError(ot.tile)}),(function(){ot.loading(!1),"function"==typeof ot.onDeleteSuccess&&ot.onDeleteSuccess(),tt.form.onDeleteSuccess&&tt.form.onDeleteSuccess(ot.tile)}))},this.createParentAndChild=function(){var L,S=(L=_regeneratorRuntime().mark((function _callee(L,S){return _regeneratorRuntime().wrap((function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,z.next=3,ot.card.saveParentTile(L);case 3:z.sent&&S.selected(!0),z.next=10;break;case 7:z.prev=7,z.t0=z.catch(0),console.log(z.t0);case 10:case"end":return z.stop()}}),_callee,null,[[0,7]])})),function(){var S=this,z=arguments;return new Promise((function(H,tt){var it=L.apply(S,z);function _next(L){asyncGeneratorStep(it,H,tt,_next,_throw,"next",L)}function _throw(L){asyncGeneratorStep(it,H,tt,_next,_throw,"throw",L)}_next(void 0)}))});return function(L,z){return S.apply(this,arguments)}}(),this.initialize()}}.apply(S,H),void 0===tt||(L.exports=tt)},20025:function(L,S,z){var H,tt;H=[z(54922),z(58420),z(66186),z(22172),z(62666),z(32441)],void 0===(tt=function(L,S,z,H,tt,it){var viewModel=function(it){var nt=this;it.configKeys=["defaultManifest"],z.apply(this,[it]);var ot=!0;nt.tile&&(ot=!nt.tile.tileid),ot&&(this.onSaveSuccess=function(){nt.card.center=nt.map().getCenter(),nt.card.zoom=nt.map().getZoom()}),this.deleteTile=function(){nt.loading(!0),nt.tile.deleteTile((function(L){nt.loading(!1),it.pageVm.alert(new tt("ep-alert-red",L.responseJSON.title,L.responseJSON.message,null,(function(){}))),it.form.onDeleteError&&it.form.onDeleteError(nt.tile)}),(function(){nt.loading(!1),nt.card.tiles().length||(nt.card.manifest=void 0,nt.card.canvas=void 0),it.form.onDeleteSuccess&&it.form.onDeleteSuccess(nt.tile)}))},this.form&&this.tile&&(it.widgets=this.card.widgets().filter((function(S){var z=S.node_id();return"annotation"===L.unwrap(nt.form.nodeLookup[z].datatype)})),it.widgets.forEach((function(L){var z=L.node_id(),H=S.toJS(nt.tile.data[z]);H&&H.features.forEach((function(L){L.properties.manifest&&!it.manifest&&(it.manifest=L.properties.manifest),L.properties.canvas&&!it.canvas&&(it.canvas=L.properties.canvas)}))}))),it.manifest||(it.manifest=this.card.manifest||this.defaultManifest()),it.canvas=it.canvas||this.card.canvas,it.center=this.card.center,it.zoom=this.card.zoom,it.expandGallery=this.card.expandGallery,it.showGallery=this.card.showGallery,H.apply(this,[it]),this.form&&!this.preview&&(this.card.manifest=this.manifest(),this.card.canvas=this.canvas(),this.manifest.subscribe((function(L){nt.card.manifest=L})),this.canvas.subscribe((function(L){nt.card.canvas=L}))),this.preview&&(this.manifest.subscribe((function(L){L!==nt.defaultManifest()&&nt.defaultManifest(L)})),this.defaultManifest.subscribe((function(L){L!==nt.manifest()&&nt.manifest(L)}))),nt.card.center=void 0,nt.card.zoom=void 0,nt.expandGallery.subscribe((function(L){nt.card.expandGallery=L})),nt.showGallery.subscribe((function(L){nt.card.showGallery=L}))};return L.components.register("iiif-card",{viewModel:viewModel,template:it}),viewModel}.apply(S,H))||(L.exports=tt)},22172:function(L,S,z){var H,tt;H=[z(20198),z(84490),z(54922),z(58420),z(35605),z(59732),z(28459),z(91762),z(87689)],void 0===(tt=function(L,S,z,H,tt,it,nt,ot){return function(L){var at,rt,ht=this,dt=z.observableArray(),pt=new tt.FeatureGroup;this.drawFeatures=dt,this.widgets=L.widgets||[],this.newNodeId=null,this.featureLookup={},this.selectedFeatureIds=z.observableArray(),this.lineColor=z.observable("#3388ff"),this.fillColor=z.observable("#3388ff"),this.lineWidth=z.observable(3),this.pointRadius=z.observable(10),this.lineOpacity=z.observable(1),this.fillOpacity=z.observable(.2),this.showStylingTools=z.observable(!1),this.hideEditorTab=L.hideEditorTab||z.observable(!1),this.cancelDrawing=function(){S.each(rt,(function(L){L.disable()}))},this.setDrawTool=function(L){ht.cancelDrawing(),L&&rt&&rt[L].enable()},ht.widgets.forEach((function(L){var tt=z.unwrap(L.node_id);ht.featureLookup[tt]={features:z.computed((function(){var L=H.toJS(ht.tile.data[tt]);return L?L.features:[]})),selectedTool:z.observable()},ht.featureLookup[tt].selectedTool.subscribe((function(L){at&&(L&&(S.each(ht.featureLookup,(function(L,S){S!==tt&&L.selectedTool(null)})),ht.newNodeId=tt),ht.setDrawTool(L),disableEditing())}))})),this.selectedTool=z.pureComputed((function(){var L;return S.find(ht.featureLookup,(function(S){var z=S.selectedTool();z&&(L=z)})),L})),this.editing=z.pureComputed((function(){return!!(ht.selectedFeatureIds().length>0||ht.selectedTool())})),this.updateTiles=function(){S.each(ht.featureLookup,(function(L){L.selectedTool(null)})),ht.widgets.forEach((function(L){var S=z.unwrap(L.node_id),H=[];dt().forEach((function(L){L.properties.nodeId===S&&H.push(L)})),z.isObservable(ht.tile.data[S])?ht.tile.data[S]({type:"FeatureCollection",features:H}):ht.tile.data[S].features(H)}))};var updateDrawFeatures=function(){dt([]),ht.widgets.forEach((function(S){var tt=z.unwrap(S.node_id),it=H.toJS(ht.tile.data[tt]);it&&it.features&&(it.features.forEach((function(S){S.properties.manifest&&!L.manifest&&(L.manifest=S.properties.manifest),S.properties.canvas&&!L.canvas&&(L.canvas=S.properties.canvas),S.properties.nodeId=tt})),dt(dt().concat(it.features)))}))};updateDrawFeatures(),ot.apply(this,[L]);var gt=this.canvas.subscribe((function(L){L&&(ht.expandGallery(!1),ht.activeTab(z.unwrap(ht.activeTab)||"editor"),gt.dispose())}));this.expandGallery.subscribe((function(L){L&&ht.hideSidePanel()})),this.getAnnotationCount=function(L){return dt().filter((function(S){return S.properties.canvas===L})).length};var _t,disableEditing=function(){bt&&bt.editing&&bt.editing.disable(),bt=void 0,ht.selectedFeatureIds([])},enableEditing=function(L){disableEditing(),(bt=L).options.editing||(bt.options.editing={}),bt.editing.enable(),ht.styleProperties(L.feature.properties),ht.selectedFeatureIds([L.feature.id])};this.styleProperties=z.computed({read:function(){return{color:ht.lineColor(),fillColor:ht.fillColor(),weight:ht.lineWidth(),radius:ht.pointRadius(),opacity:ht.lineOpacity(),fillOpacity:ht.fillOpacity()}},write:function(L){ht.lineColor(L.color),ht.fillColor(L.fillColor),ht.lineWidth(L.weight),ht.pointRadius(L.radius),ht.lineOpacity(L.opacity),ht.fillOpacity(L.fillOpacity)}}),this.featureClick=_t;var bt,xt=z.computed((function(){var L=ht.selectedFeatureIds(),S=ht.styleProperties();return tt.geoJson({type:"FeatureCollection",features:dt()},{pointToLayer:function(z,H){var it;return it=L.includes(z.id)?S:{color:z.properties.color,fillColor:z.properties.fillColor,weight:z.properties.weight,radius:z.properties.radius,opacity:z.properties.opacity,fillOpacity:z.properties.fillOpacity},tt.circleMarker(H,it)},style:function(z){var H;return H=L.includes(z.id)?S:{color:z.properties.color,fillColor:z.properties.fillColor,weight:z.properties.weight,radius:z.properties.radius,opacity:z.properties.opacity,fillOpacity:z.properties.fillOpacity},H},filter:function(L){return L.properties.canvas===ht.canvas()},onEachFeature:function(L,S){S.on("click",(function(L){enableEditing(L.target),_t=!0}))}})}));this.drawLayer=xt,xt.subscribe((function(L){var S=ht.map(),z=ht.selectedFeatureIds();S&&(pt.clearLayers(),pt.addLayer(L),L.getLayers().forEach((function(L){z.includes(L.feature.id)&&(L.options.editing||(L.options.editing={}),L.editing.enable())})))})),this.card&&(this.card.triggerUpdate=updateDrawFeatures),this.disableDrawing=z.computed((function(){return!ht.canvas()})),this.showFeature=function(L){ht.canvas(L.properties.canvas),ht.manifest()!==L.properties.manifest&&(ht.manifest(L.properties.manifest),ht.getManifestData()),setTimeout((function(){if("Point"===L.geometry.type){var S=L.geometry.coordinates;ht.map().panTo([S[1],S[0]])}else{var z=nt(L);ht.map().fitBounds([[z[1],z[0]],[z[3],z[2]]])}}),200)},this.editFeature=function(L){var S=pt.getLayers()[0].getLayers();ht.manifest()!==L.properties.manifest&&(ht.manifest(L.properties.manifest),ht.getManifestData()),ht.canvas(L.properties.canvas),S.forEach((function(S){S.feature.id===L.id&&enableEditing(S)}))},this.deleteFeature=function(L){dt().forEach((function(S){S.id===L.id&&dt.remove(S)})),ht.updateTiles()},this.canvas.subscribe(disableEditing),this.map.subscribe((function(L){L&&!at&&(L.addLayer(pt),pt.addLayer(xt()),at=new tt.Control.Draw({edit:{featureGroup:pt}}),L.addControl(at),rt={draw_point:new tt.Draw.CircleMarker(L,at.options.circlemarker),draw_line_string:new tt.Draw.Polyline(L,at.options.polyline),draw_polygon:new tt.Draw.Polygon(L,at.options.polygon)},ht.styleProperties.subscribe((function(L){S.each(rt,(function(S){"circlemarker"===S.type?S.setOptions(L):S.setOptions({shapeOptions:L})})),ht.selectedFeatureIds().forEach((function(S){dt().forEach((function(z){z.id===S&&(z.properties=Object.assign(z.properties,L))})),ht.updateTiles()}))})),L.on("draw:created",(function(L){var S=L.layer.toGeoJSON();S.id=it.generate(),S.properties=Object.assign({nodeId:ht.newNodeId,canvas:ht.canvas(),manifest:ht.manifest()},ht.styleProperties()),dt.push(S),ht.updateTiles(),ht.editFeature(S)})),L.on("draw:editvertex draw:editmove",(function(){var L=pt.getLayers()[0].getLayers();dt().forEach((function(S){L.forEach((function(L){S.id===L.feature.id&&(S.geometry=L.toGeoJSON().geometry)}))})),ht.updateTiles()})),L.on("click",(function(){_t||disableEditing(),_t=!1})),ht.form&&ht.form.on("tile-reset",(function(){disableEditing(),updateDrawFeatures(),S.each(ht.featureLookup,(function(L){L.selectedTool()&&L.selectedTool("")}))})))}))}}.apply(S,H))||(L.exports=tt)},91762:function(L,S,z){var H,tt;function ownKeys(L,S){var z=Object.keys(L);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(L);S&&(H=H.filter((function(S){return Object.getOwnPropertyDescriptor(L,S).enumerable}))),z.push.apply(z,H)}return z}function _objectSpread(L){for(var S=1;S<arguments.length;S++){var z=null!=arguments[S]?arguments[S]:{};S%2?ownKeys(Object(z),!0).forEach((function(S){_defineProperty(L,S,z[S])})):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(z)):ownKeys(Object(z)).forEach((function(S){Object.defineProperty(L,S,Object.getOwnPropertyDescriptor(z,S))}))}return L}function _defineProperty(L,S,z){return(S=function(L){var S=function(L,S){if("object"!==_typeof(L)||null===L)return L;var z=L[Symbol.toPrimitive];if(void 0!==z){var H=z.call(L,S||"default");if("object"!==_typeof(H))return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(L)}(L,"string");return"symbol"===_typeof(S)?S:String(S)}(S))in L?Object.defineProperty(L,S,{value:z,enumerable:!0,configurable:!0,writable:!0}):L[S]=z,L}function _typeof(L){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},_typeof(L)}function _regeneratorRuntime(){"use strict";_regeneratorRuntime=function(){return L};var L={},S=Object.prototype,z=S.hasOwnProperty,H=Object.defineProperty||function(L,S,z){L[S]=z.value},tt="function"==typeof Symbol?Symbol:{},it=tt.iterator||"@@iterator",nt=tt.asyncIterator||"@@asyncIterator",ot=tt.toStringTag||"@@toStringTag";function define(L,S,z){return Object.defineProperty(L,S,{value:z,enumerable:!0,configurable:!0,writable:!0}),L[S]}try{define({},"")}catch(L){define=function(L,S,z){return L[S]=z}}function wrap(L,S,z,tt){var it=S&&S.prototype instanceof Generator?S:Generator,nt=Object.create(it.prototype),ot=new Context(tt||[]);return H(nt,"_invoke",{value:makeInvokeMethod(L,z,ot)}),nt}function tryCatch(L,S,z){try{return{type:"normal",arg:L.call(S,z)}}catch(L){return{type:"throw",arg:L}}}L.wrap=wrap;var at={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var rt={};define(rt,it,(function(){return this}));var ht=Object.getPrototypeOf,dt=ht&&ht(ht(values([])));dt&&dt!==S&&z.call(dt,it)&&(rt=dt);var pt=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(rt);function defineIteratorMethods(L){["next","throw","return"].forEach((function(S){define(L,S,(function(L){return this._invoke(S,L)}))}))}function AsyncIterator(L,S){function invoke(H,tt,it,nt){var ot=tryCatch(L[H],L,tt);if("throw"!==ot.type){var at=ot.arg,rt=at.value;return rt&&"object"==_typeof(rt)&&z.call(rt,"__await")?S.resolve(rt.__await).then((function(L){invoke("next",L,it,nt)}),(function(L){invoke("throw",L,it,nt)})):S.resolve(rt).then((function(L){at.value=L,it(at)}),(function(L){return invoke("throw",L,it,nt)}))}nt(ot.arg)}var tt;H(this,"_invoke",{value:function(L,z){function callInvokeWithMethodAndArg(){return new S((function(S,H){invoke(L,z,S,H)}))}return tt=tt?tt.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(L,S,z){var H="suspendedStart";return function(tt,it){if("executing"===H)throw new Error("Generator is already running");if("completed"===H){if("throw"===tt)throw it;return doneResult()}for(z.method=tt,z.arg=it;;){var nt=z.delegate;if(nt){var ot=maybeInvokeDelegate(nt,z);if(ot){if(ot===at)continue;return ot}}if("next"===z.method)z.sent=z._sent=z.arg;else if("throw"===z.method){if("suspendedStart"===H)throw H="completed",z.arg;z.dispatchException(z.arg)}else"return"===z.method&&z.abrupt("return",z.arg);H="executing";var rt=tryCatch(L,S,z);if("normal"===rt.type){if(H=z.done?"completed":"suspendedYield",rt.arg===at)continue;return{value:rt.arg,done:z.done}}"throw"===rt.type&&(H="completed",z.method="throw",z.arg=rt.arg)}}}function maybeInvokeDelegate(L,S){var z=S.method,H=L.iterator[z];if(void 0===H)return S.delegate=null,"throw"===z&&L.iterator.return&&(S.method="return",S.arg=void 0,maybeInvokeDelegate(L,S),"throw"===S.method)||"return"!==z&&(S.method="throw",S.arg=new TypeError("The iterator does not provide a '"+z+"' method")),at;var tt=tryCatch(H,L.iterator,S.arg);if("throw"===tt.type)return S.method="throw",S.arg=tt.arg,S.delegate=null,at;var it=tt.arg;return it?it.done?(S[L.resultName]=it.value,S.next=L.nextLoc,"return"!==S.method&&(S.method="next",S.arg=void 0),S.delegate=null,at):it:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,at)}function pushTryEntry(L){var S={tryLoc:L[0]};1 in L&&(S.catchLoc=L[1]),2 in L&&(S.finallyLoc=L[2],S.afterLoc=L[3]),this.tryEntries.push(S)}function resetTryEntry(L){var S=L.completion||{};S.type="normal",delete S.arg,L.completion=S}function Context(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(pushTryEntry,this),this.reset(!0)}function values(L){if(L){var S=L[it];if(S)return S.call(L);if("function"==typeof L.next)return L;if(!isNaN(L.length)){var H=-1,tt=function next(){for(;++H<L.length;)if(z.call(L,H))return next.value=L[H],next.done=!1,next;return next.value=void 0,next.done=!0,next};return tt.next=tt}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,H(pt,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),H(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,ot,"GeneratorFunction"),L.isGeneratorFunction=function(L){var S="function"==typeof L&&L.constructor;return!!S&&(S===GeneratorFunction||"GeneratorFunction"===(S.displayName||S.name))},L.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,GeneratorFunctionPrototype):(L.__proto__=GeneratorFunctionPrototype,define(L,ot,"GeneratorFunction")),L.prototype=Object.create(pt),L},L.awrap=function(L){return{__await:L}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,nt,(function(){return this})),L.AsyncIterator=AsyncIterator,L.async=function(S,z,H,tt,it){void 0===it&&(it=Promise);var nt=new AsyncIterator(wrap(S,z,H,tt),it);return L.isGeneratorFunction(z)?nt:nt.next().then((function(L){return L.done?L.value:nt.next()}))},defineIteratorMethods(pt),define(pt,ot,"Generator"),define(pt,it,(function(){return this})),define(pt,"toString",(function(){return"[object Generator]"})),L.keys=function(L){var S=Object(L),z=[];for(var H in S)z.push(H);return z.reverse(),function next(){for(;z.length;){var L=z.pop();if(L in S)return next.value=L,next.done=!1,next}return next.done=!0,next}},L.values=values,Context.prototype={constructor:Context,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!L)for(var S in this)"t"===S.charAt(0)&&z.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var L=this.tryEntries[0].completion;if("throw"===L.type)throw L.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var S=this;function handle(z,H){return it.type="throw",it.arg=L,S.next=z,H&&(S.method="next",S.arg=void 0),!!H}for(var H=this.tryEntries.length-1;H>=0;--H){var tt=this.tryEntries[H],it=tt.completion;if("root"===tt.tryLoc)return handle("end");if(tt.tryLoc<=this.prev){var nt=z.call(tt,"catchLoc"),ot=z.call(tt,"finallyLoc");if(nt&&ot){if(this.prev<tt.catchLoc)return handle(tt.catchLoc,!0);if(this.prev<tt.finallyLoc)return handle(tt.finallyLoc)}else if(nt){if(this.prev<tt.catchLoc)return handle(tt.catchLoc,!0)}else{if(!ot)throw new Error("try statement without catch or finally");if(this.prev<tt.finallyLoc)return handle(tt.finallyLoc)}}}},abrupt:function(L,S){for(var H=this.tryEntries.length-1;H>=0;--H){var tt=this.tryEntries[H];if(tt.tryLoc<=this.prev&&z.call(tt,"finallyLoc")&&this.prev<tt.finallyLoc){var it=tt;break}}it&&("break"===L||"continue"===L)&&it.tryLoc<=S&&S<=it.finallyLoc&&(it=null);var nt=it?it.completion:{};return nt.type=L,nt.arg=S,it?(this.method="next",this.next=it.finallyLoc,at):this.complete(nt)},complete:function(L,S){if("throw"===L.type)throw L.arg;return"break"===L.type||"continue"===L.type?this.next=L.arg:"return"===L.type?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):"normal"===L.type&&S&&(this.next=S),at},finish:function(L){for(var S=this.tryEntries.length-1;S>=0;--S){var z=this.tryEntries[S];if(z.finallyLoc===L)return this.complete(z.completion,z.afterLoc),resetTryEntry(z),at}},catch:function(L){for(var S=this.tryEntries.length-1;S>=0;--S){var z=this.tryEntries[S];if(z.tryLoc===L){var H=z.completion;if("throw"===H.type){var tt=H.arg;resetTryEntry(z)}return tt}}throw new Error("illegal catch attempt")},delegateYield:function(L,S,z){return this.delegate={iterator:values(L),resultName:S,nextLoc:z},"next"===this.method&&(this.arg=void 0),at}},L}function asyncGeneratorStep(L,S,z,H,tt,it,nt){try{var ot=L[it](nt),at=ot.value}catch(L){return void z(L)}ot.done?S(at):Promise.resolve(at).then(H,tt)}H=[z(20198),z(54922),z(58420),z(35605),z(46186),z(41762),z(94806),z(57602),z(99965),z(71576),z(75297),z(87720),z(66504)],tt=function(L,S,z,H,tt,it,nt,ot){var IIIFViewerViewmodel=function(ot){var at,rt,ht,dt=this,pt=this;this.getManifestDataValue=function(L,S,z){var H=L[S];return Array.isArray(H)&&z&&(H=L[S][0]["@value"]),H},this.map=S.observable(),this.manifest=S.observable(ot.manifest),this.editManifest=S.observable(!ot.manifest),this.canvas=S.observable(ot.canvas),this.manifestLoading=S.observable(),this.filter=S.observable(""),this.manifestData=S.observable(),this.manifestError=S.observable(),this.manifestName=S.observable(),this.manifestDescription=S.observable(),this.manifestAttribution=S.observable(),this.manifestLogo=S.observable(),this.manifestMetadata=z.fromJS([]),this.canvasLabel=S.observable(),this.zoomToCanvas=!(ot.zoom&&ot.center),this.annotationNodes=S.observableArray(),this.compareMode=S.observable(!1),this.primaryCanvas=S.observable(),this.canvasObject=S.observable(),this.secondaryCanvasObject=S.observable(),this.secondaryCanvas=S.observable(),this.compareInstruction=S.observable(),this.primaryTilesLoaded=S.observable(!1),this.secondaryTilesLoaded=S.observable(!1),this.selectPrimaryPanel=S.observable(!0),this.secondaryLabel=S.observable(),this.imageToolSelector=S.observable(this.canvas()),this.floatingLocation=S.observable("left"),this.showImageModifiers=S.observable(!1),this.renderContext=S.observable(ot.renderContext),this.showModeSelector=S.observable(!0),this.primaryLayerLoaded=!0,this.secondaryLayerLoaded=!0;var gt=[],_t=[],bt={};this.selectPrimaryPanel.subscribe((function(L){L?(dt.imageToolSelector(dt.canvas()),pt.secondaryCanvas()&&(ht=pt.canvasFilterObject(),rt&&(pt.brightness(rt.brightness),pt.saturation(rt.saturation),pt.contrast(rt.contrast),pt.greyscale(rt.greyscale)))):(dt.imageToolSelector(dt.secondaryCanvas()),rt=pt.canvasFilterObject(),ht?(pt.brightness(ht.brightness),pt.saturation(ht.saturation),pt.contrast(ht.contrast),pt.greyscale(ht.greyscale)):(pt.brightness(100),pt.saturation(100),pt.contrast(100),pt.greyscale(!1)))})),this.imageToolSelector.subscribe((function(L){dt.selectPrimaryPanel()&&dt.canvas()!==dt.imageToolSelector()?dt.canvas(dt.imageToolSelector()):dt.selectPrimaryPanel()||dt.secondaryCanvas()===dt.imageToolSelector()||dt.secondaryCanvas(dt.imageToolSelector())})),this.compareMode.subscribe((function(L){if(L)pt.selectPrimaryPanel(!1),pt.canvasClick(pt.canvasObject()),pt.selectPrimaryPanel(!0);else{var S,z=pt.map();if(Tt&&z.hasLayer(Tt))try{z.removeLayer(Tt)}catch(L){}Et&&null!==(S=Et)&&void 0!==S&&S._map&&z.removeControl(Et),pt.secondaryCanvas(void 0),pt.secondaryLabel(void 0),pt.showImageModifiers(!1),pt.selectPrimaryPanel(!0)}})),this.panelRadio=S.pureComputed((function(){return dt.compareMode()?"double":"single"})),this.showLogo=S.pureComputed((function(){return!!["bmp","gif","jpeg","jpg","png","svg","tif","tiff","webp"].find((function(L){return pt.manifestLogo().endsWith(L)}))})),this.buildAnnotationNodes=ot.buildAnnotationNodes||function(L){pt.annotationNodes(L.map((function(L){var z=S.observableArray(),H=function(){var S,H=(S=_regeneratorRuntime().mark((function _callee(){var S,H,it,nt,ot;return _regeneratorRuntime().wrap((function(at){for(;;)switch(at.prev=at.next){case 0:if(!(S=pt.canvas())){at.next=14;break}if(H=tt.urls.iiifannotations+"?canvas="+S+"&nodeid="+L.nodeid,bt[H]){at.next=11;break}return at.next=6,window.fetch(H);case 6:return it=at.sent,at.next=9,it.json();case 9:nt=at.sent,bt[H]=nt;case 11:(ot=bt[H]).features.forEach((function(S){S.properties.graphName=L.graph_name})),z(ot.features);case 14:case"end":return at.stop()}}),_callee)})),function(){var L=this,z=arguments;return new Promise((function(H,tt){var it=S.apply(L,z);function _next(L){asyncGeneratorStep(it,H,tt,_next,_throw,"next",L)}function _throw(L){asyncGeneratorStep(it,H,tt,_next,_throw,"throw",L)}_next(void 0)}))});return function(){return H.apply(this,arguments)}}();return pt.canvas.subscribe(H),H(),{name:L.graph_name+" - "+L.name,icon:L.icon,active:S.observable(!1),opacity:S.observable(100),annotations:z}})))},window.fetch(tt.urls.iiifannotationnodes).then((function(L){return L.json()})).then(pt.buildAnnotationNodes);var xt=S.computed((function(){var L=[];return pt.annotationNodes().forEach((function(S){if(S.active()){var z=S.annotations();ot.tile&&ot.tile.tileid&&(z=z.filter((function(L){return L.properties.tileId!==ot.tile.tileid}))),z.forEach((function(L){L.properties.opacityModifier=S.opacity()})),L=z.concat(L)}})),H.geoJson({type:"FeatureCollection",features:L},{pointToLayer:function(L,S){var z=L.properties.opacityModifier/100,tt={color:L.properties.color,fillColor:L.properties.fillColor,weight:L.properties.weight,radius:L.properties.radius,opacity:L.properties.opacity*z,fillOpacity:L.properties.fillOpacity*z};return H.circleMarker(S,tt)},style:function(L){var S=L.properties.opacityModifier/100,z={color:L.properties.color,fillColor:L.properties.fillColor,weight:L.properties.weight,radius:L.properties.radius,opacity:L.properties.opacity*S,fillOpacity:L.properties.fillOpacity*S};return z},onEachFeature:function(L,z){if(ot.onEachFeature)ot.onEachFeature(L,z);else{var it=H.popup({closeButton:!1,maxWidth:349}).setContent(nt).on("add",(function(){var z={closePopup:function(){it.remove()},name:S.observable(""),description:S.observable(""),graphName:L.properties.graphName,resourceinstanceid:L.properties.resourceId,reportURL:tt.urls.resource_report,translations:tt.translations};window.fetch(tt.urls.resource_descriptors+z.resourceinstanceid).then((function(L){return L.json()})).then((function(L){z.name(L.displayname),z.description(L.map_popup)}));var H=it.getElement().querySelector(".mapboxgl-popup-content");S.applyBindingsToDescendants(z,H)}));z.bindPopup(it)}}})})),kt=new H.FeatureGroup;xt.subscribe((function(L){pt.map()&&(kt.clearLayers(),kt.addLayer(L))})),this.canvases=S.pureComputed((function(){var L=pt.manifestData(),S=L?L.sequences:[],z=[];return S.forEach((function(L){L.canvases&&(L.label=pt.getManifestDataValue(L,"label",!0),L.canvases.forEach((function(L){L.label=pt.getManifestDataValue(L,"label",!0),"object"===_typeof(L.thumbnail)?L.thumbnail=L.thumbnail["@id"]:L.images&&L.images[0]&&L.images[0].resource&&(L.thumbnail=L.images[0].resource["@id"]),z.push(L)})))})),z}));var Ct;this.manifestSelectConfig={value:this.manifest,clickBubble:!0,multiple:!1,closeOnSelect:!1,allowClear:!0,ajax:{url:tt.urls.iiifmanifest,dataType:"json",quietMillis:250,data:function(L,S){var z={start:10*(S-1),limit:10};return Ct=L,L&&(z.query=L),z},results:function(L,S){var z=L.results;return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(Ct)&&z.unshift({url:Ct,label:Ct}),{results:z,more:L.count>=10*S}}},id:function(L){return L.url},formatResult:function(L){return L.label},formatSelection:function(L){return L.label},clear:function(){pt.manifest("")},isEmpty:S.computed((function(){return""===pt.manifest()||!pt.manifest()}),this),initSelection:function(){}};var Lt,Tt,Et,Mt={clickBubble:!0,multiple:!1,closeOnSelect:!0,allowClear:!0,data:function(){return{results:dt.canvases()}},id:function(L){return pt.getCanvasService(L)},containerCssClass:"split-controls-drop",dropdownCssClass:"split-controls-drop",dropdownAutoWidth:!0,formatResult:function(L){return'<div class="image"><img src="'.concat(L.thumbnail,'"/></div><div class="title">').concat(L.label,"</div>")},formatSelection:function(L){return null==L?void 0:L.label},clear:function(L){pt.canvases("")},isEmpty:S.computed((function(){return""===pt.canvases()||!pt.canvases()}),this),initSelection:function(L,S){S(pt.canvases().find((function(S){return pt.getCanvasService(S)==L.val()})))}};this.rightSideSelectConfig=_objectSpread(_objectSpread({},Mt),{},{value:this.secondaryCanvas}),this.leftSideSelectConfig=_objectSpread(_objectSpread({},Mt),{},{value:this.canvas}),this.imageToolConfig=_objectSpread(_objectSpread({},Mt),{},{value:this.imageToolSelector}),this.getManifestData=function(){var L=pt.manifest();L&&(pt.manifestLoading(!0),pt.manifestError(void 0),at=new window.AbortController,window.fetch(L,{signal:at.signal}).then((function(L){return L.json()})).then((function(L){pt.manifestData(L),pt.editManifest(!1)})).catch((function(L){"The user aborted a request."!==L.message&&pt.manifestError(L)})).finally((function(){pt.manifestLoading(!1),at=void 0})))},this.getManifestData(),it.apply(this,[ot]),this.activeTab.subscribe((function(){var L=pt.map();L&&setTimeout((function(){L.invalidateSize()}),1)})),void 0===ot.showGallery&&(ot.showGallery=!0),this.showGallery=S.observable(ot.showGallery),ot.manifest||(ot.expandGallery=!0),this.expandGallery=S.observable(ot.expandGallery),this.expandGallery.subscribe((function(L){L&&(pt.compareMode(!1),pt.showGallery(!0))})),this.showGallery.subscribe((function(L){L||pt.expandGallery(!1)})),this.toggleGallery=function(){pt.showGallery(!pt.showGallery())},this.leafletConfig={center:ot.center||[0,0],crs:H.CRS.Simple,zoom:ot.zoom||0,afterRender:this.map},this.imagePropertyUpdate=function(L,S,z){pt.floatingLocation()!=L&&pt.showImageModifiers()||pt.showImageModifiers(!pt.showImageModifiers()),pt.floatingLocation(L),"left"==pt.floatingLocation()?pt.selectPrimaryPanel(!0):pt.selectPrimaryPanel(!1)},this.fileUpdate=function(){for(var L=arguments.length,S=new Array(L),z=0;z<L;z++)S[z]=arguments[z];console.log(S)},this.brightness=S.observable(100),this.contrast=S.observable(100),this.saturation=S.observable(100),this.greyscale=S.observable(!1),this.canvasFilter=S.pureComputed((function(){return"brightness("+pt.brightness()/100+") contrast("+pt.contrast()/100+") saturate("+pt.saturation()/100+") grayscale("+(pt.greyscale()?1:0)+")"})),this.canvasFilterObject=S.pureComputed((function(){return{brightness:pt.brightness(),contrast:pt.contrast(),saturation:pt.saturation(),greyscale:pt.greyscale()}})),this.canvasFilter.subscribe((function(L){console.log(L)}));var updateCanvasLayerFilter=function(){var L,S=pt.canvasFilter(),z=pt.map();z&&(L=pt.selectPrimaryPanel()?z.getPane("tilePane").querySelector(".iiif-layer-primary"):z.getPane("tilePane").querySelector(".iiif-layer-secondary"))&&null!==L&&(L.style.filter=S)};this.canvasFilter.subscribe(updateCanvasLayerFilter),this.resetImageSettings=function(){pt.brightness(100),pt.contrast(100),pt.saturation(100),pt.greyscale(!1)};var zoomToBounds=function(L,S){var z=S._getInitialZoom(L.getSize()),tt=S._imageSizes[z],it=L.options.crs.pointToLatLng(H.point(0,tt.y),z),nt=L.options.crs.pointToLatLng(H.point(tt.x,0),z),ot=H.latLngBounds(it,nt);L.fitBounds(ot)},loadComparison=function(){var L,S,z=pt.map();z&&Lt.getContainer()&&null!==(L=Tt)&&void 0!==L&&L.getContainer()&&(pt.zoomToCanvas&&(zoomToBounds(z,Lt),pt.zoomToCanvas=!1),Et?(Et.setLeftLayers(Lt),Et.setRightLayers(Tt)):Et=H.control.sideBySide(Lt,Tt),null!==(S=Et)&&void 0!==S&&S._map||Et.addTo(z))},updatePrimaryCanvasLayer=function(){var L=pt.map(),S=pt.canvas();if(pt.selectPrimaryPanel()&&S&&S!=pt.imageToolSelector()&&pt.imageToolSelector(S),L&&S){if(Lt&&L.hasLayer(Lt)){try{L.removeLayer(Lt)}catch(L){}Lt=void 0}if(S){var z=S+"/info.json";(Lt=getLayer(z,gt))||((Lt=H.tileLayer.iiif(z,{fitBounds:!1,className:"iiif-layer-primary"})).on("load",(function(){pt.compareMode()?loadComparison():!pt.compareMode()&&pt.zoomToCanvas&&Lt&&(zoomToBounds(L,Lt),pt.zoomToCanvas=!1)})),gt.push(Lt)),Lt.addTo(L),updateCanvasLayerFilter()}}},getLayer=function(L,S){var z=S.filter((function(S){return S._infoUrl==L}));if(z.length>0)return z[0]};this.map.subscribe((function(S){H.control.fullscreen({fullscreenElement:L(S.getContainer()).closest(".workbench-card-wrapper")[0]}).addTo(S),updatePrimaryCanvasLayer(),S.addLayer(kt)})),this.canvas.subscribe(updatePrimaryCanvasLayer),this.secondaryCanvas.subscribe((function(){var L=pt.map(),S=pt.canvas(),z=pt.secondaryCanvas();if(z&&z!=pt.imageToolSelector()&&(pt.selectPrimaryPanel(!1),pt.imageToolSelector(z)),L&&S&&z){if(Tt&&L.hasLayer(Tt)){try{L.removeLayer(Tt)}catch(L){}Tt=void 0}var tt=z+"/info.json";(Tt=getLayer(tt,_t))||((Tt=H.tileLayer.iiif(tt,{fitBounds:!1,className:"iiif-layer-secondary"})).on("load",(function(){pt.compareMode()&&loadComparison()})),_t.push(Tt)),Tt.addTo(L),updateCanvasLayerFilter()}})),this.setSecondaryCanvas=function(L){var S=pt.getCanvasService(L);S&&pt.secondaryCanvas(S)},this.selectCanvas=function(L){var S=pt.getCanvasService(L);S&&pt.selectPrimaryPanel()?(pt.canvas(S),pt.canvasObject(L),pt.canvasLabel(pt.getManifestDataValue(L,"label",!0))):(pt.secondaryCanvas(S),pt.secondaryCanvasObject(L),pt.canvasLabel(pt.getManifestDataValue(L,"label",!0)))},this.canvasClick=function(L){pt.selectCanvas(L),pt.expandGallery(!1)},this.getCanvasService=function(L){if(L.images.length>0)return L.images[0].resource.service["@id"]},this.updateCanvas=!pt.canvas(),this.manifestData.subscribe((function(L){if(L){if(L.sequences.length>0){var S=L.sequences[0],H=0;if(S.canvases.length>0){pt.updateCanvas||(H=S.canvases.findIndex((function(L){return L.images[0].resource.service["@id"]===pt.canvas()})));var tt=S.canvases[H];pt.secondaryCanvasLayer=void 0,pt.canvasLayer=void 0;var it=pt.getCanvasService(tt);pt.zoomToCanvas=!0,pt.canvas(it),pt.canvasObject(tt),pt.compareMode()&&(pt.secondaryCanvas(it),pt.secondaryCanvasObject(tt))}}pt.updateCanvas=!0,pt.origManifestName=pt.getManifestDataValue(L,"label",!0),pt.manifestName(pt.origManifestName),pt.origManifestDescription=pt.getManifestDataValue(L,"description",!0),pt.manifestDescription(pt.origManifestDescription),pt.origManifestAttribution=pt.getManifestDataValue(L,"attribution",!0),pt.manifestAttribution(pt.origManifestAttribution),pt.origManifestLogo=pt.getManifestDataValue(L,"logo",!0),pt.manifestLogo(pt.origManifestLogo),pt.origManifestMetadata=z.toJSON(pt.getManifestDataValue(L,"metadata")),pt.manifestMetadata.removeAll(),pt.getManifestDataValue(L,"metadata").forEach((function(L){pt.manifestMetadata.push(z.fromJS(L))}))}})),this.toggleManifestEditor=function(){pt.editManifest(!pt.editManifest()),at&&at.abort()},this.getAnnotationCount=function(){return 0}};return S.components.register("iiif-viewer",{viewModel:IIIFViewerViewmodel,template:ot}),IIIFViewerViewmodel}.apply(S,H),void 0===tt||(L.exports=tt)},41762:function(L,S,z){var H,tt;H=[z(20198),z(84490),z(54922),z(73070),z(44050)],void 0===(tt=function(L,S,z,H){var viewModel=function(L){var S=this;this.activeTab=z.observable(L.activeTab),this.showTabs=z.observable(!0),this.hideSidePanel=function(){S.activeTab(void 0)},this.card&&this.card.allowProvisionalEditRerender(!1),this.expandSidePanel=z.computed((function(){return!!S.tile&&(S.tile.hasprovisionaledits()&&!0===S.reviewer)})),this.workbenchWrapperClass=z.observable(),this.toggleTab=function(L){S.activeTab()===L?S.activeTab(null):S.activeTab(L)}};return z.components.register("workbench",{viewModel:viewModel,template:H}),viewModel}.apply(S,H))||(L.exports=tt)},75297:function(L,S,z){var H,tt;H=[z(35605)],tt=function(){!function r(L,S,z){function o(tt,it){if(!S[tt]){if(!L[tt]){if(H)return H(tt,!0);var nt=new Error("Cannot find module '"+tt+"'");throw nt.code="MODULE_NOT_FOUND",nt}var ot=S[tt]={exports:{}};L[tt][0].call(ot.exports,(function(S){return o(L[tt][1][S]||S)}),ot,ot.exports,r,L,S,z)}return S[tt].exports}for(var H=void 0,tt=0;tt<z.length;tt++)o(z[tt]);return o}({1:[function(L,S,H){(function(z){var H,tt,it="undefined"!=typeof window?window.L:void 0!==z?z.L:null;function on(L,S,z,H){S.split(" ").forEach((function(S){it.DomEvent.on(L,S,z,H)}))}function off(L,S,z,H){S.split(" ").forEach((function(S){it.DomEvent.off(L,S,z,H)}))}function getRangeEvent(L){return"oninput"in L?"input":"change"}function cancelMapDrag(){H=this._map.dragging.enabled(),tt=this._map.tap&&this._map.tap.enabled(),this._map.dragging.disable(),this._map.tap&&this._map.tap.disable()}function uncancelMapDrag(L){this._refocusOnMap(L),H&&this._map.dragging.enable(),tt&&this._map.tap.enable()}function asArray(L){return"undefined"===L?[]:Array.isArray(L)?L:[L]}L("./layout.css"),L("./range.css"),it.Control.SideBySide=it.Control.extend({options:{thumbSize:42,padding:0},initialize:function(L,S,z){this.setLeftLayers(L),this.setRightLayers(S),it.setOptions(this,z)},getPosition:function(){var L=this._range.value,S=(.5-L)*(2*this.options.padding+this.options.thumbSize);return this._map.getSize().x*L+S},setPosition:function(){},includes:it.Evented.prototype||it.Mixin.Events,addTo:function(L){this.remove(),this._map=L;var S=this._container=it.DomUtil.create("div","leaflet-sbs",L._controlContainer);this._divider=it.DomUtil.create("div","leaflet-sbs-divider",S);var z=this._range=it.DomUtil.create("input","leaflet-sbs-range",S);return z.type="range",z.min=0,z.max=1,z.step="any",z.value=.5,z.style.paddingLeft=z.style.paddingRight=this.options.padding+"px",this._addEvents(),this._updateLayers(),this},remove:function(){if(!this._map)return this;if(this._leftLayer){var L=this._leftLayer.getContainer();null!=L&&L.style&&(L.style.clip="")}if(this._rightLayer){var S=this._rightLayer.getContainer();null!=S&&S.style&&(S.style.clip="")}return this._removeEvents(),it.DomUtil.remove(this._container),this._map=null,this},setLeftLayers:function(L){return this._leftLayers=asArray(L),this._updateLayers(),this},setRightLayers:function(L){return this._rightLayers=asArray(L),this._updateLayers(),this},_updateClip:function(){var L=this._map,S=L.containerPointToLayerPoint([0,0]),z=L.containerPointToLayerPoint(L.getSize()),H=S.x+this.getPosition(),tt=this.getPosition();this._divider.style.left=tt+"px",this.fire("dividermove",{x:tt});var it="rect("+[S.y,H,z.y,S.x].join("px,")+"px)",nt="rect("+[S.y,z.x,z.y,H].join("px,")+"px)";if(this._leftLayer){var ot=this._leftLayer.getContainer();null!=ot&&ot.style&&(ot.style.clip=it)}if(this._rightLayer){var at=this._rightLayer.getContainer();null!=at&&at.style&&(at.style.clip=nt)}},_updateLayers:function(){if(!this._map)return this;var L=this._leftLayer,S=this._rightLayer;this._leftLayer=this._rightLayer=null,this._leftLayers.forEach((function(L){this._map.hasLayer(L)&&(this._leftLayer=L)}),this),this._rightLayers.forEach((function(L){this._map.hasLayer(L)&&(this._rightLayer=L)}),this),L!==this._leftLayer&&(L&&this.fire("leftlayerremove",{layer:L}),this._leftLayer&&this.fire("leftlayeradd",{layer:this._leftLayer})),S!==this._rightLayer&&(S&&this.fire("rightlayerremove",{layer:S}),this._rightLayer&&this.fire("rightlayeradd",{layer:this._rightLayer})),this._updateClip()},_addEvents:function(){var L=this._range,S=this._map;S&&L&&(S.on("move",this._updateClip,this),S.on("layeradd layerremove",this._updateLayers,this),on(L,getRangeEvent(L),this._updateClip,this),on(L,it.Browser.touch?"touchstart":"mousedown",cancelMapDrag,this),on(L,it.Browser.touch?"touchend":"mouseup",uncancelMapDrag,this))},_removeEvents:function(){var L=this._range,S=this._map;L&&(off(L,getRangeEvent(L),this._updateClip,this),off(L,it.Browser.touch?"touchstart":"mousedown",cancelMapDrag,this),off(L,it.Browser.touch?"touchend":"mouseup",uncancelMapDrag,this)),S&&(S.off("layeradd layerremove",this._updateLayers,this),S.off("move",this._updateClip,this))}}),it.control.sideBySide=function(L,S,z){return new it.Control.SideBySide(L,S,z)},S.exports=it.Control.SideBySide}).call(this,void 0!==z.g?z.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./layout.css":2,"./range.css":4}],2:[function(L,S,z){var H=".leaflet-sbs-range {\r\n    position: absolute;\r\n    top: 50%;\r\n    width: 100%;\r\n    z-index: 999;\r\n}\r\n.leaflet-sbs-divider {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 50%;\r\n    margin-left: -2px;\r\n    width: 4px;\r\n    background-color: #fff;\r\n    pointer-events: none;\r\n    z-index: 999;\r\n}\r\n";L("./node_modules/cssify")(H,void 0,"_i6aomd"),S.exports=H},{"./node_modules/cssify":3}],3:[function(L,S,z){"use strict";S.exports=function(L,S,z){var H=S||document;if(H.createStyleSheet){var tt=H.createStyleSheet();return tt.cssText=L,tt.ownerNode}return function(L,S,z){var H=L.getElementById(S);if(H)z(H);else{var tt=L.getElementsByTagName("head")[0];H=L.createElement("style"),null!=S&&(H.id=S),z(H),tt.appendChild(H)}return H}(H,z,(function(S){S.styleSheet?S.styleSheet.cssText=L:S.innerHTML=L}))},S.exports.byUrl=function(L){if(document.createStyleSheet)return document.createStyleSheet(L).ownerNode;var S=document.getElementsByTagName("head")[0],z=document.createElement("link");return z.rel="stylesheet",z.href=L,S.appendChild(z),z}},{}],4:[function(L,S,z){var H='.leaflet-sbs-range {\r\n    -webkit-appearance: none;\r\n    display: inline-block!important;\r\n    vertical-align: middle;\r\n    height: 0;\r\n    padding: 0;\r\n    margin: 0;\r\n    border: 0;\r\n    background: rgba(0, 0, 0, 0.25);\r\n    min-width: 100px;\r\n    cursor: pointer;\r\n    pointer-events: none;\r\n    z-index: 999;\r\n}\r\n.leaflet-sbs-range::-ms-fill-upper {\r\n    background: transparent;\r\n}\r\n.leaflet-sbs-range::-ms-fill-lower {\r\n    background: rgba(255, 255, 255, 0.25);\r\n}\r\n/* Browser thingies */\r\n\r\n.leaflet-sbs-range::-moz-range-track {\r\n    opacity: 0;\r\n}\r\n.leaflet-sbs-range::-ms-track {\r\n    opacity: 0;\r\n}\r\n.leaflet-sbs-range::-ms-tooltip {\r\n    display: none;\r\n}\r\n/* For whatever reason, these need to be defined\r\n * on their own so dont group them */\r\n\r\n.leaflet-sbs-range::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n    padding: 0;\r\n    background: #fff;\r\n    height: 40px;\r\n    width: 40px;\r\n    border-radius: 20px;\r\n    cursor: ew-resize;\r\n    pointer-events: auto;\r\n    border: 1px solid #ddd;\r\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABlBMVEV9fX3///+Kct39AAAAAnRSTlP/AOW3MEoAAAA9SURBVFjD7dehDQAwDANBZ/+l2wmKoiqR7pHRcaeaCxAIBAL/g7k9JxAIBAKBQCAQCAQC14H+MhAIBE4CD3fOFvGVBzhZAAAAAElFTkSuQmCC");\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat;\r\n    background-size: 40px 40px;\r\n}\r\n.leaflet-sbs-range::-ms-thumb {\r\n    margin: 0;\r\n    padding: 0;\r\n    background: #fff;\r\n    height: 40px;\r\n    width: 40px;\r\n    border-radius: 20px;\r\n    cursor: ew-resize;\r\n    pointer-events: auto;\r\n    border: 1px solid #ddd;\r\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABlBMVEV9fX3///+Kct39AAAAAnRSTlP/AOW3MEoAAAA9SURBVFjD7dehDQAwDANBZ/+l2wmKoiqR7pHRcaeaCxAIBAL/g7k9JxAIBAKBQCAQCAQC14H+MhAIBE4CD3fOFvGVBzhZAAAAAElFTkSuQmCC");\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat;\r\n    background-size: 40px 40px;\r\n}\r\n.leaflet-sbs-range::-moz-range-thumb {\r\n    padding: 0;\r\n    right: 0    ;\r\n    background: #fff;\r\n    height: 40px;\r\n    width: 40px;\r\n    border-radius: 20px;\r\n    cursor: ew-resize;\r\n    pointer-events: auto;\r\n    border: 1px solid #ddd;\r\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABlBMVEV9fX3///+Kct39AAAAAnRSTlP/AOW3MEoAAAA9SURBVFjD7dehDQAwDANBZ/+l2wmKoiqR7pHRcaeaCxAIBAL/g7k9JxAIBAKBQCAQCAQC14H+MhAIBE4CD3fOFvGVBzhZAAAAAElFTkSuQmCC");\r\n    background-position: 50% 50%;\r\n    background-repeat: no-repeat;\r\n    background-size: 40px 40px;\r\n}\r\n.leaflet-sbs-range:disabled::-moz-range-thumb {\r\n    cursor: default;\r\n}\r\n.leaflet-sbs-range:disabled::-ms-thumb {\r\n    cursor: default;\r\n}\r\n.leaflet-sbs-range:disabled::-webkit-slider-thumb {\r\n    cursor: default;\r\n}\r\n.leaflet-sbs-range:disabled {\r\n    cursor: default;\r\n}\r\n.leaflet-sbs-range:focus {\r\n    outline: none!important;\r\n}\r\n.leaflet-sbs-range::-moz-focus-outer {\r\n    border: 0;\r\n}\r\n\r\n';L("./node_modules/cssify")(H,void 0,"_1tlt668"),S.exports=H},{"./node_modules/cssify":3}]},{},[1])}.apply(S,H),void 0===tt||(L.exports=tt)},12598:function(L,S,z){var H,tt;H=[z(32274)],void 0===(tt=function(L){return{getManifests:function(S){return new Promise((function(z){var H=L.getNodeValues({nodeId:"2fe9f066-b31e-11e9-b3be-a4d18cec433a",returnTiles:!1},S);0===H.length&&z([]),H.forEach((function(S){L.lookupResourceInstanceData(S.resourceId).then((function(S){var H=L.getNodeValues({nodeId:"9743a1b2-8591-11ea-97eb-acde48001122",returnTiles:!1},S._source.tiles);0===H.length&&z([]),H.forEach((function(S){L.lookupResourceInstanceData(S.resourceId).then((function(S){var H=L.getNodeValues({nodeId:"db05c421-ca7a-11e9-bd7a-a4d18cec433a",where:{nodeId:"db05c05e-ca7a-11e9-8824-a4d18cec433a",contains:"f32d0944-4229-4792-a33c-aadc2b181dc7"},returnTiles:!1},S._source.tiles);z(H)}))}))}))}))}))}}}.apply(S,H))||(L.exports=tt)},3058:function(L,S,z){var H,tt;H=[z(54922),z(32441),z(84490),z(20025),z(12598)],void 0===(tt=function(L,S,z,H,tt){return L.components.register("physical-thing-iiif-card",{viewModel:function(S){var z=this;if(H.apply(this,[S]),this.form&&"form"===this.state){var it=[];L.unwrap(this.form.topCards).reduce((function(S,H){return L.unwrap(H.tiles).forEach((function(L){S.push(L),S.concat(z.getTiles(L))})),S}),it),it=it.map((function(L){return L.getData()})),this.loading(!0),tt.getManifests(it).then((function(L){z.loading(!1),L.length>0&&(z.manifest(L[0]),z.getManifestData())}))}},template:S})}.apply(S,H))||(L.exports=tt)},32441:function(L){L.exports='\n\x3c!-- ko foreach: { data: [$data], as: \'self\' } --\x3e\n\n\x3c!-- ko if: state === \'editor-tree\' && self.card.model.visible() --\x3e\n\n<li role="treeitem card-treeitem" class="jstree-node" data-bind="css: {\'jstree-open\': (card.tiles().length > 0 && card.expanded()), \'jstree-closed\' : (card.tiles().length > 0 && !card.expanded()), \'jstree-leaf\': card.tiles().length === 0, \'hide-background\': !self.showGrid()}, scrollTo: card.scrollTo, container: \'.resource-editor-tree\'">\n    <i class="jstree-icon" role="presentation" data-bind="click: function(){card.expanded(!card.expanded())}, css: {\'jstree-ocl\': self.showGrid}"></i>\n    <a class="jstree-anchor" href="#" tabindex="-1" data-bind="css:{\'filtered\': card.highlight(), \'jstree-clicked\': card.selected, \'child-selected\': card.isChildSelected(), \'func-node\': card.isFuncNode(),\'unsaved-edit\': card.isDirty() === true}, event: {\n        mousedown: function(d, e) {\n            e.stopPropagation();\n            self.card.canAdd() ? self.card.selected(true) : self.card.tiles()[0].selected(true);\n        }\n    }">\n        \x3c!-- ko if: !self.card.isFuncNode() --\x3e\n        <i class="fa fa-file-o" role="presentation" data-bind="css:{\'filtered\': self.card.highlight(), \'has-provisional-edits fa-file\': self.card.doesChildHaveProvisionalEdits()}"></i>\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko if: self.card.isFuncNode() --\x3e\n        <i class="fa fa-code" role="presentation" data-bind="css:{\'filtered\': self.card.highlight(), \'has-provisional-edits fa-file\': self.card.doesChildHaveProvisionalEdits()}"></i>\n        \x3c!-- /ko --\x3e\n        <span style="padding-right: 5px;" data-bind="text: self.card.model.name"></span>\n        \x3c!-- ko if: self.card.canAdd() --\x3e\n        <i class="fa fa-plus-circle add-new-tile" role="presentation" data-bind="css:{\'jstree-clicked\': self.card.selected}, click: function(){self.card.showForm(true);}, clickBubble: false" data-toggle="tooltip" data-original-title="$root.translations.addGnu"></i>\n        \x3c!-- /ko --\x3e\n    </a>\n    <ul class="jstree-children" aria-expanded="true">\n        <div data-bind="sortable: {\n            data: self.card.tiles,\n            options: {\n                start: self.startDrag\n            },\n            beforeMove: self.beforeMove,\n            afterMove: self.card.reorderTiles\n        }">\n            <li role="treeitem" class="jstree-node" data-bind="css: {\'jstree-open\': (cards.length > 0 && expanded), \'jstree-closed\' : (cards.length > 0 && !expanded()), \'jstree-leaf\': cards.length === 0, \'hide-background\': !self.showGrid()}, event: {\'dragstart\': function () { console.log(\'dragging...\') }}">\n                <i class="jstree-icon" role="presentation" data-bind="click: function(){expanded(!expanded())}, css: {\'jstree-ocl\': self.showGrid}"></i>\n                <a class="jstree-anchor" href="#" tabindex="-1" data-bind="click: function () { self.form.selection($data);}, css:{\'jstree-clicked\': selected, \'child-selected\': isChildSelected(), \'filtered-leaf\': card.highlight(), \'unsaved-edit\': !!$data.dirty()}">\n                    <i class="fa" role="presentation" data-bind="css:{\'has-provisional-edits\': doesChildHaveProvisionalEdits() || $data.hasprovisionaledits(),\'fa-pencil\':$data.dirty()===true,\'fa-file\':!$data.dirty()}"></i>\n                    <strong style="margin-right: 10px;">\n                        \n                        \x3c!-- ko if: self.card.widgets().length > 0 && self.card.widgets()[0].visible --\x3e\n                        <span data-bind="text: self.card.widgets()[0].label || self.card.model.name"></span>:\n                        <div style="display: inline;" data-bind="component: {\n                            name: self.form.widgetLookup[self.card.widgets()[0].widget_id()].name,\n                            params: {\n                                tile: $data,\n                                node: self.form.nodeLookup[card.widgets()[0].node_id()],\n                                config: self.form.widgetLookup[card.widgets()[0].widget_id()].config,\n                                label: self.form.widgetLookup[card.widgets()[0].widget_id()].label,\n                                inResourceEditor: self.inResourceEditor,\n                                value: $data.data[card.widgets()[0].node_id()],\n                                type: \'resource-editor\',\n                                state: \'display_value\',\n                                disabled: !self.card.isWritable && !self.preview\n                            }\n                        }"></div>\n                        \x3c!-- /ko --\x3e\n                        \x3c!-- ko if: self.card.widgets().length === 0 || !self.card.widgets()[0].visible --\x3e\n                        <span data-bind="text: self.card.model.name"></span>\n                        \x3c!-- /ko --\x3e\n                        \n                    </strong>\n                </a>\n                \x3c!-- ko if: cards.length > 0 && self.card.expanded() --\x3e\n                <ul class="jstree-children" aria-expanded="true" data-bind="foreach: {\n                        data: cards,\n                        as: \'card\'\n                    }">\n                    \x3c!-- ko component: {\n                        name: self.form.cardComponentLookup[self.card.model.component_id()].componentname,\n                        params: {\n                            state: \'editor-tree\',\n                            card: card,\n                            tile: null,\n                            loading: self.loading,\n                            form: self.form,\n                            pageVm: $root\n                        }\n                    } --\x3e \x3c!-- /ko --\x3e\n                </ul>\n                \x3c!-- /ko --\x3e\n            </li>\n        </div>\n    </ul>\n</li>\n\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: state === \'designer-tree\' --\x3e\n\n<li role="treeitem card-treeitem" class="jstree-node" data-bind="css: {\'jstree-open\': ((card.cards().length > 0 || card.widgets().length > 0) && card.expanded()), \'jstree-closed\' : ((card.cards().length > 0 || card.widgets().length > 0) && !card.expanded()), \'jstree-leaf\': card.cards().length === 0 && card.widgets().length === 0, \'hide-background\': !self.showGrid()}, scrollTo: card.scrollTo, container: \'.designer-card-tree\'">\n    <i class="jstree-icon" role="presentation" data-bind="click: function(){card.expanded(!card.expanded())}, css: {\'jstree-ocl\': self.showGrid}"></i>\n    <a class="jstree-anchor" href="#" tabindex="-1" data-bind="css:{\'filtered\': card.highlight(), \'jstree-clicked\': card.selected, \'child-selected\': card.isChildSelected(), \'func-node\': card.isFuncNode()}, click: function () { card.selected(true) },">\n        <i class="fa fa-file-o" role="presentation"></i>\n        <span data-bind="text: card.model.name"></span>\n        \x3c!-- ko if: card.showIds --\x3e\n        <span style="font-weight:bold" data-bind="text: \': \' + card.model.nodegroup_id()"></span>\n        \x3c!-- /ko --\x3e\n    </a>\n    \x3c!-- ko if: (card.cards().length > 0 || card.widgets().length > 0) && card.expanded()  --\x3e\n    <ul class="jstree-children card-designer-tree" aria-expanded="true">\n        <div data-bind="sortable: {\n                data: card.widgets,\n                as: \'widget\',\n                beforeMove: self.beforeMove,\n                afterMove: function() { card.model.save() }\n            }">\n            <li role="treeitem" class="jstree-node jstree-leaf" data-bind="css: {\n                    \'jstree-last\': $index() === (card.widgets().length - 1) && $parent.card.cards().length === 0, \'hide-background\': !self.showGrid()\n                }">\n                <i class="jstree-icon" role="presentation" data-bind="css: {\'jstree-ocl\': self.showGrid}"></i>\n                <a class="jstree-anchor" href="#" tabindex="-1" data-bind="click: function() { widget.selected(true) }, css:{\'jstree-clicked\': widget.selected, \'hover\': widget.hovered}, event: { mouseover: function(){ widget.hovered(true) }, mouseout: function(){ widget.hovered(null) } }">\n                    <i data-bind="css: widget.datatype.iconclass" role="presentation"></i>\n                    <strong style="margin-right: 10px;">\n                        <span data-bind="text: !!(widget.label()) ? widget.label() : widget.node.name"></span>\n                        \x3c!-- ko if: $parent.showIds --\x3e\n                        <span style="font-weight:bold" data-bind="text: \': \' + (!!(widget.label()) ? widget.node.nodeid : \'\')"></span>\n                        \x3c!-- /ko --\x3e\n                    </strong>\n                </a>\n            </li>\n        </div>\n        <div data-bind="sortable: {\n                data: card.cards,\n                as: \'childCard\',\n                beforeMove: self.beforeMove,\n                afterMove: function() {\n                    card.reorderCards();\n                }\n            }">\n            <div data-bind="css: {\n                    \'jstree-last\': ($index() === ($parent.card.cards().length - 1))\n                }">\n                \x3c!-- ko component: {\n                        name: self.form.cardComponentLookup[childCard.model.component_id()].componentname,\n                        params: {\n                        state: \'designer-tree\',\n                        card: childCard,\n                        tile: null,\n                        loading: self.loading,\n                        form: self.form,\n                        pageVm: $root,\n                        showIds: childCard.showIds\n                    }\n                } --\x3e \x3c!-- /ko --\x3e\n            </div>\n        </div>\n    </ul>\n    \x3c!-- /ko --\x3e\n</li>\n\n\x3c!-- /ko --\x3e\n\n\n\x3c!-- ko if: state === \'permissions-tree\' --\x3e\n\n<li role="treeitem card-treeitem" class="jstree-node" data-bind="css: {\'jstree-open\': ((card.cards().length > 0 || card.widgets().length > 0) && card.expanded()), \'jstree-closed\' : ((card.cards().length > 0 || card.widgets().length > 0) && !card.expanded()), \'jstree-leaf\': card.cards().length === 0 && card.widgets().length === 0, \'hide-background\': !self.showGrid()}">\n    <i class="jstree-icon" role="presentation" data-bind="click: function(){card.expanded(!card.expanded())}, css: {\'jstree-ocl\': self.showGrid}"></i>\n    <a class="jstree-anchor permissions-card" href="#" tabindex="-1" data-bind="css:{\'jstree-clicked\': card.selected, \'child-selected\': card.isChildSelected(), \'filtered\': card.highlight()}, click: function () { card.selectChildCards() },">\n        <i class="fa fa-file-o" role="presentation"></i>\n        <span style="padding-right: 5px;" data-bind="text: card.model.name">\n        </span>\n        <span class="node-permissions">\n            \x3c!-- ko if: card.perms --\x3e\n            \x3c!-- ko foreach: card.perms() --\x3e\n            <i class="node-permission-icon" data-bind="css: $data.icon"></i>\n            \x3c!-- /ko --\x3e\n            \x3c!-- /ko --\x3e\n        </span>\n    </a>\n    \x3c!-- ko if: (card.cards().length > 0 || card.widgets().length > 0) && card.expanded() --\x3e\n    <ul class="jstree-children card-designer-tree" aria-expanded="true">\n        \n        <div data-bind="sortable: {\n                data: card.widgets,\n                as: \'widget\',\n                beforeMove: self.beforeMove,\n                afterMove: function() { card.model.save() }\n            }">\n            <li role="treeitem" class="jstree-node jstree-leaf" data-bind="css: {\n                    \'jstree-last\': $index() === (card.widgets().length - 1) && $parent.card.cards().length === 0,\n                    \'hide-background\': !self.showGrid()\n                }">\n                <i class="jstree-icon" role="presentation" data-bind="css: {\'jstree-ocl\': self.showGrid}"></i>\n                <a class="jstree-anchor permissions-widget" href="#" tabindex="-1">\n                    <i class="fa fa-file" role="presentation"></i>\n                    <strong style="margin-right: 10px;">\n                        <span data-bind="text: !!(widget.label()) ? widget.label() : widget.node.name"></span>\n                    </strong>\n                </a>\n            </li>\n        </div>\n        \n        \n        <div data-bind="foreach: {\n                data: card.cards,\n                as: \'card\'\n            }">\n            <div data-bind="css: {\n                    \'jstree-last\': ($index() === ($parent.card.cards().length - 1))\n                }">\n                \x3c!-- ko component: {\n                    name: self.form.cardComponentLookup[card.model.component_id()].componentname,\n                    params: {\n                    state: \'permissions-tree\',\n                    card: card,\n                    tile: null,\n                    loading: self.loading,\n                    form: self.form,\n                    multiselect: true,\n                    pageVm: $root\n                }\n            } --\x3e \x3c!-- /ko --\x3e\n            </div>\n        </div>\n        \n    </ul>\n    \x3c!-- /ko --\x3e\n</li>\n\n\x3c!-- /ko --\x3e\n\n\n\x3c!-- ko if: state === \'form\' --\x3e\n\n\n\n\n<div class="workbench-card-wrapper" data-bind="class: ko.unwrap($data.workbenchWrapperClass)">\n    \x3c!-- ko if: showTabs --\x3e\n    <div class="workbench-card-sidebar">\n        \n\x3c!-- ko if: !$data.hideEditorTab() --\x3e\n<div class="workbench-card-sidebar-tab" data-bind="click: function() {\n    toggleTab(\'editor\');\n}, css: {\n    \'active\': activeTab() === \'editor\', \'disabled\': !canvas() || expandGallery()\n}">\n    <i class="fa fa-pencil"></i>\n    <span class="map-sidebar-text" data-bind="text: $root.translations.edit"></span>\n</div>\n\x3c!-- /ko --\x3e\n\n<div class="workbench-card-sidebar-tab" data-bind="click: function() {\n    toggleTab(\'imageTools\');\n}, css: {\n    \'active\': activeTab() === \'imageTools\',\n    \'disabled\': !canvas() || expandGallery()\n}">\n    <i class="fa fa-image"></i>\n    <span data-bind="text: $root.translations.image" class="map-sidebar-text"></span>\n</div>\n<div class="workbench-card-sidebar-tab" data-bind="click: function() {\n    toggleTab(\'annotations\');\n}, css: {\n    \'active\': activeTab() === \'annotations\',\n    \'disabled\': !canvas() || expandGallery()\n}">\n    <i class="fa fa-list"></i>\n    <span data-bind="text: $root.translations.overlays" class="map-sidebar-text"></span>\n</div>\n\n\n    </div>\n    \x3c!-- /ko --\x3e\n    \x3c!--ko if: activeTab() --\x3e\n    <div class="workbench-card-sidepanel" data-bind="css:{\'expanded\': expandSidePanel()}">\n        \n\x3c!--ko if: activeTab() === \'editor\' --\x3e\n    <div class="workbench-card-sidepanel-header-container">\n        <h4 class="workbench-card-sidepanel-header" data-bind="click: hideSidePanel, text: card.model.name"></h4>\n    </div>\n    <div class="workbench-card-sidepanel-border"></div>\n\n    <div data-bind="css: card.model.cssclass">\n        \x3c!-- ko if: reviewer && provisionalTileViewModel.selectedProvisionalEdit() --\x3e\n        <div class="edit-message-container">\n            <span data-bind="text: $root.translations.showingEditsBy"></span>\n            <span class="edit-message-container-user" data-bind="text: provisionalTileViewModel.selectedProvisionalEdit().username() + \'.\'"></span>\n            \x3c!-- ko if: !provisionalTileViewModel.tileIsFullyProvisional() --\x3e\n            <a class="reset-authoritative" href="" data-bind="click: function(){provisionalTileViewModel.resetAuthoritative();}">\n                <span data-bind="text: $root.translations.returnToApprovedEdits"></span>\n            </a>\n            \x3c!-- /ko--\x3e\n            \x3c!-- ko if: provisionalTileViewModel.selectedProvisionalEdit().isfullyprovisional --\x3e\n            <span data-bind="text: $root.translations.newProvisionalContribution"></span>\n            \x3c!-- /ko--\x3e\n        </div>\n        \x3c!-- /ko--\x3e\n\n        \x3c!-- ko if: reviewer && provisionalTileViewModel.provisionaledits().length > 0 && !provisionalTileViewModel.selectedProvisionalEdit()--\x3e\n        <div class="edit-message-container approved">\n            <div>\n                <span data-bind="text: $root.translations.showingRecentApprovedEdits"></span>\n            </div>\n        </div>\n        \x3c!-- /ko--\x3e\n\n\n\n        <div class="new-provisional-edit-card-container">\n            \x3c!-- ko if: reviewer && provisionalTileViewModel.provisionaledits().length > 0 --\x3e\n            \x3c!-- ko if: !provisionalTileViewModel.tileIsFullyProvisional() --\x3e\n            <div class="new-provisional-edits-list">\n                <div class="new-provisional-edits-header">\n                    <div class="new-provisional-edits-title">\n                        <span data-bind="text: $root.translations.provisionalEdits"></span>\n                    </div>\n                    <div class="btn btn-shim btn-danger btn-labeled btn-xs fa fa-trash new-provisional-edits-delete-all" style="padding: 3px;" data-bind="click: function(){\n                            provisionalTileViewModel.deleteAllProvisionalEdits();\n                        }">\n                        <span data-bind="text: $root.translations.deleteAllEdits"></span>\n                    </div>\n                </div>\n                \x3c!-- ko foreach: { data: provisionalTileViewModel.provisionaledits(), as: \'pe\' } --\x3e\n                <div class="new-provisional-edit-entry" data-bind="css: {\n                        \'selected\': pe === $parent.provisionalTileViewModel.selectedProvisionalEdit()\n                    }, click: function(){\n                        $parent.provisionalTileViewModel.selectProvisionalEdit(pe);\n                    }">\n                    <div class="title">\n                        <div class="field">\n                            <span data-bind="text : pe.username"></span>\n                        </div>\n                        <a href="" class="field fa fa-times-circle new-delete-provisional-edit" data-bind="click : function(){\n                            $parent.provisionalTileViewModel.rejectProvisionalEdit(pe);\n                        }"></a>\n                    </div>\n                    <div class="field timestamp">\n                        <span data-bind="text : pe.displaydate">@</span>\n                        <span data-bind="text : pe.displaytimestamp"></span>\n                    </div>\n                </div>\n                \x3c!-- /ko --\x3e\n            </div>\n            \x3c!-- /ko--\x3e\n            \x3c!-- /ko--\x3e\n\n            <div class="card">\n                \n                \x3c!-- ko if: card.model.helpenabled --\x3e\n                <span>\n                    <a class="pull-right card-help help editable-help" data-bind="click: function () {\n                        card.model.get(\'helpactive\')(true)\n                    }" style="cursor:pointer;">\n                        <span data-bind="text: $root.translations.help"></span>\n                        <i class="fa fa-question-circle"></i>\n                    </a>\n                </span>\n                \x3c!-- /ko --\x3e\n                <h5 data-bind="text: card.model.instructions"></h5>\n                \n                \x3c!-- ko if: card.widgets().length > 0 --\x3e\n                \n                <form class="widgets" style="margin-bottom: 20px;">\n                    <div data-bind="foreach: {\n                            data:card.widgets, as: \'widget\'\n                        }">\n                        \x3c!-- ko if: ko.unwrap(self.form.nodeLookup[widget.node_id()].datatype) === \'annotation\' --\x3e\n                        <div class="row widget-wrapper">\n                            <div class="form-group">\n                                <label class="control-label widget-input-label" for="" data-bind="text:widget.label"></label>\n                                <i data-bind="css: {\'ion-asterisk widget-label-required\': self.form.nodeLookup[widget.node_id()].isrequired}"></i>\n\n                                <div class="col-xs-12">\n                                    <div class="style-tools-collapser" data-bind=" click: function() {\n                                        self.showStylingTools(!self.showStylingTools());\n                                    }">\n                                        <span data-bind="text: self.showStylingTools() ? $root.translations.hideStyleTools : $root.translations.showStyleTools"></span>\n                                        <i class="fa" data-bind="{\n                                            css: {\n                                                \'fa-caret-down\' : !self.showStylingTools(),\n                                                \'fa-caret-up\' : self.showStylingTools(),\n                                            }\n                                        }"></i>\n                                    </div>\n                                    <div class="form-horizontal" data-bind="if: self.showStylingTools">\n                                        <div class="style-tools-panel">\n                                            <div class="form-group">\n                                                <label class="col-sm-4 control-label">\n                                                    <span data-bind="text: $root.translations.lineColor"></span>\n                                                </label>\n                                                <div class="col-sm-8">\n                                                    <div class="colorpicker-component input-group">\n                                                        <input class="form-control input-md widget-input" data-bind="\n                                                                attr: {placeholder: $root.translations.lineColor},\n                                                                colorPicker: {color: self.lineColor, format:\'hex\'}\n                                                            ">\n                                                        <span class="input-group-addon style-tools-color-visualizer" data-bind="style: {background: self.lineColor}"></span>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div class="form-group">\n                                                <label class="col-sm-4 control-label">\n                                                    <span data-bind="text: $root.translations.fillColor"></span>\n                                                </label>\n                                                <div class="col-sm-8">\n                                                    <div class="colorpicker-component input-group">\n                                                        <input class="form-control input-md widget-input" data-bind="\n                                                                attr: {placeholder: $root.translations.fillColor},\n                                                                colorPicker: {color: self.fillColor, format:\'hex\'}\n                                                            ">\n                                                        <span class="input-group-addon style-tools-color-visualizer" data-bind="style: {background: self.fillColor}"></span>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div class="form-group">\n                                                <label class="col-sm-4 control-label">\n                                                    <span data-bind="text: $root.translations.lineWidth"></span>\n                                                </label>\n                                                <div class="col-sm-8">\n                                                    <input type="number" placeholder="" class="form-control" data-bind="valueUpdate: \'keyup\', value: self.lineWidth">\n                                                </div>\n                                            </div>\n                                            <div class="form-group">\n                                                <label class="col-sm-4 control-label">\n                                                    <span data-bind="text: $root.translations.lineOpacity"></span>\n                                                </label>\n                                                <div class="col-sm-8">\n                                                    <input type="number" placeholder="" class="form-control" data-bind="valueUpdate: \'keyup\', value: self.lineOpacity">\n                                                </div>\n                                            </div>\n                                            <div class="form-group">\n                                                <label class="col-sm-4 control-label">\n                                                    <span data-bind="text: $root.translations.pointRadius"></span>\n                                                </label>\n                                                <div class="col-sm-8">\n                                                    <input type="number" placeholder="" class="form-control" data-bind="valueUpdate: \'keyup\', value: self.pointRadius">\n                                                </div>\n                                            </div>\n                                            <div class="form-group">\n                                                <label class="col-sm-4 control-label">\n                                                    <span data-bind="text: $root.translations.fillOpacity"></span>\n                                                </label>\n                                                <div class="col-sm-8">\n                                                    <input type="number" placeholder="" class="form-control" data-bind="valueUpdate: \'keyup\', value: self.fillOpacity">\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="map-card-feature-list">\n                                        <div class="add-new-feature" data-bind="visible: !self.disableDrawing()">\n                                            <select data-bind="\n                                                    placeholder: $root.translations.addANewFeature + \'...\',\n                                                    value: self.featureLookup[widget.node_id()].selectedTool,\n                                                    valueAllowUnset: true,\n                                                    options: [\n                                                        {\n                                                            value: \'\',\n                                                            text: \'\'\n                                                        },\n                                                        {\n                                                            value: \'draw_point\',\n                                                            text: $root.translations.mapAddPoint\n                                                        },\n                                                        {\n                                                            value: \'draw_line_string\',\n                                                            text: $root.translations.mapAddLine\n                                                        },\n                                                        {\n                                                            value: \'draw_polygon\',\n                                                            text: $root.translations.mapAddPolygon\n                                                        }\n                                                    ],\n                                                    optionsText: \'text\',\n                                                    optionsValue: \'value\',\n                                                    chosen: {\n                                                        \'width\': \'100%\',\n                                                        \'disable_search_threshold\': 10,\n                                                        \'allow_single_deselect\': true\n                                                    }\n                                                "></select>\n                                        </div>\n                                        <div class="add-new-feature" data-bind="visible: self.disableDrawing">\n                                            <select data-bind="\n                                                    placeholder: $root.translations.addANewFeature + \'...\',\n                                                    value: self.featureLookup[widget.node_id()].selectedTool,\n                                                    valueAllowUnset: true,\n                                                    options: [\n                                                        {\n                                                            value: \'\',\n                                                            text: \'\'\n                                                        },\n                                                        {\n                                                            value: \'draw_point\',\n                                                            text: $root.translations.mapAddPoint\n                                                        },\n                                                        {\n                                                            value: \'draw_line_string\',\n                                                            text: $root.translations.mapAddLine\n                                                        },\n                                                        {\n                                                            value: \'draw_polygon\',\n                                                            text: $root.translations.mapAddPolygon\n                                                        }\n                                                    ],\n                                                    optionsText: \'text\',\n                                                    optionsValue: \'value\',\n                                                    chosen: {\n                                                        disabled: true,\n                                                        \'width\': \'100%\',\n                                                        \'disable_search_threshold\': 10,\n                                                        \'allow_single_deselect\': true\n                                                    }\n                                                "></select>\n                                        </div>\n                                    </div>\n                                    <table class="table">\n                                        <tbody>\n                                            \x3c!-- ko foreach: {data: self.featureLookup[widget.node_id()].features, as: \'feature\'} --\x3e\n                                            <tr class="map-card-feature-item" data-bind="css: {\'active\': self.selectedFeatureIds().indexOf(feature.id) >= 0}, click: function() { self.showFeature(feature); }">\n                                                <td>\n                                                    <span class="map-card-feature-name" data-bind="text: feature.geometry.type"></span>\n                                                </td>\n                                                <td class="map-card-feature-tool">\n                                                    <a href="javascript:void(0);" data-bind="click: function() { self.editFeature(feature); }, clickBubble: false">\n                                                        <i class="fa fa-pencil map-card-feature-edit"></i>\n                                                        <span data-bind="text: $root.translations.edit"></span>\n                                                    </a>\n                                                </td>\n                                                <td class="map-card-feature-tool">\n                                                    <a href="javascript:void(0);" data-bind="click: function() { self.deleteFeature(feature); }, clickBubble: false">\n                                                        <i class="fa fa-trash map-card-feature-delete"></i>\n                                                        <span data-bind="text: $root.translations.delete"></span>\n                                                    </a>\n                                                </td>\n                                            </tr>\n                                            \x3c!-- /ko --\x3e\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n                        \x3c!-- /ko --\x3e\n                        \x3c!-- ko if: ko.unwrap(self.form.nodeLookup[widget.node_id()].datatype) !== \'annotation\' --\x3e\n                        <div data-bind=\'component: {\n                            name: self.form.widgetLookup[widget.widget_id()].name,\n                            params: {\n                                formData: self.tile.formData,\n                                tile: self.tile,\n                                form: self.form,\n                                config: widget.configJSON,\n                                label: widget.label(),\n                                value: self.tile.data[widget.node_id()],\n                                node: self.form.nodeLookup[widget.node_id()],\n                                expanded: self.expanded,\n                                graph: self.form.graph,\n                                type: "resource-editor",\n                                disabled: !self.card.isWritable && !self.preview\n                            }\n                        }, css:{\n                            "active": widget.selected,\n                            "hover": widget.hovered,\n                            "widget-preview": self.preview\n                        }, click: function(data, e) {\n                            if (!widget.selected() && self.preview) widget.selected(true);\n                        }, event: {\n                            mouseover: function(){\n                                if (self.preview) widget.hovered(true);\n                            },\n                            mouseout: function(){\n                                if (self.preview) widget.hovered(null);\n                            }\n                        }, visible: widget.visible\'></div>\n                        \x3c!-- /ko --\x3e\n                    </div>\n                </form>\n                \n                \x3c!-- /ko --\x3e\n                \n                <div class="install-buttons">\n                    \x3c!-- ko if: tile.tileid && self.deleteTile --\x3e\n                    <button class="btn btn-shim btn-labeled btn-lg fa fa-trash" data-bind="click: self.deleteTile, css: {\n                        disabled: !card.isWritable && !self.preview,\n                        \'btn-warning\': card.isWritable\n                    }">\n                        <span data-bind="text: $root.translations.delete"></span>\n                    </button>\n                    \x3c!-- /ko --\x3e\n                    \x3c!-- ko if: tile.dirty() --\x3e\n                        \x3c!-- ko if: provisionalTileViewModel && !provisionalTileViewModel.tileIsFullyProvisional() && card.isWritable --\x3e\n                        <button class="btn btn-shim btn-danger btn-labeled btn-lg fa fa-times" data-bind="click: tile.reset">\n                            <span data-bind="text: $root.translations.cancel"></span>\n                        </button>\n                        \x3c!-- /ko --\x3e\n                        \x3c!-- ko if: tile.tileid --\x3e\n                        <button class="btn btn-shim btn-labeled btn-lg fa fa-plus" data-bind="click: self.saveTile, css: {\n                            disabled: !card.isWritable && !self.preview,\n                            \'btn-mint\': card.isWritable\n                        }">\n                            <span data-bind="text: $root.translations.save"></span>\n                        </button>\n                        \x3c!-- /ko --\x3e\n                    \x3c!-- /ko --\x3e\n                    \x3c!-- ko if: !tile.tileid --\x3e\n                    <button class="btn btn-shim btn-labeled btn-lg fa fa-plus" data-bind="click: self.saveTile, css: {\n                        disabled: !card.isWritable && !self.preview,\n                        \'btn-mint\': card.isWritable\n                    }">\n                        <span data-bind="text: $root.translations.add"></span>\n                    </button>\n                    \x3c!-- /ko --\x3e\n                </div>\n                \n\n                <aside id="card-help-panel" class="card-help-panel" style="display: none;" data-bind="visible: card.model.get(\'helpactive\')">\n                    <div class="relative">\n                        <a id="add-basemap-wizard-help-close" href="#" class="help-close fa fa-times fa-lg" style="" data-bind="click: function () {\n                            card.model.get(\'helpactive\')(false);\n                        }"></a>\n                    </div>\n                    <div id="add-basemap-wizard-help-content">\n                        <div>\n                            <div class="panel-heading">\n                                <h3 class="panel-title help-panel-title" style="">\n                                    <span data-bind="html: card.model.get(\'helptitle\')"></span>\n                                </h3>\n                            </div>\n                            <div class="panel-body" style="padding: 10px 10px 15px 10px;" data-bind="html: card.model.get(\'helptext\')">\n                            </div>\n                        </div>\n                    </div>\n                </aside>\n            </div>\n        </div>\n    </div>\n\n\x3c!--/ko --\x3e\n\n\x3c!--ko if: activeTab() === \'imageTools\' --\x3e\n<div class="workbench-card-sidepanel-header-container">\n    <h4 class="workbench-card-sidepanel-header" data-bind="\n            text: $root.translations.imageTools,\n            click: hideSidePanel\n        "></h4>\n</div>\n<div class="workbench-card-sidepanel-border"></div>\n<div class="workbench-card-sidepanel-body">\n<div class="iiif-image-tools">\n    <div data-bind="if: showModeSelector" class="layout">\n        <div>\n            <span data-bind="text: $root.translations.panelLayout"></span>\n        </div>\n        <div class="mode-selector">\n            <div data-bind="click: function(){ compareMode(false); return true; }, css: { selected: !compareMode() }">\n                <div class="selector-button"></div>\n                <input name="panelGroup" value="single" type="radio" data-bind="checked: panelRadio">\n                <span data-bind="text: $root.translations.singlePanel"></span>\n            </div>\n            <div data-bind="click: function(){ compareMode(true); return true; }, css: { selected: compareMode() }">\n                <div>\n                    <div class="selector-button"></div>\n                    <div class="selector-button"></div>\n                </div>\n                <input name="panelGroup" value="double" type="radio" data-bind="checked: panelRadio">\n                <span data-bind="text: $root.translations.doublePanel"></span>\n            </div>\n        </div>\n\n        <div class="panel-selector">\n            <span data-bind="text: $root.translations.selectedPanelLayout"></span>\n            <div class="selector">\n                <div data-bind="css: { selected: selectPrimaryPanel() }">\n                    <div data-bind="click: function(){selectPrimaryPanel(true)}" class="primary">\n                        <span data-bind="text: $root.translations.panelOne"></span>\n                    </div>\n                </div>\n                <div data-bind="css: { selected: !selectPrimaryPanel() }, if: compareMode()">\n                    <div class="secondary" data-bind="click: function(){selectPrimaryPanel(false)}">\n                        <span data-bind="text: $root.translations.panelTwo"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div data-bind="if: showModeSelector" style="width: 96%; margin: 20px 0px;">\n        <input class="form-control input-lg widget-input" data-bind="value: imageToolSelector,\n            select2Query: {\n                select2Config: imageToolConfig\n            }">\n    </div>\n\n    <div class="iiif-image-tool-slider">\n        <div class="iiif-image-tool-label">\n            <i class="fa fa-lightbulb-o"></i>\n            <span data-bind="text: $root.translations.brightness"></span>\n        </div>\n        <div class="iiif-image-tool-slider-wrap">\n            <input type="range" min="0" max="200" step="1" data-bind="value: brightness, valueUpdate: \'input\'">\n        </div>\n        <div class="iiif-image-tool-value">\n            <span data-bind="text: brightness"></span>%\n        </div>\n    </div>\n    <div class="iiif-image-tool-slider">\n        <div class="iiif-image-tool-label">\n            <i class="fa fa-adjust"></i>\n            <span data-bind="text: $root.translations.contrast"></span>\n        </div>\n        <div class="iiif-image-tool-slider-wrap">\n            <input type="range" min="0" max="200" step="1" data-bind="value: contrast, valueUpdate: \'input\'">\n        </div>\n        <div class="iiif-image-tool-value">\n            <span data-bind="text: contrast"></span>%\n        </div>\n    </div>\n    <div class="iiif-image-tool-slider">\n        <div class="iiif-image-tool-label">\n            <i class="fa fa-eyedropper"></i>\n            <span data-bind="text: $root.translations.saturation"></span>\n        </div>\n        <div class="iiif-image-tool-slider-wrap">\n            <input type="range" min="0" max="200" step="1" data-bind="value: saturation, valueUpdate: \'input\'">\n        </div>\n        <div class="iiif-image-tool-value">\n            <span data-bind="text: saturation"></span>%\n        </div>\n    </div>\n    <div class="iiif-image-tool-slider">\n        <div class="iiif-image-tool-label">\n            <i class="fa fa-image"></i>\n            <span data-bind="text: $root.translations.greyscale"></span>\n        </div>\n        <div class="toggle-container">\n            <span class="switch switch-small switch-widget" data-bind="css: {\'on\': greyscale()}, click: function() { greyscale(!greyscale()); }"><small></small></span>\n            <div style="display:flex; flex-direction:row;">\n                <div class="arches-toggle-sm" data-bind="click: function() { greyscale(!greyscale()); }">\n                    <span data-bind="text: $root.translations.displayAsGreyscale"></span>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="install-buttons">\n        <button class="btn btn-shim btn-danger btn-labeled btn-lg fa fa-refresh" data-bind="click: resetImageSettings">\n            <span data-bind="text: $root.translations.resetToDefaults"></span>\n        </button>\n    </div>\n</div>\n</div>\n\x3c!--/ko --\x3e\n\x3c!--ko if: activeTab() === \'annotations\' --\x3e\n<div class="workbench-card-sidepanel-header-container">\n    <h4 class="workbench-card-sidepanel-header" data-bind="click: hideSidePanel">\n        <span data-bind="text: $root.translations.annotationOverlays"></span>\n    </h4>\n</div>\n<div class="workbench-card-sidepanel-border"></div>\n<div class="workbench-card-sidepanel-body">\n<div class="overlays-listing-container" data-bind="sortable: {\n    data: annotationNodes\n}">\n    <div class="overlay-listing" data-bind="css: {\'active-overlay\': active}">\n        <div class="overlay-name" data-bind="\n            click: function() {\n                active(!active());\n            }\n        ">\n            <i data-bind="css: icon" class="layer-listing-icon"></i>\n            <span data-bind="text: name"></span>\n        </div>\n        <div class="relative">\n            <div class="overlay-opacity-control">\n                <i class="fa fa-adjust"></i>\n                <div class="overlay-opacity-slider">\n                    <input type="range" min="0" max="100" step="1" data-bind="value: opacity, valueUpdate: \'input\'">\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n</div>\n\x3c!--/ko --\x3e\n\n\n    </div>\n    \x3c!--/ko --\x3e\n    <div class="workbench-card-container-wrapper" data-bind="css: {\n        \'workbench-card-container-sidepanel-active\': activeTab(), \'wide\': showTabs() === false\n    }">\n    \n\x3c!-- ko foreach: { data: [$data], as: \'self\' } --\x3e\n\x3c!--ko if: ko.unwrap(self.mainMenu) --\x3e\n\n\n\x3c!--/ko--\x3e\n\x3c!--ko if: !ko.unwrap(self.mainMenu) --\x3e\n<div class="workbench-card-container" data-bind="css: {\n        \'gallery-visible\': showGallery,\n        \'gallery-expanded\': expandGallery\n    }">\n\n    <div class="iiif-leaflet" data-bind="leaflet: leafletConfig">\n        <div class="split-controls left" data-bind="if: secondaryCanvas">\n            <div style="width: 200px">\n                <input class="form-control input-lg widget-input" data-bind="value: canvas(),\n                    select2Query: {\n                        select2Config: leftSideSelectConfig\n                    }">\n            </div>\n            <div class="button" data-bind="click: imagePropertyUpdate.bind($data,\'left\')">\n                <i class="fa fa-picture-o"></i>\n            </div>\n        </div>\n        <div class="split-controls right" data-bind="if: secondaryCanvas">\n            <div style="width: 200px;">\n                <input class="form-control input-lg widget-input" data-bind="value: secondaryCanvas(),\n                    select2Query: {\n                        select2Config: rightSideSelectConfig\n                    }">\n            </div>\n            <div class="button" data-bind="click: imagePropertyUpdate.bind($data,\'right\')">\n                <i class="fa fa-picture-o"></i>\n            </div>\n        </div>\n    </div>\n    <div class="image-tools-floating" data-bind="style: {display: showImageModifiers() ? \'inherit\': \'none\'}, css: {left: floatingLocation() == \'left\', right: floatingLocation() == \'right\', sidepanel: activeTab()}">\n        <div class="iiif-image-tool-slider">\n            <div class="iiif-image-tool-label">\n                <i class="fa fa-lightbulb-o"></i>\n                <span data-bind="text: $root.translations.brightness"></span>\n            </div>\n            <div class="iiif-image-tool-slider-wrap">\n                <input type="range" min="0" max="200" step="1" data-bind="value: brightness, valueUpdate: \'input\'">\n            </div>\n            <div class="iiif-image-tool-value">\n                <span data-bind="text: brightness"></span>%\n            </div>\n        </div>\n        <div class="iiif-image-tool-slider">\n            <div class="iiif-image-tool-label">\n                <i class="fa fa-adjust"></i>\n                <span data-bind="text: $root.translations.contrast"></span>\n            </div>\n            <div class="iiif-image-tool-slider-wrap">\n                <input type="range" min="0" max="200" step="1" data-bind="value: contrast, valueUpdate: \'input\'">\n            </div>\n            <div class="iiif-image-tool-value">\n                <span data-bind="text: contrast"></span>%\n            </div>\n        </div>\n        <div class="iiif-image-tool-slider">\n            <div class="iiif-image-tool-label">\n                <i class="fa fa-eyedropper"></i>\n                <span data-bind="text: $root.translations.saturation"></span>\n            </div>\n            <div class="iiif-image-tool-slider-wrap">\n                <input type="range" min="0" max="200" step="1" data-bind="value: saturation, valueUpdate: \'input\'">\n            </div>\n            <div class="iiif-image-tool-value">\n                <span data-bind="text: saturation"></span>%\n            </div>\n        </div>\n        <div class="iiif-image-tool-slider">\n            <div class="iiif-image-tool-label">\n                <i class="fa fa-image"></i>\n                <span data-bind="text: $root.translations.greyscale"></span>\n            </div>\n            <div class="toggle-container">\n                <span class="switch switch-small switch-widget" data-bind="css: {\'on\': greyscale()}, click: function() { greyscale(!greyscale()); }"><small></small></span>\n                <div style="display:flex; flex-direction:row;">\n                    <div class="arches-toggle-sm" data-bind="click: function() { greyscale(!greyscale()); }">\n                        <span data-bind="text: $root.translations.displayAsGreyscale"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="show-gallery-control" data-bind="click: toggleGallery, css: {\n        \'gallery-visible\': showGallery,\n        \'gallery-expanded\': expandGallery,\n    }">\n    <h3>\n        <span data-bind="text: $root.translations.showGallery"></span>\n    </h3>\n</div>\n\x3c!--ko let: {canvasClick: canvasClick, getCanvasService: getCanvasService, selectedCanvas: selectPrimaryPanel() ? canvas: secondaryCanvas, getAnnotationCount: getAnnotationCount} --\x3e\n<div class="iiif-viewer-gallery" data-bind="css: {\n        \'gallery-expanded\': expandGallery\n    }">\n    \x3c!--ko if: showGallery() --\x3e\n    <div class="iiif-gallery-content">\n\n        \x3c!--ko if: manifestData() --\x3e\n        <div class="panel-controls">\n            <div class="hide-gallery-control" data-bind="click: toggleGallery">\n                <span data-bind="text: $root.translations.hideGallery"></span>\n            </div>\n            <div data-bind="if: showModeSelector" class="mode-selector">\n                <div>\n                    <span data-bind="text: $root.translations.panels"></span>\n                </div>\n                <div class="mode-selector-buttons">\n                    <div class="single-panel" data-bind="click: function(){compareMode(false)}, css: {selected: !compareMode()}">\n                        <div></div>\n                    </div>\n                    <div class="two-panel" data-bind="click: function(){compareMode(true)}, css: {selected: compareMode()}">\n                        <div></div>\n                        <div></div>\n                    </div>\n                </div>\n                <div class="panel-selector-buttons">\n                    <div data-bind="click: function(){selectPrimaryPanel(true)}, css: { selected: selectPrimaryPanel() }">\n                        <span data-bind="text: $root.translations.panelOne"></span>\n                    </div>\n                    <div data-bind="click: function(){selectPrimaryPanel(false)}, css: { selected: !selectPrimaryPanel(), hide: !compareMode() }">\n                        <span data-bind="text: $root.translations.panelTwo"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \x3c!--/ko --\x3e\n        \x3c!--ko if: expandGallery() && manifestData() --\x3e\n        <div class="manifest-details">\n            <h3>\n                <span data-bind="text: manifestName"></span>\n            </h3>\n\n            <h4>\n                <span data-bind="html: manifestDescription"></span>\n            </h4>\n\n            <div class="manifest-details-list" data-bind="foreach: manifestMetadata">\n                <dt class="manifest-metadata-title" data-bind="text: label"></dt>\n                \x3c!--ko foreach: Array.isArray(value) ? value : [value] --\x3e\n                <dd class="manifest-metadata-value" data-bind="html: $data"></dd>\n                \x3c!--/ko --\x3e\n            </div>\n            <h4 class="manifest-attribution-key" data-bind="text: manifestAttribution"></h4>\n            \x3c!-- ko if: showLogo --\x3e\n            <img class="manifest-logo" data-bind="attr: {src: manifestLogo()}">\n            \x3c!-- /ko --\x3e\n        </div>\n        \x3c!--/ko --\x3e\n\n        \x3c!--ko if: editManifest() --\x3e\n        <div class="manifest-editor">\n            <div class="manifest-editor-label">\n                <span data-bind="text: $root.translations.selectAManifest + \':\'"></span>\n            </div>\n            <div class="manifest-editor-input">\n                <input class="form-control input-lg widget-input" data-bind="value: manifest,\n                    select2Query: {\n                        select2Config: manifestSelectConfig\n                    }">\n            </div>\n\n            <div class="install-buttons">\n                <button class="btn btn-shim btn-mint btn-labeled btn-lg fa fa-pencil" data-bind="click: getManifestData,\n                    disabled: manifestLoading(),\n                    css: { \'disabled\': manifestLoading() }\n                ">\n                    <span data-bind="text: $root.translations.loadManifest"></span>\n                </button>\n                \x3c!--ko if: manifestData() --\x3e\n                <button class="btn btn-shim btn-danger btn-labeled btn-lg fa fa-refresh" data-bind="click: toggleManifestEditor">\n                    <span data-bind="text: $root.translations.cancel"></span>\n                </button>\n                \x3c!--/ko --\x3e\n                \x3c!--ko if: manifestLoading() --\x3e\n                <span class="manifest-editor-loading" data-bind="text: $root.translations.loadingManifest + \'...\'"></span>\n                \x3c!--/ko --\x3e\n                \x3c!--ko if: manifestError() --\x3e\n                <span data-bind="text: console.log(manifestError())"></span>\n                <span class="manifest-editor-error" data-bind="text: $root.translations.errorLoadingManifest + \'...\'"></span>\n                \x3c!--/ko --\x3e\n            </div>\n        </div>\n\n\n        \x3c!--/ko --\x3e\n        \x3c!--ko if: !editManifest() --\x3e\n            \x3c!--ko if: manifestLoading() --\x3e\n            <span class="manifest-editor-loading" data-bind="text: $root.translations.loadingManifest + \'...\'"></span>\n            \x3c!--/ko --\x3e\n            \x3c!--ko if: !manifestLoading() --\x3e\n            <div class="iiif-gallery-panel" style="overflow-x: auto;">\n                <div class="iiif-gallery-header" style="display:flex">\n                    <div style="display: flex; align-items: center">\n                        \n                        <div>\n                            <span class="iiif-gallery-manifest-label" data-bind="text: manifestData() ? manifestName() : $root.translations.noManifestSelected"></span>\n                        </div>\n                        <div>\n                            <span class="iiif-gallery-sequence-label" data-bind="click: function(){expandGallery(!expandGallery())}">\n                                \x3c!-- ko if: !expandGallery() --\x3e\n                                    <span data-bind="text: $root.translations.info"></span>\n                                \x3c!-- /ko --\x3e\n                                \x3c!-- ko if: expandGallery() --\x3e\n                                    <span data-bind="text: $root.translations.close"></span>\n                                \x3c!-- /ko --\x3e\n                            </span>\n                        </div>\n                        <div>\n                            <span class="iiif-gallery-sequence-label" data-bind="\n                                    text: $root.translations.switchImageService,\n                                    click: toggleManifestEditor\n                                "></span>\n                        </div>\n                        <div>\n                            <span data-bind="text: $root.translations.filter"></span>\n                            <div class="list-filter" data-bind="">\n                                <input type="text" class="form-control" style="width: 100%;" data-bind="\n                                        textInput: filter,\n                                        attr: {placeholder: $root.translations.filterImages + \'...\'}\n                                    ">\n                                \x3c!-- Clear Search --\x3e\n                                <span class="clear-node-search" data-bind="visible: filter().length > 0, click: function() { filter(\'\'); }"><i class="fa fa-times-circle"></i></span>\n                            </div>\n                        </div>\n                        \n                    </div>\n                </div>\n\n                <div class="iiif-gallery-sequence">\n                    <div class="iiif-gallery-sequence-canvases" data-bind="foreach: canvases">\n                        <div style="display: inline-block;">\n                            <div class="iiif-gallery-canvas" data-bind="click: function() {\n                                canvasClick($data);\n                            },\n                            visible: label.toLowerCase().includes(self.filter().toLowerCase()),\n                            css: {\n                                active: getCanvasService($data) === selectedCanvas(),\n                                annotated: getAnnotationCount(getCanvasService($data))\n                            }">\n                                <div style="text-align:center" class="iiif-gallery-canvas-thumbnail">\n                                    <img data-bind="attr: { src: $data.thumbnail || \'/static/img/photo_missing.png\', title: $data.label}">\n                                </div>\n                                <div style="text-align:center;" class="iiif-gallery-canvas-label">\n                                    <span data-bind="text: label"></span>\n                                    <span class="annotation-count">\n                                        \x3c!--ko if: getAnnotationCount(getCanvasService($data)) --\x3e\n                                        <span data-bind="text: getAnnotationCount(getCanvasService($data))"></span>\n                                        <span data-bind="text: $root.translations.annotations"></span>\n                                        \x3c!--/ko --\x3e\n                                        \x3c!--ko if: !getAnnotationCount(getCanvasService($data)) --\x3e\n                                        &nbsp;\n                                        \x3c!--/ko --\x3e\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \x3c!--/ko --\x3e\n        \x3c!--/ko --\x3e\n    </div>\n    \x3c!--/ko --\x3e\n</div>\n\x3c!--/ko --\x3e\n\x3c!--/ko --\x3e\n\x3c!--/ko --\x3e\n\n</div>\n</div>\n\n\n\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: state === \'report\' && card.model.visible() --\x3e\n\n\n\n\n<div data-bind="css: {\'print-hide\': !reportExpanded()}">\n    \x3c!-- ko if: showHeaderLine--\x3e<hr class="rp-tile-separator">\x3c!-- /ko --\x3e\n    <div class="rp-card-section" data-bind="css: card.model.cssclass, visible: card.fullyProvisional() !== \'fullyprovisional\'">\n        <span class="rp-tile-title" data-bind="text: card.model.get(\'name\')"></span>\n        \x3c!-- ko if: card.tiles().length > 0 --\x3e\n        <i class="fa report-expander print-hide" data-bind="css: {\'fa-angle-down\': reportExpanded(), \'fa-angle-right\': !reportExpanded()}, click: function () { reportExpanded(!reportExpanded()) }"></i>\n        \x3c!-- ko if: reportExpanded() --\x3e\n        \x3c!-- ko foreach: { data: self.preview ? [card.newTile] : card.tiles, as: \'tile\' } --\x3e\n\n        <div class="rp-card-section" data-bind="event : { dblclick: function(){tile.selected(true) }}, css: {\'provisional\': ko.unwrap(tile.provisionaledits) !== null && tile.userisreviewer === false, \'fullyprovisional\': tile.isfullyprovisional()}, attr: {id: tile.tileid}">\n            \x3c!-- ko if: $index() !== 0 --\x3e<hr class="rp-tile-separator">\x3c!-- /ko --\x3e\n            <div style="display: inline-flex; width: 100%; justify-content: space-between;">\n                <span data-bind="visible: tile.parent.model.get(\'widgets\')().length === 0"></span>\n                    \n                    \x3c!-- ko if: tile.parent.model.get(\'widgets\')().length > 0 --\x3e\n                        <div class="rp-report-tile" data-bind="attr: { id: tile.tileid }">\n                            \x3c!-- ko if: ko.unwrap(tile.provisionaledits) !== null && tile.userisreviewer === false --\x3e\n                            <div class="report-card-provisional-flag">\n                                <span data-bind="text: $root.translations.pendingProvisionalData"></span>\n                            </div>\n                            \x3c!-- /ko--\x3e\n                            <dl class="dl-horizontal" data-bind="css: {\'provisional\': ko.unwrap(tile.provisionaledits) !== null && tile.userisreviewer === false}">\n                                \x3c!-- ko foreach: { data: tile.parent.model.get(\'widgets\'), as: \'widget\' } --\x3e\n                                    \x3c!-- ko if: widget.visible --\x3e\n                                    \x3c!-- ko component: {\n                                        name: widget.widgetLookup[widget.get("widget_id")()].name,\n                                        params: {\n                                            config: configJSON,\n                                            label: widget.get("label")(),\n                                            node: widget.node,\n                                            value: tile.data[widget.node.nodeid],\n                                            state: "report",\n                                            hideEmptyNodes: tile.parent.hideEmptyNodes || false\n                                        }\n                                    } --\x3e\x3c!-- /ko --\x3e\n                                    \x3c!-- /ko --\x3e\n                                \x3c!-- /ko --\x3e\n                            </dl>\n                        </div>\n                    \x3c!-- /ko --\x3e\n                    \n                    \x3c!-- ko if: $parent.inResourceEditor --\x3e\n                    <div class="rp-edit-buttons">\n                        \x3c!-- ko if: tile.parent.selected() && tile.parent.cardinality == \'n\' --\x3e\n                        <i class="fa fa-copy" data-bind="click: function(){tile.parent.copyTile(tile)}"></i>\n                        \x3c!-- /ko --\x3e\n                        <i class="fa fa-pencil" data-bind="\n                                click: function(){if ($parent?.form?.workflowId) { $parent.selectWorkflowTile(tile); } else { tile.selected(true); } }\n                            "></i>\n                        <i class="fa fa-trash" data-bind="click: function(){tile.deleteTile()}"></i>\n                    </div>\n                    \x3c!-- /ko --\x3e\n                    </div>\n                    \n                    <div class="rp-report-container-tile" data-bind="visible: tile.parent.cards().length > 0">\n                        \x3c!-- ko foreach: { data: self.preview ? tile.parent.cards : tile.cards, as: \'card\' } --\x3e\n                            \x3c!-- ko if: card.tiles().length > 0 || ko.unwrap(tile.parent.hideEmptyNodes) === false --\x3e\n                                \x3c!-- ko component: {\n                                    name: tile.parent.model.cardComponentLookup[tile.parent.model.component_id()].componentname,\n                                    params: {\n                                        state: \'report\',\n                                        preview: self.preview,\n                                        card: card,\n                                        showHeaderLine: self.card.model.get("widgets")().length > 0 || $index !== 0,\n                                        pageVm: $root,\n                                        hideEmptyNodes: tile.parent.hideEmptyNodes || false\n                                    }\n                                } --\x3e \x3c!-- /ko --\x3e\n                            \x3c!-- /ko --\x3e\n                        \x3c!-- /ko --\x3e\n                    </div>\n                    \n                </div>\n            \x3c!-- /ko --\x3e\n            \x3c!-- /ko --\x3e\n            \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: card.tiles().length === 0 && !self.preview && !card.hideEmptyNodes --\x3e\n        <div class="row rp-report-tile rp-no-data">\n            \x3c!-- ko ifnot: card.model.get(\'cardid\') --\x3e\n                <span data-bind="text: $root.translations.noAccessInformation"></span>\n            \x3c!-- /ko --\x3e\n            \x3c!-- ko if: card.model.get(\'cardid\') --\x3e\n            <div style="display: inline-flex; width: 100%; justify-content: space-between;" data-bind="event : { dblclick: function(){$parent.revealForm(card)}}">\n            <div>\n                <span data-bind="text: $root.translations.noDataAddedYet"></span>\n                <span data-bind="text: card.model.get(\'name\')"></span>\n            </div>\n            \x3c!-- ko if: $parent.inResourceEditor --\x3e\n            <div class="rp-edit-buttons" style="justify-content: flex-end;">\n            <i class="fa fa-plus-circle" data-bind="click: function(){$parent.revealForm(card)}"></i>\n\n            </div>\n            \x3c!-- /ko --\x3e\n            </div>\n            \x3c!-- /ko --\x3e\n        </div>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n\n\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: state === \'config\' --\x3e\n\n<div class="control-label">\n    <span data-bind="text: $root.translations.defaultImageServiceUrl"></span>\n</div>\n<div class="col-xs-12 crud-widget-container">\n    <input type="" id="" class="form-control input-md widget-input" data-bind="attr:{placeholder: $root.translations.enterManifestUrl }, textInput: defaultManifest">\n</div>\n\n\x3c!-- /ko --\x3e\n\n\x3c!-- /ko --\x3e\n'},94806:function(L){L.exports='\n\n<div class="mapboxgl-popup-content">\n    <button class="mapboxgl-popup-close-button" type="button" aria-label="Close popup" data-bind="click: closePopup"></button>\n    <div class="hover-feature-title-bar">\n        <div class="hover-feature-title">\n            <span class="" data-bind="text: name"></span>\n        </div>\n    </div>\n    <div class="hover-feature-body">\n        <div class="hover-feature" data-bind="html: description"></div>\n        <div class="hover-feature-metadata">\n            <span data-bind="text: $root.translations.resourceModel + \':\'"></span>\n            <span data-bind="text: graphName"></span>\n        </div>\n        <div class="hover-feature-metadata">\n            <span data-bind="text: $root.translations.idString"></span>\n            <span data-bind="text: resourceinstanceid"></span>\n        </div>\n    </div>\n    <div class="hover-feature-footer">\n        <a data-bind="click: function () {\n            window.open(reportURL + resourceinstanceid);\n        }" href="javascript:void(0)">\n            <i class="ion-document-text"></i>\n            <span data-bind="text: $root.translations.report"></span>\n        </a>\n    </div>\n</div>\n'},57602:function(L){L.exports='\n\n\n<div class="workbench-card-wrapper" data-bind="class: ko.unwrap($data.workbenchWrapperClass)">\n    \x3c!-- ko if: showTabs --\x3e\n    <div class="workbench-card-sidebar">\n        \n<div class="workbench-card-sidebar-tab" data-bind="click: function() {\n    toggleTab(\'imageTools\');\n}, css: {\n    \'active\': activeTab() === \'imageTools\',\n    \'disabled\': !canvas() || expandGallery()\n}">\n    <i class="fa fa-image"></i>\n    <span data-bind="text: $root.translations.image" class="map-sidebar-text"></span>\n</div>\n<div class="workbench-card-sidebar-tab" data-bind="click: function() {\n    toggleTab(\'annotations\');\n}, css: {\n    \'active\': activeTab() === \'annotations\',\n    \'disabled\': !canvas() || expandGallery()\n}">\n    <i class="fa fa-list"></i>\n    <span data-bind="text: $root.translations.overlays" class="map-sidebar-text"></span>\n</div>\n\n    </div>\n    \x3c!-- /ko --\x3e\n    \x3c!--ko if: activeTab() --\x3e\n    <div class="workbench-card-sidepanel" data-bind="css:{\'expanded\': expandSidePanel()}">\n        \n\x3c!--ko if: activeTab() === \'imageTools\' --\x3e\n<div class="workbench-card-sidepanel-header-container">\n    <h4 class="workbench-card-sidepanel-header" data-bind="\n            text: $root.translations.imageTools,\n            click: hideSidePanel\n        "></h4>\n</div>\n<div class="workbench-card-sidepanel-border"></div>\n<div class="workbench-card-sidepanel-body">\n<div class="iiif-image-tools">\n    <div data-bind="if: showModeSelector" class="layout">\n        <div>\n            <span data-bind="text: $root.translations.panelLayout"></span>\n        </div>\n        <div class="mode-selector">\n            <div data-bind="click: function(){ compareMode(false); return true; }, css: { selected: !compareMode() }">\n                <div class="selector-button"></div>\n                <input name="panelGroup" value="single" type="radio" data-bind="checked: panelRadio">\n                <span data-bind="text: $root.translations.singlePanel"></span>\n            </div>\n            <div data-bind="click: function(){ compareMode(true); return true; }, css: { selected: compareMode() }">\n                <div>\n                    <div class="selector-button"></div>\n                    <div class="selector-button"></div>\n                </div>\n                <input name="panelGroup" value="double" type="radio" data-bind="checked: panelRadio">\n                <span data-bind="text: $root.translations.doublePanel"></span>\n            </div>\n        </div>\n\n        <div class="panel-selector">\n            <span data-bind="text: $root.translations.selectedPanelLayout"></span>\n            <div class="selector">\n                <div data-bind="css: { selected: selectPrimaryPanel() }">\n                    <div data-bind="click: function(){selectPrimaryPanel(true)}" class="primary">\n                        <span data-bind="text: $root.translations.panelOne"></span>\n                    </div>\n                </div>\n                <div data-bind="css: { selected: !selectPrimaryPanel() }, if: compareMode()">\n                    <div class="secondary" data-bind="click: function(){selectPrimaryPanel(false)}">\n                        <span data-bind="text: $root.translations.panelTwo"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div data-bind="if: showModeSelector" style="width: 96%; margin: 20px 0px;">\n        <input class="form-control input-lg widget-input" data-bind="value: imageToolSelector,\n            select2Query: {\n                select2Config: imageToolConfig\n            }">\n    </div>\n\n    <div class="iiif-image-tool-slider">\n        <div class="iiif-image-tool-label">\n            <i class="fa fa-lightbulb-o"></i>\n            <span data-bind="text: $root.translations.brightness"></span>\n        </div>\n        <div class="iiif-image-tool-slider-wrap">\n            <input type="range" min="0" max="200" step="1" data-bind="value: brightness, valueUpdate: \'input\'">\n        </div>\n        <div class="iiif-image-tool-value">\n            <span data-bind="text: brightness"></span>%\n        </div>\n    </div>\n    <div class="iiif-image-tool-slider">\n        <div class="iiif-image-tool-label">\n            <i class="fa fa-adjust"></i>\n            <span data-bind="text: $root.translations.contrast"></span>\n        </div>\n        <div class="iiif-image-tool-slider-wrap">\n            <input type="range" min="0" max="200" step="1" data-bind="value: contrast, valueUpdate: \'input\'">\n        </div>\n        <div class="iiif-image-tool-value">\n            <span data-bind="text: contrast"></span>%\n        </div>\n    </div>\n    <div class="iiif-image-tool-slider">\n        <div class="iiif-image-tool-label">\n            <i class="fa fa-eyedropper"></i>\n            <span data-bind="text: $root.translations.saturation"></span>\n        </div>\n        <div class="iiif-image-tool-slider-wrap">\n            <input type="range" min="0" max="200" step="1" data-bind="value: saturation, valueUpdate: \'input\'">\n        </div>\n        <div class="iiif-image-tool-value">\n            <span data-bind="text: saturation"></span>%\n        </div>\n    </div>\n    <div class="iiif-image-tool-slider">\n        <div class="iiif-image-tool-label">\n            <i class="fa fa-image"></i>\n            <span data-bind="text: $root.translations.greyscale"></span>\n        </div>\n        <div class="toggle-container">\n            <span class="switch switch-small switch-widget" data-bind="css: {\'on\': greyscale()}, click: function() { greyscale(!greyscale()); }"><small></small></span>\n            <div style="display:flex; flex-direction:row;">\n                <div class="arches-toggle-sm" data-bind="click: function() { greyscale(!greyscale()); }">\n                    <span data-bind="text: $root.translations.displayAsGreyscale"></span>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="install-buttons">\n        <button class="btn btn-shim btn-danger btn-labeled btn-lg fa fa-refresh" data-bind="click: resetImageSettings">\n            <span data-bind="text: $root.translations.resetToDefaults"></span>\n        </button>\n    </div>\n</div>\n</div>\n\x3c!--/ko --\x3e\n\x3c!--ko if: activeTab() === \'annotations\' --\x3e\n<div class="workbench-card-sidepanel-header-container">\n    <h4 class="workbench-card-sidepanel-header" data-bind="click: hideSidePanel">\n        <span data-bind="text: $root.translations.annotationOverlays"></span>\n    </h4>\n</div>\n<div class="workbench-card-sidepanel-border"></div>\n<div class="workbench-card-sidepanel-body">\n<div class="overlays-listing-container" data-bind="sortable: {\n    data: annotationNodes\n}">\n    <div class="overlay-listing" data-bind="css: {\'active-overlay\': active}">\n        <div class="overlay-name" data-bind="\n            click: function() {\n                active(!active());\n            }\n        ">\n            <i data-bind="css: icon" class="layer-listing-icon"></i>\n            <span data-bind="text: name"></span>\n        </div>\n        <div class="relative">\n            <div class="overlay-opacity-control">\n                <i class="fa fa-adjust"></i>\n                <div class="overlay-opacity-slider">\n                    <input type="range" min="0" max="100" step="1" data-bind="value: opacity, valueUpdate: \'input\'">\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n</div>\n\x3c!--/ko --\x3e\n\n    </div>\n    \x3c!--/ko --\x3e\n    <div class="workbench-card-container-wrapper" data-bind="css: {\n        \'workbench-card-container-sidepanel-active\': activeTab(), \'wide\': showTabs() === false\n    }">\n    \n\x3c!-- ko foreach: { data: [$data], as: \'self\' } --\x3e\n\x3c!--ko if: ko.unwrap(self.mainMenu) --\x3e\n\n\n\x3c!--/ko--\x3e\n\x3c!--ko if: !ko.unwrap(self.mainMenu) --\x3e\n<div class="workbench-card-container" data-bind="css: {\n        \'gallery-visible\': showGallery,\n        \'gallery-expanded\': expandGallery\n    }">\n\n    <div class="iiif-leaflet" data-bind="leaflet: leafletConfig">\n        <div class="split-controls left" data-bind="if: secondaryCanvas">\n            <div style="width: 200px">\n                <input class="form-control input-lg widget-input" data-bind="value: canvas(),\n                    select2Query: {\n                        select2Config: leftSideSelectConfig\n                    }">\n            </div>\n            <div class="button" data-bind="click: imagePropertyUpdate.bind($data,\'left\')">\n                <i class="fa fa-picture-o"></i>\n            </div>\n        </div>\n        <div class="split-controls right" data-bind="if: secondaryCanvas">\n            <div style="width: 200px;">\n                <input class="form-control input-lg widget-input" data-bind="value: secondaryCanvas(),\n                    select2Query: {\n                        select2Config: rightSideSelectConfig\n                    }">\n            </div>\n            <div class="button" data-bind="click: imagePropertyUpdate.bind($data,\'right\')">\n                <i class="fa fa-picture-o"></i>\n            </div>\n        </div>\n    </div>\n    <div class="image-tools-floating" data-bind="style: {display: showImageModifiers() ? \'inherit\': \'none\'}, css: {left: floatingLocation() == \'left\', right: floatingLocation() == \'right\', sidepanel: activeTab()}">\n        <div class="iiif-image-tool-slider">\n            <div class="iiif-image-tool-label">\n                <i class="fa fa-lightbulb-o"></i>\n                <span data-bind="text: $root.translations.brightness"></span>\n            </div>\n            <div class="iiif-image-tool-slider-wrap">\n                <input type="range" min="0" max="200" step="1" data-bind="value: brightness, valueUpdate: \'input\'">\n            </div>\n            <div class="iiif-image-tool-value">\n                <span data-bind="text: brightness"></span>%\n            </div>\n        </div>\n        <div class="iiif-image-tool-slider">\n            <div class="iiif-image-tool-label">\n                <i class="fa fa-adjust"></i>\n                <span data-bind="text: $root.translations.contrast"></span>\n            </div>\n            <div class="iiif-image-tool-slider-wrap">\n                <input type="range" min="0" max="200" step="1" data-bind="value: contrast, valueUpdate: \'input\'">\n            </div>\n            <div class="iiif-image-tool-value">\n                <span data-bind="text: contrast"></span>%\n            </div>\n        </div>\n        <div class="iiif-image-tool-slider">\n            <div class="iiif-image-tool-label">\n                <i class="fa fa-eyedropper"></i>\n                <span data-bind="text: $root.translations.saturation"></span>\n            </div>\n            <div class="iiif-image-tool-slider-wrap">\n                <input type="range" min="0" max="200" step="1" data-bind="value: saturation, valueUpdate: \'input\'">\n            </div>\n            <div class="iiif-image-tool-value">\n                <span data-bind="text: saturation"></span>%\n            </div>\n        </div>\n        <div class="iiif-image-tool-slider">\n            <div class="iiif-image-tool-label">\n                <i class="fa fa-image"></i>\n                <span data-bind="text: $root.translations.greyscale"></span>\n            </div>\n            <div class="toggle-container">\n                <span class="switch switch-small switch-widget" data-bind="css: {\'on\': greyscale()}, click: function() { greyscale(!greyscale()); }"><small></small></span>\n                <div style="display:flex; flex-direction:row;">\n                    <div class="arches-toggle-sm" data-bind="click: function() { greyscale(!greyscale()); }">\n                        <span data-bind="text: $root.translations.displayAsGreyscale"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="show-gallery-control" data-bind="click: toggleGallery, css: {\n        \'gallery-visible\': showGallery,\n        \'gallery-expanded\': expandGallery,\n    }">\n    <h3>\n        <span data-bind="text: $root.translations.showGallery"></span>\n    </h3>\n</div>\n\x3c!--ko let: {canvasClick: canvasClick, getCanvasService: getCanvasService, selectedCanvas: selectPrimaryPanel() ? canvas: secondaryCanvas, getAnnotationCount: getAnnotationCount} --\x3e\n<div class="iiif-viewer-gallery" data-bind="css: {\n        \'gallery-expanded\': expandGallery\n    }">\n    \x3c!--ko if: showGallery() --\x3e\n    <div class="iiif-gallery-content">\n\n        \x3c!--ko if: manifestData() --\x3e\n        <div class="panel-controls">\n            <div class="hide-gallery-control" data-bind="click: toggleGallery">\n                <span data-bind="text: $root.translations.hideGallery"></span>\n            </div>\n            <div data-bind="if: showModeSelector" class="mode-selector">\n                <div>\n                    <span data-bind="text: $root.translations.panels"></span>\n                </div>\n                <div class="mode-selector-buttons">\n                    <div class="single-panel" data-bind="click: function(){compareMode(false)}, css: {selected: !compareMode()}">\n                        <div></div>\n                    </div>\n                    <div class="two-panel" data-bind="click: function(){compareMode(true)}, css: {selected: compareMode()}">\n                        <div></div>\n                        <div></div>\n                    </div>\n                </div>\n                <div class="panel-selector-buttons">\n                    <div data-bind="click: function(){selectPrimaryPanel(true)}, css: { selected: selectPrimaryPanel() }">\n                        <span data-bind="text: $root.translations.panelOne"></span>\n                    </div>\n                    <div data-bind="click: function(){selectPrimaryPanel(false)}, css: { selected: !selectPrimaryPanel(), hide: !compareMode() }">\n                        <span data-bind="text: $root.translations.panelTwo"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \x3c!--/ko --\x3e\n        \x3c!--ko if: expandGallery() && manifestData() --\x3e\n        <div class="manifest-details">\n            <h3>\n                <span data-bind="text: manifestName"></span>\n            </h3>\n\n            <h4>\n                <span data-bind="html: manifestDescription"></span>\n            </h4>\n\n            <div class="manifest-details-list" data-bind="foreach: manifestMetadata">\n                <dt class="manifest-metadata-title" data-bind="text: label"></dt>\n                \x3c!--ko foreach: Array.isArray(value) ? value : [value] --\x3e\n                <dd class="manifest-metadata-value" data-bind="html: $data"></dd>\n                \x3c!--/ko --\x3e\n            </div>\n            <h4 class="manifest-attribution-key" data-bind="text: manifestAttribution"></h4>\n            \x3c!-- ko if: showLogo --\x3e\n            <img class="manifest-logo" data-bind="attr: {src: manifestLogo()}">\n            \x3c!-- /ko --\x3e\n        </div>\n        \x3c!--/ko --\x3e\n\n        \x3c!--ko if: editManifest() --\x3e\n        <div class="manifest-editor">\n            <div class="manifest-editor-label">\n                <span data-bind="text: $root.translations.selectAManifest + \':\'"></span>\n            </div>\n            <div class="manifest-editor-input">\n                <input class="form-control input-lg widget-input" data-bind="value: manifest,\n                    select2Query: {\n                        select2Config: manifestSelectConfig\n                    }">\n            </div>\n\n            <div class="install-buttons">\n                <button class="btn btn-shim btn-mint btn-labeled btn-lg fa fa-pencil" data-bind="click: getManifestData,\n                    disabled: manifestLoading(),\n                    css: { \'disabled\': manifestLoading() }\n                ">\n                    <span data-bind="text: $root.translations.loadManifest"></span>\n                </button>\n                \x3c!--ko if: manifestData() --\x3e\n                <button class="btn btn-shim btn-danger btn-labeled btn-lg fa fa-refresh" data-bind="click: toggleManifestEditor">\n                    <span data-bind="text: $root.translations.cancel"></span>\n                </button>\n                \x3c!--/ko --\x3e\n                \x3c!--ko if: manifestLoading() --\x3e\n                <span class="manifest-editor-loading" data-bind="text: $root.translations.loadingManifest + \'...\'"></span>\n                \x3c!--/ko --\x3e\n                \x3c!--ko if: manifestError() --\x3e\n                <span data-bind="text: console.log(manifestError())"></span>\n                <span class="manifest-editor-error" data-bind="text: $root.translations.errorLoadingManifest + \'...\'"></span>\n                \x3c!--/ko --\x3e\n            </div>\n        </div>\n\n\n        \x3c!--/ko --\x3e\n        \x3c!--ko if: !editManifest() --\x3e\n            \x3c!--ko if: manifestLoading() --\x3e\n            <span class="manifest-editor-loading" data-bind="text: $root.translations.loadingManifest + \'...\'"></span>\n            \x3c!--/ko --\x3e\n            \x3c!--ko if: !manifestLoading() --\x3e\n            <div class="iiif-gallery-panel" style="overflow-x: auto;">\n                <div class="iiif-gallery-header" style="display:flex">\n                    <div style="display: flex; align-items: center">\n                        \n                        <div>\n                            <span class="iiif-gallery-manifest-label" data-bind="text: manifestData() ? manifestName() : $root.translations.noManifestSelected"></span>\n                        </div>\n                        <div>\n                            <span class="iiif-gallery-sequence-label" data-bind="click: function(){expandGallery(!expandGallery())}">\n                                \x3c!-- ko if: !expandGallery() --\x3e\n                                    <span data-bind="text: $root.translations.info"></span>\n                                \x3c!-- /ko --\x3e\n                                \x3c!-- ko if: expandGallery() --\x3e\n                                    <span data-bind="text: $root.translations.close"></span>\n                                \x3c!-- /ko --\x3e\n                            </span>\n                        </div>\n                        <div>\n                            <span class="iiif-gallery-sequence-label" data-bind="\n                                    text: $root.translations.switchImageService,\n                                    click: toggleManifestEditor\n                                "></span>\n                        </div>\n                        <div>\n                            <span data-bind="text: $root.translations.filter"></span>\n                            <div class="list-filter" data-bind="">\n                                <input type="text" class="form-control" style="width: 100%;" data-bind="\n                                        textInput: filter,\n                                        attr: {placeholder: $root.translations.filterImages + \'...\'}\n                                    ">\n                                \x3c!-- Clear Search --\x3e\n                                <span class="clear-node-search" data-bind="visible: filter().length > 0, click: function() { filter(\'\'); }"><i class="fa fa-times-circle"></i></span>\n                            </div>\n                        </div>\n                        \n                    </div>\n                </div>\n\n                <div class="iiif-gallery-sequence">\n                    <div class="iiif-gallery-sequence-canvases" data-bind="foreach: canvases">\n                        <div style="display: inline-block;">\n                            <div class="iiif-gallery-canvas" data-bind="click: function() {\n                                canvasClick($data);\n                            },\n                            visible: label.toLowerCase().includes(self.filter().toLowerCase()),\n                            css: {\n                                active: getCanvasService($data) === selectedCanvas(),\n                                annotated: getAnnotationCount(getCanvasService($data))\n                            }">\n                                <div style="text-align:center" class="iiif-gallery-canvas-thumbnail">\n                                    <img data-bind="attr: { src: $data.thumbnail || \'/static/img/photo_missing.png\', title: $data.label}">\n                                </div>\n                                <div style="text-align:center;" class="iiif-gallery-canvas-label">\n                                    <span data-bind="text: label"></span>\n                                    <span class="annotation-count">\n                                        \x3c!--ko if: getAnnotationCount(getCanvasService($data)) --\x3e\n                                        <span data-bind="text: getAnnotationCount(getCanvasService($data))"></span>\n                                        <span data-bind="text: $root.translations.annotations"></span>\n                                        \x3c!--/ko --\x3e\n                                        \x3c!--ko if: !getAnnotationCount(getCanvasService($data)) --\x3e\n                                        &nbsp;\n                                        \x3c!--/ko --\x3e\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \x3c!--/ko --\x3e\n        \x3c!--/ko --\x3e\n    </div>\n    \x3c!--/ko --\x3e\n</div>\n\x3c!--/ko --\x3e\n\x3c!--/ko --\x3e\n\x3c!--/ko --\x3e\n\n</div>\n</div>\n\n'},73070:function(L){L.exports='\n\n\n<div class="workbench-card-wrapper" data-bind="class: ko.unwrap($data.workbenchWrapperClass)">\n    \x3c!-- ko if: showTabs --\x3e\n    <div class="workbench-card-sidebar">\n        \n        \n    </div>\n    \x3c!-- /ko --\x3e\n    \x3c!--ko if: activeTab() --\x3e\n    <div class="workbench-card-sidepanel" data-bind="css:{\'expanded\': expandSidePanel()}">\n        \n        \n    </div>\n    \x3c!--/ko --\x3e\n    <div class="workbench-card-container-wrapper" data-bind="css: {\n        \'workbench-card-container-sidepanel-active\': activeTab(), \'wide\': showTabs() === false\n    }">\n    \n    <div class="workbench-card-container">\n    </div>\n    \n</div>\n</div>\n\n'},20198:function(L,S){var z;!function(S,z){"use strict";"object"==typeof L.exports?L.exports=S.document?z(S,!0):function(L){if(!L.document)throw new Error("jQuery requires a window with a document");return z(L)}:z(S)}("undefined"!=typeof window?window:this,(function(H,tt){"use strict";var it=[],nt=Object.getPrototypeOf,ot=it.slice,at=it.flat?function(L){return it.flat.call(L)}:function(L){return it.concat.apply([],L)},rt=it.push,ht=it.indexOf,dt={},pt=dt.toString,gt=dt.hasOwnProperty,_t=gt.toString,bt=_t.call(Object),xt={},m=function(L){return"function"==typeof L&&"number"!=typeof L.nodeType&&"function"!=typeof L.item},x=function(L){return null!=L&&L===L.window},kt=H.document,Ct={type:!0,src:!0,nonce:!0,noModule:!0};function b(L,S,z){var H,tt,it=(z=z||kt).createElement("script");if(it.text=L,S)for(H in Ct)(tt=S[H]||S.getAttribute&&S.getAttribute(H))&&it.setAttribute(H,tt);z.head.appendChild(it).parentNode.removeChild(it)}function w(L){return null==L?L+"":"object"==typeof L||"function"==typeof L?dt[pt.call(L)]||"object":typeof L}var Lt="3.6.3",E=function(L,S){return new E.fn.init(L,S)};function p(L){var S=!!L&&"length"in L&&L.length,z=w(L);return!m(L)&&!x(L)&&("array"===z||0===S||"number"==typeof S&&0<S&&S-1 in L)}E.fn=E.prototype={jquery:Lt,constructor:E,length:0,toArray:function(){return ot.call(this)},get:function(L){return null==L?ot.call(this):L<0?this[L+this.length]:this[L]},pushStack:function(L){var S=E.merge(this.constructor(),L);return S.prevObject=this,S},each:function(L){return E.each(this,L)},map:function(L){return this.pushStack(E.map(this,(function(S,z){return L.call(S,z,S)})))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,(function(L,S){return(S+1)%2})))},odd:function(){return this.pushStack(E.grep(this,(function(L,S){return S%2})))},eq:function(L){var S=this.length,z=+L+(L<0?S:0);return this.pushStack(0<=z&&z<S?[this[z]]:[])},end:function(){return this.prevObject||this.constructor()},push:rt,sort:it.sort,splice:it.splice},E.extend=E.fn.extend=function(){var L,S,z,H,tt,it,nt=arguments[0]||{},ot=1,at=arguments.length,rt=!1;for("boolean"==typeof nt&&(rt=nt,nt=arguments[ot]||{},ot++),"object"==typeof nt||m(nt)||(nt={}),ot===at&&(nt=this,ot--);ot<at;ot++)if(null!=(L=arguments[ot]))for(S in L)H=L[S],"__proto__"!==S&&nt!==H&&(rt&&H&&(E.isPlainObject(H)||(tt=Array.isArray(H)))?(z=nt[S],it=tt&&!Array.isArray(z)?[]:tt||E.isPlainObject(z)?z:{},tt=!1,nt[S]=E.extend(rt,it,H)):void 0!==H&&(nt[S]=H));return nt},E.extend({expando:"jQuery"+(Lt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(L){throw new Error(L)},noop:function(){},isPlainObject:function(L){var S,z;return!(!L||"[object Object]"!==pt.call(L)||(S=nt(L))&&("function"!=typeof(z=gt.call(S,"constructor")&&S.constructor)||_t.call(z)!==bt))},isEmptyObject:function(L){var S;for(S in L)return!1;return!0},globalEval:function(L,S,z){b(L,{nonce:S&&S.nonce},z)},each:function(L,S){var z,H=0;if(p(L))for(z=L.length;H<z&&!1!==S.call(L[H],H,L[H]);H++);else for(H in L)if(!1===S.call(L[H],H,L[H]))break;return L},makeArray:function(L,S){var z=S||[];return null!=L&&(p(Object(L))?E.merge(z,"string"==typeof L?[L]:L):rt.call(z,L)),z},inArray:function(L,S,z){return null==S?-1:ht.call(S,L,z)},merge:function(L,S){for(var z=+S.length,H=0,tt=L.length;H<z;H++)L[tt++]=S[H];return L.length=tt,L},grep:function(L,S,z){for(var H=[],tt=0,it=L.length,nt=!z;tt<it;tt++)!S(L[tt],tt)!==nt&&H.push(L[tt]);return H},map:function(L,S,z){var H,tt,it=0,nt=[];if(p(L))for(H=L.length;it<H;it++)null!=(tt=S(L[it],it,z))&&nt.push(tt);else for(it in L)null!=(tt=S(L[it],it,z))&&nt.push(tt);return at(nt)},guid:1,support:xt}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=it[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(L,S){dt["[object "+S+"]"]=S.toLowerCase()}));var Tt=function(L){var S,z,H,tt,it,nt,ot,at,rt,ht,dt,pt,gt,_t,bt,xt,kt,Ct,Lt,Tt="sizzle"+1*new Date,Et=L.document,Mt=0,Pt=0,Dt=ue(),It=ue(),At=ue(),Ot=ue(),j=function(L,S){return L===S&&(dt=!0),0},Nt={}.hasOwnProperty,zt=[],Rt=zt.pop,Ht=zt.push,Wt=zt.push,Zt=zt.slice,P=function(L,S){for(var z=0,H=L.length;z<H;z++)if(L[z]===S)return z;return-1},Yt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Kt="[\\x20\\t\\r\\n\\f]",Xt="(?:\\\\[\\da-fA-F]{1,6}"+Kt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Qt="\\["+Kt+"*("+Xt+")(?:"+Kt+"*([*^$|!~]?=)"+Kt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Xt+"))|)"+Kt+"*\\]",te=":("+Xt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Qt+")*)|.*)\\)|)",ee=new RegExp(Kt+"+","g"),re=new RegExp("^"+Kt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Kt+"+$","g"),ke=new RegExp("^"+Kt+"*,"+Kt+"*"),Pe=new RegExp("^"+Kt+"*([>+~]|"+Kt+")"+Kt+"*"),Ae=new RegExp(Kt+"|>"),Ne=new RegExp(te),ze=new RegExp("^"+Xt+"$"),Re={ID:new RegExp("^#("+Xt+")"),CLASS:new RegExp("^\\.("+Xt+")"),TAG:new RegExp("^("+Xt+"|[*])"),ATTR:new RegExp("^"+Qt),PSEUDO:new RegExp("^"+te),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Kt+"*(even|odd|(([+-]|)(\\d*)n|)"+Kt+"*(?:([+-]|)"+Kt+"*(\\d+)|))"+Kt+"*\\)|)","i"),bool:new RegExp("^(?:"+Yt+")$","i"),needsContext:new RegExp("^"+Kt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Kt+"*((?:-\\d)?\\d*)"+Kt+"*\\)|)(?=[^-]|$)","i")},We=/HTML$/i,Qe=/^(?:input|select|textarea|button)$/i,ti=/^h\d$/i,ei=/^[^{]+\{\s*\[native \w/,ii=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ni=/[+~]/,oi=new RegExp("\\\\[\\da-fA-F]{1,6}"+Kt+"?|\\\\([^\\r\\n\\f])","g"),ne=function(L,S){var z="0x"+L.slice(1)-65536;return S||(z<0?String.fromCharCode(z+65536):String.fromCharCode(z>>10|55296,1023&z|56320))},si=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(L,S){return S?"\0"===L?"":L.slice(0,-1)+"\\"+L.charCodeAt(L.length-1).toString(16)+" ":"\\"+L},oe=function(){pt()},ri=be((function(L){return!0===L.disabled&&"fieldset"===L.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{Wt.apply(zt=Zt.call(Et.childNodes),Et.childNodes),zt[Et.childNodes.length].nodeType}catch(S){Wt={apply:zt.length?function(L,S){Ht.apply(L,Zt.call(S))}:function(L,S){for(var z=L.length,H=0;L[z++]=S[H++];);L.length=z-1}}}function se(L,S,H,tt){var it,ot,rt,ht,dt,_t,kt,Ct=S&&S.ownerDocument,Et=S?S.nodeType:9;if(H=H||[],"string"!=typeof L||!L||1!==Et&&9!==Et&&11!==Et)return H;if(!tt&&(pt(S),S=S||gt,bt)){if(11!==Et&&(dt=ii.exec(L)))if(it=dt[1]){if(9===Et){if(!(rt=S.getElementById(it)))return H;if(rt.id===it)return H.push(rt),H}else if(Ct&&(rt=Ct.getElementById(it))&&Lt(S,rt)&&rt.id===it)return H.push(rt),H}else{if(dt[2])return Wt.apply(H,S.getElementsByTagName(L)),H;if((it=dt[3])&&z.getElementsByClassName&&S.getElementsByClassName)return Wt.apply(H,S.getElementsByClassName(it)),H}if(z.qsa&&!Ot[L+" "]&&(!xt||!xt.test(L))&&(1!==Et||"object"!==S.nodeName.toLowerCase())){if(kt=L,Ct=S,1===Et&&(Ae.test(L)||Pe.test(L))){for((Ct=ni.test(L)&&ve(S.parentNode)||S)===S&&z.scope||((ht=S.getAttribute("id"))?ht=ht.replace(si,ie):S.setAttribute("id",ht=Tt)),ot=(_t=nt(L)).length;ot--;)_t[ot]=(ht?"#"+ht:":scope")+" "+xe(_t[ot]);kt=_t.join(",")}try{if(z.cssSupportsSelector&&!CSS.supports("selector(:is("+kt+"))"))throw new Error;return Wt.apply(H,Ct.querySelectorAll(kt)),H}catch(S){Ot(L,!0)}finally{ht===Tt&&S.removeAttribute("id")}}}return at(L.replace(re,"$1"),S,H,tt)}function ue(){var L=[];return function e(S,z){return L.push(S+" ")>H.cacheLength&&delete e[L.shift()],e[S+" "]=z}}function le(L){return L[Tt]=!0,L}function ce(L){var S=gt.createElement("fieldset");try{return!!L(S)}catch(L){return!1}finally{S.parentNode&&S.parentNode.removeChild(S),S=null}}function fe(L,S){for(var z=L.split("|"),tt=z.length;tt--;)H.attrHandle[z[tt]]=S}function pe(L,S){var z=S&&L,H=z&&1===L.nodeType&&1===S.nodeType&&L.sourceIndex-S.sourceIndex;if(H)return H;if(z)for(;z=z.nextSibling;)if(z===S)return-1;return L?1:-1}function de(L){return function(S){return"input"===S.nodeName.toLowerCase()&&S.type===L}}function he(L){return function(S){var z=S.nodeName.toLowerCase();return("input"===z||"button"===z)&&S.type===L}}function ge(L){return function(S){return"form"in S?S.parentNode&&!1===S.disabled?"label"in S?"label"in S.parentNode?S.parentNode.disabled===L:S.disabled===L:S.isDisabled===L||S.isDisabled!==!L&&ri(S)===L:S.disabled===L:"label"in S&&S.disabled===L}}function ye(L){return le((function(S){return S=+S,le((function(z,H){for(var tt,it=L([],z.length,S),nt=it.length;nt--;)z[tt=it[nt]]&&(z[tt]=!(H[tt]=z[tt]))}))}))}function ve(L){return L&&void 0!==L.getElementsByTagName&&L}for(S in z=se.support={},it=se.isXML=function(L){var S=L&&L.namespaceURI,z=L&&(L.ownerDocument||L).documentElement;return!We.test(S||z&&z.nodeName||"HTML")},pt=se.setDocument=function(L){var S,tt,nt=L?L.ownerDocument||L:Et;return nt!=gt&&9===nt.nodeType&&nt.documentElement&&(_t=(gt=nt).documentElement,bt=!it(gt),Et!=gt&&(tt=gt.defaultView)&&tt.top!==tt&&(tt.addEventListener?tt.addEventListener("unload",oe,!1):tt.attachEvent&&tt.attachEvent("onunload",oe)),z.scope=ce((function(L){return _t.appendChild(L).appendChild(gt.createElement("div")),void 0!==L.querySelectorAll&&!L.querySelectorAll(":scope fieldset div").length})),z.cssSupportsSelector=ce((function(){return CSS.supports("selector(*)")&&gt.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")})),z.attributes=ce((function(L){return L.className="i",!L.getAttribute("className")})),z.getElementsByTagName=ce((function(L){return L.appendChild(gt.createComment("")),!L.getElementsByTagName("*").length})),z.getElementsByClassName=ei.test(gt.getElementsByClassName),z.getById=ce((function(L){return _t.appendChild(L).id=Tt,!gt.getElementsByName||!gt.getElementsByName(Tt).length})),z.getById?(H.filter.ID=function(L){var S=L.replace(oi,ne);return function(L){return L.getAttribute("id")===S}},H.find.ID=function(L,S){if(void 0!==S.getElementById&&bt){var z=S.getElementById(L);return z?[z]:[]}}):(H.filter.ID=function(L){var S=L.replace(oi,ne);return function(L){var z=void 0!==L.getAttributeNode&&L.getAttributeNode("id");return z&&z.value===S}},H.find.ID=function(L,S){if(void 0!==S.getElementById&&bt){var z,H,tt,it=S.getElementById(L);if(it){if((z=it.getAttributeNode("id"))&&z.value===L)return[it];for(tt=S.getElementsByName(L),H=0;it=tt[H++];)if((z=it.getAttributeNode("id"))&&z.value===L)return[it]}return[]}}),H.find.TAG=z.getElementsByTagName?function(L,S){return void 0!==S.getElementsByTagName?S.getElementsByTagName(L):z.qsa?S.querySelectorAll(L):void 0}:function(L,S){var z,H=[],tt=0,it=S.getElementsByTagName(L);if("*"===L){for(;z=it[tt++];)1===z.nodeType&&H.push(z);return H}return it},H.find.CLASS=z.getElementsByClassName&&function(L,S){if(void 0!==S.getElementsByClassName&&bt)return S.getElementsByClassName(L)},kt=[],xt=[],(z.qsa=ei.test(gt.querySelectorAll))&&(ce((function(L){var S;_t.appendChild(L).innerHTML="<a id='"+Tt+"'></a><select id='"+Tt+"-\r\\' msallowcapture=''><option selected=''></option></select>",L.querySelectorAll("[msallowcapture^='']").length&&xt.push("[*^$]="+Kt+"*(?:''|\"\")"),L.querySelectorAll("[selected]").length||xt.push("\\["+Kt+"*(?:value|"+Yt+")"),L.querySelectorAll("[id~="+Tt+"-]").length||xt.push("~="),(S=gt.createElement("input")).setAttribute("name",""),L.appendChild(S),L.querySelectorAll("[name='']").length||xt.push("\\["+Kt+"*name"+Kt+"*="+Kt+"*(?:''|\"\")"),L.querySelectorAll(":checked").length||xt.push(":checked"),L.querySelectorAll("a#"+Tt+"+*").length||xt.push(".#.+[+~]"),L.querySelectorAll("\\\f"),xt.push("[\\r\\n\\f]")})),ce((function(L){L.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var S=gt.createElement("input");S.setAttribute("type","hidden"),L.appendChild(S).setAttribute("name","D"),L.querySelectorAll("[name=d]").length&&xt.push("name"+Kt+"*[*^$|!~]?="),2!==L.querySelectorAll(":enabled").length&&xt.push(":enabled",":disabled"),_t.appendChild(L).disabled=!0,2!==L.querySelectorAll(":disabled").length&&xt.push(":enabled",":disabled"),L.querySelectorAll("*,:x"),xt.push(",.*:")}))),(z.matchesSelector=ei.test(Ct=_t.matches||_t.webkitMatchesSelector||_t.mozMatchesSelector||_t.oMatchesSelector||_t.msMatchesSelector))&&ce((function(L){z.disconnectedMatch=Ct.call(L,"*"),Ct.call(L,"[s!='']:x"),kt.push("!=",te)})),z.cssSupportsSelector||xt.push(":has"),xt=xt.length&&new RegExp(xt.join("|")),kt=kt.length&&new RegExp(kt.join("|")),S=ei.test(_t.compareDocumentPosition),Lt=S||ei.test(_t.contains)?function(L,S){var z=9===L.nodeType&&L.documentElement||L,H=S&&S.parentNode;return L===H||!(!H||1!==H.nodeType||!(z.contains?z.contains(H):L.compareDocumentPosition&&16&L.compareDocumentPosition(H)))}:function(L,S){if(S)for(;S=S.parentNode;)if(S===L)return!0;return!1},j=S?function(L,S){if(L===S)return dt=!0,0;var H=!L.compareDocumentPosition-!S.compareDocumentPosition;return H||(1&(H=(L.ownerDocument||L)==(S.ownerDocument||S)?L.compareDocumentPosition(S):1)||!z.sortDetached&&S.compareDocumentPosition(L)===H?L==gt||L.ownerDocument==Et&&Lt(Et,L)?-1:S==gt||S.ownerDocument==Et&&Lt(Et,S)?1:ht?P(ht,L)-P(ht,S):0:4&H?-1:1)}:function(L,S){if(L===S)return dt=!0,0;var z,H=0,tt=L.parentNode,it=S.parentNode,nt=[L],ot=[S];if(!tt||!it)return L==gt?-1:S==gt?1:tt?-1:it?1:ht?P(ht,L)-P(ht,S):0;if(tt===it)return pe(L,S);for(z=L;z=z.parentNode;)nt.unshift(z);for(z=S;z=z.parentNode;)ot.unshift(z);for(;nt[H]===ot[H];)H++;return H?pe(nt[H],ot[H]):nt[H]==Et?-1:ot[H]==Et?1:0}),gt},se.matches=function(L,S){return se(L,null,null,S)},se.matchesSelector=function(L,S){if(pt(L),z.matchesSelector&&bt&&!Ot[S+" "]&&(!kt||!kt.test(S))&&(!xt||!xt.test(S)))try{var H=Ct.call(L,S);if(H||z.disconnectedMatch||L.document&&11!==L.document.nodeType)return H}catch(L){Ot(S,!0)}return 0<se(S,gt,null,[L]).length},se.contains=function(L,S){return(L.ownerDocument||L)!=gt&&pt(L),Lt(L,S)},se.attr=function(L,S){(L.ownerDocument||L)!=gt&&pt(L);var tt=H.attrHandle[S.toLowerCase()],it=tt&&Nt.call(H.attrHandle,S.toLowerCase())?tt(L,S,!bt):void 0;return void 0!==it?it:z.attributes||!bt?L.getAttribute(S):(it=L.getAttributeNode(S))&&it.specified?it.value:null},se.escape=function(L){return(L+"").replace(si,ie)},se.error=function(L){throw new Error("Syntax error, unrecognized expression: "+L)},se.uniqueSort=function(L){var S,H=[],tt=0,it=0;if(dt=!z.detectDuplicates,ht=!z.sortStable&&L.slice(0),L.sort(j),dt){for(;S=L[it++];)S===L[it]&&(tt=H.push(it));for(;tt--;)L.splice(H[tt],1)}return ht=null,L},tt=se.getText=function(L){var S,z="",H=0,it=L.nodeType;if(it){if(1===it||9===it||11===it){if("string"==typeof L.textContent)return L.textContent;for(L=L.firstChild;L;L=L.nextSibling)z+=tt(L)}else if(3===it||4===it)return L.nodeValue}else for(;S=L[H++];)z+=tt(S);return z},(H=se.selectors={cacheLength:50,createPseudo:le,match:Re,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(L){return L[1]=L[1].replace(oi,ne),L[3]=(L[3]||L[4]||L[5]||"").replace(oi,ne),"~="===L[2]&&(L[3]=" "+L[3]+" "),L.slice(0,4)},CHILD:function(L){return L[1]=L[1].toLowerCase(),"nth"===L[1].slice(0,3)?(L[3]||se.error(L[0]),L[4]=+(L[4]?L[5]+(L[6]||1):2*("even"===L[3]||"odd"===L[3])),L[5]=+(L[7]+L[8]||"odd"===L[3])):L[3]&&se.error(L[0]),L},PSEUDO:function(L){var S,z=!L[6]&&L[2];return Re.CHILD.test(L[0])?null:(L[3]?L[2]=L[4]||L[5]||"":z&&Ne.test(z)&&(S=nt(z,!0))&&(S=z.indexOf(")",z.length-S)-z.length)&&(L[0]=L[0].slice(0,S),L[2]=z.slice(0,S)),L.slice(0,3))}},filter:{TAG:function(L){var S=L.replace(oi,ne).toLowerCase();return"*"===L?function(){return!0}:function(L){return L.nodeName&&L.nodeName.toLowerCase()===S}},CLASS:function(L){var S=Dt[L+" "];return S||(S=new RegExp("(^|"+Kt+")"+L+"("+Kt+"|$)"))&&Dt(L,(function(L){return S.test("string"==typeof L.className&&L.className||void 0!==L.getAttribute&&L.getAttribute("class")||"")}))},ATTR:function(L,S,z){return function(H){var tt=se.attr(H,L);return null==tt?"!="===S:!S||(tt+="","="===S?tt===z:"!="===S?tt!==z:"^="===S?z&&0===tt.indexOf(z):"*="===S?z&&-1<tt.indexOf(z):"$="===S?z&&tt.slice(-z.length)===z:"~="===S?-1<(" "+tt.replace(ee," ")+" ").indexOf(z):"|="===S&&(tt===z||tt.slice(0,z.length+1)===z+"-"))}},CHILD:function(L,S,z,H,tt){var it="nth"!==L.slice(0,3),nt="last"!==L.slice(-4),ot="of-type"===S;return 1===H&&0===tt?function(L){return!!L.parentNode}:function(S,z,at){var rt,ht,dt,pt,gt,_t,bt=it!==nt?"nextSibling":"previousSibling",xt=S.parentNode,kt=ot&&S.nodeName.toLowerCase(),Ct=!at&&!ot,Lt=!1;if(xt){if(it){for(;bt;){for(pt=S;pt=pt[bt];)if(ot?pt.nodeName.toLowerCase()===kt:1===pt.nodeType)return!1;_t=bt="only"===L&&!_t&&"nextSibling"}return!0}if(_t=[nt?xt.firstChild:xt.lastChild],nt&&Ct){for(Lt=(gt=(rt=(ht=(dt=(pt=xt)[Tt]||(pt[Tt]={}))[pt.uniqueID]||(dt[pt.uniqueID]={}))[L]||[])[0]===Mt&&rt[1])&&rt[2],pt=gt&&xt.childNodes[gt];pt=++gt&&pt&&pt[bt]||(Lt=gt=0)||_t.pop();)if(1===pt.nodeType&&++Lt&&pt===S){ht[L]=[Mt,gt,Lt];break}}else if(Ct&&(Lt=gt=(rt=(ht=(dt=(pt=S)[Tt]||(pt[Tt]={}))[pt.uniqueID]||(dt[pt.uniqueID]={}))[L]||[])[0]===Mt&&rt[1]),!1===Lt)for(;(pt=++gt&&pt&&pt[bt]||(Lt=gt=0)||_t.pop())&&((ot?pt.nodeName.toLowerCase()!==kt:1!==pt.nodeType)||!++Lt||(Ct&&((ht=(dt=pt[Tt]||(pt[Tt]={}))[pt.uniqueID]||(dt[pt.uniqueID]={}))[L]=[Mt,Lt]),pt!==S)););return(Lt-=tt)===H||Lt%H==0&&0<=Lt/H}}},PSEUDO:function(L,S){var z,tt=H.pseudos[L]||H.setFilters[L.toLowerCase()]||se.error("unsupported pseudo: "+L);return tt[Tt]?tt(S):1<tt.length?(z=[L,L,"",S],H.setFilters.hasOwnProperty(L.toLowerCase())?le((function(L,z){for(var H,it=tt(L,S),nt=it.length;nt--;)L[H=P(L,it[nt])]=!(z[H]=it[nt])})):function(L){return tt(L,0,z)}):tt}},pseudos:{not:le((function(L){var S=[],z=[],H=ot(L.replace(re,"$1"));return H[Tt]?le((function(L,S,z,tt){for(var it,nt=H(L,null,tt,[]),ot=L.length;ot--;)(it=nt[ot])&&(L[ot]=!(S[ot]=it))})):function(L,tt,it){return S[0]=L,H(S,null,it,z),S[0]=null,!z.pop()}})),has:le((function(L){return function(S){return 0<se(L,S).length}})),contains:le((function(L){return L=L.replace(oi,ne),function(S){return-1<(S.textContent||tt(S)).indexOf(L)}})),lang:le((function(L){return ze.test(L||"")||se.error("unsupported lang: "+L),L=L.replace(oi,ne).toLowerCase(),function(S){var z;do{if(z=bt?S.lang:S.getAttribute("xml:lang")||S.getAttribute("lang"))return(z=z.toLowerCase())===L||0===z.indexOf(L+"-")}while((S=S.parentNode)&&1===S.nodeType);return!1}})),target:function(S){var z=L.location&&L.location.hash;return z&&z.slice(1)===S.id},root:function(L){return L===_t},focus:function(L){return L===gt.activeElement&&(!gt.hasFocus||gt.hasFocus())&&!!(L.type||L.href||~L.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(L){var S=L.nodeName.toLowerCase();return"input"===S&&!!L.checked||"option"===S&&!!L.selected},selected:function(L){return L.parentNode&&L.parentNode.selectedIndex,!0===L.selected},empty:function(L){for(L=L.firstChild;L;L=L.nextSibling)if(L.nodeType<6)return!1;return!0},parent:function(L){return!H.pseudos.empty(L)},header:function(L){return ti.test(L.nodeName)},input:function(L){return Qe.test(L.nodeName)},button:function(L){var S=L.nodeName.toLowerCase();return"input"===S&&"button"===L.type||"button"===S},text:function(L){var S;return"input"===L.nodeName.toLowerCase()&&"text"===L.type&&(null==(S=L.getAttribute("type"))||"text"===S.toLowerCase())},first:ye((function(){return[0]})),last:ye((function(L,S){return[S-1]})),eq:ye((function(L,S,z){return[z<0?z+S:z]})),even:ye((function(L,S){for(var z=0;z<S;z+=2)L.push(z);return L})),odd:ye((function(L,S){for(var z=1;z<S;z+=2)L.push(z);return L})),lt:ye((function(L,S,z){for(var H=z<0?z+S:S<z?S:z;0<=--H;)L.push(H);return L})),gt:ye((function(L,S,z){for(var H=z<0?z+S:z;++H<S;)L.push(H);return L}))}}).pseudos.nth=H.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})H.pseudos[S]=de(S);for(S in{submit:!0,reset:!0})H.pseudos[S]=he(S);function me(){}function xe(L){for(var S=0,z=L.length,H="";S<z;S++)H+=L[S].value;return H}function be(L,S,z){var H=S.dir,tt=S.next,it=tt||H,nt=z&&"parentNode"===it,ot=Pt++;return S.first?function(S,z,tt){for(;S=S[H];)if(1===S.nodeType||nt)return L(S,z,tt);return!1}:function(S,z,at){var rt,ht,dt,pt=[Mt,ot];if(at){for(;S=S[H];)if((1===S.nodeType||nt)&&L(S,z,at))return!0}else for(;S=S[H];)if(1===S.nodeType||nt)if(ht=(dt=S[Tt]||(S[Tt]={}))[S.uniqueID]||(dt[S.uniqueID]={}),tt&&tt===S.nodeName.toLowerCase())S=S[H]||S;else{if((rt=ht[it])&&rt[0]===Mt&&rt[1]===ot)return pt[2]=rt[2];if((ht[it]=pt)[2]=L(S,z,at))return!0}return!1}}function we(L){return 1<L.length?function(S,z,H){for(var tt=L.length;tt--;)if(!L[tt](S,z,H))return!1;return!0}:L[0]}function Te(L,S,z,H,tt){for(var it,nt=[],ot=0,at=L.length,rt=null!=S;ot<at;ot++)(it=L[ot])&&(z&&!z(it,H,tt)||(nt.push(it),rt&&S.push(ot)));return nt}function Ce(L,S,z,H,tt,it){return H&&!H[Tt]&&(H=Ce(H)),tt&&!tt[Tt]&&(tt=Ce(tt,it)),le((function(it,nt,ot,at){var rt,ht,dt,pt=[],gt=[],_t=nt.length,bt=it||function(L,S,z){for(var H=0,tt=S.length;H<tt;H++)se(L,S[H],z);return z}(S||"*",ot.nodeType?[ot]:ot,[]),xt=!L||!it&&S?bt:Te(bt,pt,L,ot,at),kt=z?tt||(it?L:_t||H)?[]:nt:xt;if(z&&z(xt,kt,ot,at),H)for(rt=Te(kt,gt),H(rt,[],ot,at),ht=rt.length;ht--;)(dt=rt[ht])&&(kt[gt[ht]]=!(xt[gt[ht]]=dt));if(it){if(tt||L){if(tt){for(rt=[],ht=kt.length;ht--;)(dt=kt[ht])&&rt.push(xt[ht]=dt);tt(null,kt=[],rt,at)}for(ht=kt.length;ht--;)(dt=kt[ht])&&-1<(rt=tt?P(it,dt):pt[ht])&&(it[rt]=!(nt[rt]=dt))}}else kt=Te(kt===nt?kt.splice(_t,kt.length):kt),tt?tt(null,nt,kt,at):Wt.apply(nt,kt)}))}function Se(L){for(var S,z,tt,it=L.length,nt=H.relative[L[0].type],ot=nt||H.relative[" "],at=nt?1:0,ht=be((function(L){return L===S}),ot,!0),dt=be((function(L){return-1<P(S,L)}),ot,!0),pt=[function(L,z,H){var tt=!nt&&(H||z!==rt)||((S=z).nodeType?ht(L,z,H):dt(L,z,H));return S=null,tt}];at<it;at++)if(z=H.relative[L[at].type])pt=[be(we(pt),z)];else{if((z=H.filter[L[at].type].apply(null,L[at].matches))[Tt]){for(tt=++at;tt<it&&!H.relative[L[tt].type];tt++);return Ce(1<at&&we(pt),1<at&&xe(L.slice(0,at-1).concat({value:" "===L[at-2].type?"*":""})).replace(re,"$1"),z,at<tt&&Se(L.slice(at,tt)),tt<it&&Se(L=L.slice(tt)),tt<it&&xe(L))}pt.push(z)}return we(pt)}return me.prototype=H.filters=H.pseudos,H.setFilters=new me,nt=se.tokenize=function(L,S){var z,tt,it,nt,ot,at,rt,ht=It[L+" "];if(ht)return S?0:ht.slice(0);for(ot=L,at=[],rt=H.preFilter;ot;){for(nt in z&&!(tt=ke.exec(ot))||(tt&&(ot=ot.slice(tt[0].length)||ot),at.push(it=[])),z=!1,(tt=Pe.exec(ot))&&(z=tt.shift(),it.push({value:z,type:tt[0].replace(re," ")}),ot=ot.slice(z.length)),H.filter)!(tt=Re[nt].exec(ot))||rt[nt]&&!(tt=rt[nt](tt))||(z=tt.shift(),it.push({value:z,type:nt,matches:tt}),ot=ot.slice(z.length));if(!z)break}return S?ot.length:ot?se.error(L):It(L,at).slice(0)},ot=se.compile=function(L,S){var z,tt,it,ot,at,ht,dt=[],_t=[],xt=At[L+" "];if(!xt){for(S||(S=nt(L)),z=S.length;z--;)(xt=Se(S[z]))[Tt]?dt.push(xt):_t.push(xt);(xt=At(L,(tt=_t,ot=0<(it=dt).length,at=0<tt.length,ht=function(L,S,z,nt,ht){var dt,_t,xt,kt=0,Ct="0",Lt=L&&[],Tt=[],Et=rt,Pt=L||at&&H.find.TAG("*",ht),Dt=Mt+=null==Et?1:Math.random()||.1,It=Pt.length;for(ht&&(rt=S==gt||S||ht);Ct!==It&&null!=(dt=Pt[Ct]);Ct++){if(at&&dt){for(_t=0,S||dt.ownerDocument==gt||(pt(dt),z=!bt);xt=tt[_t++];)if(xt(dt,S||gt,z)){nt.push(dt);break}ht&&(Mt=Dt)}ot&&((dt=!xt&&dt)&&kt--,L&&Lt.push(dt))}if(kt+=Ct,ot&&Ct!==kt){for(_t=0;xt=it[_t++];)xt(Lt,Tt,S,z);if(L){if(0<kt)for(;Ct--;)Lt[Ct]||Tt[Ct]||(Tt[Ct]=Rt.call(nt));Tt=Te(Tt)}Wt.apply(nt,Tt),ht&&!L&&0<Tt.length&&1<kt+it.length&&se.uniqueSort(nt)}return ht&&(Mt=Dt,rt=Et),Lt},ot?le(ht):ht))).selector=L}return xt},at=se.select=function(L,S,z,tt){var it,at,rt,ht,dt,pt="function"==typeof L&&L,gt=!tt&&nt(L=pt.selector||L);if(z=z||[],1===gt.length){if(2<(at=gt[0]=gt[0].slice(0)).length&&"ID"===(rt=at[0]).type&&9===S.nodeType&&bt&&H.relative[at[1].type]){if(!(S=(H.find.ID(rt.matches[0].replace(oi,ne),S)||[])[0]))return z;pt&&(S=S.parentNode),L=L.slice(at.shift().value.length)}for(it=Re.needsContext.test(L)?0:at.length;it--&&(rt=at[it],!H.relative[ht=rt.type]);)if((dt=H.find[ht])&&(tt=dt(rt.matches[0].replace(oi,ne),ni.test(at[0].type)&&ve(S.parentNode)||S))){if(at.splice(it,1),!(L=tt.length&&xe(at)))return Wt.apply(z,tt),z;break}}return(pt||ot(L,gt))(tt,S,!bt,z,!S||ni.test(L)&&ve(S.parentNode)||S),z},z.sortStable=Tt.split("").sort(j).join("")===Tt,z.detectDuplicates=!!dt,pt(),z.sortDetached=ce((function(L){return 1&L.compareDocumentPosition(gt.createElement("fieldset"))})),ce((function(L){return L.innerHTML="<a href='#'></a>","#"===L.firstChild.getAttribute("href")}))||fe("type|href|height|width",(function(L,S,z){if(!z)return L.getAttribute(S,"type"===S.toLowerCase()?1:2)})),z.attributes&&ce((function(L){return L.innerHTML="<input/>",L.firstChild.setAttribute("value",""),""===L.firstChild.getAttribute("value")}))||fe("value",(function(L,S,z){if(!z&&"input"===L.nodeName.toLowerCase())return L.defaultValue})),ce((function(L){return null==L.getAttribute("disabled")}))||fe(Yt,(function(L,S,z){var H;if(!z)return!0===L[S]?S.toLowerCase():(H=L.getAttributeNode(S))&&H.specified?H.value:null})),se}(H);E.find=Tt,E.expr=Tt.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=Tt.uniqueSort,E.text=Tt.getText,E.isXMLDoc=Tt.isXML,E.contains=Tt.contains,E.escapeSelector=Tt.escape;var h=function(L,S,z){for(var H=[],tt=void 0!==z;(L=L[S])&&9!==L.nodeType;)if(1===L.nodeType){if(tt&&E(L).is(z))break;H.push(L)}return H},T=function(L,S){for(var z=[];L;L=L.nextSibling)1===L.nodeType&&L!==S&&z.push(L);return z},Et=E.expr.match.needsContext;function A(L,S){return L.nodeName&&L.nodeName.toLowerCase()===S.toLowerCase()}var Mt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(L,S,z){return m(S)?E.grep(L,(function(L,H){return!!S.call(L,H,L)!==z})):S.nodeType?E.grep(L,(function(L){return L===S!==z})):"string"!=typeof S?E.grep(L,(function(L){return-1<ht.call(S,L)!==z})):E.filter(S,L,z)}E.filter=function(L,S,z){var H=S[0];return z&&(L=":not("+L+")"),1===S.length&&1===H.nodeType?E.find.matchesSelector(H,L)?[H]:[]:E.find.matches(L,E.grep(S,(function(L){return 1===L.nodeType})))},E.fn.extend({find:function(L){var S,z,H=this.length,tt=this;if("string"!=typeof L)return this.pushStack(E(L).filter((function(){for(S=0;S<H;S++)if(E.contains(tt[S],this))return!0})));for(z=this.pushStack([]),S=0;S<H;S++)E.find(L,tt[S],z);return 1<H?E.uniqueSort(z):z},filter:function(L){return this.pushStack(j(this,L||[],!1))},not:function(L){return this.pushStack(j(this,L||[],!0))},is:function(L){return!!j(this,"string"==typeof L&&Et.test(L)?E(L):L||[],!1).length}});var Pt,Dt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(L,S,z){var H,tt;if(!L)return this;if(z=z||Pt,"string"==typeof L){if(!(H="<"===L[0]&&">"===L[L.length-1]&&3<=L.length?[null,L,null]:Dt.exec(L))||!H[1]&&S)return!S||S.jquery?(S||z).find(L):this.constructor(S).find(L);if(H[1]){if(S=S instanceof E?S[0]:S,E.merge(this,E.parseHTML(H[1],S&&S.nodeType?S.ownerDocument||S:kt,!0)),Mt.test(H[1])&&E.isPlainObject(S))for(H in S)m(this[H])?this[H](S[H]):this.attr(H,S[H]);return this}return(tt=kt.getElementById(H[2]))&&(this[0]=tt,this.length=1),this}return L.nodeType?(this[0]=L,this.length=1,this):m(L)?void 0!==z.ready?z.ready(L):L(E):E.makeArray(L,this)}).prototype=E.fn,Pt=E(kt);var It=/^(?:parents|prev(?:Until|All))/,At={children:!0,contents:!0,next:!0,prev:!0};function O(L,S){for(;(L=L[S])&&1!==L.nodeType;);return L}E.fn.extend({has:function(L){var S=E(L,this),z=S.length;return this.filter((function(){for(var L=0;L<z;L++)if(E.contains(this,S[L]))return!0}))},closest:function(L,S){var z,H=0,tt=this.length,it=[],nt="string"!=typeof L&&E(L);if(!Et.test(L))for(;H<tt;H++)for(z=this[H];z&&z!==S;z=z.parentNode)if(z.nodeType<11&&(nt?-1<nt.index(z):1===z.nodeType&&E.find.matchesSelector(z,L))){it.push(z);break}return this.pushStack(1<it.length?E.uniqueSort(it):it)},index:function(L){return L?"string"==typeof L?ht.call(E(L),this[0]):ht.call(this,L.jquery?L[0]:L):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(L,S){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(L,S))))},addBack:function(L){return this.add(null==L?this.prevObject:this.prevObject.filter(L))}}),E.each({parent:function(L){var S=L.parentNode;return S&&11!==S.nodeType?S:null},parents:function(L){return h(L,"parentNode")},parentsUntil:function(L,S,z){return h(L,"parentNode",z)},next:function(L){return O(L,"nextSibling")},prev:function(L){return O(L,"previousSibling")},nextAll:function(L){return h(L,"nextSibling")},prevAll:function(L){return h(L,"previousSibling")},nextUntil:function(L,S,z){return h(L,"nextSibling",z)},prevUntil:function(L,S,z){return h(L,"previousSibling",z)},siblings:function(L){return T((L.parentNode||{}).firstChild,L)},children:function(L){return T(L.firstChild)},contents:function(L){return null!=L.contentDocument&&nt(L.contentDocument)?L.contentDocument:(A(L,"template")&&(L=L.content||L),E.merge([],L.childNodes))}},(function(L,S){E.fn[L]=function(z,H){var tt=E.map(this,S,z);return"Until"!==L.slice(-5)&&(H=z),H&&"string"==typeof H&&(tt=E.filter(H,tt)),1<this.length&&(At[L]||E.uniqueSort(tt),It.test(L)&&tt.reverse()),this.pushStack(tt)}}));var Ot=/[^\x20\t\r\n\f]+/g;function R(L){return L}function M(L){throw L}function I(L,S,z,H){var tt;try{L&&m(tt=L.promise)?tt.call(L).done(S).fail(z):L&&m(tt=L.then)?tt.call(L,S,z):S.apply(void 0,[L].slice(H))}catch(L){z.apply(void 0,[L])}}E.Callbacks=function(L){var S,z;L="string"==typeof L?(S=L,z={},E.each(S.match(Ot)||[],(function(L,S){z[S]=!0})),z):E.extend({},L);var H,tt,it,nt,ot=[],at=[],rt=-1,c=function(){for(nt=nt||L.once,it=H=!0;at.length;rt=-1)for(tt=at.shift();++rt<ot.length;)!1===ot[rt].apply(tt[0],tt[1])&&L.stopOnFalse&&(rt=ot.length,tt=!1);L.memory||(tt=!1),H=!1,nt&&(ot=tt?[]:"")},ht={add:function(){return ot&&(tt&&!H&&(rt=ot.length-1,at.push(tt)),function n(S){E.each(S,(function(S,z){m(z)?L.unique&&ht.has(z)||ot.push(z):z&&z.length&&"string"!==w(z)&&n(z)}))}(arguments),tt&&!H&&c()),this},remove:function(){return E.each(arguments,(function(L,S){for(var z;-1<(z=E.inArray(S,ot,z));)ot.splice(z,1),z<=rt&&rt--})),this},has:function(L){return L?-1<E.inArray(L,ot):0<ot.length},empty:function(){return ot&&(ot=[]),this},disable:function(){return nt=at=[],ot=tt="",this},disabled:function(){return!ot},lock:function(){return nt=at=[],tt||H||(ot=tt=""),this},locked:function(){return!!nt},fireWith:function(L,S){return nt||(S=[L,(S=S||[]).slice?S.slice():S],at.push(S),H||c()),this},fire:function(){return ht.fireWith(this,arguments),this},fired:function(){return!!it}};return ht},E.extend({Deferred:function(L){var S=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],z="pending",tt={state:function(){return z},always:function(){return it.done(arguments).fail(arguments),this},catch:function(L){return tt.then(null,L)},pipe:function(){var L=arguments;return E.Deferred((function(z){E.each(S,(function(S,H){var tt=m(L[H[4]])&&L[H[4]];it[H[1]]((function(){var L=tt&&tt.apply(this,arguments);L&&m(L.promise)?L.promise().progress(z.notify).done(z.resolve).fail(z.reject):z[H[0]+"With"](this,tt?[L]:arguments)}))})),L=null})).promise()},then:function(L,z,tt){var it=0;function l(L,S,z,tt){return function(){var nt=this,ot=arguments,e=function(){var H,at;if(!(L<it)){if((H=z.apply(nt,ot))===S.promise())throw new TypeError("Thenable self-resolution");at=H&&("object"==typeof H||"function"==typeof H)&&H.then,m(at)?tt?at.call(H,l(it,S,R,tt),l(it,S,M,tt)):(it++,at.call(H,l(it,S,R,tt),l(it,S,M,tt),l(it,S,R,S.notifyWith))):(z!==R&&(nt=void 0,ot=[H]),(tt||S.resolveWith)(nt,ot))}},at=tt?e:function(){try{e()}catch(H){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(H,at.stackTrace),it<=L+1&&(z!==M&&(nt=void 0,ot=[H]),S.rejectWith(nt,ot))}};L?at():(E.Deferred.getStackHook&&(at.stackTrace=E.Deferred.getStackHook()),H.setTimeout(at))}}return E.Deferred((function(H){S[0][3].add(l(0,H,m(tt)?tt:R,H.notifyWith)),S[1][3].add(l(0,H,m(L)?L:R)),S[2][3].add(l(0,H,m(z)?z:M))})).promise()},promise:function(L){return null!=L?E.extend(L,tt):tt}},it={};return E.each(S,(function(L,H){var nt=H[2],ot=H[5];tt[H[1]]=nt.add,ot&&nt.add((function(){z=ot}),S[3-L][2].disable,S[3-L][3].disable,S[0][2].lock,S[0][3].lock),nt.add(H[3].fire),it[H[0]]=function(){return it[H[0]+"With"](this===it?void 0:this,arguments),this},it[H[0]+"With"]=nt.fireWith})),tt.promise(it),L&&L.call(it,it),it},when:function(L){var S=arguments.length,z=S,H=Array(z),tt=ot.call(arguments),it=E.Deferred(),a=function(L){return function(z){H[L]=this,tt[L]=1<arguments.length?ot.call(arguments):z,--S||it.resolveWith(H,tt)}};if(S<=1&&(I(L,it.done(a(z)).resolve,it.reject,!S),"pending"===it.state()||m(tt[z]&&tt[z].then)))return it.then();for(;z--;)I(tt[z],a(z),it.reject);return it.promise()}});var Nt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(L,S){H.console&&H.console.warn&&L&&Nt.test(L.name)&&H.console.warn("jQuery.Deferred exception: "+L.message,L.stack,S)},E.readyException=function(L){H.setTimeout((function(){throw L}))};var zt=E.Deferred();function $(){kt.removeEventListener("DOMContentLoaded",$),H.removeEventListener("load",$),E.ready()}E.fn.ready=function(L){return zt.then(L).catch((function(L){E.readyException(L)})),this},E.extend({isReady:!1,readyWait:1,ready:function(L){(!0===L?--E.readyWait:E.isReady)||(E.isReady=!0)!==L&&0<--E.readyWait||zt.resolveWith(kt,[E])}}),E.ready.then=zt.then,"complete"===kt.readyState||"loading"!==kt.readyState&&!kt.documentElement.doScroll?H.setTimeout(E.ready):(kt.addEventListener("DOMContentLoaded",$),H.addEventListener("load",$));var B=function(L,S,z,H,tt,it,nt){var ot=0,at=L.length,rt=null==z;if("object"===w(z))for(ot in tt=!0,z)B(L,S,ot,z[ot],!0,it,nt);else if(void 0!==H&&(tt=!0,m(H)||(nt=!0),rt&&(nt?(S.call(L,H),S=null):(rt=S,S=function(L,S,z){return rt.call(E(L),z)})),S))for(;ot<at;ot++)S(L[ot],z,nt?H:H.call(L[ot],ot,S(L[ot],z)));return tt?L:rt?S.call(L):at?S(L[0],z):it},Rt=/^-ms-/,Ht=/-([a-z])/g;function U(L,S){return S.toUpperCase()}function X(L){return L.replace(Rt,"ms-").replace(Ht,U)}var V=function(L){return 1===L.nodeType||9===L.nodeType||!+L.nodeType};function G(){this.expando=E.expando+G.uid++}G.uid=1,G.prototype={cache:function(L){var S=L[this.expando];return S||(S={},V(L)&&(L.nodeType?L[this.expando]=S:Object.defineProperty(L,this.expando,{value:S,configurable:!0}))),S},set:function(L,S,z){var H,tt=this.cache(L);if("string"==typeof S)tt[X(S)]=z;else for(H in S)tt[X(H)]=S[H];return tt},get:function(L,S){return void 0===S?this.cache(L):L[this.expando]&&L[this.expando][X(S)]},access:function(L,S,z){return void 0===S||S&&"string"==typeof S&&void 0===z?this.get(L,S):(this.set(L,S,z),void 0!==z?z:S)},remove:function(L,S){var z,H=L[this.expando];if(void 0!==H){if(void 0!==S){z=(S=Array.isArray(S)?S.map(X):(S=X(S))in H?[S]:S.match(Ot)||[]).length;for(;z--;)delete H[S[z]]}(void 0===S||E.isEmptyObject(H))&&(L.nodeType?L[this.expando]=void 0:delete L[this.expando])}},hasData:function(L){var S=L[this.expando];return void 0!==S&&!E.isEmptyObject(S)}};var Wt=new G,Zt=new G,Yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Kt=/[A-Z]/g;function Z(L,S,z){var H,tt;if(void 0===z&&1===L.nodeType)if(H="data-"+S.replace(Kt,"-$&").toLowerCase(),"string"==typeof(z=L.getAttribute(H))){try{z="true"===(tt=z)||"false"!==tt&&("null"===tt?null:tt===+tt+""?+tt:Yt.test(tt)?JSON.parse(tt):tt)}catch(L){}Zt.set(L,S,z)}else z=void 0;return z}E.extend({hasData:function(L){return Zt.hasData(L)||Wt.hasData(L)},data:function(L,S,z){return Zt.access(L,S,z)},removeData:function(L,S){Zt.remove(L,S)},_data:function(L,S,z){return Wt.access(L,S,z)},_removeData:function(L,S){Wt.remove(L,S)}}),E.fn.extend({data:function(L,S){var z,H,tt,it=this[0],nt=it&&it.attributes;if(void 0===L){if(this.length&&(tt=Zt.get(it),1===it.nodeType&&!Wt.get(it,"hasDataAttrs"))){for(z=nt.length;z--;)nt[z]&&0===(H=nt[z].name).indexOf("data-")&&(H=X(H.slice(5)),Z(it,H,tt[H]));Wt.set(it,"hasDataAttrs",!0)}return tt}return"object"==typeof L?this.each((function(){Zt.set(this,L)})):B(this,(function(S){var z;if(it&&void 0===S)return void 0!==(z=Zt.get(it,L))||void 0!==(z=Z(it,L))?z:void 0;this.each((function(){Zt.set(this,L,S)}))}),null,S,1<arguments.length,null,!0)},removeData:function(L){return this.each((function(){Zt.remove(this,L)}))}}),E.extend({queue:function(L,S,z){var H;if(L)return S=(S||"fx")+"queue",H=Wt.get(L,S),z&&(!H||Array.isArray(z)?H=Wt.access(L,S,E.makeArray(z)):H.push(z)),H||[]},dequeue:function(L,S){S=S||"fx";var z=E.queue(L,S),H=z.length,tt=z.shift(),it=E._queueHooks(L,S);"inprogress"===tt&&(tt=z.shift(),H--),tt&&("fx"===S&&z.unshift("inprogress"),delete it.stop,tt.call(L,(function(){E.dequeue(L,S)}),it)),!H&&it&&it.empty.fire()},_queueHooks:function(L,S){var z=S+"queueHooks";return Wt.get(L,z)||Wt.access(L,z,{empty:E.Callbacks("once memory").add((function(){Wt.remove(L,[S+"queue",z])}))})}}),E.fn.extend({queue:function(L,S){var z=2;return"string"!=typeof L&&(S=L,L="fx",z--),arguments.length<z?E.queue(this[0],L):void 0===S?this:this.each((function(){var z=E.queue(this,L,S);E._queueHooks(this,L),"fx"===L&&"inprogress"!==z[0]&&E.dequeue(this,L)}))},dequeue:function(L){return this.each((function(){E.dequeue(this,L)}))},clearQueue:function(L){return this.queue(L||"fx",[])},promise:function(L,S){var z,H=1,tt=E.Deferred(),it=this,nt=this.length,s=function(){--H||tt.resolveWith(it,[it])};for("string"!=typeof L&&(S=L,L=void 0),L=L||"fx";nt--;)(z=Wt.get(it[nt],L+"queueHooks"))&&z.empty&&(H++,z.empty.add(s));return s(),tt.promise(S)}});var Xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Qt=new RegExp("^(?:([+-])=|)("+Xt+")([a-z%]*)$","i"),te=["Top","Right","Bottom","Left"],ee=kt.documentElement,ie=function(L){return E.contains(L.ownerDocument,L)},re={composed:!0};ee.getRootNode&&(ie=function(L){return E.contains(L.ownerDocument,L)||L.getRootNode(re)===L.ownerDocument});var ae=function(L,S){return"none"===(L=S||L).style.display||""===L.style.display&&ie(L)&&"none"===E.css(L,"display")};function se(L,S,z,H){var tt,it,nt=20,ot=H?function(){return H.cur()}:function(){return E.css(L,S,"")},at=ot(),rt=z&&z[3]||(E.cssNumber[S]?"":"px"),ht=L.nodeType&&(E.cssNumber[S]||"px"!==rt&&+at)&&Qt.exec(E.css(L,S));if(ht&&ht[3]!==rt){for(at/=2,rt=rt||ht[3],ht=+at||1;nt--;)E.style(L,S,ht+rt),(1-it)*(1-(it=ot()/at||.5))<=0&&(nt=0),ht/=it;ht*=2,E.style(L,S,ht+rt),z=z||[]}return z&&(ht=+ht||+at||0,tt=z[1]?ht+(z[1]+1)*z[2]:+z[2],H&&(H.unit=rt,H.start=ht,H.end=tt)),tt}var ke={};function le(L,S){for(var z,H,tt,it,nt,ot,at,rt=[],ht=0,dt=L.length;ht<dt;ht++)(H=L[ht]).style&&(z=H.style.display,S?("none"===z&&(rt[ht]=Wt.get(H,"display")||null,rt[ht]||(H.style.display="")),""===H.style.display&&ae(H)&&(rt[ht]=(at=nt=it=void 0,nt=(tt=H).ownerDocument,ot=tt.nodeName,(at=ke[ot])||(it=nt.body.appendChild(nt.createElement(ot)),at=E.css(it,"display"),it.parentNode.removeChild(it),"none"===at&&(at="block"),ke[ot]=at)))):"none"!==z&&(rt[ht]="none",Wt.set(H,"display",z)));for(ht=0;ht<dt;ht++)null!=rt[ht]&&(L[ht].style.display=rt[ht]);return L}E.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(L){return"boolean"==typeof L?L?this.show():this.hide():this.each((function(){ae(this)?E(this).show():E(this).hide()}))}});var Pe,Ae,Ne=/^(?:checkbox|radio)$/i,ze=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Re=/^$|^module$|\/(?:java|ecma)script/i;Pe=kt.createDocumentFragment().appendChild(kt.createElement("div")),(Ae=kt.createElement("input")).setAttribute("type","radio"),Ae.setAttribute("checked","checked"),Ae.setAttribute("name","t"),Pe.appendChild(Ae),xt.checkClone=Pe.cloneNode(!0).cloneNode(!0).lastChild.checked,Pe.innerHTML="<textarea>x</textarea>",xt.noCloneChecked=!!Pe.cloneNode(!0).lastChild.defaultValue,Pe.innerHTML="<option></option>",xt.option=!!Pe.lastChild;var We={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(L,S){var z;return z=void 0!==L.getElementsByTagName?L.getElementsByTagName(S||"*"):void 0!==L.querySelectorAll?L.querySelectorAll(S||"*"):[],void 0===S||S&&A(L,S)?E.merge([L],z):z}function ve(L,S){for(var z=0,H=L.length;z<H;z++)Wt.set(L[z],"globalEval",!S||Wt.get(S[z],"globalEval"))}We.tbody=We.tfoot=We.colgroup=We.caption=We.thead,We.th=We.td,xt.option||(We.optgroup=We.option=[1,"<select multiple='multiple'>","</select>"]);var Qe=/<|&#?\w+;/;function xe(L,S,z,H,tt){for(var it,nt,ot,at,rt,ht,dt=S.createDocumentFragment(),pt=[],gt=0,_t=L.length;gt<_t;gt++)if((it=L[gt])||0===it)if("object"===w(it))E.merge(pt,it.nodeType?[it]:it);else if(Qe.test(it)){for(nt=nt||dt.appendChild(S.createElement("div")),ot=(ze.exec(it)||["",""])[1].toLowerCase(),at=We[ot]||We._default,nt.innerHTML=at[1]+E.htmlPrefilter(it)+at[2],ht=at[0];ht--;)nt=nt.lastChild;E.merge(pt,nt.childNodes),(nt=dt.firstChild).textContent=""}else pt.push(S.createTextNode(it));for(dt.textContent="",gt=0;it=pt[gt++];)if(H&&-1<E.inArray(it,H))tt&&tt.push(it);else if(rt=ie(it),nt=ye(dt.appendChild(it),"script"),rt&&ve(nt),z)for(ht=0;it=nt[ht++];)Re.test(it.type||"")&&z.push(it);return dt}var ti=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(L,S){return L===function(){try{return kt.activeElement}catch(L){}}()==("focus"===S)}function Se(L,S,z,H,tt,it){var nt,ot;if("object"==typeof S){for(ot in"string"!=typeof z&&(H=H||z,z=void 0),S)Se(L,ot,z,H,S[ot],it);return L}if(null==H&&null==tt?(tt=z,H=z=void 0):null==tt&&("string"==typeof z?(tt=H,H=void 0):(tt=H,H=z,z=void 0)),!1===tt)tt=Te;else if(!tt)return L;return 1===it&&(nt=tt,(tt=function(L){return E().off(L),nt.apply(this,arguments)}).guid=nt.guid||(nt.guid=E.guid++)),L.each((function(){E.event.add(this,S,tt,H,z)}))}function Ee(L,S,z){z?(Wt.set(L,S,!1),E.event.add(L,S,{namespace:!1,handler:function(L){var H,tt,it=Wt.get(this,S);if(1&L.isTrigger&&this[S]){if(it.length)(E.event.special[S]||{}).delegateType&&L.stopPropagation();else if(it=ot.call(arguments),Wt.set(this,S,it),H=z(this,S),this[S](),it!==(tt=Wt.get(this,S))||H?Wt.set(this,S,!1):tt={},it!==tt)return L.stopImmediatePropagation(),L.preventDefault(),tt&&tt.value}else it.length&&(Wt.set(this,S,{value:E.event.trigger(E.extend(it[0],E.Event.prototype),it.slice(1),this)}),L.stopImmediatePropagation())}})):void 0===Wt.get(L,S)&&E.event.add(L,S,we)}E.event={global:{},add:function(L,S,z,H,tt){var it,nt,ot,at,rt,ht,dt,pt,gt,_t,bt,xt=Wt.get(L);if(V(L))for(z.handler&&(z=(it=z).handler,tt=it.selector),tt&&E.find.matchesSelector(ee,tt),z.guid||(z.guid=E.guid++),(at=xt.events)||(at=xt.events=Object.create(null)),(nt=xt.handle)||(nt=xt.handle=function(S){return void 0!==E&&E.event.triggered!==S.type?E.event.dispatch.apply(L,arguments):void 0}),rt=(S=(S||"").match(Ot)||[""]).length;rt--;)gt=bt=(ot=ti.exec(S[rt])||[])[1],_t=(ot[2]||"").split(".").sort(),gt&&(dt=E.event.special[gt]||{},gt=(tt?dt.delegateType:dt.bindType)||gt,dt=E.event.special[gt]||{},ht=E.extend({type:gt,origType:bt,data:H,handler:z,guid:z.guid,selector:tt,needsContext:tt&&E.expr.match.needsContext.test(tt),namespace:_t.join(".")},it),(pt=at[gt])||((pt=at[gt]=[]).delegateCount=0,dt.setup&&!1!==dt.setup.call(L,H,_t,nt)||L.addEventListener&&L.addEventListener(gt,nt)),dt.add&&(dt.add.call(L,ht),ht.handler.guid||(ht.handler.guid=z.guid)),tt?pt.splice(pt.delegateCount++,0,ht):pt.push(ht),E.event.global[gt]=!0)},remove:function(L,S,z,H,tt){var it,nt,ot,at,rt,ht,dt,pt,gt,_t,bt,xt=Wt.hasData(L)&&Wt.get(L);if(xt&&(at=xt.events)){for(rt=(S=(S||"").match(Ot)||[""]).length;rt--;)if(gt=bt=(ot=ti.exec(S[rt])||[])[1],_t=(ot[2]||"").split(".").sort(),gt){for(dt=E.event.special[gt]||{},pt=at[gt=(H?dt.delegateType:dt.bindType)||gt]||[],ot=ot[2]&&new RegExp("(^|\\.)"+_t.join("\\.(?:.*\\.|)")+"(\\.|$)"),nt=it=pt.length;it--;)ht=pt[it],!tt&&bt!==ht.origType||z&&z.guid!==ht.guid||ot&&!ot.test(ht.namespace)||H&&H!==ht.selector&&("**"!==H||!ht.selector)||(pt.splice(it,1),ht.selector&&pt.delegateCount--,dt.remove&&dt.remove.call(L,ht));nt&&!pt.length&&(dt.teardown&&!1!==dt.teardown.call(L,_t,xt.handle)||E.removeEvent(L,gt,xt.handle),delete at[gt])}else for(gt in at)E.event.remove(L,gt+S[rt],z,H,!0);E.isEmptyObject(at)&&Wt.remove(L,"handle events")}},dispatch:function(L){var S,z,H,tt,it,nt,ot=new Array(arguments.length),at=E.event.fix(L),rt=(Wt.get(this,"events")||Object.create(null))[at.type]||[],ht=E.event.special[at.type]||{};for(ot[0]=at,S=1;S<arguments.length;S++)ot[S]=arguments[S];if(at.delegateTarget=this,!ht.preDispatch||!1!==ht.preDispatch.call(this,at)){for(nt=E.event.handlers.call(this,at,rt),S=0;(tt=nt[S++])&&!at.isPropagationStopped();)for(at.currentTarget=tt.elem,z=0;(it=tt.handlers[z++])&&!at.isImmediatePropagationStopped();)at.rnamespace&&!1!==it.namespace&&!at.rnamespace.test(it.namespace)||(at.handleObj=it,at.data=it.data,void 0!==(H=((E.event.special[it.origType]||{}).handle||it.handler).apply(tt.elem,ot))&&!1===(at.result=H)&&(at.preventDefault(),at.stopPropagation()));return ht.postDispatch&&ht.postDispatch.call(this,at),at.result}},handlers:function(L,S){var z,H,tt,it,nt,ot=[],at=S.delegateCount,rt=L.target;if(at&&rt.nodeType&&!("click"===L.type&&1<=L.button))for(;rt!==this;rt=rt.parentNode||this)if(1===rt.nodeType&&("click"!==L.type||!0!==rt.disabled)){for(it=[],nt={},z=0;z<at;z++)void 0===nt[tt=(H=S[z]).selector+" "]&&(nt[tt]=H.needsContext?-1<E(tt,this).index(rt):E.find(tt,this,null,[rt]).length),nt[tt]&&it.push(H);it.length&&ot.push({elem:rt,handlers:it})}return rt=this,at<S.length&&ot.push({elem:rt,handlers:S.slice(at)}),ot},addProp:function(L,S){Object.defineProperty(E.Event.prototype,L,{enumerable:!0,configurable:!0,get:m(S)?function(){if(this.originalEvent)return S(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[L]},set:function(S){Object.defineProperty(this,L,{enumerable:!0,configurable:!0,writable:!0,value:S})}})},fix:function(L){return L[E.expando]?L:new E.Event(L)},special:{load:{noBubble:!0},click:{setup:function(L){var S=this||L;return Ne.test(S.type)&&S.click&&A(S,"input")&&Ee(S,"click",we),!1},trigger:function(L){var S=this||L;return Ne.test(S.type)&&S.click&&A(S,"input")&&Ee(S,"click"),!0},_default:function(L){var S=L.target;return Ne.test(S.type)&&S.click&&A(S,"input")&&Wt.get(S,"click")||A(S,"a")}},beforeunload:{postDispatch:function(L){void 0!==L.result&&L.originalEvent&&(L.originalEvent.returnValue=L.result)}}}},E.removeEvent=function(L,S,z){L.removeEventListener&&L.removeEventListener(S,z)},E.Event=function(L,S){if(!(this instanceof E.Event))return new E.Event(L,S);L&&L.type?(this.originalEvent=L,this.type=L.type,this.isDefaultPrevented=L.defaultPrevented||void 0===L.defaultPrevented&&!1===L.returnValue?we:Te,this.target=L.target&&3===L.target.nodeType?L.target.parentNode:L.target,this.currentTarget=L.currentTarget,this.relatedTarget=L.relatedTarget):this.type=L,S&&E.extend(this,S),this.timeStamp=L&&L.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var L=this.originalEvent;this.isDefaultPrevented=we,L&&!this.isSimulated&&L.preventDefault()},stopPropagation:function(){var L=this.originalEvent;this.isPropagationStopped=we,L&&!this.isSimulated&&L.stopPropagation()},stopImmediatePropagation:function(){var L=this.originalEvent;this.isImmediatePropagationStopped=we,L&&!this.isSimulated&&L.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},(function(L,S){E.event.special[L]={setup:function(){return Ee(this,L,Ce),!1},trigger:function(){return Ee(this,L),!0},_default:function(S){return Wt.get(S.target,L)},delegateType:S}})),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(L,S){E.event.special[L]={delegateType:S,bindType:S,handle:function(L){var z,H=L.relatedTarget,tt=L.handleObj;return H&&(H===this||E.contains(this,H))||(L.type=tt.origType,z=tt.handler.apply(this,arguments),L.type=S),z}}})),E.fn.extend({on:function(L,S,z,H){return Se(this,L,S,z,H)},one:function(L,S,z,H){return Se(this,L,S,z,H,1)},off:function(L,S,z){var H,tt;if(L&&L.preventDefault&&L.handleObj)return H=L.handleObj,E(L.delegateTarget).off(H.namespace?H.origType+"."+H.namespace:H.origType,H.selector,H.handler),this;if("object"==typeof L){for(tt in L)this.off(tt,S,L[tt]);return this}return!1!==S&&"function"!=typeof S||(z=S,S=void 0),!1===z&&(z=Te),this.each((function(){E.event.remove(this,L,z,S)}))}});var ei=/<script|<style|<link/i,ii=/checked\s*(?:[^=]|=\s*.checked.)/i,ni=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function je(L,S){return A(L,"table")&&A(11!==S.nodeType?S:S.firstChild,"tr")&&E(L).children("tbody")[0]||L}function De(L){return L.type=(null!==L.getAttribute("type"))+"/"+L.type,L}function qe(L){return"true/"===(L.type||"").slice(0,5)?L.type=L.type.slice(5):L.removeAttribute("type"),L}function Le(L,S){var z,H,tt,it,nt,ot;if(1===S.nodeType){if(Wt.hasData(L)&&(ot=Wt.get(L).events))for(tt in Wt.remove(S,"handle events"),ot)for(z=0,H=ot[tt].length;z<H;z++)E.event.add(S,tt,ot[tt][z]);Zt.hasData(L)&&(it=Zt.access(L),nt=E.extend({},it),Zt.set(S,nt))}}function He(L,S,z,H){S=at(S);var tt,it,nt,ot,rt,ht,dt=0,pt=L.length,gt=pt-1,_t=S[0],bt=m(_t);if(bt||1<pt&&"string"==typeof _t&&!xt.checkClone&&ii.test(_t))return L.each((function(tt){var it=L.eq(tt);bt&&(S[0]=_t.call(this,tt,it.html())),He(it,S,z,H)}));if(pt&&(it=(tt=xe(S,L[0].ownerDocument,!1,L,H)).firstChild,1===tt.childNodes.length&&(tt=it),it||H)){for(ot=(nt=E.map(ye(tt,"script"),De)).length;dt<pt;dt++)rt=tt,dt!==gt&&(rt=E.clone(rt,!0,!0),ot&&E.merge(nt,ye(rt,"script"))),z.call(L[dt],rt,dt);if(ot)for(ht=nt[nt.length-1].ownerDocument,E.map(nt,qe),dt=0;dt<ot;dt++)rt=nt[dt],Re.test(rt.type||"")&&!Wt.access(rt,"globalEval")&&E.contains(ht,rt)&&(rt.src&&"module"!==(rt.type||"").toLowerCase()?E._evalUrl&&!rt.noModule&&E._evalUrl(rt.src,{nonce:rt.nonce||rt.getAttribute("nonce")},ht):b(rt.textContent.replace(ni,""),rt,ht))}return L}function Oe(L,S,z){for(var H,tt=S?E.filter(S,L):L,it=0;null!=(H=tt[it]);it++)z||1!==H.nodeType||E.cleanData(ye(H)),H.parentNode&&(z&&ie(H)&&ve(ye(H,"script")),H.parentNode.removeChild(H));return L}E.extend({htmlPrefilter:function(L){return L},clone:function(L,S,z){var H,tt,it,nt,ot,at,rt,ht=L.cloneNode(!0),dt=ie(L);if(!(xt.noCloneChecked||1!==L.nodeType&&11!==L.nodeType||E.isXMLDoc(L)))for(nt=ye(ht),H=0,tt=(it=ye(L)).length;H<tt;H++)ot=it[H],"input"===(rt=(at=nt[H]).nodeName.toLowerCase())&&Ne.test(ot.type)?at.checked=ot.checked:"input"!==rt&&"textarea"!==rt||(at.defaultValue=ot.defaultValue);if(S)if(z)for(it=it||ye(L),nt=nt||ye(ht),H=0,tt=it.length;H<tt;H++)Le(it[H],nt[H]);else Le(L,ht);return 0<(nt=ye(ht,"script")).length&&ve(nt,!dt&&ye(L,"script")),ht},cleanData:function(L){for(var S,z,H,tt=E.event.special,it=0;void 0!==(z=L[it]);it++)if(V(z)){if(S=z[Wt.expando]){if(S.events)for(H in S.events)tt[H]?E.event.remove(z,H):E.removeEvent(z,H,S.handle);z[Wt.expando]=void 0}z[Zt.expando]&&(z[Zt.expando]=void 0)}}}),E.fn.extend({detach:function(L){return Oe(this,L,!0)},remove:function(L){return Oe(this,L)},text:function(L){return B(this,(function(L){return void 0===L?E.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=L)}))}),null,L,arguments.length)},append:function(){return He(this,arguments,(function(L){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,L).appendChild(L)}))},prepend:function(){return He(this,arguments,(function(L){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var S=je(this,L);S.insertBefore(L,S.firstChild)}}))},before:function(){return He(this,arguments,(function(L){this.parentNode&&this.parentNode.insertBefore(L,this)}))},after:function(){return He(this,arguments,(function(L){this.parentNode&&this.parentNode.insertBefore(L,this.nextSibling)}))},empty:function(){for(var L,S=0;null!=(L=this[S]);S++)1===L.nodeType&&(E.cleanData(ye(L,!1)),L.textContent="");return this},clone:function(L,S){return L=null!=L&&L,S=null==S?L:S,this.map((function(){return E.clone(this,L,S)}))},html:function(L){return B(this,(function(L){var S=this[0]||{},z=0,H=this.length;if(void 0===L&&1===S.nodeType)return S.innerHTML;if("string"==typeof L&&!ei.test(L)&&!We[(ze.exec(L)||["",""])[1].toLowerCase()]){L=E.htmlPrefilter(L);try{for(;z<H;z++)1===(S=this[z]||{}).nodeType&&(E.cleanData(ye(S,!1)),S.innerHTML=L);S=0}catch(L){}}S&&this.empty().append(L)}),null,L,arguments.length)},replaceWith:function(){var L=[];return He(this,arguments,(function(S){var z=this.parentNode;E.inArray(this,L)<0&&(E.cleanData(ye(this)),z&&z.replaceChild(S,this))}),L)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(L,S){E.fn[L]=function(L){for(var z,H=[],tt=E(L),it=tt.length-1,nt=0;nt<=it;nt++)z=nt===it?this:this.clone(!0),E(tt[nt])[S](z),rt.apply(H,z.get());return this.pushStack(H)}}));var oi=new RegExp("^("+Xt+")(?!px)[a-z%]+$","i"),si=/^--/,Me=function(L){var S=L.ownerDocument.defaultView;return S&&S.opener||(S=H),S.getComputedStyle(L)},Ie=function(L,S,z){var H,tt,it={};for(tt in S)it[tt]=L.style[tt],L.style[tt]=S[tt];for(tt in H=z.call(L),S)L.style[tt]=it[tt];return H},ri=new RegExp(te.join("|"),"i"),bi="[\\x20\\t\\r\\n\\f]",Bi=new RegExp("^"+bi+"+|((?:^|[^\\\\])(?:\\\\.)*)"+bi+"+$","g");function Be(L,S,z){var H,tt,it,nt,ot=si.test(S),at=L.style;return(z=z||Me(L))&&(nt=z.getPropertyValue(S)||z[S],ot&&nt&&(nt=nt.replace(Bi,"$1")||void 0),""!==nt||ie(L)||(nt=E.style(L,S)),!xt.pixelBoxStyles()&&oi.test(nt)&&ri.test(S)&&(H=at.width,tt=at.minWidth,it=at.maxWidth,at.minWidth=at.maxWidth=at.width=nt,nt=z.width,at.width=H,at.minWidth=tt,at.maxWidth=it)),void 0!==nt?nt+"":nt}function _e(L,S){return{get:function(){if(!L())return(this.get=S).apply(this,arguments);delete this.get}}}!function(){function e(){if(at){ot.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",at.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ee.appendChild(ot).appendChild(at);var it=H.getComputedStyle(at);L="1%"!==it.top,nt=12===t(it.marginLeft),at.style.right="60%",tt=36===t(it.right),S=36===t(it.width),at.style.position="absolute",z=12===t(at.offsetWidth/3),ee.removeChild(ot),at=null}}function t(L){return Math.round(parseFloat(L))}var L,S,z,tt,it,nt,ot=kt.createElement("div"),at=kt.createElement("div");at.style&&(at.style.backgroundClip="content-box",at.cloneNode(!0).style.backgroundClip="",xt.clearCloneStyle="content-box"===at.style.backgroundClip,E.extend(xt,{boxSizingReliable:function(){return e(),S},pixelBoxStyles:function(){return e(),tt},pixelPosition:function(){return e(),L},reliableMarginLeft:function(){return e(),nt},scrollboxSize:function(){return e(),z},reliableTrDimensions:function(){var L,S,z,tt;return null==it&&(L=kt.createElement("table"),S=kt.createElement("tr"),z=kt.createElement("div"),L.style.cssText="position:absolute;left:-11111px;border-collapse:separate",S.style.cssText="border:1px solid",S.style.height="1px",z.style.height="9px",z.style.display="block",ee.appendChild(L).appendChild(S).appendChild(z),tt=H.getComputedStyle(S),it=parseInt(tt.height,10)+parseInt(tt.borderTopWidth,10)+parseInt(tt.borderBottomWidth,10)===S.offsetHeight,ee.removeChild(L)),it}}))}();var Fi=["Webkit","Moz","ms"],qi=kt.createElement("div").style,Zi={};function Ve(L){return E.cssProps[L]||Zi[L]||(L in qi?L:Zi[L]=function(L){for(var S=L[0].toUpperCase()+L.slice(1),z=Fi.length;z--;)if((L=Fi[z]+S)in qi)return L}(L)||L)}var $i=/^(none|table(?!-c[ea]).+)/,Vi={position:"absolute",visibility:"hidden",display:"block"},Xi={letterSpacing:"0",fontWeight:"400"};function Je(L,S,z){var H=Qt.exec(S);return H?Math.max(0,H[2]-(z||0))+(H[3]||"px"):S}function Ke(L,S,z,H,tt,it){var nt="width"===S?1:0,ot=0,at=0;if(z===(H?"border":"content"))return 0;for(;nt<4;nt+=2)"margin"===z&&(at+=E.css(L,z+te[nt],!0,tt)),H?("content"===z&&(at-=E.css(L,"padding"+te[nt],!0,tt)),"margin"!==z&&(at-=E.css(L,"border"+te[nt]+"Width",!0,tt))):(at+=E.css(L,"padding"+te[nt],!0,tt),"padding"!==z?at+=E.css(L,"border"+te[nt]+"Width",!0,tt):ot+=E.css(L,"border"+te[nt]+"Width",!0,tt));return!H&&0<=it&&(at+=Math.max(0,Math.ceil(L["offset"+S[0].toUpperCase()+S.slice(1)]-it-at-ot-.5))||0),at}function Ze(L,S,z){var H=Me(L),tt=(!xt.boxSizingReliable()||z)&&"border-box"===E.css(L,"boxSizing",!1,H),it=tt,nt=Be(L,S,H),ot="offset"+S[0].toUpperCase()+S.slice(1);if(oi.test(nt)){if(!z)return nt;nt="auto"}return(!xt.boxSizingReliable()&&tt||!xt.reliableTrDimensions()&&A(L,"tr")||"auto"===nt||!parseFloat(nt)&&"inline"===E.css(L,"display",!1,H))&&L.getClientRects().length&&(tt="border-box"===E.css(L,"boxSizing",!1,H),(it=ot in L)&&(nt=L[ot])),(nt=parseFloat(nt)||0)+Ke(L,S,z||(tt?"border":"content"),it,H,nt)+"px"}function et(L,S,z,H,tt){return new et.prototype.init(L,S,z,H,tt)}E.extend({cssHooks:{opacity:{get:function(L,S){if(S){var z=Be(L,"opacity");return""===z?"1":z}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(L,S,z,H){if(L&&3!==L.nodeType&&8!==L.nodeType&&L.style){var tt,it,nt,ot=X(S),at=si.test(S),rt=L.style;if(at||(S=Ve(ot)),nt=E.cssHooks[S]||E.cssHooks[ot],void 0===z)return nt&&"get"in nt&&void 0!==(tt=nt.get(L,!1,H))?tt:rt[S];"string"==(it=typeof z)&&(tt=Qt.exec(z))&&tt[1]&&(z=se(L,S,tt),it="number"),null!=z&&z==z&&("number"!==it||at||(z+=tt&&tt[3]||(E.cssNumber[ot]?"":"px")),xt.clearCloneStyle||""!==z||0!==S.indexOf("background")||(rt[S]="inherit"),nt&&"set"in nt&&void 0===(z=nt.set(L,z,H))||(at?rt.setProperty(S,z):rt[S]=z))}},css:function(L,S,z,H){var tt,it,nt,ot=X(S);return si.test(S)||(S=Ve(ot)),(nt=E.cssHooks[S]||E.cssHooks[ot])&&"get"in nt&&(tt=nt.get(L,!0,z)),void 0===tt&&(tt=Be(L,S,H)),"normal"===tt&&S in Xi&&(tt=Xi[S]),""===z||z?(it=parseFloat(tt),!0===z||isFinite(it)?it||0:tt):tt}}),E.each(["height","width"],(function(L,S){E.cssHooks[S]={get:function(L,z,H){if(z)return!$i.test(E.css(L,"display"))||L.getClientRects().length&&L.getBoundingClientRect().width?Ze(L,S,H):Ie(L,Vi,(function(){return Ze(L,S,H)}))},set:function(L,z,H){var tt,it=Me(L),nt=!xt.scrollboxSize()&&"absolute"===it.position,ot=(nt||H)&&"border-box"===E.css(L,"boxSizing",!1,it),at=H?Ke(L,S,H,ot,it):0;return ot&&nt&&(at-=Math.ceil(L["offset"+S[0].toUpperCase()+S.slice(1)]-parseFloat(it[S])-Ke(L,S,"border",!1,it)-.5)),at&&(tt=Qt.exec(z))&&"px"!==(tt[3]||"px")&&(L.style[S]=z,z=E.css(L,S)),Je(0,z,at)}}})),E.cssHooks.marginLeft=_e(xt.reliableMarginLeft,(function(L,S){if(S)return(parseFloat(Be(L,"marginLeft"))||L.getBoundingClientRect().left-Ie(L,{marginLeft:0},(function(){return L.getBoundingClientRect().left})))+"px"})),E.each({margin:"",padding:"",border:"Width"},(function(L,S){E.cssHooks[L+S]={expand:function(z){for(var H=0,tt={},it="string"==typeof z?z.split(" "):[z];H<4;H++)tt[L+te[H]+S]=it[H]||it[H-2]||it[0];return tt}},"margin"!==L&&(E.cssHooks[L+S].set=Je)})),E.fn.extend({css:function(L,S){return B(this,(function(L,S,z){var H,tt,it={},nt=0;if(Array.isArray(S)){for(H=Me(L),tt=S.length;nt<tt;nt++)it[S[nt]]=E.css(L,S[nt],!1,H);return it}return void 0!==z?E.style(L,S,z):E.css(L,S)}),L,S,1<arguments.length)}}),((E.Tween=et).prototype={constructor:et,init:function(L,S,z,H,tt,it){this.elem=L,this.prop=z,this.easing=tt||E.easing._default,this.options=S,this.start=this.now=this.cur(),this.end=H,this.unit=it||(E.cssNumber[z]?"":"px")},cur:function(){var L=et.propHooks[this.prop];return L&&L.get?L.get(this):et.propHooks._default.get(this)},run:function(L){var S,z=et.propHooks[this.prop];return this.options.duration?this.pos=S=E.easing[this.easing](L,this.options.duration*L,0,1,this.options.duration):this.pos=S=L,this.now=(this.end-this.start)*S+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),z&&z.set?z.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(L){var S;return 1!==L.elem.nodeType||null!=L.elem[L.prop]&&null==L.elem.style[L.prop]?L.elem[L.prop]:(S=E.css(L.elem,L.prop,""))&&"auto"!==S?S:0},set:function(L){E.fx.step[L.prop]?E.fx.step[L.prop](L):1!==L.elem.nodeType||!E.cssHooks[L.prop]&&null==L.elem.style[Ve(L.prop)]?L.elem[L.prop]=L.now:E.style(L.elem,L.prop,L.now+L.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(L){L.elem.nodeType&&L.elem.parentNode&&(L.elem[L.prop]=L.now)}},E.easing={linear:function(L){return L},swing:function(L){return.5-Math.cos(L*Math.PI)/2},_default:"swing"},E.fx=et.prototype.init,E.fx.step={};var Ji,sn,cn,hn,un=/^(?:toggle|show|hide)$/,dn=/queueHooks$/;function st(){sn&&(!1===kt.hidden&&H.requestAnimationFrame?H.requestAnimationFrame(st):H.setTimeout(st,E.fx.interval),E.fx.tick())}function ut(){return H.setTimeout((function(){Ji=void 0})),Ji=Date.now()}function lt(L,S){var z,H=0,tt={height:L};for(S=S?1:0;H<4;H+=2-S)tt["margin"+(z=te[H])]=tt["padding"+z]=L;return S&&(tt.opacity=tt.width=L),tt}function ct(L,S,z){for(var H,tt=(ft.tweeners[S]||[]).concat(ft.tweeners["*"]),it=0,nt=tt.length;it<nt;it++)if(H=tt[it].call(z,S,L))return H}function ft(L,S,z){var H,tt,it=0,nt=ft.prefilters.length,ot=E.Deferred().always((function(){delete u.elem})),u=function(){if(tt)return!1;for(var S=Ji||ut(),z=Math.max(0,at.startTime+at.duration-S),H=1-(z/at.duration||0),it=0,nt=at.tweens.length;it<nt;it++)at.tweens[it].run(H);return ot.notifyWith(L,[at,H,z]),H<1&&nt?z:(nt||ot.notifyWith(L,[at,1,0]),ot.resolveWith(L,[at]),!1)},at=ot.promise({elem:L,props:E.extend({},S),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},z),originalProperties:S,originalOptions:z,startTime:Ji||ut(),duration:z.duration,tweens:[],createTween:function(S,z){var H=E.Tween(L,at.opts,S,z,at.opts.specialEasing[S]||at.opts.easing);return at.tweens.push(H),H},stop:function(S){var z=0,H=S?at.tweens.length:0;if(tt)return this;for(tt=!0;z<H;z++)at.tweens[z].run(1);return S?(ot.notifyWith(L,[at,1,0]),ot.resolveWith(L,[at,S])):ot.rejectWith(L,[at,S]),this}}),rt=at.props;for(function(L,S){var z,H,tt,it,nt;for(z in L)if(tt=S[H=X(z)],it=L[z],Array.isArray(it)&&(tt=it[1],it=L[z]=it[0]),z!==H&&(L[H]=it,delete L[z]),(nt=E.cssHooks[H])&&"expand"in nt)for(z in it=nt.expand(it),delete L[H],it)z in L||(L[z]=it[z],S[z]=tt);else S[H]=tt}(rt,at.opts.specialEasing);it<nt;it++)if(H=ft.prefilters[it].call(at,L,rt,at.opts))return m(H.stop)&&(E._queueHooks(at.elem,at.opts.queue).stop=H.stop.bind(H)),H;return E.map(rt,ct,at),m(at.opts.start)&&at.opts.start.call(L,at),at.progress(at.opts.progress).done(at.opts.done,at.opts.complete).fail(at.opts.fail).always(at.opts.always),E.fx.timer(E.extend(u,{elem:L,anim:at,queue:at.opts.queue})),at}E.Animation=E.extend(ft,{tweeners:{"*":[function(L,S){var z=this.createTween(L,S);return se(z.elem,L,Qt.exec(S),z),z}]},tweener:function(L,S){m(L)?(S=L,L=["*"]):L=L.match(Ot);for(var z,H=0,tt=L.length;H<tt;H++)z=L[H],ft.tweeners[z]=ft.tweeners[z]||[],ft.tweeners[z].unshift(S)},prefilters:[function(L,S,z){var H,tt,it,nt,ot,at,rt,ht,dt="width"in S||"height"in S,pt=this,gt={},_t=L.style,bt=L.nodeType&&ae(L),xt=Wt.get(L,"fxshow");for(H in z.queue||(null==(nt=E._queueHooks(L,"fx")).unqueued&&(nt.unqueued=0,ot=nt.empty.fire,nt.empty.fire=function(){nt.unqueued||ot()}),nt.unqueued++,pt.always((function(){pt.always((function(){nt.unqueued--,E.queue(L,"fx").length||nt.empty.fire()}))}))),S)if(tt=S[H],un.test(tt)){if(delete S[H],it=it||"toggle"===tt,tt===(bt?"hide":"show")){if("show"!==tt||!xt||void 0===xt[H])continue;bt=!0}gt[H]=xt&&xt[H]||E.style(L,H)}if((at=!E.isEmptyObject(S))||!E.isEmptyObject(gt))for(H in dt&&1===L.nodeType&&(z.overflow=[_t.overflow,_t.overflowX,_t.overflowY],null==(rt=xt&&xt.display)&&(rt=Wt.get(L,"display")),"none"===(ht=E.css(L,"display"))&&(rt?ht=rt:(le([L],!0),rt=L.style.display||rt,ht=E.css(L,"display"),le([L]))),("inline"===ht||"inline-block"===ht&&null!=rt)&&"none"===E.css(L,"float")&&(at||(pt.done((function(){_t.display=rt})),null==rt&&(ht=_t.display,rt="none"===ht?"":ht)),_t.display="inline-block")),z.overflow&&(_t.overflow="hidden",pt.always((function(){_t.overflow=z.overflow[0],_t.overflowX=z.overflow[1],_t.overflowY=z.overflow[2]}))),at=!1,gt)at||(xt?"hidden"in xt&&(bt=xt.hidden):xt=Wt.access(L,"fxshow",{display:rt}),it&&(xt.hidden=!bt),bt&&le([L],!0),pt.done((function(){for(H in bt||le([L]),Wt.remove(L,"fxshow"),gt)E.style(L,H,gt[H])}))),at=ct(bt?xt[H]:0,H,pt),H in xt||(xt[H]=at.start,bt&&(at.end=at.start,at.start=0))}],prefilter:function(L,S){S?ft.prefilters.unshift(L):ft.prefilters.push(L)}}),E.speed=function(L,S,z){var H=L&&"object"==typeof L?E.extend({},L):{complete:z||!z&&S||m(L)&&L,duration:L,easing:z&&S||S&&!m(S)&&S};return E.fx.off?H.duration=0:"number"!=typeof H.duration&&(H.duration in E.fx.speeds?H.duration=E.fx.speeds[H.duration]:H.duration=E.fx.speeds._default),null!=H.queue&&!0!==H.queue||(H.queue="fx"),H.old=H.complete,H.complete=function(){m(H.old)&&H.old.call(this),H.queue&&E.dequeue(this,H.queue)},H},E.fn.extend({fadeTo:function(L,S,z,H){return this.filter(ae).css("opacity",0).show().end().animate({opacity:S},L,z,H)},animate:function(L,S,z,H){var tt=E.isEmptyObject(L),it=E.speed(S,z,H),a=function(){var S=ft(this,E.extend({},L),it);(tt||Wt.get(this,"finish"))&&S.stop(!0)};return a.finish=a,tt||!1===it.queue?this.each(a):this.queue(it.queue,a)},stop:function(L,S,z){var a=function(L){var S=L.stop;delete L.stop,S(z)};return"string"!=typeof L&&(z=S,S=L,L=void 0),S&&this.queue(L||"fx",[]),this.each((function(){var S=!0,H=null!=L&&L+"queueHooks",tt=E.timers,it=Wt.get(this);if(H)it[H]&&it[H].stop&&a(it[H]);else for(H in it)it[H]&&it[H].stop&&dn.test(H)&&a(it[H]);for(H=tt.length;H--;)tt[H].elem!==this||null!=L&&tt[H].queue!==L||(tt[H].anim.stop(z),S=!1,tt.splice(H,1));!S&&z||E.dequeue(this,L)}))},finish:function(L){return!1!==L&&(L=L||"fx"),this.each((function(){var S,z=Wt.get(this),H=z[L+"queue"],tt=z[L+"queueHooks"],it=E.timers,nt=H?H.length:0;for(z.finish=!0,E.queue(this,L,[]),tt&&tt.stop&&tt.stop.call(this,!0),S=it.length;S--;)it[S].elem===this&&it[S].queue===L&&(it[S].anim.stop(!0),it.splice(S,1));for(S=0;S<nt;S++)H[S]&&H[S].finish&&H[S].finish.call(this);delete z.finish}))}}),E.each(["toggle","show","hide"],(function(L,S){var z=E.fn[S];E.fn[S]=function(L,H,tt){return null==L||"boolean"==typeof L?z.apply(this,arguments):this.animate(lt(S,!0),L,H,tt)}})),E.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(L,S){E.fn[L]=function(L,z,H){return this.animate(S,L,z,H)}})),E.timers=[],E.fx.tick=function(){var L,S=0,z=E.timers;for(Ji=Date.now();S<z.length;S++)(L=z[S])()||z[S]!==L||z.splice(S--,1);z.length||E.fx.stop(),Ji=void 0},E.fx.timer=function(L){E.timers.push(L),E.fx.start()},E.fx.interval=13,E.fx.start=function(){sn||(sn=!0,st())},E.fx.stop=function(){sn=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(L,S){return L=E.fx&&E.fx.speeds[L]||L,S=S||"fx",this.queue(S,(function(S,z){var tt=H.setTimeout(S,L);z.stop=function(){H.clearTimeout(tt)}}))},cn=kt.createElement("input"),hn=kt.createElement("select").appendChild(kt.createElement("option")),cn.type="checkbox",xt.checkOn=""!==cn.value,xt.optSelected=hn.selected,(cn=kt.createElement("input")).value="t",cn.type="radio",xt.radioValue="t"===cn.value;var mn,gn=E.expr.attrHandle;E.fn.extend({attr:function(L,S){return B(this,E.attr,L,S,1<arguments.length)},removeAttr:function(L){return this.each((function(){E.removeAttr(this,L)}))}}),E.extend({attr:function(L,S,z){var H,tt,it=L.nodeType;if(3!==it&&8!==it&&2!==it)return void 0===L.getAttribute?E.prop(L,S,z):(1===it&&E.isXMLDoc(L)||(tt=E.attrHooks[S.toLowerCase()]||(E.expr.match.bool.test(S)?mn:void 0)),void 0!==z?null===z?void E.removeAttr(L,S):tt&&"set"in tt&&void 0!==(H=tt.set(L,z,S))?H:(L.setAttribute(S,z+""),z):tt&&"get"in tt&&null!==(H=tt.get(L,S))?H:null==(H=E.find.attr(L,S))?void 0:H)},attrHooks:{type:{set:function(L,S){if(!xt.radioValue&&"radio"===S&&A(L,"input")){var z=L.value;return L.setAttribute("type",S),z&&(L.value=z),S}}}},removeAttr:function(L,S){var z,H=0,tt=S&&S.match(Ot);if(tt&&1===L.nodeType)for(;z=tt[H++];)L.removeAttribute(z)}}),mn={set:function(L,S,z){return!1===S?E.removeAttr(L,z):L.setAttribute(z,z),z}},E.each(E.expr.match.bool.source.match(/\w+/g),(function(L,S){var z=gn[S]||E.find.attr;gn[S]=function(L,S,H){var tt,it,nt=S.toLowerCase();return H||(it=gn[nt],gn[nt]=tt,tt=null!=z(L,S,H)?nt:null,gn[nt]=it),tt}}));var vn=/^(?:input|select|textarea|button)$/i,bn=/^(?:a|area)$/i;function yt(L){return(L.match(Ot)||[]).join(" ")}function vt(L){return L.getAttribute&&L.getAttribute("class")||""}function mt(L){return Array.isArray(L)?L:"string"==typeof L&&L.match(Ot)||[]}E.fn.extend({prop:function(L,S){return B(this,E.prop,L,S,1<arguments.length)},removeProp:function(L){return this.each((function(){delete this[E.propFix[L]||L]}))}}),E.extend({prop:function(L,S,z){var H,tt,it=L.nodeType;if(3!==it&&8!==it&&2!==it)return 1===it&&E.isXMLDoc(L)||(S=E.propFix[S]||S,tt=E.propHooks[S]),void 0!==z?tt&&"set"in tt&&void 0!==(H=tt.set(L,z,S))?H:L[S]=z:tt&&"get"in tt&&null!==(H=tt.get(L,S))?H:L[S]},propHooks:{tabIndex:{get:function(L){var S=E.find.attr(L,"tabindex");return S?parseInt(S,10):vn.test(L.nodeName)||bn.test(L.nodeName)&&L.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),xt.optSelected||(E.propHooks.selected={get:function(L){var S=L.parentNode;return S&&S.parentNode&&S.parentNode.selectedIndex,null},set:function(L){var S=L.parentNode;S&&(S.selectedIndex,S.parentNode&&S.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){E.propFix[this.toLowerCase()]=this})),E.fn.extend({addClass:function(L){var S,z,H,tt,it,nt;return m(L)?this.each((function(S){E(this).addClass(L.call(this,S,vt(this)))})):(S=mt(L)).length?this.each((function(){if(H=vt(this),z=1===this.nodeType&&" "+yt(H)+" "){for(it=0;it<S.length;it++)tt=S[it],z.indexOf(" "+tt+" ")<0&&(z+=tt+" ");nt=yt(z),H!==nt&&this.setAttribute("class",nt)}})):this},removeClass:function(L){var S,z,H,tt,it,nt;return m(L)?this.each((function(S){E(this).removeClass(L.call(this,S,vt(this)))})):arguments.length?(S=mt(L)).length?this.each((function(){if(H=vt(this),z=1===this.nodeType&&" "+yt(H)+" "){for(it=0;it<S.length;it++)for(tt=S[it];-1<z.indexOf(" "+tt+" ");)z=z.replace(" "+tt+" "," ");nt=yt(z),H!==nt&&this.setAttribute("class",nt)}})):this:this.attr("class","")},toggleClass:function(L,S){var z,H,tt,it,nt=typeof L,ot="string"===nt||Array.isArray(L);return m(L)?this.each((function(z){E(this).toggleClass(L.call(this,z,vt(this),S),S)})):"boolean"==typeof S&&ot?S?this.addClass(L):this.removeClass(L):(z=mt(L),this.each((function(){if(ot)for(it=E(this),tt=0;tt<z.length;tt++)H=z[tt],it.hasClass(H)?it.removeClass(H):it.addClass(H);else void 0!==L&&"boolean"!==nt||((H=vt(this))&&Wt.set(this,"__className__",H),this.setAttribute&&this.setAttribute("class",H||!1===L?"":Wt.get(this,"__className__")||""))})))},hasClass:function(L){var S,z,H=0;for(S=" "+L+" ";z=this[H++];)if(1===z.nodeType&&-1<(" "+yt(vt(z))+" ").indexOf(S))return!0;return!1}});var xn=/\r/g;E.fn.extend({val:function(L){var S,z,H,tt=this[0];return arguments.length?(H=m(L),this.each((function(z){var tt;1===this.nodeType&&(null==(tt=H?L.call(this,z,E(this).val()):L)?tt="":"number"==typeof tt?tt+="":Array.isArray(tt)&&(tt=E.map(tt,(function(L){return null==L?"":L+""}))),(S=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in S&&void 0!==S.set(this,tt,"value")||(this.value=tt))}))):tt?(S=E.valHooks[tt.type]||E.valHooks[tt.nodeName.toLowerCase()])&&"get"in S&&void 0!==(z=S.get(tt,"value"))?z:"string"==typeof(z=tt.value)?z.replace(xn,""):null==z?"":z:void 0}}),E.extend({valHooks:{option:{get:function(L){var S=E.find.attr(L,"value");return null!=S?S:yt(E.text(L))}},select:{get:function(L){var S,z,H,tt=L.options,it=L.selectedIndex,nt="select-one"===L.type,ot=nt?null:[],at=nt?it+1:tt.length;for(H=it<0?at:nt?it:0;H<at;H++)if(((z=tt[H]).selected||H===it)&&!z.disabled&&(!z.parentNode.disabled||!A(z.parentNode,"optgroup"))){if(S=E(z).val(),nt)return S;ot.push(S)}return ot},set:function(L,S){for(var z,H,tt=L.options,it=E.makeArray(S),nt=tt.length;nt--;)((H=tt[nt]).selected=-1<E.inArray(E.valHooks.option.get(H),it))&&(z=!0);return z||(L.selectedIndex=-1),it}}}}),E.each(["radio","checkbox"],(function(){E.valHooks[this]={set:function(L,S){if(Array.isArray(S))return L.checked=-1<E.inArray(E(L).val(),S)}},xt.checkOn||(E.valHooks[this].get=function(L){return null===L.getAttribute("value")?"on":L.value})})),xt.focusin="onfocusin"in H;var Cn=/^(?:focusinfocus|focusoutblur)$/,wt=function(L){L.stopPropagation()};E.extend(E.event,{trigger:function(L,S,z,tt){var it,nt,ot,at,rt,ht,dt,pt,_t=[z||kt],bt=gt.call(L,"type")?L.type:L,xt=gt.call(L,"namespace")?L.namespace.split("."):[];if(nt=pt=ot=z=z||kt,3!==z.nodeType&&8!==z.nodeType&&!Cn.test(bt+E.event.triggered)&&(-1<bt.indexOf(".")&&(bt=(xt=bt.split(".")).shift(),xt.sort()),rt=bt.indexOf(":")<0&&"on"+bt,(L=L[E.expando]?L:new E.Event(bt,"object"==typeof L&&L)).isTrigger=tt?2:3,L.namespace=xt.join("."),L.rnamespace=L.namespace?new RegExp("(^|\\.)"+xt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,L.result=void 0,L.target||(L.target=z),S=null==S?[L]:E.makeArray(S,[L]),dt=E.event.special[bt]||{},tt||!dt.trigger||!1!==dt.trigger.apply(z,S))){if(!tt&&!dt.noBubble&&!x(z)){for(at=dt.delegateType||bt,Cn.test(at+bt)||(nt=nt.parentNode);nt;nt=nt.parentNode)_t.push(nt),ot=nt;ot===(z.ownerDocument||kt)&&_t.push(ot.defaultView||ot.parentWindow||H)}for(it=0;(nt=_t[it++])&&!L.isPropagationStopped();)pt=nt,L.type=1<it?at:dt.bindType||bt,(ht=(Wt.get(nt,"events")||Object.create(null))[L.type]&&Wt.get(nt,"handle"))&&ht.apply(nt,S),(ht=rt&&nt[rt])&&ht.apply&&V(nt)&&(L.result=ht.apply(nt,S),!1===L.result&&L.preventDefault());return L.type=bt,tt||L.isDefaultPrevented()||dt._default&&!1!==dt._default.apply(_t.pop(),S)||!V(z)||rt&&m(z[bt])&&!x(z)&&((ot=z[rt])&&(z[rt]=null),E.event.triggered=bt,L.isPropagationStopped()&&pt.addEventListener(bt,wt),z[bt](),L.isPropagationStopped()&&pt.removeEventListener(bt,wt),E.event.triggered=void 0,ot&&(z[rt]=ot)),L.result}},simulate:function(L,S,z){var H=E.extend(new E.Event,z,{type:L,isSimulated:!0});E.event.trigger(H,null,S)}}),E.fn.extend({trigger:function(L,S){return this.each((function(){E.event.trigger(L,S,this)}))},triggerHandler:function(L,S){var z=this[0];if(z)return E.event.trigger(L,S,z,!0)}}),xt.focusin||E.each({focus:"focusin",blur:"focusout"},(function(L,S){var i=function(L){E.event.simulate(S,L.target,E.event.fix(L))};E.event.special[S]={setup:function(){var z=this.ownerDocument||this.document||this,H=Wt.access(z,S);H||z.addEventListener(L,i,!0),Wt.access(z,S,(H||0)+1)},teardown:function(){var z=this.ownerDocument||this.document||this,H=Wt.access(z,S)-1;H?Wt.access(z,S,H):(z.removeEventListener(L,i,!0),Wt.remove(z,S))}}}));var Ln=H.location,Sn={guid:Date.now()},On=/\?/;E.parseXML=function(L){var S,z;if(!L||"string"!=typeof L)return null;try{S=(new H.DOMParser).parseFromString(L,"text/xml")}catch(L){}return z=S&&S.getElementsByTagName("parsererror")[0],S&&!z||E.error("Invalid XML: "+(z?E.map(z.childNodes,(function(L){return L.textContent})).join("\n"):L)),S};var Hn=/\[\]$/,Wn=/\r?\n/g,Gn=/^(?:submit|button|image|reset|file)$/i,$n=/^(?:input|select|textarea|keygen)/i;function jt(L,S,z,H){var tt;if(Array.isArray(S))E.each(S,(function(S,tt){z||Hn.test(L)?H(L,tt):jt(L+"["+("object"==typeof tt&&null!=tt?S:"")+"]",tt,z,H)}));else if(z||"object"!==w(S))H(L,S);else for(tt in S)jt(L+"["+tt+"]",S[tt],z,H)}E.param=function(L,S){var z,H=[],i=function(L,S){var z=m(S)?S():S;H[H.length]=encodeURIComponent(L)+"="+encodeURIComponent(null==z?"":z)};if(null==L)return"";if(Array.isArray(L)||L.jquery&&!E.isPlainObject(L))E.each(L,(function(){i(this.name,this.value)}));else for(z in L)jt(z,L[z],S,i);return H.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var L=E.prop(this,"elements");return L?E.makeArray(L):this})).filter((function(){var L=this.type;return this.name&&!E(this).is(":disabled")&&$n.test(this.nodeName)&&!Gn.test(L)&&(this.checked||!Ne.test(L))})).map((function(L,S){var z=E(this).val();return null==z?null:Array.isArray(z)?E.map(z,(function(L){return{name:S.name,value:L.replace(Wn,"\r\n")}})):{name:S.name,value:z.replace(Wn,"\r\n")}})).get()}});var Yn=/%20/g,Kn=/#.*$/,Xn=/([?&])_=[^&]*/,Jn=/^(.*?):[ \t]*([^\r\n]*)$/gm,to=/^(?:GET|HEAD)$/,eo=/^\/\//,io={},no={},oo="*/".concat("*"),so=kt.createElement("a");function Ft(L){return function(S,z){"string"!=typeof S&&(z=S,S="*");var H,tt=0,it=S.toLowerCase().match(Ot)||[];if(m(z))for(;H=it[tt++];)"+"===H[0]?(H=H.slice(1)||"*",(L[H]=L[H]||[]).unshift(z)):(L[H]=L[H]||[]).push(z)}}function $t(L,S,z,H){var tt={},it=L===no;function l(nt){var ot;return tt[nt]=!0,E.each(L[nt]||[],(function(L,nt){var at=nt(S,z,H);return"string"!=typeof at||it||tt[at]?it?!(ot=at):void 0:(S.dataTypes.unshift(at),l(at),!1)})),ot}return l(S.dataTypes[0])||!tt["*"]&&l("*")}function Bt(L,S){var z,H,tt=E.ajaxSettings.flatOptions||{};for(z in S)void 0!==S[z]&&((tt[z]?L:H||(H={}))[z]=S[z]);return H&&E.extend(!0,L,H),L}so.href=Ln.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ln.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ln.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":oo,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(L,S){return S?Bt(Bt(L,E.ajaxSettings),S):Bt(E.ajaxSettings,L)},ajaxPrefilter:Ft(io),ajaxTransport:Ft(no),ajax:function(L,S){"object"==typeof L&&(S=L,L=void 0),S=S||{};var z,tt,it,nt,ot,at,rt,ht,dt,pt,gt=E.ajaxSetup({},S),_t=gt.context||gt,bt=gt.context&&(_t.nodeType||_t.jquery)?E(_t):E.event,xt=E.Deferred(),Ct=E.Callbacks("once memory"),Lt=gt.statusCode||{},Tt={},Et={},Mt="canceled",Pt={readyState:0,getResponseHeader:function(L){var S;if(rt){if(!nt)for(nt={};S=Jn.exec(it);)nt[S[1].toLowerCase()+" "]=(nt[S[1].toLowerCase()+" "]||[]).concat(S[2]);S=nt[L.toLowerCase()+" "]}return null==S?null:S.join(", ")},getAllResponseHeaders:function(){return rt?it:null},setRequestHeader:function(L,S){return null==rt&&(L=Et[L.toLowerCase()]=Et[L.toLowerCase()]||L,Tt[L]=S),this},overrideMimeType:function(L){return null==rt&&(gt.mimeType=L),this},statusCode:function(L){var S;if(L)if(rt)Pt.always(L[Pt.status]);else for(S in L)Lt[S]=[Lt[S],L[S]];return this},abort:function(L){var S=L||Mt;return z&&z.abort(S),l(0,S),this}};if(xt.promise(Pt),gt.url=((L||gt.url||Ln.href)+"").replace(eo,Ln.protocol+"//"),gt.type=S.method||S.type||gt.method||gt.type,gt.dataTypes=(gt.dataType||"*").toLowerCase().match(Ot)||[""],null==gt.crossDomain){at=kt.createElement("a");try{at.href=gt.url,at.href=at.href,gt.crossDomain=so.protocol+"//"+so.host!=at.protocol+"//"+at.host}catch(L){gt.crossDomain=!0}}if(gt.data&&gt.processData&&"string"!=typeof gt.data&&(gt.data=E.param(gt.data,gt.traditional)),$t(io,gt,S,Pt),rt)return Pt;for(dt in(ht=E.event&&gt.global)&&0==E.active++&&E.event.trigger("ajaxStart"),gt.type=gt.type.toUpperCase(),gt.hasContent=!to.test(gt.type),tt=gt.url.replace(Kn,""),gt.hasContent?gt.data&&gt.processData&&0===(gt.contentType||"").indexOf("application/x-www-form-urlencoded")&&(gt.data=gt.data.replace(Yn,"+")):(pt=gt.url.slice(tt.length),gt.data&&(gt.processData||"string"==typeof gt.data)&&(tt+=(On.test(tt)?"&":"?")+gt.data,delete gt.data),!1===gt.cache&&(tt=tt.replace(Xn,"$1"),pt=(On.test(tt)?"&":"?")+"_="+Sn.guid+++pt),gt.url=tt+pt),gt.ifModified&&(E.lastModified[tt]&&Pt.setRequestHeader("If-Modified-Since",E.lastModified[tt]),E.etag[tt]&&Pt.setRequestHeader("If-None-Match",E.etag[tt])),(gt.data&&gt.hasContent&&!1!==gt.contentType||S.contentType)&&Pt.setRequestHeader("Content-Type",gt.contentType),Pt.setRequestHeader("Accept",gt.dataTypes[0]&&gt.accepts[gt.dataTypes[0]]?gt.accepts[gt.dataTypes[0]]+("*"!==gt.dataTypes[0]?", "+oo+"; q=0.01":""):gt.accepts["*"]),gt.headers)Pt.setRequestHeader(dt,gt.headers[dt]);if(gt.beforeSend&&(!1===gt.beforeSend.call(_t,Pt,gt)||rt))return Pt.abort();if(Mt="abort",Ct.add(gt.complete),Pt.done(gt.success),Pt.fail(gt.error),z=$t(no,gt,S,Pt)){if(Pt.readyState=1,ht&&bt.trigger("ajaxSend",[Pt,gt]),rt)return Pt;gt.async&&0<gt.timeout&&(ot=H.setTimeout((function(){Pt.abort("timeout")}),gt.timeout));try{rt=!1,z.send(Tt,l)}catch(L){if(rt)throw L;l(-1,L)}}else l(-1,"No Transport");function l(L,S,nt,at){var dt,pt,kt,Tt,Et,Mt=S;rt||(rt=!0,ot&&H.clearTimeout(ot),z=void 0,it=at||"",Pt.readyState=0<L?4:0,dt=200<=L&&L<300||304===L,nt&&(Tt=function(L,S,z){for(var H,tt,it,nt,ot=L.contents,at=L.dataTypes;"*"===at[0];)at.shift(),void 0===H&&(H=L.mimeType||S.getResponseHeader("Content-Type"));if(H)for(tt in ot)if(ot[tt]&&ot[tt].test(H)){at.unshift(tt);break}if(at[0]in z)it=at[0];else{for(tt in z){if(!at[0]||L.converters[tt+" "+at[0]]){it=tt;break}nt||(nt=tt)}it=it||nt}if(it)return it!==at[0]&&at.unshift(it),z[it]}(gt,Pt,nt)),!dt&&-1<E.inArray("script",gt.dataTypes)&&E.inArray("json",gt.dataTypes)<0&&(gt.converters["text script"]=function(){}),Tt=function(L,S,z,H){var tt,it,nt,ot,at,rt={},ht=L.dataTypes.slice();if(ht[1])for(nt in L.converters)rt[nt.toLowerCase()]=L.converters[nt];for(it=ht.shift();it;)if(L.responseFields[it]&&(z[L.responseFields[it]]=S),!at&&H&&L.dataFilter&&(S=L.dataFilter(S,L.dataType)),at=it,it=ht.shift())if("*"===it)it=at;else if("*"!==at&&at!==it){if(!(nt=rt[at+" "+it]||rt["* "+it]))for(tt in rt)if((ot=tt.split(" "))[1]===it&&(nt=rt[at+" "+ot[0]]||rt["* "+ot[0]])){!0===nt?nt=rt[tt]:!0!==rt[tt]&&(it=ot[0],ht.unshift(ot[1]));break}if(!0!==nt)if(nt&&L.throws)S=nt(S);else try{S=nt(S)}catch(L){return{state:"parsererror",error:nt?L:"No conversion from "+at+" to "+it}}}return{state:"success",data:S}}(gt,Tt,Pt,dt),dt?(gt.ifModified&&((Et=Pt.getResponseHeader("Last-Modified"))&&(E.lastModified[tt]=Et),(Et=Pt.getResponseHeader("etag"))&&(E.etag[tt]=Et)),204===L||"HEAD"===gt.type?Mt="nocontent":304===L?Mt="notmodified":(Mt=Tt.state,pt=Tt.data,dt=!(kt=Tt.error))):(kt=Mt,!L&&Mt||(Mt="error",L<0&&(L=0))),Pt.status=L,Pt.statusText=(S||Mt)+"",dt?xt.resolveWith(_t,[pt,Mt,Pt]):xt.rejectWith(_t,[Pt,Mt,kt]),Pt.statusCode(Lt),Lt=void 0,ht&&bt.trigger(dt?"ajaxSuccess":"ajaxError",[Pt,gt,dt?pt:kt]),Ct.fireWith(_t,[Pt,Mt]),ht&&(bt.trigger("ajaxComplete",[Pt,gt]),--E.active||E.event.trigger("ajaxStop")))}return Pt},getJSON:function(L,S,z){return E.get(L,S,z,"json")},getScript:function(L,S){return E.get(L,void 0,S,"script")}}),E.each(["get","post"],(function(L,S){E[S]=function(L,z,H,tt){return m(z)&&(tt=tt||H,H=z,z=void 0),E.ajax(E.extend({url:L,type:S,dataType:tt,data:z,success:H},E.isPlainObject(L)&&L))}})),E.ajaxPrefilter((function(L){var S;for(S in L.headers)"content-type"===S.toLowerCase()&&(L.contentType=L.headers[S]||"")})),E._evalUrl=function(L,S,z){return E.ajax({url:L,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(L){E.globalEval(L,S,z)}})},E.fn.extend({wrapAll:function(L){var S;return this[0]&&(m(L)&&(L=L.call(this[0])),S=E(L,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&S.insertBefore(this[0]),S.map((function(){for(var L=this;L.firstElementChild;)L=L.firstElementChild;return L})).append(this)),this},wrapInner:function(L){return m(L)?this.each((function(S){E(this).wrapInner(L.call(this,S))})):this.each((function(){var S=E(this),z=S.contents();z.length?z.wrapAll(L):S.append(L)}))},wrap:function(L){var S=m(L);return this.each((function(z){E(this).wrapAll(S?L.call(this,z):L)}))},unwrap:function(L){return this.parent(L).not("body").each((function(){E(this).replaceWith(this.childNodes)})),this}}),E.expr.pseudos.hidden=function(L){return!E.expr.pseudos.visible(L)},E.expr.pseudos.visible=function(L){return!!(L.offsetWidth||L.offsetHeight||L.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new H.XMLHttpRequest}catch(L){}};var ao={0:200,1223:204},ro=E.ajaxSettings.xhr();xt.cors=!!ro&&"withCredentials"in ro,xt.ajax=ro=!!ro,E.ajaxTransport((function(L){var S,z;if(xt.cors||ro&&!L.crossDomain)return{send:function(tt,it){var nt,ot=L.xhr();if(ot.open(L.type,L.url,L.async,L.username,L.password),L.xhrFields)for(nt in L.xhrFields)ot[nt]=L.xhrFields[nt];for(nt in L.mimeType&&ot.overrideMimeType&&ot.overrideMimeType(L.mimeType),L.crossDomain||tt["X-Requested-With"]||(tt["X-Requested-With"]="XMLHttpRequest"),tt)ot.setRequestHeader(nt,tt[nt]);S=function(L){return function(){S&&(S=z=ot.onload=ot.onerror=ot.onabort=ot.ontimeout=ot.onreadystatechange=null,"abort"===L?ot.abort():"error"===L?"number"!=typeof ot.status?it(0,"error"):it(ot.status,ot.statusText):it(ao[ot.status]||ot.status,ot.statusText,"text"!==(ot.responseType||"text")||"string"!=typeof ot.responseText?{binary:ot.response}:{text:ot.responseText},ot.getAllResponseHeaders()))}},ot.onload=S(),z=ot.onerror=ot.ontimeout=S("error"),void 0!==ot.onabort?ot.onabort=z:ot.onreadystatechange=function(){4===ot.readyState&&H.setTimeout((function(){S&&z()}))},S=S("abort");try{ot.send(L.hasContent&&L.data||null)}catch(tt){if(S)throw tt}},abort:function(){S&&S()}}})),E.ajaxPrefilter((function(L){L.crossDomain&&(L.contents.script=!1)})),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(L){return E.globalEval(L),L}}}),E.ajaxPrefilter("script",(function(L){void 0===L.cache&&(L.cache=!1),L.crossDomain&&(L.type="GET")})),E.ajaxTransport("script",(function(L){var S,z;if(L.crossDomain||L.scriptAttrs)return{send:function(H,tt){S=E("<script>").attr(L.scriptAttrs||{}).prop({charset:L.scriptCharset,src:L.url}).on("load error",z=function(L){S.remove(),z=null,L&&tt("error"===L.type?404:200,L.type)}),kt.head.appendChild(S[0])},abort:function(){z&&z()}}}));var lo,co=[],ho=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var L=co.pop()||E.expando+"_"+Sn.guid++;return this[L]=!0,L}}),E.ajaxPrefilter("json jsonp",(function(L,S,z){var tt,it,nt,ot=!1!==L.jsonp&&(ho.test(L.url)?"url":"string"==typeof L.data&&0===(L.contentType||"").indexOf("application/x-www-form-urlencoded")&&ho.test(L.data)&&"data");if(ot||"jsonp"===L.dataTypes[0])return tt=L.jsonpCallback=m(L.jsonpCallback)?L.jsonpCallback():L.jsonpCallback,ot?L[ot]=L[ot].replace(ho,"$1"+tt):!1!==L.jsonp&&(L.url+=(On.test(L.url)?"&":"?")+L.jsonp+"="+tt),L.converters["script json"]=function(){return nt||E.error(tt+" was not called"),nt[0]},L.dataTypes[0]="json",it=H[tt],H[tt]=function(){nt=arguments},z.always((function(){void 0===it?E(H).removeProp(tt):H[tt]=it,L[tt]&&(L.jsonpCallback=S.jsonpCallback,co.push(tt)),nt&&m(it)&&it(nt[0]),nt=it=void 0})),"script"})),xt.createHTMLDocument=((lo=kt.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===lo.childNodes.length),E.parseHTML=function(L,S,z){return"string"!=typeof L?[]:("boolean"==typeof S&&(z=S,S=!1),S||(xt.createHTMLDocument?((H=(S=kt.implementation.createHTMLDocument("")).createElement("base")).href=kt.location.href,S.head.appendChild(H)):S=kt),it=!z&&[],(tt=Mt.exec(L))?[S.createElement(tt[1])]:(tt=xe([L],S,it),it&&it.length&&E(it).remove(),E.merge([],tt.childNodes)));var H,tt,it},E.fn.load=function(L,S,z){var H,tt,it,nt=this,ot=L.indexOf(" ");return-1<ot&&(H=yt(L.slice(ot)),L=L.slice(0,ot)),m(S)?(z=S,S=void 0):S&&"object"==typeof S&&(tt="POST"),0<nt.length&&E.ajax({url:L,type:tt||"GET",dataType:"html",data:S}).done((function(L){it=arguments,nt.html(H?E("<div>").append(E.parseHTML(L)).find(H):L)})).always(z&&function(L,S){nt.each((function(){z.apply(this,it||[L.responseText,S,L])}))}),this},E.expr.pseudos.animated=function(L){return E.grep(E.timers,(function(S){return L===S.elem})).length},E.offset={setOffset:function(L,S,z){var H,tt,it,nt,ot,at,rt=E.css(L,"position"),ht=E(L),dt={};"static"===rt&&(L.style.position="relative"),ot=ht.offset(),it=E.css(L,"top"),at=E.css(L,"left"),("absolute"===rt||"fixed"===rt)&&-1<(it+at).indexOf("auto")?(nt=(H=ht.position()).top,tt=H.left):(nt=parseFloat(it)||0,tt=parseFloat(at)||0),m(S)&&(S=S.call(L,z,E.extend({},ot))),null!=S.top&&(dt.top=S.top-ot.top+nt),null!=S.left&&(dt.left=S.left-ot.left+tt),"using"in S?S.using.call(L,dt):ht.css(dt)}},E.fn.extend({offset:function(L){if(arguments.length)return void 0===L?this:this.each((function(S){E.offset.setOffset(this,L,S)}));var S,z,H=this[0];return H?H.getClientRects().length?(S=H.getBoundingClientRect(),z=H.ownerDocument.defaultView,{top:S.top+z.pageYOffset,left:S.left+z.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var L,S,z,H=this[0],tt={top:0,left:0};if("fixed"===E.css(H,"position"))S=H.getBoundingClientRect();else{for(S=this.offset(),z=H.ownerDocument,L=H.offsetParent||z.documentElement;L&&(L===z.body||L===z.documentElement)&&"static"===E.css(L,"position");)L=L.parentNode;L&&L!==H&&1===L.nodeType&&((tt=E(L).offset()).top+=E.css(L,"borderTopWidth",!0),tt.left+=E.css(L,"borderLeftWidth",!0))}return{top:S.top-tt.top-E.css(H,"marginTop",!0),left:S.left-tt.left-E.css(H,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var L=this.offsetParent;L&&"static"===E.css(L,"position");)L=L.offsetParent;return L||ee}))}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(L,S){var z="pageYOffset"===S;E.fn[L]=function(H){return B(this,(function(L,H,tt){var it;if(x(L)?it=L:9===L.nodeType&&(it=L.defaultView),void 0===tt)return it?it[S]:L[H];it?it.scrollTo(z?it.pageXOffset:tt,z?tt:it.pageYOffset):L[H]=tt}),L,H,arguments.length)}})),E.each(["top","left"],(function(L,S){E.cssHooks[S]=_e(xt.pixelPosition,(function(L,z){if(z)return z=Be(L,S),oi.test(z)?E(L).position()[S]+"px":z}))})),E.each({Height:"height",Width:"width"},(function(L,S){E.each({padding:"inner"+L,content:S,"":"outer"+L},(function(z,H){E.fn[H]=function(tt,it){var nt=arguments.length&&(z||"boolean"!=typeof tt),ot=z||(!0===tt||!0===it?"margin":"border");return B(this,(function(S,z,tt){var it;return x(S)?0===H.indexOf("outer")?S["inner"+L]:S.document.documentElement["client"+L]:9===S.nodeType?(it=S.documentElement,Math.max(S.body["scroll"+L],it["scroll"+L],S.body["offset"+L],it["offset"+L],it["client"+L])):void 0===tt?E.css(S,z,ot):E.style(S,z,tt,ot)}),S,nt?tt:void 0,nt)}}))})),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(L,S){E.fn[S]=function(L){return this.on(S,L)}})),E.fn.extend({bind:function(L,S,z){return this.on(L,null,S,z)},unbind:function(L,S){return this.off(L,null,S)},delegate:function(L,S,z,H){return this.on(S,L,z,H)},undelegate:function(L,S,z){return 1===arguments.length?this.off(L,"**"):this.off(S,L||"**",z)},hover:function(L,S){return this.mouseenter(L).mouseleave(S||L)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(L,S){E.fn[S]=function(L,z){return 0<arguments.length?this.on(S,null,L,z):this.trigger(S)}}));var uo=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(L,S){var z,H,tt;if("string"==typeof S&&(z=L[S],S=L,L=z),m(L))return H=ot.call(arguments,2),(tt=function(){return L.apply(S||this,H.concat(ot.call(arguments)))}).guid=L.guid=L.guid||E.guid++,tt},E.holdReady=function(L){L?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=A,E.isFunction=m,E.isWindow=x,E.camelCase=X,E.type=w,E.now=Date.now,E.isNumeric=function(L){var S=E.type(L);return("number"===S||"string"===S)&&!isNaN(L-parseFloat(L))},E.trim=function(L){return null==L?"":(L+"").replace(uo,"$1")},void 0===(z=function(){return E}.apply(S,[]))||(L.exports=z);var po=H.jQuery,fo=H.$;return E.noConflict=function(L){return H.$===E&&(H.$=fo),L&&H.jQuery===E&&(H.jQuery=po),E},void 0===tt&&(H.jQuery=H.$=E),E}))},50847:function(L,S,z){var H,tt,it;tt=[z(20198)],H=function(L){function t(S,z){var H,tt,it,nt=S.nodeName.toLowerCase();return"area"===nt?(tt=(H=S.parentNode).name,!(!S.href||!tt||"map"!==H.nodeName.toLowerCase())&&!!(it=L("img[usemap='#"+tt+"']")[0])&&i(it)):(/input|select|textarea|button|object/.test(nt)?!S.disabled:"a"===nt&&S.href||z)&&i(S)}function i(S){return L.expr.filters.visible(S)&&!L(S).parents().addBack().filter((function(){return"hidden"===L.css(this,"visibility")})).length}function s(L){for(var S,z;L.length&&L[0]!==document;){if(("absolute"===(S=L.css("position"))||"relative"===S||"fixed"===S)&&(z=parseInt(L.css("zIndex"),10),!isNaN(z)&&0!==z))return z;L=L.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},L.extend(this._defaults,this.regional[""]),this.regional.en=L.extend(!0,{},this.regional[""]),this.regional["en-US"]=L.extend(!0,{},this.regional.en),this.dpDiv=a(L("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(S){var z="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return S.delegate(z,"mouseout",(function(){L(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&L(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&L(this).removeClass("ui-datepicker-next-hover")})).delegate(z,"mouseover",o)}function o(){L.datepicker._isDisabledDatepicker(it.inline?it.dpDiv.parent()[0]:it.input[0])||(L(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),L(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&L(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&L(this).addClass("ui-datepicker-next-hover"))}function r(S,z){for(var H in L.extend(S,z),z)null==z[H]&&(S[H]=z[H]);return S}function h(L){return function(){var S=this.element.val();L.apply(this,arguments),this._refresh(),S!==this.element.val()&&this._trigger("change")}}L.ui=L.ui||{},L.extend(L.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),L.fn.extend({scrollParent:function(S){var z=this.css("position"),H="absolute"===z,tt=S?/(auto|scroll|hidden)/:/(auto|scroll)/,it=this.parents().filter((function(){var S=L(this);return(!H||"static"!==S.css("position"))&&tt.test(S.css("overflow")+S.css("overflow-y")+S.css("overflow-x"))})).eq(0);return"fixed"!==z&&it.length?it:L(this[0].ownerDocument||document)},uniqueId:function(){var L=0;return function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++L)}))}}(),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&L(this).removeAttr("id")}))}}),L.extend(L.expr[":"],{data:L.expr.createPseudo?L.expr.createPseudo((function(S){return function(z){return!!L.data(z,S)}})):function(S,z,H){return!!L.data(S,H[3])},focusable:function(S){return t(S,!isNaN(L.attr(S,"tabindex")))},tabbable:function(S){var z=L.attr(S,"tabindex"),H=isNaN(z);return(H||z>=0)&&t(S,!H)}}),L("<a>").outerWidth(1).jquery||L.each(["Width","Height"],(function(S,z){function s(S,z,tt,it){return L.each(H,(function(){z-=parseFloat(L.css(S,"padding"+this))||0,tt&&(z-=parseFloat(L.css(S,"border"+this+"Width"))||0),it&&(z-=parseFloat(L.css(S,"margin"+this))||0)})),z}var H="Width"===z?["Left","Right"]:["Top","Bottom"],tt=z.toLowerCase(),it={innerWidth:L.fn.innerWidth,innerHeight:L.fn.innerHeight,outerWidth:L.fn.outerWidth,outerHeight:L.fn.outerHeight};L.fn["inner"+z]=function(S){return void 0===S?it["inner"+z].call(this):this.each((function(){L(this).css(tt,s(this,S)+"px")}))},L.fn["outer"+z]=function(S,H){return"number"!=typeof S?it["outer"+z].call(this,S):this.each((function(){L(this).css(tt,s(this,S,!0,H)+"px")}))}})),L.fn.addBack||(L.fn.addBack=function(L){return this.add(null==L?this.prevObject:this.prevObject.filter(L))}),L("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(L.fn.removeData=function(S){return function(z){return arguments.length?S.call(this,L.camelCase(z)):S.call(this)}}(L.fn.removeData)),L.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),L.fn.extend({focus:function(S){return function(z,H){return"number"==typeof z?this.each((function(){var S=this;setTimeout((function(){L(S).focus(),H&&H.call(S)}),z)})):S.apply(this,arguments)}}(L.fn.focus),disableSelection:function(){var L="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(L+".ui-disableSelection",(function(L){L.preventDefault()}))}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(S){if(void 0!==S)return this.css("zIndex",S);if(this.length)for(var z,H,tt=L(this[0]);tt.length&&tt[0]!==document;){if(("absolute"===(z=tt.css("position"))||"relative"===z||"fixed"===z)&&(H=parseInt(tt.css("zIndex"),10),!isNaN(H)&&0!==H))return H;tt=tt.parent()}return 0}}),L.ui.plugin={add:function(S,z,H){var tt,it=L.ui[S].prototype;for(tt in H)it.plugins[tt]=it.plugins[tt]||[],it.plugins[tt].push([z,H[tt]])},call:function(L,S,z,H){var tt,it=L.plugins[S];if(it&&(H||L.element[0].parentNode&&11!==L.element[0].parentNode.nodeType))for(tt=0;it.length>tt;tt++)L.options[it[tt][0]]&&it[tt][1].apply(L.element,z)}};var S=0,z=Array.prototype.slice;L.cleanData=function(S){return function(z){var H,tt,it;for(it=0;null!=(tt=z[it]);it++)try{(H=L._data(tt,"events"))&&H.remove&&L(tt).triggerHandler("remove")}catch(L){}S(z)}}(L.cleanData),L.widget=function(S,z,H){var tt,it,nt,ot,at={},rt=S.split(".")[0];return S=S.split(".")[1],tt=rt+"-"+S,H||(H=z,z=L.Widget),L.expr[":"][tt.toLowerCase()]=function(S){return!!L.data(S,tt)},L[rt]=L[rt]||{},it=L[rt][S],nt=L[rt][S]=function(L,S){return this._createWidget?void(arguments.length&&this._createWidget(L,S)):new nt(L,S)},L.extend(nt,it,{version:H.version,_proto:L.extend({},H),_childConstructors:[]}),(ot=new z).options=L.widget.extend({},ot.options),L.each(H,(function(S,H){return L.isFunction(H)?void(at[S]=function(){var e=function(){return z.prototype[S].apply(this,arguments)},n=function(L){return z.prototype[S].apply(this,L)};return function(){var L,S=this._super,z=this._superApply;return this._super=e,this._superApply=n,L=H.apply(this,arguments),this._super=S,this._superApply=z,L}}()):void(at[S]=H)})),nt.prototype=L.widget.extend(ot,{widgetEventPrefix:it&&ot.widgetEventPrefix||S},at,{constructor:nt,namespace:rt,widgetName:S,widgetFullName:tt}),it?(L.each(it._childConstructors,(function(S,z){var H=z.prototype;L.widget(H.namespace+"."+H.widgetName,nt,z._proto)})),delete it._childConstructors):z._childConstructors.push(nt),L.widget.bridge(S,nt),nt},L.widget.extend=function(S){for(var H,tt,it=z.call(arguments,1),nt=0,ot=it.length;ot>nt;nt++)for(H in it[nt])tt=it[nt][H],it[nt].hasOwnProperty(H)&&void 0!==tt&&(S[H]=L.isPlainObject(tt)?L.isPlainObject(S[H])?L.widget.extend({},S[H],tt):L.widget.extend({},tt):tt);return S},L.widget.bridge=function(S,H){var tt=H.prototype.widgetFullName||S;L.fn[S]=function(it){var nt="string"==typeof it,ot=z.call(arguments,1),at=this;return it=!nt&&ot.length?L.widget.extend.apply(null,[it].concat(ot)):it,nt?this.each((function(){var z,H=L.data(this,tt);return"instance"===it?(at=H,!1):H?L.isFunction(H[it])&&"_"!==it.charAt(0)?(z=H[it].apply(H,ot))!==H&&void 0!==z?(at=z&&z.jquery?at.pushStack(z.get()):z,!1):void 0:L.error("no such method '"+it+"' for "+S+" widget instance"):L.error("cannot call methods on "+S+" prior to initialization; attempted to call method '"+it+"'")})):this.each((function(){var S=L.data(this,tt);S?(S.option(it||{}),S._init&&S._init()):L.data(this,tt,new H(it,this))})),at}},L.Widget=function(){},L.Widget._childConstructors=[],L.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(z,H){H=L(H||this.defaultElement||this)[0],this.element=L(H),this.uuid=S++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=L.widget.extend({},this.options,this._getCreateOptions(),z),this.bindings=L(),this.hoverable=L(),this.focusable=L(),H!==this&&(L.data(H,this.widgetFullName,this),this._on(!0,this.element,{remove:function(L){L.target===H&&this.destroy()}}),this.document=L(H.style?H.ownerDocument:H.document||H),this.window=L(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:L.noop,_getCreateEventData:L.noop,_create:L.noop,_init:L.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(L.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:L.noop,widget:function(){return this.element},option:function(S,z){var H,tt,it,nt=S;if(0===arguments.length)return L.widget.extend({},this.options);if("string"==typeof S)if(nt={},H=S.split("."),S=H.shift(),H.length){for(tt=nt[S]=L.widget.extend({},this.options[S]),it=0;H.length-1>it;it++)tt[H[it]]=tt[H[it]]||{},tt=tt[H[it]];if(S=H.pop(),1===arguments.length)return void 0===tt[S]?null:tt[S];tt[S]=z}else{if(1===arguments.length)return void 0===this.options[S]?null:this.options[S];nt[S]=z}return this._setOptions(nt),this},_setOptions:function(L){var S;for(S in L)this._setOption(S,L[S]);return this},_setOption:function(L,S){return this.options[L]=S,"disabled"===L&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!S),S&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(S,z,H){var tt,it=this;"boolean"!=typeof S&&(H=z,z=S,S=!1),H?(z=tt=L(z),this.bindings=this.bindings.add(z)):(H=z,z=this.element,tt=this.widget()),L.each(H,(function(H,nt){function r(){return S||!0!==it.options.disabled&&!L(this).hasClass("ui-state-disabled")?("string"==typeof nt?it[nt]:nt).apply(it,arguments):void 0}"string"!=typeof nt&&(r.guid=nt.guid=nt.guid||r.guid||L.guid++);var ot=H.match(/^([\w:-]*)\s*(.*)$/),at=ot[1]+it.eventNamespace,rt=ot[2];rt?tt.delegate(rt,at,r):z.bind(at,r)}))},_off:function(L,S){S=(S||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,L.unbind(S).undelegate(S)},_delay:function(L,S){function i(){return("string"==typeof L?z[L]:L).apply(z,arguments)}var z=this;return setTimeout(i,S||0)},_hoverable:function(S){this.hoverable=this.hoverable.add(S),this._on(S,{mouseenter:function(S){L(S.currentTarget).addClass("ui-state-hover")},mouseleave:function(S){L(S.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(S){this.focusable=this.focusable.add(S),this._on(S,{focusin:function(S){L(S.currentTarget).addClass("ui-state-focus")},focusout:function(S){L(S.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(S,z,H){var tt,it,nt=this.options[S];if(H=H||{},(z=L.Event(z)).type=(S===this.widgetEventPrefix?S:this.widgetEventPrefix+S).toLowerCase(),z.target=this.element[0],it=z.originalEvent)for(tt in it)tt in z||(z[tt]=it[tt]);return this.element.trigger(z,H),!(L.isFunction(nt)&&!1===nt.apply(this.element[0],[z].concat(H))||z.isDefaultPrevented())}},L.each({show:"fadeIn",hide:"fadeOut"},(function(S,z){L.Widget.prototype["_"+S]=function(H,tt,it){"string"==typeof tt&&(tt={effect:tt});var nt,ot=tt?!0===tt||"number"==typeof tt?z:tt.effect||z:S;"number"==typeof(tt=tt||{})&&(tt={duration:tt}),nt=!L.isEmptyObject(tt),tt.complete=it,tt.delay&&H.delay(tt.delay),nt&&L.effects&&L.effects.effect[ot]?H[S](tt):ot!==S&&H[ot]?H[ot](tt.duration,tt.easing,it):H.queue((function(z){L(this)[S](),it&&it.call(H[0]),z()}))}})),L.widget;var H=!1;L(document).mouseup((function(){H=!1})),L.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var S=this;this.element.bind("mousedown."+this.widgetName,(function(L){return S._mouseDown(L)})).bind("click."+this.widgetName,(function(z){return!0===L.data(z.target,S.widgetName+".preventClickEvent")?(L.removeData(z.target,S.widgetName+".preventClickEvent"),z.stopImmediatePropagation(),!1):void 0})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(S){if(!H){this._mouseStarted&&this._mouseUp(S),this._mouseDownEvent=S;var z=this,tt=1===S.which,it=!("string"!=typeof this.options.cancel||!S.target.nodeName)&&L(S.target).closest(this.options.cancel).length;return!(tt&&!it&&this._mouseCapture(S)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){z.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(S)&&this._mouseDelayMet(S)&&(this._mouseStarted=!1!==this._mouseStart(S),!this._mouseStarted)?(S.preventDefault(),0):(!0===L.data(S.target,this.widgetName+".preventClickEvent")&&L.removeData(S.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(L){return z._mouseMove(L)},this._mouseUpDelegate=function(L){return z._mouseUp(L)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),S.preventDefault(),H=!0,0)))}},_mouseMove:function(S){return L.ui.ie&&(!document.documentMode||9>document.documentMode)&&!S.button?this._mouseUp(S):S.which?this._mouseStarted?(this._mouseDrag(S),S.preventDefault()):(this._mouseDistanceMet(S)&&this._mouseDelayMet(S)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,S),this._mouseStarted?this._mouseDrag(S):this._mouseUp(S)),!this._mouseStarted):this._mouseUp(S)},_mouseUp:function(S){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,S.target===this._mouseDownEvent.target&&L.data(S.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(S)),H=!1,!1},_mouseDistanceMet:function(L){return Math.max(Math.abs(this._mouseDownEvent.pageX-L.pageX),Math.abs(this._mouseDownEvent.pageY-L.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(L,S,z){return[parseFloat(L[0])*(ht.test(L[0])?S/100:1),parseFloat(L[1])*(ht.test(L[1])?z/100:1)]}function i(S,z){return parseInt(L.css(S,z),10)||0}function s(S){var z=S[0];return 9===z.nodeType?{width:S.width(),height:S.height(),offset:{top:0,left:0}}:L.isWindow(z)?{width:S.width(),height:S.height(),offset:{top:S.scrollTop(),left:S.scrollLeft()}}:z.preventDefault?{width:0,height:0,offset:{top:z.pageY,left:z.pageX}}:{width:S.outerWidth(),height:S.outerHeight(),offset:S.offset()}}L.ui=L.ui||{};var S,z,H=Math.max,tt=Math.abs,it=Math.round,nt=/left|center|right/,ot=/top|center|bottom/,at=/[\+\-]\d+(\.[\d]+)?%?/,rt=/^\w+/,ht=/%$/,dt=L.fn.position;L.position={scrollbarWidth:function(){if(void 0!==S)return S;var z,H,tt=L("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),it=tt.children()[0];return L("body").append(tt),z=it.offsetWidth,tt.css("overflow","scroll"),z===(H=it.offsetWidth)&&(H=tt[0].clientWidth),tt.remove(),S=z-H},getScrollInfo:function(S){var z=S.isWindow||S.isDocument?"":S.element.css("overflow-x"),H=S.isWindow||S.isDocument?"":S.element.css("overflow-y"),tt="scroll"===z||"auto"===z&&S.width<S.element[0].scrollWidth;return{width:"scroll"===H||"auto"===H&&S.height<S.element[0].scrollHeight?L.position.scrollbarWidth():0,height:tt?L.position.scrollbarWidth():0}},getWithinInfo:function(S){var z=L(S||window),H=L.isWindow(z[0]),tt=!!z[0]&&9===z[0].nodeType;return{element:z,isWindow:H,isDocument:tt,offset:z.offset()||{left:0,top:0},scrollLeft:z.scrollLeft(),scrollTop:z.scrollTop(),width:H||tt?z.width():z.outerWidth(),height:H||tt?z.height():z.outerHeight()}}},L.fn.position=function(S){if(!S||!S.of)return dt.apply(this,arguments);S=L.extend({},S);var ht,pt,gt,_t,bt,xt,kt=L(S.of),Ct=L.position.getWithinInfo(S.within),Lt=L.position.getScrollInfo(Ct),Tt=(S.collision||"flip").split(" "),Et={};return xt=s(kt),kt[0].preventDefault&&(S.at="left top"),pt=xt.width,gt=xt.height,_t=xt.offset,bt=L.extend({},_t),L.each(["my","at"],(function(){var L,z,H=(S[this]||"").split(" ");1===H.length&&(H=nt.test(H[0])?H.concat(["center"]):ot.test(H[0])?["center"].concat(H):["center","center"]),H[0]=nt.test(H[0])?H[0]:"center",H[1]=ot.test(H[1])?H[1]:"center",L=at.exec(H[0]),z=at.exec(H[1]),Et[this]=[L?L[0]:0,z?z[0]:0],S[this]=[rt.exec(H[0])[0],rt.exec(H[1])[0]]})),1===Tt.length&&(Tt[1]=Tt[0]),"right"===S.at[0]?bt.left+=pt:"center"===S.at[0]&&(bt.left+=pt/2),"bottom"===S.at[1]?bt.top+=gt:"center"===S.at[1]&&(bt.top+=gt/2),ht=t(Et.at,pt,gt),bt.left+=ht[0],bt.top+=ht[1],this.each((function(){var nt,ot,at=L(this),rt=at.outerWidth(),dt=at.outerHeight(),xt=i(this,"marginLeft"),Mt=i(this,"marginTop"),Pt=rt+xt+i(this,"marginRight")+Lt.width,Dt=dt+Mt+i(this,"marginBottom")+Lt.height,It=L.extend({},bt),At=t(Et.my,at.outerWidth(),at.outerHeight());"right"===S.my[0]?It.left-=rt:"center"===S.my[0]&&(It.left-=rt/2),"bottom"===S.my[1]?It.top-=dt:"center"===S.my[1]&&(It.top-=dt/2),It.left+=At[0],It.top+=At[1],z||(It.left=it(It.left),It.top=it(It.top)),nt={marginLeft:xt,marginTop:Mt},L.each(["left","top"],(function(z,H){L.ui.position[Tt[z]]&&L.ui.position[Tt[z]][H](It,{targetWidth:pt,targetHeight:gt,elemWidth:rt,elemHeight:dt,collisionPosition:nt,collisionWidth:Pt,collisionHeight:Dt,offset:[ht[0]+At[0],ht[1]+At[1]],my:S.my,at:S.at,within:Ct,elem:at})})),S.using&&(ot=function(L){var z=_t.left-It.left,it=z+pt-rt,nt=_t.top-It.top,ot=nt+gt-dt,ht={target:{element:kt,left:_t.left,top:_t.top,width:pt,height:gt},element:{element:at,left:It.left,top:It.top,width:rt,height:dt},horizontal:0>it?"left":z>0?"right":"center",vertical:0>ot?"top":nt>0?"bottom":"middle"};rt>pt&&pt>tt(z+it)&&(ht.horizontal="center"),dt>gt&&gt>tt(nt+ot)&&(ht.vertical="middle"),ht.important=H(tt(z),tt(it))>H(tt(nt),tt(ot))?"horizontal":"vertical",S.using.call(this,L,ht)}),at.offset(L.extend(It,{using:ot}))}))},L.ui.position={fit:{left:function(L,S){var z,tt=S.within,it=tt.isWindow?tt.scrollLeft:tt.offset.left,nt=tt.width,ot=L.left-S.collisionPosition.marginLeft,at=it-ot,rt=ot+S.collisionWidth-nt-it;S.collisionWidth>nt?at>0&&0>=rt?(z=L.left+at+S.collisionWidth-nt-it,L.left+=at-z):L.left=rt>0&&0>=at?it:at>rt?it+nt-S.collisionWidth:it:at>0?L.left+=at:rt>0?L.left-=rt:L.left=H(L.left-ot,L.left)},top:function(L,S){var z,tt=S.within,it=tt.isWindow?tt.scrollTop:tt.offset.top,nt=S.within.height,ot=L.top-S.collisionPosition.marginTop,at=it-ot,rt=ot+S.collisionHeight-nt-it;S.collisionHeight>nt?at>0&&0>=rt?(z=L.top+at+S.collisionHeight-nt-it,L.top+=at-z):L.top=rt>0&&0>=at?it:at>rt?it+nt-S.collisionHeight:it:at>0?L.top+=at:rt>0?L.top-=rt:L.top=H(L.top-ot,L.top)}},flip:{left:function(L,S){var z,H,it=S.within,nt=it.offset.left+it.scrollLeft,ot=it.width,at=it.isWindow?it.scrollLeft:it.offset.left,rt=L.left-S.collisionPosition.marginLeft,ht=rt-at,dt=rt+S.collisionWidth-ot-at,pt="left"===S.my[0]?-S.elemWidth:"right"===S.my[0]?S.elemWidth:0,gt="left"===S.at[0]?S.targetWidth:"right"===S.at[0]?-S.targetWidth:0,_t=-2*S.offset[0];0>ht?(0>(z=L.left+pt+gt+_t+S.collisionWidth-ot-nt)||tt(ht)>z)&&(L.left+=pt+gt+_t):dt>0&&((H=L.left-S.collisionPosition.marginLeft+pt+gt+_t-at)>0||dt>tt(H))&&(L.left+=pt+gt+_t)},top:function(L,S){var z,H,it=S.within,nt=it.offset.top+it.scrollTop,ot=it.height,at=it.isWindow?it.scrollTop:it.offset.top,rt=L.top-S.collisionPosition.marginTop,ht=rt-at,dt=rt+S.collisionHeight-ot-at,pt="top"===S.my[1]?-S.elemHeight:"bottom"===S.my[1]?S.elemHeight:0,gt="top"===S.at[1]?S.targetHeight:"bottom"===S.at[1]?-S.targetHeight:0,_t=-2*S.offset[1];0>ht?(H=L.top+pt+gt+_t+S.collisionHeight-ot-nt,L.top+pt+gt+_t>ht&&(0>H||tt(ht)>H)&&(L.top+=pt+gt+_t)):dt>0&&(z=L.top-S.collisionPosition.marginTop+pt+gt+_t-at,L.top+pt+gt+_t>dt&&(z>0||dt>tt(z))&&(L.top+=pt+gt+_t))}},flipfit:{left:function(){L.ui.position.flip.left.apply(this,arguments),L.ui.position.fit.left.apply(this,arguments)},top:function(){L.ui.position.flip.top.apply(this,arguments),L.ui.position.fit.top.apply(this,arguments)}}},function(){var S,H,tt,it,nt,ot=document.getElementsByTagName("body")[0],at=document.createElement("div");for(nt in S=document.createElement(ot?"div":"body"),tt={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},ot&&L.extend(tt,{position:"absolute",left:"-1000px",top:"-1000px"}),tt)S.style[nt]=tt[nt];S.appendChild(at),(H=ot||document.documentElement).insertBefore(S,H.firstChild),at.style.cssText="position: absolute; left: 10.7432222px;",it=L(at).offset().left,z=it>10&&11>it,S.innerHTML="",H.removeChild(S)}()}(),L.ui.position,L.widget("ui.accordion",{version:"1.11.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var S=this.options;this.prevShow=this.prevHide=L(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),S.collapsible||!1!==S.active&&null!=S.active||(S.active=0),this._processPanels(),0>S.active&&(S.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():L()}},_createIcons:function(){var S=this.options.icons;S&&(L("<span>").addClass("ui-accordion-header-icon ui-icon "+S.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(S.header).addClass(S.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var L;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),L=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&L.css("height","")},_setOption:function(L,S){return"active"===L?void this._activate(S):("event"===L&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(S)),this._super(L,S),"collapsible"!==L||S||!1!==this.options.active||this._activate(0),"icons"===L&&(this._destroyIcons(),S&&this._createIcons()),void("disabled"===L&&(this.element.toggleClass("ui-state-disabled",!!S).attr("aria-disabled",S),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!S))))},_keydown:function(S){if(!S.altKey&&!S.ctrlKey){var z=L.ui.keyCode,H=this.headers.length,tt=this.headers.index(S.target),it=!1;switch(S.keyCode){case z.RIGHT:case z.DOWN:it=this.headers[(tt+1)%H];break;case z.LEFT:case z.UP:it=this.headers[(tt-1+H)%H];break;case z.SPACE:case z.ENTER:this._eventHandler(S);break;case z.HOME:it=this.headers[0];break;case z.END:it=this.headers[H-1]}it&&(L(S.target).attr("tabIndex",-1),L(it).attr("tabIndex",0),it.focus(),S.preventDefault())}},_panelKeyDown:function(S){S.keyCode===L.ui.keyCode.UP&&S.ctrlKey&&L(S.currentTarget).prev().focus()},refresh:function(){var S=this.options;this._processPanels(),!1===S.active&&!0===S.collapsible||!this.headers.length?(S.active=!1,this.active=L()):!1===S.active?this._activate(0):this.active.length&&!L.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(S.active=!1,this.active=L()):this._activate(Math.max(0,S.active-1)):S.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var S,z=this.options,H=z.heightStyle,tt=this.element.parent();this.active=this._findActive(z.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each((function(){var S=L(this),z=S.uniqueId().attr("id"),H=S.next(),tt=H.uniqueId().attr("id");S.attr("aria-controls",tt),H.attr("aria-labelledby",z)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(z.event),"fill"===H?(S=tt.height(),this.element.siblings(":visible").each((function(){var z=L(this),H=z.css("position");"absolute"!==H&&"fixed"!==H&&(S-=z.outerHeight(!0))})),this.headers.each((function(){S-=L(this).outerHeight(!0)})),this.headers.next().each((function(){L(this).height(Math.max(0,S-L(this).innerHeight()+L(this).height()))})).css("overflow","auto")):"auto"===H&&(S=0,this.headers.next().each((function(){S=Math.max(S,L(this).css("height","").height())})).height(S))},_activate:function(S){var z=this._findActive(S)[0];z!==this.active[0]&&(z=z||this.active[0],this._eventHandler({target:z,currentTarget:z,preventDefault:L.noop}))},_findActive:function(S){return"number"==typeof S?this.headers.eq(S):L()},_setupEvents:function(S){var z={keydown:"_keydown"};S&&L.each(S.split(" "),(function(L,S){z[S]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,z),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(S){var z=this.options,H=this.active,tt=L(S.currentTarget),it=tt[0]===H[0],nt=it&&z.collapsible,ot=nt?L():tt.next(),at=H.next(),rt={oldHeader:H,oldPanel:at,newHeader:nt?L():tt,newPanel:ot};S.preventDefault(),it&&!z.collapsible||!1===this._trigger("beforeActivate",S,rt)||(z.active=!nt&&this.headers.index(tt),this.active=it?L():tt,this._toggle(rt),H.removeClass("ui-accordion-header-active ui-state-active"),z.icons&&H.children(".ui-accordion-header-icon").removeClass(z.icons.activeHeader).addClass(z.icons.header),it||(tt.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),z.icons&&tt.children(".ui-accordion-header-icon").removeClass(z.icons.header).addClass(z.icons.activeHeader),tt.next().addClass("ui-accordion-content-active")))},_toggle:function(S){var z=S.newPanel,H=this.prevShow.length?this.prevShow:S.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=z,this.prevHide=H,this.options.animate?this._animate(z,H,S):(H.hide(),z.show(),this._toggleComplete(S)),H.attr({"aria-hidden":"true"}),H.prev().attr("aria-selected","false"),z.length&&H.length?H.prev().attr({tabIndex:-1,"aria-expanded":"false"}):z.length&&this.headers.filter((function(){return 0===L(this).attr("tabIndex")})).attr("tabIndex",-1),z.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(L,S,z){var H,tt,it,nt=this,ot=0,at=L.length&&(!S.length||L.index()<S.index()),rt=this.options.animate||{},ht=at&&rt.down||rt,d=function(){nt._toggleComplete(z)};return"number"==typeof ht&&(it=ht),"string"==typeof ht&&(tt=ht),tt=tt||ht.easing||rt.easing,it=it||ht.duration||rt.duration,S.length?L.length?(H=L.show().outerHeight(),S.animate(this.hideProps,{duration:it,easing:tt,step:function(L,S){S.now=Math.round(L)}}),void L.hide().animate(this.showProps,{duration:it,easing:tt,complete:d,step:function(L,z){z.now=Math.round(L),"height"!==z.prop?ot+=z.now:"content"!==nt.options.heightStyle&&(z.now=Math.round(H-S.outerHeight()-ot),ot=0)}})):S.animate(this.hideProps,it,tt,d):L.animate(this.showProps,it,tt,d)},_toggleComplete:function(L){var S=L.oldPanel;S.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),S.length&&(S.parent()[0].className=S.parent()[0].className),this._trigger("activate",null,L)}}),L.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(L){L.preventDefault()},"click .ui-menu-item":function(S){var z=L(S.target);!this.mouseHandled&&z.not(".ui-state-disabled").length&&(this.select(S),S.isPropagationStopped()||(this.mouseHandled=!0),z.has(".ui-menu").length?this.expand(S):!this.element.is(":focus")&&L(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(S){var z=L(S.currentTarget);z.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(S,z)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(L,S){var z=this.active||this.element.find(this.options.items).eq(0);S||this.focus(L,z)},blur:function(S){this._delay((function(){L.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(S)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(L){this._closeOnDocumentClick(L)&&this.collapseAll(L),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each((function(){var S=L(this);S.data("ui-menu-submenu-carat")&&S.remove()})),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(S){function i(L){return L.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var z,H,tt,it,nt,ot=!0;switch(S.keyCode){case L.ui.keyCode.PAGE_UP:this.previousPage(S);break;case L.ui.keyCode.PAGE_DOWN:this.nextPage(S);break;case L.ui.keyCode.HOME:this._move("first","first",S);break;case L.ui.keyCode.END:this._move("last","last",S);break;case L.ui.keyCode.UP:this.previous(S);break;case L.ui.keyCode.DOWN:this.next(S);break;case L.ui.keyCode.LEFT:this.collapse(S);break;case L.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(S);break;case L.ui.keyCode.ENTER:case L.ui.keyCode.SPACE:this._activate(S);break;case L.ui.keyCode.ESCAPE:this.collapse(S);break;default:ot=!1,H=this.previousFilter||"",tt=String.fromCharCode(S.keyCode),it=!1,clearTimeout(this.filterTimer),tt===H?it=!0:tt=H+tt,nt=RegExp("^"+i(tt),"i"),z=this.activeMenu.find(this.options.items).filter((function(){return nt.test(L(this).text())})),(z=it&&-1!==z.index(this.active.next())?this.active.nextAll(".ui-menu-item"):z).length||(tt=String.fromCharCode(S.keyCode),nt=RegExp("^"+i(tt),"i"),z=this.activeMenu.find(this.options.items).filter((function(){return nt.test(L(this).text())}))),z.length?(this.focus(S,z),z.length>1?(this.previousFilter=tt,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter):delete this.previousFilter}ot&&S.preventDefault()},_activate:function(L){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(L):this.select(L))},refresh:function(){var S,z=this,H=this.options.icons.submenu,tt=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),tt.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var S=L(this),z=S.parent(),tt=L("<span>").addClass("ui-menu-icon ui-icon "+H).data("ui-menu-submenu-carat",!0);z.attr("aria-haspopup","true").prepend(tt),S.attr("aria-labelledby",z.attr("id"))})),(S=tt.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var S=L(this);z._isDivider(S)&&S.addClass("ui-widget-content ui-menu-divider")})),S.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),S.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!L.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(L,S){"icons"===L&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(S.submenu),"disabled"===L&&this.element.toggleClass("ui-state-disabled",!!S).attr("aria-disabled",S),this._super(L,S)},focus:function(L,S){var z,H;this.blur(L,L&&"focus"===L.type),this._scrollIntoView(S),this.active=S.first(),H=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",H.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),L&&"keydown"===L.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(z=S.children(".ui-menu")).length&&L&&/^mouse/.test(L.type)&&this._startOpening(z),this.activeMenu=S.parent(),this._trigger("focus",L,{item:S})},_scrollIntoView:function(S){var z,H,tt,it,nt,ot;this._hasScroll()&&(z=parseFloat(L.css(this.activeMenu[0],"borderTopWidth"))||0,H=parseFloat(L.css(this.activeMenu[0],"paddingTop"))||0,tt=S.offset().top-this.activeMenu.offset().top-z-H,it=this.activeMenu.scrollTop(),nt=this.activeMenu.height(),ot=S.outerHeight(),0>tt?this.activeMenu.scrollTop(it+tt):tt+ot>nt&&this.activeMenu.scrollTop(it+tt-nt+ot))},blur:function(L,S){S||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",L,{item:this.active}))},_startOpening:function(L){clearTimeout(this.timer),"true"===L.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(L)}),this.delay))},_open:function(S){var z=L.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(S.parents(".ui-menu")).hide().attr("aria-hidden","true"),S.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(z)},collapseAll:function(S,z){clearTimeout(this.timer),this.timer=this._delay((function(){var H=z?this.element:L(S&&S.target).closest(this.element.find(".ui-menu"));H.length||(H=this.element),this._close(H),this.blur(S),this.activeMenu=H}),this.delay)},_close:function(L){L||(L=this.active?this.active.parent():this.element),L.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(S){return!L(S.target).closest(".ui-menu").length},_isDivider:function(L){return!/[^\-\u2014\u2013\s]/.test(L.text())},collapse:function(L){var S=this.active&&this.active.parent().closest(".ui-menu-item",this.element);S&&S.length&&(this._close(),this.focus(L,S))},expand:function(L){var S=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();S&&S.length&&(this._open(S.parent()),this._delay((function(){this.focus(L,S)})))},next:function(L){this._move("next","first",L)},previous:function(L){this._move("prev","last",L)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(L,S,z){var H;this.active&&(H="first"===L||"last"===L?this.active["first"===L?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[L+"All"](".ui-menu-item").eq(0)),H&&H.length&&this.active||(H=this.activeMenu.find(this.options.items)[S]()),this.focus(z,H)},nextPage:function(S){var z,H,tt;return this.active?void(this.isLastItem()||(this._hasScroll()?(H=this.active.offset().top,tt=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return 0>(z=L(this)).offset().top-H-tt})),this.focus(S,z)):this.focus(S,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(S)},previousPage:function(S){var z,H,tt;return this.active?void(this.isFirstItem()||(this._hasScroll()?(H=this.active.offset().top,tt=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(z=L(this)).offset().top-H+tt>0})),this.focus(S,z)):this.focus(S,this.activeMenu.find(this.options.items).first()))):void this.next(S)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(S){this.active=this.active||L(S.target).closest(".ui-menu-item");var z={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(S,!0),this._trigger("select",S,z)}}),L.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var S,z,H,tt=this.element[0].nodeName.toLowerCase(),it="textarea"===tt,nt="input"===tt;this.isMultiLine=!!it||!nt&&this.element.prop("isContentEditable"),this.valueMethod=this.element[it||nt?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(tt){if(this.element.prop("readOnly"))return S=!0,H=!0,void(z=!0);S=!1,H=!1,z=!1;var it=L.ui.keyCode;switch(tt.keyCode){case it.PAGE_UP:S=!0,this._move("previousPage",tt);break;case it.PAGE_DOWN:S=!0,this._move("nextPage",tt);break;case it.UP:S=!0,this._keyEvent("previous",tt);break;case it.DOWN:S=!0,this._keyEvent("next",tt);break;case it.ENTER:this.menu.active&&(S=!0,tt.preventDefault(),this.menu.select(tt));break;case it.TAB:this.menu.active&&this.menu.select(tt);break;case it.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(tt),tt.preventDefault());break;default:z=!0,this._searchTimeout(tt)}},keypress:function(H){if(S)return S=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&H.preventDefault());if(!z){var tt=L.ui.keyCode;switch(H.keyCode){case tt.PAGE_UP:this._move("previousPage",H);break;case tt.PAGE_DOWN:this._move("nextPage",H);break;case tt.UP:this._keyEvent("previous",H);break;case tt.DOWN:this._keyEvent("next",H)}}},input:function(L){return H?(H=!1,void L.preventDefault()):void this._searchTimeout(L)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(L){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(L),void this._change(L))}}),this._initSource(),this.menu=L("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(S){S.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur}));var z=this.menu.element[0];L(S.target).closest(".ui-menu-item").length||this._delay((function(){var S=this;this.document.one("mousedown",(function(H){H.target===S.element[0]||H.target===z||L.contains(z,H.target)||S.close()}))}))},menufocus:function(S,z){var H,tt;return this.isNewMenu&&(this.isNewMenu=!1,S.originalEvent&&/^mouse/.test(S.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",(function(){L(S.target).trigger(S.originalEvent)}))):(tt=z.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",S,{item:tt})&&S.originalEvent&&/^key/.test(S.originalEvent.type)&&this._value(tt.value),void((H=z.item.attr("aria-label")||tt.value)&&L.trim(H).length&&(this.liveRegion.children().hide(),L("<div>").text(H).appendTo(this.liveRegion))))},menuselect:function(L,S){var z=S.item.data("ui-autocomplete-item"),H=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=H,this._delay((function(){this.previous=H,this.selectedItem=z}))),!1!==this._trigger("select",L,{item:z})&&this._value(z.value),this.term=this._value(),this.close(L),this.selectedItem=z}}),this.liveRegion=L("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(L,S){this._super(L,S),"source"===L&&this._initSource(),"appendTo"===L&&this.menu.element.appendTo(this._appendTo()),"disabled"===L&&S&&this.xhr&&this.xhr.abort()},_appendTo:function(){var S=this.options.appendTo;return S&&(S=S.jquery||S.nodeType?L(S):this.document.find(S).eq(0)),S&&S[0]||(S=this.element.closest(".ui-front")),S.length||(S=this.document[0].body),S},_initSource:function(){var S,z,H=this;L.isArray(this.options.source)?(S=this.options.source,this.source=function(z,H){H(L.ui.autocomplete.filter(S,z.term))}):"string"==typeof this.options.source?(z=this.options.source,this.source=function(S,tt){H.xhr&&H.xhr.abort(),H.xhr=L.ajax({url:z,data:S,dataType:"json",success:function(L){tt(L)},error:function(){tt([])}})}):this.source=this.options.source},_searchTimeout:function(L){clearTimeout(this.searching),this.searching=this._delay((function(){var S=this.term===this._value(),z=this.menu.element.is(":visible"),H=L.altKey||L.ctrlKey||L.metaKey||L.shiftKey;(!S||S&&!z&&!H)&&(this.selectedItem=null,this.search(null,L))}),this.options.delay)},search:function(L,S){return L=null!=L?L:this._value(),this.term=this._value(),L.length<this.options.minLength?this.close(S):!1!==this._trigger("search",S)?this._search(L):void 0},_search:function(L){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:L},this._response())},_response:function(){var S=++this.requestIndex;return L.proxy((function(L){S===this.requestIndex&&this.__response(L),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")}),this)},__response:function(L){L&&(L=this._normalize(L)),this._trigger("response",null,{content:L}),!this.options.disabled&&L&&L.length&&!this.cancelSearch?(this._suggest(L),this._trigger("open")):this._close()},close:function(L){this.cancelSearch=!0,this._close(L)},_close:function(L){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",L))},_change:function(L){this.previous!==this._value()&&this._trigger("change",L,{item:this.selectedItem})},_normalize:function(S){return S.length&&S[0].label&&S[0].value?S:L.map(S,(function(S){return"string"==typeof S?{label:S,value:S}:L.extend({},S,{label:S.label||S.value,value:S.value||S.label})}))},_suggest:function(S){var z=this.menu.element.empty();this._renderMenu(z,S),this.isNewMenu=!0,this.menu.refresh(),z.show(),this._resizeMenu(),z.position(L.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var L=this.menu.element;L.outerWidth(Math.max(L.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(S,z){var H=this;L.each(z,(function(L,z){H._renderItemData(S,z)}))},_renderItemData:function(L,S){return this._renderItem(L,S).data("ui-autocomplete-item",S)},_renderItem:function(S,z){return L("<li>").text(z.label).appendTo(S)},_move:function(L,S){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(L)||this.menu.isLastItem()&&/^next/.test(L)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[L](S):void this.search(null,S)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(L,S){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(L,S),S.preventDefault())}}),L.extend(L.ui.autocomplete,{escapeRegex:function(L){return L.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(S,z){var H=RegExp(L.ui.autocomplete.escapeRegex(z),"i");return L.grep(S,(function(L){return H.test(L.label||L.value||L)}))}}),L.widget("ui.autocomplete",L.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(L){return L+(L>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(S){var z;this._superApply(arguments),this.options.disabled||this.cancelSearch||(z=S&&S.length?this.options.messages.results(S.length):this.options.messages.noResults,this.liveRegion.children().hide(),L("<div>").text(z).appendTo(this.liveRegion))}}),L.ui.autocomplete;var tt,it,nt="ui-button ui-widget ui-state-default ui-corner-all",ot="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var S=L(this);setTimeout((function(){S.find(":ui-button").button("refresh")}),1)},g=function(S){var z=S.name,H=S.form,tt=L([]);return z&&(z=z.replace(/'/g,"\\'"),tt=H?L(H).find("[name='"+z+"'][type=radio]"):L("[name='"+z+"'][type=radio]",S.ownerDocument).filter((function(){return!this.form}))),tt};L.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var S=this,z=this.options,H="checkbox"===this.type||"radio"===this.type,it=H?"":"ui-state-active";null===z.label&&(z.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(nt).attr("role","button").bind("mouseenter"+this.eventNamespace,(function(){z.disabled||this===tt&&L(this).addClass("ui-state-active")})).bind("mouseleave"+this.eventNamespace,(function(){z.disabled||L(this).removeClass(it)})).bind("click"+this.eventNamespace,(function(L){z.disabled&&(L.preventDefault(),L.stopImmediatePropagation())})),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),H&&this.element.bind("change"+this.eventNamespace,(function(){S.refresh()})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){return!z.disabled&&void 0})):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(z.disabled)return!1;L(this).addClass("ui-state-active"),S.buttonElement.attr("aria-pressed","true");var H=S.element[0];g(H).not(H).map((function(){return L(this).button("widget")[0]})).removeClass("ui-state-active").attr("aria-pressed","false")})):(this.buttonElement.bind("mousedown"+this.eventNamespace,(function(){return!z.disabled&&(L(this).addClass("ui-state-active"),tt=this,void S.document.one("mouseup",(function(){tt=null})))})).bind("mouseup"+this.eventNamespace,(function(){return!z.disabled&&void L(this).removeClass("ui-state-active")})).bind("keydown"+this.eventNamespace,(function(S){return!z.disabled&&void((S.keyCode===L.ui.keyCode.SPACE||S.keyCode===L.ui.keyCode.ENTER)&&L(this).addClass("ui-state-active"))})).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,(function(){L(this).removeClass("ui-state-active")})),this.buttonElement.is("a")&&this.buttonElement.keyup((function(S){S.keyCode===L.ui.keyCode.SPACE&&L(this).click()}))),this._setOption("disabled",z.disabled),this._resetButton()},_determineButtonType:function(){var L,S,z;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(L=this.element.parents().last(),S="label[for='"+this.element.attr("id")+"']",this.buttonElement=L.find(S),this.buttonElement.length||(L=L.length?L.siblings():this.element.siblings(),this.buttonElement=L.filter(S),this.buttonElement.length||(this.buttonElement=L.find(S))),this.element.addClass("ui-helper-hidden-accessible"),(z=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",z)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(nt+" ui-state-active "+ot).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(L,S){return this._super(L,S),"disabled"===L?(this.widget().toggleClass("ui-state-disabled",!!S),this.element.prop("disabled",!!S),void(S&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var S=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");S!==this.options.disabled&&this._setOption("disabled",S),"radio"===this.type?g(this.element[0]).each((function(){L(this).is(":checked")?L(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):L(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")})):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var S=this.buttonElement.removeClass(ot),z=L("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(S.empty()).text(),H=this.options.icons,tt=H.primary&&H.secondary,it=[];H.primary||H.secondary?(this.options.text&&it.push("ui-button-text-icon"+(tt?"s":H.primary?"-primary":"-secondary")),H.primary&&S.prepend("<span class='ui-button-icon-primary ui-icon "+H.primary+"'></span>"),H.secondary&&S.append("<span class='ui-button-icon-secondary ui-icon "+H.secondary+"'></span>"),this.options.text||(it.push(tt?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||S.attr("title",L.trim(z)))):it.push("ui-button-text-only"),S.addClass(it.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),L.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(L,S){"disabled"===L&&this.buttons.button("option",L,S),this._super(L,S)},refresh:function(){var S="rtl"===this.element.css("direction"),z=this.element.find(this.options.items),H=z.filter(":ui-button");z.not(":ui-button").button(),H.button("refresh"),this.buttons=z.map((function(){return L(this).button("widget")[0]})).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(S?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(S?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map((function(){return L(this).button("widget")[0]})).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),L.ui.button,L.extend(L.ui,{datepicker:{version:"1.11.1"}}),L.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(L){return r(this._defaults,L||{}),this},_attachDatepicker:function(S,z){var H,tt,it;tt="div"===(H=S.nodeName.toLowerCase())||"span"===H,S.id||(this.uuid+=1,S.id="dp"+this.uuid),(it=this._newInst(L(S),tt)).settings=L.extend({},z||{}),"input"===H?this._connectDatepicker(S,it):tt&&this._inlineDatepicker(S,it)},_newInst:function(S,z){return{id:S[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:S,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:z,dpDiv:z?a(L("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(S,z){var H=L(S);z.append=L([]),z.trigger=L([]),H.hasClass(this.markerClassName)||(this._attachments(H,z),H.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(z),L.data(S,"datepicker",z),z.settings.disabled&&this._disableDatepicker(S))},_attachments:function(S,z){var H,tt,it,nt=this._get(z,"appendText"),ot=this._get(z,"isRTL");z.append&&z.append.remove(),nt&&(z.append=L("<span class='"+this._appendClass+"'>"+nt+"</span>"),S[ot?"before":"after"](z.append)),S.unbind("focus",this._showDatepicker),z.trigger&&z.trigger.remove(),("focus"===(H=this._get(z,"showOn"))||"both"===H)&&S.focus(this._showDatepicker),("button"===H||"both"===H)&&(tt=this._get(z,"buttonText"),it=this._get(z,"buttonImage"),z.trigger=L(this._get(z,"buttonImageOnly")?L("<img/>").addClass(this._triggerClass).attr({src:it,alt:tt,title:tt}):L("<button type='button'></button>").addClass(this._triggerClass).html(it?L("<img/>").attr({src:it,alt:tt,title:tt}):tt)),S[ot?"before":"after"](z.trigger),z.trigger.click((function(){return L.datepicker._datepickerShowing&&L.datepicker._lastInput===S[0]?L.datepicker._hideDatepicker():L.datepicker._datepickerShowing&&L.datepicker._lastInput!==S[0]?(L.datepicker._hideDatepicker(),L.datepicker._showDatepicker(S[0])):L.datepicker._showDatepicker(S[0]),!1})))},_autoSize:function(L){if(this._get(L,"autoSize")&&!L.inline){var S,z,H,tt,it=new Date(2009,11,20),nt=this._get(L,"dateFormat");nt.match(/[DM]/)&&(S=function(L){for(z=0,H=0,tt=0;L.length>tt;tt++)L[tt].length>z&&(z=L[tt].length,H=tt);return H},it.setMonth(S(this._get(L,nt.match(/MM/)?"monthNames":"monthNamesShort"))),it.setDate(S(this._get(L,nt.match(/DD/)?"dayNames":"dayNamesShort"))+20-it.getDay())),L.input.attr("size",this._formatDate(L,it).length)}},_inlineDatepicker:function(S,z){var H=L(S);H.hasClass(this.markerClassName)||(H.addClass(this.markerClassName).append(z.dpDiv),L.data(S,"datepicker",z),this._setDate(z,this._getDefaultDate(z),!0),this._updateDatepicker(z),this._updateAlternate(z),z.settings.disabled&&this._disableDatepicker(S),z.dpDiv.css("display","block"))},_dialogDatepicker:function(S,z,H,tt,it){var nt,ot,at,rt,ht,dt=this._dialogInst;return dt||(this.uuid+=1,nt="dp"+this.uuid,this._dialogInput=L("<input type='text' id='"+nt+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),L("body").append(this._dialogInput),(dt=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},L.data(this._dialogInput[0],"datepicker",dt)),r(dt.settings,tt||{}),z=z&&z.constructor===Date?this._formatDate(dt,z):z,this._dialogInput.val(z),this._pos=it?it.length?it:[it.pageX,it.pageY]:null,this._pos||(ot=document.documentElement.clientWidth,at=document.documentElement.clientHeight,rt=document.documentElement.scrollLeft||document.body.scrollLeft,ht=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[ot/2-100+rt,at/2-150+ht]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),dt.settings.onSelect=H,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),L.blockUI&&L.blockUI(this.dpDiv),L.data(this._dialogInput[0],"datepicker",dt),this},_destroyDatepicker:function(S){var z,H=L(S),tt=L.data(S,"datepicker");H.hasClass(this.markerClassName)&&(z=S.nodeName.toLowerCase(),L.removeData(S,"datepicker"),"input"===z?(tt.append.remove(),tt.trigger.remove(),H.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===z||"span"===z)&&H.removeClass(this.markerClassName).empty())},_enableDatepicker:function(S){var z,H,tt=L(S),it=L.data(S,"datepicker");tt.hasClass(this.markerClassName)&&("input"===(z=S.nodeName.toLowerCase())?(S.disabled=!1,it.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===z||"span"===z)&&((H=tt.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),H.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=L.map(this._disabledInputs,(function(L){return L===S?null:L})))},_disableDatepicker:function(S){var z,H,tt=L(S),it=L.data(S,"datepicker");tt.hasClass(this.markerClassName)&&("input"===(z=S.nodeName.toLowerCase())?(S.disabled=!0,it.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===z||"span"===z)&&((H=tt.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),H.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=L.map(this._disabledInputs,(function(L){return L===S?null:L})),this._disabledInputs[this._disabledInputs.length]=S)},_isDisabledDatepicker:function(L){if(!L)return!1;for(var S=0;this._disabledInputs.length>S;S++)if(this._disabledInputs[S]===L)return!0;return!1},_getInst:function(S){try{return L.data(S,"datepicker")}catch(L){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(S,z,H){var tt,it,nt,ot,at=this._getInst(S);return 2===arguments.length&&"string"==typeof z?"defaults"===z?L.extend({},L.datepicker._defaults):at?"all"===z?L.extend({},at.settings):this._get(at,z):null:(tt=z||{},"string"==typeof z&&((tt={})[z]=H),void(at&&(this._curInst===at&&this._hideDatepicker(),it=this._getDateDatepicker(S,!0),nt=this._getMinMaxDate(at,"min"),ot=this._getMinMaxDate(at,"max"),r(at.settings,tt),null!==nt&&void 0!==tt.dateFormat&&void 0===tt.minDate&&(at.settings.minDate=this._formatDate(at,nt)),null!==ot&&void 0!==tt.dateFormat&&void 0===tt.maxDate&&(at.settings.maxDate=this._formatDate(at,ot)),"disabled"in tt&&(tt.disabled?this._disableDatepicker(S):this._enableDatepicker(S)),this._attachments(L(S),at),this._autoSize(at),this._setDate(at,it),this._updateAlternate(at),this._updateDatepicker(at))))},_changeDatepicker:function(L,S,z){this._optionDatepicker(L,S,z)},_refreshDatepicker:function(L){var S=this._getInst(L);S&&this._updateDatepicker(S)},_setDateDatepicker:function(L,S){var z=this._getInst(L);z&&(this._setDate(z,S),this._updateDatepicker(z),this._updateAlternate(z))},_getDateDatepicker:function(L,S){var z=this._getInst(L);return z&&!z.inline&&this._setDateFromField(z,S),z?this._getDate(z):null},_doKeyDown:function(S){var z,H,tt,it=L.datepicker._getInst(S.target),nt=!0,ot=it.dpDiv.is(".ui-datepicker-rtl");if(it._keyEvent=!0,L.datepicker._datepickerShowing)switch(S.keyCode){case 9:L.datepicker._hideDatepicker(),nt=!1;break;case 13:return(tt=L("td."+L.datepicker._dayOverClass+":not(."+L.datepicker._currentClass+")",it.dpDiv))[0]&&L.datepicker._selectDay(S.target,it.selectedMonth,it.selectedYear,tt[0]),(z=L.datepicker._get(it,"onSelect"))?(H=L.datepicker._formatDate(it),z.apply(it.input?it.input[0]:null,[H,it])):L.datepicker._hideDatepicker(),!1;case 27:L.datepicker._hideDatepicker();break;case 33:L.datepicker._adjustDate(S.target,S.ctrlKey?-L.datepicker._get(it,"stepBigMonths"):-L.datepicker._get(it,"stepMonths"),"M");break;case 34:L.datepicker._adjustDate(S.target,S.ctrlKey?+L.datepicker._get(it,"stepBigMonths"):+L.datepicker._get(it,"stepMonths"),"M");break;case 35:(S.ctrlKey||S.metaKey)&&L.datepicker._clearDate(S.target),nt=S.ctrlKey||S.metaKey;break;case 36:(S.ctrlKey||S.metaKey)&&L.datepicker._gotoToday(S.target),nt=S.ctrlKey||S.metaKey;break;case 37:(S.ctrlKey||S.metaKey)&&L.datepicker._adjustDate(S.target,ot?1:-1,"D"),nt=S.ctrlKey||S.metaKey,S.originalEvent.altKey&&L.datepicker._adjustDate(S.target,S.ctrlKey?-L.datepicker._get(it,"stepBigMonths"):-L.datepicker._get(it,"stepMonths"),"M");break;case 38:(S.ctrlKey||S.metaKey)&&L.datepicker._adjustDate(S.target,-7,"D"),nt=S.ctrlKey||S.metaKey;break;case 39:(S.ctrlKey||S.metaKey)&&L.datepicker._adjustDate(S.target,ot?-1:1,"D"),nt=S.ctrlKey||S.metaKey,S.originalEvent.altKey&&L.datepicker._adjustDate(S.target,S.ctrlKey?+L.datepicker._get(it,"stepBigMonths"):+L.datepicker._get(it,"stepMonths"),"M");break;case 40:(S.ctrlKey||S.metaKey)&&L.datepicker._adjustDate(S.target,7,"D"),nt=S.ctrlKey||S.metaKey;break;default:nt=!1}else 36===S.keyCode&&S.ctrlKey?L.datepicker._showDatepicker(this):nt=!1;nt&&(S.preventDefault(),S.stopPropagation())},_doKeyPress:function(S){var z,H,tt=L.datepicker._getInst(S.target);return L.datepicker._get(tt,"constrainInput")?(z=L.datepicker._possibleChars(L.datepicker._get(tt,"dateFormat")),H=String.fromCharCode(null==S.charCode?S.keyCode:S.charCode),S.ctrlKey||S.metaKey||" ">H||!z||z.indexOf(H)>-1):void 0},_doKeyUp:function(S){var z=L.datepicker._getInst(S.target);if(z.input.val()!==z.lastVal)try{L.datepicker.parseDate(L.datepicker._get(z,"dateFormat"),z.input?z.input.val():null,L.datepicker._getFormatConfig(z))&&(L.datepicker._setDateFromField(z),L.datepicker._updateAlternate(z),L.datepicker._updateDatepicker(z))}catch(L){}return!0},_showDatepicker:function(S){var z,H,tt,it,nt,ot,at;"input"!==(S=S.target||S).nodeName.toLowerCase()&&(S=L("input",S.parentNode)[0]),L.datepicker._isDisabledDatepicker(S)||L.datepicker._lastInput===S||(z=L.datepicker._getInst(S),L.datepicker._curInst&&L.datepicker._curInst!==z&&(L.datepicker._curInst.dpDiv.stop(!0,!0),z&&L.datepicker._datepickerShowing&&L.datepicker._hideDatepicker(L.datepicker._curInst.input[0])),!1!==(tt=(H=L.datepicker._get(z,"beforeShow"))?H.apply(S,[S,z]):{})&&(r(z.settings,tt),z.lastVal=null,L.datepicker._lastInput=S,L.datepicker._setDateFromField(z),L.datepicker._inDialog&&(S.value=""),L.datepicker._pos||(L.datepicker._pos=L.datepicker._findPos(S),L.datepicker._pos[1]+=S.offsetHeight),it=!1,L(S).parents().each((function(){return!(it|="fixed"===L(this).css("position"))})),nt={left:L.datepicker._pos[0],top:L.datepicker._pos[1]},L.datepicker._pos=null,z.dpDiv.empty(),z.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),L.datepicker._updateDatepicker(z),nt=L.datepicker._checkOffset(z,nt,it),z.dpDiv.css({position:L.datepicker._inDialog&&L.blockUI?"static":it?"fixed":"absolute",display:"none",left:nt.left+"px",top:nt.top+"px"}),z.inline||(ot=L.datepicker._get(z,"showAnim"),at=L.datepicker._get(z,"duration"),z.dpDiv.css("z-index",s(L(S))+1),L.datepicker._datepickerShowing=!0,L.effects&&L.effects.effect[ot]?z.dpDiv.show(ot,L.datepicker._get(z,"showOptions"),at):z.dpDiv[ot||"show"](ot?at:null),L.datepicker._shouldFocusInput(z)&&z.input.focus(),L.datepicker._curInst=z)))},_updateDatepicker:function(S){this.maxRows=4,it=S,S.dpDiv.empty().append(this._generateHTML(S)),this._attachHandlers(S);var z,H=this._getNumberOfMonths(S),tt=H[1],nt=17,ot=S.dpDiv.find("."+this._dayOverClass+" a");ot.length>0&&o.apply(ot.get(0)),S.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),tt>1&&S.dpDiv.addClass("ui-datepicker-multi-"+tt).css("width",nt*tt+"em"),S.dpDiv[(1!==H[0]||1!==H[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),S.dpDiv[(this._get(S,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),S===L.datepicker._curInst&&L.datepicker._datepickerShowing&&L.datepicker._shouldFocusInput(S)&&S.input.focus(),S.yearshtml&&(z=S.yearshtml,setTimeout((function(){z===S.yearshtml&&S.yearshtml&&S.dpDiv.find("select.ui-datepicker-year:first").replaceWith(S.yearshtml),z=S.yearshtml=null}),0))},_shouldFocusInput:function(L){return L.input&&L.input.is(":visible")&&!L.input.is(":disabled")&&!L.input.is(":focus")},_checkOffset:function(S,z,H){var tt=S.dpDiv.outerWidth(),it=S.dpDiv.outerHeight(),nt=S.input?S.input.outerWidth():0,ot=S.input?S.input.outerHeight():0,at=document.documentElement.clientWidth+(H?0:L(document).scrollLeft()),rt=document.documentElement.clientHeight+(H?0:L(document).scrollTop());return z.left-=this._get(S,"isRTL")?tt-nt:0,z.left-=H&&z.left===S.input.offset().left?L(document).scrollLeft():0,z.top-=H&&z.top===S.input.offset().top+ot?L(document).scrollTop():0,z.left-=Math.min(z.left,z.left+tt>at&&at>tt?Math.abs(z.left+tt-at):0),z.top-=Math.min(z.top,z.top+it>rt&&rt>it?Math.abs(it+ot):0),z},_findPos:function(S){for(var z,H=this._getInst(S),tt=this._get(H,"isRTL");S&&("hidden"===S.type||1!==S.nodeType||L.expr.filters.hidden(S));)S=S[tt?"previousSibling":"nextSibling"];return[(z=L(S).offset()).left,z.top]},_hideDatepicker:function(S){var z,H,tt,it,nt=this._curInst;!nt||S&&nt!==L.data(S,"datepicker")||this._datepickerShowing&&(z=this._get(nt,"showAnim"),H=this._get(nt,"duration"),tt=function(){L.datepicker._tidyDialog(nt)},L.effects&&(L.effects.effect[z]||L.effects[z])?nt.dpDiv.hide(z,L.datepicker._get(nt,"showOptions"),H,tt):nt.dpDiv["slideDown"===z?"slideUp":"fadeIn"===z?"fadeOut":"hide"](z?H:null,tt),z||tt(),this._datepickerShowing=!1,(it=this._get(nt,"onClose"))&&it.apply(nt.input?nt.input[0]:null,[nt.input?nt.input.val():"",nt]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),L.blockUI&&(L.unblockUI(),L("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(L){L.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(S){if(L.datepicker._curInst){var z=L(S.target),H=L.datepicker._getInst(z[0]);(z[0].id!==L.datepicker._mainDivId&&0===z.parents("#"+L.datepicker._mainDivId).length&&!z.hasClass(L.datepicker.markerClassName)&&!z.closest("."+L.datepicker._triggerClass).length&&L.datepicker._datepickerShowing&&(!L.datepicker._inDialog||!L.blockUI)||z.hasClass(L.datepicker.markerClassName)&&L.datepicker._curInst!==H)&&L.datepicker._hideDatepicker()}},_adjustDate:function(S,z,H){var tt=L(S),it=this._getInst(tt[0]);this._isDisabledDatepicker(tt[0])||(this._adjustInstDate(it,z+("M"===H?this._get(it,"showCurrentAtPos"):0),H),this._updateDatepicker(it))},_gotoToday:function(S){var z,H=L(S),tt=this._getInst(H[0]);this._get(tt,"gotoCurrent")&&tt.currentDay?(tt.selectedDay=tt.currentDay,tt.drawMonth=tt.selectedMonth=tt.currentMonth,tt.drawYear=tt.selectedYear=tt.currentYear):(z=new Date,tt.selectedDay=z.getDate(),tt.drawMonth=tt.selectedMonth=z.getMonth(),tt.drawYear=tt.selectedYear=z.getFullYear()),this._notifyChange(tt),this._adjustDate(H)},_selectMonthYear:function(S,z,H){var tt=L(S),it=this._getInst(tt[0]);it["selected"+("M"===H?"Month":"Year")]=it["draw"+("M"===H?"Month":"Year")]=parseInt(z.options[z.selectedIndex].value,10),this._notifyChange(it),this._adjustDate(tt)},_selectDay:function(S,z,H,tt){var it,nt=L(S);L(tt).hasClass(this._unselectableClass)||this._isDisabledDatepicker(nt[0])||((it=this._getInst(nt[0])).selectedDay=it.currentDay=L("a",tt).html(),it.selectedMonth=it.currentMonth=z,it.selectedYear=it.currentYear=H,this._selectDate(S,this._formatDate(it,it.currentDay,it.currentMonth,it.currentYear)))},_clearDate:function(S){var z=L(S);this._selectDate(z,"")},_selectDate:function(S,z){var H,tt=L(S),it=this._getInst(tt[0]);z=null!=z?z:this._formatDate(it),it.input&&it.input.val(z),this._updateAlternate(it),(H=this._get(it,"onSelect"))?H.apply(it.input?it.input[0]:null,[z,it]):it.input&&it.input.trigger("change"),it.inline?this._updateDatepicker(it):(this._hideDatepicker(),this._lastInput=it.input[0],"object"!=typeof it.input[0]&&it.input.focus(),this._lastInput=null)},_updateAlternate:function(S){var z,H,tt,it=this._get(S,"altField");it&&(z=this._get(S,"altFormat")||this._get(S,"dateFormat"),H=this._getDate(S),tt=this.formatDate(z,H,this._getFormatConfig(S)),L(it).each((function(){L(this).val(tt)})))},noWeekends:function(L){var S=L.getDay();return[S>0&&6>S,""]},iso8601Week:function(L){var S,z=new Date(L.getTime());return z.setDate(z.getDate()+4-(z.getDay()||7)),S=z.getTime(),z.setMonth(0),z.setDate(1),Math.floor(Math.round((S-z)/864e5)/7)+1},parseDate:function(S,z,H){if(null==S||null==z)throw"Invalid arguments";if(""==(z="object"==typeof z?""+z:z+""))return null;var tt,it,nt,ot,at=0,rt=(H?H.shortYearCutoff:null)||this._defaults.shortYearCutoff,ht="string"!=typeof rt?rt:(new Date).getFullYear()%100+parseInt(rt,10),dt=(H?H.dayNamesShort:null)||this._defaults.dayNamesShort,pt=(H?H.dayNames:null)||this._defaults.dayNames,gt=(H?H.monthNamesShort:null)||this._defaults.monthNamesShort,_t=(H?H.monthNames:null)||this._defaults.monthNames,bt=-1,xt=-1,kt=-1,Ct=-1,Lt=!1,_=function(L){var z=S.length>tt+1&&S.charAt(tt+1)===L;return z&&tt++,z},x=function(L){var S=_(L),H="@"===L?14:"!"===L?20:"y"===L&&S?4:"o"===L?3:2,tt=RegExp("^\\d{"+("y"===L?H:1)+","+H+"}"),it=z.substring(at).match(tt);if(!it)throw"Missing number at position "+at;return at+=it[0].length,parseInt(it[0],10)},w=function(S,H,tt){var it=-1,nt=L.map(_(S)?tt:H,(function(L,S){return[[S,L]]})).sort((function(L,S){return-(L[1].length-S[1].length)}));if(L.each(nt,(function(L,S){var H=S[1];return z.substr(at,H.length).toLowerCase()===H.toLowerCase()?(it=S[0],at+=H.length,!1):void 0})),-1!==it)return it+1;throw"Unknown name at position "+at},k=function(){if(z.charAt(at)!==S.charAt(tt))throw"Unexpected literal at position "+at;at++};for(tt=0;S.length>tt;tt++)if(Lt)"'"!==S.charAt(tt)||_("'")?k():Lt=!1;else switch(S.charAt(tt)){case"d":kt=x("d");break;case"D":w("D",dt,pt);break;case"o":Ct=x("o");break;case"m":xt=x("m");break;case"M":xt=w("M",gt,_t);break;case"y":bt=x("y");break;case"@":bt=(ot=new Date(x("@"))).getFullYear(),xt=ot.getMonth()+1,kt=ot.getDate();break;case"!":bt=(ot=new Date((x("!")-this._ticksTo1970)/1e4)).getFullYear(),xt=ot.getMonth()+1,kt=ot.getDate();break;case"'":_("'")?k():Lt=!0;break;default:k()}if(z.length>at&&(nt=z.substr(at),!/^\s+/.test(nt)))throw"Extra/unparsed characters found in date: "+nt;if(-1===bt?bt=(new Date).getFullYear():100>bt&&(bt+=(new Date).getFullYear()-(new Date).getFullYear()%100+(ht>=bt?0:-100)),Ct>-1)for(xt=1,kt=Ct;!((it=this._getDaysInMonth(bt,xt-1))>=kt);)xt++,kt-=it;if((ot=this._daylightSavingAdjust(new Date(bt,xt-1,kt))).getFullYear()!==bt||ot.getMonth()+1!==xt||ot.getDate()!==kt)throw"Invalid date";return ot},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(L,S,z){if(!S)return"";var H,tt=(z?z.dayNamesShort:null)||this._defaults.dayNamesShort,it=(z?z.dayNames:null)||this._defaults.dayNames,nt=(z?z.monthNamesShort:null)||this._defaults.monthNamesShort,ot=(z?z.monthNames:null)||this._defaults.monthNames,h=function(S){var z=L.length>H+1&&L.charAt(H+1)===S;return z&&H++,z},l=function(L,S,z){var H=""+S;if(h(L))for(;z>H.length;)H="0"+H;return H},u=function(L,S,z,H){return h(L)?H[S]:z[S]},at="",rt=!1;if(S)for(H=0;L.length>H;H++)if(rt)"'"!==L.charAt(H)||h("'")?at+=L.charAt(H):rt=!1;else switch(L.charAt(H)){case"d":at+=l("d",S.getDate(),2);break;case"D":at+=u("D",S.getDay(),tt,it);break;case"o":at+=l("o",Math.round((new Date(S.getFullYear(),S.getMonth(),S.getDate()).getTime()-new Date(S.getFullYear(),0,0).getTime())/864e5),3);break;case"m":at+=l("m",S.getMonth()+1,2);break;case"M":at+=u("M",S.getMonth(),nt,ot);break;case"y":at+=h("y")?S.getFullYear():(10>S.getYear()%100?"0":"")+S.getYear()%100;break;case"@":at+=S.getTime();break;case"!":at+=1e4*S.getTime()+this._ticksTo1970;break;case"'":h("'")?at+="'":rt=!0;break;default:at+=L.charAt(H)}return at},_possibleChars:function(L){var S,z="",H=!1,n=function(z){var H=L.length>S+1&&L.charAt(S+1)===z;return H&&S++,H};for(S=0;L.length>S;S++)if(H)"'"!==L.charAt(S)||n("'")?z+=L.charAt(S):H=!1;else switch(L.charAt(S)){case"d":case"m":case"y":case"@":z+="0123456789";break;case"D":case"M":return null;case"'":n("'")?z+="'":H=!0;break;default:z+=L.charAt(S)}return z},_get:function(L,S){return void 0!==L.settings[S]?L.settings[S]:this._defaults[S]},_setDateFromField:function(L,S){if(L.input.val()!==L.lastVal){var z=this._get(L,"dateFormat"),H=L.lastVal=L.input?L.input.val():null,tt=this._getDefaultDate(L),it=tt,nt=this._getFormatConfig(L);try{it=this.parseDate(z,H,nt)||tt}catch(L){H=S?"":H}L.selectedDay=it.getDate(),L.drawMonth=L.selectedMonth=it.getMonth(),L.drawYear=L.selectedYear=it.getFullYear(),L.currentDay=H?it.getDate():0,L.currentMonth=H?it.getMonth():0,L.currentYear=H?it.getFullYear():0,this._adjustInstDate(L)}},_getDefaultDate:function(L){return this._restrictMinMax(L,this._determineDate(L,this._get(L,"defaultDate"),new Date))},_determineDate:function(S,z,H){var n=function(L){var S=new Date;return S.setDate(S.getDate()+L),S},a=function(z){try{return L.datepicker.parseDate(L.datepicker._get(S,"dateFormat"),z,L.datepicker._getFormatConfig(S))}catch(L){}for(var H=(z.toLowerCase().match(/^c/)?L.datepicker._getDate(S):null)||new Date,tt=H.getFullYear(),it=H.getMonth(),nt=H.getDate(),ot=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,at=ot.exec(z);at;){switch(at[2]||"d"){case"d":case"D":nt+=parseInt(at[1],10);break;case"w":case"W":nt+=7*parseInt(at[1],10);break;case"m":case"M":it+=parseInt(at[1],10),nt=Math.min(nt,L.datepicker._getDaysInMonth(tt,it));break;case"y":case"Y":tt+=parseInt(at[1],10),nt=Math.min(nt,L.datepicker._getDaysInMonth(tt,it))}at=ot.exec(z)}return new Date(tt,it,nt)},tt=null==z||""===z?H:"string"==typeof z?a(z):"number"==typeof z?isNaN(z)?H:n(z):new Date(z.getTime());return(tt=tt&&"Invalid Date"==""+tt?H:tt)&&(tt.setHours(0),tt.setMinutes(0),tt.setSeconds(0),tt.setMilliseconds(0)),this._daylightSavingAdjust(tt)},_daylightSavingAdjust:function(L){return L?(L.setHours(L.getHours()>12?L.getHours()+2:0),L):null},_setDate:function(L,S,z){var H=!S,tt=L.selectedMonth,it=L.selectedYear,nt=this._restrictMinMax(L,this._determineDate(L,S,new Date));L.selectedDay=L.currentDay=nt.getDate(),L.drawMonth=L.selectedMonth=L.currentMonth=nt.getMonth(),L.drawYear=L.selectedYear=L.currentYear=nt.getFullYear(),tt===L.selectedMonth&&it===L.selectedYear||z||this._notifyChange(L),this._adjustInstDate(L),L.input&&L.input.val(H?"":this._formatDate(L))},_getDate:function(L){return!L.currentYear||L.input&&""===L.input.val()?null:this._daylightSavingAdjust(new Date(L.currentYear,L.currentMonth,L.currentDay))},_attachHandlers:function(S){var z=this._get(S,"stepMonths"),H="#"+S.id.replace(/\\\\/g,"\\");S.dpDiv.find("[data-handler]").map((function(){var S={prev:function(){L.datepicker._adjustDate(H,-z,"M")},next:function(){L.datepicker._adjustDate(H,+z,"M")},hide:function(){L.datepicker._hideDatepicker()},today:function(){L.datepicker._gotoToday(H)},selectDay:function(){return L.datepicker._selectDay(H,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return L.datepicker._selectMonthYear(H,this,"M"),!1},selectYear:function(){return L.datepicker._selectMonthYear(H,this,"Y"),!1}};L(this).bind(this.getAttribute("data-event"),S[this.getAttribute("data-handler")])}))},_generateHTML:function(L){var S,z,H,tt,it,nt,ot,at,rt,ht,dt,pt,gt,_t,bt,xt,kt,Ct,Lt,Tt,Et,Mt,Pt,Dt,It,At,Ot,Nt,zt,Rt,Ht,Wt,Zt,Yt,Kt,Xt,Qt,te,ee,re=new Date,ke=this._daylightSavingAdjust(new Date(re.getFullYear(),re.getMonth(),re.getDate())),Pe=this._get(L,"isRTL"),Ae=this._get(L,"showButtonPanel"),Ne=this._get(L,"hideIfNoPrevNext"),ze=this._get(L,"navigationAsDateFormat"),Re=this._getNumberOfMonths(L),We=this._get(L,"showCurrentAtPos"),Qe=this._get(L,"stepMonths"),ti=1!==Re[0]||1!==Re[1],ei=this._daylightSavingAdjust(L.currentDay?new Date(L.currentYear,L.currentMonth,L.currentDay):new Date(9999,9,9)),ii=this._getMinMaxDate(L,"min"),ni=this._getMinMaxDate(L,"max"),oi=L.drawMonth-We,si=L.drawYear;if(0>oi&&(oi+=12,si--),ni)for(S=this._daylightSavingAdjust(new Date(ni.getFullYear(),ni.getMonth()-Re[0]*Re[1]+1,ni.getDate())),S=ii&&ii>S?ii:S;this._daylightSavingAdjust(new Date(si,oi,1))>S;)0>--oi&&(oi=11,si--);for(L.drawMonth=oi,L.drawYear=si,z=this._get(L,"prevText"),z=ze?this.formatDate(z,this._daylightSavingAdjust(new Date(si,oi-Qe,1)),this._getFormatConfig(L)):z,H=this._canAdjustMonth(L,-1,si,oi)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+z+"'><span class='ui-icon ui-icon-circle-triangle-"+(Pe?"e":"w")+"'>"+z+"</span></a>":Ne?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+z+"'><span class='ui-icon ui-icon-circle-triangle-"+(Pe?"e":"w")+"'>"+z+"</span></a>",tt=this._get(L,"nextText"),tt=ze?this.formatDate(tt,this._daylightSavingAdjust(new Date(si,oi+Qe,1)),this._getFormatConfig(L)):tt,it=this._canAdjustMonth(L,1,si,oi)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+tt+"'><span class='ui-icon ui-icon-circle-triangle-"+(Pe?"w":"e")+"'>"+tt+"</span></a>":Ne?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+tt+"'><span class='ui-icon ui-icon-circle-triangle-"+(Pe?"w":"e")+"'>"+tt+"</span></a>",nt=this._get(L,"currentText"),ot=this._get(L,"gotoCurrent")&&L.currentDay?ei:ke,nt=ze?this.formatDate(nt,ot,this._getFormatConfig(L)):nt,at=L.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(L,"closeText")+"</button>",rt=Ae?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Pe?at:"")+(this._isInRange(L,ot)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+nt+"</button>":"")+(Pe?"":at)+"</div>":"",ht=parseInt(this._get(L,"firstDay"),10),ht=isNaN(ht)?0:ht,dt=this._get(L,"showWeek"),pt=this._get(L,"dayNames"),gt=this._get(L,"dayNamesMin"),_t=this._get(L,"monthNames"),bt=this._get(L,"monthNamesShort"),xt=this._get(L,"beforeShowDay"),kt=this._get(L,"showOtherMonths"),Ct=this._get(L,"selectOtherMonths"),Lt=this._getDefaultDate(L),Tt="",Mt=0;Re[0]>Mt;Mt++){for(Pt="",this.maxRows=4,Dt=0;Re[1]>Dt;Dt++){if(It=this._daylightSavingAdjust(new Date(si,oi,L.selectedDay)),At=" ui-corner-all",Ot="",ti){if(Ot+="<div class='ui-datepicker-group",Re[1]>1)switch(Dt){case 0:Ot+=" ui-datepicker-group-first",At=" ui-corner-"+(Pe?"right":"left");break;case Re[1]-1:Ot+=" ui-datepicker-group-last",At=" ui-corner-"+(Pe?"left":"right");break;default:Ot+=" ui-datepicker-group-middle",At=""}Ot+="'>"}for(Ot+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+At+"'>"+(/all|left/.test(At)&&0===Mt?Pe?it:H:"")+(/all|right/.test(At)&&0===Mt?Pe?H:it:"")+this._generateMonthYearHeader(L,oi,si,ii,ni,Mt>0||Dt>0,_t,bt)+"</div><table class='ui-datepicker-calendar'><thead><tr>",Nt=dt?"<th class='ui-datepicker-week-col'>"+this._get(L,"weekHeader")+"</th>":"",Et=0;7>Et;Et++)Nt+="<th scope='col'"+((Et+ht+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+pt[zt=(Et+ht)%7]+"'>"+gt[zt]+"</span></th>";for(Ot+=Nt+"</tr></thead><tbody>",Rt=this._getDaysInMonth(si,oi),si===L.selectedYear&&oi===L.selectedMonth&&(L.selectedDay=Math.min(L.selectedDay,Rt)),Ht=(this._getFirstDayOfMonth(si,oi)-ht+7)%7,Wt=Math.ceil((Ht+Rt)/7),Zt=ti&&this.maxRows>Wt?this.maxRows:Wt,this.maxRows=Zt,Yt=this._daylightSavingAdjust(new Date(si,oi,1-Ht)),Kt=0;Zt>Kt;Kt++){for(Ot+="<tr>",Xt=dt?"<td class='ui-datepicker-week-col'>"+this._get(L,"calculateWeek")(Yt)+"</td>":"",Et=0;7>Et;Et++)Qt=xt?xt.apply(L.input?L.input[0]:null,[Yt]):[!0,""],ee=(te=Yt.getMonth()!==oi)&&!Ct||!Qt[0]||ii&&ii>Yt||ni&&Yt>ni,Xt+="<td class='"+((Et+ht+6)%7>=5?" ui-datepicker-week-end":"")+(te?" ui-datepicker-other-month":"")+(Yt.getTime()===It.getTime()&&oi===L.selectedMonth&&L._keyEvent||Lt.getTime()===Yt.getTime()&&Lt.getTime()===It.getTime()?" "+this._dayOverClass:"")+(ee?" "+this._unselectableClass+" ui-state-disabled":"")+(te&&!kt?"":" "+Qt[1]+(Yt.getTime()===ei.getTime()?" "+this._currentClass:"")+(Yt.getTime()===ke.getTime()?" ui-datepicker-today":""))+"'"+(te&&!kt||!Qt[2]?"":" title='"+Qt[2].replace(/'/g,"&#39;")+"'")+(ee?"":" data-handler='selectDay' data-event='click' data-month='"+Yt.getMonth()+"' data-year='"+Yt.getFullYear()+"'")+">"+(te&&!kt?"&#xa0;":ee?"<span class='ui-state-default'>"+Yt.getDate()+"</span>":"<a class='ui-state-default"+(Yt.getTime()===ke.getTime()?" ui-state-highlight":"")+(Yt.getTime()===ei.getTime()?" ui-state-active":"")+(te?" ui-priority-secondary":"")+"' href='#'>"+Yt.getDate()+"</a>")+"</td>",Yt.setDate(Yt.getDate()+1),Yt=this._daylightSavingAdjust(Yt);Ot+=Xt+"</tr>"}++oi>11&&(oi=0,si++),Pt+=Ot+="</tbody></table>"+(ti?"</div>"+(Re[0]>0&&Dt===Re[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}Tt+=Pt}return Tt+=rt,L._keyEvent=!1,Tt},_generateMonthYearHeader:function(L,S,z,H,tt,it,nt,ot){var at,rt,ht,dt,pt,gt,_t,bt,xt=this._get(L,"changeMonth"),kt=this._get(L,"changeYear"),Ct=this._get(L,"showMonthAfterYear"),Lt="<div class='ui-datepicker-title'>",Tt="";if(it||!xt)Tt+="<span class='ui-datepicker-month'>"+nt[S]+"</span>";else{for(at=H&&H.getFullYear()===z,rt=tt&&tt.getFullYear()===z,Tt+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",ht=0;12>ht;ht++)(!at||ht>=H.getMonth())&&(!rt||tt.getMonth()>=ht)&&(Tt+="<option value='"+ht+"'"+(ht===S?" selected='selected'":"")+">"+ot[ht]+"</option>");Tt+="</select>"}if(Ct||(Lt+=Tt+(!it&&xt&&kt?"":"&#xa0;")),!L.yearshtml)if(L.yearshtml="",it||!kt)Lt+="<span class='ui-datepicker-year'>"+z+"</span>";else{for(dt=this._get(L,"yearRange").split(":"),pt=(new Date).getFullYear(),gt=function(L){var S=L.match(/c[+\-].*/)?z+parseInt(L.substring(1),10):L.match(/[+\-].*/)?pt+parseInt(L,10):parseInt(L,10);return isNaN(S)?pt:S},_t=gt(dt[0]),bt=Math.max(_t,gt(dt[1]||"")),_t=H?Math.max(_t,H.getFullYear()):_t,bt=tt?Math.min(bt,tt.getFullYear()):bt,L.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";bt>=_t;_t++)L.yearshtml+="<option value='"+_t+"'"+(_t===z?" selected='selected'":"")+">"+_t+"</option>";L.yearshtml+="</select>",Lt+=L.yearshtml,L.yearshtml=null}return Lt+=this._get(L,"yearSuffix"),Ct&&(Lt+=(!it&&xt&&kt?"":"&#xa0;")+Tt),Lt+"</div>"},_adjustInstDate:function(L,S,z){var H=L.drawYear+("Y"===z?S:0),tt=L.drawMonth+("M"===z?S:0),it=Math.min(L.selectedDay,this._getDaysInMonth(H,tt))+("D"===z?S:0),nt=this._restrictMinMax(L,this._daylightSavingAdjust(new Date(H,tt,it)));L.selectedDay=nt.getDate(),L.drawMonth=L.selectedMonth=nt.getMonth(),L.drawYear=L.selectedYear=nt.getFullYear(),("M"===z||"Y"===z)&&this._notifyChange(L)},_restrictMinMax:function(L,S){var z=this._getMinMaxDate(L,"min"),H=this._getMinMaxDate(L,"max"),tt=z&&z>S?z:S;return H&&tt>H?H:tt},_notifyChange:function(L){var S=this._get(L,"onChangeMonthYear");S&&S.apply(L.input?L.input[0]:null,[L.selectedYear,L.selectedMonth+1,L])},_getNumberOfMonths:function(L){var S=this._get(L,"numberOfMonths");return null==S?[1,1]:"number"==typeof S?[1,S]:S},_getMinMaxDate:function(L,S){return this._determineDate(L,this._get(L,S+"Date"),null)},_getDaysInMonth:function(L,S){return 32-this._daylightSavingAdjust(new Date(L,S,32)).getDate()},_getFirstDayOfMonth:function(L,S){return new Date(L,S,1).getDay()},_canAdjustMonth:function(L,S,z,H){var tt=this._getNumberOfMonths(L),it=this._daylightSavingAdjust(new Date(z,H+(0>S?S:tt[0]*tt[1]),1));return 0>S&&it.setDate(this._getDaysInMonth(it.getFullYear(),it.getMonth())),this._isInRange(L,it)},_isInRange:function(L,S){var z,H,tt=this._getMinMaxDate(L,"min"),it=this._getMinMaxDate(L,"max"),nt=null,ot=null,at=this._get(L,"yearRange");return at&&(z=at.split(":"),H=(new Date).getFullYear(),nt=parseInt(z[0],10),ot=parseInt(z[1],10),z[0].match(/[+\-].*/)&&(nt+=H),z[1].match(/[+\-].*/)&&(ot+=H)),(!tt||S.getTime()>=tt.getTime())&&(!it||S.getTime()<=it.getTime())&&(!nt||S.getFullYear()>=nt)&&(!ot||ot>=S.getFullYear())},_getFormatConfig:function(L){var S=this._get(L,"shortYearCutoff");return{shortYearCutoff:S="string"!=typeof S?S:(new Date).getFullYear()%100+parseInt(S,10),dayNamesShort:this._get(L,"dayNamesShort"),dayNames:this._get(L,"dayNames"),monthNamesShort:this._get(L,"monthNamesShort"),monthNames:this._get(L,"monthNames")}},_formatDate:function(L,S,z,H){S||(L.currentDay=L.selectedDay,L.currentMonth=L.selectedMonth,L.currentYear=L.selectedYear);var tt=S?"object"==typeof S?S:this._daylightSavingAdjust(new Date(H,z,S)):this._daylightSavingAdjust(new Date(L.currentYear,L.currentMonth,L.currentDay));return this.formatDate(this._get(L,"dateFormat"),tt,this._getFormatConfig(L))}}),L.fn.datepicker=function(S){if(!this.length)return this;L.datepicker.initialized||(L(document).mousedown(L.datepicker._checkExternalClick),L.datepicker.initialized=!0),0===L("#"+L.datepicker._mainDivId).length&&L("body").append(L.datepicker.dpDiv);var z=Array.prototype.slice.call(arguments,1);return"string"!=typeof S||"isDisabled"!==S&&"getDate"!==S&&"widget"!==S?"option"===S&&2===arguments.length&&"string"==typeof arguments[1]?L.datepicker["_"+S+"Datepicker"].apply(L.datepicker,[this[0]].concat(z)):this.each((function(){"string"==typeof S?L.datepicker["_"+S+"Datepicker"].apply(L.datepicker,[this].concat(z)):L.datepicker._attachDatepicker(this,S)})):L.datepicker["_"+S+"Datepicker"].apply(L.datepicker,[this[0]].concat(z))},L.datepicker=new n,L.datepicker.initialized=!1,L.datepicker.uuid=(new Date).getTime(),L.datepicker.version="1.11.1",L.datepicker,L.widget("ui.draggable",L.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(L,S){this._super(L,S),"handle"===L&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(S){var z=this.document[0],H=this.options;try{z.activeElement&&"body"!==z.activeElement.nodeName.toLowerCase()&&L(z.activeElement).blur()}catch(L){}return!(this.helper||H.disabled||L(S.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(S),!this.handle||(L(!0===H.iframeFix?"iframe":H.iframeFix).each((function(){L("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(L(this).offset()).appendTo("body")})),0)))},_mouseStart:function(S){var z=this.options;return this.helper=this._createHelper(S),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),L.ui.ddmanager&&(L.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,L.extend(this.offset,{click:{left:S.pageX-this.offset.left,top:S.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(S,!1),this.originalPageX=S.pageX,this.originalPageY=S.pageY,z.cursorAt&&this._adjustOffsetFromHelper(z.cursorAt),this._setContainment(),!1===this._trigger("start",S)?(this._clear(),!1):(this._cacheHelperProportions(),L.ui.ddmanager&&!z.dropBehaviour&&L.ui.ddmanager.prepareOffsets(this,S),this._mouseDrag(S,!0),L.ui.ddmanager&&L.ui.ddmanager.dragStart(this,S),!0)},_mouseDrag:function(S,z){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(S,!0),this.positionAbs=this._convertPositionTo("absolute"),!z){var H=this._uiHash();if(!1===this._trigger("drag",S,H))return this._mouseUp({}),!1;this.position=H.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",L.ui.ddmanager&&L.ui.ddmanager.drag(this,S),!1},_mouseStop:function(S){var z=this,H=!1;return L.ui.ddmanager&&!this.options.dropBehaviour&&(H=L.ui.ddmanager.drop(this,S)),this.dropped&&(H=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!H||"valid"===this.options.revert&&H||!0===this.options.revert||L.isFunction(this.options.revert)&&this.options.revert.call(this.element,H)?L(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==z._trigger("stop",S)&&z._clear()})):!1!==this._trigger("stop",S)&&this._clear(),!1},_mouseUp:function(S){return L("div.ui-draggable-iframeFix").each((function(){this.parentNode.removeChild(this)})),L.ui.ddmanager&&L.ui.ddmanager.dragStop(this,S),this.element.focus(),L.ui.mouse.prototype._mouseUp.call(this,S)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(S){return!this.options.handle||!!L(S.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(S){var z=this.options,H=L.isFunction(z.helper)?L(z.helper.apply(this.element[0],[S])):"clone"===z.helper?this.element.clone().removeAttr("id"):this.element;return H.parents("body").length||H.appendTo("parent"===z.appendTo?this.element[0].parentNode:z.appendTo),H[0]===this.element[0]||/(fixed|absolute)/.test(H.css("position"))||H.css("position","absolute"),H},_adjustOffsetFromHelper:function(S){"string"==typeof S&&(S=S.split(" ")),L.isArray(S)&&(S={left:+S[0],top:+S[1]||0}),"left"in S&&(this.offset.click.left=S.left+this.margins.left),"right"in S&&(this.offset.click.left=this.helperProportions.width-S.right+this.margins.left),"top"in S&&(this.offset.click.top=S.top+this.margins.top),"bottom"in S&&(this.offset.click.top=this.helperProportions.height-S.bottom+this.margins.top)},_isRootNode:function(L){return/(html|body)/i.test(L.tagName)||L===this.document[0]},_getParentOffset:function(){var S=this.offsetParent.offset(),z=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==z&&L.contains(this.scrollParent[0],this.offsetParent[0])&&(S.left+=this.scrollParent.scrollLeft(),S.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(S={top:0,left:0}),{top:S.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:S.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var L=this.element.position(),S=this._isRootNode(this.scrollParent[0]);return{top:L.top-(parseInt(this.helper.css("top"),10)||0)+(S?0:this.scrollParent.scrollTop()),left:L.left-(parseInt(this.helper.css("left"),10)||0)+(S?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var S,z,H,tt=this.options,it=this.document[0];return this.relativeContainer=null,tt.containment?"window"===tt.containment?void(this.containment=[L(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,L(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,L(window).scrollLeft()+L(window).width()-this.helperProportions.width-this.margins.left,L(window).scrollTop()+(L(window).height()||it.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===tt.containment?void(this.containment=[0,0,L(it).width()-this.helperProportions.width-this.margins.left,(L(it).height()||it.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):tt.containment.constructor===Array?void(this.containment=tt.containment):("parent"===tt.containment&&(tt.containment=this.helper[0].parentNode),void((H=(z=L(tt.containment))[0])&&(S="hidden"!==z.css("overflow"),this.containment=[(parseInt(z.css("borderLeftWidth"),10)||0)+(parseInt(z.css("paddingLeft"),10)||0),(parseInt(z.css("borderTopWidth"),10)||0)+(parseInt(z.css("paddingTop"),10)||0),(S?Math.max(H.scrollWidth,H.offsetWidth):H.offsetWidth)-(parseInt(z.css("borderRightWidth"),10)||0)-(parseInt(z.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(S?Math.max(H.scrollHeight,H.offsetHeight):H.offsetHeight)-(parseInt(z.css("borderBottomWidth"),10)||0)-(parseInt(z.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=z))):void(this.containment=null)},_convertPositionTo:function(L,S){S||(S=this.position);var z="absolute"===L?1:-1,H=this._isRootNode(this.scrollParent[0]);return{top:S.top+this.offset.relative.top*z+this.offset.parent.top*z-("fixed"===this.cssPosition?-this.offset.scroll.top:H?0:this.offset.scroll.top)*z,left:S.left+this.offset.relative.left*z+this.offset.parent.left*z-("fixed"===this.cssPosition?-this.offset.scroll.left:H?0:this.offset.scroll.left)*z}},_generatePosition:function(L,S){var z,H,tt,it,nt=this.options,ot=this._isRootNode(this.scrollParent[0]),at=L.pageX,rt=L.pageY;return ot&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),S&&(this.containment&&(this.relativeContainer?(H=this.relativeContainer.offset(),z=[this.containment[0]+H.left,this.containment[1]+H.top,this.containment[2]+H.left,this.containment[3]+H.top]):z=this.containment,L.pageX-this.offset.click.left<z[0]&&(at=z[0]+this.offset.click.left),L.pageY-this.offset.click.top<z[1]&&(rt=z[1]+this.offset.click.top),L.pageX-this.offset.click.left>z[2]&&(at=z[2]+this.offset.click.left),L.pageY-this.offset.click.top>z[3]&&(rt=z[3]+this.offset.click.top)),nt.grid&&(tt=nt.grid[1]?this.originalPageY+Math.round((rt-this.originalPageY)/nt.grid[1])*nt.grid[1]:this.originalPageY,rt=z?tt-this.offset.click.top>=z[1]||tt-this.offset.click.top>z[3]?tt:tt-this.offset.click.top>=z[1]?tt-nt.grid[1]:tt+nt.grid[1]:tt,it=nt.grid[0]?this.originalPageX+Math.round((at-this.originalPageX)/nt.grid[0])*nt.grid[0]:this.originalPageX,at=z?it-this.offset.click.left>=z[0]||it-this.offset.click.left>z[2]?it:it-this.offset.click.left>=z[0]?it-nt.grid[0]:it+nt.grid[0]:it),"y"===nt.axis&&(at=this.originalPageX),"x"===nt.axis&&(rt=this.originalPageY)),{top:rt-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:ot?0:this.offset.scroll.top),left:at-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:ot?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(S,z,H){return H=H||this._uiHash(),L.ui.plugin.call(this,S,[z,H,this],!0),"drag"===S&&(this.positionAbs=this._convertPositionTo("absolute")),L.Widget.prototype._trigger.call(this,S,z,H)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),L.ui.plugin.add("draggable","connectToSortable",{start:function(S,z,H){var tt=H.options,it=L.extend({},z,{item:H.element});H.sortables=[],L(tt.connectToSortable).each((function(){var z=L(this).sortable("instance");z&&!z.options.disabled&&(H.sortables.push({instance:z,shouldRevert:z.options.revert}),z.refreshPositions(),z._trigger("activate",S,it))}))},stop:function(S,z,H){var tt=L.extend({},z,{item:H.element});L.each(H.sortables,(function(){this.instance.isOver?(this.instance.isOver=0,H.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(S),this.instance.options.helper=this.instance.options._helper,"original"===H.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",S,tt))}))},drag:function(S,z,H){var tt=this;L.each(H.sortables,(function(){var it=!1,nt=this;this.instance.positionAbs=H.positionAbs,this.instance.helperProportions=H.helperProportions,this.instance.offset.click=H.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(it=!0,L.each(H.sortables,(function(){return this.instance.positionAbs=H.positionAbs,this.instance.helperProportions=H.helperProportions,this.instance.offset.click=H.offset.click,this!==nt&&this.instance._intersectsWith(this.instance.containerCache)&&L.contains(nt.instance.element[0],this.instance.element[0])&&(it=!1),it}))),it?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=L(tt).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return z.helper[0]},S.target=this.instance.currentItem[0],this.instance._mouseCapture(S,!0),this.instance._mouseStart(S,!0,!0),this.instance.offset.click.top=H.offset.click.top,this.instance.offset.click.left=H.offset.click.left,this.instance.offset.parent.left-=H.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=H.offset.parent.top-this.instance.offset.parent.top,H._trigger("toSortable",S),H.dropped=this.instance.element,H.currentItem=H.element,this.instance.fromOutside=H),this.instance.currentItem&&this.instance._mouseDrag(S)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",S,this.instance._uiHash(this.instance)),this.instance._mouseStop(S,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),H._trigger("fromSortable",S),H.dropped=!1)}))}}),L.ui.plugin.add("draggable","cursor",{start:function(S,z,H){var tt=L("body"),it=H.options;tt.css("cursor")&&(it._cursor=tt.css("cursor")),tt.css("cursor",it.cursor)},stop:function(S,z,H){var tt=H.options;tt._cursor&&L("body").css("cursor",tt._cursor)}}),L.ui.plugin.add("draggable","opacity",{start:function(S,z,H){var tt=L(z.helper),it=H.options;tt.css("opacity")&&(it._opacity=tt.css("opacity")),tt.css("opacity",it.opacity)},stop:function(S,z,H){var tt=H.options;tt._opacity&&L(z.helper).css("opacity",tt._opacity)}}),L.ui.plugin.add("draggable","scroll",{start:function(L,S,z){z.scrollParentNotHidden||(z.scrollParentNotHidden=z.helper.scrollParent(!1)),z.scrollParentNotHidden[0]!==z.document[0]&&"HTML"!==z.scrollParentNotHidden[0].tagName&&(z.overflowOffset=z.scrollParentNotHidden.offset())},drag:function(S,z,H){var tt=H.options,it=!1,nt=H.scrollParentNotHidden[0],ot=H.document[0];nt!==ot&&"HTML"!==nt.tagName?(tt.axis&&"x"===tt.axis||(H.overflowOffset.top+nt.offsetHeight-S.pageY<tt.scrollSensitivity?nt.scrollTop=it=nt.scrollTop+tt.scrollSpeed:S.pageY-H.overflowOffset.top<tt.scrollSensitivity&&(nt.scrollTop=it=nt.scrollTop-tt.scrollSpeed)),tt.axis&&"y"===tt.axis||(H.overflowOffset.left+nt.offsetWidth-S.pageX<tt.scrollSensitivity?nt.scrollLeft=it=nt.scrollLeft+tt.scrollSpeed:S.pageX-H.overflowOffset.left<tt.scrollSensitivity&&(nt.scrollLeft=it=nt.scrollLeft-tt.scrollSpeed))):(tt.axis&&"x"===tt.axis||(S.pageY-L(ot).scrollTop()<tt.scrollSensitivity?it=L(ot).scrollTop(L(ot).scrollTop()-tt.scrollSpeed):L(window).height()-(S.pageY-L(ot).scrollTop())<tt.scrollSensitivity&&(it=L(ot).scrollTop(L(ot).scrollTop()+tt.scrollSpeed))),tt.axis&&"y"===tt.axis||(S.pageX-L(ot).scrollLeft()<tt.scrollSensitivity?it=L(ot).scrollLeft(L(ot).scrollLeft()-tt.scrollSpeed):L(window).width()-(S.pageX-L(ot).scrollLeft())<tt.scrollSensitivity&&(it=L(ot).scrollLeft(L(ot).scrollLeft()+tt.scrollSpeed)))),!1!==it&&L.ui.ddmanager&&!tt.dropBehaviour&&L.ui.ddmanager.prepareOffsets(H,S)}}),L.ui.plugin.add("draggable","snap",{start:function(S,z,H){var tt=H.options;H.snapElements=[],L(tt.snap.constructor!==String?tt.snap.items||":data(ui-draggable)":tt.snap).each((function(){var S=L(this),z=S.offset();this!==H.element[0]&&H.snapElements.push({item:this,width:S.outerWidth(),height:S.outerHeight(),top:z.top,left:z.left})}))},drag:function(S,z,H){var tt,it,nt,ot,at,rt,ht,dt,pt,gt,_t=H.options,bt=_t.snapTolerance,xt=z.offset.left,kt=xt+H.helperProportions.width,Ct=z.offset.top,Lt=Ct+H.helperProportions.height;for(pt=H.snapElements.length-1;pt>=0;pt--)rt=(at=H.snapElements[pt].left)+H.snapElements[pt].width,dt=(ht=H.snapElements[pt].top)+H.snapElements[pt].height,at-bt>kt||xt>rt+bt||ht-bt>Lt||Ct>dt+bt||!L.contains(H.snapElements[pt].item.ownerDocument,H.snapElements[pt].item)?(H.snapElements[pt].snapping&&H.options.snap.release&&H.options.snap.release.call(H.element,S,L.extend(H._uiHash(),{snapItem:H.snapElements[pt].item})),H.snapElements[pt].snapping=!1):("inner"!==_t.snapMode&&(tt=bt>=Math.abs(ht-Lt),it=bt>=Math.abs(dt-Ct),nt=bt>=Math.abs(at-kt),ot=bt>=Math.abs(rt-xt),tt&&(z.position.top=H._convertPositionTo("relative",{top:ht-H.helperProportions.height,left:0}).top-H.margins.top),it&&(z.position.top=H._convertPositionTo("relative",{top:dt,left:0}).top-H.margins.top),nt&&(z.position.left=H._convertPositionTo("relative",{top:0,left:at-H.helperProportions.width}).left-H.margins.left),ot&&(z.position.left=H._convertPositionTo("relative",{top:0,left:rt}).left-H.margins.left)),gt=tt||it||nt||ot,"outer"!==_t.snapMode&&(tt=bt>=Math.abs(ht-Ct),it=bt>=Math.abs(dt-Lt),nt=bt>=Math.abs(at-xt),ot=bt>=Math.abs(rt-kt),tt&&(z.position.top=H._convertPositionTo("relative",{top:ht,left:0}).top-H.margins.top),it&&(z.position.top=H._convertPositionTo("relative",{top:dt-H.helperProportions.height,left:0}).top-H.margins.top),nt&&(z.position.left=H._convertPositionTo("relative",{top:0,left:at}).left-H.margins.left),ot&&(z.position.left=H._convertPositionTo("relative",{top:0,left:rt-H.helperProportions.width}).left-H.margins.left)),!H.snapElements[pt].snapping&&(tt||it||nt||ot||gt)&&H.options.snap.snap&&H.options.snap.snap.call(H.element,S,L.extend(H._uiHash(),{snapItem:H.snapElements[pt].item})),H.snapElements[pt].snapping=tt||it||nt||ot||gt)}}),L.ui.plugin.add("draggable","stack",{start:function(S,z,H){var tt,it=H.options,nt=L.makeArray(L(it.stack)).sort((function(S,z){return(parseInt(L(S).css("zIndex"),10)||0)-(parseInt(L(z).css("zIndex"),10)||0)}));nt.length&&(tt=parseInt(L(nt[0]).css("zIndex"),10)||0,L(nt).each((function(S){L(this).css("zIndex",tt+S)})),this.css("zIndex",tt+nt.length))}}),L.ui.plugin.add("draggable","zIndex",{start:function(S,z,H){var tt=L(z.helper),it=H.options;tt.css("zIndex")&&(it._zIndex=tt.css("zIndex")),tt.css("zIndex",it.zIndex)},stop:function(S,z,H){var tt=H.options;tt._zIndex&&L(z.helper).css("zIndex",tt._zIndex)}}),L.ui.draggable,L.widget("ui.resizable",L.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(L){return parseInt(L,10)||0},_isNumber:function(L){return!isNaN(parseInt(L,10))},_hasScroll:function(S,z){if("hidden"===L(S).css("overflow"))return!1;var H=z&&"left"===z?"scrollLeft":"scrollTop",tt=!1;return S[H]>0||(S[H]=1,tt=S[H]>0,S[H]=0,tt)},_create:function(){var S,z,H,tt,it=this,nt=this.options;if(this.element.addClass("ui-resizable"),L.extend(this,{_aspectRatio:!!nt.aspectRatio,aspectRatio:nt.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:nt.helper||nt.ghost||nt.animate?nt.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(L("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=nt.handles||(L(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),S=this.handles.split(","),this.handles={},z=0;S.length>z;z++)H=L.trim(S[z]),(tt=L("<div class='ui-resizable-handle ui-resizable-"+H+"'></div>")).css({zIndex:nt.zIndex}),"se"===H&&tt.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[H]=".ui-resizable-"+H,this.element.append(tt);this._renderAxis=function(S){var z,H,tt,it;for(z in S=S||this.element,this.handles)this.handles[z].constructor===String&&(this.handles[z]=this.element.children(this.handles[z]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(H=L(this.handles[z],this.element),it=/sw|ne|nw|se|n|s/.test(z)?H.outerHeight():H.outerWidth(),tt=["padding",/ne|nw|n/.test(z)?"Top":/se|sw|s/.test(z)?"Bottom":/^e$/.test(z)?"Right":"Left"].join(""),S.css(tt,it),this._proportionallyResize()),L(this.handles[z]).length},this._renderAxis(this.element),this._handles=L(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover((function(){it.resizing||(this.className&&(tt=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),it.axis=tt&&tt[1]?tt[1]:"se")})),nt.autoHide&&(this._handles.hide(),L(this.element).addClass("ui-resizable-autohide").mouseenter((function(){nt.disabled||(L(this).removeClass("ui-resizable-autohide"),it._handles.show())})).mouseleave((function(){nt.disabled||it.resizing||(L(this).addClass("ui-resizable-autohide"),it._handles.hide())}))),this._mouseInit()},_destroy:function(){this._mouseDestroy();var S,i=function(S){L(S).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),S=this.element,this.originalElement.css({position:S.css("position"),width:S.outerWidth(),height:S.outerHeight(),top:S.css("top"),left:S.css("left")}).insertAfter(S),S.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(S){var z,H,tt=!1;for(z in this.handles)((H=L(this.handles[z])[0])===S.target||L.contains(H,S.target))&&(tt=!0);return!this.options.disabled&&tt},_mouseStart:function(S){var z,H,tt,it=this.options,nt=this.element;return this.resizing=!0,this._renderProxy(),z=this._num(this.helper.css("left")),H=this._num(this.helper.css("top")),it.containment&&(z+=L(it.containment).scrollLeft()||0,H+=L(it.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:z,top:H},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:nt.width(),height:nt.height()},this.originalSize=this._helper?{width:nt.outerWidth(),height:nt.outerHeight()}:{width:nt.width(),height:nt.height()},this.sizeDiff={width:nt.outerWidth()-nt.width(),height:nt.outerHeight()-nt.height()},this.originalPosition={left:z,top:H},this.originalMousePosition={left:S.pageX,top:S.pageY},this.aspectRatio="number"==typeof it.aspectRatio?it.aspectRatio:this.originalSize.width/this.originalSize.height||1,tt=L(".ui-resizable-"+this.axis).css("cursor"),L("body").css("cursor","auto"===tt?this.axis+"-resize":tt),nt.addClass("ui-resizable-resizing"),this._propagate("start",S),!0},_mouseDrag:function(S){var z,H,tt=this.originalMousePosition,it=this.axis,nt=S.pageX-tt.left||0,ot=S.pageY-tt.top||0,at=this._change[it];return this._updatePrevProperties(),!!at&&(z=at.apply(this,[S,nt,ot]),this._updateVirtualBoundaries(S.shiftKey),(this._aspectRatio||S.shiftKey)&&(z=this._updateRatio(z,S)),z=this._respectSize(z,S),this._updateCache(z),this._propagate("resize",S),H=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),L.isEmptyObject(H)||(this._updatePrevProperties(),this._trigger("resize",S,this.ui()),this._applyChanges()),!1)},_mouseStop:function(S){this.resizing=!1;var z,H,tt,it,nt,ot,at,rt=this.options,ht=this;return this._helper&&(tt=(H=(z=this._proportionallyResizeElements).length&&/textarea/i.test(z[0].nodeName))&&this._hasScroll(z[0],"left")?0:ht.sizeDiff.height,it=H?0:ht.sizeDiff.width,nt={width:ht.helper.width()-it,height:ht.helper.height()-tt},ot=parseInt(ht.element.css("left"),10)+(ht.position.left-ht.originalPosition.left)||null,at=parseInt(ht.element.css("top"),10)+(ht.position.top-ht.originalPosition.top)||null,rt.animate||this.element.css(L.extend(nt,{top:at,left:ot})),ht.helper.height(ht.size.height),ht.helper.width(ht.size.width),this._helper&&!rt.animate&&this._proportionallyResize()),L("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",S),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var L={};return this.position.top!==this.prevPosition.top&&(L.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(L.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(L.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(L.height=this.size.height+"px"),this.helper.css(L),L},_updateVirtualBoundaries:function(L){var S,z,H,tt,it,nt=this.options;it={minWidth:this._isNumber(nt.minWidth)?nt.minWidth:0,maxWidth:this._isNumber(nt.maxWidth)?nt.maxWidth:1/0,minHeight:this._isNumber(nt.minHeight)?nt.minHeight:0,maxHeight:this._isNumber(nt.maxHeight)?nt.maxHeight:1/0},(this._aspectRatio||L)&&(S=it.minHeight*this.aspectRatio,H=it.minWidth/this.aspectRatio,z=it.maxHeight*this.aspectRatio,tt=it.maxWidth/this.aspectRatio,S>it.minWidth&&(it.minWidth=S),H>it.minHeight&&(it.minHeight=H),it.maxWidth>z&&(it.maxWidth=z),it.maxHeight>tt&&(it.maxHeight=tt)),this._vBoundaries=it},_updateCache:function(L){this.offset=this.helper.offset(),this._isNumber(L.left)&&(this.position.left=L.left),this._isNumber(L.top)&&(this.position.top=L.top),this._isNumber(L.height)&&(this.size.height=L.height),this._isNumber(L.width)&&(this.size.width=L.width)},_updateRatio:function(L){var S=this.position,z=this.size,H=this.axis;return this._isNumber(L.height)?L.width=L.height*this.aspectRatio:this._isNumber(L.width)&&(L.height=L.width/this.aspectRatio),"sw"===H&&(L.left=S.left+(z.width-L.width),L.top=null),"nw"===H&&(L.top=S.top+(z.height-L.height),L.left=S.left+(z.width-L.width)),L},_respectSize:function(L){var S=this._vBoundaries,z=this.axis,H=this._isNumber(L.width)&&S.maxWidth&&S.maxWidth<L.width,tt=this._isNumber(L.height)&&S.maxHeight&&S.maxHeight<L.height,it=this._isNumber(L.width)&&S.minWidth&&S.minWidth>L.width,nt=this._isNumber(L.height)&&S.minHeight&&S.minHeight>L.height,ot=this.originalPosition.left+this.originalSize.width,at=this.position.top+this.size.height,rt=/sw|nw|w/.test(z),ht=/nw|ne|n/.test(z);return it&&(L.width=S.minWidth),nt&&(L.height=S.minHeight),H&&(L.width=S.maxWidth),tt&&(L.height=S.maxHeight),it&&rt&&(L.left=ot-S.minWidth),H&&rt&&(L.left=ot-S.maxWidth),nt&&ht&&(L.top=at-S.minHeight),tt&&ht&&(L.top=at-S.maxHeight),L.width||L.height||L.left||!L.top?L.width||L.height||L.top||!L.left||(L.left=null):L.top=null,L},_getPaddingPlusBorderDimensions:function(L){for(var S=0,z=[],H=[L.css("borderTopWidth"),L.css("borderRightWidth"),L.css("borderBottomWidth"),L.css("borderLeftWidth")],tt=[L.css("paddingTop"),L.css("paddingRight"),L.css("paddingBottom"),L.css("paddingLeft")];4>S;S++)z[S]=parseInt(H[S],10)||0,z[S]+=parseInt(tt[S],10)||0;return{height:z[0]+z[2],width:z[1]+z[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var L,S=0,z=this.helper||this.element;this._proportionallyResizeElements.length>S;S++)L=this._proportionallyResizeElements[S],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(L)),L.css({height:z.height()-this.outerDimensions.height||0,width:z.width()-this.outerDimensions.width||0})},_renderProxy:function(){var S=this.element,z=this.options;this.elementOffset=S.offset(),this._helper?(this.helper=this.helper||L("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++z.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(L,S){return{width:this.originalSize.width+S}},w:function(L,S){var z=this.originalSize;return{left:this.originalPosition.left+S,width:z.width-S}},n:function(L,S,z){var H=this.originalSize;return{top:this.originalPosition.top+z,height:H.height-z}},s:function(L,S,z){return{height:this.originalSize.height+z}},se:function(S,z,H){return L.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[S,z,H]))},sw:function(S,z,H){return L.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[S,z,H]))},ne:function(S,z,H){return L.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[S,z,H]))},nw:function(S,z,H){return L.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[S,z,H]))}},_propagate:function(S,z){L.ui.plugin.call(this,S,[z,this.ui()]),"resize"!==S&&this._trigger(S,z,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),L.ui.plugin.add("resizable","animate",{stop:function(S){var z=L(this).resizable("instance"),H=z.options,tt=z._proportionallyResizeElements,it=tt.length&&/textarea/i.test(tt[0].nodeName),nt=it&&z._hasScroll(tt[0],"left")?0:z.sizeDiff.height,ot=it?0:z.sizeDiff.width,at={width:z.size.width-ot,height:z.size.height-nt},rt=parseInt(z.element.css("left"),10)+(z.position.left-z.originalPosition.left)||null,ht=parseInt(z.element.css("top"),10)+(z.position.top-z.originalPosition.top)||null;z.element.animate(L.extend(at,ht&&rt?{top:ht,left:rt}:{}),{duration:H.animateDuration,easing:H.animateEasing,step:function(){var H={width:parseInt(z.element.css("width"),10),height:parseInt(z.element.css("height"),10),top:parseInt(z.element.css("top"),10),left:parseInt(z.element.css("left"),10)};tt&&tt.length&&L(tt[0]).css({width:H.width,height:H.height}),z._updateCache(H),z._propagate("resize",S)}})}}),L.ui.plugin.add("resizable","containment",{start:function(){var S,z,H,tt,it,nt,ot,at=L(this).resizable("instance"),rt=at.options,ht=at.element,dt=rt.containment,pt=dt instanceof L?dt.get(0):/parent/.test(dt)?ht.parent().get(0):dt;pt&&(at.containerElement=L(pt),/document/.test(dt)||dt===document?(at.containerOffset={left:0,top:0},at.containerPosition={left:0,top:0},at.parentData={element:L(document),left:0,top:0,width:L(document).width(),height:L(document).height()||document.body.parentNode.scrollHeight}):(S=L(pt),z=[],L(["Top","Right","Left","Bottom"]).each((function(L,H){z[L]=at._num(S.css("padding"+H))})),at.containerOffset=S.offset(),at.containerPosition=S.position(),at.containerSize={height:S.innerHeight()-z[3],width:S.innerWidth()-z[1]},H=at.containerOffset,tt=at.containerSize.height,it=at.containerSize.width,nt=at._hasScroll(pt,"left")?pt.scrollWidth:it,ot=at._hasScroll(pt)?pt.scrollHeight:tt,at.parentData={element:pt,left:H.left,top:H.top,width:nt,height:ot}))},resize:function(S){var z,H,tt,it,nt=L(this).resizable("instance"),ot=nt.options,at=nt.containerOffset,rt=nt.position,ht=nt._aspectRatio||S.shiftKey,dt={top:0,left:0},pt=nt.containerElement,gt=!0;pt[0]!==document&&/static/.test(pt.css("position"))&&(dt=at),rt.left<(nt._helper?at.left:0)&&(nt.size.width=nt.size.width+(nt._helper?nt.position.left-at.left:nt.position.left-dt.left),ht&&(nt.size.height=nt.size.width/nt.aspectRatio,gt=!1),nt.position.left=ot.helper?at.left:0),rt.top<(nt._helper?at.top:0)&&(nt.size.height=nt.size.height+(nt._helper?nt.position.top-at.top:nt.position.top),ht&&(nt.size.width=nt.size.height*nt.aspectRatio,gt=!1),nt.position.top=nt._helper?at.top:0),tt=nt.containerElement.get(0)===nt.element.parent().get(0),it=/relative|absolute/.test(nt.containerElement.css("position")),tt&&it?(nt.offset.left=nt.parentData.left+nt.position.left,nt.offset.top=nt.parentData.top+nt.position.top):(nt.offset.left=nt.element.offset().left,nt.offset.top=nt.element.offset().top),z=Math.abs(nt.sizeDiff.width+(nt._helper?nt.offset.left-dt.left:nt.offset.left-at.left)),H=Math.abs(nt.sizeDiff.height+(nt._helper?nt.offset.top-dt.top:nt.offset.top-at.top)),z+nt.size.width>=nt.parentData.width&&(nt.size.width=nt.parentData.width-z,ht&&(nt.size.height=nt.size.width/nt.aspectRatio,gt=!1)),H+nt.size.height>=nt.parentData.height&&(nt.size.height=nt.parentData.height-H,ht&&(nt.size.width=nt.size.height*nt.aspectRatio,gt=!1)),gt||(nt.position.left=nt.prevPosition.left,nt.position.top=nt.prevPosition.top,nt.size.width=nt.prevSize.width,nt.size.height=nt.prevSize.height)},stop:function(){var S=L(this).resizable("instance"),z=S.options,H=S.containerOffset,tt=S.containerPosition,it=S.containerElement,nt=L(S.helper),ot=nt.offset(),at=nt.outerWidth()-S.sizeDiff.width,rt=nt.outerHeight()-S.sizeDiff.height;S._helper&&!z.animate&&/relative/.test(it.css("position"))&&L(this).css({left:ot.left-tt.left-H.left,width:at,height:rt}),S._helper&&!z.animate&&/static/.test(it.css("position"))&&L(this).css({left:ot.left-tt.left-H.left,width:at,height:rt})}}),L.ui.plugin.add("resizable","alsoResize",{start:function(){var S=L(this).resizable("instance").options,s=function(S){L(S).each((function(){var S=L(this);S.data("ui-resizable-alsoresize",{width:parseInt(S.width(),10),height:parseInt(S.height(),10),left:parseInt(S.css("left"),10),top:parseInt(S.css("top"),10)})}))};"object"!=typeof S.alsoResize||S.alsoResize.parentNode?s(S.alsoResize):S.alsoResize.length?(S.alsoResize=S.alsoResize[0],s(S.alsoResize)):L.each(S.alsoResize,(function(L){s(L)}))},resize:function(S,z){var H=L(this).resizable("instance"),tt=H.options,it=H.originalSize,nt=H.originalPosition,ot={height:H.size.height-it.height||0,width:H.size.width-it.width||0,top:H.position.top-nt.top||0,left:H.position.left-nt.left||0},h=function(S,H){L(S).each((function(){var S=L(this),tt=L(this).data("ui-resizable-alsoresize"),it={},nt=H&&H.length?H:S.parents(z.originalElement[0]).length?["width","height"]:["width","height","top","left"];L.each(nt,(function(L,S){var z=(tt[S]||0)+(ot[S]||0);z&&z>=0&&(it[S]=z||null)})),S.css(it)}))};"object"!=typeof tt.alsoResize||tt.alsoResize.nodeType?h(tt.alsoResize):L.each(tt.alsoResize,(function(L,S){h(L,S)}))},stop:function(){L(this).removeData("resizable-alsoresize")}}),L.ui.plugin.add("resizable","ghost",{start:function(){var S=L(this).resizable("instance"),z=S.options,H=S.size;S.ghost=S.originalElement.clone(),S.ghost.css({opacity:.25,display:"block",position:"relative",height:H.height,width:H.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof z.ghost?z.ghost:""),S.ghost.appendTo(S.helper)},resize:function(){var S=L(this).resizable("instance");S.ghost&&S.ghost.css({position:"relative",height:S.size.height,width:S.size.width})},stop:function(){var S=L(this).resizable("instance");S.ghost&&S.helper&&S.helper.get(0).removeChild(S.ghost.get(0))}}),L.ui.plugin.add("resizable","grid",{resize:function(){var S,z=L(this).resizable("instance"),H=z.options,tt=z.size,it=z.originalSize,nt=z.originalPosition,ot=z.axis,at="number"==typeof H.grid?[H.grid,H.grid]:H.grid,rt=at[0]||1,ht=at[1]||1,dt=Math.round((tt.width-it.width)/rt)*rt,pt=Math.round((tt.height-it.height)/ht)*ht,gt=it.width+dt,_t=it.height+pt,bt=H.maxWidth&&gt>H.maxWidth,xt=H.maxHeight&&_t>H.maxHeight,kt=H.minWidth&&H.minWidth>gt,Ct=H.minHeight&&H.minHeight>_t;H.grid=at,kt&&(gt+=rt),Ct&&(_t+=ht),bt&&(gt-=rt),xt&&(_t-=ht),/^(se|s|e)$/.test(ot)?(z.size.width=gt,z.size.height=_t):/^(ne)$/.test(ot)?(z.size.width=gt,z.size.height=_t,z.position.top=nt.top-pt):/^(sw)$/.test(ot)?(z.size.width=gt,z.size.height=_t,z.position.left=nt.left-dt):((0>=_t-ht||0>=gt-rt)&&(S=z._getPaddingPlusBorderDimensions(this)),_t-ht>0?(z.size.height=_t,z.position.top=nt.top-pt):(_t=ht-S.height,z.size.height=_t,z.position.top=nt.top+it.height-_t),gt-rt>0?(z.size.width=gt,z.position.left=nt.left-dt):(gt=ht-S.height,z.size.width=gt,z.position.left=nt.left+it.width-gt))}}),L.ui.resizable,L.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(S){var z=L(this).css(S).offset().top;0>z&&L(this).css("top",S.top-z)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&L.fn.draggable&&this._makeDraggable(),this.options.resizable&&L.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var S=this.options.appendTo;return S&&(S.jquery||S.nodeType)?L(S):this.document.find(S||"body").eq(0)},_destroy:function(){var L,S=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(L=S.parent.children().eq(S.index)).length&&L[0]!==this.element[0]?L.before(this.element):S.parent.append(this.element)},widget:function(){return this.uiDialog},disable:L.noop,enable:L.noop,close:function(S){var z,H=this;if(this._isOpen&&!1!==this._trigger("beforeClose",S)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(z=this.document[0].activeElement)&&"body"!==z.nodeName.toLowerCase()&&L(z).blur()}catch(L){}this._hide(this.uiDialog,this.options.hide,(function(){H._trigger("close",S)}))}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(S,z){var H=!1,tt=this.uiDialog.siblings(".ui-front:visible").map((function(){return+L(this).css("z-index")})).get(),it=Math.max.apply(null,tt);return it>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",it+1),H=!0),H&&!z&&this._trigger("focus",S),H},open:function(){var S=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=L(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){S._focusTabbable(),S._trigger("focus")})),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var L=this._focusedElement;L||(L=this.element.find("[autofocus]")),L.length||(L=this.element.find(":tabbable")),L.length||(L=this.uiDialogButtonPane.find(":tabbable")),L.length||(L=this.uiDialogTitlebarClose.filter(":tabbable")),L.length||(L=this.uiDialog),L.eq(0).focus()},_keepFocus:function(S){function i(){var S=this.document[0].activeElement;this.uiDialog[0]===S||L.contains(this.uiDialog[0],S)||this._focusTabbable()}S.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=L("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(S){if(this.options.closeOnEscape&&!S.isDefaultPrevented()&&S.keyCode&&S.keyCode===L.ui.keyCode.ESCAPE)return S.preventDefault(),void this.close(S);if(S.keyCode===L.ui.keyCode.TAB&&!S.isDefaultPrevented()){var z=this.uiDialog.find(":tabbable"),H=z.filter(":first"),tt=z.filter(":last");S.target!==tt[0]&&S.target!==this.uiDialog[0]||S.shiftKey?S.target!==H[0]&&S.target!==this.uiDialog[0]||!S.shiftKey||(this._delay((function(){tt.focus()})),S.preventDefault()):(this._delay((function(){H.focus()})),S.preventDefault())}},mousedown:function(L){this._moveToTop(L)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var S;this.uiDialogTitlebar=L("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(S){L(S.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=L("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(L){L.preventDefault(),this.close(L)}}),S=L("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(S),this.uiDialog.attr({"aria-labelledby":S.attr("id")})},_title:function(L){this.options.title||L.html("&#160;"),L.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=L("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=L("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var S=this,z=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),L.isEmptyObject(z)||L.isArray(z)&&!z.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(L.each(z,(function(z,H){var tt,it;H=L.isFunction(H)?{click:H,text:z}:H,H=L.extend({type:"button"},H),tt=H.click,H.click=function(){tt.apply(S.element[0],arguments)},it={icons:H.icons,text:H.showText},delete H.icons,delete H.showText,L("<button></button>",H).button(it).appendTo(S.uiButtonSet)})),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(L){return{position:L.position,offset:L.offset}}var S=this,z=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(z,H){L(this).addClass("ui-dialog-dragging"),S._blockFrames(),S._trigger("dragStart",z,t(H))},drag:function(L,z){S._trigger("drag",L,t(z))},stop:function(H,tt){var it=tt.offset.left-S.document.scrollLeft(),nt=tt.offset.top-S.document.scrollTop();z.position={my:"left top",at:"left"+(it>=0?"+":"")+it+" top"+(nt>=0?"+":"")+nt,of:S.window},L(this).removeClass("ui-dialog-dragging"),S._unblockFrames(),S._trigger("dragStop",H,t(tt))}})},_makeResizable:function(){function t(L){return{originalPosition:L.originalPosition,originalSize:L.originalSize,position:L.position,size:L.size}}var S=this,z=this.options,H=z.resizable,tt=this.uiDialog.css("position"),it="string"==typeof H?H:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:z.maxWidth,maxHeight:z.maxHeight,minWidth:z.minWidth,minHeight:this._minHeight(),handles:it,start:function(z,H){L(this).addClass("ui-dialog-resizing"),S._blockFrames(),S._trigger("resizeStart",z,t(H))},resize:function(L,z){S._trigger("resize",L,t(z))},stop:function(H,tt){var it=S.uiDialog.offset(),nt=it.left-S.document.scrollLeft(),ot=it.top-S.document.scrollTop();z.height=S.uiDialog.height(),z.width=S.uiDialog.width(),z.position={my:"left top",at:"left"+(nt>=0?"+":"")+nt+" top"+(ot>=0?"+":"")+ot,of:S.window},L(this).removeClass("ui-dialog-resizing"),S._unblockFrames(),S._trigger("resizeStop",H,t(tt))}}).css("position",tt)},_trackFocus:function(){this._on(this.widget(),{focusin:function(S){this._makeFocusTarget(),this._focusedElement=L(S.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var S=this._trackingInstances(),z=L.inArray(this,S);-1!==z&&S.splice(z,1)},_trackingInstances:function(){var L=this.document.data("ui-dialog-instances");return L||(L=[],this.document.data("ui-dialog-instances",L)),L},_minHeight:function(){var L=this.options;return"auto"===L.height?L.minHeight:Math.min(L.minHeight,L.height)},_position:function(){var L=this.uiDialog.is(":visible");L||this.uiDialog.show(),this.uiDialog.position(this.options.position),L||this.uiDialog.hide()},_setOptions:function(S){var z=this,H=!1,tt={};L.each(S,(function(L,S){z._setOption(L,S),L in z.sizeRelatedOptions&&(H=!0),L in z.resizableRelatedOptions&&(tt[L]=S)})),H&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",tt)},_setOption:function(L,S){var z,H,tt=this.uiDialog;"dialogClass"===L&&tt.removeClass(this.options.dialogClass).addClass(S),"disabled"!==L&&(this._super(L,S),"appendTo"===L&&this.uiDialog.appendTo(this._appendTo()),"buttons"===L&&this._createButtons(),"closeText"===L&&this.uiDialogTitlebarClose.button({label:""+S}),"draggable"===L&&((z=tt.is(":data(ui-draggable)"))&&!S&&tt.draggable("destroy"),!z&&S&&this._makeDraggable()),"position"===L&&this._position(),"resizable"===L&&((H=tt.is(":data(ui-resizable)"))&&!S&&tt.resizable("destroy"),H&&"string"==typeof S&&tt.resizable("option","handles",S),H||!1===S||this._makeResizable()),"title"===L&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var L,S,z,H=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),H.minWidth>H.width&&(H.width=H.minWidth),L=this.uiDialog.css({height:"auto",width:H.width}).outerHeight(),S=Math.max(0,H.minHeight-L),z="number"==typeof H.maxHeight?Math.max(0,H.maxHeight-L):"none","auto"===H.height?this.element.css({minHeight:S,maxHeight:z,height:"auto"}):this.element.height(Math.max(0,H.height-L)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var S=L(this);return L("<div>").css({position:"absolute",width:S.outerWidth(),height:S.outerHeight()}).appendTo(S.parent()).offset(S.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(S){return!!L(S.target).closest(".ui-dialog").length||!!L(S.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var S=!0;this._delay((function(){S=!1})),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(L){S||this._allowInteraction(L)||(L.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=L("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var L=this.document.data("ui-dialog-overlays")-1;L?this.document.data("ui-dialog-overlays",L):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),L.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var S,z=this.options,H=z.accept;this.isover=!1,this.isout=!0,this.accept=L.isFunction(H)?H:function(L){return L.is(H)},this.proportions=function(){return arguments.length?void(S=arguments[0]):S||(S={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(z.scope),z.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(S){L.ui.ddmanager.droppables[S]=L.ui.ddmanager.droppables[S]||[],L.ui.ddmanager.droppables[S].push(this)},_splice:function(L){for(var S=0;L.length>S;S++)L[S]===this&&L.splice(S,1)},_destroy:function(){var S=L.ui.ddmanager.droppables[this.options.scope];this._splice(S),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(S,z){if("accept"===S)this.accept=L.isFunction(z)?z:function(L){return L.is(z)};else if("scope"===S){var H=L.ui.ddmanager.droppables[this.options.scope];this._splice(H),this._addToManager(z)}this._super(S,z)},_activate:function(S){var z=L.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),z&&this._trigger("activate",S,this.ui(z))},_deactivate:function(S){var z=L.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),z&&this._trigger("deactivate",S,this.ui(z))},_over:function(S){var z=L.ui.ddmanager.current;z&&(z.currentItem||z.element)[0]!==this.element[0]&&this.accept.call(this.element[0],z.currentItem||z.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",S,this.ui(z)))},_out:function(S){var z=L.ui.ddmanager.current;z&&(z.currentItem||z.element)[0]!==this.element[0]&&this.accept.call(this.element[0],z.currentItem||z.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",S,this.ui(z)))},_drop:function(S,z){var H=z||L.ui.ddmanager.current,tt=!1;return!(!H||(H.currentItem||H.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var z=L(this).droppable("instance");return z.options.greedy&&!z.options.disabled&&z.options.scope===H.options.scope&&z.accept.call(z.element[0],H.currentItem||H.element)&&L.ui.intersect(H,L.extend(z,{offset:z.element.offset()}),z.options.tolerance,S)?(tt=!0,!1):void 0})),!tt&&!!this.accept.call(this.element[0],H.currentItem||H.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",S,this.ui(H)),this.element))},ui:function(L){return{draggable:L.currentItem||L.element,helper:L.helper,position:L.position,offset:L.positionAbs}}}),L.ui.intersect=function(){function e(L,S,z){return L>=S&&S+z>L}return function(L,S,z,H){if(!S.offset)return!1;var tt=(L.positionAbs||L.position.absolute).left,it=(L.positionAbs||L.position.absolute).top,nt=tt+L.helperProportions.width,ot=it+L.helperProportions.height,at=S.offset.left,rt=S.offset.top,ht=at+S.proportions().width,dt=rt+S.proportions().height;switch(z){case"fit":return tt>=at&&ht>=nt&&it>=rt&&dt>=ot;case"intersect":return tt+L.helperProportions.width/2>at&&ht>nt-L.helperProportions.width/2&&it+L.helperProportions.height/2>rt&&dt>ot-L.helperProportions.height/2;case"pointer":return e(H.pageY,rt,S.proportions().height)&&e(H.pageX,at,S.proportions().width);case"touch":return(it>=rt&&dt>=it||ot>=rt&&dt>=ot||rt>it&&ot>dt)&&(tt>=at&&ht>=tt||nt>=at&&ht>=nt||at>tt&&nt>ht);default:return!1}}}(),L.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(S,z){var H,tt,it=L.ui.ddmanager.droppables[S.options.scope]||[],nt=z?z.type:null,ot=(S.currentItem||S.element).find(":data(ui-droppable)").addBack();t:for(H=0;it.length>H;H++)if(!(it[H].options.disabled||S&&!it[H].accept.call(it[H].element[0],S.currentItem||S.element))){for(tt=0;ot.length>tt;tt++)if(ot[tt]===it[H].element[0]){it[H].proportions().height=0;continue t}it[H].visible="none"!==it[H].element.css("display"),it[H].visible&&("mousedown"===nt&&it[H]._activate.call(it[H],z),it[H].offset=it[H].element.offset(),it[H].proportions({width:it[H].element[0].offsetWidth,height:it[H].element[0].offsetHeight}))}},drop:function(S,z){var H=!1;return L.each((L.ui.ddmanager.droppables[S.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&L.ui.intersect(S,this,this.options.tolerance,z)&&(H=this._drop.call(this,z)||H),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],S.currentItem||S.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,z)))})),H},dragStart:function(S,z){S.element.parentsUntil("body").bind("scroll.droppable",(function(){S.options.refreshPositions||L.ui.ddmanager.prepareOffsets(S,z)}))},drag:function(S,z){S.options.refreshPositions&&L.ui.ddmanager.prepareOffsets(S,z),L.each(L.ui.ddmanager.droppables[S.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var H,tt,it,nt=L.ui.intersect(S,this,this.options.tolerance,z),ot=!nt&&this.isover?"isout":nt&&!this.isover?"isover":null;ot&&(this.options.greedy&&(tt=this.options.scope,(it=this.element.parents(":data(ui-droppable)").filter((function(){return L(this).droppable("instance").options.scope===tt}))).length&&((H=L(it[0]).droppable("instance")).greedyChild="isover"===ot)),H&&"isover"===ot&&(H.isover=!1,H.isout=!0,H._out.call(H,z)),this[ot]=!0,this["isout"===ot?"isover":"isout"]=!1,this["isover"===ot?"_over":"_out"].call(this,z),H&&"isout"===ot&&(H.isout=!1,H.isover=!0,H._over.call(H,z)))}}))},dragStop:function(S,z){S.element.parentsUntil("body").unbind("scroll.droppable"),S.options.refreshPositions||L.ui.ddmanager.prepareOffsets(S,z)}},L.ui.droppable;var at="ui-effects-",rt=L;L.effects={effect:{}},function(L,S){function i(L,S,z){var H=at[S.type]||{};return null==L?z||!S.def?null:S.def:(L=H.floor?~~L:parseFloat(L),isNaN(L)?S.def:H.mod?(L+H.mod)%H.mod:0>L?0:L>H.max?H.max:L)}function s(H){var tt=nt(),at=tt._rgba=[];return H=H.toLowerCase(),dt(it,(function(L,z){var it,nt=z.re.exec(H),rt=nt&&z.parse(nt),ht=z.space||"rgba";return rt?(it=tt[ht](rt),tt[ot[ht].cache]=it[ot[ht].cache],at=tt._rgba=it._rgba,!1):S})),at.length?("0,0,0,0"===at.join()&&L.extend(at,z.transparent),tt):z[H]}function n(L,S,z){return 1>6*(z=(z+1)%1)?L+6*(S-L)*z:1>2*z?S:2>3*z?L+6*(S-L)*(2/3-z):L}var z,H="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",tt=/^([\-+])=\s*(\d+\.?\d*)/,it=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(L){return[L[1],L[2],L[3],L[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(L){return[2.55*L[1],2.55*L[2],2.55*L[3],L[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(L){return[parseInt(L[1],16),parseInt(L[2],16),parseInt(L[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(L){return[parseInt(L[1]+L[1],16),parseInt(L[2]+L[2],16),parseInt(L[3]+L[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(L){return[L[1],L[2]/100,L[3]/100,L[4]]}}],nt=L.Color=function(S,z,H,tt){return new L.Color.fn.parse(S,z,H,tt)},ot={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},at={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},rt=nt.support={},ht=L("<p>")[0],dt=L.each;ht.style.cssText="background-color:rgba(1,1,1,.5)",rt.rgba=ht.style.backgroundColor.indexOf("rgba")>-1,dt(ot,(function(L,S){S.cache="_"+L,S.props.alpha={idx:3,type:"percent",def:1}})),nt.fn=L.extend(nt.prototype,{parse:function(H,tt,it,at){if(H===S)return this._rgba=[null,null,null,null],this;(H.jquery||H.nodeType)&&(H=L(H).css(tt),tt=S);var rt=this,ht=L.type(H),pt=this._rgba=[];return tt!==S&&(H=[H,tt,it,at],ht="array"),"string"===ht?this.parse(s(H)||z._default):"array"===ht?(dt(ot.rgba.props,(function(L,S){pt[S.idx]=i(H[S.idx],S)})),this):"object"===ht?(dt(ot,H instanceof nt?function(L,S){H[S.cache]&&(rt[S.cache]=H[S.cache].slice())}:function(S,z){var tt=z.cache;dt(z.props,(function(L,S){if(!rt[tt]&&z.to){if("alpha"===L||null==H[L])return;rt[tt]=z.to(rt._rgba)}rt[tt][S.idx]=i(H[L],S,!0)})),rt[tt]&&0>L.inArray(null,rt[tt].slice(0,3))&&(rt[tt][3]=1,z.from&&(rt._rgba=z.from(rt[tt])))}),this):S},is:function(L){var z=nt(L),H=!0,tt=this;return dt(ot,(function(L,it){var nt,ot=z[it.cache];return ot&&(nt=tt[it.cache]||it.to&&it.to(tt._rgba)||[],dt(it.props,(function(L,z){return null!=ot[z.idx]?H=ot[z.idx]===nt[z.idx]:S}))),H})),H},_space:function(){var L=[],S=this;return dt(ot,(function(z,H){S[H.cache]&&L.push(z)})),L.pop()},transition:function(L,S){var z=nt(L),H=z._space(),tt=ot[H],it=0===this.alpha()?nt("transparent"):this,rt=it[tt.cache]||tt.to(it._rgba),ht=rt.slice();return z=z[tt.cache],dt(tt.props,(function(L,H){var tt=H.idx,it=rt[tt],nt=z[tt],ot=at[H.type]||{};null!==nt&&(null===it?ht[tt]=nt:(ot.mod&&(nt-it>ot.mod/2?it+=ot.mod:it-nt>ot.mod/2&&(it-=ot.mod)),ht[tt]=i((nt-it)*S+it,H)))})),this[H](ht)},blend:function(S){if(1===this._rgba[3])return this;var z=this._rgba.slice(),H=z.pop(),tt=nt(S)._rgba;return nt(L.map(z,(function(L,S){return(1-H)*tt[S]+H*L})))},toRgbaString:function(){var S="rgba(",z=L.map(this._rgba,(function(L,S){return null==L?S>2?1:0:L}));return 1===z[3]&&(z.pop(),S="rgb("),S+z.join()+")"},toHslaString:function(){var S="hsla(",z=L.map(this.hsla(),(function(L,S){return null==L&&(L=S>2?1:0),S&&3>S&&(L=Math.round(100*L)+"%"),L}));return 1===z[3]&&(z.pop(),S="hsl("),S+z.join()+")"},toHexString:function(S){var z=this._rgba.slice(),H=z.pop();return S&&z.push(~~(255*H)),"#"+L.map(z,(function(L){return 1===(L=(L||0).toString(16)).length?"0"+L:L})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),nt.fn.parse.prototype=nt.fn,ot.hsla.to=function(L){if(null==L[0]||null==L[1]||null==L[2])return[null,null,null,L[3]];var S,z,H=L[0]/255,tt=L[1]/255,it=L[2]/255,nt=L[3],ot=Math.max(H,tt,it),at=Math.min(H,tt,it),rt=ot-at,ht=ot+at,dt=.5*ht;return S=at===ot?0:H===ot?60*(tt-it)/rt+360:tt===ot?60*(it-H)/rt+120:60*(H-tt)/rt+240,z=0===rt?0:.5>=dt?rt/ht:rt/(2-ht),[Math.round(S)%360,z,dt,null==nt?1:nt]},ot.hsla.from=function(L){if(null==L[0]||null==L[1]||null==L[2])return[null,null,null,L[3]];var S=L[0]/360,z=L[1],H=L[2],tt=L[3],it=.5>=H?H*(1+z):H+z-H*z,nt=2*H-it;return[Math.round(255*n(nt,it,S+1/3)),Math.round(255*n(nt,it,S)),Math.round(255*n(nt,it,S-1/3)),tt]},dt(ot,(function(z,H){var it=H.props,ot=H.cache,at=H.to,rt=H.from;nt.fn[z]=function(z){if(at&&!this[ot]&&(this[ot]=at(this._rgba)),z===S)return this[ot].slice();var H,tt=L.type(z),ht="array"===tt||"object"===tt?z:arguments,pt=this[ot].slice();return dt(it,(function(L,S){var z=ht["object"===tt?L:S.idx];null==z&&(z=pt[S.idx]),pt[S.idx]=i(z,S)})),rt?((H=nt(rt(pt)))[ot]=pt,H):nt(pt)},dt(it,(function(S,H){nt.fn[S]||(nt.fn[S]=function(it){var nt,ot=L.type(it),at="alpha"===S?this._hsla?"hsla":"rgba":z,rt=this[at](),ht=rt[H.idx];return"undefined"===ot?ht:("function"===ot&&(it=it.call(this,ht),ot=L.type(it)),null==it&&H.empty?this:("string"===ot&&(nt=tt.exec(it))&&(it=ht+parseFloat(nt[2])*("+"===nt[1]?1:-1)),rt[H.idx]=it,this[at](rt)))})}))})),nt.hook=function(S){var z=S.split(" ");dt(z,(function(S,z){L.cssHooks[z]={set:function(S,H){var tt,it,ot="";if("transparent"!==H&&("string"!==L.type(H)||(tt=s(H)))){if(H=nt(tt||H),!rt.rgba&&1!==H._rgba[3]){for(it="backgroundColor"===z?S.parentNode:S;(""===ot||"transparent"===ot)&&it&&it.style;)try{ot=L.css(it,"backgroundColor"),it=it.parentNode}catch(L){}H=H.blend(ot&&"transparent"!==ot?ot:"_default")}H=H.toRgbaString()}try{S.style[z]=H}catch(L){}}},L.fx.step[z]=function(S){S.colorInit||(S.start=nt(S.elem,z),S.end=nt(S.end),S.colorInit=!0),L.cssHooks[z].set(S.elem,S.start.transition(S.end,S.pos))}}))},nt.hook(H),L.cssHooks.borderColor={expand:function(L){var S={};return dt(["Top","Right","Bottom","Left"],(function(z,H){S["border"+H+"Color"]=L})),S}},z=L.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(rt),function(){function t(S){var z,H,tt=S.ownerDocument.defaultView?S.ownerDocument.defaultView.getComputedStyle(S,null):S.currentStyle,it={};if(tt&&tt.length&&tt[0]&&tt[tt[0]])for(H=tt.length;H--;)"string"==typeof tt[z=tt[H]]&&(it[L.camelCase(z)]=tt[z]);else for(z in tt)"string"==typeof tt[z]&&(it[z]=tt[z]);return it}function i(S,H){var tt,it,nt={};for(tt in H)it=H[tt],S[tt]!==it&&(z[tt]||(L.fx.step[tt]||!isNaN(parseFloat(it)))&&(nt[tt]=it));return nt}var S=["add","remove","toggle"],z={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};L.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(S,z){L.fx.step[z]=function(L){("none"!==L.end&&!L.setAttr||1===L.pos&&!L.setAttr)&&(rt.style(L.elem,z,L.end),L.setAttr=!0)}})),L.fn.addBack||(L.fn.addBack=function(L){return this.add(null==L?this.prevObject:this.prevObject.filter(L))}),L.effects.animateClass=function(z,H,tt,it){var nt=L.speed(H,tt,it);return this.queue((function(){var H,tt=L(this),it=tt.attr("class")||"",ot=nt.children?tt.find("*").addBack():tt;ot=ot.map((function(){return{el:L(this),start:t(this)}})),H=function(){L.each(S,(function(L,S){z[S]&&tt[S+"Class"](z[S])}))},H(),ot=ot.map((function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this})),tt.attr("class",it),ot=ot.map((function(){var S=this,z=L.Deferred(),H=L.extend({},nt,{queue:!1,complete:function(){z.resolve(S)}});return this.el.animate(this.diff,H),z.promise()})),L.when.apply(L,ot.get()).done((function(){H(),L.each(arguments,(function(){var S=this.el;L.each(this.diff,(function(L){S.css(L,"")}))})),nt.complete.call(tt[0])}))}))},L.fn.extend({addClass:function(S){return function(z,H,tt,it){return H?L.effects.animateClass.call(this,{add:z},H,tt,it):S.apply(this,arguments)}}(L.fn.addClass),removeClass:function(S){return function(z,H,tt,it){return arguments.length>1?L.effects.animateClass.call(this,{remove:z},H,tt,it):S.apply(this,arguments)}}(L.fn.removeClass),toggleClass:function(S){return function(z,H,tt,it,nt){return"boolean"==typeof H||void 0===H?tt?L.effects.animateClass.call(this,H?{add:z}:{remove:z},tt,it,nt):S.apply(this,arguments):L.effects.animateClass.call(this,{toggle:z},H,tt,it)}}(L.fn.toggleClass),switchClass:function(S,z,H,tt,it){return L.effects.animateClass.call(this,{add:z,remove:S},H,tt,it)}})}(),function(){function t(S,z,H,tt){return L.isPlainObject(S)&&(z=S,S=S.effect),S={effect:S},null==z&&(z={}),L.isFunction(z)&&(tt=z,H=null,z={}),("number"==typeof z||L.fx.speeds[z])&&(tt=H,H=z,z={}),L.isFunction(H)&&(tt=H,H=null),z&&L.extend(S,z),H=H||z.duration,S.duration=L.fx.off?0:"number"==typeof H?H:H in L.fx.speeds?L.fx.speeds[H]:L.fx.speeds._default,S.complete=tt||z.complete,S}function i(S){return!(S&&"number"!=typeof S&&!L.fx.speeds[S])||"string"==typeof S&&!L.effects.effect[S]||!!L.isFunction(S)||"object"==typeof S&&!S.effect}L.extend(L.effects,{version:"1.11.1",save:function(L,S){for(var z=0;S.length>z;z++)null!==S[z]&&L.data(at+S[z],L[0].style[S[z]])},restore:function(L,S){var z,H;for(H=0;S.length>H;H++)null!==S[H]&&(void 0===(z=L.data(at+S[H]))&&(z=""),L.css(S[H],z))},setMode:function(L,S){return"toggle"===S&&(S=L.is(":hidden")?"show":"hide"),S},getBaseline:function(L,S){var z,H;switch(L[0]){case"top":z=0;break;case"middle":z=.5;break;case"bottom":z=1;break;default:z=L[0]/S.height}switch(L[1]){case"left":H=0;break;case"center":H=.5;break;case"right":H=1;break;default:H=L[1]/S.width}return{x:H,y:z}},createWrapper:function(S){if(S.parent().is(".ui-effects-wrapper"))return S.parent();var z={width:S.outerWidth(!0),height:S.outerHeight(!0),float:S.css("float")},H=L("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),tt={width:S.width(),height:S.height()},it=document.activeElement;try{it.id}catch(L){it=document.body}return S.wrap(H),(S[0]===it||L.contains(S[0],it))&&L(it).focus(),H=S.parent(),"static"===S.css("position")?(H.css({position:"relative"}),S.css({position:"relative"})):(L.extend(z,{position:S.css("position"),zIndex:S.css("z-index")}),L.each(["top","left","bottom","right"],(function(L,H){z[H]=S.css(H),isNaN(parseInt(z[H],10))&&(z[H]="auto")})),S.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),S.css(tt),H.css(z).show()},removeWrapper:function(S){var z=document.activeElement;return S.parent().is(".ui-effects-wrapper")&&(S.parent().replaceWith(S),(S[0]===z||L.contains(S[0],z))&&L(z).focus()),S},setTransition:function(S,z,H,tt){return tt=tt||{},L.each(z,(function(L,z){var it=S.cssUnit(z);it[0]>0&&(tt[z]=it[0]*H+it[1])})),tt}}),L.fn.extend({effect:function(){function i(z){function i(){L.isFunction(it)&&it.call(H[0]),L.isFunction(z)&&z()}var H=L(this),it=S.complete,nt=S.mode;(H.is(":hidden")?"hide"===nt:"show"===nt)?(H[nt](),i()):tt.call(H[0],S,i)}var S=t.apply(this,arguments),z=S.mode,H=S.queue,tt=L.effects.effect[S.effect];return L.fx.off||!tt?z?this[z](S.duration,S.complete):this.each((function(){S.complete&&S.complete.call(this)})):!1===H?this.each(i):this.queue(H||"fx",i)},show:function(L){return function(S){if(i(S))return L.apply(this,arguments);var z=t.apply(this,arguments);return z.mode="show",this.effect.call(this,z)}}(L.fn.show),hide:function(L){return function(S){if(i(S))return L.apply(this,arguments);var z=t.apply(this,arguments);return z.mode="hide",this.effect.call(this,z)}}(L.fn.hide),toggle:function(L){return function(S){if(i(S)||"boolean"==typeof S)return L.apply(this,arguments);var z=t.apply(this,arguments);return z.mode="toggle",this.effect.call(this,z)}}(L.fn.toggle),cssUnit:function(S){var z=this.css(S),H=[];return L.each(["em","px","%","pt"],(function(L,S){z.indexOf(S)>0&&(H=[parseFloat(z),S])})),H}})}(),function(){var S={};L.each(["Quad","Cubic","Quart","Quint","Expo"],(function(L,z){S[z]=function(S){return Math.pow(S,L+2)}})),L.extend(S,{Sine:function(L){return 1-Math.cos(L*Math.PI/2)},Circ:function(L){return 1-Math.sqrt(1-L*L)},Elastic:function(L){return 0===L||1===L?L:-Math.pow(2,8*(L-1))*Math.sin((80*(L-1)-7.5)*Math.PI/15)},Back:function(L){return L*L*(3*L-2)},Bounce:function(L){for(var S,z=4;((S=Math.pow(2,--z))-1)/11>L;);return 1/Math.pow(4,3-z)-7.5625*Math.pow((3*S-2)/22-L,2)}}),L.each(S,(function(S,z){L.easing["easeIn"+S]=z,L.easing["easeOut"+S]=function(L){return 1-z(1-L)},L.easing["easeInOut"+S]=function(L){return.5>L?z(2*L)/2:1-z(-2*L+2)/2}}))}(),L.effects,L.effects.effect.blind=function(S,z){var H,tt,it,nt=L(this),ot=/up|down|vertical/,at=/up|left|vertical|horizontal/,rt=["position","top","bottom","left","right","height","width"],ht=L.effects.setMode(nt,S.mode||"hide"),dt=S.direction||"up",pt=ot.test(dt),gt=pt?"height":"width",_t=pt?"top":"left",bt=at.test(dt),xt={},kt="show"===ht;nt.parent().is(".ui-effects-wrapper")?L.effects.save(nt.parent(),rt):L.effects.save(nt,rt),nt.show(),tt=(H=L.effects.createWrapper(nt).css({overflow:"hidden"}))[gt](),it=parseFloat(H.css(_t))||0,xt[gt]=kt?tt:0,bt||(nt.css(pt?"bottom":"right",0).css(pt?"top":"left","auto").css({position:"absolute"}),xt[_t]=kt?it:tt+it),kt&&(H.css(gt,0),bt||H.css(_t,it+tt)),H.animate(xt,{duration:S.duration,easing:S.easing,queue:!1,complete:function(){"hide"===ht&&nt.hide(),L.effects.restore(nt,rt),L.effects.removeWrapper(nt),z()}})},L.effects.effect.bounce=function(S,z){var H,tt,it,nt=L(this),ot=["position","top","bottom","left","right","height","width"],at=L.effects.setMode(nt,S.mode||"effect"),rt="hide"===at,ht="show"===at,dt=S.direction||"up",pt=S.distance,gt=S.times||5,_t=2*gt+(ht||rt?1:0),bt=S.duration/_t,xt=S.easing,kt="up"===dt||"down"===dt?"top":"left",Ct="up"===dt||"left"===dt,Lt=nt.queue(),Tt=Lt.length;for((ht||rt)&&ot.push("opacity"),L.effects.save(nt,ot),nt.show(),L.effects.createWrapper(nt),pt||(pt=nt["top"===kt?"outerHeight":"outerWidth"]()/3),ht&&((it={opacity:1})[kt]=0,nt.css("opacity",0).css(kt,Ct?2*-pt:2*pt).animate(it,bt,xt)),rt&&(pt/=Math.pow(2,gt-1)),(it={})[kt]=0,H=0;gt>H;H++)(tt={})[kt]=(Ct?"-=":"+=")+pt,nt.animate(tt,bt,xt).animate(it,bt,xt),pt=rt?2*pt:pt/2;rt&&((tt={opacity:0})[kt]=(Ct?"-=":"+=")+pt,nt.animate(tt,bt,xt)),nt.queue((function(){rt&&nt.hide(),L.effects.restore(nt,ot),L.effects.removeWrapper(nt),z()})),Tt>1&&Lt.splice.apply(Lt,[1,0].concat(Lt.splice(Tt,_t+1))),nt.dequeue()},L.effects.effect.clip=function(S,z){var H,tt,it,nt=L(this),ot=["position","top","bottom","left","right","height","width"],at="show"===L.effects.setMode(nt,S.mode||"hide"),rt="vertical"===(S.direction||"vertical"),ht=rt?"height":"width",dt=rt?"top":"left",pt={};L.effects.save(nt,ot),nt.show(),H=L.effects.createWrapper(nt).css({overflow:"hidden"}),it=(tt="IMG"===nt[0].tagName?H:nt)[ht](),at&&(tt.css(ht,0),tt.css(dt,it/2)),pt[ht]=at?it:0,pt[dt]=at?0:it/2,tt.animate(pt,{queue:!1,duration:S.duration,easing:S.easing,complete:function(){at||nt.hide(),L.effects.restore(nt,ot),L.effects.removeWrapper(nt),z()}})},L.effects.effect.drop=function(S,z){var H,tt=L(this),it=["position","top","bottom","left","right","opacity","height","width"],nt=L.effects.setMode(tt,S.mode||"hide"),ot="show"===nt,at=S.direction||"left",rt="up"===at||"down"===at?"top":"left",ht="up"===at||"left"===at?"pos":"neg",dt={opacity:ot?1:0};L.effects.save(tt,it),tt.show(),L.effects.createWrapper(tt),H=S.distance||tt["top"===rt?"outerHeight":"outerWidth"](!0)/2,ot&&tt.css("opacity",0).css(rt,"pos"===ht?-H:H),dt[rt]=(ot?"pos"===ht?"+=":"-=":"pos"===ht?"-=":"+=")+H,tt.animate(dt,{queue:!1,duration:S.duration,easing:S.easing,complete:function(){"hide"===nt&&tt.hide(),L.effects.restore(tt,it),L.effects.removeWrapper(tt),z()}})},L.effects.effect.explode=function(S,z){function s(){xt.push(this),xt.length===rt*ht&&n()}function n(){dt.css({visibility:"visible"}),L(xt).remove(),pt||dt.hide(),z()}var H,tt,it,nt,ot,at,rt=S.pieces?Math.round(Math.sqrt(S.pieces)):3,ht=rt,dt=L(this),pt="show"===L.effects.setMode(dt,S.mode||"hide"),gt=dt.show().css("visibility","hidden").offset(),_t=Math.ceil(dt.outerWidth()/ht),bt=Math.ceil(dt.outerHeight()/rt),xt=[];for(H=0;rt>H;H++)for(nt=gt.top+H*bt,at=H-(rt-1)/2,tt=0;ht>tt;tt++)it=gt.left+tt*_t,ot=tt-(ht-1)/2,dt.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-tt*_t,top:-H*bt}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:_t,height:bt,left:it+(pt?ot*_t:0),top:nt+(pt?at*bt:0),opacity:pt?0:1}).animate({left:it+(pt?0:ot*_t),top:nt+(pt?0:at*bt),opacity:pt?1:0},S.duration||500,S.easing,s)},L.effects.effect.fade=function(S,z){var H=L(this),tt=L.effects.setMode(H,S.mode||"toggle");H.animate({opacity:tt},{queue:!1,duration:S.duration,easing:S.easing,complete:z})},L.effects.effect.fold=function(S,z){var H,tt,it=L(this),nt=["position","top","bottom","left","right","height","width"],ot=L.effects.setMode(it,S.mode||"hide"),at="show"===ot,rt="hide"===ot,ht=S.size||15,dt=/([0-9]+)%/.exec(ht),pt=!!S.horizFirst,gt=at!==pt,_t=gt?["width","height"]:["height","width"],bt=S.duration/2,xt={},kt={};L.effects.save(it,nt),it.show(),H=L.effects.createWrapper(it).css({overflow:"hidden"}),tt=gt?[H.width(),H.height()]:[H.height(),H.width()],dt&&(ht=parseInt(dt[1],10)/100*tt[rt?0:1]),at&&H.css(pt?{height:0,width:ht}:{height:ht,width:0}),xt[_t[0]]=at?tt[0]:ht,kt[_t[1]]=at?tt[1]:0,H.animate(xt,bt,S.easing).animate(kt,bt,S.easing,(function(){rt&&it.hide(),L.effects.restore(it,nt),L.effects.removeWrapper(it),z()}))},L.effects.effect.highlight=function(S,z){var H=L(this),tt=["backgroundImage","backgroundColor","opacity"],it=L.effects.setMode(H,S.mode||"show"),nt={backgroundColor:H.css("backgroundColor")};"hide"===it&&(nt.opacity=0),L.effects.save(H,tt),H.show().css({backgroundImage:"none",backgroundColor:S.color||"#ffff99"}).animate(nt,{queue:!1,duration:S.duration,easing:S.easing,complete:function(){"hide"===it&&H.hide(),L.effects.restore(H,tt),z()}})},L.effects.effect.size=function(S,z){var H,tt,it,nt=L(this),ot=["position","top","bottom","left","right","width","height","overflow","opacity"],at=["position","top","bottom","left","right","overflow","opacity"],rt=["width","height","overflow"],ht=["fontSize"],dt=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],pt=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],gt=L.effects.setMode(nt,S.mode||"effect"),_t=S.restore||"effect"!==gt,bt=S.scale||"both",xt=S.origin||["middle","center"],kt=nt.css("position"),Ct=_t?ot:at,Lt={height:0,width:0,outerHeight:0,outerWidth:0};"show"===gt&&nt.show(),H={height:nt.height(),width:nt.width(),outerHeight:nt.outerHeight(),outerWidth:nt.outerWidth()},"toggle"===S.mode&&"show"===gt?(nt.from=S.to||Lt,nt.to=S.from||H):(nt.from=S.from||("show"===gt?Lt:H),nt.to=S.to||("hide"===gt?Lt:H)),it={from:{y:nt.from.height/H.height,x:nt.from.width/H.width},to:{y:nt.to.height/H.height,x:nt.to.width/H.width}},("box"===bt||"both"===bt)&&(it.from.y!==it.to.y&&(Ct=Ct.concat(dt),nt.from=L.effects.setTransition(nt,dt,it.from.y,nt.from),nt.to=L.effects.setTransition(nt,dt,it.to.y,nt.to)),it.from.x!==it.to.x&&(Ct=Ct.concat(pt),nt.from=L.effects.setTransition(nt,pt,it.from.x,nt.from),nt.to=L.effects.setTransition(nt,pt,it.to.x,nt.to))),("content"===bt||"both"===bt)&&it.from.y!==it.to.y&&(Ct=Ct.concat(ht).concat(rt),nt.from=L.effects.setTransition(nt,ht,it.from.y,nt.from),nt.to=L.effects.setTransition(nt,ht,it.to.y,nt.to)),L.effects.save(nt,Ct),nt.show(),L.effects.createWrapper(nt),nt.css("overflow","hidden").css(nt.from),xt&&(tt=L.effects.getBaseline(xt,H),nt.from.top=(H.outerHeight-nt.outerHeight())*tt.y,nt.from.left=(H.outerWidth-nt.outerWidth())*tt.x,nt.to.top=(H.outerHeight-nt.to.outerHeight)*tt.y,nt.to.left=(H.outerWidth-nt.to.outerWidth)*tt.x),nt.css(nt.from),("content"===bt||"both"===bt)&&(dt=dt.concat(["marginTop","marginBottom"]).concat(ht),pt=pt.concat(["marginLeft","marginRight"]),rt=ot.concat(dt).concat(pt),nt.find("*[width]").each((function(){var z=L(this),H={height:z.height(),width:z.width(),outerHeight:z.outerHeight(),outerWidth:z.outerWidth()};_t&&L.effects.save(z,rt),z.from={height:H.height*it.from.y,width:H.width*it.from.x,outerHeight:H.outerHeight*it.from.y,outerWidth:H.outerWidth*it.from.x},z.to={height:H.height*it.to.y,width:H.width*it.to.x,outerHeight:H.height*it.to.y,outerWidth:H.width*it.to.x},it.from.y!==it.to.y&&(z.from=L.effects.setTransition(z,dt,it.from.y,z.from),z.to=L.effects.setTransition(z,dt,it.to.y,z.to)),it.from.x!==it.to.x&&(z.from=L.effects.setTransition(z,pt,it.from.x,z.from),z.to=L.effects.setTransition(z,pt,it.to.x,z.to)),z.css(z.from),z.animate(z.to,S.duration,S.easing,(function(){_t&&L.effects.restore(z,rt)}))}))),nt.animate(nt.to,{queue:!1,duration:S.duration,easing:S.easing,complete:function(){0===nt.to.opacity&&nt.css("opacity",nt.from.opacity),"hide"===gt&&nt.hide(),L.effects.restore(nt,Ct),_t||("static"===kt?nt.css({position:"relative",top:nt.to.top,left:nt.to.left}):L.each(["top","left"],(function(L,S){nt.css(S,(function(S,z){var H=parseInt(z,10),tt=L?nt.to.left:nt.to.top;return"auto"===z?tt+"px":H+tt+"px"}))}))),L.effects.removeWrapper(nt),z()}})},L.effects.effect.scale=function(S,z){var H=L(this),tt=L.extend(!0,{},S),it=L.effects.setMode(H,S.mode||"effect"),nt=parseInt(S.percent,10)||(0===parseInt(S.percent,10)||"hide"===it?0:100),ot=S.direction||"both",at=S.origin,rt={height:H.height(),width:H.width(),outerHeight:H.outerHeight(),outerWidth:H.outerWidth()},ht={y:"horizontal"!==ot?nt/100:1,x:"vertical"!==ot?nt/100:1};tt.effect="size",tt.queue=!1,tt.complete=z,"effect"!==it&&(tt.origin=at||["middle","center"],tt.restore=!0),tt.from=S.from||("show"===it?{height:0,width:0,outerHeight:0,outerWidth:0}:rt),tt.to={height:rt.height*ht.y,width:rt.width*ht.x,outerHeight:rt.outerHeight*ht.y,outerWidth:rt.outerWidth*ht.x},tt.fade&&("show"===it&&(tt.from.opacity=0,tt.to.opacity=1),"hide"===it&&(tt.from.opacity=1,tt.to.opacity=0)),H.effect(tt)},L.effects.effect.puff=function(S,z){var H=L(this),tt=L.effects.setMode(H,S.mode||"hide"),it="hide"===tt,nt=parseInt(S.percent,10)||150,ot=nt/100,at={height:H.height(),width:H.width(),outerHeight:H.outerHeight(),outerWidth:H.outerWidth()};L.extend(S,{effect:"scale",queue:!1,fade:!0,mode:tt,complete:z,percent:it?nt:100,from:it?at:{height:at.height*ot,width:at.width*ot,outerHeight:at.outerHeight*ot,outerWidth:at.outerWidth*ot}}),H.effect(S)},L.effects.effect.pulsate=function(S,z){var H,tt=L(this),it=L.effects.setMode(tt,S.mode||"show"),nt="show"===it,ot="hide"===it,at=nt||"hide"===it,rt=2*(S.times||5)+(at?1:0),ht=S.duration/rt,dt=0,pt=tt.queue(),gt=pt.length;for((nt||!tt.is(":visible"))&&(tt.css("opacity",0).show(),dt=1),H=1;rt>H;H++)tt.animate({opacity:dt},ht,S.easing),dt=1-dt;tt.animate({opacity:dt},ht,S.easing),tt.queue((function(){ot&&tt.hide(),z()})),gt>1&&pt.splice.apply(pt,[1,0].concat(pt.splice(gt,rt+1))),tt.dequeue()},L.effects.effect.shake=function(S,z){var H,tt=L(this),it=["position","top","bottom","left","right","height","width"],nt=L.effects.setMode(tt,S.mode||"effect"),ot=S.direction||"left",at=S.distance||20,rt=S.times||3,ht=2*rt+1,dt=Math.round(S.duration/ht),pt="up"===ot||"down"===ot?"top":"left",gt="up"===ot||"left"===ot,_t={},bt={},xt={},kt=tt.queue(),Ct=kt.length;for(L.effects.save(tt,it),tt.show(),L.effects.createWrapper(tt),_t[pt]=(gt?"-=":"+=")+at,bt[pt]=(gt?"+=":"-=")+2*at,xt[pt]=(gt?"-=":"+=")+2*at,tt.animate(_t,dt,S.easing),H=1;rt>H;H++)tt.animate(bt,dt,S.easing).animate(xt,dt,S.easing);tt.animate(bt,dt,S.easing).animate(_t,dt/2,S.easing).queue((function(){"hide"===nt&&tt.hide(),L.effects.restore(tt,it),L.effects.removeWrapper(tt),z()})),Ct>1&&kt.splice.apply(kt,[1,0].concat(kt.splice(Ct,ht+1))),tt.dequeue()},L.effects.effect.slide=function(S,z){var H,tt=L(this),it=["position","top","bottom","left","right","width","height"],nt=L.effects.setMode(tt,S.mode||"show"),ot="show"===nt,at=S.direction||"left",rt="up"===at||"down"===at?"top":"left",ht="up"===at||"left"===at,dt={};L.effects.save(tt,it),tt.show(),H=S.distance||tt["top"===rt?"outerHeight":"outerWidth"](!0),L.effects.createWrapper(tt).css({overflow:"hidden"}),ot&&tt.css(rt,ht?isNaN(H)?"-"+H:-H:H),dt[rt]=(ot?ht?"+=":"-=":ht?"-=":"+=")+H,tt.animate(dt,{queue:!1,duration:S.duration,easing:S.easing,complete:function(){"hide"===nt&&tt.hide(),L.effects.restore(tt,it),L.effects.removeWrapper(tt),z()}})},L.effects.effect.transfer=function(S,z){var H=L(this),tt=L(S.to),it="fixed"===tt.css("position"),nt=L("body"),ot=it?nt.scrollTop():0,at=it?nt.scrollLeft():0,rt=tt.offset(),ht={top:rt.top-ot,left:rt.left-at,height:tt.innerHeight(),width:tt.innerWidth()},dt=H.offset(),pt=L("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(S.className).css({top:dt.top-ot,left:dt.left-at,height:H.innerHeight(),width:H.innerWidth(),position:it?"fixed":"absolute"}).animate(ht,S.duration,S.easing,(function(){pt.remove(),z()}))},L.widget("ui.progressbar",{version:"1.11.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=L("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(L){return void 0===L?this.options.value:(this.options.value=this._constrainedValue(L),void this._refreshValue())},_constrainedValue:function(L){return void 0===L&&(L=this.options.value),this.indeterminate=!1===L,"number"!=typeof L&&(L=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,L))},_setOptions:function(L){var S=L.value;delete L.value,this._super(L),this.options.value=this._constrainedValue(S),this._refreshValue()},_setOption:function(L,S){"max"===L&&(S=Math.max(this.min,S)),"disabled"===L&&this.element.toggleClass("ui-state-disabled",!!S).attr("aria-disabled",S),this._super(L,S)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var S=this.options.value,z=this._percentage();this.valueDiv.toggle(this.indeterminate||S>this.min).toggleClass("ui-corner-right",S===this.options.max).width(z.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=L("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":S}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==S&&(this.oldValue=S,this._trigger("change")),S===this.options.max&&this._trigger("complete")}}),L.widget("ui.selectable",L.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var S,z=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(S=L(z.options.filter,z.element[0])).addClass("ui-selectee"),S.each((function(){var S=L(this),z=S.offset();L.data(this,"selectable-item",{element:this,$element:S,left:z.left,top:z.top,right:z.left+S.outerWidth(),bottom:z.top+S.outerHeight(),startselected:!1,selected:S.hasClass("ui-selected"),selecting:S.hasClass("ui-selecting"),unselecting:S.hasClass("ui-unselecting")})}))},this.refresh(),this.selectees=S.addClass("ui-selectee"),this._mouseInit(),this.helper=L("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(S){var z=this,H=this.options;this.opos=[S.pageX,S.pageY],this.options.disabled||(this.selectees=L(H.filter,this.element[0]),this._trigger("start",S),L(H.appendTo).append(this.helper),this.helper.css({left:S.pageX,top:S.pageY,width:0,height:0}),H.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var H=L.data(this,"selectable-item");H.startselected=!0,S.metaKey||S.ctrlKey||(H.$element.removeClass("ui-selected"),H.selected=!1,H.$element.addClass("ui-unselecting"),H.unselecting=!0,z._trigger("unselecting",S,{unselecting:H.element}))})),L(S.target).parents().addBack().each((function(){var H,tt=L.data(this,"selectable-item");return tt?(H=!S.metaKey&&!S.ctrlKey||!tt.$element.hasClass("ui-selected"),tt.$element.removeClass(H?"ui-unselecting":"ui-selected").addClass(H?"ui-selecting":"ui-unselecting"),tt.unselecting=!H,tt.selecting=H,tt.selected=H,H?z._trigger("selecting",S,{selecting:tt.element}):z._trigger("unselecting",S,{unselecting:tt.element}),!1):void 0})))},_mouseDrag:function(S){if(this.dragged=!0,!this.options.disabled){var z,H=this,tt=this.options,it=this.opos[0],nt=this.opos[1],ot=S.pageX,at=S.pageY;return it>ot&&(z=ot,ot=it,it=z),nt>at&&(z=at,at=nt,nt=z),this.helper.css({left:it,top:nt,width:ot-it,height:at-nt}),this.selectees.each((function(){var z=L.data(this,"selectable-item"),rt=!1;z&&z.element!==H.element[0]&&("touch"===tt.tolerance?rt=!(z.left>ot||it>z.right||z.top>at||nt>z.bottom):"fit"===tt.tolerance&&(rt=z.left>it&&ot>z.right&&z.top>nt&&at>z.bottom),rt?(z.selected&&(z.$element.removeClass("ui-selected"),z.selected=!1),z.unselecting&&(z.$element.removeClass("ui-unselecting"),z.unselecting=!1),z.selecting||(z.$element.addClass("ui-selecting"),z.selecting=!0,H._trigger("selecting",S,{selecting:z.element}))):(z.selecting&&((S.metaKey||S.ctrlKey)&&z.startselected?(z.$element.removeClass("ui-selecting"),z.selecting=!1,z.$element.addClass("ui-selected"),z.selected=!0):(z.$element.removeClass("ui-selecting"),z.selecting=!1,z.startselected&&(z.$element.addClass("ui-unselecting"),z.unselecting=!0),H._trigger("unselecting",S,{unselecting:z.element}))),z.selected&&(S.metaKey||S.ctrlKey||z.startselected||(z.$element.removeClass("ui-selected"),z.selected=!1,z.$element.addClass("ui-unselecting"),z.unselecting=!0,H._trigger("unselecting",S,{unselecting:z.element})))))})),!1}},_mouseStop:function(S){var z=this;return this.dragged=!1,L(".ui-unselecting",this.element[0]).each((function(){var H=L.data(this,"selectable-item");H.$element.removeClass("ui-unselecting"),H.unselecting=!1,H.startselected=!1,z._trigger("unselected",S,{unselected:H.element})})),L(".ui-selecting",this.element[0]).each((function(){var H=L.data(this,"selectable-item");H.$element.removeClass("ui-selecting").addClass("ui-selected"),H.selecting=!1,H.selected=!0,H.startselected=!0,z._trigger("selected",S,{selected:H.element})})),this._trigger("stop",S),this.helper.remove(),!1}}),L.widget("ui.selectmenu",{version:"1.11.1",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var L=this.element.uniqueId().attr("id");this.ids={element:L,button:L+"-button",menu:L+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var S=this,z=this.element.attr("tabindex");this.label=L("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(L){this.button.focus(),L.preventDefault()}}),this.element.hide(),this.button=L("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:z||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),L("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=L("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",(function(){S.menuItems||S._refreshMenu()})),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var S=this;this.menu=L("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=L("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(L,z){L.preventDefault(),S._select(z.item.data("ui-selectmenu-item"),L)},focus:function(L,z){var H=z.item.data("ui-selectmenu-item");null!=S.focusIndex&&H.index!==S.focusIndex&&(S._trigger("focus",L,{item:H}),S.isOpen||S._select(H,L)),S.focusIndex=H.index,S.button.attr("aria-activedescendant",S.menuItems.eq(H.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var L,S=this.element.find("option");S.length&&(this._parseOptions(S),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),L=this._getSelectedItem(),this.menuInstance.focus(null,L),this._setAria(L.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(L){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",L))},_position:function(){this.menuWrap.position(L.extend({of:this.button},this.options.position))},close:function(L){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",L))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(S,z){var H=this,tt="";L.each(z,(function(z,it){it.optgroup!==tt&&(L("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(it.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:it.optgroup}).appendTo(S),tt=it.optgroup),H._renderItemData(S,it)}))},_renderItemData:function(L,S){return this._renderItem(L,S).data("ui-selectmenu-item",S)},_renderItem:function(S,z){var H=L("<li>");return z.disabled&&H.addClass("ui-state-disabled"),this._setText(H,z.label),H.appendTo(S)},_setText:function(L,S){S?L.text(S):L.html("&#160;")},_move:function(L,S){var z,H,tt=".ui-menu-item";this.isOpen?z=this.menuItems.eq(this.focusIndex):(z=this.menuItems.eq(this.element[0].selectedIndex),tt+=":not(.ui-state-disabled)"),(H="first"===L||"last"===L?z["first"===L?"prevAll":"nextAll"](tt).eq(-1):z[L+"All"](tt).eq(0)).length&&this.menuInstance.focus(S,H)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(L){this[this.isOpen?"close":"open"](L)},_documentClick:{mousedown:function(S){this.isOpen&&(L(S.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(S))}},_buttonEvents:{mousedown:function(L){L.preventDefault()},click:"_toggle",keydown:function(S){var z=!0;switch(S.keyCode){case L.ui.keyCode.TAB:case L.ui.keyCode.ESCAPE:this.close(S),z=!1;break;case L.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(S);break;case L.ui.keyCode.UP:S.altKey?this._toggle(S):this._move("prev",S);break;case L.ui.keyCode.DOWN:S.altKey?this._toggle(S):this._move("next",S);break;case L.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(S):this._toggle(S);break;case L.ui.keyCode.LEFT:this._move("prev",S);break;case L.ui.keyCode.RIGHT:this._move("next",S);break;case L.ui.keyCode.HOME:case L.ui.keyCode.PAGE_UP:this._move("first",S);break;case L.ui.keyCode.END:case L.ui.keyCode.PAGE_DOWN:this._move("last",S);break;default:this.menu.trigger(S),z=!1}z&&S.preventDefault()}},_selectFocusedItem:function(L){var S=this.menuItems.eq(this.focusIndex);S.hasClass("ui-state-disabled")||this._select(S.data("ui-selectmenu-item"),L)},_select:function(L,S){var z=this.element[0].selectedIndex;this.element[0].selectedIndex=L.index,this._setText(this.buttonText,L.label),this._setAria(L),this._trigger("select",S,{item:L}),L.index!==z&&this._trigger("change",S,{item:L}),this.close(S)},_setAria:function(L){var S=this.menuItems.eq(L.index).attr("id");this.button.attr({"aria-labelledby":S,"aria-activedescendant":S}),this.menu.attr("aria-activedescendant",S)},_setOption:function(L,S){"icons"===L&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(S.button),this._super(L,S),"appendTo"===L&&this.menuWrap.appendTo(this._appendTo()),"disabled"===L&&(this.menuInstance.option("disabled",S),this.button.toggleClass("ui-state-disabled",S).attr("aria-disabled",S),this.element.prop("disabled",S),S?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===L&&this._resizeButton()},_appendTo:function(){var S=this.options.appendTo;return S&&(S=S.jquery||S.nodeType?L(S):this.document.find(S).eq(0)),S&&S[0]||(S=this.element.closest(".ui-front")),S.length||(S=this.document[0].body),S},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var L=this.options.width;L||(L=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(L)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(S){var z=[];S.each((function(S,H){var tt=L(H),it=tt.parent("optgroup");z.push({element:tt,index:S,value:tt.attr("value"),label:tt.text(),optgroup:it.attr("label")||"",disabled:it.prop("disabled")||tt.prop("disabled")})})),this.items=z},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),L.widget("ui.slider",L.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var S,z,H=this.options,tt=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),it="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",nt=[];for(z=H.values&&H.values.length||1,tt.length>z&&(tt.slice(z).remove(),tt=tt.slice(0,z)),S=tt.length;z>S;S++)nt.push(it);this.handles=tt.add(L(nt.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each((function(S){L(this).data("ui-slider-handle-index",S)}))},_createRange:function(){var S=this.options,z="";S.range?(!0===S.range&&(S.values?S.values.length&&2!==S.values.length?S.values=[S.values[0],S.values[0]]:L.isArray(S.values)&&(S.values=S.values.slice(0)):S.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=L("<div></div>").appendTo(this.element),z="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(z+("min"===S.range||"max"===S.range?" ui-slider-range-"+S.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(S){var z,H,tt,it,nt,ot,at,rt=this,ht=this.options;return!ht.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),z={x:S.pageX,y:S.pageY},H=this._normValueFromMouse(z),tt=this._valueMax()-this._valueMin()+1,this.handles.each((function(S){var z=Math.abs(H-rt.values(S));(tt>z||tt===z&&(S===rt._lastChangedValue||rt.values(S)===ht.min))&&(tt=z,it=L(this),nt=S)})),!1!==this._start(S,nt)&&(this._mouseSliding=!0,this._handleIndex=nt,it.addClass("ui-state-active").focus(),ot=it.offset(),at=!L(S.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=at?{left:0,top:0}:{left:S.pageX-ot.left-it.width()/2,top:S.pageY-ot.top-it.height()/2-(parseInt(it.css("borderTopWidth"),10)||0)-(parseInt(it.css("borderBottomWidth"),10)||0)+(parseInt(it.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(S,nt,H),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(L){var S={x:L.pageX,y:L.pageY},z=this._normValueFromMouse(S);return this._slide(L,this._handleIndex,z),!1},_mouseStop:function(L){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(L,this._handleIndex),this._change(L,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(L){var S,z,H,tt,it;return"horizontal"===this.orientation?(S=this.elementSize.width,z=L.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(S=this.elementSize.height,z=L.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(H=z/S)>1&&(H=1),0>H&&(H=0),"vertical"===this.orientation&&(H=1-H),tt=this._valueMax()-this._valueMin(),it=this._valueMin()+H*tt,this._trimAlignValue(it)},_start:function(L,S){var z={handle:this.handles[S],value:this.value()};return this.options.values&&this.options.values.length&&(z.value=this.values(S),z.values=this.values()),this._trigger("start",L,z)},_slide:function(L,S,z){var H,tt,it;this.options.values&&this.options.values.length?(H=this.values(S?0:1),2===this.options.values.length&&!0===this.options.range&&(0===S&&z>H||1===S&&H>z)&&(z=H),z!==this.values(S)&&((tt=this.values())[S]=z,it=this._trigger("slide",L,{handle:this.handles[S],value:z,values:tt}),H=this.values(S?0:1),!1!==it&&this.values(S,z))):z!==this.value()&&!1!==(it=this._trigger("slide",L,{handle:this.handles[S],value:z}))&&this.value(z)},_stop:function(L,S){var z={handle:this.handles[S],value:this.value()};this.options.values&&this.options.values.length&&(z.value=this.values(S),z.values=this.values()),this._trigger("stop",L,z)},_change:function(L,S){if(!this._keySliding&&!this._mouseSliding){var z={handle:this.handles[S],value:this.value()};this.options.values&&this.options.values.length&&(z.value=this.values(S),z.values=this.values()),this._lastChangedValue=S,this._trigger("change",L,z)}},value:function(L){return arguments.length?(this.options.value=this._trimAlignValue(L),this._refreshValue(),void this._change(null,0)):this._value()},values:function(S,z){var H,tt,it;if(arguments.length>1)return this.options.values[S]=this._trimAlignValue(z),this._refreshValue(),void this._change(null,S);if(!arguments.length)return this._values();if(!L.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(S):this.value();for(H=this.options.values,tt=arguments[0],it=0;H.length>it;it+=1)H[it]=this._trimAlignValue(tt[it]),this._change(null,it);this._refreshValue()},_setOption:function(S,z){var H,tt=0;switch("range"===S&&!0===this.options.range&&("min"===z?(this.options.value=this._values(0),this.options.values=null):"max"===z&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),L.isArray(this.options.values)&&(tt=this.options.values.length),"disabled"===S&&this.element.toggleClass("ui-state-disabled",!!z),this._super(S,z),S){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===z?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),H=0;tt>H;H+=1)this._change(null,H);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var L=this.options.value;return this._trimAlignValue(L)},_values:function(L){var S,z,H;if(arguments.length)return S=this.options.values[L],this._trimAlignValue(S);if(this.options.values&&this.options.values.length){for(z=this.options.values.slice(),H=0;z.length>H;H+=1)z[H]=this._trimAlignValue(z[H]);return z}return[]},_trimAlignValue:function(L){if(this._valueMin()>=L)return this._valueMin();if(L>=this._valueMax())return this._valueMax();var S=this.options.step>0?this.options.step:1,z=(L-this._valueMin())%S,H=L-z;return 2*Math.abs(z)>=S&&(H+=z>0?S:-S),parseFloat(H.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var S,z,H,tt,it,nt=this.options.range,ot=this.options,at=this,rt=!this._animateOff&&ot.animate,ht={};this.options.values&&this.options.values.length?this.handles.each((function(H){z=(at.values(H)-at._valueMin())/(at._valueMax()-at._valueMin())*100,ht["horizontal"===at.orientation?"left":"bottom"]=z+"%",L(this).stop(1,1)[rt?"animate":"css"](ht,ot.animate),!0===at.options.range&&("horizontal"===at.orientation?(0===H&&at.range.stop(1,1)[rt?"animate":"css"]({left:z+"%"},ot.animate),1===H&&at.range[rt?"animate":"css"]({width:z-S+"%"},{queue:!1,duration:ot.animate})):(0===H&&at.range.stop(1,1)[rt?"animate":"css"]({bottom:z+"%"},ot.animate),1===H&&at.range[rt?"animate":"css"]({height:z-S+"%"},{queue:!1,duration:ot.animate}))),S=z})):(H=this.value(),tt=this._valueMin(),it=this._valueMax(),z=it!==tt?(H-tt)/(it-tt)*100:0,ht["horizontal"===this.orientation?"left":"bottom"]=z+"%",this.handle.stop(1,1)[rt?"animate":"css"](ht,ot.animate),"min"===nt&&"horizontal"===this.orientation&&this.range.stop(1,1)[rt?"animate":"css"]({width:z+"%"},ot.animate),"max"===nt&&"horizontal"===this.orientation&&this.range[rt?"animate":"css"]({width:100-z+"%"},{queue:!1,duration:ot.animate}),"min"===nt&&"vertical"===this.orientation&&this.range.stop(1,1)[rt?"animate":"css"]({height:z+"%"},ot.animate),"max"===nt&&"vertical"===this.orientation&&this.range[rt?"animate":"css"]({height:100-z+"%"},{queue:!1,duration:ot.animate}))},_handleEvents:{keydown:function(S){var z,H,tt,it=L(S.target).data("ui-slider-handle-index");switch(S.keyCode){case L.ui.keyCode.HOME:case L.ui.keyCode.END:case L.ui.keyCode.PAGE_UP:case L.ui.keyCode.PAGE_DOWN:case L.ui.keyCode.UP:case L.ui.keyCode.RIGHT:case L.ui.keyCode.DOWN:case L.ui.keyCode.LEFT:if(S.preventDefault(),!this._keySliding&&(this._keySliding=!0,L(S.target).addClass("ui-state-active"),!1===this._start(S,it)))return}switch(tt=this.options.step,z=H=this.options.values&&this.options.values.length?this.values(it):this.value(),S.keyCode){case L.ui.keyCode.HOME:H=this._valueMin();break;case L.ui.keyCode.END:H=this._valueMax();break;case L.ui.keyCode.PAGE_UP:H=this._trimAlignValue(z+(this._valueMax()-this._valueMin())/this.numPages);break;case L.ui.keyCode.PAGE_DOWN:H=this._trimAlignValue(z-(this._valueMax()-this._valueMin())/this.numPages);break;case L.ui.keyCode.UP:case L.ui.keyCode.RIGHT:if(z===this._valueMax())return;H=this._trimAlignValue(z+tt);break;case L.ui.keyCode.DOWN:case L.ui.keyCode.LEFT:if(z===this._valueMin())return;H=this._trimAlignValue(z-tt)}this._slide(S,it,H)},keyup:function(S){var z=L(S.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(S,z),this._change(S,z),L(S.target).removeClass("ui-state-active"))}}}),L.widget("ui.sortable",L.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(L,S,z){return L>=S&&S+z>L},_isFloating:function(L){return/left|right/.test(L.css("float"))||/inline|table-cell/.test(L.css("display"))},_create:function(){var L=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===L.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(L,S){this._super(L,S),"handle"===L&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),L.each(this.items,(function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")}))},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var L=this.items.length-1;L>=0;L--)this.items[L].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(S,z){var H=null,tt=!1,it=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(S),L(S.target).parents().each((function(){return L.data(this,it.widgetName+"-item")===it?(H=L(this),!1):void 0})),L.data(S.target,it.widgetName+"-item")===it&&(H=L(S.target)),!H||this.options.handle&&!z&&(L(this.options.handle,H).find("*").addBack().each((function(){this===S.target&&(tt=!0)})),!tt)||(this.currentItem=H,this._removeCurrentsFromItems(),0)))},_mouseStart:function(S,z,H){var tt,it,nt=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(S),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},L.extend(this.offset,{click:{left:S.pageX-this.offset.left,top:S.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(S),this.originalPageX=S.pageX,this.originalPageY=S.pageY,nt.cursorAt&&this._adjustOffsetFromHelper(nt.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),nt.containment&&this._setContainment(),nt.cursor&&"auto"!==nt.cursor&&(it=this.document.find("body"),this.storedCursor=it.css("cursor"),it.css("cursor",nt.cursor),this.storedStylesheet=L("<style>*{ cursor: "+nt.cursor+" !important; }</style>").appendTo(it)),nt.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",nt.opacity)),nt.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",nt.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",S,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!H)for(tt=this.containers.length-1;tt>=0;tt--)this.containers[tt]._trigger("activate",S,this._uiHash(this));return L.ui.ddmanager&&(L.ui.ddmanager.current=this),L.ui.ddmanager&&!nt.dropBehaviour&&L.ui.ddmanager.prepareOffsets(this,S),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(S),!0},_mouseDrag:function(S){var z,H,tt,it,nt=this.options,ot=!1;for(this.position=this._generatePosition(S),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-S.pageY<nt.scrollSensitivity?this.scrollParent[0].scrollTop=ot=this.scrollParent[0].scrollTop+nt.scrollSpeed:S.pageY-this.overflowOffset.top<nt.scrollSensitivity&&(this.scrollParent[0].scrollTop=ot=this.scrollParent[0].scrollTop-nt.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-S.pageX<nt.scrollSensitivity?this.scrollParent[0].scrollLeft=ot=this.scrollParent[0].scrollLeft+nt.scrollSpeed:S.pageX-this.overflowOffset.left<nt.scrollSensitivity&&(this.scrollParent[0].scrollLeft=ot=this.scrollParent[0].scrollLeft-nt.scrollSpeed)):(S.pageY-L(document).scrollTop()<nt.scrollSensitivity?ot=L(document).scrollTop(L(document).scrollTop()-nt.scrollSpeed):L(window).height()-(S.pageY-L(document).scrollTop())<nt.scrollSensitivity&&(ot=L(document).scrollTop(L(document).scrollTop()+nt.scrollSpeed)),S.pageX-L(document).scrollLeft()<nt.scrollSensitivity?ot=L(document).scrollLeft(L(document).scrollLeft()-nt.scrollSpeed):L(window).width()-(S.pageX-L(document).scrollLeft())<nt.scrollSensitivity&&(ot=L(document).scrollLeft(L(document).scrollLeft()+nt.scrollSpeed))),!1!==ot&&L.ui.ddmanager&&!nt.dropBehaviour&&L.ui.ddmanager.prepareOffsets(this,S)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),z=this.items.length-1;z>=0;z--)if(tt=(H=this.items[z]).item[0],(it=this._intersectsWithPointer(H))&&H.instance===this.currentContainer&&tt!==this.currentItem[0]&&this.placeholder[1===it?"next":"prev"]()[0]!==tt&&!L.contains(this.placeholder[0],tt)&&("semi-dynamic"!==this.options.type||!L.contains(this.element[0],tt))){if(this.direction=1===it?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(H))break;this._rearrange(S,H),this._trigger("change",S,this._uiHash());break}return this._contactContainers(S),L.ui.ddmanager&&L.ui.ddmanager.drag(this,S),this._trigger("sort",S,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(S,z){if(S){if(L.ui.ddmanager&&!this.options.dropBehaviour&&L.ui.ddmanager.drop(this,S),this.options.revert){var H=this,tt=this.placeholder.offset(),it=this.options.axis,nt={};it&&"x"!==it||(nt.left=tt.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),it&&"y"!==it||(nt.top=tt.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,L(this.helper).animate(nt,parseInt(this.options.revert,10)||500,(function(){H._clear(S)}))}else this._clear(S,z);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var S=this.containers.length-1;S>=0;S--)this.containers[S]._trigger("deactivate",null,this._uiHash(this)),this.containers[S].containerCache.over&&(this.containers[S]._trigger("out",null,this._uiHash(this)),this.containers[S].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),L.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?L(this.domPosition.prev).after(this.currentItem):L(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(S){var z=this._getItemsAsjQuery(S&&S.connected),H=[];return S=S||{},L(z).each((function(){var z=(L(S.item||this).attr(S.attribute||"id")||"").match(S.expression||/(.+)[\-=_](.+)/);z&&H.push((S.key||z[1]+"[]")+"="+(S.key&&S.expression?z[1]:z[2]))})),!H.length&&S.key&&H.push(S.key+"="),H.join("&")},toArray:function(S){var z=this._getItemsAsjQuery(S&&S.connected),H=[];return S=S||{},z.each((function(){H.push(L(S.item||this).attr(S.attribute||"id")||"")})),H},_intersectsWith:function(L){var S=this.positionAbs.left,z=S+this.helperProportions.width,H=this.positionAbs.top,tt=H+this.helperProportions.height,it=L.left,nt=it+L.width,ot=L.top,at=ot+L.height,rt=this.offset.click.top,ht=this.offset.click.left,dt="x"===this.options.axis||H+rt>ot&&at>H+rt,pt="y"===this.options.axis||S+ht>it&&nt>S+ht,gt=dt&&pt;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>L[this.floating?"width":"height"]?gt:S+this.helperProportions.width/2>it&&nt>z-this.helperProportions.width/2&&H+this.helperProportions.height/2>ot&&at>tt-this.helperProportions.height/2},_intersectsWithPointer:function(L){var S="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,L.top,L.height),z="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,L.left,L.width),H=S&&z,tt=this._getDragVerticalDirection(),it=this._getDragHorizontalDirection();return!!H&&(this.floating?it&&"right"===it||"down"===tt?2:1:tt&&("down"===tt?2:1))},_intersectsWithSides:function(L){var S=this._isOverAxis(this.positionAbs.top+this.offset.click.top,L.top+L.height/2,L.height),z=this._isOverAxis(this.positionAbs.left+this.offset.click.left,L.left+L.width/2,L.width),H=this._getDragVerticalDirection(),tt=this._getDragHorizontalDirection();return this.floating&&tt?"right"===tt&&z||"left"===tt&&!z:H&&("down"===H&&S||"up"===H&&!S)},_getDragVerticalDirection:function(){var L=this.positionAbs.top-this.lastPositionAbs.top;return 0!==L&&(L>0?"down":"up")},_getDragHorizontalDirection:function(){var L=this.positionAbs.left-this.lastPositionAbs.left;return 0!==L&&(L>0?"right":"left")},refresh:function(L){return this._refreshItems(L),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var L=this.options;return L.connectWith.constructor===String?[L.connectWith]:L.connectWith},_getItemsAsjQuery:function(S){function i(){nt.push(this)}var z,H,tt,it,nt=[],ot=[],at=this._connectWith();if(at&&S)for(z=at.length-1;z>=0;z--)for(H=(tt=L(at[z])).length-1;H>=0;H--)(it=L.data(tt[H],this.widgetFullName))&&it!==this&&!it.options.disabled&&ot.push([L.isFunction(it.options.items)?it.options.items.call(it.element):L(it.options.items,it.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),it]);for(ot.push([L.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):L(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),z=ot.length-1;z>=0;z--)ot[z][0].each(i);return L(nt)},_removeCurrentsFromItems:function(){var S=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=L.grep(this.items,(function(L){for(var z=0;S.length>z;z++)if(S[z]===L.item[0])return!1;return!0}))},_refreshItems:function(S){this.items=[],this.containers=[this];var z,H,tt,it,nt,ot,at,rt,ht=this.items,dt=[[L.isFunction(this.options.items)?this.options.items.call(this.element[0],S,{item:this.currentItem}):L(this.options.items,this.element),this]],pt=this._connectWith();if(pt&&this.ready)for(z=pt.length-1;z>=0;z--)for(H=(tt=L(pt[z])).length-1;H>=0;H--)(it=L.data(tt[H],this.widgetFullName))&&it!==this&&!it.options.disabled&&(dt.push([L.isFunction(it.options.items)?it.options.items.call(it.element[0],S,{item:this.currentItem}):L(it.options.items,it.element),it]),this.containers.push(it));for(z=dt.length-1;z>=0;z--)for(nt=dt[z][1],H=0,rt=(ot=dt[z][0]).length;rt>H;H++)(at=L(ot[H])).data(this.widgetName+"-item",nt),ht.push({item:at,instance:nt,width:0,height:0,left:0,top:0})},refreshPositions:function(S){var z,H,tt,it;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),z=this.items.length-1;z>=0;z--)(H=this.items[z]).instance!==this.currentContainer&&this.currentContainer&&H.item[0]!==this.currentItem[0]||(tt=this.options.toleranceElement?L(this.options.toleranceElement,H.item):H.item,S||(H.width=tt.outerWidth(),H.height=tt.outerHeight()),it=tt.offset(),H.left=it.left,H.top=it.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(z=this.containers.length-1;z>=0;z--)it=this.containers[z].element.offset(),this.containers[z].containerCache.left=it.left,this.containers[z].containerCache.top=it.top,this.containers[z].containerCache.width=this.containers[z].element.outerWidth(),this.containers[z].containerCache.height=this.containers[z].element.outerHeight();return this},_createPlaceholder:function(S){var z,H=(S=S||this).options;H.placeholder&&H.placeholder.constructor!==String||(z=H.placeholder,H.placeholder={element:function(){var H=S.currentItem[0].nodeName.toLowerCase(),tt=L("<"+H+">",S.document[0]).addClass(z||S.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===H?S.currentItem.children().each((function(){L("<td>&#160;</td>",S.document[0]).attr("colspan",L(this).attr("colspan")||1).appendTo(tt)})):"img"===H&&tt.attr("src",S.currentItem.attr("src")),z||tt.css("visibility","hidden"),tt},update:function(L,tt){(!z||H.forcePlaceholderSize)&&(tt.height()||tt.height(S.currentItem.innerHeight()-parseInt(S.currentItem.css("paddingTop")||0,10)-parseInt(S.currentItem.css("paddingBottom")||0,10)),tt.width()||tt.width(S.currentItem.innerWidth()-parseInt(S.currentItem.css("paddingLeft")||0,10)-parseInt(S.currentItem.css("paddingRight")||0,10)))}}),S.placeholder=L(H.placeholder.element.call(S.element,S.currentItem)),S.currentItem.after(S.placeholder),H.placeholder.update(S,S.placeholder)},_contactContainers:function(S){var z,H,tt,it,nt,ot,at,rt,ht,dt,pt=null,gt=null;for(z=this.containers.length-1;z>=0;z--)if(!L.contains(this.currentItem[0],this.containers[z].element[0]))if(this._intersectsWith(this.containers[z].containerCache)){if(pt&&L.contains(this.containers[z].element[0],pt.element[0]))continue;pt=this.containers[z],gt=z}else this.containers[z].containerCache.over&&(this.containers[z]._trigger("out",S,this._uiHash(this)),this.containers[z].containerCache.over=0);if(pt)if(1===this.containers.length)this.containers[gt].containerCache.over||(this.containers[gt]._trigger("over",S,this._uiHash(this)),this.containers[gt].containerCache.over=1);else{for(tt=1e4,it=null,nt=(ht=pt.floating||this._isFloating(this.currentItem))?"left":"top",ot=ht?"width":"height",dt=ht?"clientX":"clientY",H=this.items.length-1;H>=0;H--)L.contains(this.containers[gt].element[0],this.items[H].item[0])&&this.items[H].item[0]!==this.currentItem[0]&&(at=this.items[H].item.offset()[nt],rt=!1,S[dt]-at>this.items[H][ot]/2&&(rt=!0),tt>Math.abs(S[dt]-at)&&(tt=Math.abs(S[dt]-at),it=this.items[H],this.direction=rt?"up":"down"));if(!it&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[gt])return;it?this._rearrange(S,it,null,!0):this._rearrange(S,null,this.containers[gt].element,!0),this._trigger("change",S,this._uiHash()),this.containers[gt]._trigger("change",S,this._uiHash(this)),this.currentContainer=this.containers[gt],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[gt]._trigger("over",S,this._uiHash(this)),this.containers[gt].containerCache.over=1}},_createHelper:function(S){var z=this.options,H=L.isFunction(z.helper)?L(z.helper.apply(this.element[0],[S,this.currentItem])):"clone"===z.helper?this.currentItem.clone():this.currentItem;return H.parents("body").length||L("parent"!==z.appendTo?z.appendTo:this.currentItem[0].parentNode)[0].appendChild(H[0]),H[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!H[0].style.width||z.forceHelperSize)&&H.width(this.currentItem.width()),(!H[0].style.height||z.forceHelperSize)&&H.height(this.currentItem.height()),H},_adjustOffsetFromHelper:function(S){"string"==typeof S&&(S=S.split(" ")),L.isArray(S)&&(S={left:+S[0],top:+S[1]||0}),"left"in S&&(this.offset.click.left=S.left+this.margins.left),"right"in S&&(this.offset.click.left=this.helperProportions.width-S.right+this.margins.left),"top"in S&&(this.offset.click.top=S.top+this.margins.top),"bottom"in S&&(this.offset.click.top=this.helperProportions.height-S.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var S=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&L.contains(this.scrollParent[0],this.offsetParent[0])&&(S.left+=this.scrollParent.scrollLeft(),S.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&L.ui.ie)&&(S={top:0,left:0}),{top:S.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:S.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var L=this.currentItem.position();return{top:L.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:L.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var S,z,H,tt=this.options;"parent"===tt.containment&&(tt.containment=this.helper[0].parentNode),("document"===tt.containment||"window"===tt.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,L("document"===tt.containment?document:window).width()-this.helperProportions.width-this.margins.left,(L("document"===tt.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(tt.containment)||(S=L(tt.containment)[0],z=L(tt.containment).offset(),H="hidden"!==L(S).css("overflow"),this.containment=[z.left+(parseInt(L(S).css("borderLeftWidth"),10)||0)+(parseInt(L(S).css("paddingLeft"),10)||0)-this.margins.left,z.top+(parseInt(L(S).css("borderTopWidth"),10)||0)+(parseInt(L(S).css("paddingTop"),10)||0)-this.margins.top,z.left+(H?Math.max(S.scrollWidth,S.offsetWidth):S.offsetWidth)-(parseInt(L(S).css("borderLeftWidth"),10)||0)-(parseInt(L(S).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,z.top+(H?Math.max(S.scrollHeight,S.offsetHeight):S.offsetHeight)-(parseInt(L(S).css("borderTopWidth"),10)||0)-(parseInt(L(S).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(S,z){z||(z=this.position);var H="absolute"===S?1:-1,tt="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&L.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,it=/(html|body)/i.test(tt[0].tagName);return{top:z.top+this.offset.relative.top*H+this.offset.parent.top*H-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():it?0:tt.scrollTop())*H,left:z.left+this.offset.relative.left*H+this.offset.parent.left*H-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():it?0:tt.scrollLeft())*H}},_generatePosition:function(S){var z,H,tt=this.options,it=S.pageX,nt=S.pageY,ot="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&L.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,at=/(html|body)/i.test(ot[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(S.pageX-this.offset.click.left<this.containment[0]&&(it=this.containment[0]+this.offset.click.left),S.pageY-this.offset.click.top<this.containment[1]&&(nt=this.containment[1]+this.offset.click.top),S.pageX-this.offset.click.left>this.containment[2]&&(it=this.containment[2]+this.offset.click.left),S.pageY-this.offset.click.top>this.containment[3]&&(nt=this.containment[3]+this.offset.click.top)),tt.grid&&(z=this.originalPageY+Math.round((nt-this.originalPageY)/tt.grid[1])*tt.grid[1],nt=this.containment?z-this.offset.click.top>=this.containment[1]&&z-this.offset.click.top<=this.containment[3]?z:z-this.offset.click.top>=this.containment[1]?z-tt.grid[1]:z+tt.grid[1]:z,H=this.originalPageX+Math.round((it-this.originalPageX)/tt.grid[0])*tt.grid[0],it=this.containment?H-this.offset.click.left>=this.containment[0]&&H-this.offset.click.left<=this.containment[2]?H:H-this.offset.click.left>=this.containment[0]?H-tt.grid[0]:H+tt.grid[0]:H)),{top:nt-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():at?0:ot.scrollTop()),left:it-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():at?0:ot.scrollLeft())}},_rearrange:function(L,S,z,H){z?z[0].appendChild(this.placeholder[0]):S.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?S.item[0]:S.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var tt=this.counter;this._delay((function(){tt===this.counter&&this.refreshPositions(!H)}))},_clear:function(L,S){function i(L,S,z){return function(H){z._trigger(L,H,S._uiHash(S))}}this.reverting=!1;var z,H=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(z in this._storedCSS)("auto"===this._storedCSS[z]||"static"===this._storedCSS[z])&&(this._storedCSS[z]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!S&&H.push((function(L){this._trigger("receive",L,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||S||H.push((function(L){this._trigger("update",L,this._uiHash())})),this!==this.currentContainer&&(S||(H.push((function(L){this._trigger("remove",L,this._uiHash())})),H.push(function(L){return function(S){L._trigger("receive",S,this._uiHash(this))}}.call(this,this.currentContainer)),H.push(function(L){return function(S){L._trigger("update",S,this._uiHash(this))}}.call(this,this.currentContainer)))),z=this.containers.length-1;z>=0;z--)S||H.push(i("deactivate",this,this.containers[z])),this.containers[z].containerCache.over&&(H.push(i("out",this,this.containers[z])),this.containers[z].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!S){for(this._trigger("beforeStop",L,this._uiHash()),z=0;H.length>z;z++)H[z].call(this,L);this._trigger("stop",L,this._uiHash())}return this.fromOutside=!1,!1}if(S||this._trigger("beforeStop",L,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!S){for(z=0;H.length>z;z++)H[z].call(this,L);this._trigger("stop",L,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===L.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(S){var z=S||this;return{helper:z.helper,placeholder:z.placeholder||L([]),position:z.position,originalPosition:z.originalPosition,offset:z.positionAbs,item:z.currentItem,sender:S?S.element:null}}}),L.widget("ui.spinner",{version:"1.11.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var S={},z=this.element;return L.each(["min","max","step"],(function(L,H){var tt=z.attr(H);void 0!==tt&&tt.length&&(S[H]=tt)})),S},_events:{keydown:function(L){this._start(L)&&this._keydown(L)&&L.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(L){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",L)))},mousewheel:function(L,S){if(S){if(!this.spinning&&!this._start(L))return!1;this._spin((S>0?1:-1)*this.options.step,L),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(L)}),100),L.preventDefault()}},"mousedown .ui-spinner-button":function(S){function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=z,this._delay((function(){this.previous=z})))}var z;z=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),S.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,i.call(this)})),!1!==this._start(S)&&this._repeat(null,L(S.currentTarget).hasClass("ui-spinner-up")?1:-1,S)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(S){return L(S.currentTarget).hasClass("ui-state-active")?!1!==this._start(S)&&void this._repeat(null,L(S.currentTarget).hasClass("ui-spinner-up")?1:-1,S):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var L=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=L.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*L.height())&&L.height()>0&&L.height(L.height()),this.options.disabled&&this.disable()},_keydown:function(S){var z=this.options,H=L.ui.keyCode;switch(S.keyCode){case H.UP:return this._repeat(null,1,S),!0;case H.DOWN:return this._repeat(null,-1,S),!0;case H.PAGE_UP:return this._repeat(null,z.page,S),!0;case H.PAGE_DOWN:return this._repeat(null,-z.page,S),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(L){return!(!this.spinning&&!1===this._trigger("start",L)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(L,S,z){L=L||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,S,z)}),L),this._spin(S*this.options.step,z)},_spin:function(L,S){var z=this.value()||0;this.counter||(this.counter=1),z=this._adjustValue(z+L*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",S,{value:z})||(this._value(z),this.counter++)},_increment:function(S){var z=this.options.incremental;return z?L.isFunction(z)?z(S):Math.floor(S*S*S/5e4-S*S/500+17*S/200+1):1},_precision:function(){var L=this._precisionOf(this.options.step);return null!==this.options.min&&(L=Math.max(L,this._precisionOf(this.options.min))),L},_precisionOf:function(L){var S=""+L,z=S.indexOf(".");return-1===z?0:S.length-z-1},_adjustValue:function(L){var S,z,H=this.options;return z=L-(S=null!==H.min?H.min:0),L=S+(z=Math.round(z/H.step)*H.step),L=parseFloat(L.toFixed(this._precision())),null!==H.max&&L>H.max?H.max:null!==H.min&&H.min>L?H.min:L},_stop:function(L){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",L))},_setOption:function(L,S){if("culture"===L||"numberFormat"===L){var z=this._parse(this.element.val());return this.options[L]=S,void this.element.val(this._format(z))}("max"===L||"min"===L||"step"===L)&&"string"==typeof S&&(S=this._parse(S)),"icons"===L&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(S.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(S.down)),this._super(L,S),"disabled"===L&&(this.widget().toggleClass("ui-state-disabled",!!S),this.element.prop("disabled",!!S),this.buttons.button(S?"disable":"enable"))},_setOptions:h((function(L){this._super(L)})),_parse:function(L){return"string"==typeof L&&""!==L&&(L=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(L,10,this.options.culture):+L),""===L||isNaN(L)?null:L},_format:function(L){return""===L?"":window.Globalize&&this.options.numberFormat?Globalize.format(L,this.options.numberFormat,this.options.culture):L},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var L=this.value();return null!==L&&L===this._adjustValue(L)},_value:function(L,S){var z;""!==L&&null!==(z=this._parse(L))&&(S||(z=this._adjustValue(z)),L=this._format(z)),this.element.val(L),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h((function(L){this._stepUp(L)})),_stepUp:function(L){this._start()&&(this._spin((L||1)*this.options.step),this._stop())},stepDown:h((function(L){this._stepDown(L)})),_stepDown:function(L){this._start()&&(this._spin((L||1)*-this.options.step),this._stop())},pageUp:h((function(L){this._stepUp((L||1)*this.options.page)})),pageDown:h((function(L){this._stepDown((L||1)*this.options.page)})),value:function(L){return arguments.length?void h(this._value).call(this,L):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),L.widget("ui.tabs",{version:"1.11.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var L=/#.*$/;return function(S){var z,H;z=(S=S.cloneNode(!1)).href.replace(L,""),H=location.href.replace(L,"");try{z=decodeURIComponent(z)}catch(L){}try{H=decodeURIComponent(H)}catch(L){}return S.hash.length>1&&z===H}}(),_create:function(){var S=this,z=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",z.collapsible),this._processTabs(),z.active=this._initialActive(),L.isArray(z.disabled)&&(z.disabled=L.unique(z.disabled.concat(L.map(this.tabs.filter(".ui-state-disabled"),(function(L){return S.tabs.index(L)})))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(z.active):L(),this._refresh(),this.active.length&&this.load(z.active)},_initialActive:function(){var S=this.options.active,z=this.options.collapsible,H=location.hash.substring(1);return null===S&&(H&&this.tabs.each((function(z,tt){return L(tt).attr("aria-controls")===H?(S=z,!1):void 0})),null===S&&(S=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===S||-1===S)&&(S=!!this.tabs.length&&0)),!1!==S&&-1===(S=this.tabs.index(this.tabs.eq(S)))&&(S=!z&&0),!z&&!1===S&&this.anchors.length&&(S=0),S},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):L()}},_tabKeydown:function(S){var z=L(this.document[0].activeElement).closest("li"),H=this.tabs.index(z),tt=!0;if(!this._handlePageNav(S)){switch(S.keyCode){case L.ui.keyCode.RIGHT:case L.ui.keyCode.DOWN:H++;break;case L.ui.keyCode.UP:case L.ui.keyCode.LEFT:tt=!1,H--;break;case L.ui.keyCode.END:H=this.anchors.length-1;break;case L.ui.keyCode.HOME:H=0;break;case L.ui.keyCode.SPACE:return S.preventDefault(),clearTimeout(this.activating),void this._activate(H);case L.ui.keyCode.ENTER:return S.preventDefault(),clearTimeout(this.activating),void this._activate(H!==this.options.active&&H);default:return}S.preventDefault(),clearTimeout(this.activating),H=this._focusNextTab(H,tt),S.ctrlKey||(z.attr("aria-selected","false"),this.tabs.eq(H).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",H)}),this.delay))}},_panelKeydown:function(S){this._handlePageNav(S)||S.ctrlKey&&S.keyCode===L.ui.keyCode.UP&&(S.preventDefault(),this.active.focus())},_handlePageNav:function(S){return S.altKey&&S.keyCode===L.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):S.altKey&&S.keyCode===L.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(S,z){function s(){return S>H&&(S=0),0>S&&(S=H),S}for(var H=this.tabs.length-1;-1!==L.inArray(s(),this.options.disabled);)S=z?S+1:S-1;return S},_focusNextTab:function(L,S){return L=this._findNextTab(L,S),this.tabs.eq(L).focus(),L},_setOption:function(L,S){return"active"===L?void this._activate(S):"disabled"===L?void this._setupDisabled(S):(this._super(L,S),"collapsible"===L&&(this.element.toggleClass("ui-tabs-collapsible",S),S||!1!==this.options.active||this._activate(0)),"event"===L&&this._setupEvents(S),void("heightStyle"===L&&this._setupHeightStyle(S)))},_sanitizeSelector:function(L){return L?L.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var S=this.options,z=this.tablist.children(":has(a[href])");S.disabled=L.map(z.filter(".ui-state-disabled"),(function(L){return z.index(L)})),this._processTabs(),!1!==S.active&&this.anchors.length?this.active.length&&!L.contains(this.tablist[0],this.active[0])?this.tabs.length===S.disabled.length?(S.active=!1,this.active=L()):this._activate(this._findNextTab(Math.max(0,S.active-1),!1)):S.active=this.tabs.index(this.active):(S.active=!1,this.active=L()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var S=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,(function(S){L(this).is(".ui-state-disabled")&&S.preventDefault()})).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,(function(){L(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map((function(){return L("a",this)[0]})).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=L(),this.anchors.each((function(z,H){var tt,it,nt,ot=L(H).uniqueId().attr("id"),at=L(H).closest("li"),rt=at.attr("aria-controls");S._isLocal(H)?(nt=(tt=H.hash).substring(1),it=S.element.find(S._sanitizeSelector(tt))):(tt="#"+(nt=at.attr("aria-controls")||L({}).uniqueId()[0].id),(it=S.element.find(tt)).length||(it=S._createPanel(nt)).insertAfter(S.panels[z-1]||S.tablist),it.attr("aria-live","polite")),it.length&&(S.panels=S.panels.add(it)),rt&&at.data("ui-tabs-aria-controls",rt),at.attr({"aria-controls":nt,"aria-labelledby":ot}),it.attr("aria-labelledby",ot)})),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(S){return L("<div>").attr("id",S).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(S){L.isArray(S)&&(S.length?S.length===this.anchors.length&&(S=!0):S=!1);for(var z,H=0;z=this.tabs[H];H++)!0===S||-1!==L.inArray(H,S)?L(z).addClass("ui-state-disabled").attr("aria-disabled","true"):L(z).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=S},_setupEvents:function(S){var z={};S&&L.each(S.split(" "),(function(L,S){z[S]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(L){L.preventDefault()}}),this._on(this.anchors,z),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(S){var z,H=this.element.parent();"fill"===S?(z=H.height(),z-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var S=L(this),H=S.css("position");"absolute"!==H&&"fixed"!==H&&(z-=S.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){z-=L(this).outerHeight(!0)})),this.panels.each((function(){L(this).height(Math.max(0,z-L(this).innerHeight()+L(this).height()))})).css("overflow","auto")):"auto"===S&&(z=0,this.panels.each((function(){z=Math.max(z,L(this).height("").height())})).height(z))},_eventHandler:function(S){var z=this.options,H=this.active,tt=L(S.currentTarget).closest("li"),it=tt[0]===H[0],nt=it&&z.collapsible,ot=nt?L():this._getPanelForTab(tt),at=H.length?this._getPanelForTab(H):L(),rt={oldTab:H,oldPanel:at,newTab:nt?L():tt,newPanel:ot};S.preventDefault(),tt.hasClass("ui-state-disabled")||tt.hasClass("ui-tabs-loading")||this.running||it&&!z.collapsible||!1===this._trigger("beforeActivate",S,rt)||(z.active=!nt&&this.tabs.index(tt),this.active=it?L():tt,this.xhr&&this.xhr.abort(),at.length||ot.length||L.error("jQuery UI Tabs: Mismatching fragment identifier."),ot.length&&this.load(this.tabs.index(tt),S),this._toggle(S,rt))},_toggle:function(S,z){function s(){H.running=!1,H._trigger("activate",S,z)}function n(){z.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),tt.length&&H.options.show?H._show(tt,H.options.show,s):(tt.show(),s())}var H=this,tt=z.newPanel,it=z.oldPanel;this.running=!0,it.length&&this.options.hide?this._hide(it,this.options.hide,(function(){z.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()})):(z.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),it.hide(),n()),it.attr("aria-hidden","true"),z.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),tt.length&&it.length?z.oldTab.attr("tabIndex",-1):tt.length&&this.tabs.filter((function(){return 0===L(this).attr("tabIndex")})).attr("tabIndex",-1),tt.attr("aria-hidden","false"),z.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(S){var z,H=this._findActive(S);H[0]!==this.active[0]&&(H.length||(H=this.active),z=H.find(".ui-tabs-anchor")[0],this._eventHandler({target:z,currentTarget:z,preventDefault:L.noop}))},_findActive:function(S){return!1===S?L():this.tabs.eq(S)},_getIndex:function(L){return"string"==typeof L&&(L=this.anchors.index(this.anchors.filter("[href$='"+L+"']"))),L},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each((function(){L.data(this,"ui-tabs-destroy")?L(this).remove():L(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")})),this.tabs.each((function(){var S=L(this),z=S.data("ui-tabs-aria-controls");z?S.attr("aria-controls",z).removeData("ui-tabs-aria-controls"):S.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(S){var z=this.options.disabled;!1!==z&&(void 0===S?z=!1:(S=this._getIndex(S),z=L.isArray(z)?L.map(z,(function(L){return L!==S?L:null})):L.map(this.tabs,(function(L,z){return z!==S?z:null}))),this._setupDisabled(z))},disable:function(S){var z=this.options.disabled;if(!0!==z){if(void 0===S)z=!0;else{if(S=this._getIndex(S),-1!==L.inArray(S,z))return;z=L.isArray(z)?L.merge([S],z).sort():[S]}this._setupDisabled(z)}},load:function(S,z){S=this._getIndex(S);var H=this,tt=this.tabs.eq(S),it=tt.find(".ui-tabs-anchor"),nt=this._getPanelForTab(tt),ot={tab:tt,panel:nt};this._isLocal(it[0])||(this.xhr=L.ajax(this._ajaxSettings(it,z,ot)),this.xhr&&"canceled"!==this.xhr.statusText&&(tt.addClass("ui-tabs-loading"),nt.attr("aria-busy","true"),this.xhr.success((function(L){setTimeout((function(){nt.html(L),H._trigger("load",z,ot)}),1)})).complete((function(L,S){setTimeout((function(){"abort"===S&&H.panels.stop(!1,!0),tt.removeClass("ui-tabs-loading"),nt.removeAttr("aria-busy"),L===H.xhr&&delete H.xhr}),1)}))))},_ajaxSettings:function(S,z,H){var tt=this;return{url:S.attr("href"),beforeSend:function(S,it){return tt._trigger("beforeLoad",z,L.extend({jqXHR:S,ajaxSettings:it},H))}}},_getPanelForTab:function(S){var z=L(S).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+z))}}),L.widget("ui.tooltip",{version:"1.11.1",options:{content:function(){var S=L(this).attr("title")||"";return L("<a>").text(S).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(S,z){var H=(S.attr("aria-describedby")||"").split(/\s+/);H.push(z),S.data("ui-tooltip-id",z).attr("aria-describedby",L.trim(H.join(" ")))},_removeDescribedBy:function(S){var z=S.data("ui-tooltip-id"),H=(S.attr("aria-describedby")||"").split(/\s+/),tt=L.inArray(z,H);-1!==tt&&H.splice(tt,1),S.removeData("ui-tooltip-id"),(H=L.trim(H.join(" ")))?S.attr("aria-describedby",H):S.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=L("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(S,z){var H=this;return"disabled"===S?(this[z?"_disable":"_enable"](),void(this.options[S]=z)):(this._super(S,z),void("content"===S&&L.each(this.tooltips,(function(L,S){H._updateContent(S)}))))},_disable:function(){var S=this;L.each(this.tooltips,(function(z,H){var tt=L.Event("blur");tt.target=tt.currentTarget=H[0],S.close(tt,!0)})),this.element.find(this.options.items).addBack().each((function(){var S=L(this);S.is("[title]")&&S.data("ui-tooltip-title",S.attr("title")).removeAttr("title")}))},_enable:function(){this.element.find(this.options.items).addBack().each((function(){var S=L(this);S.data("ui-tooltip-title")&&S.attr("title",S.data("ui-tooltip-title"))}))},open:function(S){var z=this,H=L(S?S.target:this.element).closest(this.options.items);H.length&&!H.data("ui-tooltip-id")&&(H.attr("title")&&H.data("ui-tooltip-title",H.attr("title")),H.data("ui-tooltip-open",!0),S&&"mouseover"===S.type&&H.parents().each((function(){var S,H=L(this);H.data("ui-tooltip-open")&&((S=L.Event("blur")).target=S.currentTarget=this,z.close(S,!0)),H.attr("title")&&(H.uniqueId(),z.parents[this.id]={element:this,title:H.attr("title")},H.attr("title",""))})),this._updateContent(H,S))},_updateContent:function(L,S){var z,H=this.options.content,tt=this,it=S?S.type:null;return"string"==typeof H?this._open(S,L,H):void((z=H.call(L[0],(function(z){L.data("ui-tooltip-open")&&tt._delay((function(){S&&(S.type=it),this._open(S,L,z)}))})))&&this._open(S,L,z))},_open:function(S,z,H){function n(L){at.of=L,tt.is(":hidden")||tt.position(at)}var tt,it,nt,ot,at=L.extend({},this.options.position);if(H){if((tt=this._find(z)).length)return void tt.find(".ui-tooltip-content").html(H);z.is("[title]")&&(S&&"mouseover"===S.type?z.attr("title",""):z.removeAttr("title")),tt=this._tooltip(z),this._addDescribedBy(z,tt.attr("id")),tt.find(".ui-tooltip-content").html(H),this.liveRegion.children().hide(),H.clone?(ot=H.clone()).removeAttr("id").find("[id]").removeAttr("id"):ot=H,L("<div>").html(ot).appendTo(this.liveRegion),this.options.track&&S&&/^mouse/.test(S.type)?(this._on(this.document,{mousemove:n}),n(S)):tt.position(L.extend({of:z},this.options.position)),this.hiding=!1,this.closing=!1,tt.hide(),this._show(tt,this.options.show),this.options.show&&this.options.show.delay&&(nt=this.delayedShow=setInterval((function(){tt.is(":visible")&&(n(at.of),clearInterval(nt))}),L.fx.interval)),this._trigger("open",S,{tooltip:tt}),it={keyup:function(S){if(S.keyCode===L.ui.keyCode.ESCAPE){var H=L.Event(S);H.currentTarget=z[0],this.close(H,!0)}}},z[0]!==this.element[0]&&(it.remove=function(){this._removeTooltip(tt)}),S&&"mouseover"!==S.type||(it.mouseleave="close"),S&&"focusin"!==S.type||(it.focusout="close"),this._on(!0,z,it)}},close:function(S){var z=this,H=L(S?S.currentTarget:this.element),tt=this._find(H);this.closing||(clearInterval(this.delayedShow),H.data("ui-tooltip-title")&&!H.attr("title")&&H.attr("title",H.data("ui-tooltip-title")),this._removeDescribedBy(H),this.hiding=!0,tt.stop(!0),this._hide(tt,this.options.hide,(function(){z._removeTooltip(L(this)),this.hiding=!1,this.closing=!1})),H.removeData("ui-tooltip-open"),this._off(H,"mouseleave focusout keyup"),H[0]!==this.element[0]&&this._off(H,"remove"),this._off(this.document,"mousemove"),S&&"mouseleave"===S.type&&L.each(this.parents,(function(S,H){L(H.element).attr("title",H.title),delete z.parents[S]})),this.closing=!0,this._trigger("close",S,{tooltip:tt}),this.hiding||(this.closing=!1))},_tooltip:function(S){var z=L("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),H=z.uniqueId().attr("id");return L("<div>").addClass("ui-tooltip-content").appendTo(z),z.appendTo(this.document[0].body),this.tooltips[H]=S,z},_find:function(S){var z=S.data("ui-tooltip-id");return z?L("#"+z):L()},_removeTooltip:function(L){L.remove(),delete this.tooltips[L.attr("id")]},_destroy:function(){var S=this;L.each(this.tooltips,(function(z,H){var tt=L.Event("blur");tt.target=tt.currentTarget=H[0],S.close(tt,!0),L("#"+z).remove(),H.data("ui-tooltip-title")&&(H.attr("title")||H.attr("title",H.data("ui-tooltip-title")),H.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}})},void 0===(it="function"==typeof H?H.apply(S,tt):H)||(L.exports=it)},3942:function(L,S,z){var H,tt;H=function(){function extend(){for(var L=0,S={};L<arguments.length;L++){var z=arguments[L];for(var H in z)S[H]=z[H]}return S}function init(L){function api(S,z,H){var tt;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(H=extend({path:"/"},api.defaults,H)).expires){var it=new Date;it.setMilliseconds(it.getMilliseconds()+864e5*H.expires),H.expires=it}try{tt=JSON.stringify(z),/^[\{\[]/.test(tt)&&(z=tt)}catch(L){}return z=L.write?L.write(z,S):encodeURIComponent(String(z)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),S=(S=(S=encodeURIComponent(String(S))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[S,"=",z,H.expires&&"; expires="+H.expires.toUTCString(),H.path&&"; path="+H.path,H.domain&&"; domain="+H.domain,H.secure?"; secure":""].join("")}S||(tt={});for(var nt=document.cookie?document.cookie.split("; "):[],ot=/(%[0-9A-Z]{2})+/g,at=0;at<nt.length;at++){var rt=nt[at].split("="),ht=rt[0].replace(ot,decodeURIComponent),dt=rt.slice(1).join("=");'"'===dt.charAt(0)&&(dt=dt.slice(1,-1));try{if(dt=L.read?L.read(dt,ht):L(dt,ht)||dt.replace(ot,decodeURIComponent),this.json)try{dt=JSON.parse(dt)}catch(L){}if(S===ht){tt=dt;break}S||(tt[ht]=dt)}catch(L){}}return tt}}return api.set=api,api.get=function(L){return api(L)},api.getJSON=function(){return api.apply({json:!0},[].slice.call(arguments))},api.defaults={},api.remove=function(L,S){api(L,"",extend(S,{expires:-1}))},api.withConverter=init,api}return init((function(){}))},void 0===(tt="function"==typeof H?H.call(S,z,S,L):H)||(L.exports=tt)},58420:function(L,S,z){!function(L){"use strict";(function(L,S){function t(){for(var L,S,z,H=arguments,tt=H.length,it={},nt=[];tt--;)for(L=(z=H[tt]).length;L--;)it[S=z[L]]||(it[S]=1,nt.push(S));return nt}function n(L,z){var H;for(var tt in z)if(z.hasOwnProperty(tt)&&z[tt])if(H=S.getType(L[tt]),tt&&L[tt]&&"array"!==H&&"string"!==H)n(L[tt],z[tt]);else{var it="array"===S.getType(L[tt])&&"array"===S.getType(z[tt]);L[tt]=it?t(L[tt],z[tt]):z[tt]}}function a(L,S){var z={};return n(z,L),n(z,S),z}function i(L,S){for(var z=a({},L),H=ot.length-1;H>=0;H--){var tt=ot[H];z[tt]&&(z[""]instanceof Object||(z[""]={}),z[""][tt]=z[tt],delete z[tt])}return S&&(z.ignore=o(S.ignore,z.ignore),z.include=o(S.include,z.include),z.copy=o(S.copy,z.copy),z.observe=o(S.observe,z.observe)),z.ignore=o(z.ignore,ht.ignore),z.include=o(z.include,ht.include),z.copy=o(z.copy,ht.copy),z.observe=o(z.observe,ht.observe),z.mappedProperties=z.mappedProperties||{},z.copiedProperties=z.copiedProperties||{},z}function o(z,H){return void 0===z?z=[]:"array"!==S.getType(z)&&(z=[z]),void 0===H?H=[]:"array"!==S.getType(H)&&(H=[H]),L.utils.arrayGetDistinctValues(z.concat(H))}function u(S,z){var H=L.dependentObservable;L.dependentObservable=function(z,H,tt){tt=tt||{},z&&"object"==typeof z&&(tt=z);var nt=tt.deferEvaluation,ot=tt.pure,at=!1,s=function(z){var H=L.dependentObservable;L.dependentObservable=it;var tt=L.isWriteableObservable(z);L.dependentObservable=H;var nt=it({read:function(){return at||(L.utils.arrayRemoveItem(S,z),at=!0),z.apply(z,arguments)},write:tt&&function(L){return z(L)},deferEvaluation:!0});return nt.__DO=z,nt};tt.deferEvaluation=!0;var rt=it(z,H,tt);return nt||ot||(rt=s(rt),S.push(rt)),rt},L.dependentObservable.fn=it.fn,L.computed=L.dependentObservable;var tt=z();return L.dependentObservable=H,L.computed=L.dependentObservable,tt}function s(it,nt,ot,rt,ht,dt,pt){var gt="array"===S.getType(L.utils.unwrapObservable(nt));if(dt=dt||"",S.isMapped(it)){var _t=L.utils.unwrapObservable(it)[tt];ot=a(_t,ot)}var bt={data:nt,parent:pt||ht},x=function(){return ot[rt]&&ot[rt].create instanceof Function},I=function(S){return u(z,(function(){return L.utils.unwrapObservable(ht)instanceof Array?ot[rt].create({data:S||bt.data,parent:bt.parent,skip:at}):ot[rt].create({data:S||bt.data,parent:bt.parent})}))},E=function(){return ot[rt]&&ot[rt].update instanceof Function},P=function(S,z){var H={data:z||bt.data,parent:bt.parent,target:L.utils.unwrapObservable(S)};return L.isWriteableObservable(S)&&(H.observable=S),ot[rt].update(H)},xt=H.get(nt);if(xt)return xt;if(rt=rt||"",gt){var kt=[],Ct=!1,D=function(L){return L};ot[rt]&&ot[rt].key&&(D=ot[rt].key,Ct=!0),L.isObservable(it)||((it=L.observableArray([])).mappedRemove=function(L){var S="function"==typeof L?L:function(S){return S===D(L)};return it.remove((function(L){return S(D(L))}))},it.mappedRemoveAll=function(S){var z=c(S,D);return it.remove((function(S){return-1!==L.utils.arrayIndexOf(z,D(S))}))},it.mappedDestroy=function(L){var S="function"==typeof L?L:function(S){return S===D(L)};return it.destroy((function(L){return S(D(L))}))},it.mappedDestroyAll=function(S){var z=c(S,D);return it.destroy((function(S){return-1!==L.utils.arrayIndexOf(z,D(S))}))},it.mappedIndexOf=function(S){var z=c(it(),D),H=D(S);return L.utils.arrayIndexOf(z,H)},it.mappedGet=function(L){return it()[it.mappedIndexOf(L)]},it.mappedCreate=function(S){if(-1!==it.mappedIndexOf(S))throw new Error("There already is an object with the key that you specified.");var z=x()?I(S):S;if(E()){var H=P(z,S);L.isWriteableObservable(z)?z(H):z=H}return it.push(z),z});var Lt=c(L.utils.unwrapObservable(it),D).sort(),Tt=c(nt,D);Ct&&Tt.sort();var Et,Mt,Pt,Dt=L.utils.compareArrays(Lt,Tt),It={},At=L.utils.unwrapObservable(nt),Ot={},Nt=!0;for(Et=0,Mt=At.length;Mt>Et;Et++){if(void 0===(Pt=D(At[Et]))||Pt instanceof Object){Nt=!1;break}Ot[Pt]=At[Et]}var zt,Rt,Ht=[],Wt=0;for(Et=0,Mt=Dt.length;Mt>Et;Et++){Pt=Dt[Et];var Zt,Yt=dt+"["+y(Et)+"]";switch(Pt.status){case"added":Zt=s(void 0,zt=Nt?Ot[Pt.value]:f(L.utils.unwrapObservable(nt),Pt.value,D),ot,rt,it,Yt,ht),x()||(Zt=L.utils.unwrapObservable(Zt)),Rt=p(L.utils.unwrapObservable(nt),zt,It),Zt===at?Wt++:Ht[Rt-Wt]=Zt,It[Rt]=!0;break;case"retained":zt=Nt?Ot[Pt.value]:f(L.utils.unwrapObservable(nt),Pt.value,D),s(Zt=f(it,Pt.value,D),zt,ot,rt,it,Yt,ht),Ht[Rt=p(L.utils.unwrapObservable(nt),zt,It)]=Zt,It[Rt]=!0;break;case"deleted":Zt=f(it,Pt.value,D)}kt.push({event:Pt.status,item:Zt})}it(Ht),ot[rt]&&ot[rt].arrayChanged&&L.utils.arrayForEach(kt,(function(L){ot[rt].arrayChanged(L.event,L.item)}))}else if(d(nt)){if(!(it=L.utils.unwrapObservable(it))){if(x()){var Kt=I();return E()&&(Kt=P(Kt)),Kt}if(E())return P();it={}}if(E()&&(it=P(it)),H.save(nt,it),E())return it;v(nt,(function(z){var tt=dt.length?dt+"."+y(z):y(z);if(-1===L.utils.arrayIndexOf(ot.ignore,tt)){if(-1!==L.utils.arrayIndexOf(ot.copy,tt))return void(it[z]=nt[z]);if("object"!=typeof nt[z]&&"array"!==S.getType(nt[z])&&ot.observe.length>0&&-1===L.utils.arrayIndexOf(ot.observe,tt))return it[z]=nt[z],void(ot.copiedProperties[tt]=!0);var at=H.get(nt[z]),rt=s(it[z],nt[z],ot,z,it,tt,it),ht=at||rt;if(ot.observe.length>0&&-1===L.utils.arrayIndexOf(ot.observe,tt))return it[z]=L.utils.unwrapObservable(ht),void(ot.copiedProperties[tt]=!0);L.isWriteableObservable(it[z])?(ht=L.utils.unwrapObservable(ht),it[z]()!==ht&&it[z](ht)):(ht=void 0===it[z]?ht:L.utils.unwrapObservable(ht),it[z]=ht),ot.mappedProperties[tt]=!0}}))}else if("function"===S.getType(nt))E()?L.isWriteableObservable(nt)?(nt(P(nt)),it=nt):it=P(nt):it=nt;else{var Xt;if(L.isWriteableObservable(it))return E()?(Xt=P(it),it(Xt),Xt):(Xt=L.utils.unwrapObservable(nt),it(Xt),Xt);var Qt=x()||E();if(it=x()?I():L.observable(L.utils.unwrapObservable(nt)),E()&&it(P(it)),Qt)return it}return it}function p(L,S,z){for(var H=0,tt=L.length;tt>H;H++)if(!0!==z[H]&&L[H]===S)return H;return null}function l(z,H){var tt;return H&&(tt=H(z)),"undefined"===S.getType(tt)&&(tt=z),L.utils.unwrapObservable(tt)}function f(S,z,H){for(var tt=0,it=(S=L.utils.unwrapObservable(S)).length;it>tt;tt++){var nt=S[tt];if(l(nt,H)===z)return nt}throw new Error("When calling ko.update*, the key '"+z+"' was not found!")}function c(S,z){return L.utils.arrayMap(L.utils.unwrapObservable(S),(function(L){return z?l(L,z):L}))}function v(L,z){if("array"===S.getType(L))for(var H=0;H<L.length;H++)z(H);else for(var tt in L)L.hasOwnProperty(tt)&&z(tt)}function d(L){if(null===L)return!1;var z=S.getType(L);return"object"===z||"array"===z}function b(L,z,H){var tt=L||"";return"array"===S.getType(z)?L&&(tt+="["+y(H)+"]"):(L&&(tt+="."),tt+=y(H)),tt}function y(L){return(""+L).replace(/~/g,"~~").replace(/\[/g,"~[").replace(/]/g,"~]").replace(/\./g,"~.")}function g(){var S=[],z=[];this.save=function(H,tt){var it=L.utils.arrayIndexOf(S,H);it>=0?z[it]=tt:(S.push(H),z.push(tt))},this.get=function(H){var tt=L.utils.arrayIndexOf(S,H);return tt>=0?z[tt]:void 0}}function O(){var L={},r=function(S){var z;try{z=S}catch(L){z="$$$"}var H=L[z];return L.hasOwnProperty(z)||(H=new g,L[z]=H),H};this.save=function(L,S){r(L).save(L,S)},this.get=function(L){return r(L).get(L)}}L.mapping=S;var z,H,tt="__ko_mapping__",it=L.dependentObservable,nt=0,ot=["create","update","key","arrayChanged"],at={},rt={include:["_destroy"],ignore:[],copy:[],observe:[]},ht=rt;S.isMapped=function(S){var z=L.utils.unwrapObservable(S);return z&&z[tt]},S.fromJS=function(L){if(0===arguments.length)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{var S,it;nt||(z=[],H=new O),nt++,2===arguments.length&&(arguments[1][tt]?it=arguments[1]:S=arguments[1]),3===arguments.length&&(S=arguments[1],it=arguments[2]),it&&(S=a(S,it[tt]));var ot=s(it,L,S=i(S));if(it&&(ot=it),!--nt)for(;z.length;){var at=z.pop();at&&(at(),at.__DO.throttleEvaluation=at.throttleEvaluation)}return ot[tt]=a(ot[tt],S),ot}catch(L){throw nt=0,L}},S.fromJSON=function(z){var H=Array.prototype.slice.call(arguments,0);return H[0]=L.utils.parseJson(z),S.fromJS.apply(this,H)},S.toJS=function(z,H){if(ht||S.resetDefaultOptions(),0===arguments.length)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==S.getType(ht.ignore))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==S.getType(ht.include))throw new Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==S.getType(ht.copy))throw new Error("ko.mapping.defaultOptions().copy should be an array.");return H=i(H,z[tt]),S.visitModel(z,(function(S){return L.utils.unwrapObservable(S)}),H)},S.toJSON=function(z,H,tt,it){var nt=S.toJS(z,H);return L.utils.stringifyJson(nt,tt,it)},S.defaultOptions=function(){return arguments.length>0?void(ht=arguments[0]):ht},S.resetDefaultOptions=function(){ht={include:rt.include.slice(0),ignore:rt.ignore.slice(0),copy:rt.copy.slice(0),observe:rt.observe.slice(0)}},S.getType=function(L){if(L&&"object"==typeof L){if(L.constructor===Date)return"date";if(L.constructor===Array)return"array"}return typeof L},S.visitModel=function(z,H,it){(it=it||{}).visitedObjects=it.visitedObjects||new O;var nt,ot=L.utils.unwrapObservable(z);if(!d(ot))return H(z,it.parentName);it=i(it,ot[tt]),H(z,it.parentName),nt="array"===S.getType(ot)?[]:{},it.visitedObjects.save(z,nt);var at=it.parentName;return v(ot,(function(z){var rt=y(z);if(!it.ignore||-1===L.utils.arrayIndexOf(it.ignore,rt)){var ht=ot[z];if(it.parentName=b(at,ot,z),-1===L.utils.arrayIndexOf(it.copy,rt)&&-1===L.utils.arrayIndexOf(it.include,rt)){var dt=ot[tt];if(dt){var pt=dt.mappedProperties;if(pt&&!pt[rt]){var gt=dt.copiedProperties;if(gt&&!gt[rt]&&"array"!==S.getType(ot))return}}}switch(S.getType(L.utils.unwrapObservable(ht))){case"object":case"array":case"undefined":var _t=it.visitedObjects.get(ht);nt[z]="undefined"!==S.getType(_t)?_t:S.visitModel(ht,H,it);break;default:nt[z]=H(ht,it.parentName)}}})),nt}})(z(54922),S)}()},54922:function(L,S,z){var H,tt,it,nt=z(20198);!function(ot){var at=this||(0,eval)("this"),rt=at.document,ht=at.navigator,dt=at.jQuery,pt=at.JSON;dt||void 0===nt||(dt=nt),function(nt){tt=[S,z],void 0===(it="function"==typeof(H=nt)?H.apply(S,tt):H)||(L.exports=it)}((function(L,S){function K(L,S){return(null===L||typeof L in bt)&&L===S}function X(L,S){var z;return function(){z||(z=_t.a.setTimeout((function(){z=ot,L()}),S))}}function Y(L,S){var z;return function(){clearTimeout(z),z=_t.a.setTimeout(L,S)}}function Z(L,S){S&&"change"!==S?"beforeChange"===S?this.oc(L):this.bb(L,S):this.pc(L)}function aa(L,S){null!==S&&S.s&&S.s()}function ba(L,S){var z=this.pd,H=z[Tt];H.qa||(this.Pb&&this.kb[S]?(z.tc(S,L,this.kb[S]),this.kb[S]=null,--this.Pb):H.F[S]||z.tc(S,L,H.G?{da:L}:z.Zc(L)),L.Ka&&L.fd())}var z,H,tt,it,nt,gt,_t=void 0!==L?L:{};_t.b=function(L,S){for(var z=L.split("."),H=_t,tt=0;tt<z.length-1;tt++)H=H[z[tt]];H[z[z.length-1]]=S},_t.J=function(L,S,z){L[S]=z},_t.version="3.5.0",_t.b("version",_t.version),_t.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1},_t.a=function(){function b(S,z){for(var H in S)L.call(S,H)&&z(H,S[H])}function c(S,z){if(z)for(var H in z)L.call(z,H)&&(S[H]=z[H]);return S}function d(L,S){return L.__proto__=S,L}function e(L,S,z,H){var tt=L[S].match(bt)||[];_t.a.C(z.match(bt),(function(L){_t.a.Oa(tt,L,H)})),L[S]=tt.join(" ")}var L=Object.prototype.hasOwnProperty,S={__proto__:[]}instanceof Array,z="function"==typeof Symbol,H={},tt={};H[ht&&/Firefox\/2/i.test(ht.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],H.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),b(H,(function(L,S){if(S.length)for(var z=0,H=S.length;z<H;z++)tt[S[z]]=L}));var it,nt={propertychange:!0},gt=rt&&function(){for(var L=3,S=rt.createElement("div"),z=S.getElementsByTagName("i");S.innerHTML="\x3c!--[if gt IE "+ ++L+"]><i></i><![endif]--\x3e",z[0];);return 4<L?L:ot}(),bt=/\S+/g;return{Ic:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],C:function(L,S,z){for(var H=0,tt=L.length;H<tt;H++)S.call(z,L[H],H,L)},A:"function"==typeof Array.prototype.indexOf?function(L,S){return Array.prototype.indexOf.call(L,S)}:function(L,S){for(var z=0,H=L.length;z<H;z++)if(L[z]===S)return z;return-1},Lb:function(L,S,z){for(var H=0,tt=L.length;H<tt;H++)if(S.call(z,L[H],H,L))return L[H];return ot},hb:function(L,S){var z=_t.a.A(L,S);0<z?L.splice(z,1):0===z&&L.shift()},vc:function(L){var S=[];return L&&_t.a.C(L,(function(L){0>_t.a.A(S,L)&&S.push(L)})),S},Mb:function(L,S,z){var H=[];if(L)for(var tt=0,it=L.length;tt<it;tt++)H.push(S.call(z,L[tt],tt));return H},fb:function(L,S,z){var H=[];if(L)for(var tt=0,it=L.length;tt<it;tt++)S.call(z,L[tt],tt)&&H.push(L[tt]);return H},gb:function(L,S){if(S instanceof Array)L.push.apply(L,S);else for(var z=0,H=S.length;z<H;z++)L.push(S[z]);return L},Oa:function(L,S,z){var H=_t.a.A(_t.a.$b(L),S);0>H?z&&L.push(S):z||L.splice(H,1)},Ba:S,extend:c,setPrototypeOf:d,zb:S?d:c,O:b,Ha:function(S,z,H){if(!S)return S;var tt,it={};for(tt in S)L.call(S,tt)&&(it[tt]=z.call(H,S[tt],tt,S));return it},Sb:function(L){for(;L.firstChild;)_t.removeNode(L.firstChild)},Xb:function(L){for(var S=((L=_t.a.la(L))[0]&&L[0].ownerDocument||rt).createElement("div"),z=0,H=L.length;z<H;z++)S.appendChild(_t.na(L[z]));return S},Ca:function(L,S){for(var z=0,H=L.length,tt=[];z<H;z++){var it=L[z].cloneNode(!0);tt.push(S?_t.na(it):it)}return tt},ua:function(L,S){if(_t.a.Sb(L),S)for(var z=0,H=S.length;z<H;z++)L.appendChild(S[z])},Wc:function(L,S){var z=L.nodeType?[L]:L;if(0<z.length){for(var H=z[0],tt=H.parentNode,it=0,nt=S.length;it<nt;it++)tt.insertBefore(S[it],H);for(it=0,nt=z.length;it<nt;it++)_t.removeNode(z[it])}},Ua:function(L,S){if(L.length){for(S=8===S.nodeType&&S.parentNode||S;L.length&&L[0].parentNode!==S;)L.splice(0,1);for(;1<L.length&&L[L.length-1].parentNode!==S;)L.length--;if(1<L.length){var z=L[0],H=L[L.length-1];for(L.length=0;z!==H;)L.push(z),z=z.nextSibling;L.push(H)}}return L},Yc:function(L,S){7>gt?L.setAttribute("selected",S):L.selected=S},Cb:function(L){return null===L||L===ot?"":L.trim?L.trim():L.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Td:function(L,S){return L=L||"",!(S.length>L.length)&&L.substring(0,S.length)===S},ud:function(L,S){if(L===S)return!0;if(11===L.nodeType)return!1;if(S.contains)return S.contains(1!==L.nodeType?L.parentNode:L);if(S.compareDocumentPosition)return 16==(16&S.compareDocumentPosition(L));for(;L&&L!=S;)L=L.parentNode;return!!L},Rb:function(L){return _t.a.ud(L,L.ownerDocument.documentElement)},jd:function(L){return!!_t.a.Lb(L,_t.a.Rb)},P:function(L){return L&&L.tagName&&L.tagName.toLowerCase()},zc:function(L){return _t.onError?function(){try{return L.apply(this,arguments)}catch(L){throw _t.onError&&_t.onError(L),L}}:L},setTimeout:function(L,S){return setTimeout(_t.a.zc(L),S)},Fc:function(L){setTimeout((function(){throw _t.onError&&_t.onError(L),L}),0)},H:function(L,S,z){var H=_t.a.zc(z);if(z=nt[S],_t.options.useOnlyNativeEvents||z||!dt)if(z||"function"!=typeof L.addEventListener){if(void 0===L.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var f=function(S){H.call(L,S)},tt="on"+S;L.attachEvent(tt,f),_t.a.I.za(L,(function(){L.detachEvent(tt,f)}))}else L.addEventListener(S,H,!1);else it||(it="function"==typeof dt(L).on?"on":"bind"),dt(L)[it](S,H)},Fb:function(L,S){if(!L||!L.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var z;if(z=!("input"!==_t.a.P(L)||!L.type||"click"!=S.toLowerCase())&&("checkbox"==(z=L.type)||"radio"==z),_t.options.useOnlyNativeEvents||!dt||z)if("function"==typeof rt.createEvent){if("function"!=typeof L.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(z=rt.createEvent(tt[S]||"HTMLEvents")).initEvent(S,!0,!0,at,0,0,0,0,0,!1,!1,!1,!1,0,L),L.dispatchEvent(z)}else if(z&&L.click)L.click();else{if(void 0===L.fireEvent)throw Error("Browser doesn't support triggering events");L.fireEvent("on"+S)}else dt(L).trigger(S)},c:function(L){return _t.N(L)?L():L},$b:function(L){return _t.N(L)?L.w():L},Eb:function(L,S,z){var H;S&&("object"==typeof L.classList?(H=L.classList[z?"add":"remove"],_t.a.C(S.match(bt),(function(S){H.call(L.classList,S)}))):"string"==typeof L.className.baseVal?e(L.className,"baseVal",S,z):e(L,"className",S,z))},Ab:function(L,S){var z=_t.a.c(S);null!==z&&z!==ot||(z="");var H=_t.h.firstChild(L);!H||3!=H.nodeType||_t.h.nextSibling(H)?_t.h.ua(L,[L.ownerDocument.createTextNode(z)]):H.data=z,_t.a.zd(L)},Xc:function(L,S){if(L.name=S,7>=gt)try{var z=L.name.replace(/[&<>'"]/g,(function(L){return"&#"+L.charCodeAt(0)+";"}));L.mergeAttributes(rt.createElement("<input name='"+z+"'/>"),!1)}catch(L){}},zd:function(L){9<=gt&&(L=1==L.nodeType?L:L.parentNode).style&&(L.style.zoom=L.style.zoom)},vd:function(L){if(gt){var S=L.style.width;L.style.width=0,L.style.width=S}},Od:function(L,S){L=_t.a.c(L),S=_t.a.c(S);for(var z=[],H=L;H<=S;H++)z.push(H);return z},la:function(L){for(var S=[],z=0,H=L.length;z<H;z++)S.push(L[z]);return S},Da:function(L){return z?Symbol(L):L},Xd:6===gt,Yd:7===gt,W:gt,Kc:function(L,S){for(var z=_t.a.la(L.getElementsByTagName("input")).concat(_t.a.la(L.getElementsByTagName("textarea"))),H="string"==typeof S?function(L){return L.name===S}:function(L){return S.test(L.name)},tt=[],it=z.length-1;0<=it;it--)H(z[it])&&tt.push(z[it]);return tt},Md:function(L){return"string"==typeof L&&(L=_t.a.Cb(L))?pt&&pt.parse?pt.parse(L):new Function("return "+L)():null},fc:function(L,S,z){if(!pt||!pt.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return pt.stringify(_t.a.c(L),S,z)},Nd:function(L,S,z){var H=(z=z||{}).params||{},tt=z.includeFields||this.Ic,it=L;if("object"==typeof L&&"form"===_t.a.P(L)){it=L.action;for(var nt=tt.length-1;0<=nt;nt--)for(var ot=_t.a.Kc(L,tt[nt]),at=ot.length-1;0<=at;at--)H[ot[at].name]=ot[at].value}S=_t.a.c(S);var ht=rt.createElement("form");for(var dt in ht.style.display="none",ht.action=it,ht.method="post",S)(L=rt.createElement("input")).type="hidden",L.name=dt,L.value=_t.a.fc(_t.a.c(S[dt])),ht.appendChild(L);b(H,(function(L,S){var z=rt.createElement("input");z.type="hidden",z.name=L,z.value=S,ht.appendChild(z)})),rt.body.appendChild(ht),z.submitter?z.submitter(ht):ht.submit(),setTimeout((function(){ht.parentNode.removeChild(ht)}),0)}}}(),_t.b("utils",_t.a),_t.b("utils.arrayForEach",_t.a.C),_t.b("utils.arrayFirst",_t.a.Lb),_t.b("utils.arrayFilter",_t.a.fb),_t.b("utils.arrayGetDistinctValues",_t.a.vc),_t.b("utils.arrayIndexOf",_t.a.A),_t.b("utils.arrayMap",_t.a.Mb),_t.b("utils.arrayPushAll",_t.a.gb),_t.b("utils.arrayRemoveItem",_t.a.hb),_t.b("utils.cloneNodes",_t.a.Ca),_t.b("utils.createSymbolOrString",_t.a.Da),_t.b("utils.extend",_t.a.extend),_t.b("utils.fieldsIncludedWithJsonPost",_t.a.Ic),_t.b("utils.getFormFields",_t.a.Kc),_t.b("utils.objectMap",_t.a.Ha),_t.b("utils.peekObservable",_t.a.$b),_t.b("utils.postJson",_t.a.Nd),_t.b("utils.parseJson",_t.a.Md),_t.b("utils.registerEventHandler",_t.a.H),_t.b("utils.stringifyJson",_t.a.fc),_t.b("utils.range",_t.a.Od),_t.b("utils.toggleDomNodeCssClass",_t.a.Eb),_t.b("utils.triggerEvent",_t.a.Fb),_t.b("utils.unwrapObservable",_t.a.c),_t.b("utils.objectForEach",_t.a.O),_t.b("utils.addOrRemoveItem",_t.a.Oa),_t.b("utils.setTextContent",_t.a.Ab),_t.b("unwrap",_t.a.c),Function.prototype.bind||(Function.prototype.bind=function(L){var S=this;if(1===arguments.length)return function(){return S.apply(L,arguments)};var z=Array.prototype.slice.call(arguments,1);return function(){var H=z.slice(0);return H.push.apply(H,arguments),S.apply(L,H)}}),_t.a.g=new function(){var L,S,z=0,H="__ko__"+(new Date).getTime(),tt={};return _t.a.W?(L=function(L,S){var it=L[H];if(!it||"null"===it||!tt[it]){if(!S)return ot;it=L[H]="ko"+z++,tt[it]={}}return tt[it]},S=function(L){var S=L[H];return!!S&&(delete tt[S],L[H]=null,!0)}):(L=function(L,S){var z=L[H];return!z&&S&&(z=L[H]={}),z},S=function(L){return!!L[H]&&(delete L[H],!0)}),{get:function(S,z){var H=L(S,!1);return H&&H[z]},set:function(S,z,H){(S=L(S,H!==ot))&&(S[z]=H)},Tb:function(S,z,H){return(S=L(S,!0))[z]||(S[z]=H)},clear:S,Z:function(){return z+++H}}},_t.b("utils.domData",_t.a.g),_t.b("utils.domData.clear",_t.a.g.clear),_t.a.I=new function(){function b(S,z){var H=_t.a.g.get(S,L);return H===ot&&z&&(H=[],_t.a.g.set(S,L,H)),H}function c(L){if(S=b(L,!1))for(var S=S.slice(0),H=0;H<S.length;H++)S[H](L);_t.a.g.clear(L),_t.a.I.cleanExternalData(L),z[L.nodeType]&&d(L.childNodes,!0)}function d(L,S){for(var z,H=[],tt=0;tt<L.length;tt++)if((!S||8===L[tt].nodeType)&&(c(H[H.length]=z=L[tt]),L[tt]!==z))for(;tt--&&-1==_t.a.A(H,L[tt]););}var L=_t.a.g.Z(),S={1:!0,8:!0,9:!0},z={1:!0,9:!0};return{za:function(L,S){if("function"!=typeof S)throw Error("Callback must be a function");b(L,!0).push(S)},xb:function(S,z){var H=b(S,!1);H&&(_t.a.hb(H,z),0==H.length&&_t.a.g.set(S,L,ot))},na:function(L){return S[L.nodeType]&&(c(L),z[L.nodeType]&&d(L.getElementsByTagName("*"))),L},removeNode:function(L){_t.na(L),L.parentNode&&L.parentNode.removeChild(L)},cleanExternalData:function(L){dt&&"function"==typeof dt.cleanData&&dt.cleanData([L])}}},_t.na=_t.a.I.na,_t.removeNode=_t.a.I.removeNode,_t.b("cleanNode",_t.na),_t.b("removeNode",_t.removeNode),_t.b("utils.domNodeDisposal",_t.a.I),_t.b("utils.domNodeDisposal.addDisposeCallback",_t.a.I.za),_t.b("utils.domNodeDisposal.removeDisposeCallback",_t.a.I.xb),z=[0,"",""],nt={thead:H=[1,"<table>","</table>"],tbody:H,tfoot:H,tr:[2,"<table><tbody>","</tbody></table>"],td:tt=[3,"<table><tbody><tr>","</tr></tbody></table>"],th:tt,option:it=[1,"<select multiple='multiple'>","</select>"],optgroup:it},gt=8>=_t.a.W,_t.a.ta=function(L,S){var H;if(dt){if(dt.parseHTML)H=dt.parseHTML(L,S)||[];else if((H=dt.clean([L],S))&&H[0]){for(var tt=H[0];tt.parentNode&&11!==tt.parentNode.nodeType;)tt=tt.parentNode;tt.parentNode&&tt.parentNode.removeChild(tt)}}else{(H=S)||(H=rt),tt=H.parentWindow||H.defaultView||at;var it,ot=_t.a.Cb(L).toLowerCase(),ht=H.createElement("div");for(it=(ot=ot.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&nt[ot[1]]||z,ot=it[0],it="ignored<div>"+it[1]+L+it[2]+"</div>","function"==typeof tt.innerShiv?ht.appendChild(tt.innerShiv(it)):(gt&&H.body.appendChild(ht),ht.innerHTML=it,gt&&ht.parentNode.removeChild(ht));ot--;)ht=ht.lastChild;H=_t.a.la(ht.lastChild.childNodes)}return H},_t.a.Ld=function(L,S){var z=_t.a.ta(L,S);return z.length&&z[0].parentElement||_t.a.Xb(z)},_t.a.dc=function(L,S){if(_t.a.Sb(L),null!==(S=_t.a.c(S))&&S!==ot)if("string"!=typeof S&&(S=S.toString()),dt)dt(L).html(S);else for(var z=_t.a.ta(S,L.ownerDocument),H=0;H<z.length;H++)L.appendChild(z[H])},_t.b("utils.parseHtmlFragment",_t.a.ta),_t.b("utils.setHtml",_t.a.dc),_t.aa=function(){function b(L,S){if(L)if(8==L.nodeType)null!=(z=_t.aa.Tc(L.nodeValue))&&S.push({sd:L,Jd:z});else if(1==L.nodeType)for(var z=0,H=L.childNodes,tt=H.length;z<tt;z++)b(H[z],S)}var L={};return{Wb:function(S){if("function"!=typeof S)throw Error("You can only pass a function to ko.memoization.memoize()");var z=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return L[z]=S,"\x3c!--[ko_memo:"+z+"]--\x3e"},ad:function(S,z){var H=L[S];if(H===ot)throw Error("Couldn't find any memo with ID "+S+". Perhaps it's already been unmemoized.");try{return H.apply(null,z||[]),!0}finally{delete L[S]}},bd:function(L,S){var z=[];b(L,z);for(var H=0,tt=z.length;H<tt;H++){var it=z[H].sd,nt=[it];S&&_t.a.gb(nt,S),_t.aa.ad(z[H].Jd,nt),it.nodeValue="",it.parentNode&&it.parentNode.removeChild(it)}},Tc:function(L){return(L=L.match(/^\[ko_memo\:(.*?)\]$/))?L[1]:null}}}(),_t.b("memoization",_t.aa),_t.b("memoization.memoize",_t.aa.Wb),_t.b("memoization.unmemoize",_t.aa.ad),_t.b("memoization.parseMemoText",_t.aa.Tc),_t.b("memoization.unmemoizeDomNodeAndDescendants",_t.aa.bd),_t.ma=function(){function b(){if(z)for(var L,H=z,it=0;tt<z;)if(L=S[tt++]){if(tt>H){if(5e3<=++it){tt=z,_t.a.Fc(Error("'Too much recursion' after processing "+it+" task groups."));break}H=z}try{L()}catch(L){_t.a.Fc(L)}}}function c(){b(),tt=z=S.length=0}var L,S=[],z=0,H=1,tt=0;return L=at.MutationObserver?function(L){var S=rt.createElement("div");return new MutationObserver(L).observe(S,{attributes:!0}),function(){S.classList.toggle("foo")}}(c):rt&&"onreadystatechange"in rt.createElement("script")?function(L){var S=rt.createElement("script");S.onreadystatechange=function(){S.onreadystatechange=null,rt.documentElement.removeChild(S),S=null,L()},rt.documentElement.appendChild(S)}:function(L){setTimeout(L,0)},{scheduler:L,yb:function(L){return z||_t.ma.scheduler(c),S[z++]=L,H++},cancel:function(L){(L-=H-z)>=tt&&L<z&&(S[L]=null)},resetForTesting:function(){var L=z-tt;return tt=z=S.length=0,L},Rd:b}}(),_t.b("tasks",_t.ma),_t.b("tasks.schedule",_t.ma.yb),_t.b("tasks.runEarly",_t.ma.Rd),_t.Ta={throttle:function(L,S){L.throttleEvaluation=S;var z=null;return _t.$({read:L,write:function(H){clearTimeout(z),z=_t.a.setTimeout((function(){L(H)}),S)}})},rateLimit:function(L,S){var z,H,tt;"number"==typeof S?z=S:(z=S.timeout,H=S.method),L.Hb=!1,tt="function"==typeof H?H:"notifyWhenChangesStop"==H?Y:X,L.tb((function(L){return tt(L,z,S)}))},deferred:function(L,S){if(!0!==S)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");L.Hb||(L.Hb=!0,L.tb((function(S){var z,H=!1;return function(){if(!H){_t.ma.cancel(z),z=_t.ma.yb(S);try{H=!0,L.notifySubscribers(ot,"dirty")}finally{H=!1}}}})))},notify:function(L,S){L.equalityComparer="always"==S?null:K}};var bt={undefined:1,boolean:1,number:1,string:1};_t.b("extenders",_t.Ta),_t.gc=function(L,S,z){this.da=L,this.kc=S,this.lc=z,this.Ib=!1,this.ab=this.Jb=null,_t.J(this,"dispose",this.s),_t.J(this,"disposeWhenNodeIsRemoved",this.l)},_t.gc.prototype.s=function(){this.Ib||(this.ab&&_t.a.I.xb(this.Jb,this.ab),this.Ib=!0,this.lc(),this.da=this.kc=this.lc=this.Jb=this.ab=null)},_t.gc.prototype.l=function(L){this.Jb=L,_t.a.I.za(L,this.ab=this.s.bind(this))},_t.R=function(){_t.a.zb(this,xt),xt.ob(this)};var xt={ob:function(L){L.S={change:[]},L.rc=1},subscribe:function(L,S,z){var H=this;z=z||"change";var tt=new _t.gc(H,S?L.bind(S):L,(function(){_t.a.hb(H.S[z],tt),H.cb&&H.cb(z)}));return H.Qa&&H.Qa(z),H.S[z]||(H.S[z]=[]),H.S[z].push(tt),tt},notifySubscribers:function(L,S){if("change"===(S=S||"change")&&this.Gb(),this.Wa(S)){var z="change"===S&&this.dd||this.S[S].slice(0);try{_t.v.wc();for(var H,tt=0;H=z[tt];++tt)H.Ib||H.kc(L)}finally{_t.v.end()}}},mb:function(){return this.rc},Cd:function(L){return this.mb()!==L},Gb:function(){++this.rc},tb:function(L){var S,z,H,tt,it,nt=this,ot=_t.N(nt);nt.bb||(nt.bb=nt.notifySubscribers,nt.notifySubscribers=Z);var at=L((function(){nt.Ka=!1,ot&&tt===nt&&(tt=nt.mc?nt.mc():nt());var L=z||it&&nt.qb(H,tt);it=z=S=!1,L&&nt.bb(H=tt)}));nt.pc=function(L,z){z&&nt.Ka||(it=!z),nt.dd=nt.S.change.slice(0),nt.Ka=S=!0,tt=L,at()},nt.oc=function(L){S||(H=L,nt.bb(L,"beforeChange"))},nt.qc=function(){it=!0},nt.fd=function(){nt.qb(H,nt.w(!0))&&(z=!0)}},Wa:function(L){return this.S[L]&&this.S[L].length},Ad:function(L){if(L)return this.S[L]&&this.S[L].length||0;var S=0;return _t.a.O(this.S,(function(L,z){"dirty"!==L&&(S+=z.length)})),S},qb:function(L,S){return!this.equalityComparer||!this.equalityComparer(L,S)},toString:function(){return"[object Object]"},extend:function(L){var S=this;return L&&_t.a.O(L,(function(L,z){var H=_t.Ta[L];"function"==typeof H&&(S=H(S,z)||S)})),S}};_t.J(xt,"init",xt.ob),_t.J(xt,"subscribe",xt.subscribe),_t.J(xt,"extend",xt.extend),_t.J(xt,"getSubscriptionsCount",xt.Ad),_t.a.Ba&&_t.a.setPrototypeOf(xt,Function.prototype),_t.R.fn=xt,_t.Pc=function(L){return null!=L&&"function"==typeof L.subscribe&&"function"==typeof L.notifySubscribers},_t.b("subscribable",_t.R),_t.b("isSubscribable",_t.Pc),_t.U=_t.v=function(){function b(z){S.push(L),L=z}function c(){L=S.pop()}var L,S=[],z=0;return{wc:b,end:c,ac:function(S){if(L){if(!_t.Pc(S))throw Error("Only subscribable things can act as dependencies");L.nd.call(L.od,S,S.ed||(S.ed=++z))}},K:function(L,S,z){try{return b(),L.apply(S,z||[])}finally{c()}},pa:function(){if(L)return L.o.pa()},Va:function(){if(L)return L.o.Va()},rb:function(){if(L)return L.rb},o:function(){if(L)return L.o}}}(),_t.b("computedContext",_t.U),_t.b("computedContext.getDependenciesCount",_t.U.pa),_t.b("computedContext.getDependencies",_t.U.Va),_t.b("computedContext.isInitial",_t.U.rb),_t.b("computedContext.registerDependency",_t.U.ac),_t.b("ignoreDependencies",_t.Wd=_t.v.K);var kt=_t.a.Da("_latestValue");_t.sa=function(L){function c(){return 0<arguments.length?(c.qb(c[kt],arguments[0])&&(c.xa(),c[kt]=arguments[0],c.wa()),this):(_t.v.ac(c),c[kt])}return c[kt]=L,_t.a.Ba||_t.a.extend(c,_t.R.fn),_t.R.fn.ob(c),_t.a.zb(c,Ct),_t.options.deferUpdates&&_t.Ta.deferred(c,!0),c};var Ct={equalityComparer:K,w:function(){return this[kt]},wa:function(){this.notifySubscribers(this[kt],"spectate"),this.notifySubscribers(this[kt])},xa:function(){this.notifySubscribers(this[kt],"beforeChange")}};_t.a.Ba&&_t.a.setPrototypeOf(Ct,_t.R.fn);var Lt=_t.sa.Na="__ko_proto__";Ct[Lt]=_t.sa,_t.N=function(L){if((L="function"==typeof L&&L[Lt])&&L!==Ct[Lt]&&L!==_t.o.fn[Lt])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!L},_t.Ya=function(L){return"function"==typeof L&&(L[Lt]===Ct[Lt]||L[Lt]===_t.o.fn[Lt]&&L.Mc)},_t.b("observable",_t.sa),_t.b("isObservable",_t.N),_t.b("isWriteableObservable",_t.Ya),_t.b("isWritableObservable",_t.Ya),_t.b("observable.fn",Ct),_t.J(Ct,"peek",Ct.w),_t.J(Ct,"valueHasMutated",Ct.wa),_t.J(Ct,"valueWillMutate",Ct.xa),_t.Ia=function(L){if("object"!=typeof(L=L||[])||!("length"in L))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return L=_t.sa(L),_t.a.zb(L,_t.Ia.fn),L.extend({trackArrayChanges:!0})},_t.Ia.fn={remove:function(L){for(var S=this.w(),z=[],H="function"!=typeof L||_t.N(L)?function(S){return S===L}:L,tt=0;tt<S.length;tt++){var it=S[tt];if(H(it)){if(0===z.length&&this.xa(),S[tt]!==it)throw Error("Array modified during remove; cannot remove item");z.push(it),S.splice(tt,1),tt--}}return z.length&&this.wa(),z},removeAll:function(L){if(L===ot){var S=this.w(),z=S.slice(0);return this.xa(),S.splice(0,S.length),this.wa(),z}return L?this.remove((function(S){return 0<=_t.a.A(L,S)})):[]},destroy:function(L){var S=this.w(),z="function"!=typeof L||_t.N(L)?function(S){return S===L}:L;this.xa();for(var H=S.length-1;0<=H;H--){var tt=S[H];z(tt)&&(tt._destroy=!0)}this.wa()},destroyAll:function(L){return L===ot?this.destroy((function(){return!0})):L?this.destroy((function(S){return 0<=_t.a.A(L,S)})):[]},indexOf:function(L){var S=this();return _t.a.A(S,L)},replace:function(L,S){var z=this.indexOf(L);0<=z&&(this.xa(),this.w()[z]=S,this.wa())},sorted:function(L){var S=this().slice(0);return L?S.sort(L):S.sort()},reversed:function(){return this().slice(0).reverse()}},_t.a.Ba&&_t.a.setPrototypeOf(_t.Ia.fn,_t.sa.fn),_t.a.C("pop push reverse shift sort splice unshift".split(" "),(function(L){_t.Ia.fn[L]=function(){var S=this.w();this.xa(),this.yc(S,L,arguments);var z=S[L].apply(S,arguments);return this.wa(),z===S?this:z}})),_t.a.C(["slice"],(function(L){_t.Ia.fn[L]=function(){var S=this();return S[L].apply(S,arguments)}})),_t.Oc=function(L){return _t.N(L)&&"function"==typeof L.remove&&"function"==typeof L.push},_t.b("observableArray",_t.Ia),_t.b("isObservableArray",_t.Oc),_t.Ta.trackArrayChanges=function(L,S){function d(){function c(){if(at){var S,z=[].concat(L.w()||[]);L.Wa("arrayChange")&&((!nt||1<at)&&(nt=_t.a.Ob(H,z,L.Nb)),S=nt),H=z,nt=null,at=0,S&&S.length&&L.notifySubscribers(S,"arrayChange")}}it?c():(it=!0,tt=L.notifySubscribers,L.notifySubscribers=function(L,S){return S&&"change"!==S||++at,tt.apply(this,arguments)},H=[].concat(L.w()||[]),nt=null,z=L.subscribe(c))}if(L.Nb={},S&&"object"==typeof S&&_t.a.extend(L.Nb,S),L.Nb.sparse=!0,!L.yc){var z,H,tt,it=!1,nt=null,at=0,rt=L.Qa,ht=L.cb;L.Qa=function(S){rt&&rt.call(L,S),"arrayChange"===S&&d()},L.cb=function(S){ht&&ht.call(L,S),"arrayChange"!==S||L.Wa("arrayChange")||(tt&&(L.notifySubscribers=tt,tt=ot),z&&z.s(),z=null,it=!1,H=ot)},L.yc=function(L,S,z){function k(L,S,z){return H[H.length]={status:L,value:S,index:z}}if(it&&!at){var H=[],tt=L.length,ot=z.length,rt=0;switch(S){case"push":rt=tt;case"unshift":for(S=0;S<ot;S++)k("added",z[S],rt+S);break;case"pop":rt=tt-1;case"shift":tt&&k("deleted",L[rt],rt);break;case"splice":S=Math.min(Math.max(0,0>z[0]?tt+z[0]:z[0]),tt),tt=1===ot?tt:Math.min(S+(z[1]||0),tt),ot=S+ot-2,rt=Math.max(tt,ot);for(var ht=[],dt=[],pt=2;S<rt;++S,++pt)S<tt&&dt.push(k("deleted",L[S],S)),S<ot&&ht.push(k("added",z[pt],S));_t.a.Jc(dt,ht);break;default:return}nt=H}}}};var Tt=_t.a.Da("_state");_t.o=_t.$=function(L,S,z){function e(){if(0<arguments.length){if("function"!=typeof H)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return H.apply(tt.lb,arguments),this}return tt.qa||_t.v.ac(e),(tt.ka||tt.G&&e.Xa())&&e.ha(),tt.X}if("object"==typeof L?z=L:(z=z||{},L&&(z.read=L)),"function"!=typeof z.read)throw Error("Pass a function that returns the value of the ko.computed");var H=z.write,tt={X:ot,ra:!0,ka:!0,pb:!1,hc:!1,qa:!1,vb:!1,G:!1,Vc:z.read,lb:S||z.owner,l:z.disposeWhenNodeIsRemoved||z.l||null,Sa:z.disposeWhen||z.Sa,Qb:null,F:{},V:0,Hc:null};return e[Tt]=tt,e.Mc="function"==typeof H,_t.a.Ba||_t.a.extend(e,_t.R.fn),_t.R.fn.ob(e),_t.a.zb(e,Et),z.pure?(tt.vb=!0,tt.G=!0,_t.a.extend(e,Mt)):z.deferEvaluation&&_t.a.extend(e,Pt),_t.options.deferUpdates&&_t.Ta.deferred(e,!0),tt.l&&(tt.hc=!0,tt.l.nodeType||(tt.l=null)),tt.G||z.deferEvaluation||e.ha(),tt.l&&e.ja()&&_t.a.I.za(tt.l,tt.Qb=function(){e.s()}),e};var Et={equalityComparer:K,pa:function(){return this[Tt].V},Va:function(){var L=[];return _t.a.O(this[Tt].F,(function(S,z){L[z.La]=z.da})),L},Ub:function(L){if(!this[Tt].V)return!1;var S=this.Va();return-1!==_t.a.A(S,L)||!!_t.a.Lb(S,(function(S){return S.Ub&&S.Ub(L)}))},tc:function(L,S,z){if(this[Tt].vb&&S===this)throw Error("A 'pure' computed must not be called recursively");this[Tt].F[L]=z,z.La=this[Tt].V++,z.Ma=S.mb()},Xa:function(){var L,S,z=this[Tt].F;for(L in z)if(Object.prototype.hasOwnProperty.call(z,L)&&(S=z[L],this.Ja&&S.da.Ka||S.da.Cd(S.Ma)))return!0},Id:function(){this.Ja&&!this[Tt].pb&&this.Ja(!1)},ja:function(){var L=this[Tt];return L.ka||0<L.V},Qd:function(){this.Ka?this[Tt].ka&&(this[Tt].ra=!0):this.Gc()},Zc:function(L){if(L.Hb){var S=L.subscribe(this.Id,this,"dirty"),z=L.subscribe(this.Qd,this);return{da:L,s:function(){S.s(),z.s()}}}return L.subscribe(this.Gc,this)},Gc:function(){var L=this,S=L.throttleEvaluation;S&&0<=S?(clearTimeout(this[Tt].Hc),this[Tt].Hc=_t.a.setTimeout((function(){L.ha(!0)}),S)):L.Ja?L.Ja(!0):L.ha(!0)},ha:function(L){var S=this[Tt],z=S.Sa,H=!1;if(!S.pb&&!S.qa){if(S.l&&!_t.a.Rb(S.l)||z&&z()){if(!S.hc)return void this.s()}else S.hc=!1;S.pb=!0;try{H=this.yd(L)}finally{S.pb=!1}return H}},yd:function(L){var S=this[Tt],z=!1,H=S.vb?ot:!S.V;z={pd:this,kb:S.F,Pb:S.V},_t.v.wc({od:z,nd:ba,o:this,rb:H}),S.F={},S.V=0;var tt=this.xd(S,z);return S.V?z=this.qb(S.X,tt):(this.s(),z=!0),z&&(S.G?this.Gb():this.notifySubscribers(S.X,"beforeChange"),S.X=tt,this.notifySubscribers(S.X,"spectate"),!S.G&&L&&this.notifySubscribers(S.X),this.qc&&this.qc()),H&&this.notifySubscribers(S.X,"awake"),z},xd:function(L,S){try{var z=L.Vc;return L.lb?z.call(L.lb):z()}finally{_t.v.end(),S.Pb&&!L.G&&_t.a.O(S.kb,aa),L.ra=L.ka=!1}},w:function(L){var S=this[Tt];return(S.ka&&(L||!S.V)||S.G&&this.Xa())&&this.ha(),S.X},tb:function(L){_t.R.fn.tb.call(this,L),this.mc=function(){return this[Tt].G||(this[Tt].ra?this.ha():this[Tt].ka=!1),this[Tt].X},this.Ja=function(L){this.oc(this[Tt].X),this[Tt].ka=!0,L&&(this[Tt].ra=!0),this.pc(this,!L)}},s:function(){var L=this[Tt];!L.G&&L.F&&_t.a.O(L.F,(function(L,S){S.s&&S.s()})),L.l&&L.Qb&&_t.a.I.xb(L.l,L.Qb),L.F=ot,L.V=0,L.qa=!0,L.ra=!1,L.ka=!1,L.G=!1,L.l=ot,L.Sa=ot,L.Vc=ot,this.Mc||(L.lb=ot)}},Mt={Qa:function(L){var S=this,z=S[Tt];if(!z.qa&&z.G&&"change"==L){if(z.G=!1,z.ra||S.Xa())z.F=null,z.V=0,S.ha()&&S.Gb();else{var H=[];_t.a.O(z.F,(function(L,S){H[S.La]=L})),_t.a.C(H,(function(L,H){var tt=z.F[L],it=S.Zc(tt.da);it.La=H,it.Ma=tt.Ma,z.F[L]=it})),S.Xa()&&S.ha()&&S.Gb()}z.qa||S.notifySubscribers(z.X,"awake")}},cb:function(L){var S=this[Tt];S.qa||"change"!=L||this.Wa("change")||(_t.a.O(S.F,(function(L,z){z.s&&(S.F[L]={da:z.da,La:z.La,Ma:z.Ma},z.s())})),S.G=!0,this.notifySubscribers(ot,"asleep"))},mb:function(){var L=this[Tt];return L.G&&(L.ra||this.Xa())&&this.ha(),_t.R.fn.mb.call(this)}},Pt={Qa:function(L){"change"!=L&&"beforeChange"!=L||this.w()}};_t.a.Ba&&_t.a.setPrototypeOf(Et,_t.R.fn);var Dt=_t.sa.Na;Et[Dt]=_t.o,_t.Nc=function(L){return"function"==typeof L&&L[Dt]===Et[Dt]},_t.Ed=function(L){return _t.Nc(L)&&L[Tt]&&L[Tt].vb},_t.b("computed",_t.o),_t.b("dependentObservable",_t.o),_t.b("isComputed",_t.Nc),_t.b("isPureComputed",_t.Ed),_t.b("computed.fn",Et),_t.J(Et,"peek",Et.w),_t.J(Et,"dispose",Et.s),_t.J(Et,"isActive",Et.ja),_t.J(Et,"getDependenciesCount",Et.pa),_t.J(Et,"getDependencies",Et.Va),_t.wb=function(L,S){return"function"==typeof L?_t.o(L,S,{pure:!0}):((L=_t.a.extend({},L)).pure=!0,_t.o(L,S))},_t.b("pureComputed",_t.wb),function(){function b(L,S,z){if(z=z||new d,"object"!=typeof(L=S(L))||null===L||L===ot||L instanceof RegExp||L instanceof Date||L instanceof String||L instanceof Number||L instanceof Boolean)return L;var H=L instanceof Array?[]:{};return z.save(L,H),function(L,S){if(L instanceof Array){for(var z=0;z<L.length;z++)S(z);"function"==typeof L.toJSON&&S("toJSON")}else for(z in L)S(z)}(L,(function(tt){var it=S(L[tt]);switch(typeof it){case"boolean":case"number":case"string":case"function":H[tt]=it;break;case"object":case"undefined":var nt=z.get(it);H[tt]=nt!==ot?nt:b(it,S,z)}})),H}function d(){this.keys=[],this.values=[]}_t.$c=function(L){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(L,(function(L){for(var S=0;_t.N(L)&&10>S;S++)L=L();return L}))},_t.toJSON=function(L,S,z){return L=_t.$c(L),_t.a.fc(L,S,z)},d.prototype={constructor:d,save:function(L,S){var z=_t.a.A(this.keys,L);0<=z?this.values[z]=S:(this.keys.push(L),this.values.push(S))},get:function(L){return 0<=(L=_t.a.A(this.keys,L))?this.values[L]:ot}}}(),_t.b("toJS",_t.$c),_t.b("toJSON",_t.toJSON),_t.Vd=function(L,S,z){function e(S){var H=_t.wb(L,z).extend({Ga:"always"}),tt=H.subscribe((function(L){L&&(tt.s(),S(L))}));return H.notifySubscribers(H.w()),tt}return"function"!=typeof Promise||S?e(S.bind(z)):new Promise(e)},_t.b("when",_t.Vd),_t.u={L:function(L){switch(_t.a.P(L)){case"option":return!0===L.__ko__hasDomDataOptionValue__?_t.a.g.get(L,_t.f.options.Yb):7>=_t.a.W?L.getAttributeNode("value")&&L.getAttributeNode("value").specified?L.value:L.text:L.value;case"select":return 0<=L.selectedIndex?_t.u.L(L.options[L.selectedIndex]):ot;default:return L.value}},ya:function(L,S,z){switch(_t.a.P(L)){case"option":"string"==typeof S?(_t.a.g.set(L,_t.f.options.Yb,ot),"__ko__hasDomDataOptionValue__"in L&&delete L.__ko__hasDomDataOptionValue__,L.value=S):(_t.a.g.set(L,_t.f.options.Yb,S),L.__ko__hasDomDataOptionValue__=!0,L.value="number"==typeof S?S:"");break;case"select":""!==S&&null!==S||(S=ot);for(var H,tt=-1,it=0,nt=L.options.length;it<nt;++it)if((H=_t.u.L(L.options[it]))==S||""===H&&S===ot){tt=it;break}(z||0<=tt||S===ot&&1<L.size)&&(L.selectedIndex=tt,6===_t.a.W&&_t.a.setTimeout((function(){L.selectedIndex=tt}),0));break;default:null!==S&&S!==ot||(S=""),L.value=S}}},_t.b("selectExtensions",_t.u),_t.b("selectExtensions.readValue",_t.u.L),_t.b("selectExtensions.writeValue",_t.u.ya),_t.m=function(){function b(L){123===(L=_t.a.Cb(L)).charCodeAt(0)&&(L=L.slice(1,-1));var S,it=[],nt=(L+="\n,").match(z),ot=[],at=0;if(1<nt.length){for(var rt,ht=0;rt=nt[ht];++ht){var dt=rt.charCodeAt(0);if(44===dt){if(0>=at){it.push(S&&ot.length?{key:S,value:ot.join("")}:{unknown:S||ot.join("")}),S=at=0,ot=[];continue}}else if(58===dt){if(!at&&!S&&1===ot.length){S=ot.pop();continue}}else{if(47===dt&&1<rt.length&&(47===rt.charCodeAt(1)||42===rt.charCodeAt(1)))continue;47===dt&&ht&&1<rt.length?(dt=nt[ht-1].match(H))&&!tt[dt[0]]&&(nt=(L=L.substr(L.indexOf(rt)+1)).match(z),ht=-1,rt="/"):40===dt||123===dt||91===dt?++at:41===dt||125===dt||93===dt?--at:S||ot.length||34!==dt&&39!==dt||(rt=rt.slice(1,-1))}ot.push(rt)}if(0<at)throw Error("Unbalanced parentheses, braces, or brackets")}return it}var L=["true","false","null","undefined"],S=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,z=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),H=/[\])"'A-Za-z0-9_$]+$/,tt={in:1,return:1,typeof:1},it={};return{Ra:[],va:it,Zb:b,ub:function(z,H){function k(z,H){var rt;if(!at){var ht=_t.getBindingHandler(z);if(ht&&ht.preprocess&&!(H=ht.preprocess(H,z,k)))return;(ht=it[z])&&(rt=H,0<=_t.a.A(L,rt)?rt=!1:(ht=rt.match(S),rt=null!==ht&&(ht[1]?"Object("+ht[1]+")"+ht[2]:rt)),ht=rt),ht&&nt.push("'"+("string"==typeof it[z]?it[z]:z)+"':function(_z){"+rt+"=_z}")}ot&&(H="function(){return "+H+" }"),tt.push("'"+z+"':"+H)}var tt=[],nt=[],ot=(H=H||{}).valueAccessors,at=H.bindingParams,rt="string"==typeof z?b(z):z;return _t.a.C(rt,(function(L){k(L.key||L.unknown,L.value)})),nt.length&&k("_ko_property_writers","{"+nt.join(",")+" }"),tt.join(",")},Hd:function(L,S){for(var z=0;z<L.length;z++)if(L[z].key==S)return!0;return!1},$a:function(L,S,z,H,tt){L&&_t.N(L)?!_t.Ya(L)||tt&&L.w()===H||L(H):(L=S.get("_ko_property_writers"))&&L[z]&&L[z](H)}}}(),_t.b("expressionRewriting",_t.m),_t.b("expressionRewriting.bindingRewriteValidators",_t.m.Ra),_t.b("expressionRewriting.parseObjectLiteral",_t.m.Zb),_t.b("expressionRewriting.preProcessBindings",_t.m.ub),_t.b("expressionRewriting._twoWayBindings",_t.m.va),_t.b("jsonExpressionRewriting",_t.m),_t.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",_t.m.ub),function(){function b(z){return 8==z.nodeType&&S.test(L?z.text:z.nodeValue)}function c(S){return 8==S.nodeType&&z.test(L?S.text:S.nodeValue)}function d(L,S){for(var z=L,H=1,it=[];z=z.nextSibling;){if(c(z)&&(_t.a.g.set(z,tt,!0),0==--H))return it;it.push(z),b(z)&&H++}if(!S)throw Error("Cannot find closing comment tag to match: "+L.nodeValue);return null}function e(L,S){var z=d(L,S);return z?0<z.length?z[z.length-1].nextSibling:L.nextSibling:null}var L=rt&&"\x3c!--test--\x3e"===rt.createComment("test").text,S=L?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,z=L?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,H={ul:!0,ol:!0},tt="__ko_matchedEndComment__";_t.h={ea:{},childNodes:function(L){return b(L)?d(L):L.childNodes},Ea:function(L){if(b(L))for(var S=0,z=(L=_t.h.childNodes(L)).length;S<z;S++)_t.removeNode(L[S]);else _t.a.Sb(L)},ua:function(L,S){if(b(L)){_t.h.Ea(L);for(var z=L.nextSibling,H=0,tt=S.length;H<tt;H++)z.parentNode.insertBefore(S[H],z)}else _t.a.ua(L,S)},Uc:function(L,S){b(L)?L.parentNode.insertBefore(S,L.nextSibling):L.firstChild?L.insertBefore(S,L.firstChild):L.appendChild(S)},Vb:function(L,S,z){z?b(L)?L.parentNode.insertBefore(S,z.nextSibling):z.nextSibling?L.insertBefore(S,z.nextSibling):L.appendChild(S):_t.h.Uc(L,S)},firstChild:function(L){if(b(L))return!L.nextSibling||c(L.nextSibling)?null:L.nextSibling;if(L.firstChild&&c(L.firstChild))throw Error("Found invalid end comment, as the first child of "+L);return L.firstChild},nextSibling:function(L){if(b(L)&&(L=e(L)),L.nextSibling&&c(L.nextSibling)){var S=L.nextSibling;if(c(S)&&!_t.a.g.get(S,tt))throw Error("Found end comment without a matching opening comment, as child of "+L);return null}return L.nextSibling},Bd:b,Ud:function(z){return(z=(L?z.text:z.nodeValue).match(S))?z[1]:null},Rc:function(L){if(H[_t.a.P(L)]){var S=L.firstChild;if(S)do{if(1===S.nodeType){var z,tt=null;if(z=S.firstChild)do{if(tt)tt.push(z);else if(b(z)){var it=e(z,!0);it?z=it:tt=[z]}else c(z)&&(tt=[z])}while(z=z.nextSibling);if(z=tt)for(tt=S.nextSibling,it=0;it<z.length;it++)tt?L.insertBefore(z[it],tt):L.appendChild(z[it])}}while(S=S.nextSibling)}}}}(),_t.b("virtualElements",_t.h),_t.b("virtualElements.allowedBindings",_t.h.ea),_t.b("virtualElements.emptyNode",_t.h.Ea),_t.b("virtualElements.insertAfter",_t.h.Vb),_t.b("virtualElements.prepend",_t.h.Uc),_t.b("virtualElements.setDomNodeChildren",_t.h.ua),_t.ga=function(){this.md={}},_t.a.extend(_t.ga.prototype,{nodeHasBindings:function(L){switch(L.nodeType){case 1:return null!=L.getAttribute("data-bind")||_t.i.getComponentNameForNode(L);case 8:return _t.h.Bd(L);default:return!1}},getBindings:function(L,S){var z=(z=this.getBindingsString(L,S))?this.parseBindingsString(z,S,L):null;return _t.i.sc(z,L,S,!1)},getBindingAccessors:function(L,S){var z=(z=this.getBindingsString(L,S))?this.parseBindingsString(z,S,L,{valueAccessors:!0}):null;return _t.i.sc(z,L,S,!0)},getBindingsString:function(L){switch(L.nodeType){case 1:return L.getAttribute("data-bind");case 8:return _t.h.Ud(L);default:return null}},parseBindingsString:function(L,S,z,H){try{var tt,it=this.md,nt=L+(H&&H.valueAccessors||"");if(!(tt=it[nt])){var ot,at="with($context){with($data||{}){return{"+_t.m.ub(L,H)+"}}}";ot=new Function("$context","$element",at),tt=it[nt]=ot}return tt(S,z)}catch(S){throw S.message="Unable to parse bindings.\nBindings value: "+L+"\nMessage: "+S.message,S}}}),_t.ga.instance=new _t.ga,_t.b("bindingProvider",_t.ga),function(){function b(L){var S=(L=_t.a.g.get(L,it))&&L.M;S&&(L.M=null,S.Sc())}function c(L,S,z){this.node=L,this.xc=S,this.ib=[],this.T=!1,S.M||_t.a.I.za(L,b),z&&z.M&&(z.M.ib.push(L),this.Kb=z)}function d(L){return function(){return L}}function e(L){return L()}function f(L){return _t.a.Ha(_t.v.K(L),(function(S,z){return function(){return L()[z]}}))}function g(L,S,z){return"function"==typeof L?f(L.bind(null,S,z)):_t.a.Ha(L,d)}function h(L,S){return f(this.getBindings.bind(this,L,S))}function m(L,S){var z=_t.h.firstChild(S);if(z){var H,tt=_t.ga.instance,it=tt.preprocessNode;if(it){for(;H=z;)z=_t.h.nextSibling(H),it.call(tt,H);z=_t.h.firstChild(S)}for(;H=z;)z=_t.h.nextSibling(H),l(L,H)}_t.j.Ga(S,_t.j.T)}function l(L,S){var z=L,tt=1===S.nodeType;tt&&_t.h.Rc(S),(tt||_t.ga.instance.nodeHasBindings(S))&&(z=q(S,null,L).bindingContextForDescendants),z&&!H[_t.a.P(S)]&&m(z,S)}function q(S,H,tt){var nt,at=_t.a.g.Tb(S,it,{}),rt=at.gd;if(!H){if(rt)throw Error("You cannot apply bindings multiple times to the same element.");at.gd=!0}if(rt||(at.context=tt),H&&"function"!=typeof H)nt=H;else{var ht=_t.ga.instance,dt=ht.getBindingAccessors||h,pt=_t.$((function(){return(nt=H?H(tt,S):dt.call(ht,S,tt))&&(tt[L]&&tt[L](),tt[z]&&tt[z]()),nt}),null,{l:S});nt&&pt.ja()||(pt=null)}var gt,bt=tt;if(nt){var J=function(){return _t.a.Ha(pt?pt():nt,e)},xt=pt?function(L){return function(){return e(pt()[L])}}:function(L){return nt[L]};J.get=function(L){return nt[L]&&e(xt(L))},J.has=function(L){return L in nt},_t.j.T in nt&&_t.j.subscribe(S,_t.j.T,(function(){var L=(0,nt[_t.j.T])();if(L){var z=_t.h.childNodes(S);z.length&&L(z,_t.Dc(z[0]))}})),_t.j.oa in nt&&(bt=_t.j.Bb(S,tt),_t.j.subscribe(S,_t.j.oa,(function(){var L=(0,nt[_t.j.oa])();L&&_t.h.firstChild(S)&&L(S)}))),at=function(L){var S=[],z={},H=[];return _t.a.O(L,(function ca(tt){if(!z[tt]){var it=_t.getBindingHandler(tt);it&&(it.after&&(H.push(tt),_t.a.C(it.after,(function(S){if(L[S]){if(-1!==_t.a.A(H,S))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+H.join(", "));ca(S)}})),H.length--),S.push({key:tt,Lc:it})),z[tt]=!0}})),S}(nt),_t.a.C(at,(function(L){var z=L.Lc.init,H=L.Lc.update,tt=L.key;if(8===S.nodeType&&!_t.h.ea[tt])throw Error("The binding '"+tt+"' cannot be used with virtual elements");try{"function"==typeof z&&_t.v.K((function(){var L=z(S,xt(tt),J,bt.$data,bt);if(L&&L.controlsDescendantBindings){if(gt!==ot)throw Error("Multiple bindings ("+gt+" and "+tt+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");gt=tt}})),"function"==typeof H&&_t.$((function(){H(S,xt(tt),J,bt.$data,bt)}),null,{l:S})}catch(L){throw L.message='Unable to process binding "'+tt+": "+nt[tt]+'"\nMessage: '+L.message,L}}))}return{shouldBindDescendants:at=gt===ot,bindingContextForDescendants:at&&bt}}function n(L,S){return L&&L instanceof _t.fa?L:new _t.fa(L,ot,ot,S)}var L=_t.a.Da("_subscribable"),S=_t.a.Da("_ancestorBindingInfo"),z=_t.a.Da("_dataDependency");_t.f={};var H={script:!0,textarea:!0,template:!0};_t.getBindingHandler=function(L){return _t.f[L]};var tt={};_t.fa=function(H,it,nt,at,rt){function l(){var H=bt?gt():gt,tt=_t.a.c(H);return it?(_t.a.extend(dt,it),S in it&&(dt[S]=it[S])):(dt.$parents=[],dt.$root=tt,dt.ko=_t),dt[L]=ht,pt?tt=dt.$data:(dt.$rawData=H,dt.$data=tt),nt&&(dt[nt]=tt),at&&at(dt,it,tt),it&&it[L]&&!_t.U.o().Ub(it[L])&&it[L](),xt&&(dt[z]=xt),dt.$data}var ht,dt=this,pt=H===tt,gt=pt?ot:H,bt="function"==typeof gt&&!_t.N(gt),xt=rt&&rt.dataDependency;rt&&rt.exportDependencies?l():((ht=_t.wb(l)).w(),ht.ja()?ht.equalityComparer=null:dt[L]=ot)},_t.fa.prototype.createChildContext=function(L,S,z,H){if(!H&&S&&"object"==typeof S&&(S=(H=S).as,z=H.extend),S&&H&&H.noChildContext){var it="function"==typeof L&&!_t.N(L);return new _t.fa(tt,this,null,(function(H){z&&z(H),H[S]=it?L():L}),H)}return new _t.fa(L,this,S,(function(L,S){L.$parentContext=S,L.$parent=S.$data,L.$parents=(S.$parents||[]).slice(0),L.$parents.unshift(L.$parent),z&&z(L)}),H)},_t.fa.prototype.extend=function(L,S){return new _t.fa(tt,this,null,(function(S){_t.a.extend(S,"function"==typeof L?L(S):L)}),S)};var it=_t.a.g.Z();c.prototype.Sc=function(){this.Kb&&this.Kb.M&&this.Kb.M.rd(this.node)},c.prototype.rd=function(L){_t.a.hb(this.ib,L),!this.ib.length&&this.T&&this.Bc()},c.prototype.Bc=function(){this.T=!0,this.xc.M&&!this.ib.length&&(this.xc.M=null,_t.a.I.xb(this.node,b),_t.j.Ga(this.node,_t.j.oa),this.Sc())},_t.j={T:"childrenComplete",oa:"descendantsComplete",subscribe:function(L,S,z,H){return(L=_t.a.g.Tb(L,it,{})).Fa||(L.Fa=new _t.R),L.Fa.subscribe(z,H,S)},Ga:function(L,S){var z=_t.a.g.get(L,it);if(z&&(z.Fa&&z.Fa.notifySubscribers(L,S),S==_t.j.T))if(z.M)z.M.Bc();else if(z.M===ot&&z.Fa&&z.Fa.Wa(_t.j.oa))throw Error("descendantsComplete event not supported for bindings on this node")},Bb:function(L,z){var H=_t.a.g.Tb(L,it,{});return H.M||(H.M=new c(L,H,z[S])),z[S]==H?z:z.extend((function(L){L[S]=H}))}},_t.Sd=function(L){return(L=_t.a.g.get(L,it))&&L.context},_t.eb=function(L,S,z){return 1===L.nodeType&&_t.h.Rc(L),q(L,S,n(z))},_t.kd=function(L,S,z){return z=n(z),_t.eb(L,g(S,z,L),z)},_t.Pa=function(L,S){1!==S.nodeType&&8!==S.nodeType||m(n(L),S)},_t.uc=function(L,S,z){if(!dt&&at.jQuery&&(dt=at.jQuery),2>arguments.length){if(!(S=rt.body))throw Error("ko.applyBindings: could not find document.body; has the document been loaded?")}else if(!S||1!==S.nodeType&&8!==S.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");l(n(L,z),S)},_t.Cc=function(L){return!L||1!==L.nodeType&&8!==L.nodeType?ot:_t.Sd(L)},_t.Dc=function(L){return(L=_t.Cc(L))?L.$data:ot},_t.b("bindingHandlers",_t.f),_t.b("bindingEvent",_t.j),_t.b("bindingEvent.subscribe",_t.j.subscribe),_t.b("bindingEvent.startPossiblyAsyncContentBinding",_t.j.Bb),_t.b("applyBindings",_t.uc),_t.b("applyBindingsToDescendants",_t.Pa),_t.b("applyBindingAccessorsToNode",_t.eb),_t.b("applyBindingsToNode",_t.kd),_t.b("contextFor",_t.Cc),_t.b("dataFor",_t.Dc)}(),function(L){function c(H,tt){var it,nt=Object.prototype.hasOwnProperty.call(S,H)?S[H]:L;nt?nt.subscribe(tt):((nt=S[H]=new _t.R).subscribe(tt),d(H,(function(L,tt){var ot=!(!tt||!tt.synchronous);z[H]={definition:L,Fd:ot},delete S[H],it||ot?nt.notifySubscribers(L):_t.ma.yb((function(){nt.notifySubscribers(L)}))})),it=!0)}function d(L,S){e("getConfig",[L],(function(z){z?e("loadComponent",[L,z],(function(L){S(L,z)})):S(null,null)}))}function e(S,z,H,tt){tt||(tt=_t.i.loaders.slice(0));var it=tt.shift();if(it){var nt=it[S];if(nt){var ot=!1;if(nt.apply(it,z.concat((function(L){ot?H(null):null!==L?H(L):e(S,z,H,tt)})))!==L&&(ot=!0,!it.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else e(S,z,H,tt)}else H(null)}var S={},z={};_t.i={get:function(S,H){var tt=Object.prototype.hasOwnProperty.call(z,S)?z[S]:L;tt?tt.Fd?_t.v.K((function(){H(tt.definition)})):_t.ma.yb((function(){H(tt.definition)})):c(S,H)},Ac:function(L){delete z[L]},nc:e},_t.i.loaders=[],_t.b("components",_t.i),_t.b("components.get",_t.i.get),_t.b("components.clearCachedDefinition",_t.i.Ac)}(),function(){function b(L,S,H,tt){function g(){0==--nt&&tt(it)}var it={},nt=2,ot=H.template;H=H.viewModel,ot?f(S,ot,(function(S){_t.i.nc("loadTemplate",[L,S],(function(L){it.template=L,g()}))})):g(),H?f(S,H,(function(S){_t.i.nc("loadViewModel",[L,S],(function(L){it[z]=L,g()}))})):g()}function c(L,S,H){if("function"==typeof S)H((function(L){return new S(L)}));else if("function"==typeof S[z])H(S[z]);else if("instance"in S){var tt=S.instance;H((function(){return tt}))}else"viewModel"in S?c(L,S.viewModel,H):L("Unknown viewModel value: "+S)}function d(L){switch(_t.a.P(L)){case"script":return _t.a.ta(L.text);case"textarea":return _t.a.ta(L.value);case"template":if(e(L.content))return _t.a.Ca(L.content.childNodes)}return _t.a.Ca(L.childNodes)}function e(L){return at.DocumentFragment?L instanceof DocumentFragment:L&&11===L.nodeType}function f(L,z,H){"string"==typeof z.require?S||at.require?(S||at.require)([z.require],H):L("Uses require, but no AMD loader is present"):H(z)}function g(L){return function(S){throw Error("Component '"+L+"': "+S)}}var L={};_t.i.register=function(S,z){if(!z)throw Error("Invalid configuration for "+S);if(_t.i.sb(S))throw Error("Component "+S+" is already registered");L[S]=z},_t.i.sb=function(S){return Object.prototype.hasOwnProperty.call(L,S)},_t.i.unregister=function(S){delete L[S],_t.i.Ac(S)},_t.i.Ec={getConfig:function(S,z){z(_t.i.sb(S)?L[S]:null)},loadComponent:function(L,S,z){var H=g(L);f(H,S,(function(S){b(L,H,S,z)}))},loadTemplate:function(L,S,z){if(L=g(L),"string"==typeof S)z(_t.a.ta(S));else if(S instanceof Array)z(S);else if(e(S))z(_t.a.la(S.childNodes));else if(S.element)if(S=S.element,at.HTMLElement?S instanceof HTMLElement:S&&S.tagName&&1===S.nodeType)z(d(S));else if("string"==typeof S){var H=rt.getElementById(S);H?z(d(H)):L("Cannot find element with ID "+S)}else L("Unknown element type: "+S);else L("Unknown template value: "+S)},loadViewModel:function(L,S,z){c(g(L),S,z)}};var z="createViewModel";_t.b("components.register",_t.i.register),_t.b("components.isRegistered",_t.i.sb),_t.b("components.unregister",_t.i.unregister),_t.b("components.defaultLoader",_t.i.Ec),_t.i.loaders.push(_t.i.Ec),_t.i.cd=L}(),function(){function b(S,z){if(H=S.getAttribute("params")){var H=L.parseBindingsString(H,z,S,{valueAccessors:!0,bindingParams:!0}),tt=(H=_t.a.Ha(H,(function(L){return _t.o(L,null,{l:S})})),_t.a.Ha(H,(function(L){var z=L.w();return L.ja()?_t.o({read:function(){return _t.a.c(L())},write:_t.Ya(z)&&function(S){L()(S)},l:S}):z})));return Object.prototype.hasOwnProperty.call(tt,"$raw")||(tt.$raw=H),tt}return{$raw:{}}}_t.i.getComponentNameForNode=function(L){var S=_t.a.P(L);if(_t.i.sb(S)&&(-1!=S.indexOf("-")||"[object HTMLUnknownElement]"==""+L||8>=_t.a.W&&L.tagName===S))return S},_t.i.sc=function(L,S,z,H){if(1===S.nodeType){var tt=_t.i.getComponentNameForNode(S);if(tt){if((L=L||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var it={name:tt,params:b(S,z)};L.component=H?function(){return it}:it}}return L};var L=new _t.ga;9>_t.a.W&&(_t.i.register=function(L){return function(S){return L.apply(this,arguments)}}(_t.i.register),rt.createDocumentFragment=function(L){return function(){var S,z=L(),H=_t.i.cd;for(S in H);return z}}(rt.createDocumentFragment))}(),function(){var L=0;_t.f.component={init:function(S,z,H,tt,it){function l(){var L=nt&&nt.dispose;"function"==typeof L&&L.call(nt),at&&at.s(),ot=nt=at=null}var nt,ot,at,rt=_t.a.la(_t.h.childNodes(S));return _t.h.Ea(S),_t.a.I.za(S,l),_t.o((function(){var H,tt,ht=_t.a.c(z());if("string"==typeof ht?H=ht:(H=_t.a.c(ht.name),tt=_t.a.c(ht.params)),!H)throw Error("No component name specified");var dt=_t.j.Bb(S,it),pt=ot=++L;_t.i.get(H,(function(L){if(ot===pt){if(l(),!L)throw Error("Unknown component '"+H+"'");!function(L,S,z){if(!(S=S.template))throw Error("Component '"+L+"' has no template");L=_t.a.Ca(S),_t.h.ua(z,L)}(H,L,S);var z=function(L,S,z){var H=L.createViewModel;return H?H.call(L,S,z):S}(L,tt,{element:S,templateNodes:rt});L=dt.createChildContext(z,{extend:function(L){L.$component=z,L.$componentTemplateNodes=rt}}),z&&z.koDescendantsComplete&&(at=_t.j.subscribe(S,_t.j.oa,z.koDescendantsComplete,z)),nt=z,_t.Pa(L,S)}}))}),null,{l:S}),{controlsDescendantBindings:!0}}},_t.h.ea.component=!0}();var It={class:"className",for:"htmlFor"};_t.f.attr={update:function(L,S){var z=_t.a.c(S())||{};_t.a.O(z,(function(S,z){z=_t.a.c(z);var H=S.indexOf(":"),tt=(H="lookupNamespaceURI"in L&&0<H&&L.lookupNamespaceURI(S.substr(0,H)),!1===z||null===z||z===ot);tt?H?L.removeAttributeNS(H,S):L.removeAttribute(S):z=z.toString(),8>=_t.a.W&&S in It?(S=It[S],tt?L.removeAttribute(S):L[S]=z):tt||(H?L.setAttributeNS(H,S,z):L.setAttribute(S,z)),"name"===S&&_t.a.Xc(L,tt?"":z)}))}},_t.f.checked={after:["value","attr"],init:function(L,S,z){function e(){var nt=L.checked,ht=H();if(!_t.U.rb()&&(nt||!it&&!_t.U.pa())){var pt=_t.v.K(S);if(at){var gt=rt?pt.w():pt,bt=dt;dt=ht,bt!==ht?nt&&(_t.a.Oa(gt,ht,!0),_t.a.Oa(gt,bt,!1)):_t.a.Oa(gt,ht,nt),rt&&_t.Ya(pt)&&pt(gt)}else tt&&(ht===ot?ht=nt:nt||(ht=ot)),_t.m.$a(pt,z,"checked",ht,!0)}}var H=_t.wb((function(){return z.has("checkedValue")?_t.a.c(z.get("checkedValue")):ht?z.has("value")?_t.a.c(z.get("value")):L.value:void 0})),tt="checkbox"==L.type,it="radio"==L.type;if(tt||it){var nt=S(),at=tt&&_t.a.c(nt)instanceof Array,rt=!(at&&nt.push&&nt.splice),ht=it||at,dt=at?H():ot;it&&!L.name&&_t.f.uniqueName.init(L,(function(){return!0})),_t.o(e,null,{l:L}),_t.a.H(L,"click",e),_t.o((function(){var z=_t.a.c(S()),it=H();at?(L.checked=0<=_t.a.A(z,it),dt=it):L.checked=tt&&it===ot?!!z:H()===z}),null,{l:L}),nt=ot}}},_t.m.va.checked=!0,_t.f.checkedValue={update:function(L,S){L.value=_t.a.c(S())}},_t.f.class={update:function(L,S){var z=_t.a.Cb(_t.a.c(S()));_t.a.Eb(L,L.__ko__cssValue,!1),L.__ko__cssValue=z,_t.a.Eb(L,z,!0)}},_t.f.css={update:function(L,S){var z=_t.a.c(S());null!==z&&"object"==typeof z?_t.a.O(z,(function(S,z){z=_t.a.c(z),_t.a.Eb(L,S,z)})):_t.f.class.update(L,S)}},_t.f.enable={update:function(L,S){var z=_t.a.c(S());z&&L.disabled?L.removeAttribute("disabled"):z||L.disabled||(L.disabled=!0)}},_t.f.disable={update:function(L,S){_t.f.enable.update(L,(function(){return!_t.a.c(S())}))}},_t.f.event={init:function(L,S,z,H,tt){var it=S()||{};_t.a.O(it,(function(it){"string"==typeof it&&_t.a.H(L,it,(function(L){var nt,ot=S()[it];if(ot){try{var at=_t.a.la(arguments);H=tt.$data,at.unshift(H),nt=ot.apply(H,at)}finally{!0!==nt&&(L.preventDefault?L.preventDefault():L.returnValue=!1)}!1===z.get(it+"Bubble")&&(L.cancelBubble=!0,L.stopPropagation&&L.stopPropagation())}}))}))}},_t.f.foreach={Qc:function(L){return function(){var S=L(),z=_t.a.$b(S);return z&&"number"!=typeof z.length?(_t.a.c(S),{foreach:z.data,as:z.as,noChildContext:z.noChildContext,includeDestroyed:z.includeDestroyed,afterAdd:z.afterAdd,beforeRemove:z.beforeRemove,afterRender:z.afterRender,beforeMove:z.beforeMove,afterMove:z.afterMove,templateEngine:_t.ba.Na}):{foreach:S,templateEngine:_t.ba.Na}}},init:function(L,S){return _t.f.template.init(L,_t.f.foreach.Qc(S))},update:function(L,S,z,H,tt){return _t.f.template.update(L,_t.f.foreach.Qc(S),z,H,tt)}},_t.m.Ra.foreach=!1,_t.h.ea.foreach=!0,_t.f.hasfocus={init:function(L,S,z){function e(H){L.__ko_hasfocusUpdating=!0;var tt=L.ownerDocument;if("activeElement"in tt){var it;try{it=tt.activeElement}catch(L){it=tt.body}H=it===L}tt=S(),_t.m.$a(tt,z,"hasfocus",H,!0),L.__ko_hasfocusLastValue=H,L.__ko_hasfocusUpdating=!1}var H=e.bind(null,!0),tt=e.bind(null,!1);_t.a.H(L,"focus",H),_t.a.H(L,"focusin",H),_t.a.H(L,"blur",tt),_t.a.H(L,"focusout",tt),L.__ko_hasfocusLastValue=!1},update:function(L,S){var z=!!_t.a.c(S());L.__ko_hasfocusUpdating||L.__ko_hasfocusLastValue===z||(z?L.focus():L.blur(),!z&&L.__ko_hasfocusLastValue&&L.ownerDocument.body.focus(),_t.v.K(_t.a.Fb,null,[L,z?"focusin":"focusout"]))}},_t.m.va.hasfocus=!0,_t.f.hasFocus=_t.f.hasfocus,_t.m.va.hasFocus="hasfocus",_t.f.html={init:function(){return{controlsDescendantBindings:!0}},update:function(L,S){_t.a.dc(L,S())}},function(){function b(L,S,z){_t.f[L]={init:function(L,H,tt,it,nt){var ot,at,rt,ht,dt,pt={};if(S){it=tt.get("as");var gt=tt.get("noChildContext");pt={as:it,noChildContext:gt,exportDependencies:dt=!(it&&gt)}}return ht=(rt="render"==tt.get("completeOn"))||tt.has(_t.j.oa),_t.o((function(){var tt,it=_t.a.c(H()),gt=!z!=!it,bt=!at;(dt||gt!==ot)&&(ht&&(nt=_t.j.Bb(L,nt)),gt&&(S&&!dt||(pt.dataDependency=_t.U.o()),tt=S?nt.createChildContext("function"==typeof it?it:H,pt):_t.U.pa()?nt.extend(null,pt):nt),bt&&_t.U.pa()&&(at=_t.a.Ca(_t.h.childNodes(L),!0)),gt?(bt||_t.h.ua(L,_t.a.Ca(at)),_t.Pa(tt,L)):(_t.h.Ea(L),rt||_t.j.Ga(L,_t.j.T)),ot=gt)}),null,{l:L}),{controlsDescendantBindings:!0}}},_t.m.Ra[L]=!1,_t.h.ea[L]=!0}b("if"),b("ifnot",!1,!0),b("with",!0)}(),_t.f.let={init:function(L,S,z,H,tt){return S=tt.extend(S),_t.Pa(S,L),{controlsDescendantBindings:!0}}},_t.h.ea.let=!0;var At={};_t.f.options={init:function(L){if("select"!==_t.a.P(L))throw Error("options binding applies only to SELECT elements");for(;0<L.length;)L.remove(0);return{controlsDescendantBindings:!0}},update:function(L,S,z){function e(){return _t.a.fb(L.options,(function(L){return L.selected}))}function f(L,S,z){var H=typeof S;return"function"==H?S(L):"string"==H?L[S]:z}function g(S,H){if(dt&&nt)_t.u.ya(L,_t.a.c(z.get("value")),!0);else if(ht.length){var tt=0<=_t.a.A(ht,_t.u.L(H[0]));_t.a.Yc(H[0],tt),dt&&!tt&&_t.v.K(_t.a.Fb,null,[L,"change"])}}var H=L.multiple,tt=0!=L.length&&H?L.scrollTop:null,it=_t.a.c(S()),nt=z.get("valueAllowUnset")&&z.has("value"),at=z.get("optionsIncludeDestroyed");S={};var rt,ht=[];nt||(H?ht=_t.a.Mb(e(),_t.u.L):0<=L.selectedIndex&&ht.push(_t.u.L(L.options[L.selectedIndex]))),it&&(void 0===it.length&&(it=[it]),rt=_t.a.fb(it,(function(L){return at||L===ot||null===L||!_t.a.c(L._destroy)})),z.has("optionsCaption")&&null!==(it=_t.a.c(z.get("optionsCaption")))&&it!==ot&&rt.unshift(At));var dt=!1;S.beforeRemove=function(S){L.removeChild(S)},it=g,z.has("optionsAfterRender")&&"function"==typeof z.get("optionsAfterRender")&&(it=function(L,S){g(0,S),_t.v.K(z.get("optionsAfterRender"),null,[S[0],L!==At?L:ot])}),_t.a.cc(L,rt,(function(S,H,tt){return tt.length&&(ht=!nt&&tt[0].selected?[_t.u.L(tt[0])]:[],dt=!0),H=L.ownerDocument.createElement("option"),S===At?(_t.a.Ab(H,z.get("optionsCaption")),_t.u.ya(H,ot)):(tt=f(S,z.get("optionsValue"),S),_t.u.ya(H,_t.a.c(tt)),S=f(S,z.get("optionsText"),tt),_t.a.Ab(H,S)),[H]}),S,it),_t.v.K((function(){nt?_t.u.ya(L,_t.a.c(z.get("value")),!0):(H?ht.length&&e().length<ht.length:ht.length&&0<=L.selectedIndex?_t.u.L(L.options[L.selectedIndex])!==ht[0]:ht.length||0<=L.selectedIndex)&&_t.a.Fb(L,"change")})),_t.a.vd(L),tt&&20<Math.abs(tt-L.scrollTop)&&(L.scrollTop=tt)}},_t.f.options.Yb=_t.a.g.Z(),_t.f.selectedOptions={after:["options","foreach"],init:function(L,S,z){_t.a.H(L,"change",(function(){var H=S(),tt=[];_t.a.C(L.getElementsByTagName("option"),(function(L){L.selected&&tt.push(_t.u.L(L))})),_t.m.$a(H,z,"selectedOptions",tt)}))},update:function(L,S){if("select"!=_t.a.P(L))throw Error("values binding applies only to SELECT elements");var z=_t.a.c(S()),H=L.scrollTop;z&&"number"==typeof z.length&&_t.a.C(L.getElementsByTagName("option"),(function(L){var S=0<=_t.a.A(z,_t.u.L(L));L.selected!=S&&_t.a.Yc(L,S)})),L.scrollTop=H}},_t.m.va.selectedOptions=!0,_t.f.style={update:function(L,S){var z=_t.a.c(S()||{});_t.a.O(z,(function(S,z){if(null!==(z=_t.a.c(z))&&z!==ot&&!1!==z||(z=""),dt)dt(L).css(S,z);else if(/^--/.test(S))L.style.setProperty(S,z);else{S=S.replace(/-(\w)/g,(function(L,S){return S.toUpperCase()}));var H=L.style[S];L.style[S]=z,z===H||L.style[S]!=H||isNaN(z)||(L.style[S]=z+"px")}}))}},_t.f.submit={init:function(L,S,z,H,tt){if("function"!=typeof S())throw Error("The value for a submit binding must be a function");_t.a.H(L,"submit",(function(z){var H,it=S();try{H=it.call(tt.$data,L)}finally{!0!==H&&(z.preventDefault?z.preventDefault():z.returnValue=!1)}}))}},_t.f.text={init:function(){return{controlsDescendantBindings:!0}},update:function(L,S){_t.a.Ab(L,S())}},_t.h.ea.text=!0,function(){if(at&&at.navigator){var L,S,z,H,tt,b=function(L){if(L)return parseFloat(L[1])},it=at.navigator.userAgent;(L=at.opera&&at.opera.version&&parseInt(at.opera.version()))||(tt=b(it.match(/Edge\/([^ ]+)$/)))||b(it.match(/Chrome\/([^ ]+)/))||(S=b(it.match(/Version\/([^ ]+) Safari/)))||(z=b(it.match(/Firefox\/([^ ]+)/)))||(H=_t.a.W||b(it.match(/MSIE ([^ ]+)/)))||(H=b(it.match(/rv:([^ )]+)/)))}if(8<=H&&10>H)var nt=_t.a.g.Z(),rt=_t.a.g.Z(),k=function(L){var S=this.activeElement;(S=S&&_t.a.g.get(S,rt))&&S(L)},q=function(L,S){var z=L.ownerDocument;_t.a.g.get(z,nt)||(_t.a.g.set(z,nt,!0),_t.a.H(z,"selectionchange",k)),_t.a.g.set(L,rt,S)};_t.f.textInput={init:function(it,nt,at){function k(L,S){_t.a.H(it,L,S)}function t(){rt||(ht=it.value,rt=_t.a.setTimeout(B,4))}function B(){clearTimeout(rt),ht=rt=ot;var L=it.value;dt!==L&&(dt=L,_t.m.$a(nt(),at,"textInput",L))}var rt,ht,dt=it.value,pt=9==_t.a.W?t:B,gt=!1;H&&k("keypress",B),11>H&&k("propertychange",(function(L){gt||"value"!==L.propertyName||pt(L)})),8==H&&(k("keyup",B),k("keydown",B)),q&&(q(it,pt),k("dragend",t)),(!H||9<=H)&&k("input",pt),5>S&&"textarea"===_t.a.P(it)?(k("keydown",t),k("paste",t),k("cut",t)):11>L?k("keydown",t):4>z?(k("DOMAutoComplete",B),k("dragdrop",B),k("drop",B)):tt&&"number"===it.type&&k("keydown",t),k("change",B),k("blur",B),_t.o((function m(){var L=_t.a.c(nt());null!==L&&L!==ot||(L=""),ht!==ot&&L===ht?_t.a.setTimeout(m,4):it.value!==L&&(gt=!0,it.value=L,gt=!1,dt=it.value)}),null,{l:it})}},_t.m.va.textInput=!0,_t.f.textinput={preprocess:function(L,S,z){z("textInput",L)}}}(),_t.f.uniqueName={init:function(L,S){if(S()){var z="ko_unique_"+ ++_t.f.uniqueName.qd;_t.a.Xc(L,z)}}},_t.f.uniqueName.qd=0,_t.f.using={init:function(L,S,z,H,tt){var it;return z.has("as")&&(it={as:z.get("as"),noChildContext:z.get("noChildContext")}),S=tt.createChildContext(S,it),_t.Pa(S,L),{controlsDescendantBindings:!0}}},_t.h.ea.using=!0,_t.f.value={after:["options","foreach"],init:function(L,S,z){var H=_t.a.P(L),tt="input"==H;if(!tt||"checkbox"!=L.type&&"radio"!=L.type){var it=["change"],nt=z.get("valueUpdate"),at=!1,rt=null;nt&&("string"==typeof nt&&(nt=[nt]),_t.a.gb(it,nt),it=_t.a.vc(it));var ht,k=function(){rt=null,at=!1;var H=S(),tt=_t.u.L(L);_t.m.$a(H,z,"value",tt)};!_t.a.W||!tt||"text"!=L.type||"off"==L.autocomplete||L.form&&"off"==L.form.autocomplete||-1!=_t.a.A(it,"propertychange")||(_t.a.H(L,"propertychange",(function(){at=!0})),_t.a.H(L,"focus",(function(){at=!1})),_t.a.H(L,"blur",(function(){at&&k()}))),_t.a.C(it,(function(S){var z=k;_t.a.Td(S,"after")&&(z=function(){rt=_t.u.L(L),_t.a.setTimeout(k,0)},S=S.substring(5)),_t.a.H(L,S,z)})),ht=tt&&"file"==L.type?function(){var z=_t.a.c(S());null===z||z===ot||""===z?L.value="":_t.v.K(k)}:function(){var tt=_t.a.c(S()),it=_t.u.L(L);null!==rt&&tt===rt?_t.a.setTimeout(ht,0):tt===it&&it!==ot||("select"===H?(it=z.get("valueAllowUnset"),_t.u.ya(L,tt,it),it||tt===_t.u.L(L)||_t.v.K(k)):_t.u.ya(L,tt))},_t.o(ht,null,{l:L})}else _t.eb(L,{checkedValue:S})},update:function(){}},_t.m.va.value=!0,_t.f.visible={update:function(L,S){var z=_t.a.c(S()),H="none"!=L.style.display;z&&!H?L.style.display="":!z&&H&&(L.style.display="none")}},_t.f.hidden={update:function(L,S){_t.f.visible.update(L,(function(){return!_t.a.c(S())}))}},function(L){_t.f[L]={init:function(S,z,H,tt,it){return _t.f.event.init.call(this,S,(function(){var S={};return S[L]=z(),S}),H,tt,it)}}}("click"),_t.ca=function(){},_t.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},_t.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},_t.ca.prototype.makeTemplateSource=function(L,S){if("string"==typeof L){var z=(S=S||rt).getElementById(L);if(!z)throw Error("Cannot find template with ID "+L);return new _t.B.D(z)}if(1==L.nodeType||8==L.nodeType)return new _t.B.ia(L);throw Error("Unknown template type: "+L)},_t.ca.prototype.renderTemplate=function(L,S,z,H){return L=this.makeTemplateSource(L,H),this.renderTemplateSource(L,S,z,H)},_t.ca.prototype.isTemplateRewritten=function(L,S){return!1===this.allowTemplateRewriting||this.makeTemplateSource(L,S).data("isRewritten")},_t.ca.prototype.rewriteTemplate=function(L,S,z){S=S((L=this.makeTemplateSource(L,z)).text()),L.text(S),L.data("isRewritten",!0)},_t.b("templateEngine",_t.ca),_t.ic=function(){function b(L,S,z,H){L=_t.m.Zb(L);for(var tt=_t.m.Ra,it=0;it<L.length;it++){var nt=L[it].key;if(Object.prototype.hasOwnProperty.call(tt,nt)){var ot=tt[nt];if("function"==typeof ot){if(nt=ot(L[it].value))throw Error(nt)}else if(!ot)throw Error("This template engine does not support the '"+nt+"' binding within its templates")}}return z="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+_t.m.ub(L,{valueAccessors:!0})+" } })()},'"+z.toLowerCase()+"')",H.createJavaScriptEvaluatorBlock(z)+S}var L=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,S=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{wd:function(L,S,z){S.isTemplateRewritten(L,z)||S.rewriteTemplate(L,(function(L){return _t.ic.Kd(L,S)}),z)},Kd:function(z,H){return z.replace(L,(function(L,S,z,tt,it){return b(it,S,z,H)})).replace(S,(function(L,S){return b(S,"\x3c!-- ko --\x3e","#comment",H)}))},ld:function(L,S){return _t.aa.Wb((function(z,H){var tt=z.nextSibling;tt&&tt.nodeName.toLowerCase()===S&&_t.eb(tt,L,H)}))}}}(),_t.b("__tr_ambtns",_t.ic.ld),function(){_t.B={},_t.B.D=function(L){if(this.D=L){var S=_t.a.P(L);this.Db="script"===S?1:"textarea"===S?2:"template"==S&&L.content&&11===L.content.nodeType?3:4}},_t.B.D.prototype.text=function(){var L=1===this.Db?"text":2===this.Db?"value":"innerHTML";if(0==arguments.length)return this.D[L];var S=arguments[0];"innerHTML"===L?_t.a.dc(this.D,S):this.D[L]=S};var L=_t.a.g.Z()+"_";_t.B.D.prototype.data=function(S){if(1===arguments.length)return _t.a.g.get(this.D,L+S);_t.a.g.set(this.D,L+S,arguments[1])};var S=_t.a.g.Z();_t.B.D.prototype.nodes=function(){var L=this.D;if(0==arguments.length){var z=_t.a.g.get(L,S)||{},H=z.jb||(3===this.Db?L.content:4===this.Db?L:ot);return H&&!z.hd||(z=this.text())&&(H=_t.a.Ld(z,L.ownerDocument),this.text(""),_t.a.g.set(L,S,{jb:H,hd:!0})),H}_t.a.g.set(L,S,{jb:arguments[0]})},_t.B.ia=function(L){this.D=L},_t.B.ia.prototype=new _t.B.D,_t.B.ia.prototype.constructor=_t.B.ia,_t.B.ia.prototype.text=function(){if(0==arguments.length){var L=_t.a.g.get(this.D,S)||{};return L.jc===ot&&L.jb&&(L.jc=L.jb.innerHTML),L.jc}_t.a.g.set(this.D,S,{jc:arguments[0]})},_t.b("templateSources",_t.B),_t.b("templateSources.domElement",_t.B.D),_t.b("templateSources.anonymousTemplate",_t.B.ia)}(),function(){function b(L,S,z){var H;for(S=_t.h.nextSibling(S);L&&(H=L)!==S;)z(H,L=_t.h.nextSibling(H))}function c(L,S){if(L.length){var z=L[0],H=L[L.length-1],tt=z.parentNode,it=_t.ga.instance,nt=it.preprocessNode;if(nt){if(b(z,H,(function(L,S){var tt=L.previousSibling,ot=nt.call(it,L);ot&&(L===z&&(z=ot[0]||S),L===H&&(H=ot[ot.length-1]||tt))})),L.length=0,!z)return;z===H?L.push(z):(L.push(z,H),_t.a.Ua(L,tt))}b(z,H,(function(L){1!==L.nodeType&&8!==L.nodeType||_t.uc(S,L)})),b(z,H,(function(L){1!==L.nodeType&&8!==L.nodeType||_t.aa.bd(L,[S])})),_t.a.Ua(L,tt)}}function d(L){return L.nodeType?L:0<L.length?L[0]:null}function e(S,z,H,tt,it){it=it||{};var nt=(S&&d(S)||H||{}).ownerDocument,ot=it.templateEngine||L;if(_t.ic.wd(H,ot,nt),"number"!=typeof(H=ot.renderTemplate(H,tt,it,nt)).length||0<H.length&&"number"!=typeof H[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(nt=!1,z){case"replaceChildren":_t.h.ua(S,H),nt=!0;break;case"replaceNode":_t.a.Wc(S,H),nt=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+z)}return nt&&(c(H,tt),it.afterRender&&_t.v.K(it.afterRender,null,[H,tt[it.as||"$data"]]),"replaceChildren"==z&&_t.j.Ga(S,_t.j.T)),H}function f(L,S,z){return _t.N(L)?L():"function"==typeof L?L(S,z):L}var L;_t.ec=function(S){if(S!=ot&&!(S instanceof _t.ca))throw Error("templateEngine must inherit from ko.templateEngine");L=S},_t.bc=function(S,z,H,tt,it){if(((H=H||{}).templateEngine||L)==ot)throw Error("Set a template engine before calling renderTemplate");if(it=it||"replaceChildren",tt){var nt=d(tt);return _t.$((function(){var L=z&&z instanceof _t.fa?z:new _t.fa(z,null,null,null,{exportDependencies:!0}),ot=f(S,L.$data,L);L=e(tt,it,ot,L,H),"replaceNode"==it&&(nt=d(tt=L))}),null,{Sa:function(){return!nt||!_t.a.Rb(nt)},l:nt&&"replaceNode"==it?nt.parentNode:nt})}return _t.aa.Wb((function(L){_t.bc(S,z,H,L,"replaceNode")}))},_t.Pd=function(L,S,z,H,tt){function y(L,S){_t.v.K(_t.a.cc,null,[H,L,u,z,t,S]),_t.j.Ga(H,_t.j.T)}function t(L,S){c(S,it),z.afterRender&&z.afterRender(S,L),it=null}function u(S,ot){it=tt.createChildContext(S,{as:nt,noChildContext:z.noChildContext,extend:function(L){L.$index=ot,nt&&(L[nt+"Index"]=ot)}});var at=f(L,S,it);return e(H,"ignoreTargetNode",at,it,z)}var it,nt=z.as,at=!1===z.includeDestroyed||_t.options.foreachHidesDestroyed&&!z.includeDestroyed;if(at||z.beforeRemove||!_t.Oc(S))return _t.$((function(){var L=_t.a.c(S)||[];void 0===L.length&&(L=[L]),at&&(L=_t.a.fb(L,(function(L){return L===ot||null===L||!_t.a.c(L._destroy)}))),y(L)}),null,{l:H});y(S.w());var rt=S.subscribe((function(L){y(S(),L)}),null,"arrayChange");return rt.l(H),rt};var S=_t.a.g.Z(),z=_t.a.g.Z();_t.f.template={init:function(L,S){var H=_t.a.c(S());if("string"==typeof H||H.name)_t.h.Ea(L);else if("nodes"in H){if(H=H.nodes||[],_t.N(H))throw Error('The "nodes" option must be a plain, non-observable array.');var tt=H[0]&&H[0].parentNode;tt&&_t.a.g.get(tt,z)||(tt=_t.a.Xb(H),_t.a.g.set(tt,z,!0)),new _t.B.ia(L).nodes(tt)}else{if(!(0<(H=_t.h.childNodes(L)).length))throw Error("Anonymous template defined, but no template content was provided");tt=_t.a.Xb(H),new _t.B.ia(L).nodes(tt)}return{controlsDescendantBindings:!0}},update:function(L,z,H,tt,it){var nt=z();H=!0,tt=null,"string"==typeof(z=_t.a.c(nt))?z={}:(nt=z.name,"if"in z&&(H=_t.a.c(z.if)),H&&"ifnot"in z&&(H=!_t.a.c(z.ifnot))),"foreach"in z?tt=_t.Pd(nt||L,H&&z.foreach||[],z,L,it):H?(H=it,"data"in z&&(H=it.createChildContext(z.data,{as:z.as,noChildContext:z.noChildContext,exportDependencies:!0})),tt=_t.bc(nt||L,H,z,L)):_t.h.Ea(L),it=tt,(z=_t.a.g.get(L,S))&&"function"==typeof z.s&&z.s(),_t.a.g.set(L,S,!it||it.ja&&!it.ja()?ot:it)}},_t.m.Ra.template=function(L){return 1==(L=_t.m.Zb(L)).length&&L[0].unknown||_t.m.Hd(L,"name")?null:"This template engine does not support anonymous templates nested within its templates"},_t.h.ea.template=!0}(),_t.b("setTemplateEngine",_t.ec),_t.b("renderTemplate",_t.bc),_t.a.Jc=function(L,S,z){var H,tt,it,nt,ot;if(L.length&&S.length)for(H=tt=0;(!z||H<z)&&(nt=L[tt]);++tt){for(it=0;ot=S[it];++it)if(nt.value===ot.value){nt.moved=ot.index,ot.moved=nt.index,S.splice(it,1),H=it=0;break}H+=it}},_t.a.Ob=function(){function b(L,S,z,H,tt){var it,nt,ot,at,rt,ht=Math.min,dt=Math.max,pt=[],gt=L.length,bt=S.length,xt=bt-gt||1,kt=gt+bt+1;for(it=0;it<=gt;it++)for(at=ot,pt.push(ot=[]),rt=ht(bt,it+xt),nt=dt(0,it-1);nt<=rt;nt++)ot[nt]=nt?it?L[it-1]===S[nt-1]?at[nt-1]:ht(at[nt]||kt,ot[nt-1]||kt)+1:nt+1:it+1;for(ht=[],dt=[],xt=[],it=gt,nt=bt;it||nt;)bt=pt[it][nt]-1,nt&&bt===pt[it][nt-1]?dt.push(ht[ht.length]={status:z,value:S[--nt],index:nt}):it&&bt===pt[it-1][nt]?xt.push(ht[ht.length]={status:H,value:L[--it],index:it}):(--nt,--it,tt.sparse||ht.push({status:"retained",value:S[nt]}));return _t.a.Jc(xt,dt,!tt.dontLimitMoves&&10*gt),ht.reverse()}return function(L,S,z){return z="boolean"==typeof z?{dontLimitMoves:z}:z||{},S=S||[],(L=L||[]).length<S.length?b(L,S,"added","deleted",z):b(S,L,"deleted","added",z)}}(),_t.b("utils.compareArrays",_t.a.Ob),function(){function b(L,S,z,H,tt){var it=[],nt=_t.$((function(){var nt=S(z,tt,_t.a.Ua(it,L))||[];0<it.length&&(_t.a.Wc(it,nt),H&&_t.v.K(H,null,[z,nt,tt])),it.length=0,_t.a.gb(it,nt)}),null,{l:L,Sa:function(){return!_t.a.jd(it)}});return{Y:it,$:nt.ja()?nt:ot}}var L=_t.a.g.Z(),S=_t.a.g.Z();_t.a.cc=function(z,H,tt,it,nt,at){function k(L){rt={Aa:L,nb:_t.sa(Ct++)},xt.push(rt),bt||Pt.push(rt)}function q(L){rt=gt[L],Ct!==rt.nb.w()&&Mt.push(rt),rt.nb(Ct++),_t.a.Ua(rt.Y,z),xt.push(rt)}function n(L,S){if(L)for(var z=0,H=S.length;z<H;z++)_t.a.C(S[z].Y,(function(H){L(H,z,S[z].Aa)}))}void 0===(H=H||[]).length&&(H=[H]),it=it||{};var rt,ht,dt,pt,gt=_t.a.g.get(z,L),bt=!gt,xt=[],kt=0,Ct=0,Lt=[],Tt=[],Et=[],Mt=[],Pt=[],Dt=0;if(bt)_t.a.C(H,k);else{if(!at||gt&&gt._countWaitingForRemove){var It=_t.a.Mb(gt,(function(L){return L.Aa}));at=_t.a.Ob(It,H,{dontLimitMoves:it.dontLimitMoves,sparse:!0})}var At,Ot,Nt;for(It=0;At=at[It];It++)switch(Ot=At.moved,Nt=At.index,At.status){case"deleted":for(;kt<Nt;)q(kt++);Ot===ot&&((rt=gt[kt]).$&&(rt.$.s(),rt.$=ot),_t.a.Ua(rt.Y,z).length&&(it.beforeRemove&&(xt.push(rt),Dt++,rt.Aa===S?rt=null:Et.push(rt)),rt&&Lt.push.apply(Lt,rt.Y))),kt++;break;case"added":for(;Ct<Nt;)q(kt++);Ot!==ot?(Tt.push(xt.length),q(Ot)):k(At.value)}for(;Ct<H.length;)q(kt++);xt._countWaitingForRemove=Dt}_t.a.g.set(z,L,xt),n(it.beforeMove,Mt),_t.a.C(Lt,it.beforeRemove?_t.na:_t.removeNode);try{pt=z.ownerDocument.activeElement}catch(L){}if(Tt.length)for(;(It=Tt.shift())!=ot;){for(rt=xt[It],ht=ot;It;)if((dt=xt[--It].Y)&&dt.length){ht=dt[dt.length-1];break}for(H=0;kt=rt.Y[H];ht=kt,H++)_t.h.Vb(z,kt,ht)}for(It=0,Tt=_t.h.firstChild(z);rt=xt[It];It++){for(rt.Y||_t.a.extend(rt,b(z,tt,rt.Aa,nt,rt.nb)),H=0;kt=rt.Y[H];Tt=kt.nextSibling,ht=kt,H++)kt!==Tt&&_t.h.Vb(z,kt,ht);!rt.Dd&&nt&&(nt(rt.Aa,rt.Y,rt.nb),rt.Dd=!0,ht=rt.Y[rt.Y.length-1])}for(pt&&z.ownerDocument.activeElement!=pt&&pt.focus(),n(it.beforeRemove,Et),It=0;It<Et.length;++It)Et[It].Aa=S;n(it.afterMove,Mt),n(it.afterAdd,Pt)}}(),_t.b("utils.setDomNodeChildrenFromArrayMapping",_t.a.cc),_t.ba=function(){this.allowTemplateRewriting=!1},_t.ba.prototype=new _t.ca,_t.ba.prototype.constructor=_t.ba,_t.ba.prototype.renderTemplateSource=function(L,S,z,H){return(S=9>_t.a.W||!L.nodes?null:L.nodes())?_t.a.la(S.cloneNode(!0).childNodes):(L=L.text(),_t.a.ta(L,H))},_t.ba.Na=new _t.ba,_t.ec(_t.ba.Na),_t.b("nativeTemplateEngine",_t.ba),function(){_t.Za=function(){var L=this.Gd=function(){if(!dt||!dt.tmpl)return 0;try{if(0<=dt.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(L){}return 1}();this.renderTemplateSource=function(S,z,H,tt){if(tt=tt||rt,H=H||{},2>L)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var it=S.data("precompiled");return it||(it=S.text()||"",it=dt.template(null,"{{ko_with $item.koBindingContext}}"+it+"{{/ko_with}}"),S.data("precompiled",it)),S=[z.$data],z=dt.extend({koBindingContext:z},H.templateOptions),(z=dt.tmpl(it,S,z)).appendTo(tt.createElement("div")),dt.fragments={},z},this.createJavaScriptEvaluatorBlock=function(L){return"{{ko_code ((function() { return "+L+" })()) }}"},this.addTemplate=function(L,S){rt.write("<script type='text/html' id='"+L+"'>"+S+"<\/script>")},0<L&&(dt.tmpl.tag.ko_code={open:"__.push($1 || '');"},dt.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},_t.Za.prototype=new _t.ca,_t.Za.prototype.constructor=_t.Za;var L=new _t.Za;0<L.Gd&&_t.ec(L),_t.b("jqueryTmplTemplateEngine",_t.Za)}()}))}()},87689:function(){var S,z;S=window,z=document,L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(S,z){this._map=S,this._container=S._container,this._overlayPane=S._panes.overlayPane,this._popupPane=S._panes.popupPane,z&&z.shapeOptions&&(z.shapeOptions=L.Util.extend({},this.options.shapeOptions,z.shapeOptions)),L.setOptions(this,z);var H=L.version.split(".");1===parseInt(H[0],10)&&parseInt(H[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var S=this._map;S&&(L.DomUtil.disableTextSelection(),S.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(S){L.setOptions(this,S)},_fireCreatedEvent:function(S){this._map.fire(L.Draw.Event.CREATED,{layer:S,layerType:this.type})},_cancelDrawing:function(L){27===L.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(S,z){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,z&&z.drawError&&(z.drawError=L.Util.extend({},this.options.drawError,z.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,S,z)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var L=this._markers.pop(),S=this._poly,z=S.getLatLngs(),H=z.splice(-1,1)[0];this._poly.setLatLngs(z),this._markerGroup.removeLayer(L),S.getLatLngs().length<2&&this._map.removeLayer(S),this._vertexChanged(H,!1)}},addVertex:function(L){this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(L)?this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(L)),this._poly.addLatLng(L),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(L,!0))},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var L=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),S=this._poly.newLatLngIntersects(L[L.length-1]);!this.options.allowIntersection&&S||!this._shapeIsValid()?this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(S){var z=this._map.mouseEventToLayerPoint(S.originalEvent),H=this._map.layerPointToLatLng(z);this._currentLatLng=H,this._updateTooltip(H),this._updateGuide(z),this._mouseMarker.setLatLng(H),L.DomEvent.preventDefault(S.originalEvent)},_vertexChanged:function(S,z){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(S,z),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(L){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(L),this._clickHandled=!0,this._disableNewMarkers();var S=L.originalEvent,z=S.clientX,H=S.clientY;this._startPoint.call(this,z,H)}},_startPoint:function(S,z){this._mouseDownOrigin=L.point(S,z)},_onMouseUp:function(L){var S=L.originalEvent,z=S.clientX,H=S.clientY;this._endPoint.call(this,z,H,L),this._clickHandled=null},_endPoint:function(z,H,tt){if(this._mouseDownOrigin){var it=L.point(z,H).distanceTo(this._mouseDownOrigin),nt=this._calculateFinishDistance(tt.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(tt.latlng),this._finishShape()):nt<10&&L.Browser.touch?this._finishShape():Math.abs(it)<9*(S.devicePixelRatio||1)&&this.addVertex(tt.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(L){var S,z,H=L.originalEvent;!H.touches||!H.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(S=H.touches[0].clientX,z=H.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,S,z),this._endPoint.call(this,S,z,L),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(S){var z;if(this._markers.length>0){var H;if(this.type===L.Draw.Polyline.TYPE)H=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;H=this._markers[0]}var tt=this._map.latLngToContainerPoint(H.getLatLng()),it=new L.Marker(S,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),nt=this._map.latLngToContainerPoint(it.getLatLng());z=tt.distanceTo(nt)}else z=1/0;return z},_updateFinishHandler:function(){var L=this._markers.length;L>1&&this._markers[L-1].on("click",this._finishShape,this),L>2&&this._markers[L-2].off("click",this._finishShape,this)},_createMarker:function(S){var z=new L.Marker(S,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(z),z},_updateGuide:function(L){var S=this._markers?this._markers.length:0;S>0&&(L=L||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[S-1].getLatLng()),L))},_updateTooltip:function(L){var S=this._getTooltipText();L&&this._tooltip.updatePosition(L),this._errorShown||this._tooltip.updateContent(S)},_drawGuide:function(S,z){var H,tt,it,nt=Math.floor(Math.sqrt(Math.pow(z.x-S.x,2)+Math.pow(z.y-S.y,2))),ot=this.options.guidelineDistance,at=this.options.maxGuideLineLength,rt=nt>at?nt-at:ot;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));rt<nt;rt+=this.options.guidelineDistance)H=rt/nt,tt={x:Math.floor(S.x*(1-H)+H*z.x),y:Math.floor(S.y*(1-H)+H*z.y)},(it=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer)).style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(it,tt)},_updateGuideColor:function(L){if(this._guidesContainer)for(var S=0,z=this._guidesContainer.childNodes.length;S<z;S++)this._guidesContainer.childNodes[S].style.backgroundColor=L},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var S,z,H=this.options.showLength;return 0===this._markers.length?S={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(z=H?this._getMeasurementString():"",S=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:z}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:z}),S},_updateRunningMeasure:function(S,z){var H,tt,it=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(H=it-(z?2:1),tt=L.GeometryUtil.isVersion07x()?S.distanceTo(this._markers[H].getLatLng())*(this.options.factor||1):this._map.distance(S,this._markers[H].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=tt*(z?1:-1))},_getMeasurementString:function(){var S,z=this._currentLatLng,H=this._markers[this._markers.length-1].getLatLng();return S=L.GeometryUtil.isVersion07x()?H&&z&&z.distanceTo?this._measurementRunningTotal+z.distanceTo(H)*(this.options.factor||1):this._measurementRunningTotal||0:H&&z?this._measurementRunningTotal+this._map.distance(z,H)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(S,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var S=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,S)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(S,z){L.Draw.Polyline.prototype.initialize.call(this,S,z),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var L=this._markers.length;1===L&&this._markers[0].on("click",this._finishShape,this),L>2&&(this._markers[L-1].on("dblclick",this._finishShape,this),L>3&&this._markers[L-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var S,z;return 0===this._markers.length?S=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(S=L.drawLocal.draw.handlers.polygon.tooltip.cont,z=this._getMeasurementString()):(S=L.drawLocal.draw.handlers.polygon.tooltip.end,z=this._getMeasurementString()),{text:S,subtext:z}},_getMeasurementString:function(){var S=this._area,z="";return S||this.options.showLength?(this.options.showLength&&(z=L.Draw.Polyline.prototype._getMeasurementString.call(this)),S&&(z+="<br>"+L.GeometryUtil.readableArea(S,this.options.metric,this.options.precision)),z):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(S,z){var H;!this.options.allowIntersection&&this.options.showArea&&(H=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(H)),L.Draw.Polyline.prototype._vertexChanged.call(this,S,z)},_cleanUpShape:function(){var L=this._markers.length;L>0&&(this._markers[0].off("click",this._finishShape,this),L>2&&this._markers[L-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(S,z){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,S,z)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),z.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(z,"mouseup",this._onMouseUp,this),L.DomEvent.off(z,"touchend",this._onMouseUp,this),z.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(S){this._isDrawing=!0,this._startLatLng=S.latlng,L.DomEvent.on(z,"mouseup",this._onMouseUp,this).on(z,"touchend",this._onMouseUp,this).preventDefault(S.originalEvent)},_onMouseMove:function(L){var S=L.latlng;this._tooltip.updatePosition(S),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(S))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(S,z){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,S,z)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(S){this._shape||this._isCurrentlyTwoClickDrawing?this._isCurrentlyTwoClickDrawing&&!function(L,S){for(;(L=L.parentElement)&&!L.classList.contains(S););return L}(S.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this):this._isCurrentlyTwoClickDrawing=!0},_drawShape:function(S){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,S)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,S),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var S=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,S)},_getTooltipText:function(){var S,z,H,tt=L.Draw.SimpleShape.prototype._getTooltipText.call(this),it=this._shape,nt=this.options.showArea;return it&&(S=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),z=L.GeometryUtil.geodesicArea(S),H=nt?L.GeometryUtil.readableArea(z,this.options.metric):""),{text:tt.text,subtext:H}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(S,z){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,S,z)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(L){var S=L.latlng;this._tooltip.updatePosition(S),this._mouseMarker.setLatLng(S),this._marker?(S=this._mouseMarker.getLatLng(),this._marker.setLatLng(S)):(this._marker=this._createMarker(S),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(S){return new L.Marker(S,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(L){this._onMouseMove(L),this._onClick()},_fireCreatedEvent:function(){var S=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,S)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(S,z){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,S,z)},_fireCreatedEvent:function(){var S=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,S)},_createMarker:function(S){return new L.CircleMarker(S,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(S,z){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,S,z)},_drawShape:function(S){if(L.GeometryUtil.isVersion07x())var z=this._startLatLng.distanceTo(S);else z=this._map.distance(this._startLatLng,S);this._shape?this._shape.setRadius(z):(this._shape=new L.Circle(this._startLatLng,z,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var S=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,S)},_onMouseMove:function(S){var z,H=S.latlng,tt=this.options.showRadius,it=this.options.metric;if(this._tooltip.updatePosition(H),this._isDrawing){this._drawShape(H),z=this._shape.getRadius().toFixed(1);var nt="";tt&&(nt=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(z,it,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:nt})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(S,z){this._marker=S,L.setOptions(this,z)},addHooks:function(){var L=this._marker;L.dragging.enable(),L.on("dragend",this._onDragEnd,L),this._toggleMarkerHighlight()},removeHooks:function(){var L=this._marker;L.dragging.disable(),L.off("dragend",this._onDragEnd,L),this._toggleMarkerHighlight()},_onDragEnd:function(S){var z=S.target;z.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:z})},_toggleMarkerHighlight:function(){var S=this._marker._icon;S&&(S.style.display="none",L.DomUtil.hasClass(S,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(S,"leaflet-edit-marker-selected"),this._offsetMarker(S,-4)):(L.DomUtil.addClass(S,"leaflet-edit-marker-selected"),this._offsetMarker(S,4)),S.style.display="")},_offsetMarker:function(L,S){var z=parseInt(L.style.marginTop,10)-S,H=parseInt(L.style.marginLeft,10)-S;L.style.marginTop=z+"px",L.style.marginLeft=H+"px"}}),L.Marker.addInitHook((function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(L){this.latlngs=[L._latlngs],L._holes&&(this.latlngs=this.latlngs.concat(L._holes)),this._poly=L,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(L){for(var S=0;S<this._verticesHandlers.length;S++)L(this._verticesHandlers[S])},addHooks:function(){this._initHandlers(),this._eachVertexHandler((function(L){L.addHooks()}))},removeHooks:function(){this._eachVertexHandler((function(L){L.removeHooks()}))},updateMarkers:function(){this._eachVertexHandler((function(L){L.updateMarkers()}))},_initHandlers:function(){this._verticesHandlers=[];for(var S=0;S<this.latlngs.length;S++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[S],this._poly.options.poly))},_updateLatLngs:function(L){this.latlngs=[L.layer._latlngs],L.layer._holes&&(this.latlngs=this.latlngs.concat(L.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(S,z,H){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=S,H&&H.drawError&&(H.drawError=L.Util.extend({},this.options.drawError,H.drawError)),this._latlngs=z,L.setOptions(this,H)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var S=this._poly,z=S._path;S instanceof L.Polygon||(S.options.fill=!1,S.options.editing&&(S.options.editing.fill=!1)),z&&S.options.editing&&S.options.editing.className&&(S.options.original.className&&S.options.original.className.split(" ").forEach((function(S){L.DomUtil.removeClass(z,S)})),S.options.editing.className.split(" ").forEach((function(S){L.DomUtil.addClass(z,S)}))),S.setStyle(S.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var S=this._poly,z=S._path;z&&S.options.editing&&S.options.editing.className&&(S.options.editing.className.split(" ").forEach((function(S){L.DomUtil.removeClass(z,S)})),S.options.original.className&&S.options.original.className.split(" ").forEach((function(S){L.DomUtil.addClass(z,S)}))),S.setStyle(S.options.original),S._map&&(S._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var S,z,H,tt,it,nt,ot=this._defaultShape();for(S=0,H=ot.length;S<H;S++)(tt=this._createMarker(ot[S],S)).on("click",this._onMarkerClick,this),tt.on("contextmenu",this._onContextMenu,this),this._markers.push(tt);for(S=0,z=H-1;S<H;z=S++)(0!==S||L.Polygon&&this._poly instanceof L.Polygon)&&(it=this._markers[z],nt=this._markers[S],this._createMiddleMarker(it,nt),this._updatePrevNext(it,nt))},_createMarker:function(S,z){var H=new L.Marker.Touch(S,{draggable:!0,icon:this.options.icon});return H._origLatLng=S,H._index=z,H.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(H),H},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var L=this._defaultShape(),S=[].splice.apply(L,arguments);return this._poly._convertLatLngs(L,!0),this._poly.redraw(),S},_removeMarker:function(L){var S=L._index;this._markerGroup.removeLayer(L),this._markers.splice(S,1),this._spliceLatLngs(S,1),this._updateIndexes(S,-1),L.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(S){var z=S.target,H=this._poly,tt=L.LatLngUtil.cloneLatLng(z._origLatLng);if(L.extend(z._origLatLng,z._latlng),H.options.poly){var it=H._map._editTooltip;if(!H.options.poly.allowIntersection&&H.intersects()){L.extend(z._origLatLng,tt),z.setLatLng(tt);var nt=H.options.color;H.setStyle({color:this.options.drawError.color}),it&&it.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout((function(){H.setStyle({color:nt}),it&&it.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})}),1e3)}}z._middleLeft&&z._middleLeft.setLatLng(this._getMiddleLatLng(z._prev,z)),z._middleRight&&z._middleRight.setLatLng(this._getMiddleLatLng(z,z._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var ot=this._poly.getLatLngs();this._poly._convertLatLngs(ot,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(S){var z=L.Polygon&&this._poly instanceof L.Polygon?4:3,H=S.target;this._defaultShape().length<z||(this._removeMarker(H),this._updatePrevNext(H._prev,H._next),H._middleLeft&&this._markerGroup.removeLayer(H._middleLeft),H._middleRight&&this._markerGroup.removeLayer(H._middleRight),H._prev&&H._next?this._createMiddleMarker(H._prev,H._next):H._prev?H._next||(H._prev._middleRight=null):H._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(S){var z=S.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:z,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(S){var z=this._map.mouseEventToLayerPoint(S.originalEvent.touches[0]),H=this._map.layerPointToLatLng(z),tt=S.target;L.extend(tt._origLatLng,H),tt._middleLeft&&tt._middleLeft.setLatLng(this._getMiddleLatLng(tt._prev,tt)),tt._middleRight&&tt._middleRight.setLatLng(this._getMiddleLatLng(tt,tt._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(L,S){this._markerGroup.eachLayer((function(z){z._index>L&&(z._index+=S)}))},_createMiddleMarker:function(L,S){var z,H,tt,it=this._getMiddleLatLng(L,S),nt=this._createMarker(it);nt.setOpacity(.6),L._middleRight=S._middleLeft=nt,H=function(){nt.off("touchmove",H,this);var tt=S._index;nt._index=tt,nt.off("click",z,this).on("click",this._onMarkerClick,this),it.lat=nt.getLatLng().lat,it.lng=nt.getLatLng().lng,this._spliceLatLngs(tt,0,it),this._markers.splice(tt,0,nt),nt.setOpacity(1),this._updateIndexes(tt,1),S._index++,this._updatePrevNext(L,nt),this._updatePrevNext(nt,S),this._poly.fire("editstart")},tt=function(){nt.off("dragstart",H,this),nt.off("dragend",tt,this),nt.off("touchmove",H,this),this._createMiddleMarker(L,nt),this._createMiddleMarker(nt,S)},z=function(){H.call(this),tt.call(this),this._fireEdit()},nt.on("click",z,this).on("dragstart",H,this).on("dragend",tt,this).on("touchmove",H,this),this._markerGroup.addLayer(nt)},_updatePrevNext:function(L,S){L&&(L._next=S),S&&(S._prev=L)},_getMiddleLatLng:function(L,S){var z=this._poly._map,H=z.project(L.getLatLng()),tt=z.project(S.getLatLng());return z.unproject(H._add(tt)._divideBy(2))}}),L.Polyline.addInitHook((function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})))})),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(S,z){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=S,L.Util.setOptions(this,z)},addHooks:function(){var L=this._shape;this._shape._map&&(this._map=this._shape._map,L.setStyle(L.options.editing),L._map&&(this._map=L._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var L=this._shape;if(L.setStyle(L.options.original),L._map){this._unbindMarker(this._moveMarker);for(var S=0,z=this._resizeMarkers.length;S<z;S++)this._unbindMarker(this._resizeMarkers[S]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(S,z){var H=new L.Marker.Touch(S,{draggable:!0,icon:z,zIndexOffset:10});return this._bindMarker(H),this._markerGroup.addLayer(H),H},_bindMarker:function(L){L.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(L){L.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(L){L.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(L){var S=L.target,z=S.getLatLng();S===this._moveMarker?this._move(z):this._resize(z),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(L){L.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(S){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,S),"function"==typeof this._getCorners){var z=this._getCorners(),H=S.target,tt=H._cornerIndex;H.setOpacity(0),this._oppositeCorner=z[(tt+2)%4],this._toggleCornerMarkers(0,tt)}this._shape.fire("editstart")},_onTouchMove:function(L){var S=this._map.mouseEventToLayerPoint(L.originalEvent.touches[0]),z=this._map.layerPointToLatLng(S);return L.target===this._moveMarker?this._move(z):this._resize(z),this._shape.redraw(),!1},_onTouchEnd:function(L){L.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var L=this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(L,this.options.moveIcon)},_createResizeMarker:function(){var L=this._getCorners();this._resizeMarkers=[];for(var S=0,z=L.length;S<z;S++)this._resizeMarkers.push(this._createMarker(L[S],this.options.resizeIcon)),this._resizeMarkers[S]._cornerIndex=S},_onMarkerDragStart:function(S){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,S);var z=this._getCorners(),H=S.target._cornerIndex;this._oppositeCorner=z[(H+2)%4],this._toggleCornerMarkers(0,H)},_onMarkerDragEnd:function(S){var z,H=S.target;H===this._moveMarker&&(z=this._shape.getBounds().getCenter(),H.setLatLng(z)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,S)},_move:function(S){for(var z,H=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),tt=this._shape.getBounds().getCenter(),it=[],nt=0,ot=H.length;nt<ot;nt++)z=[H[nt].lat-tt.lat,H[nt].lng-tt.lng],it.push([S.lat+z[0],S.lng+z[1]]);this._shape.setLatLngs(it),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(S){var z;this._shape.setBounds(L.latLngBounds(S,this._oppositeCorner)),z=this._shape.getBounds(),this._moveMarker.setLatLng(z.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var L=this._shape.getBounds();return[L.getNorthWest(),L.getNorthEast(),L.getSouthEast(),L.getSouthWest()]},_toggleCornerMarkers:function(L){for(var S=0,z=this._resizeMarkers.length;S<z;S++)this._resizeMarkers[S].setOpacity(L)},_repositionCornerMarkers:function(){for(var L=this._getCorners(),S=0,z=this._resizeMarkers.length;S<z;S++)this._resizeMarkers[S].setLatLng(L[S])}}),L.Rectangle.addInitHook((function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var L=this._shape.getLatLng();this._moveMarker=this._createMarker(L,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(S){if(this._resizeMarkers.length){var z=this._getResizeMarkerPoint(S);this._resizeMarkers[0].setLatLng(z)}this._shape.setLatLng(S),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook((function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))})),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var L=this._shape.getLatLng(),S=this._getResizeMarkerPoint(L);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(S,this.options.resizeIcon))},_getResizeMarkerPoint:function(L){var S=this._shape._radius*Math.cos(Math.PI/4),z=this._map.project(L);return this._map.unproject([z.x+S,z.y-S])},_resize:function(S){var z=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=z.distanceTo(S):radius=this._map.distance(z,S),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook((function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())})),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(L){this._map=L,this._container=L._container,this._pane=L._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(L,S){var z={};if(void 0!==L.touches){if(!L.touches.length)return;z=L.touches[0]}else{if("touch"!==L.pointerType)return;if(z=L,!this._filterClick(L))return}var H=this._map.mouseEventToContainerPoint(z),tt=this._map.mouseEventToLayerPoint(z),it=this._map.layerPointToLatLng(tt);this._map.fire(S,{latlng:it,layerPoint:tt,containerPoint:H,pageX:z.pageX,pageY:z.pageY,originalEvent:L})},_filterClick:function(S){var z=S.timeStamp||S.originalEvent.timeStamp,H=L.DomEvent._lastClick&&z-L.DomEvent._lastClick;return H&&H>100&&H<500||S.target._simulatedClick&&!S._simulated?(L.DomEvent.stop(S),!1):(L.DomEvent._lastClick=z,!0)},_onTouchStart:function(L){this._map._loaded&&this._touchEvent(L,"touchstart")},_onTouchEnd:function(L){this._map._loaded&&this._touchEvent(L,"touchend")},_onTouchCancel:function(L){if(this._map._loaded){var S="touchcancel";this._detectIE()&&(S="pointercancel"),this._touchEvent(L,S)}},_onTouchLeave:function(L){this._map._loaded&&this._touchEvent(L,"touchleave")},_onTouchMove:function(L){this._map._loaded&&this._touchEvent(L,"touchmove")},_detectIE:function(){var L=S.navigator.userAgent,z=L.indexOf("MSIE ");if(z>0)return parseInt(L.substring(z+5,L.indexOf(".",z)),10);if(L.indexOf("Trident/")>0){var H=L.indexOf("rv:");return parseInt(L.substring(H+3,L.indexOf(".",H)),10)}var tt=L.indexOf("Edge/");return tt>0&&parseInt(L.substring(tt+5,L.indexOf(".",tt)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var S=this._icon,z=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?z.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):z.concat(["touchcancel"]),L.DomUtil.addClass(S,"leaflet-clickable"),L.DomEvent.on(S,"click",this._onMouseClick,this),L.DomEvent.on(S,"keypress",this._onKeyPress,this);for(var H=0;H<z.length;H++)L.DomEvent.on(S,z[H],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var L=S.navigator.userAgent,z=L.indexOf("MSIE ");if(z>0)return parseInt(L.substring(z+5,L.indexOf(".",z)),10);if(L.indexOf("Trident/")>0){var H=L.indexOf("rv:");return parseInt(L.substring(H+3,L.indexOf(".",H)),10)}var tt=L.indexOf("Edge/");return tt>0&&parseInt(L.substring(tt+5,L.indexOf(".",tt)),10)}}),L.LatLngUtil={cloneLatLngs:function(S){for(var z=[],H=0,tt=S.length;H<tt;H++)Array.isArray(S[H])?z.push(L.LatLngUtil.cloneLatLngs(S[H])):z.push(this.cloneLatLng(S[H]));return z},cloneLatLng:function(S){return L.latLng(S.lat,S.lng)}},function(){var S={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(L){var S,z,H=L.length,tt=0,it=Math.PI/180;if(H>2){for(var nt=0;nt<H;nt++)S=L[nt],tt+=((z=L[(nt+1)%H]).lng-S.lng)*it*(2+Math.sin(S.lat*it)+Math.sin(z.lat*it));tt=6378137*tt*6378137/2}return Math.abs(tt)},formattedNumber:function(S,z){var H=parseFloat(S).toFixed(z),tt=L.drawLocal.format&&L.drawLocal.format.numeric,it=tt&&tt.delimiters,nt=it&&it.thousands,ot=it&&it.decimal;if(nt||ot){var at=H.split(".");H=nt?at[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+nt):at[0],ot=ot||".",at.length>1&&(H=H+ot+at[1])}return H},readableArea:function(z,H,tt){var it,nt;return tt=L.Util.extend({},S,tt),H?(nt=["ha","m"],type=typeof H,"string"===type?nt=[H]:"boolean"!==type&&(nt=H),it=z>=1e6&&-1!==nt.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*z,tt.km)+" km":z>=1e4&&-1!==nt.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*z,tt.ha)+" ha":L.GeometryUtil.formattedNumber(z,tt.m)+" m"):it=(z/=.836127)>=3097600?L.GeometryUtil.formattedNumber(z/3097600,tt.mi)+" mi":z>=4840?L.GeometryUtil.formattedNumber(z/4840,tt.ac)+" acres":L.GeometryUtil.formattedNumber(z,tt.yd)+" yd",it},readableDistance:function(z,H,tt,it,nt){var ot;switch(nt=L.Util.extend({},S,nt),H?"string"==typeof H?H:"metric":tt?"feet":it?"nauticalMile":"yards"){case"metric":ot=z>1e3?L.GeometryUtil.formattedNumber(z/1e3,nt.km)+" km":L.GeometryUtil.formattedNumber(z,nt.m)+" m";break;case"feet":z*=3.28083,ot=L.GeometryUtil.formattedNumber(z,nt.ft)+" ft";break;case"nauticalMile":z*=.53996,ot=L.GeometryUtil.formattedNumber(z/1e3,nt.nm)+" nm";break;default:ot=(z*=1.09361)>1760?L.GeometryUtil.formattedNumber(z/1760,nt.mi)+" miles":L.GeometryUtil.formattedNumber(z,nt.yd)+" yd"}return ot},isVersion07x:function(){var S=L.version.split(".");return 0===parseInt(S[0],10)&&7===parseInt(S[1],10)}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(L,S,z,H){return this._checkCounterclockwise(L,z,H)!==this._checkCounterclockwise(S,z,H)&&this._checkCounterclockwise(L,S,z)!==this._checkCounterclockwise(L,S,H)},_checkCounterclockwise:function(L,S,z){return(z.y-L.y)*(S.x-L.x)>(S.y-L.y)*(z.x-L.x)}}),L.Polyline.include({intersects:function(){var L,S,z,H=this._getProjectedPoints(),tt=H?H.length:0;if(this._tooFewPointsForIntersection())return!1;for(L=tt-1;L>=3;L--)if(S=H[L-1],z=H[L],this._lineSegmentsIntersectsRange(S,z,L-2))return!0;return!1},newLatLngIntersects:function(L,S){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(L),S)},newPointIntersects:function(L,S){var z=this._getProjectedPoints(),H=z?z.length:0,tt=z?z[H-1]:null,it=H-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(tt,L,it,S?1:0)},_tooFewPointsForIntersection:function(L){var S=this._getProjectedPoints(),z=S?S.length:0;return!S||(z+=L||0)<=3},_lineSegmentsIntersectsRange:function(S,z,H,tt){var it,nt,ot=this._getProjectedPoints();tt=tt||0;for(var at=H;at>tt;at--)if(it=ot[at-1],nt=ot[at],L.LineUtil.segmentsIntersect(S,z,it,nt))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var L=[],S=this._defaultShape(),z=0;z<S.length;z++)L.push(this._map.latLngToLayerPoint(S[z]));return L}}),L.Polygon.include({intersects:function(){var S,z,H,tt,it=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(S=it.length,z=it[0],H=it[S-1],tt=S-2,this._lineSegmentsIntersectsRange(H,z,tt,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(S){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");var z;L.Control.prototype.initialize.call(this,S),this._toolbars={},L.DrawToolbar&&this.options.draw&&(z=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=z,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(z=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=z,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(S){var z,H=L.DomUtil.create("div","leaflet-draw"),tt=!1;for(var it in this._toolbars)this._toolbars.hasOwnProperty(it)&&(z=this._toolbars[it].addToolbar(S))&&(tt||(L.DomUtil.hasClass(z,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(z.childNodes[0],"leaflet-draw-toolbar-top"),tt=!0),H.appendChild(z));return H},onRemove:function(){for(var L in this._toolbars)this._toolbars.hasOwnProperty(L)&&this._toolbars[L].removeToolbar()},setDrawingOptions:function(S){for(var z in this._toolbars)this._toolbars[z]instanceof L.DrawToolbar&&this._toolbars[z].setOptions(S)},_toolbarEnabled:function(L){var S=L.target;for(var z in this._toolbars)this._toolbars[z]!==S&&this._toolbars[z].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook((function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))})),L.Toolbar=L.Class.extend({initialize:function(S){L.setOptions(this,S),this._modes={},this._actionButtons=[],this._activeMode=null;var z=L.version.split(".");1===parseInt(z[0],10)&&parseInt(z[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(S){var z,H=L.DomUtil.create("div","leaflet-draw-section"),tt=0,it=this._toolbarClass||"",nt=this.getModeHandlers(S);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=S,z=0;z<nt.length;z++)nt[z].enabled&&this._initModeHandler(nt[z].handler,this._toolbarContainer,tt++,it,nt[z].title);if(tt)return this._lastButtonIndex=--tt,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),H.appendChild(this._toolbarContainer),H.appendChild(this._actionsContainer),H},removeToolbar:function(){for(var L in this._modes)this._modes.hasOwnProperty(L)&&(this._disposeButton(this._modes[L].button,this._modes[L].handler.enable,this._modes[L].handler),this._modes[L].handler.disable(),this._modes[L].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var S=0,z=this._actionButtons.length;S<z;S++)this._disposeButton(this._actionButtons[S].button,this._actionButtons[S].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(L,S,z,H,tt){var it=L.type;this._modes[it]={},this._modes[it].handler=L,this._modes[it].button=this._createButton({type:it,title:tt,className:H+"-"+it,container:S,callback:this._modes[it].handler.enable,context:this._modes[it].handler}),this._modes[it].buttonIndex=z,this._modes[it].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!S.MSStream},_createButton:function(S){var z=L.DomUtil.create("a",S.className||"",S.container),H=L.DomUtil.create("span","sr-only",S.container);z.href="#",z.appendChild(H),S.title&&(z.title=S.title,H.innerHTML=S.title),S.text&&(z.innerHTML=S.text,H.innerHTML=S.text);var tt=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(z,"click",L.DomEvent.stopPropagation).on(z,"mousedown",L.DomEvent.stopPropagation).on(z,"dblclick",L.DomEvent.stopPropagation).on(z,"touchstart",L.DomEvent.stopPropagation).on(z,"click",L.DomEvent.preventDefault).on(z,tt,S.callback,S.context),z},_disposeButton:function(S,z){var H=this._detectIOS()?"touchstart":"click";L.DomEvent.off(S,"click",L.DomEvent.stopPropagation).off(S,"mousedown",L.DomEvent.stopPropagation).off(S,"dblclick",L.DomEvent.stopPropagation).off(S,"touchstart",L.DomEvent.stopPropagation).off(S,"click",L.DomEvent.preventDefault).off(S,H,z)},_handlerActivated:function(S){this.disable(),this._activeMode=this._modes[S.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(S){var z,H,tt,it,nt=this._actionsContainer,ot=this.getActions(S),at=ot.length;for(H=0,tt=this._actionButtons.length;H<tt;H++)this._disposeButton(this._actionButtons[H].button,this._actionButtons[H].callback);for(this._actionButtons=[];nt.firstChild;)nt.removeChild(nt.firstChild);for(var rt=0;rt<at;rt++)"enabled"in ot[rt]&&!ot[rt].enabled||(z=L.DomUtil.create("li","",nt),it=this._createButton({title:ot[rt].title,text:ot[rt].text,container:z,callback:ot[rt].callback,context:ot[rt].context}),this._actionButtons.push({button:it,callback:ot[rt].callback}))},_showActionsToolbar:function(){var S=this._activeMode.buttonIndex,z=this._lastButtonIndex,H=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=H+"px",0===S&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),S===z&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(S){this._map=S,this._popupPane=S._panes.popupPane,this._visible=!1,this._container=S.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(S){return this._container?(S.subtext=S.subtext||"",0!==S.subtext.length||this._singleLineLabel?S.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(S.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+S.subtext+"</span><br />":"")+"<span>"+S.text+"</span>",S.text||S.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(S){var z=this._map.latLngToLayerPoint(S),H=this._container;return this._container&&(this._visible&&(H.style.visibility="inherit"),L.DomUtil.setPosition(H,z)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(S){for(var z in this.options)this.options.hasOwnProperty(z)&&S[z]&&(S[z]=L.extend({},this.options[z],S[z]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,S)},getModeHandlers:function(S){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(S,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(S,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(S,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(S,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(S,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(S,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(S){return[{enabled:S.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:S.completeShape,context:S},{enabled:S.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:S.deleteLastVertex,context:S},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(S){for(var z in L.setOptions(this,S),this._modes)this._modes.hasOwnProperty(z)&&S.hasOwnProperty(z)&&this._modes[z].handler.setOptions(S[z])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(S){S.edit&&(void 0===S.edit.selectedPathOptions&&(S.edit.selectedPathOptions=this.options.edit.selectedPathOptions),S.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,S.edit.selectedPathOptions)),S.remove&&(S.remove=L.extend({},this.options.remove,S.remove)),S.poly&&(S.poly=L.extend({},this.options.poly,S.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,S),this._selectedFeatureCount=0},getModeHandlers:function(S){var z=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(S,{featureGroup:z,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(S,{featureGroup:z}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(S){var z=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return S.removeAllLayers&&z.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),z},addToolbar:function(S){var z=L.Toolbar.prototype.addToolbar.call(this,S);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),z},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var S,z=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(S=this._modes[L.EditToolbar.Edit.TYPE].button,z?L.DomUtil.removeClass(S,"leaflet-disabled"):L.DomUtil.addClass(S,"leaflet-disabled"),S.setAttribute("title",z?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(S=this._modes[L.EditToolbar.Delete.TYPE].button,z?L.DomUtil.removeClass(S,"leaflet-disabled"):L.DomUtil.addClass(S,"leaflet-disabled"),S.setAttribute("title",z?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(S,z){if(L.Handler.prototype.initialize.call(this,S),L.setOptions(this,z),this._featureGroup=z.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var H=L.version.split(".");1===parseInt(H[0],10)&&parseInt(H[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var S=this._map;S&&(S.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),S._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer((function(L){this._revertLayer(L)}),this)},save:function(){var S=new L.LayerGroup;this._featureGroup.eachLayer((function(L){L.edited&&(S.addLayer(L),L.edited=!1)})),this._map.fire(L.Draw.Event.EDITED,{layers:S})},_backupLayer:function(S){var z=L.Util.stamp(S);this._uneditedLayerProps[z]||(S instanceof L.Polyline||S instanceof L.Polygon||S instanceof L.Rectangle?this._uneditedLayerProps[z]={latlngs:L.LatLngUtil.cloneLatLngs(S.getLatLngs())}:S instanceof L.Circle?this._uneditedLayerProps[z]={latlng:L.LatLngUtil.cloneLatLng(S.getLatLng()),radius:S.getRadius()}:(S instanceof L.Marker||S instanceof L.CircleMarker)&&(this._uneditedLayerProps[z]={latlng:L.LatLngUtil.cloneLatLng(S.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(S){var z=L.Util.stamp(S);S.edited=!1,this._uneditedLayerProps.hasOwnProperty(z)&&(S instanceof L.Polyline||S instanceof L.Polygon||S instanceof L.Rectangle?S.setLatLngs(this._uneditedLayerProps[z].latlngs):S instanceof L.Circle?(S.setLatLng(this._uneditedLayerProps[z].latlng),S.setRadius(this._uneditedLayerProps[z].radius)):(S instanceof L.Marker||S instanceof L.CircleMarker)&&S.setLatLng(this._uneditedLayerProps[z].latlng),S.fire("revert-edited",{layer:S}))},_enableLayerEdit:function(S){var z,H,tt=S.layer||S.target||S;this._backupLayer(tt),this.options.poly&&(H=L.Util.extend({},this.options.poly),tt.options.poly=H),this.options.selectedPathOptions&&((z=L.Util.extend({},this.options.selectedPathOptions)).maintainColor&&(z.color=tt.options.color,z.fillColor=tt.options.fillColor),tt.options.original=L.extend({},tt.options),tt.options.editing=z),tt instanceof L.Marker?(tt.editing&&tt.editing.enable(),tt.dragging.enable(),tt.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):tt.editing.enable()},_disableLayerEdit:function(S){var z=S.layer||S.target||S;z.edited=!1,z.editing&&z.editing.disable(),delete z.options.editing,delete z.options.original,this._selectedPathOptions&&(z instanceof L.Marker?this._toggleMarkerHighlight(z):(z.setStyle(z.options.previousOptions),delete z.options.previousOptions)),z instanceof L.Marker?(z.dragging.disable(),z.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):z.editing.disable()},_onMouseMove:function(L){this._tooltip.updatePosition(L.latlng)},_onMarkerDragEnd:function(S){var z=S.target;z.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:z})},_onTouchMove:function(L){var S=L.originalEvent.changedTouches[0],z=this._map.mouseEventToLayerPoint(S),H=this._map.layerPointToLatLng(z);L.target.setLatLng(H)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(S,z){if(L.Handler.prototype.initialize.call(this,S),L.Util.setOptions(this,z),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var H=L.version.split(".");1===parseInt(H[0],10)&&parseInt(H[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var S=this._map;S&&(S.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer((function(L){this._deletableLayers.addLayer(L),L.fire("revert-deleted",{layer:L})}),this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer((function(L){this._removeLayer({layer:L})}),this),this.save()},_enableLayerDelete:function(L){(L.layer||L.target||L).on("click",this._removeLayer,this)},_disableLayerDelete:function(L){var S=L.layer||L.target||L;S.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(S)},_removeLayer:function(L){var S=L.layer||L.target||L;this._deletableLayers.removeLayer(S),this._deletedLayers.addLayer(S),S.fire("deleted")},_onMouseMove:function(L){this._tooltip.updatePosition(L.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})},99965:function(){L.TileLayer.Iiif=L.TileLayer.extend({options:{continuousWorld:!0,tileSize:256,updateWhenIdle:!0,tileFormat:"jpg",fitBounds:!0,setMaxBounds:!1},initialize:function(S,z){(z=void 0!==z?z:{}).maxZoom&&(this._customMaxZoom=!0),z.tileSize&&(this._explicitTileSize=!0),z.quality&&(this._explicitQuality=!0),z=L.setOptions(this,z),this._infoPromise=null,this._infoUrl=S,this._baseUrl=this._templateUrl(),this._getInfo()},getTileUrl:function(S){var z=this,H=S.x,tt=S.y,it=z._getZoomForUrl(),nt=Math.pow(2,z.maxNativeZoom-it),ot=z.options.tileSize*nt,at=H*ot,rt=tt*ot,ht=Math.min(at+ot,z.x)-at,dt=Math.min(rt+ot,z.y)-rt,pt=Math.ceil(ht/nt)+",";return"ImageService3"===z.type&&(pt+=Math.ceil(dt/nt)),L.Util.template(this._baseUrl,L.extend({format:z.options.tileFormat,quality:z.quality,region:[at,rt,ht,dt].join(","),rotation:0,size:pt},this.options))},onAdd:function(S){var z=this;Promise.all([z._infoPromise]).then((function(){z._imageSizesOriginal=z._imageSizes.slice(0),S._layersMaxZoom=z.maxZoom,L.TileLayer.prototype.onAdd.call(z,S);for(var H=z._imageSizes[0],tt=z._map.getSize(),it=0,nt=1;nt<=5&&(H.x>tt.x||H.y>tt.y);nt++)H=H.divideBy(2),z._imageSizes.unshift(H),it=-nt;z.options.minZoom=it,z.options.minNativeZoom=it,z._prev_map_layersMinZoom=z._map._layersMinZoom,z._map._layersMinZoom=it,z.options.fitBounds&&z._fitBounds(),z.options.setMaxBounds&&z._setMaxBounds(),z.on("tileload",(function(L,S){var z=L.tile.naturalHeight,H=L.tile.naturalWidth;256===z&&256===H||(L.tile.style.width=H+"px",L.tile.style.height=z+"px")}))})).catch((function(L){console.error(L)}))},onRemove:function(S){var z=this;S._layersMinZoom=z._prev_map_layersMinZoom,z._imageSizes=z._imageSizesOriginal,z.options.setMaxBounds&&S.setMaxBounds(null),L.TileLayer.prototype.onRemove.call(z,S)},_fitBounds:function(){var S=this,z=S._getInitialZoom(S._map.getSize()),H=S._imageSizes.length-1-S.options.maxNativeZoom,tt=S._imageSizes[z+H],it=S._map.options.crs.pointToLatLng(L.point(0,tt.y),z),nt=S._map.options.crs.pointToLatLng(L.point(tt.x,0),z),ot=L.latLngBounds(it,nt);S._map.fitBounds(ot,!0)},_setMaxBounds:function(){var S=this,z=S._getInitialZoom(S._map.getSize()),H=S._imageSizes[z],tt=S._map.options.crs.pointToLatLng(L.point(0,H.y),z),it=S._map.options.crs.pointToLatLng(L.point(H.x,0),z),nt=L.latLngBounds(tt,it);S._map.setMaxBounds(nt,!0)},_getInfo:function(){var S=this;S._infoPromise=fetch(S._infoUrl).then((function(L){return L.json()})).catch((function(L){console.error(L)})).then((function(z){S.y=z.height,S.x=z.width;var H,tt,it,nt,ot,at=[],rt=[];function ceilLog2(L){return Math.ceil(Math.log(L)/Math.LN2)}z.profile instanceof Array?S.profile=z.profile[0]:S.profile=z.profile,S.type=z.type,S._setQuality(),S._explicitTileSize||(S.options.tileSize=256,z.tiles?S.options.tileSize=z.tiles[0].width:z.tile_width&&(S.options.tileSize=z.tile_width)),S.maxNativeZoom=Math.max(ceilLog2(S.x/S.options.tileSize),ceilLog2(S.y/S.options.tileSize),0),S.options.maxNativeZoom=S.maxNativeZoom,S._customMaxZoom&&S.options.maxZoom>S.maxNativeZoom?S.maxZoom=S.options.maxZoom:S.maxZoom=S.maxNativeZoom;for(var ht=0;ht<=S.maxZoom;ht++)H=Math.pow(2,S.maxNativeZoom-ht),tt=Math.ceil(S.x/H),it=Math.ceil(S.y/H),nt=Math.ceil(tt/S.options.tileSize),ot=Math.ceil(it/S.options.tileSize),at.push([nt,ot]),rt.push(L.point(tt,it));S._tierSizes=at,S._imageSizes=rt})).catch((function(L){console.error(L)}))},_setQuality:function(){var L=this,S=L.profile;if(!L._explicitQuality)if("object"==typeof S&&(S=S["@id"]),!0===/^http:\/\/library.stanford.edu\/iiif\/image-api\/1.1\/compliance.html.*$/.test(S))L.options.quality="native";else L.options.quality="default"},_infoToBaseUrl:function(){return this._infoUrl.replace("info.json","")},_templateUrl:function(){return this._infoToBaseUrl()+"{region}/{size}/{rotation}/{quality}.{format}"},_isValidTile:function(L){var S=this._getZoomForUrl(),z=this._tierSizes[S],H=L.x,tt=L.y;return S<0&&H>=0&&tt>=0||!!z&&!(H<0||z[0]<=H||tt<0||z[1]<=tt)},_tileShouldBeLoaded:function(L){return this._isValidTile(L)},_getInitialZoom:function(L){for(var S,z=this,H=z._imageSizes.length-1-z.options.maxNativeZoom,tt=z._imageSizes.length-1;tt>=0;tt--)if(.8*(S=z._imageSizes[tt]).x<L.x&&.8*S.y<L.y)return tt-H;return 2}}),L.tileLayer.iiif=function(S,z){return new L.TileLayer.Iiif(S,z)}},71576:function(S,z,H){var tt=H(20198);!function(){L.Control.FullScreen=L.Control.extend({options:{position:"topleft",title:"Full Screen",titleCancel:"Exit Full Screen",forceSeparateButton:!1,forcePseudoFullscreen:!1,fullscreenElement:!1},onAdd:function(S){var z,H="leaflet-control-zoom-fullscreen",tt="";return z=S.zoomControl&&!this.options.forceSeparateButton?S.zoomControl._container:L.DomUtil.create("div","leaflet-bar"),this.options.content?tt=this.options.content:H+=" fullscreen-icon",this._createButton(this.options.title,H,tt,z,this.toggleFullScreen,this),this._map.fullscreenControl=this,this._map.on("enterFullscreen exitFullscreen",this._toggleTitle,this),z},onRemove:function(z){L.DomEvent.off(this.link,"click",L.DomEvent.stopPropagation).off(this.link,"click",L.DomEvent.preventDefault).off(this.link,"click",this.toggleFullScreen,this),L.DomEvent.off(this._container,S.fullScreenEventName,L.DomEvent.stopPropagation).off(this._container,S.fullScreenEventName,L.DomEvent.preventDefault).off(this._container,S.fullScreenEventName,this._handleFullscreenChange,this),L.DomEvent.off(document,S.fullScreenEventName,L.DomEvent.stopPropagation).off(document,S.fullScreenEventName,L.DomEvent.preventDefault).off(document,S.fullScreenEventName,this._handleFullscreenChange,this)},_createButton:function(z,H,tt,it,nt,ot){return this.link=L.DomUtil.create("a",H,it),this.link.href="#",this.link.title=z,this.link.innerHTML=tt,this.link.setAttribute("role","button"),this.link.setAttribute("aria-label",z),L.DomEvent.on(this.link,"click",L.DomEvent.stopPropagation).on(this.link,"click",L.DomEvent.preventDefault).on(this.link,"click",nt,ot),L.DomEvent.on(it,S.fullScreenEventName,L.DomEvent.stopPropagation).on(it,S.fullScreenEventName,L.DomEvent.preventDefault).on(it,S.fullScreenEventName,this._handleFullscreenChange,ot),L.DomEvent.on(document,S.fullScreenEventName,L.DomEvent.stopPropagation).on(document,S.fullScreenEventName,L.DomEvent.preventDefault).on(document,S.fullScreenEventName,this._handleFullscreenChange,ot),this.link},toggleFullScreen:function(){var z=this._map;z._exitFired=!1,z._isFullscreen?(S.supportsFullScreen&&!this.options.forcePseudoFullscreen?S.cancelFullScreen():L.DomUtil.removeClass(this.options.fullscreenElement?this.options.fullscreenElement:z._container,"leaflet-pseudo-fullscreen"),z.fire("exitFullscreen"),z._exitFired=!0,z._isFullscreen=!1):(S.supportsFullScreen&&!this.options.forcePseudoFullscreen?S.requestFullScreen(this.options.fullscreenElement?this.options.fullscreenElement:z._container):L.DomUtil.addClass(this.options.fullscreenElement?this.options.fullscreenElement:z._container,"leaflet-pseudo-fullscreen"),z.fire("enterFullscreen"),z._isFullscreen=!0)},_toggleTitle:function(){this.link.title=this._map._isFullscreen?this.options.title:this.options.titleCancel},_handleFullscreenChange:function(){var L=this._map;L.invalidateSize(),S.isFullScreen()||L._exitFired||(L.fire("exitFullscreen"),L._exitFired=!0,L._isFullscreen=!1)}}),L.Map.include({toggleFullscreen:function(){this.fullscreenControl.toggleFullScreen()}}),L.Map.addInitHook((function(){this.options.fullscreenControl&&this.addControl(L.control.fullscreen(this.options.fullscreenControlOptions))})),L.control.fullscreen=function(S){return new L.Control.FullScreen(S)};var S={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},z="webkit moz o ms khtml".split(" ");if(void 0!==document.exitFullscreen)S.supportsFullScreen=!0;else{for(var H=0,it=z.length;H<it;H++)if(S.prefix=z[H],void 0!==document[S.prefix+"CancelFullScreen"]){S.supportsFullScreen=!0;break}void 0!==document.msExitFullscreen&&(S.prefix="ms",S.supportsFullScreen=!0)}S.supportsFullScreen&&("ms"===S.prefix?S.fullScreenEventName="MSFullscreenChange":S.fullScreenEventName=S.prefix+"fullscreenchange",S.isFullScreen=function(){switch(this.prefix){case"":return document.fullscreen;case"webkit":return document.webkitIsFullScreen;case"ms":return document.msFullscreenElement;default:return document[this.prefix+"FullScreen"]}},S.requestFullScreen=function(L){switch(this.prefix){case"":return L.requestFullscreen();case"ms":return L.msRequestFullscreen();default:return L[this.prefix+"RequestFullScreen"]()}},S.cancelFullScreen=function(){switch(this.prefix){case"":return document.exitFullscreen();case"ms":return document.msExitFullscreen();default:return document[this.prefix+"CancelFullScreen"]()}}),void 0!==tt&&(tt.fn.requestFullScreen=function(){return this.each((function(){var L=tt(this);S.supportsFullScreen&&S.requestFullScreen(L)}))}),window.fullScreenApi=S}()},35605:function(S,z){!function(S){"use strict";var z=Object.freeze;function h(L){var S,z,H,tt;for(z=1,H=arguments.length;z<H;z++)for(S in tt=arguments[z])L[S]=tt[S];return L}Object.freeze=function(L){return L};var H=Object.create||function(L){return e.prototype=L,new e};function e(){}function a(L,S){var z=Array.prototype.slice;if(L.bind)return L.bind.apply(L,z.call(arguments,1));var H=z.call(arguments,2);return function(){return L.apply(S,H.length?H.concat(z.call(arguments)):arguments)}}var tt=0;function u(L){return L._leaflet_id=L._leaflet_id||++tt,L._leaflet_id}function o(L,S,z){var H,tt,it,nt;return nt=function(){H=!1,tt&&(it.apply(z,tt),tt=!1)},it=function(){H?tt=arguments:(L.apply(z,arguments),setTimeout(nt,S),H=!0)}}function r(L,S,z){var H=S[1],tt=S[0],it=H-tt;return L===H&&z?L:((L-tt)%it+it)%it+tt}function l(){return!1}function c(L,S){var z=Math.pow(10,void 0===S?6:S);return Math.round(L*z)/z}function _(L){return L.trim?L.trim():L.replace(/^\s+|\s+$/g,"")}function d(L){return _(L).split(/\s+/)}function p(L,S){for(var z in L.hasOwnProperty("options")||(L.options=L.options?H(L.options):{}),S)L.options[z]=S[z];return L.options}function m(L,S,z){var H=[];for(var tt in L)H.push(encodeURIComponent(z?tt.toUpperCase():tt)+"="+encodeURIComponent(L[tt]));return(S&&-1!==S.indexOf("?")?"&":"?")+H.join("&")}var it=/\{ *([\w_-]+) *\}/g;function g(L,S){return L.replace(it,(function(L,z){var H=S[z];if(void 0===H)throw new Error("No value provided for variable "+L);return"function"==typeof H&&(H=H(S)),H}))}var nt=Array.isArray||function(L){return"[object Array]"===Object.prototype.toString.call(L)};function y(L,S){for(var z=0;z<L.length;z++)if(L[z]===S)return z;return-1}var ot="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function w(L){return window["webkit"+L]||window["moz"+L]||window["ms"+L]}var at=0;function b(L){var S=+new Date,z=Math.max(0,16-(S-at));return at=S+z,window.setTimeout(L,z)}var rt=window.requestAnimationFrame||w("RequestAnimationFrame")||b,ht=window.cancelAnimationFrame||w("CancelAnimationFrame")||w("CancelRequestAnimationFrame")||function(L){window.clearTimeout(L)};function M(L,S,z){if(!z||rt!==b)return rt.call(window,a(L,S));L.call(S)}function C(L){L&&ht.call(window,L)}var dt=(Object.freeze||Object)({freeze:z,extend:h,create:H,bind:a,lastId:tt,stamp:u,throttle:o,wrapNum:r,falseFn:l,formatNum:c,trim:_,splitWords:d,setOptions:p,getParamString:m,template:g,isArray:nt,indexOf:y,emptyImageUrl:ot,requestFn:rt,cancelFn:ht,requestAnimFrame:M,cancelAnimFrame:C});function E(){}E.extend=function(S){function i(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var z=i.__super__=this.prototype,tt=H(z);for(var it in(tt.constructor=i).prototype=tt,this)this.hasOwnProperty(it)&&"prototype"!==it&&"__super__"!==it&&(i[it]=this[it]);return S.statics&&(h(i,S.statics),delete S.statics),S.includes&&(function(S){if("undefined"!=typeof L&&L&&L.Mixin){S=nt(S)?S:[S];for(var z=0;z<S.length;z++)S[z]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(S.includes),h.apply(null,[tt].concat(S.includes)),delete S.includes),tt.options&&(S.options=h(H(tt.options),S.options)),h(tt,S),tt._initHooks=[],tt.callInitHooks=function(){if(!this._initHooksCalled){z.callInitHooks&&z.callInitHooks.call(this),this._initHooksCalled=!0;for(var L=0,S=tt._initHooks.length;L<S;L++)tt._initHooks[L].call(this)}},i},E.include=function(L){return h(this.prototype,L),this},E.mergeOptions=function(L){return h(this.prototype.options,L),this},E.addInitHook=function(L){var S=Array.prototype.slice.call(arguments,1),z="function"==typeof L?L:function(){this[L].apply(this,S)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(z),this};var pt={on:function(L,S,z){if("object"==typeof L)for(var H in L)this._on(H,L[H],S);else for(var tt=0,it=(L=d(L)).length;tt<it;tt++)this._on(L[tt],S,z);return this},off:function(L,S,z){if(L)if("object"==typeof L)for(var H in L)this._off(H,L[H],S);else for(var tt=0,it=(L=d(L)).length;tt<it;tt++)this._off(L[tt],S,z);else delete this._events;return this},_on:function(L,S,z){this._events=this._events||{};var H=this._events[L];H||(H=[],this._events[L]=H),z===this&&(z=void 0);for(var tt={fn:S,ctx:z},it=H,nt=0,ot=it.length;nt<ot;nt++)if(it[nt].fn===S&&it[nt].ctx===z)return;it.push(tt)},_off:function(L,S,z){var H,tt,it;if(this._events&&(H=this._events[L]))if(S){if(z===this&&(z=void 0),H)for(tt=0,it=H.length;tt<it;tt++){var nt=H[tt];if(nt.ctx===z&&nt.fn===S)return nt.fn=l,this._firingCount&&(this._events[L]=H=H.slice()),void H.splice(tt,1)}}else{for(tt=0,it=H.length;tt<it;tt++)H[tt].fn=l;delete this._events[L]}},fire:function(L,S,z){if(!this.listens(L,z))return this;var H=h({},S,{type:L,target:this,sourceTarget:S&&S.sourceTarget||this});if(this._events){var tt=this._events[L];if(tt){this._firingCount=this._firingCount+1||1;for(var it=0,nt=tt.length;it<nt;it++){var ot=tt[it];ot.fn.call(ot.ctx||this,H)}this._firingCount--}}return z&&this._propagateEvent(H),this},listens:function(L,S){var z=this._events&&this._events[L];if(z&&z.length)return!0;if(S)for(var H in this._eventParents)if(this._eventParents[H].listens(L,S))return!0;return!1},once:function(L,S,z){if("object"==typeof L){for(var H in L)this.once(H,L[H],S);return this}var tt=a((function(){this.off(L,S,z).off(L,tt,z)}),this);return this.on(L,S,z).on(L,tt,z)},addEventParent:function(L){return this._eventParents=this._eventParents||{},this._eventParents[u(L)]=L,this},removeEventParent:function(L){return this._eventParents&&delete this._eventParents[u(L)],this},_propagateEvent:function(L){for(var S in this._eventParents)this._eventParents[S].fire(L.type,h({layer:L.target,propagatedFrom:L.target},L),!0)}};pt.addEventListener=pt.on,pt.removeEventListener=pt.clearAllEventListeners=pt.off,pt.addOneTimeEventListener=pt.once,pt.fireEvent=pt.fire,pt.hasEventListeners=pt.listens;var gt=E.extend(pt);function B(L,S,z){this.x=z?Math.round(L):L,this.y=z?Math.round(S):S}var _t=Math.trunc||function(L){return 0<L?Math.floor(L):Math.ceil(L)};function I(L,S,z){return L instanceof B?L:nt(L)?new B(L[0],L[1]):null==L?L:"object"==typeof L&&"x"in L&&"y"in L?new B(L.x,L.y):new B(L,S,z)}function O(L,S){if(L)for(var z=S?[L,S]:L,H=0,tt=z.length;H<tt;H++)this.extend(z[H])}function R(L,S){return!L||L instanceof O?L:new O(L,S)}function N(L,S){if(L)for(var z=S?[L,S]:L,H=0,tt=z.length;H<tt;H++)this.extend(z[H])}function D(L,S){return L instanceof N?L:new N(L,S)}function j(L,S,z){if(isNaN(L)||isNaN(S))throw new Error("Invalid LatLng object: ("+L+", "+S+")");this.lat=+L,this.lng=+S,void 0!==z&&(this.alt=+z)}function W(L,S,z){return L instanceof j?L:nt(L)&&"object"!=typeof L[0]?3===L.length?new j(L[0],L[1],L[2]):2===L.length?new j(L[0],L[1]):null:null==L?L:"object"==typeof L&&"lat"in L?new j(L.lat,"lng"in L?L.lng:L.lon,L.alt):void 0===S?null:new j(L,S,z)}B.prototype={clone:function(){return new B(this.x,this.y)},add:function(L){return this.clone()._add(I(L))},_add:function(L){return this.x+=L.x,this.y+=L.y,this},subtract:function(L){return this.clone()._subtract(I(L))},_subtract:function(L){return this.x-=L.x,this.y-=L.y,this},divideBy:function(L){return this.clone()._divideBy(L)},_divideBy:function(L){return this.x/=L,this.y/=L,this},multiplyBy:function(L){return this.clone()._multiplyBy(L)},_multiplyBy:function(L){return this.x*=L,this.y*=L,this},scaleBy:function(L){return new B(this.x*L.x,this.y*L.y)},unscaleBy:function(L){return new B(this.x/L.x,this.y/L.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=_t(this.x),this.y=_t(this.y),this},distanceTo:function(L){var S=(L=I(L)).x-this.x,z=L.y-this.y;return Math.sqrt(S*S+z*z)},equals:function(L){return(L=I(L)).x===this.x&&L.y===this.y},contains:function(L){return L=I(L),Math.abs(L.x)<=Math.abs(this.x)&&Math.abs(L.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},O.prototype={extend:function(L){return L=I(L),this.min||this.max?(this.min.x=Math.min(L.x,this.min.x),this.max.x=Math.max(L.x,this.max.x),this.min.y=Math.min(L.y,this.min.y),this.max.y=Math.max(L.y,this.max.y)):(this.min=L.clone(),this.max=L.clone()),this},getCenter:function(L){return new B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,L)},getBottomLeft:function(){return new B(this.min.x,this.max.y)},getTopRight:function(){return new B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(L){var S,z;return(L="number"==typeof L[0]||L instanceof B?I(L):R(L))instanceof O?(S=L.min,z=L.max):S=z=L,S.x>=this.min.x&&z.x<=this.max.x&&S.y>=this.min.y&&z.y<=this.max.y},intersects:function(L){L=R(L);var S=this.min,z=this.max,H=L.min,tt=L.max,it=tt.x>=S.x&&H.x<=z.x,nt=tt.y>=S.y&&H.y<=z.y;return it&&nt},overlaps:function(L){L=R(L);var S=this.min,z=this.max,H=L.min,tt=L.max,it=tt.x>S.x&&H.x<z.x,nt=tt.y>S.y&&H.y<z.y;return it&&nt},isValid:function(){return!(!this.min||!this.max)}},N.prototype={extend:function(L){var S,z,H=this._southWest,tt=this._northEast;if(L instanceof j)z=S=L;else{if(!(L instanceof N))return L?this.extend(W(L)||D(L)):this;if(S=L._southWest,z=L._northEast,!S||!z)return this}return H||tt?(H.lat=Math.min(S.lat,H.lat),H.lng=Math.min(S.lng,H.lng),tt.lat=Math.max(z.lat,tt.lat),tt.lng=Math.max(z.lng,tt.lng)):(this._southWest=new j(S.lat,S.lng),this._northEast=new j(z.lat,z.lng)),this},pad:function(L){var S=this._southWest,z=this._northEast,H=Math.abs(S.lat-z.lat)*L,tt=Math.abs(S.lng-z.lng)*L;return new N(new j(S.lat-H,S.lng-tt),new j(z.lat+H,z.lng+tt))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(L){L="number"==typeof L[0]||L instanceof j||"lat"in L?W(L):D(L);var S,z,H=this._southWest,tt=this._northEast;return L instanceof N?(S=L.getSouthWest(),z=L.getNorthEast()):S=z=L,S.lat>=H.lat&&z.lat<=tt.lat&&S.lng>=H.lng&&z.lng<=tt.lng},intersects:function(L){L=D(L);var S=this._southWest,z=this._northEast,H=L.getSouthWest(),tt=L.getNorthEast(),it=tt.lat>=S.lat&&H.lat<=z.lat,nt=tt.lng>=S.lng&&H.lng<=z.lng;return it&&nt},overlaps:function(L){L=D(L);var S=this._southWest,z=this._northEast,H=L.getSouthWest(),tt=L.getNorthEast(),it=tt.lat>S.lat&&H.lat<z.lat,nt=tt.lng>S.lng&&H.lng<z.lng;return it&&nt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(L,S){return!!L&&(L=D(L),this._southWest.equals(L.getSouthWest(),S)&&this._northEast.equals(L.getNorthEast(),S))},isValid:function(){return!(!this._southWest||!this._northEast)}};var bt,xt={latLngToPoint:function(L,S){var z=this.projection.project(L),H=this.scale(S);return this.transformation._transform(z,H)},pointToLatLng:function(L,S){var z=this.scale(S),H=this.transformation.untransform(L,z);return this.projection.unproject(H)},project:function(L){return this.projection.project(L)},unproject:function(L){return this.projection.unproject(L)},scale:function(L){return 256*Math.pow(2,L)},zoom:function(L){return Math.log(L/256)/Math.LN2},getProjectedBounds:function(L){if(this.infinite)return null;var S=this.projection.bounds,z=this.scale(L);return new O(this.transformation.transform(S.min,z),this.transformation.transform(S.max,z))},infinite:!(j.prototype={equals:function(L,S){return!!L&&(L=W(L),Math.max(Math.abs(this.lat-L.lat),Math.abs(this.lng-L.lng))<=(void 0===S?1e-9:S))},toString:function(L){return"LatLng("+c(this.lat,L)+", "+c(this.lng,L)+")"},distanceTo:function(L){return kt.distance(this,W(L))},wrap:function(){return kt.wrapLatLng(this)},toBounds:function(L){var S=180*L/40075017,z=S/Math.cos(Math.PI/180*this.lat);return D([this.lat-S,this.lng-z],[this.lat+S,this.lng+z])},clone:function(){return new j(this.lat,this.lng,this.alt)}}),wrapLatLng:function(L){var S=this.wrapLng?r(L.lng,this.wrapLng,!0):L.lng;return new j(this.wrapLat?r(L.lat,this.wrapLat,!0):L.lat,S,L.alt)},wrapLatLngBounds:function(L){var S=L.getCenter(),z=this.wrapLatLng(S),H=S.lat-z.lat,tt=S.lng-z.lng;if(0==H&&0==tt)return L;var it=L.getSouthWest(),nt=L.getNorthEast();return new N(new j(it.lat-H,it.lng-tt),new j(nt.lat-H,nt.lng-tt))}},kt=h({},xt,{wrapLng:[-180,180],R:6371e3,distance:function(L,S){var z=Math.PI/180,H=L.lat*z,tt=S.lat*z,it=Math.sin((S.lat-L.lat)*z/2),nt=Math.sin((S.lng-L.lng)*z/2),ot=it*it+Math.cos(H)*Math.cos(tt)*nt*nt,at=2*Math.atan2(Math.sqrt(ot),Math.sqrt(1-ot));return this.R*at}}),Ct=6378137,Lt={R:Ct,MAX_LATITUDE:85.0511287798,project:function(L){var S=Math.PI/180,z=this.MAX_LATITUDE,H=Math.max(Math.min(z,L.lat),-z),tt=Math.sin(H*S);return new B(this.R*L.lng*S,this.R*Math.log((1+tt)/(1-tt))/2)},unproject:function(L){var S=180/Math.PI;return new j((2*Math.atan(Math.exp(L.y/this.R))-Math.PI/2)*S,L.x*S/this.R)},bounds:(bt=Ct*Math.PI,new O([-bt,-bt],[bt,bt]))};function G(L,S,z,H){if(nt(L))return this._a=L[0],this._b=L[1],this._c=L[2],void(this._d=L[3]);this._a=L,this._b=S,this._c=z,this._d=H}function K(L,S,z,H){return new G(L,S,z,H)}G.prototype={transform:function(L,S){return this._transform(L.clone(),S)},_transform:function(L,S){return S=S||1,L.x=S*(this._a*L.x+this._b),L.y=S*(this._c*L.y+this._d),L},untransform:function(L,S){return S=S||1,new B((L.x/S-this._b)/this._a,(L.y/S-this._d)/this._c)}};var Tt,Et=h({},kt,{code:"EPSG:3857",projection:Lt,transformation:(Tt=.5/(Math.PI*Lt.R),K(Tt,.5,-Tt,.5))}),Mt=h({},Et,{code:"EPSG:900913"});function $(L){return document.createElementNS("http://www.w3.org/2000/svg",L)}function Q(L,S){var z,H,tt,it,nt,ot,at="";for(z=0,tt=L.length;z<tt;z++){for(H=0,it=(nt=L[z]).length;H<it;H++)at+=(H?"L":"M")+(ot=nt[H]).x+" "+ot.y;at+=S?oi?"z":"x":""}return at||"M0 0"}var Pt=document.documentElement.style,Dt="ActiveXObject"in window,It=Dt&&!document.addEventListener,At="msLaunchUri"in navigator&&!("documentMode"in document),Ot=Bt("webkit"),Nt=Bt("android"),zt=Bt("android 2")||Bt("android 3"),Rt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ht=Nt&&Bt("Google")&&Rt<537&&!("AudioNode"in window),Wt=!!window.opera,Zt=Bt("chrome"),Yt=Bt("gecko")&&!Ot&&!Wt&&!Dt,Kt=!Zt&&Bt("safari"),Xt=Bt("phantom"),Qt="OTransition"in Pt,te=0===navigator.platform.indexOf("Win"),ee=Dt&&"transition"in Pt,re="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!zt,ke="MozPerspective"in Pt,Pe=!window.L_DISABLE_3D&&(ee||re||ke)&&!Qt&&!Xt,Ae="undefined"!=typeof orientation||Bt("mobile"),Ne=Ae&&Ot,ze=Ae&&re,Re=!window.PointerEvent&&window.MSPointerEvent,We=!(Ot||!window.PointerEvent&&!Re),Qe=!window.L_NO_TOUCH&&(We||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),ti=Ae&&Wt,ei=Ae&&Yt,ii=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),St=function(){var L=!1;try{var S=Object.defineProperty({},"passive",{get:function(){L=!0}});window.addEventListener("testPassiveEventSupport",l,S),window.removeEventListener("testPassiveEventSupport",l,S)}catch(L){}return L},ni=!!document.createElement("canvas").getContext,oi=!(!document.createElementNS||!$("svg").createSVGRect),si=!oi&&function(){try{var L=document.createElement("div");L.innerHTML='<v:shape adj="1"/>';var S=L.firstChild;return S.style.behavior="url(#default#VML)",S&&"object"==typeof S.adj}catch(L){return!1}}();function Bt(L){return 0<=navigator.userAgent.toLowerCase().indexOf(L)}var ri=(Object.freeze||Object)({ie:Dt,ielt9:It,edge:At,webkit:Ot,android:Nt,android23:zt,androidStock:Ht,opera:Wt,chrome:Zt,gecko:Yt,safari:Kt,phantom:Xt,opera12:Qt,win:te,ie3d:ee,webkit3d:re,gecko3d:ke,any3d:Pe,mobile:Ae,mobileWebkit:Ne,mobileWebkit3d:ze,msPointer:Re,pointer:We,touch:Qe,mobileOpera:ti,mobileGecko:ei,retina:ii,passiveEvents:St,canvas:ni,svg:oi,vml:si}),bi=Re?"MSPointerDown":"pointerdown",Bi=Re?"MSPointerMove":"pointermove",Fi=Re?"MSPointerUp":"pointerup",qi=Re?"MSPointerCancel":"pointercancel",Zi=["INPUT","SELECT","OPTION"],$i={},Vi=!1,Xi=0;function Ft(L,S,z,H){return"touchstart"===S?function(L,S,z){var H=a((function(L){if("mouse"!==L.pointerType&&L.MSPOINTER_TYPE_MOUSE&&L.pointerType!==L.MSPOINTER_TYPE_MOUSE){if(!(Zi.indexOf(L.target.tagName)<0))return;ji(L)}Gt(L,S)}));L["_leaflet_touchstart"+z]=H,L.addEventListener(bi,H,!1),Vi||(document.documentElement.addEventListener(bi,Ut,!0),document.documentElement.addEventListener(Bi,Vt,!0),document.documentElement.addEventListener(Fi,qt,!0),document.documentElement.addEventListener(qi,qt,!0),Vi=!0)}(L,z,H):"touchmove"===S?function(L,S,z){function n(L){(L.pointerType!==L.MSPOINTER_TYPE_MOUSE&&"mouse"!==L.pointerType||0!==L.buttons)&&Gt(L,S)}L["_leaflet_touchmove"+z]=n,L.addEventListener(Bi,n,!1)}(L,z,H):"touchend"===S&&function(L,S,z){function n(L){Gt(L,S)}L["_leaflet_touchend"+z]=n,L.addEventListener(Fi,n,!1),L.addEventListener(qi,n,!1)}(L,z,H),this}function Ut(L){$i[L.pointerId]=L,Xi++}function Vt(L){$i[L.pointerId]&&($i[L.pointerId]=L)}function qt(L){delete $i[L.pointerId],Xi--}function Gt(L,S){for(var z in L.touches=[],$i)L.touches.push($i[z]);L.changedTouches=[L],S(L)}var Ji=Re?"MSPointerDown":We?"pointerdown":"touchstart",sn=Re?"MSPointerUp":We?"pointerup":"touchend",cn="_leaflet_";function Jt(L,S,z){var H,tt,it=!1;function e(L){var S;if(We){if(!At||"mouse"===L.pointerType)return;S=Xi}else S=L.touches.length;if(!(1<S)){var z=Date.now(),nt=z-(H||z);tt=L.touches?L.touches[0]:L,it=0<nt&&nt<=250,H=z}}function n(L){if(it&&!tt.cancelBubble){if(We){if(!At||"mouse"===L.pointerType)return;var z,nt,ot={};for(nt in tt)z=tt[nt],ot[nt]=z&&z.bind?z.bind(tt):z;tt=ot}tt.type="dblclick",tt.button=0,S(tt),H=null}}return L[cn+Ji+z]=e,L[cn+sn+z]=n,L[cn+"dblclick"+z]=S,L.addEventListener(Ji,e,!!St&&{passive:!1}),L.addEventListener(sn,n,!!St&&{passive:!1}),L.addEventListener("dblclick",S,!1),this}function $t(L,S){var z=L[cn+Ji+S],H=L[cn+sn+S],tt=L[cn+"dblclick"+S];return L.removeEventListener(Ji,z,!!St&&{passive:!1}),L.removeEventListener(sn,H,!!St&&{passive:!1}),At||L.removeEventListener("dblclick",tt,!1),this}var hn,un,dn,mn,gn,vn=xi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bn=xi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),xn="webkitTransition"===bn||"OTransition"===bn?bn+"End":"transitionend";function ai(L){return"string"==typeof L?document.getElementById(L):L}function hi(L,S){var z=L.style[S]||L.currentStyle&&L.currentStyle[S];if((!z||"auto"===z)&&document.defaultView){var H=document.defaultView.getComputedStyle(L,null);z=H?H[S]:null}return"auto"===z?null:z}function ui(L,S,z){var H=document.createElement(L);return H.className=S||"",z&&z.appendChild(H),H}function li(L){var S=L.parentNode;S&&S.removeChild(L)}function ci(L){for(;L.firstChild;)L.removeChild(L.firstChild)}function _i(L){var S=L.parentNode;S&&S.lastChild!==L&&S.appendChild(L)}function di(L){var S=L.parentNode;S&&S.firstChild!==L&&S.insertBefore(L,S.firstChild)}function pi(L,S){if(void 0!==L.classList)return L.classList.contains(S);var z=vi(L);return 0<z.length&&new RegExp("(^|\\s)"+S+"(\\s|$)").test(z)}function mi(L,S){if(void 0!==L.classList)for(var z=d(S),H=0,tt=z.length;H<tt;H++)L.classList.add(z[H]);else if(!pi(L,S)){var it=vi(L);gi(L,(it?it+" ":"")+S)}}function fi(L,S){void 0!==L.classList?L.classList.remove(S):gi(L,_((" "+vi(L)+" ").replace(" "+S+" "," ")))}function gi(L,S){void 0===L.className.baseVal?L.className=S:L.className.baseVal=S}function vi(L){return L.correspondingElement&&(L=L.correspondingElement),void 0===L.className.baseVal?L.className:L.className.baseVal}function yi(L,S){"opacity"in L.style?L.style.opacity=S:"filter"in L.style&&function(L,S){var z=!1,H="DXImageTransform.Microsoft.Alpha";try{z=L.filters.item(H)}catch(L){if(1===S)return}S=Math.round(100*S),z?(z.Enabled=100!==S,z.Opacity=S):L.style.filter+=" progid:"+H+"(opacity="+S+")"}(L,S)}function xi(L){for(var S=document.documentElement.style,z=0;z<L.length;z++)if(L[z]in S)return L[z];return!1}function wi(L,S,z){var H=S||new B(0,0);L.style[vn]=(ee?"translate("+H.x+"px,"+H.y+"px)":"translate3d("+H.x+"px,"+H.y+"px,0)")+(z?" scale("+z+")":"")}function Pi(L,S){L._leaflet_pos=S,Pe?wi(L,S):(L.style.left=S.x+"px",L.style.top=S.y+"px")}function Li(L){return L._leaflet_pos||new B(0,0)}if("onselectstart"in document)hn=function(){ki(window,"selectstart",ji)},un=function(){Ai(window,"selectstart",ji)};else{var Cn=xi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);hn=function(){if(Cn){var L=document.documentElement.style;dn=L[Cn],L[Cn]="none"}},un=function(){Cn&&(document.documentElement.style[Cn]=dn,dn=void 0)}}function Ti(){ki(window,"dragstart",ji)}function zi(){Ai(window,"dragstart",ji)}function Mi(L){for(;-1===L.tabIndex;)L=L.parentNode;L.style&&(Ci(),gn=(mn=L).style.outline,L.style.outline="none",ki(window,"keydown",Ci))}function Ci(){mn&&(mn.style.outline=gn,gn=mn=void 0,Ai(window,"keydown",Ci))}function Si(L){for(;!((L=L.parentNode).offsetWidth&&L.offsetHeight||L===document.body););return L}function Ei(L){var S=L.getBoundingClientRect();return{x:S.width/L.offsetWidth||1,y:S.height/L.offsetHeight||1,boundingClientRect:S}}var Ln=(Object.freeze||Object)({TRANSFORM:vn,TRANSITION:bn,TRANSITION_END:xn,get:ai,getStyle:hi,create:ui,remove:li,empty:ci,toFront:_i,toBack:di,hasClass:pi,addClass:mi,removeClass:fi,setClass:gi,getClass:vi,setOpacity:yi,testProp:xi,setTransform:wi,setPosition:Pi,getPosition:Li,disableTextSelection:hn,enableTextSelection:un,disableImageDrag:Ti,enableImageDrag:zi,preventOutline:Mi,restoreOutline:Ci,getSizedParentNode:Si,getScale:Ei});function ki(L,S,z,H){if("object"==typeof S)for(var tt in S)Ii(L,tt,S[tt],z);else for(var it=0,nt=(S=d(S)).length;it<nt;it++)Ii(L,S[it],z,H);return this}var Sn="_leaflet_events";function Ai(L,S,z,H){if("object"==typeof S)for(var tt in S)Oi(L,tt,S[tt],z);else if(S)for(var it=0,nt=(S=d(S)).length;it<nt;it++)Oi(L,S[it],z,H);else{for(var ot in L[Sn])Oi(L,ot,L[Sn][ot]);delete L[Sn]}return this}function Ii(L,S,z,H){var tt=S+u(z)+(H?"_"+u(H):"");if(L[Sn]&&L[Sn][tt])return this;var s=function(S){return z.call(H||L,S||window.event)},it=s;We&&0===S.indexOf("touch")?Ft(L,S,s,tt):!Qe||"dblclick"!==S||We&&Zt?"addEventListener"in L?"mousewheel"===S?L.addEventListener("onwheel"in L?"wheel":"mousewheel",s,!!St&&{passive:!1}):"mouseenter"===S||"mouseleave"===S?(s=function(S){S=S||window.event,Yi(L,S)&&it(S)},L.addEventListener("mouseenter"===S?"mouseover":"mouseout",s,!1)):("click"===S&&Nt&&(s=function(L){!function(L,S){var z=L.timeStamp||L.originalEvent&&L.originalEvent.timeStamp,H=Hn&&z-Hn;if(H&&100<H&&H<500||L.target._simulatedClick&&!L._simulated)return Wi(L);Hn=z,S(L)}(L,it)}),L.addEventListener(S,s,!1)):"attachEvent"in L&&L.attachEvent("on"+S,s):Jt(L,s,tt),L[Sn]=L[Sn]||{},L[Sn][tt]=s}function Oi(L,S,z,H){var tt=S+u(z)+(H?"_"+u(H):""),it=L[Sn]&&L[Sn][tt];if(!it)return this;We&&0===S.indexOf("touch")?function(L,S,z){var H=L["_leaflet_"+S+z];"touchstart"===S?L.removeEventListener(bi,H,!1):"touchmove"===S?L.removeEventListener(Bi,H,!1):"touchend"===S&&(L.removeEventListener(Fi,H,!1),L.removeEventListener(qi,H,!1))}(L,S,tt):!Qe||"dblclick"!==S||We&&Zt?"removeEventListener"in L?"mousewheel"===S?L.removeEventListener("onwheel"in L?"wheel":"mousewheel",it,!!St&&{passive:!1}):L.removeEventListener("mouseenter"===S?"mouseover":"mouseleave"===S?"mouseout":S,it,!1):"detachEvent"in L&&L.detachEvent("on"+S,it):$t(L,tt),L[Sn][tt]=null}function Ri(L){return L.stopPropagation?L.stopPropagation():L.originalEvent?L.originalEvent._stopped=!0:L.cancelBubble=!0,Ki(L),this}function Ni(L){return Ii(L,"mousewheel",Ri),this}function Di(L){return ki(L,"mousedown touchstart dblclick",Ri),Ii(L,"click",Gi),this}function ji(L){return L.preventDefault?L.preventDefault():L.returnValue=!1,this}function Wi(L){return ji(L),Ri(L),this}function Hi(L,S){if(!S)return new B(L.clientX,L.clientY);var z=Ei(S),H=z.boundingClientRect;return new B((L.clientX-H.left)/z.x-S.clientLeft,(L.clientY-H.top)/z.y-S.clientTop)}var On=te&&Zt?2*window.devicePixelRatio:Yt?window.devicePixelRatio:1;function Ui(L){return At?L.wheelDeltaY/2:L.deltaY&&0===L.deltaMode?-L.deltaY/On:L.deltaY&&1===L.deltaMode?20*-L.deltaY:L.deltaY&&2===L.deltaMode?60*-L.deltaY:L.deltaX||L.deltaZ?0:L.wheelDelta?(L.wheelDeltaY||L.wheelDelta)/2:L.detail&&Math.abs(L.detail)<32765?20*-L.detail:L.detail?L.detail/-32765*60:0}var Hn,Wn={};function Gi(L){Wn[L.type]=!0}function Ki(L){var S=Wn[L.type];return Wn[L.type]=!1,S}function Yi(L,S){var z=S.relatedTarget;if(!z)return!0;try{for(;z&&z!==L;)z=z.parentNode}catch(L){return!1}return z!==L}var Gn=(Object.freeze||Object)({on:ki,off:Ai,stopPropagation:Ri,disableScrollPropagation:Ni,disableClickPropagation:Di,preventDefault:ji,stop:Wi,getMousePosition:Hi,getWheelDelta:Ui,fakeStop:Gi,skipped:Ki,isExternalTarget:Yi,addListener:ki,removeListener:Ai}),$n=gt.extend({run:function(L,S,z,H){this.stop(),this._el=L,this._inProgress=!0,this._duration=z||.25,this._easeOutPower=1/Math.max(H||.5,.2),this._startPos=Li(L),this._offset=S.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=M(this._animate,this),this._step()},_step:function(L){var S=+new Date-this._startTime,z=1e3*this._duration;S<z?this._runFrame(this._easeOut(S/z),L):(this._runFrame(1),this._complete())},_runFrame:function(L,S){var z=this._startPos.add(this._offset.multiplyBy(L));S&&z._round(),Pi(this._el,z),this.fire("step")},_complete:function(){C(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(L){return 1-Math.pow(1-L,this._easeOutPower)}}),Yn=gt.extend({options:{crs:Et,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(L,S){S=p(this,S),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(L),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),S.maxBounds&&this.setMaxBounds(S.maxBounds),void 0!==S.zoom&&(this._zoom=this._limitZoom(S.zoom)),S.center&&void 0!==S.zoom&&this.setView(W(S.center),S.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bn&&Pe&&!ti&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ki(this._proxy,xn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(L,S,z){return S=void 0===S?this._zoom:this._limitZoom(S),L=this._limitCenter(W(L),S,this.options.maxBounds),z=z||{},this._stop(),this._loaded&&!z.reset&&!0!==z&&(void 0!==z.animate&&(z.zoom=h({animate:z.animate},z.zoom),z.pan=h({animate:z.animate,duration:z.duration},z.pan)),this._zoom!==S?this._tryAnimatedZoom&&this._tryAnimatedZoom(L,S,z.zoom):this._tryAnimatedPan(L,z.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(L,S),this)},setZoom:function(L,S){return this._loaded?this.setView(this.getCenter(),L,{zoom:S}):(this._zoom=L,this)},zoomIn:function(L,S){return L=L||(Pe?this.options.zoomDelta:1),this.setZoom(this._zoom+L,S)},zoomOut:function(L,S){return L=L||(Pe?this.options.zoomDelta:1),this.setZoom(this._zoom-L,S)},setZoomAround:function(L,S,z){var H=this.getZoomScale(S),tt=this.getSize().divideBy(2),it=(L instanceof B?L:this.latLngToContainerPoint(L)).subtract(tt).multiplyBy(1-1/H),nt=this.containerPointToLatLng(tt.add(it));return this.setView(nt,S,{zoom:z})},_getBoundsCenterZoom:function(L,S){S=S||{},L=L.getBounds?L.getBounds():D(L);var z=I(S.paddingTopLeft||S.padding||[0,0]),H=I(S.paddingBottomRight||S.padding||[0,0]),tt=this.getBoundsZoom(L,!1,z.add(H));if((tt="number"==typeof S.maxZoom?Math.min(S.maxZoom,tt):tt)===1/0)return{center:L.getCenter(),zoom:tt};var it=H.subtract(z).divideBy(2),nt=this.project(L.getSouthWest(),tt),ot=this.project(L.getNorthEast(),tt);return{center:this.unproject(nt.add(ot).divideBy(2).add(it),tt),zoom:tt}},fitBounds:function(L,S){if(!(L=D(L)).isValid())throw new Error("Bounds are not valid.");var z=this._getBoundsCenterZoom(L,S);return this.setView(z.center,z.zoom,S)},fitWorld:function(L){return this.fitBounds([[-90,-180],[90,180]],L)},panTo:function(L,S){return this.setView(L,this._zoom,{pan:S})},panBy:function(L,S){if(S=S||{},!(L=I(L).round()).x&&!L.y)return this.fire("moveend");if(!0!==S.animate&&!this.getSize().contains(L))return this._resetView(this.unproject(this.project(this.getCenter()).add(L)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $n,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),S.noMoveStart||this.fire("movestart"),!1!==S.animate){mi(this._mapPane,"leaflet-pan-anim");var z=this._getMapPanePos().subtract(L).round();this._panAnim.run(this._mapPane,z,S.duration||.25,S.easeLinearity)}else this._rawPanBy(L),this.fire("move").fire("moveend");return this},flyTo:function(L,S,z){if(!1===(z=z||{}).animate||!Pe)return this.setView(L,S,z);this._stop();var H=this.project(this.getCenter()),tt=this.project(L),it=this.getSize(),nt=this._zoom;L=W(L),S=void 0===S?nt:S;var ot=Math.max(it.x,it.y),at=ot*this.getZoomScale(nt,S),rt=tt.distanceTo(H)||1,ht=1.42,dt=ht*ht;function e(L){var S=(at*at-ot*ot+(L?-1:1)*dt*dt*rt*rt)/(2*(L?at:ot)*dt*rt),z=Math.sqrt(S*S+1)-S;return z<1e-9?-18:Math.log(z)}function d(L){return(Math.exp(L)-Math.exp(-L))/2}function p(L){return(Math.exp(L)+Math.exp(-L))/2}var pt=e(0);function f(L){return ot*(p(pt)*function(L){return d(L)/p(L)}(pt+ht*L)-d(pt))/dt}var gt=Date.now(),_t=(e(1)-pt)/ht,bt=z.duration?1e3*z.duration:1e3*_t*.8;return this._moveStart(!0,z.noMoveStart),function t(){var z=(Date.now()-gt)/bt,it=function(L){return 1-Math.pow(1-L,1.5)}(z)*_t;z<=1?(this._flyToFrame=M(t,this),this._move(this.unproject(H.add(tt.subtract(H).multiplyBy(f(it)/rt)),nt),this.getScaleZoom(ot/function(L){return ot*(p(pt)/p(pt+ht*L))}(it),nt),{flyTo:!0})):this._move(L,S)._moveEnd(!0)}.call(this),this},flyToBounds:function(L,S){var z=this._getBoundsCenterZoom(L,S);return this.flyTo(z.center,z.zoom,S)},setMaxBounds:function(L){return(L=D(L)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=L,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(L){var S=this.options.minZoom;return this.options.minZoom=L,this._loaded&&S!==L&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(L):this},setMaxZoom:function(L){var S=this.options.maxZoom;return this.options.maxZoom=L,this._loaded&&S!==L&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(L):this},panInsideBounds:function(L,S){this._enforcingBounds=!0;var z=this.getCenter(),H=this._limitCenter(z,this._zoom,D(L));return z.equals(H)||this.panTo(H,S),this._enforcingBounds=!1,this},panInside:function(L,S){var z=I((S=S||{}).paddingTopLeft||S.padding||[0,0]),H=I(S.paddingBottomRight||S.padding||[0,0]),tt=this.getCenter(),it=this.project(tt),nt=this.project(L),ot=this.getPixelBounds(),at=ot.getSize().divideBy(2),rt=R([ot.min.add(z),ot.max.subtract(H)]);if(!rt.contains(nt)){this._enforcingBounds=!0;var ht=it.subtract(nt),dt=I(nt.x+ht.x,nt.y+ht.y);(nt.x<rt.min.x||nt.x>rt.max.x)&&(dt.x=it.x-ht.x,0<ht.x?dt.x+=at.x-z.x:dt.x-=at.x-H.x),(nt.y<rt.min.y||nt.y>rt.max.y)&&(dt.y=it.y-ht.y,0<ht.y?dt.y+=at.y-z.y:dt.y-=at.y-H.y),this.panTo(this.unproject(dt),S),this._enforcingBounds=!1}return this},invalidateSize:function(L){if(!this._loaded)return this;L=h({animate:!1,pan:!0},!0===L?{animate:!0}:L);var S=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var z=this.getSize(),H=S.divideBy(2).round(),tt=z.divideBy(2).round(),it=H.subtract(tt);return it.x||it.y?(L.animate&&L.pan?this.panBy(it):(L.pan&&this._rawPanBy(it),this.fire("move"),L.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:S,newSize:z})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(L){if(L=this._locateOptions=h({timeout:1e4,watch:!1},L),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var S=a(this._handleGeolocationResponse,this),z=a(this._handleGeolocationError,this);return L.watch?this._locationWatchId=navigator.geolocation.watchPosition(S,z,L):navigator.geolocation.getCurrentPosition(S,z,L),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(L){var S=L.code,z=L.message||(1===S?"permission denied":2===S?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:S,message:"Geolocation error: "+z+"."})},_handleGeolocationResponse:function(L){var S=new j(L.coords.latitude,L.coords.longitude),z=S.toBounds(2*L.coords.accuracy),H=this._locateOptions;if(H.setView){var tt=this.getBoundsZoom(z);this.setView(S,H.maxZoom?Math.min(tt,H.maxZoom):tt)}var it={latlng:S,bounds:z,timestamp:L.timestamp};for(var nt in L.coords)"number"==typeof L.coords[nt]&&(it[nt]=L.coords[nt]);this.fire("locationfound",it)},addHandler:function(L,S){if(!S)return this;var z=this[L]=new S(this);return this._handlers.push(z),this.options[L]&&z.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(L){this._container._leaflet_id=void 0,this._containerId=void 0}var L;for(L in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),li(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(C(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[L].remove();for(L in this._panes)li(this._panes[L]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(L,S){var z=ui("div","leaflet-pane"+(L?" leaflet-"+L.replace("Pane","")+"-pane":""),S||this._mapPane);return L&&(this._panes[L]=z),z},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var L=this.getPixelBounds();return new N(this.unproject(L.getBottomLeft()),this.unproject(L.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(L,S,z){L=D(L),z=I(z||[0,0]);var H=this.getZoom()||0,tt=this.getMinZoom(),it=this.getMaxZoom(),nt=L.getNorthWest(),ot=L.getSouthEast(),at=this.getSize().subtract(z),rt=R(this.project(ot,H),this.project(nt,H)).getSize(),ht=Pe?this.options.zoomSnap:1,dt=at.x/rt.x,pt=at.y/rt.y,gt=S?Math.max(dt,pt):Math.min(dt,pt);return H=this.getScaleZoom(gt,H),ht&&(H=Math.round(H/(ht/100))*(ht/100),H=S?Math.ceil(H/ht)*ht:Math.floor(H/ht)*ht),Math.max(tt,Math.min(it,H))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(L,S){var z=this._getTopLeftPoint(L,S);return new O(z,z.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(L){return this.options.crs.getProjectedBounds(void 0===L?this.getZoom():L)},getPane:function(L){return"string"==typeof L?this._panes[L]:L},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(L,S){var z=this.options.crs;return S=void 0===S?this._zoom:S,z.scale(L)/z.scale(S)},getScaleZoom:function(L,S){var z=this.options.crs;S=void 0===S?this._zoom:S;var H=z.zoom(L*z.scale(S));return isNaN(H)?1/0:H},project:function(L,S){return S=void 0===S?this._zoom:S,this.options.crs.latLngToPoint(W(L),S)},unproject:function(L,S){return S=void 0===S?this._zoom:S,this.options.crs.pointToLatLng(I(L),S)},layerPointToLatLng:function(L){var S=I(L).add(this.getPixelOrigin());return this.unproject(S)},latLngToLayerPoint:function(L){return this.project(W(L))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(L){return this.options.crs.wrapLatLng(W(L))},wrapLatLngBounds:function(L){return this.options.crs.wrapLatLngBounds(D(L))},distance:function(L,S){return this.options.crs.distance(W(L),W(S))},containerPointToLayerPoint:function(L){return I(L).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(L){return I(L).add(this._getMapPanePos())},containerPointToLatLng:function(L){var S=this.containerPointToLayerPoint(I(L));return this.layerPointToLatLng(S)},latLngToContainerPoint:function(L){return this.layerPointToContainerPoint(this.latLngToLayerPoint(W(L)))},mouseEventToContainerPoint:function(L){return Hi(L,this._container)},mouseEventToLayerPoint:function(L){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(L))},mouseEventToLatLng:function(L){return this.layerPointToLatLng(this.mouseEventToLayerPoint(L))},_initContainer:function(L){var S=this._container=ai(L);if(!S)throw new Error("Map container not found.");if(S._leaflet_id)throw new Error("Map container is already initialized.");ki(S,"scroll",this._onScroll,this),this._containerId=u(S)},_initLayout:function(){var L=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pe,mi(L,"leaflet-container"+(Qe?" leaflet-touch":"")+(ii?" leaflet-retina":"")+(It?" leaflet-oldie":"")+(Kt?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var S=hi(L,"position");"absolute"!==S&&"relative"!==S&&"fixed"!==S&&(L.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var L=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Pi(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(mi(L.markerPane,"leaflet-zoom-hide"),mi(L.shadowPane,"leaflet-zoom-hide"))},_resetView:function(L,S){Pi(this._mapPane,new B(0,0));var z=!this._loaded;this._loaded=!0,S=this._limitZoom(S),this.fire("viewprereset");var H=this._zoom!==S;this._moveStart(H,!1)._move(L,S)._moveEnd(H),this.fire("viewreset"),z&&this.fire("load")},_moveStart:function(L,S){return L&&this.fire("zoomstart"),S||this.fire("movestart"),this},_move:function(L,S,z){void 0===S&&(S=this._zoom);var H=this._zoom!==S;return this._zoom=S,this._lastCenter=L,this._pixelOrigin=this._getNewPixelOrigin(L),(H||z&&z.pinch)&&this.fire("zoom",z),this.fire("move",z)},_moveEnd:function(L){return L&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return C(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(L){Pi(this._mapPane,this._getMapPanePos().subtract(L))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(L){this._targets={};var S=L?Ai:ki;S((this._targets[u(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&S(window,"resize",this._onResize,this),Pe&&this.options.transform3DLimit&&(L?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){C(this._resizeRequest),this._resizeRequest=M((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var L=this._getMapPanePos();Math.max(Math.abs(L.x),Math.abs(L.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(L,S){for(var z,H=[],tt="mouseout"===S||"mouseover"===S,it=L.target||L.srcElement,nt=!1;it;){if((z=this._targets[u(it)])&&("click"===S||"preclick"===S)&&!L._simulated&&this._draggableMoved(z)){nt=!0;break}if(z&&z.listens(S,!0)){if(tt&&!Yi(it,L))break;if(H.push(z),tt)break}if(it===this._container)break;it=it.parentNode}return H.length||nt||tt||!Yi(it,L)||(H=[this]),H},_handleDOMEvent:function(L){if(this._loaded&&!Ki(L)){var S=L.type;"mousedown"!==S&&"keypress"!==S&&"keyup"!==S&&"keydown"!==S||Mi(L.target||L.srcElement),this._fireDOMEvent(L,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(L,S,z){if("click"===L.type){var H=h({},L);H.type="preclick",this._fireDOMEvent(H,H.type,z)}if(!L._stopped&&(z=(z||[]).concat(this._findEventTargets(L,S))).length){var tt=z[0];"contextmenu"===S&&tt.listens(S,!0)&&ji(L);var it={originalEvent:L};if("keypress"!==L.type&&"keydown"!==L.type&&"keyup"!==L.type){var nt=tt.getLatLng&&(!tt._radius||tt._radius<=10);it.containerPoint=nt?this.latLngToContainerPoint(tt.getLatLng()):this.mouseEventToContainerPoint(L),it.layerPoint=this.containerPointToLayerPoint(it.containerPoint),it.latlng=nt?tt.getLatLng():this.layerPointToLatLng(it.layerPoint)}for(var ot=0;ot<z.length;ot++)if(z[ot].fire(S,it,!0),it.originalEvent._stopped||!1===z[ot].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,S))return}},_draggableMoved:function(L){return(L=L.dragging&&L.dragging.enabled()?L:this).dragging&&L.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var L=0,S=this._handlers.length;L<S;L++)this._handlers[L].disable()},whenReady:function(L,S){return this._loaded?L.call(S||this,{target:this}):this.on("load",L,S),this},_getMapPanePos:function(){return Li(this._mapPane)||new B(0,0)},_moved:function(){var L=this._getMapPanePos();return L&&!L.equals([0,0])},_getTopLeftPoint:function(L,S){return(L&&void 0!==S?this._getNewPixelOrigin(L,S):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(L,S){var z=this.getSize()._divideBy(2);return this.project(L,S)._subtract(z)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(L,S,z){var H=this._getNewPixelOrigin(z,S);return this.project(L,S)._subtract(H)},_latLngBoundsToNewLayerBounds:function(L,S,z){var H=this._getNewPixelOrigin(z,S);return R([this.project(L.getSouthWest(),S)._subtract(H),this.project(L.getNorthWest(),S)._subtract(H),this.project(L.getSouthEast(),S)._subtract(H),this.project(L.getNorthEast(),S)._subtract(H)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(L){return this.latLngToLayerPoint(L).subtract(this._getCenterLayerPoint())},_limitCenter:function(L,S,z){if(!z)return L;var H=this.project(L,S),tt=this.getSize().divideBy(2),it=new O(H.subtract(tt),H.add(tt)),nt=this._getBoundsOffset(it,z,S);return nt.round().equals([0,0])?L:this.unproject(H.add(nt),S)},_limitOffset:function(L,S){if(!S)return L;var z=this.getPixelBounds(),H=new O(z.min.add(L),z.max.add(L));return L.add(this._getBoundsOffset(H,S))},_getBoundsOffset:function(L,S,z){var H=R(this.project(S.getNorthEast(),z),this.project(S.getSouthWest(),z)),tt=H.min.subtract(L.min),it=H.max.subtract(L.max);return new B(this._rebound(tt.x,-it.x),this._rebound(tt.y,-it.y))},_rebound:function(L,S){return 0<L+S?Math.round(L-S)/2:Math.max(0,Math.ceil(L))-Math.max(0,Math.floor(S))},_limitZoom:function(L){var S=this.getMinZoom(),z=this.getMaxZoom(),H=Pe?this.options.zoomSnap:1;return H&&(L=Math.round(L/H)*H),Math.max(S,Math.min(z,L))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){fi(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(L,S){var z=this._getCenterOffset(L)._trunc();return!(!0!==(S&&S.animate)&&!this.getSize().contains(z)||(this.panBy(z,S),0))},_createAnimProxy:function(){var L=this._proxy=ui("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(L),this.on("zoomanim",(function(L){var S=vn,z=this._proxy.style[S];wi(this._proxy,this.project(L.center,L.zoom),this.getZoomScale(L.zoom,1)),z===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){li(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var L=this.getCenter(),S=this.getZoom();wi(this._proxy,this.project(L,S),this.getZoomScale(S,1))},_catchTransitionEnd:function(L){this._animatingZoom&&0<=L.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(L,S,z){if(this._animatingZoom)return!0;if(z=z||{},!this._zoomAnimated||!1===z.animate||this._nothingToAnimate()||Math.abs(S-this._zoom)>this.options.zoomAnimationThreshold)return!1;var H=this.getZoomScale(S),tt=this._getCenterOffset(L)._divideBy(1-1/H);return!(!0!==z.animate&&!this.getSize().contains(tt)||(M((function(){this._moveStart(!0,!1)._animateZoom(L,S,!0)}),this),0))},_animateZoom:function(L,S,z,H){this._mapPane&&(z&&(this._animatingZoom=!0,this._animateToCenter=L,this._animateToZoom=S,mi(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:L,zoom:S,noUpdate:H}),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&fi(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),M((function(){this._moveEnd(!0)}),this))}});function Qi(L){return new Kn(L)}var Kn=E.extend({options:{position:"topright"},initialize:function(L){p(this,L)},getPosition:function(){return this.options.position},setPosition:function(L){var S=this._map;return S&&S.removeControl(this),this.options.position=L,S&&S.addControl(this),this},getContainer:function(){return this._container},addTo:function(L){this.remove(),this._map=L;var S=this._container=this.onAdd(L),z=this.getPosition(),H=L._controlCorners[z];return mi(S,"leaflet-control"),-1!==z.indexOf("bottom")?H.insertBefore(S,H.firstChild):H.appendChild(S),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(li(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(L){this._map&&L&&0<L.screenX&&0<L.screenY&&this._map.getContainer().focus()}});Yn.include({addControl:function(L){return L.addTo(this),this},removeControl:function(L){return L.remove(),this},_initControlPos:function(){var L=this._controlCorners={},S="leaflet-",z=this._controlContainer=ui("div",S+"control-container",this._container);function t(H,tt){var it=S+H+" "+S+tt;L[H+tt]=ui("div",it,z)}t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var L in this._controlCorners)li(this._controlCorners[L]);li(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Xn=Kn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(L,S,z,H){return z<H?-1:H<z?1:0}},initialize:function(L,S,z){for(var H in p(this,z),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,L)this._addLayer(L[H],H);for(H in S)this._addLayer(S[H],H,!0)},onAdd:function(L){this._initLayout(),this._update(),(this._map=L).on("zoomend",this._checkDisabledLayers,this);for(var S=0;S<this._layers.length;S++)this._layers[S].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(L){return Kn.prototype.addTo.call(this,L),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var L=0;L<this._layers.length;L++)this._layers[L].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(L,S){return this._addLayer(L,S),this._map?this._update():this},addOverlay:function(L,S){return this._addLayer(L,S,!0),this._map?this._update():this},removeLayer:function(L){L.off("add remove",this._onLayerChange,this);var S=this._getLayer(u(L));return S&&this._layers.splice(this._layers.indexOf(S),1),this._map?this._update():this},expand:function(){mi(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var L=this._map.getSize().y-(this._container.offsetTop+50);return L<this._section.clientHeight?(mi(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=L+"px"):fi(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return fi(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var L="leaflet-control-layers",S=this._container=ui("div",L),z=this.options.collapsed;S.setAttribute("aria-haspopup",!0),Di(S),Ni(S);var H=this._section=ui("section",L+"-list");z&&(this._map.on("click",this.collapse,this),Nt||ki(S,{mouseenter:this.expand,mouseleave:this.collapse},this));var tt=this._layersLink=ui("a",L+"-toggle",S);tt.href="#",tt.title="Layers",Qe?(ki(tt,"click",Wi),ki(tt,"click",this.expand,this)):ki(tt,"focus",this.expand,this),z||this.expand(),this._baseLayersList=ui("div",L+"-base",H),this._separator=ui("div",L+"-separator",H),this._overlaysList=ui("div",L+"-overlays",H),S.appendChild(H)},_getLayer:function(L){for(var S=0;S<this._layers.length;S++)if(this._layers[S]&&u(this._layers[S].layer)===L)return this._layers[S]},_addLayer:function(L,S,z){this._map&&L.on("add remove",this._onLayerChange,this),this._layers.push({layer:L,name:S,overlay:z}),this.options.sortLayers&&this._layers.sort(a((function(L,S){return this.options.sortFunction(L.layer,S.layer,L.name,S.name)}),this)),this.options.autoZIndex&&L.setZIndex&&(this._lastZIndex++,L.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ci(this._baseLayersList),ci(this._overlaysList),this._layerControlInputs=[];var L,S,z,H,tt=0;for(z=0;z<this._layers.length;z++)H=this._layers[z],this._addItem(H),S=S||H.overlay,L=L||!H.overlay,tt+=H.overlay?0:1;return this.options.hideSingleBase&&(L=L&&1<tt,this._baseLayersList.style.display=L?"":"none"),this._separator.style.display=S&&L?"":"none",this},_onLayerChange:function(L){this._handlingClick||this._update();var S=this._getLayer(u(L.target)),z=S.overlay?"add"===L.type?"overlayadd":"overlayremove":"add"===L.type?"baselayerchange":null;z&&this._map.fire(z,S)},_createRadioElement:function(L,S){var z='<input type="radio" class="leaflet-control-layers-selector" name="'+L+'"'+(S?' checked="checked"':"")+"/>",H=document.createElement("div");return H.innerHTML=z,H.firstChild},_addItem:function(L){var S,z=document.createElement("label"),H=this._map.hasLayer(L.layer);L.overlay?((S=document.createElement("input")).type="checkbox",S.className="leaflet-control-layers-selector",S.defaultChecked=H):S=this._createRadioElement("leaflet-base-layers_"+u(this),H),this._layerControlInputs.push(S),S.layerId=u(L.layer),ki(S,"click",this._onInputClick,this);var tt=document.createElement("span");tt.innerHTML=" "+L.name;var it=document.createElement("div");return z.appendChild(it),it.appendChild(S),it.appendChild(tt),(L.overlay?this._overlaysList:this._baseLayersList).appendChild(z),this._checkDisabledLayers(),z},_onInputClick:function(){var L,S,z=this._layerControlInputs,H=[],tt=[];this._handlingClick=!0;for(var it=z.length-1;0<=it;it--)L=z[it],S=this._getLayer(L.layerId).layer,L.checked?H.push(S):L.checked||tt.push(S);for(it=0;it<tt.length;it++)this._map.hasLayer(tt[it])&&this._map.removeLayer(tt[it]);for(it=0;it<H.length;it++)this._map.hasLayer(H[it])||this._map.addLayer(H[it]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var L,S,z=this._layerControlInputs,H=this._map.getZoom(),tt=z.length-1;0<=tt;tt--)L=z[tt],S=this._getLayer(L.layerId).layer,L.disabled=void 0!==S.options.minZoom&&H<S.options.minZoom||void 0!==S.options.maxZoom&&H>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Jn=Kn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(L){var S="leaflet-control-zoom",z=ui("div",S+" leaflet-bar"),H=this.options;return this._zoomInButton=this._createButton(H.zoomInText,H.zoomInTitle,S+"-in",z,this._zoomIn),this._zoomOutButton=this._createButton(H.zoomOutText,H.zoomOutTitle,S+"-out",z,this._zoomOut),this._updateDisabled(),L.on("zoomend zoomlevelschange",this._updateDisabled,this),z},onRemove:function(L){L.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(L){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(L.shiftKey?3:1))},_zoomOut:function(L){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(L.shiftKey?3:1))},_createButton:function(L,S,z,H,tt){var it=ui("a",z,H);return it.innerHTML=L,it.href="#",it.title=S,it.setAttribute("role","button"),it.setAttribute("aria-label",S),Di(it),ki(it,"click",Wi),ki(it,"click",tt,this),ki(it,"click",this._refocusOnMap,this),it},_updateDisabled:function(){var L=this._map,S="leaflet-disabled";fi(this._zoomInButton,S),fi(this._zoomOutButton,S),!this._disabled&&L._zoom!==L.getMinZoom()||mi(this._zoomOutButton,S),!this._disabled&&L._zoom!==L.getMaxZoom()||mi(this._zoomInButton,S)}});Yn.mergeOptions({zoomControl:!0}),Yn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Jn,this.addControl(this.zoomControl))}));var to=Kn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(L){var S="leaflet-control-scale",z=ui("div",S),H=this.options;return this._addScales(H,S+"-line",z),L.on(H.updateWhenIdle?"moveend":"move",this._update,this),L.whenReady(this._update,this),z},onRemove:function(L){L.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(L,S,z){L.metric&&(this._mScale=ui("div",S,z)),L.imperial&&(this._iScale=ui("div",S,z))},_update:function(){var L=this._map,S=L.getSize().y/2,z=L.distance(L.containerPointToLatLng([0,S]),L.containerPointToLatLng([this.options.maxWidth,S]));this._updateScales(z)},_updateScales:function(L){this.options.metric&&L&&this._updateMetric(L),this.options.imperial&&L&&this._updateImperial(L)},_updateMetric:function(L){var S=this._getRoundNum(L),z=S<1e3?S+" m":S/1e3+" km";this._updateScale(this._mScale,z,S/L)},_updateImperial:function(L){var S,z,H,tt=3.2808399*L;5280<tt?(S=tt/5280,z=this._getRoundNum(S),this._updateScale(this._iScale,z+" mi",z/S)):(H=this._getRoundNum(tt),this._updateScale(this._iScale,H+" ft",H/tt))},_updateScale:function(L,S,z){L.style.width=Math.round(this.options.maxWidth*z)+"px",L.innerHTML=S},_getRoundNum:function(L){var S=Math.pow(10,(Math.floor(L)+"").length-1),z=L/S;return S*(10<=z?10:5<=z?5:3<=z?3:2<=z?2:1)}}),eo=Kn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(L){p(this,L),this._attributions={}},onAdd:function(L){for(var S in(L.attributionControl=this)._container=ui("div","leaflet-control-attribution"),Di(this._container),L._layers)L._layers[S].getAttribution&&this.addAttribution(L._layers[S].getAttribution());return this._update(),this._container},setPrefix:function(L){return this.options.prefix=L,this._update(),this},addAttribution:function(L){return L&&(this._attributions[L]||(this._attributions[L]=0),this._attributions[L]++,this._update()),this},removeAttribution:function(L){return L&&this._attributions[L]&&(this._attributions[L]--,this._update()),this},_update:function(){if(this._map){var L=[];for(var S in this._attributions)this._attributions[S]&&L.push(S);var z=[];this.options.prefix&&z.push(this.options.prefix),L.length&&z.push(L.join(", ")),this._container.innerHTML=z.join(" | ")}}});Yn.mergeOptions({attributionControl:!0}),Yn.addInitHook((function(){this.options.attributionControl&&(new eo).addTo(this)})),Kn.Layers=Xn,Kn.Zoom=Jn,Kn.Scale=to,Kn.Attribution=eo,Qi.layers=function(L,S,z){return new Xn(L,S,z)},Qi.zoom=function(L){return new Jn(L)},Qi.scale=function(L){return new to(L)},Qi.attribution=function(L){return new eo(L)};var io=E.extend({initialize:function(L){this._map=L},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}});io.addTo=function(L,S){return L.addHandler(S,this),this};var no,oo={Events:pt},so=Qe?"touchstart mousedown":"mousedown",ao={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},ro={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},lo=gt.extend({options:{clickTolerance:3},initialize:function(L,S,z,H){p(this,H),this._element=L,this._dragStartTarget=S||L,this._preventOutline=z},enable:function(){this._enabled||(ki(this._dragStartTarget,so,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(lo._dragging===this&&this.finishDrag(),Ai(this._dragStartTarget,so,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(L){if(!L._simulated&&this._enabled&&(this._moved=!1,!pi(this._element,"leaflet-zoom-anim")&&!(lo._dragging||L.shiftKey||1!==L.which&&1!==L.button&&!L.touches||((lo._dragging=this)._preventOutline&&Mi(this._element),Ti(),hn(),this._moving)))){this.fire("down");var S=L.touches?L.touches[0]:L,z=Si(this._element);this._startPoint=new B(S.clientX,S.clientY),this._parentScale=Ei(z),ki(document,ro[L.type],this._onMove,this),ki(document,ao[L.type],this._onUp,this)}},_onMove:function(L){if(!L._simulated&&this._enabled)if(L.touches&&1<L.touches.length)this._moved=!0;else{var S=L.touches&&1===L.touches.length?L.touches[0]:L,z=new B(S.clientX,S.clientY)._subtract(this._startPoint);(z.x||z.y)&&(Math.abs(z.x)+Math.abs(z.y)<this.options.clickTolerance||(z.x/=this._parentScale.x,z.y/=this._parentScale.y,ji(L),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Li(this._element).subtract(z),mi(document.body,"leaflet-dragging"),this._lastTarget=L.target||L.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),mi(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(z),this._moving=!0,C(this._animRequest),this._lastEvent=L,this._animRequest=M(this._updatePosition,this,!0)))}},_updatePosition:function(){var L={originalEvent:this._lastEvent};this.fire("predrag",L),Pi(this._element,this._newPos),this.fire("drag",L)},_onUp:function(L){!L._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var L in fi(document.body,"leaflet-dragging"),this._lastTarget&&(fi(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ro)Ai(document,ro[L],this._onMove,this),Ai(document,ao[L],this._onUp,this);zi(),un(),this._moved&&this._moving&&(C(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,lo._dragging=!1}});function _e(L,S){if(!S||!L.length)return L.slice();var z=S*S;return function(L,S){var z=L.length,H=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(z);H[0]=H[z-1]=1,function t(L,S,z,H,tt){var it,nt,ot,at=0;for(nt=H+1;nt<=tt-1;nt++)at<(ot=ge(L[nt],L[H],L[tt],!0))&&(it=nt,at=ot);z<at&&(S[it]=1,t(L,S,z,H,it),t(L,S,z,it,tt))}(L,H,S,0,z-1);var tt,it=[];for(tt=0;tt<z;tt++)H[tt]&&it.push(L[tt]);return it}(L=function(L,S){for(var z=[L[0]],H=1,tt=0,it=L.length;H<it;H++)nt=L[H],S<(at=(ot=L[tt]).x-nt.x)*at+(rt=ot.y-nt.y)*rt&&(z.push(L[H]),tt=H);var nt,ot,at,rt;return tt<it-1&&z.push(L[it-1]),z}(L,z),z)}function de(L,S,z){return Math.sqrt(ge(L,S,z,!0))}function pe(L,S,z,H,tt){var it,nt,ot,at=H?no:fe(L,z),rt=fe(S,z);for(no=rt;;){if(!(at|rt))return[L,S];if(at&rt)return!1;ot=fe(nt=me(L,S,it=at||rt,z,tt),z),it===at?(L=nt,at=ot):(S=nt,rt=ot)}}function me(L,S,z,H,tt){var it,nt,ot=S.x-L.x,at=S.y-L.y,rt=H.min,ht=H.max;return 8&z?(it=L.x+ot*(ht.y-L.y)/at,nt=ht.y):4&z?(it=L.x+ot*(rt.y-L.y)/at,nt=rt.y):2&z?(it=ht.x,nt=L.y+at*(ht.x-L.x)/ot):1&z&&(it=rt.x,nt=L.y+at*(rt.x-L.x)/ot),new B(it,nt,tt)}function fe(L,S){var z=0;return L.x<S.min.x?z|=1:L.x>S.max.x&&(z|=2),L.y<S.min.y?z|=4:L.y>S.max.y&&(z|=8),z}function ge(L,S,z,H){var tt,it=S.x,nt=S.y,ot=z.x-it,at=z.y-nt,rt=ot*ot+at*at;return 0<rt&&(1<(tt=((L.x-it)*ot+(L.y-nt)*at)/rt)?(it=z.x,nt=z.y):0<tt&&(it+=ot*tt,nt+=at*tt)),ot=L.x-it,at=L.y-nt,H?ot*ot+at*at:new B(it,nt)}function ve(L){return!nt(L[0])||"object"!=typeof L[0][0]&&void 0!==L[0][0]}function ye(L){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ve(L)}var co=(Object.freeze||Object)({simplify:_e,pointToSegmentDistance:de,closestPointOnSegment:function(L,S,z){return ge(L,S,z)},clipSegment:pe,_getEdgeIntersection:me,_getBitCode:fe,_sqClosestPointOnSegment:ge,isFlat:ve,_flat:ye});function we(L,S,z){var H,tt,it,nt,ot,at,rt,ht,dt,pt=[1,4,2,8];for(tt=0,rt=L.length;tt<rt;tt++)L[tt]._code=fe(L[tt],S);for(nt=0;nt<4;nt++){for(ht=pt[nt],H=[],tt=0,it=(rt=L.length)-1;tt<rt;it=tt++)ot=L[tt],at=L[it],ot._code&ht?at._code&ht||((dt=me(at,ot,ht,S,z))._code=fe(dt,S),H.push(dt)):(at._code&ht&&((dt=me(at,ot,ht,S,z))._code=fe(dt,S),H.push(dt)),H.push(ot));L=H}return L}var ho,uo=(Object.freeze||Object)({clipPolygon:we}),po={project:function(L){return new B(L.lng,L.lat)},unproject:function(L){return new j(L.y,L.x)},bounds:new O([-180,-90],[180,90])},fo={R:6378137,R_MINOR:6356752.314245179,bounds:new O([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(L){var S=Math.PI/180,z=this.R,H=L.lat*S,tt=this.R_MINOR/z,it=Math.sqrt(1-tt*tt),nt=it*Math.sin(H),ot=Math.tan(Math.PI/4-H/2)/Math.pow((1-nt)/(1+nt),it/2);return H=-z*Math.log(Math.max(ot,1e-10)),new B(L.lng*S*z,H)},unproject:function(L){for(var S,z=180/Math.PI,H=this.R,tt=this.R_MINOR/H,it=Math.sqrt(1-tt*tt),nt=Math.exp(-L.y/H),ot=Math.PI/2-2*Math.atan(nt),at=0,rt=.1;at<15&&1e-7<Math.abs(rt);at++)S=it*Math.sin(ot),S=Math.pow((1-S)/(1+S),it/2),ot+=rt=Math.PI/2-2*Math.atan(nt*S)-ot;return new j(ot*z,L.x*z/H)}},mo=(Object.freeze||Object)({LonLat:po,Mercator:fo,SphericalMercator:Lt}),go=h({},kt,{code:"EPSG:3395",projection:fo,transformation:(ho=.5/(Math.PI*fo.R),K(ho,.5,-ho,.5))}),vo=h({},kt,{code:"EPSG:4326",projection:po,transformation:K(1/180,1,-1/180,.5)}),_o=h({},xt,{projection:po,transformation:K(1,0,-1,0),scale:function(L){return Math.pow(2,L)},zoom:function(L){return Math.log(L)/Math.LN2},distance:function(L,S){var z=S.lng-L.lng,H=S.lat-L.lat;return Math.sqrt(z*z+H*H)},infinite:!0});xt.Earth=kt,xt.EPSG3395=go,xt.EPSG3857=Et,xt.EPSG900913=Mt,xt.EPSG4326=vo,xt.Simple=_o;var bo=gt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(L){return L.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(L){return L&&L.removeLayer(this),this},getPane:function(L){return this._map.getPane(L?this.options[L]||L:this.options.pane)},addInteractiveTarget:function(L){return this._map._targets[u(L)]=this},removeInteractiveTarget:function(L){return delete this._map._targets[u(L)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(L){var S=L.target;if(S.hasLayer(this)){if(this._map=S,this._zoomAnimated=S._zoomAnimated,this.getEvents){var z=this.getEvents();S.on(z,this),this.once("remove",(function(){S.off(z,this)}),this)}this.onAdd(S),this.getAttribution&&S.attributionControl&&S.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),S.fire("layeradd",{layer:this})}}});Yn.include({addLayer:function(L){if(!L._layerAdd)throw new Error("The provided object is not a Layer.");var S=u(L);return this._layers[S]||((this._layers[S]=L)._mapToAdd=this,L.beforeAdd&&L.beforeAdd(this),this.whenReady(L._layerAdd,L)),this},removeLayer:function(L){var S=u(L);return this._layers[S]&&(this._loaded&&L.onRemove(this),L.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(L.getAttribution()),delete this._layers[S],this._loaded&&(this.fire("layerremove",{layer:L}),L.fire("remove")),L._map=L._mapToAdd=null),this},hasLayer:function(L){return!!L&&u(L)in this._layers},eachLayer:function(L,S){for(var z in this._layers)L.call(S,this._layers[z]);return this},_addLayers:function(L){for(var S=0,z=(L=L?nt(L)?L:[L]:[]).length;S<z;S++)this.addLayer(L[S])},_addZoomLimit:function(L){!isNaN(L.options.maxZoom)&&isNaN(L.options.minZoom)||(this._zoomBoundLayers[u(L)]=L,this._updateZoomLevels())},_removeZoomLimit:function(L){var S=u(L);this._zoomBoundLayers[S]&&(delete this._zoomBoundLayers[S],this._updateZoomLevels())},_updateZoomLevels:function(){var L=1/0,S=-1/0,z=this._getZoomSpan();for(var H in this._zoomBoundLayers){var tt=this._zoomBoundLayers[H].options;L=void 0===tt.minZoom?L:Math.min(L,tt.minZoom),S=void 0===tt.maxZoom?S:Math.max(S,tt.maxZoom)}this._layersMaxZoom=S===-1/0?void 0:S,this._layersMinZoom=L===1/0?void 0:L,z!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var yo=bo.extend({initialize:function(L,S){var z,H;if(p(this,S),this._layers={},L)for(z=0,H=L.length;z<H;z++)this.addLayer(L[z])},addLayer:function(L){var S=this.getLayerId(L);return this._layers[S]=L,this._map&&this._map.addLayer(L),this},removeLayer:function(L){var S=L in this._layers?L:this.getLayerId(L);return this._map&&this._layers[S]&&this._map.removeLayer(this._layers[S]),delete this._layers[S],this},hasLayer:function(L){return!!L&&(L in this._layers||this.getLayerId(L)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(L){var S,z,H=Array.prototype.slice.call(arguments,1);for(S in this._layers)(z=this._layers[S])[L]&&z[L].apply(z,H);return this},onAdd:function(L){this.eachLayer(L.addLayer,L)},onRemove:function(L){this.eachLayer(L.removeLayer,L)},eachLayer:function(L,S){for(var z in this._layers)L.call(S,this._layers[z]);return this},getLayer:function(L){return this._layers[L]},getLayers:function(){var L=[];return this.eachLayer(L.push,L),L},setZIndex:function(L){return this.invoke("setZIndex",L)},getLayerId:function(L){return u(L)}}),wo=yo.extend({addLayer:function(L){return this.hasLayer(L)?this:(L.addEventParent(this),yo.prototype.addLayer.call(this,L),this.fire("layeradd",{layer:L}))},removeLayer:function(L){return this.hasLayer(L)?(L in this._layers&&(L=this._layers[L]),L.removeEventParent(this),yo.prototype.removeLayer.call(this,L),this.fire("layerremove",{layer:L})):this},setStyle:function(L){return this.invoke("setStyle",L)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var L=new N;for(var S in this._layers){var z=this._layers[S];L.extend(z.getBounds?z.getBounds():z.getLatLng())}return L}}),xo=E.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(L){p(this,L)},createIcon:function(L){return this._createIcon("icon",L)},createShadow:function(L){return this._createIcon("shadow",L)},_createIcon:function(L,S){var z=this._getIconUrl(L);if(!z){if("icon"===L)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var H=this._createImg(z,S&&"IMG"===S.tagName?S:null);return this._setIconStyles(H,L),H},_setIconStyles:function(L,S){var z=this.options,H=z[S+"Size"];"number"==typeof H&&(H=[H,H]);var tt=I(H),it=I("shadow"===S&&z.shadowAnchor||z.iconAnchor||tt&&tt.divideBy(2,!0));L.className="leaflet-marker-"+S+" "+(z.className||""),it&&(L.style.marginLeft=-it.x+"px",L.style.marginTop=-it.y+"px"),tt&&(L.style.width=tt.x+"px",L.style.height=tt.y+"px")},_createImg:function(L,S){return(S=S||document.createElement("img")).src=L,S},_getIconUrl:function(L){return ii&&this.options[L+"RetinaUrl"]||this.options[L+"Url"]}}),ko=xo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(L){return ko.imagePath||(ko.imagePath=this._detectIconPath()),(this.options.imagePath||ko.imagePath)+xo.prototype._getIconUrl.call(this,L)},_detectIconPath:function(){var L=ui("div","leaflet-default-icon-path",document.body),S=hi(L,"background-image")||hi(L,"backgroundImage");return document.body.removeChild(L),null===S||0!==S.indexOf("url")?"":S.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Co=io.extend({initialize:function(L){this._marker=L},addHooks:function(){var L=this._marker._icon;this._draggable||(this._draggable=new lo(L,L,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),mi(L,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&fi(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(L){var S=this._marker,z=S._map,H=this._marker.options.autoPanSpeed,tt=this._marker.options.autoPanPadding,it=Li(S._icon),nt=z.getPixelBounds(),ot=z.getPixelOrigin(),at=R(nt.min._subtract(ot).add(tt),nt.max._subtract(ot).subtract(tt));if(!at.contains(it)){var rt=I((Math.max(at.max.x,it.x)-at.max.x)/(nt.max.x-at.max.x)-(Math.min(at.min.x,it.x)-at.min.x)/(nt.min.x-at.min.x),(Math.max(at.max.y,it.y)-at.max.y)/(nt.max.y-at.max.y)-(Math.min(at.min.y,it.y)-at.min.y)/(nt.min.y-at.min.y)).multiplyBy(H);z.panBy(rt,{animate:!1}),this._draggable._newPos._add(rt),this._draggable._startPos._add(rt),Pi(S._icon,this._draggable._newPos),this._onDrag(L),this._panRequest=M(this._adjustPan.bind(this,L))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(L){this._marker.options.autoPan&&(C(this._panRequest),this._panRequest=M(this._adjustPan.bind(this,L)))},_onDrag:function(L){var S=this._marker,z=S._shadow,H=Li(S._icon),tt=S._map.layerPointToLatLng(H);z&&Pi(z,H),S._latlng=tt,L.latlng=tt,L.oldLatLng=this._oldLatLng,S.fire("move",L).fire("drag",L)},_onDragEnd:function(L){C(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",L)}}),Lo=bo.extend({options:{icon:new ko,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(L,S){p(this,S),this._latlng=W(L)},onAdd:function(L){this._zoomAnimated=this._zoomAnimated&&L.options.markerZoomAnimation,this._zoomAnimated&&L.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(L){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&L.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(L){var S=this._latlng;return this._latlng=W(L),this.update(),this.fire("move",{oldLatLng:S,latlng:this._latlng})},setZIndexOffset:function(L){return this.options.zIndexOffset=L,this.update()},getIcon:function(){return this.options.icon},setIcon:function(L){return this.options.icon=L,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var L=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(L)}return this},_initIcon:function(){var L=this.options,S="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),z=L.icon.createIcon(this._icon),H=!1;z!==this._icon&&(this._icon&&this._removeIcon(),H=!0,L.title&&(z.title=L.title),"IMG"===z.tagName&&(z.alt=L.alt||"")),mi(z,S),L.keyboard&&(z.tabIndex="0"),this._icon=z,L.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var tt=L.icon.createShadow(this._shadow),it=!1;tt!==this._shadow&&(this._removeShadow(),it=!0),tt&&(mi(tt,S),tt.alt=""),this._shadow=tt,L.opacity<1&&this._updateOpacity(),H&&this.getPane().appendChild(this._icon),this._initInteraction(),tt&&it&&this.getPane(L.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),li(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&li(this._shadow),this._shadow=null},_setPos:function(L){this._icon&&Pi(this._icon,L),this._shadow&&Pi(this._shadow,L),this._zIndex=L.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(L){this._icon&&(this._icon.style.zIndex=this._zIndex+L)},_animateZoom:function(L){var S=this._map._latLngToNewLayerPoint(this._latlng,L.zoom,L.center).round();this._setPos(S)},_initInteraction:function(){if(this.options.interactive&&(mi(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Co)){var L=this.options.draggable;this.dragging&&(L=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Co(this),L&&this.dragging.enable()}},setOpacity:function(L){return this.options.opacity=L,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var L=this.options.opacity;this._icon&&yi(this._icon,L),this._shadow&&yi(this._shadow,L)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),To=bo.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(L){this._renderer=L.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(L){return p(this,L),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&L&&L.hasOwnProperty("weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Eo=To.extend({options:{fill:!0,radius:10},initialize:function(L,S){p(this,S),this._latlng=W(L),this._radius=this.options.radius},setLatLng:function(L){var S=this._latlng;return this._latlng=W(L),this.redraw(),this.fire("move",{oldLatLng:S,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(L){return this.options.radius=this._radius=L,this.redraw()},getRadius:function(){return this._radius},setStyle:function(L){var S=L&&L.radius||this._radius;return To.prototype.setStyle.call(this,L),this.setRadius(S),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var L=this._radius,S=this._radiusY||L,z=this._clickTolerance(),H=[L+z,S+z];this._pxBounds=new O(this._point.subtract(H),this._point.add(H))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(L){return L.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),So=Eo.extend({initialize:function(L,S,z){if("number"==typeof S&&(S=h({},z,{radius:S})),p(this,S),this._latlng=W(L),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(L){return this._mRadius=L,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var L=[this._radius,this._radiusY||this._radius];return new N(this._map.layerPointToLatLng(this._point.subtract(L)),this._map.layerPointToLatLng(this._point.add(L)))},setStyle:To.prototype.setStyle,_project:function(){var L=this._latlng.lng,S=this._latlng.lat,z=this._map,H=z.options.crs;if(H.distance===kt.distance){var tt=Math.PI/180,it=this._mRadius/kt.R/tt,nt=z.project([S+it,L]),ot=z.project([S-it,L]),at=nt.add(ot).divideBy(2),rt=z.unproject(at).lat,ht=Math.acos((Math.cos(it*tt)-Math.sin(S*tt)*Math.sin(rt*tt))/(Math.cos(S*tt)*Math.cos(rt*tt)))/tt;!isNaN(ht)&&0!==ht||(ht=it/Math.cos(Math.PI/180*S)),this._point=at.subtract(z.getPixelOrigin()),this._radius=isNaN(ht)?0:at.x-z.project([rt,L-ht]).x,this._radiusY=at.y-nt.y}else{var dt=H.unproject(H.project(this._latlng).subtract([this._mRadius,0]));this._point=z.latLngToLayerPoint(this._latlng),this._radius=this._point.x-z.latLngToLayerPoint(dt).x}this._updateBounds()}}),Mo=To.extend({options:{smoothFactor:1,noClip:!1},initialize:function(L,S){p(this,S),this._setLatLngs(L)},getLatLngs:function(){return this._latlngs},setLatLngs:function(L){return this._setLatLngs(L),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(L){for(var S,z,H=1/0,tt=null,it=ge,nt=0,ot=this._parts.length;nt<ot;nt++)for(var at=this._parts[nt],rt=1,ht=at.length;rt<ht;rt++){var dt=it(L,S=at[rt-1],z=at[rt],!0);dt<H&&(H=dt,tt=it(L,S,z))}return tt&&(tt.distance=Math.sqrt(H)),tt},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var L,S,z,H,tt,it,nt,ot=this._rings[0],at=ot.length;if(!at)return null;for(S=L=0;L<at-1;L++)S+=ot[L].distanceTo(ot[L+1])/2;if(0===S)return this._map.layerPointToLatLng(ot[0]);for(H=L=0;L<at-1;L++)if(tt=ot[L],it=ot[L+1],S<(H+=z=tt.distanceTo(it)))return nt=(H-S)/z,this._map.layerPointToLatLng([it.x-nt*(it.x-tt.x),it.y-nt*(it.y-tt.y)])},getBounds:function(){return this._bounds},addLatLng:function(L,S){return S=S||this._defaultShape(),L=W(L),S.push(L),this._bounds.extend(L),this.redraw()},_setLatLngs:function(L){this._bounds=new N,this._latlngs=this._convertLatLngs(L)},_defaultShape:function(){return ve(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(L){for(var S=[],z=ve(L),H=0,tt=L.length;H<tt;H++)z?(S[H]=W(L[H]),this._bounds.extend(S[H])):S[H]=this._convertLatLngs(L[H]);return S},_project:function(){var L=new O;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,L),this._bounds.isValid()&&L.isValid()&&(this._rawPxBounds=L,this._updateBounds())},_updateBounds:function(){var L=this._clickTolerance(),S=new B(L,L);this._pxBounds=new O([this._rawPxBounds.min.subtract(S),this._rawPxBounds.max.add(S)])},_projectLatlngs:function(L,S,z){var H,tt,it=L[0]instanceof j,nt=L.length;if(it){for(tt=[],H=0;H<nt;H++)tt[H]=this._map.latLngToLayerPoint(L[H]),z.extend(tt[H]);S.push(tt)}else for(H=0;H<nt;H++)this._projectLatlngs(L[H],S,z)},_clipPoints:function(){var L=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(L))if(this.options.noClip)this._parts=this._rings;else{var S,z,H,tt,it,nt,ot,at=this._parts;for(H=S=0,tt=this._rings.length;S<tt;S++)for(z=0,it=(ot=this._rings[S]).length;z<it-1;z++)(nt=pe(ot[z],ot[z+1],L,z,!0))&&(at[H]=at[H]||[],at[H].push(nt[0]),nt[1]===ot[z+1]&&z!==it-2||(at[H].push(nt[1]),H++))}},_simplifyPoints:function(){for(var L=this._parts,S=this.options.smoothFactor,z=0,H=L.length;z<H;z++)L[z]=_e(L[z],S)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(L,S){var z,H,tt,it,nt,ot,at=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(L))return!1;for(z=0,it=this._parts.length;z<it;z++)for(H=0,tt=(nt=(ot=this._parts[z]).length)-1;H<nt;tt=H++)if((S||0!==H)&&de(L,ot[tt],ot[H])<=at)return!0;return!1}});Mo._flat=ye;var Po=Mo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var L,S,z,H,tt,it,nt,ot,at,rt=this._rings[0],ht=rt.length;if(!ht)return null;for(it=nt=ot=0,L=0,S=ht-1;L<ht;S=L++)z=rt[L],H=rt[S],tt=z.y*H.x-H.y*z.x,nt+=(z.x+H.x)*tt,ot+=(z.y+H.y)*tt,it+=3*tt;return at=0===it?rt[0]:[nt/it,ot/it],this._map.layerPointToLatLng(at)},_convertLatLngs:function(L){var S=Mo.prototype._convertLatLngs.call(this,L),z=S.length;return 2<=z&&S[0]instanceof j&&S[0].equals(S[z-1])&&S.pop(),S},_setLatLngs:function(L){Mo.prototype._setLatLngs.call(this,L),ve(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ve(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var L=this._renderer._bounds,S=this.options.weight,z=new B(S,S);if(L=new O(L.min.subtract(z),L.max.add(z)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(L))if(this.options.noClip)this._parts=this._rings;else for(var H,tt=0,it=this._rings.length;tt<it;tt++)(H=we(this._rings[tt],L,!0)).length&&this._parts.push(H)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(L){var S,z,H,tt,it,nt,ot,at,rt=!1;if(!this._pxBounds||!this._pxBounds.contains(L))return!1;for(tt=0,ot=this._parts.length;tt<ot;tt++)for(it=0,nt=(at=(S=this._parts[tt]).length)-1;it<at;nt=it++)z=S[it],H=S[nt],z.y>L.y!=H.y>L.y&&L.x<(H.x-z.x)*(L.y-z.y)/(H.y-z.y)+z.x&&(rt=!rt);return rt||Mo.prototype._containsPoint.call(this,L,!0)}}),Do=wo.extend({initialize:function(L,S){p(this,S),this._layers={},L&&this.addData(L)},addData:function(L){var S,z,H,tt=nt(L)?L:L.features;if(tt){for(S=0,z=tt.length;S<z;S++)((H=tt[S]).geometries||H.geometry||H.features||H.coordinates)&&this.addData(H);return this}var it=this.options;if(it.filter&&!it.filter(L))return this;var ot=Fe(L,it);return ot?(ot.feature=Xe(L),ot.defaultOptions=ot.options,this.resetStyle(ot),it.onEachFeature&&it.onEachFeature(L,ot),this.addLayer(ot)):this},resetStyle:function(L){return void 0===L?this.eachLayer(this.resetStyle,this):(L.options=h({},L.defaultOptions),this._setLayerStyle(L,this.options.style),this)},setStyle:function(L){return this.eachLayer((function(S){this._setLayerStyle(S,L)}),this)},_setLayerStyle:function(L,S){L.setStyle&&("function"==typeof S&&(S=S(L.feature)),L.setStyle(S))}});function Fe(L,S){var z,H,tt,it,nt="Feature"===L.type?L.geometry:L,ot=nt?nt.coordinates:null,at=[],rt=S&&S.pointToLayer,ht=S&&S.coordsToLatLng||Ve;if(!ot&&!nt)return null;switch(nt.type){case"Point":return Ue(rt,L,z=ht(ot),S);case"MultiPoint":for(tt=0,it=ot.length;tt<it;tt++)z=ht(ot[tt]),at.push(Ue(rt,L,z,S));return new wo(at);case"LineString":case"MultiLineString":return H=qe(ot,"LineString"===nt.type?0:1,ht),new Mo(H,S);case"Polygon":case"MultiPolygon":return H=qe(ot,"Polygon"===nt.type?1:2,ht),new Po(H,S);case"GeometryCollection":for(tt=0,it=nt.geometries.length;tt<it;tt++){var dt=Fe({geometry:nt.geometries[tt],type:"Feature",properties:L.properties},S);dt&&at.push(dt)}return new wo(at);default:throw new Error("Invalid GeoJSON object.")}}function Ue(L,S,z,H){return L?L(S,z):new Lo(z,H&&H.markersInheritOptions&&H)}function Ve(L){return new j(L[1],L[0],L[2])}function qe(L,S,z){for(var H,tt=[],it=0,nt=L.length;it<nt;it++)H=S?qe(L[it],S-1,z):(z||Ve)(L[it]),tt.push(H);return tt}function Ge(L,S){return S="number"==typeof S?S:6,void 0!==L.alt?[c(L.lng,S),c(L.lat,S),c(L.alt,S)]:[c(L.lng,S),c(L.lat,S)]}function Ke(L,S,z,H){for(var tt=[],it=0,nt=L.length;it<nt;it++)tt.push(S?Ke(L[it],S-1,z,H):Ge(L[it],H));return!S&&z&&tt.push(tt[0]),tt}function Ye(L,S){return L.feature?h({},L.feature,{geometry:S}):Xe(S)}function Xe(L){return"Feature"===L.type||"FeatureCollection"===L.type?L:{type:"Feature",properties:{},geometry:L}}var Io={toGeoJSON:function(L){return Ye(this,{type:"Point",coordinates:Ge(this.getLatLng(),L)})}};function $e(L,S){return new Do(L,S)}Lo.include(Io),So.include(Io),Eo.include(Io),Mo.include({toGeoJSON:function(L){var S=!ve(this._latlngs);return Ye(this,{type:(S?"Multi":"")+"LineString",coordinates:Ke(this._latlngs,S?1:0,!1,L)})}}),Po.include({toGeoJSON:function(L){var S=!ve(this._latlngs),z=S&&!ve(this._latlngs[0]),H=Ke(this._latlngs,z?2:S?1:0,!0,L);return S||(H=[H]),Ye(this,{type:(z?"Multi":"")+"Polygon",coordinates:H})}}),yo.include({toMultiPoint:function(L){var S=[];return this.eachLayer((function(z){S.push(z.toGeoJSON(L).geometry.coordinates)})),Ye(this,{type:"MultiPoint",coordinates:S})},toGeoJSON:function(L){var S=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===S)return this.toMultiPoint(L);var z="GeometryCollection"===S,H=[];return this.eachLayer((function(S){if(S.toGeoJSON){var tt=S.toGeoJSON(L);if(z)H.push(tt.geometry);else{var it=Xe(tt);"FeatureCollection"===it.type?H.push.apply(H,it.features):H.push(it)}}})),z?Ye(this,{geometries:H,type:"GeometryCollection"}):{type:"FeatureCollection",features:H}}});var Ao=$e,Oo=bo.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(L,S,z){this._url=L,this._bounds=D(S),p(this,z)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(mi(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){li(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(L){return this.options.opacity=L,this._image&&this._updateOpacity(),this},setStyle:function(L){return L.opacity&&this.setOpacity(L.opacity),this},bringToFront:function(){return this._map&&_i(this._image),this},bringToBack:function(){return this._map&&di(this._image),this},setUrl:function(L){return this._url=L,this._image&&(this._image.src=L),this},setBounds:function(L){return this._bounds=D(L),this._map&&this._reset(),this},getEvents:function(){var L={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(L.zoomanim=this._animateZoom),L},setZIndex:function(L){return this.options.zIndex=L,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var L="IMG"===this._url.tagName,S=this._image=L?this._url:ui("img");mi(S,"leaflet-image-layer"),this._zoomAnimated&&mi(S,"leaflet-zoom-animated"),this.options.className&&mi(S,this.options.className),S.onselectstart=l,S.onmousemove=l,S.onload=a(this.fire,this,"load"),S.onerror=a(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(S.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),L?this._url=S.src:(S.src=this._url,S.alt=this.options.alt)},_animateZoom:function(L){var S=this._map.getZoomScale(L.zoom),z=this._map._latLngBoundsToNewLayerBounds(this._bounds,L.zoom,L.center).min;wi(this._image,z,S)},_reset:function(){var L=this._image,S=new O(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),z=S.getSize();Pi(L,S.min),L.style.width=z.x+"px",L.style.height=z.y+"px"},_updateOpacity:function(){yi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var L=this.options.errorOverlayUrl;L&&this._url!==L&&(this._url=L,this._image.src=L)}}),No=Oo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var L="VIDEO"===this._url.tagName,S=this._image=L?this._url:ui("video");if(mi(S,"leaflet-image-layer"),this._zoomAnimated&&mi(S,"leaflet-zoom-animated"),this.options.className&&mi(S,this.options.className),S.onselectstart=l,S.onmousemove=l,S.onloadeddata=a(this.fire,this,"load"),L){for(var z=S.getElementsByTagName("source"),H=[],tt=0;tt<z.length;tt++)H.push(z[tt].src);this._url=0<z.length?H:[S.src]}else{nt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&S.style.hasOwnProperty("objectFit")&&(S.style.objectFit="fill"),S.autoplay=!!this.options.autoplay,S.loop=!!this.options.loop;for(var it=0;it<this._url.length;it++){var ot=ui("source");ot.src=this._url[it],S.appendChild(ot)}}}}),zo=Oo.extend({_initImage:function(){var L=this._image=this._url;mi(L,"leaflet-image-layer"),this._zoomAnimated&&mi(L,"leaflet-zoom-animated"),this.options.className&&mi(L,this.options.className),L.onselectstart=l,L.onmousemove=l}}),jo=bo.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(L,S){p(this,L),this._source=S},onAdd:function(L){this._zoomAnimated=L._zoomAnimated,this._container||this._initLayout(),L._fadeAnimated&&yi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),L._fadeAnimated&&yi(this._container,1),this.bringToFront()},onRemove:function(L){L._fadeAnimated?(yi(this._container,0),this._removeTimeout=setTimeout(a(li,void 0,this._container),200)):li(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(L){return this._latlng=W(L),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(L){return this._content=L,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var L={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(L.zoomanim=this._animateZoom),L},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&_i(this._container),this},bringToBack:function(){return this._map&&di(this._container),this},_prepareOpen:function(L,S,z){if(S instanceof bo||(z=S,S=L),S instanceof wo)for(var H in L._layers){S=L._layers[H];break}if(!z)if(S.getCenter)z=S.getCenter();else{if(!S.getLatLng)throw new Error("Unable to get source layer LatLng.");z=S.getLatLng()}return this._source=S,this.update(),z},_updateContent:function(){if(this._content){var L=this._contentNode,S="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof S)L.innerHTML=S;else{for(;L.hasChildNodes();)L.removeChild(L.firstChild);L.appendChild(S)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var L=this._map.latLngToLayerPoint(this._latlng),S=I(this.options.offset),z=this._getAnchor();this._zoomAnimated?Pi(this._container,L.add(z)):S=S.add(L).add(z);var H=this._containerBottom=-S.y,tt=this._containerLeft=-Math.round(this._containerWidth/2)+S.x;this._container.style.bottom=H+"px",this._container.style.left=tt+"px"}},_getAnchor:function(){return[0,0]}}),Ro=jo.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(L){return L.openPopup(this),this},onAdd:function(L){jo.prototype.onAdd.call(this,L),L.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof To||this._source.on("preclick",Ri))},onRemove:function(L){jo.prototype.onRemove.call(this,L),L.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof To||this._source.off("preclick",Ri))},getEvents:function(){var L=jo.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(L.preclick=this._close),this.options.keepInView&&(L.moveend=this._adjustPan),L},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var L="leaflet-popup",S=this._container=ui("div",L+" "+(this.options.className||"")+" leaflet-zoom-animated"),z=this._wrapper=ui("div",L+"-content-wrapper",S);if(this._contentNode=ui("div",L+"-content",z),Di(z),Ni(this._contentNode),ki(z,"contextmenu",Ri),this._tipContainer=ui("div",L+"-tip-container",S),this._tip=ui("div",L+"-tip",this._tipContainer),this.options.closeButton){var H=this._closeButton=ui("a",L+"-close-button",S);H.href="#close",H.innerHTML="&#215;",ki(H,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var L=this._contentNode,S=L.style;S.width="",S.whiteSpace="nowrap";var z=L.offsetWidth;z=Math.min(z,this.options.maxWidth),z=Math.max(z,this.options.minWidth),S.width=z+1+"px",S.whiteSpace="",S.height="";var H=L.offsetHeight,tt=this.options.maxHeight,it="leaflet-popup-scrolled";tt&&tt<H?(S.height=tt+"px",mi(L,it)):fi(L,it),this._containerWidth=this._container.offsetWidth},_animateZoom:function(L){var S=this._map._latLngToNewLayerPoint(this._latlng,L.zoom,L.center),z=this._getAnchor();Pi(this._container,S.add(z))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var L=this._map,S=parseInt(hi(this._container,"marginBottom"),10)||0,z=this._container.offsetHeight+S,H=this._containerWidth,tt=new B(this._containerLeft,-z-this._containerBottom);tt._add(Li(this._container));var it=L.layerPointToContainerPoint(tt),nt=I(this.options.autoPanPadding),ot=I(this.options.autoPanPaddingTopLeft||nt),at=I(this.options.autoPanPaddingBottomRight||nt),rt=L.getSize(),ht=0,dt=0;it.x+H+at.x>rt.x&&(ht=it.x+H-rt.x+at.x),it.x-ht-ot.x<0&&(ht=it.x-ot.x),it.y+z+at.y>rt.y&&(dt=it.y+z-rt.y+at.y),it.y-dt-ot.y<0&&(dt=it.y-ot.y),(ht||dt)&&L.fire("autopanstart").panBy([ht,dt])}},_onCloseButtonClick:function(L){this._close(),Wi(L)},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Yn.mergeOptions({closePopupOnClick:!0}),Yn.include({openPopup:function(L,S,z){return L instanceof Ro||(L=new Ro(z).setContent(L)),S&&L.setLatLng(S),this.hasLayer(L)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=L,this.addLayer(L))},closePopup:function(L){return L&&L!==this._popup||(L=this._popup,this._popup=null),L&&this.removeLayer(L),this}}),bo.include({bindPopup:function(L,S){return L instanceof Ro?(p(L,S),(this._popup=L)._source=this):(this._popup&&!S||(this._popup=new Ro(S,this)),this._popup.setContent(L)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(L,S){return this._popup&&this._map&&(S=this._popup._prepareOpen(this,L,S),this._map.openPopup(this._popup,S)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(L){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(L)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(L){return this._popup&&this._popup.setContent(L),this},getPopup:function(){return this._popup},_openPopup:function(L){var S=L.layer||L.target;this._popup&&this._map&&(Wi(L),S instanceof To?this.openPopup(L.layer||L.target,L.latlng):this._map.hasLayer(this._popup)&&this._popup._source===S?this.closePopup():this.openPopup(S,L.latlng))},_movePopup:function(L){this._popup.setLatLng(L.latlng)},_onKeyPress:function(L){13===L.originalEvent.keyCode&&this._openPopup(L)}});var Bo=jo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(L){jo.prototype.onAdd.call(this,L),this.setOpacity(this.options.opacity),L.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(L){jo.prototype.onRemove.call(this,L),L.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var L=jo.prototype.getEvents.call(this);return Qe&&!this.options.permanent&&(L.preclick=this._close),L},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var L="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ui("div",L)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(L){var S=this._map,z=this._container,H=S.latLngToContainerPoint(S.getCenter()),tt=S.layerPointToContainerPoint(L),it=this.options.direction,nt=z.offsetWidth,ot=z.offsetHeight,at=I(this.options.offset),rt=this._getAnchor();L="top"===it?L.add(I(-nt/2+at.x,-ot+at.y+rt.y,!0)):"bottom"===it?L.subtract(I(nt/2-at.x,-at.y,!0)):"center"===it?L.subtract(I(nt/2+at.x,ot/2-rt.y+at.y,!0)):"right"===it||"auto"===it&&tt.x<H.x?(it="right",L.add(I(at.x+rt.x,rt.y-ot/2+at.y,!0))):(it="left",L.subtract(I(nt+rt.x-at.x,ot/2-rt.y-at.y,!0))),fi(z,"leaflet-tooltip-right"),fi(z,"leaflet-tooltip-left"),fi(z,"leaflet-tooltip-top"),fi(z,"leaflet-tooltip-bottom"),mi(z,"leaflet-tooltip-"+it),Pi(z,L)},_updatePosition:function(){var L=this._map.latLngToLayerPoint(this._latlng);this._setPosition(L)},setOpacity:function(L){this.options.opacity=L,this._container&&yi(this._container,L)},_animateZoom:function(L){var S=this._map._latLngToNewLayerPoint(this._latlng,L.zoom,L.center);this._setPosition(S)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Yn.include({openTooltip:function(L,S,z){return L instanceof Bo||(L=new Bo(z).setContent(L)),S&&L.setLatLng(S),this.hasLayer(L)?this:this.addLayer(L)},closeTooltip:function(L){return L&&this.removeLayer(L),this}}),bo.include({bindTooltip:function(L,S){return L instanceof Bo?(p(L,S),(this._tooltip=L)._source=this):(this._tooltip&&!S||(this._tooltip=new Bo(S,this)),this._tooltip.setContent(L)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(L){if(L||!this._tooltipHandlersAdded){var S=L?"off":"on",z={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?z.add=this._openTooltip:(z.mouseover=this._openTooltip,z.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(z.mousemove=this._moveTooltip),Qe&&(z.click=this._openTooltip)),this[S](z),this._tooltipHandlersAdded=!L}},openTooltip:function(L,S){return this._tooltip&&this._map&&(S=this._tooltip._prepareOpen(this,L,S),this._map.openTooltip(this._tooltip,S),this._tooltip.options.interactive&&this._tooltip._container&&(mi(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(fi(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(L){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(L)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(L){return this._tooltip&&this._tooltip.setContent(L),this},getTooltip:function(){return this._tooltip},_openTooltip:function(L){var S=L.layer||L.target;this._tooltip&&this._map&&this.openTooltip(S,this._tooltip.options.sticky?L.latlng:void 0)},_moveTooltip:function(L){var S,z,H=L.latlng;this._tooltip.options.sticky&&L.originalEvent&&(S=this._map.mouseEventToContainerPoint(L.originalEvent),z=this._map.containerPointToLayerPoint(S),H=this._map.layerPointToLatLng(z)),this._tooltip.setLatLng(H)}});var Ho=xo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(L){var S=L&&"DIV"===L.tagName?L:document.createElement("div"),z=this.options;if(z.html instanceof Element?(ci(S),S.appendChild(z.html)):S.innerHTML=!1!==z.html?z.html:"",z.bgPos){var H=I(z.bgPos);S.style.backgroundPosition=-H.x+"px "+-H.y+"px"}return this._setIconStyles(S,"icon"),S},createShadow:function(){return null}});xo.Default=ko;var Fo=bo.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ae,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(L){p(this,L)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(L){L._addZoomLimit(this)},onRemove:function(L){this._removeAllTiles(),li(this._container),L._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(_i(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(di(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(L){return this.options.opacity=L,this._updateOpacity(),this},setZIndex:function(L){return this.options.zIndex=L,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var L={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o(this._onMoveEnd,this.options.updateInterval,this)),L.move=this._onMove),this._zoomAnimated&&(L.zoomanim=this._animateZoom),L},createTile:function(){return document.createElement("div")},getTileSize:function(){var L=this.options.tileSize;return L instanceof B?L:new B(L,L)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(L){for(var S,z=this.getPane().children,H=-L(-1/0,1/0),tt=0,it=z.length;tt<it;tt++)S=z[tt].style.zIndex,z[tt]!==this._container&&S&&(H=L(H,+S));isFinite(H)&&(this.options.zIndex=H+L(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!It){yi(this._container,this.options.opacity);var L=+new Date,S=!1,z=!1;for(var H in this._tiles){var tt=this._tiles[H];if(tt.current&&tt.loaded){var it=Math.min(1,(L-tt.loaded)/200);yi(tt.el,it),it<1?S=!0:(tt.active?z=!0:this._onOpaqueTile(tt),tt.active=!0)}}z&&!this._noPrune&&this._pruneTiles(),S&&(C(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=ui("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var L=this._tileZoom,S=this.options.maxZoom;if(void 0!==L){for(var z in this._levels)this._levels[z].el.children.length||z===L?(this._levels[z].el.style.zIndex=S-Math.abs(L-z),this._onUpdateLevel(z)):(li(this._levels[z].el),this._removeTilesAtZoom(z),this._onRemoveLevel(z),delete this._levels[z]);var H=this._levels[L],tt=this._map;return H||((H=this._levels[L]={}).el=ui("div","leaflet-tile-container leaflet-zoom-animated",this._container),H.el.style.zIndex=S,H.origin=tt.project(tt.unproject(tt.getPixelOrigin()),L).round(),H.zoom=L,this._setZoomTransform(H,tt.getCenter(),tt.getZoom()),H.el.offsetWidth,this._onCreateLevel(H)),this._level=H}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var L,S,z=this._map.getZoom();if(z>this.options.maxZoom||z<this.options.minZoom)this._removeAllTiles();else{for(L in this._tiles)(S=this._tiles[L]).retain=S.current;for(L in this._tiles)if((S=this._tiles[L]).current&&!S.active){var H=S.coords;this._retainParent(H.x,H.y,H.z,H.z-5)||this._retainChildren(H.x,H.y,H.z,H.z+2)}for(L in this._tiles)this._tiles[L].retain||this._removeTile(L)}}},_removeTilesAtZoom:function(L){for(var S in this._tiles)this._tiles[S].coords.z===L&&this._removeTile(S)},_removeAllTiles:function(){for(var L in this._tiles)this._removeTile(L)},_invalidateAll:function(){for(var L in this._levels)li(this._levels[L].el),this._onRemoveLevel(L),delete this._levels[L];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(L,S,z,H){var tt=Math.floor(L/2),it=Math.floor(S/2),nt=z-1,ot=new B(+tt,+it);ot.z=+nt;var at=this._tileCoordsToKey(ot),rt=this._tiles[at];return rt&&rt.active?rt.retain=!0:(rt&&rt.loaded&&(rt.retain=!0),H<nt&&this._retainParent(tt,it,nt,H))},_retainChildren:function(L,S,z,H){for(var tt=2*L;tt<2*L+2;tt++)for(var it=2*S;it<2*S+2;it++){var nt=new B(tt,it);nt.z=z+1;var ot=this._tileCoordsToKey(nt),at=this._tiles[ot];at&&at.active?at.retain=!0:(at&&at.loaded&&(at.retain=!0),z+1<H&&this._retainChildren(tt,it,z+1,H))}},_resetView:function(L){var S=L&&(L.pinch||L.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),S,S)},_animateZoom:function(L){this._setView(L.center,L.zoom,!0,L.noUpdate)},_clampZoom:function(L){var S=this.options;return void 0!==S.minNativeZoom&&L<S.minNativeZoom?S.minNativeZoom:void 0!==S.maxNativeZoom&&S.maxNativeZoom<L?S.maxNativeZoom:L},_setView:function(L,S,z,H){var tt=this._clampZoom(Math.round(S));(void 0!==this.options.maxZoom&&tt>this.options.maxZoom||void 0!==this.options.minZoom&&tt<this.options.minZoom)&&(tt=void 0);var it=this.options.updateWhenZooming&&tt!==this._tileZoom;H&&!it||(this._tileZoom=tt,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==tt&&this._update(L),z||this._pruneTiles(),this._noPrune=!!z),this._setZoomTransforms(L,S)},_setZoomTransforms:function(L,S){for(var z in this._levels)this._setZoomTransform(this._levels[z],L,S)},_setZoomTransform:function(L,S,z){var H=this._map.getZoomScale(z,L.zoom),tt=L.origin.multiplyBy(H).subtract(this._map._getNewPixelOrigin(S,z)).round();Pe?wi(L.el,tt,H):Pi(L.el,tt)},_resetGrid:function(){var L=this._map,S=L.options.crs,z=this._tileSize=this.getTileSize(),H=this._tileZoom,tt=this._map.getPixelWorldBounds(this._tileZoom);tt&&(this._globalTileRange=this._pxBoundsToTileRange(tt)),this._wrapX=S.wrapLng&&!this.options.noWrap&&[Math.floor(L.project([0,S.wrapLng[0]],H).x/z.x),Math.ceil(L.project([0,S.wrapLng[1]],H).x/z.y)],this._wrapY=S.wrapLat&&!this.options.noWrap&&[Math.floor(L.project([S.wrapLat[0],0],H).y/z.x),Math.ceil(L.project([S.wrapLat[1],0],H).y/z.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(L){var S=this._map,z=S._animatingZoom?Math.max(S._animateToZoom,S.getZoom()):S.getZoom(),H=S.getZoomScale(z,this._tileZoom),tt=S.project(L,this._tileZoom).floor(),it=S.getSize().divideBy(2*H);return new O(tt.subtract(it),tt.add(it))},_update:function(L){var S=this._map;if(S){var z=this._clampZoom(S.getZoom());if(void 0===L&&(L=S.getCenter()),void 0!==this._tileZoom){var H=this._getTiledPixelBounds(L),tt=this._pxBoundsToTileRange(H),it=tt.getCenter(),nt=[],ot=this.options.keepBuffer,at=new O(tt.getBottomLeft().subtract([ot,-ot]),tt.getTopRight().add([ot,-ot]));if(!(isFinite(tt.min.x)&&isFinite(tt.min.y)&&isFinite(tt.max.x)&&isFinite(tt.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var rt in this._tiles){var ht=this._tiles[rt].coords;ht.z===this._tileZoom&&at.contains(new B(ht.x,ht.y))||(this._tiles[rt].current=!1)}if(1<Math.abs(z-this._tileZoom))this._setView(L,z);else{for(var dt=tt.min.y;dt<=tt.max.y;dt++)for(var pt=tt.min.x;pt<=tt.max.x;pt++){var gt=new B(pt,dt);if(gt.z=this._tileZoom,this._isValidTile(gt)){var _t=this._tiles[this._tileCoordsToKey(gt)];_t?_t.current=!0:nt.push(gt)}}if(nt.sort((function(L,S){return L.distanceTo(it)-S.distanceTo(it)})),0!==nt.length){this._loading||(this._loading=!0,this.fire("loading"));var bt=document.createDocumentFragment();for(pt=0;pt<nt.length;pt++)this._addTile(nt[pt],bt);this._level.el.appendChild(bt)}}}}},_isValidTile:function(L){var S=this._map.options.crs;if(!S.infinite){var z=this._globalTileRange;if(!S.wrapLng&&(L.x<z.min.x||L.x>z.max.x)||!S.wrapLat&&(L.y<z.min.y||L.y>z.max.y))return!1}if(!this.options.bounds)return!0;var H=this._tileCoordsToBounds(L);return D(this.options.bounds).overlaps(H)},_keyToBounds:function(L){return this._tileCoordsToBounds(this._keyToTileCoords(L))},_tileCoordsToNwSe:function(L){var S=this._map,z=this.getTileSize(),H=L.scaleBy(z),tt=H.add(z);return[S.unproject(H,L.z),S.unproject(tt,L.z)]},_tileCoordsToBounds:function(L){var S=this._tileCoordsToNwSe(L),z=new N(S[0],S[1]);return this.options.noWrap||(z=this._map.wrapLatLngBounds(z)),z},_tileCoordsToKey:function(L){return L.x+":"+L.y+":"+L.z},_keyToTileCoords:function(L){var S=L.split(":"),z=new B(+S[0],+S[1]);return z.z=+S[2],z},_removeTile:function(L){var S=this._tiles[L];S&&(li(S.el),delete this._tiles[L],this.fire("tileunload",{tile:S.el,coords:this._keyToTileCoords(L)}))},_initTile:function(L){mi(L,"leaflet-tile");var S=this.getTileSize();L.style.width=S.x+"px",L.style.height=S.y+"px",L.onselectstart=l,L.onmousemove=l,It&&this.options.opacity<1&&yi(L,this.options.opacity),Nt&&!zt&&(L.style.WebkitBackfaceVisibility="hidden")},_addTile:function(L,S){var z=this._getTilePos(L),H=this._tileCoordsToKey(L),tt=this.createTile(this._wrapCoords(L),a(this._tileReady,this,L));this._initTile(tt),this.createTile.length<2&&M(a(this._tileReady,this,L,null,tt)),Pi(tt,z),this._tiles[H]={el:tt,coords:L,current:!0},S.appendChild(tt),this.fire("tileloadstart",{tile:tt,coords:L})},_tileReady:function(L,S,z){S&&this.fire("tileerror",{error:S,tile:z,coords:L});var H=this._tileCoordsToKey(L);(z=this._tiles[H])&&(z.loaded=+new Date,this._map._fadeAnimated?(yi(z.el,0),C(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this)):(z.active=!0,this._pruneTiles()),S||(mi(z.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:z.el,coords:L})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),It||!this._map._fadeAnimated?M(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(L){return L.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(L){var S=new B(this._wrapX?r(L.x,this._wrapX):L.x,this._wrapY?r(L.y,this._wrapY):L.y);return S.z=L.z,S},_pxBoundsToTileRange:function(L){var S=this.getTileSize();return new O(L.min.unscaleBy(S).floor(),L.max.unscaleBy(S).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var L in this._tiles)if(!this._tiles[L].loaded)return!1;return!0}}),Wo=Fo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(L,S){this._url=L,(S=p(this,S)).detectRetina&&ii&&0<S.maxZoom&&(S.tileSize=Math.floor(S.tileSize/2),S.zoomReverse?(S.zoomOffset--,S.minZoom++):(S.zoomOffset++,S.maxZoom--),S.minZoom=Math.max(0,S.minZoom)),"string"==typeof S.subdomains&&(S.subdomains=S.subdomains.split("")),Nt||this.on("tileunload",this._onTileRemove)},setUrl:function(L,S){return this._url===L&&void 0===S&&(S=!0),this._url=L,S||this.redraw(),this},createTile:function(L,S){var z=document.createElement("img");return ki(z,"load",a(this._tileOnLoad,this,S,z)),ki(z,"error",a(this._tileOnError,this,S,z)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(z.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),z.alt="",z.setAttribute("role","presentation"),z.src=this.getTileUrl(L),z},getTileUrl:function(L){var S={r:ii?"@2x":"",s:this._getSubdomain(L),x:L.x,y:L.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var z=this._globalTileRange.max.y-L.y;this.options.tms&&(S.y=z),S["-y"]=z}return g(this._url,h(S,this.options))},_tileOnLoad:function(L,S){It?setTimeout(a(L,this,null,S),0):L(null,S)},_tileOnError:function(L,S,z){var H=this.options.errorTileUrl;H&&S.getAttribute("src")!==H&&(S.src=H),L(z,S)},_onTileRemove:function(L){L.tile.onload=null},_getZoomForUrl:function(){var L=this._tileZoom,S=this.options.maxZoom;return this.options.zoomReverse&&(L=S-L),L+this.options.zoomOffset},_getSubdomain:function(L){var S=Math.abs(L.x+L.y)%this.options.subdomains.length;return this.options.subdomains[S]},_abortLoading:function(){var L,S;for(L in this._tiles)this._tiles[L].coords.z!==this._tileZoom&&((S=this._tiles[L].el).onload=l,S.onerror=l,S.complete||(S.src=ot,li(S),delete this._tiles[L]))},_removeTile:function(L){var S=this._tiles[L];if(S)return Ht||S.el.setAttribute("src",ot),Fo.prototype._removeTile.call(this,L)},_tileReady:function(L,S,z){if(this._map&&(!z||z.getAttribute("src")!==ot))return Fo.prototype._tileReady.call(this,L,S,z)}});function ln(L,S){return new Wo(L,S)}var Uo=Wo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(L,S){this._url=L;var z=h({},this.defaultWmsParams);for(var H in S)H in this.options||(z[H]=S[H]);var tt=(S=p(this,S)).detectRetina&&ii?2:1,it=this.getTileSize();z.width=it.x*tt,z.height=it.y*tt,this.wmsParams=z},onAdd:function(L){this._crs=this.options.crs||L.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var S=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[S]=this._crs.code,Wo.prototype.onAdd.call(this,L)},getTileUrl:function(L){var S=this._tileCoordsToNwSe(L),z=this._crs,H=R(z.project(S[0]),z.project(S[1])),tt=H.min,it=H.max,nt=(1.3<=this._wmsVersion&&this._crs===vo?[tt.y,tt.x,it.y,it.x]:[tt.x,tt.y,it.x,it.y]).join(","),ot=Wo.prototype.getTileUrl.call(this,L);return ot+m(this.wmsParams,ot,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+nt},setParams:function(L,S){return h(this.wmsParams,L),S||this.redraw(),this}});Wo.WMS=Uo,ln.wms=function(L,S){return new Uo(L,S)};var Go=bo.extend({options:{padding:.1,tolerance:0},initialize:function(L){p(this,L),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&mi(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var L={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(L.zoomanim=this._onAnimZoom),L},_onAnimZoom:function(L){this._updateTransform(L.center,L.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(L,S){var z=this._map.getZoomScale(S,this._zoom),H=Li(this._container),tt=this._map.getSize().multiplyBy(.5+this.options.padding),it=this._map.project(this._center,S),nt=this._map.project(L,S).subtract(it),ot=tt.multiplyBy(-z).add(H).add(tt).subtract(nt);Pe?wi(this._container,ot,z):Pi(this._container,ot)},_reset:function(){for(var L in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[L]._reset()},_onZoomEnd:function(){for(var L in this._layers)this._layers[L]._project()},_updatePaths:function(){for(var L in this._layers)this._layers[L]._update()},_update:function(){var L=this.options.padding,S=this._map.getSize(),z=this._map.containerPointToLayerPoint(S.multiplyBy(-L)).round();this._bounds=new O(z,z.add(S.multiplyBy(1+2*L)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qo=Go.extend({getEvents:function(){var L=Go.prototype.getEvents.call(this);return L.viewprereset=this._onViewPreReset,L},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Go.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var L=this._container=document.createElement("canvas");ki(L,"mousemove",this._onMouseMove,this),ki(L,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ki(L,"mouseout",this._handleMouseOut,this),this._ctx=L.getContext("2d")},_destroyContainer:function(){C(this._redrawRequest),delete this._ctx,li(this._container),Ai(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var L in this._redrawBounds=null,this._layers)this._layers[L]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Go.prototype._update.call(this);var L=this._bounds,S=this._container,z=L.getSize(),H=ii?2:1;Pi(S,L.min),S.width=H*z.x,S.height=H*z.y,S.style.width=z.x+"px",S.style.height=z.y+"px",ii&&this._ctx.scale(2,2),this._ctx.translate(-L.min.x,-L.min.y),this.fire("update")}},_reset:function(){Go.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(L){this._updateDashArray(L);var S=(this._layers[u(L)]=L)._order={layer:L,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=S),this._drawLast=S,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(L){this._requestRedraw(L)},_removePath:function(L){var S=L._order,z=S.next,H=S.prev;z?z.prev=H:this._drawLast=H,H?H.next=z:this._drawFirst=z,delete L._order,delete this._layers[u(L)],this._requestRedraw(L)},_updatePath:function(L){this._extendRedrawBounds(L),L._project(),L._update(),this._requestRedraw(L)},_updateStyle:function(L){this._updateDashArray(L),this._requestRedraw(L)},_updateDashArray:function(L){if("string"==typeof L.options.dashArray){var S,z,H=L.options.dashArray.split(/[, ]+/),tt=[];for(z=0;z<H.length;z++){if(S=Number(H[z]),isNaN(S))return;tt.push(S)}L.options._dashArray=tt}else L.options._dashArray=L.options.dashArray},_requestRedraw:function(L){this._map&&(this._extendRedrawBounds(L),this._redrawRequest=this._redrawRequest||M(this._redraw,this))},_extendRedrawBounds:function(L){if(L._pxBounds){var S=(L.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new O,this._redrawBounds.extend(L._pxBounds.min.subtract([S,S])),this._redrawBounds.extend(L._pxBounds.max.add([S,S]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var L=this._redrawBounds;if(L){var S=L.getSize();this._ctx.clearRect(L.min.x,L.min.y,S.x,S.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var L,S=this._redrawBounds;if(this._ctx.save(),S){var z=S.getSize();this._ctx.beginPath(),this._ctx.rect(S.min.x,S.min.y,z.x,z.y),this._ctx.clip()}this._drawing=!0;for(var H=this._drawFirst;H;H=H.next)L=H.layer,(!S||L._pxBounds&&L._pxBounds.intersects(S))&&L._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(L,S){if(this._drawing){var z,H,tt,it,nt=L._parts,ot=nt.length,at=this._ctx;if(ot){for(at.beginPath(),z=0;z<ot;z++){for(H=0,tt=nt[z].length;H<tt;H++)it=nt[z][H],at[H?"lineTo":"moveTo"](it.x,it.y);S&&at.closePath()}this._fillStroke(at,L)}}},_updateCircle:function(L){if(this._drawing&&!L._empty()){var S=L._point,z=this._ctx,H=Math.max(Math.round(L._radius),1),tt=(Math.max(Math.round(L._radiusY),1)||H)/H;1!=tt&&(z.save(),z.scale(1,tt)),z.beginPath(),z.arc(S.x,S.y/tt,H,0,2*Math.PI,!1),1!=tt&&z.restore(),this._fillStroke(z,L)}},_fillStroke:function(L,S){var z=S.options;z.fill&&(L.globalAlpha=z.fillOpacity,L.fillStyle=z.fillColor||z.color,L.fill(z.fillRule||"evenodd")),z.stroke&&0!==z.weight&&(L.setLineDash&&L.setLineDash(S.options&&S.options._dashArray||[]),L.globalAlpha=z.opacity,L.lineWidth=z.weight,L.strokeStyle=z.color,L.lineCap=z.lineCap,L.lineJoin=z.lineJoin,L.stroke())},_onClick:function(L){for(var S,z,H=this._map.mouseEventToLayerPoint(L),tt=this._drawFirst;tt;tt=tt.next)(S=tt.layer).options.interactive&&S._containsPoint(H)&&!this._map._draggableMoved(S)&&(z=S);z&&(Gi(L),this._fireEvent([z],L))},_onMouseMove:function(L){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var S=this._map.mouseEventToLayerPoint(L);this._handleMouseHover(L,S)}},_handleMouseOut:function(L){var S=this._hoveredLayer;S&&(fi(this._container,"leaflet-interactive"),this._fireEvent([S],L,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(S,z){if(!this._mouseHoverThrottled){for(var H,tt,it=this._drawFirst;it;it=it.next)(H=it.layer).options.interactive&&H._containsPoint(z)&&(tt=H);tt!==this._hoveredLayer&&(this._handleMouseOut(S),tt&&(mi(this._container,"leaflet-interactive"),this._fireEvent([tt],S,"mouseover"),this._hoveredLayer=tt)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],S),this._mouseHoverThrottled=!0,setTimeout(L.bind((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(L,S,z){this._map._fireDOMEvent(S,z||S.type,L)},_bringToFront:function(L){var S=L._order;if(S){var z=S.next,H=S.prev;z&&((z.prev=H)?H.next=z:z&&(this._drawFirst=z),S.prev=this._drawLast,(this._drawLast.next=S).next=null,this._drawLast=S,this._requestRedraw(L))}},_bringToBack:function(L){var S=L._order;if(S){var z=S.next,H=S.prev;H&&((H.next=z)?z.prev=H:H&&(this._drawLast=H),S.prev=null,S.next=this._drawFirst,this._drawFirst.prev=S,this._drawFirst=S,this._requestRedraw(L))}}});function pn(L){return ni?new qo(L):null}var Zo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(L){return document.createElement("<lvml:"+L+' class="lvml">')}}catch(L){return function(L){return document.createElement("<"+L+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),$o={_initContainer:function(){this._container=ui("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Go.prototype._update.call(this),this.fire("update"))},_initPath:function(L){var S=L._container=Zo("shape");mi(S,"leaflet-vml-shape "+(this.options.className||"")),S.coordsize="1 1",L._path=Zo("path"),S.appendChild(L._path),this._updateStyle(L),this._layers[u(L)]=L},_addPath:function(L){var S=L._container;this._container.appendChild(S),L.options.interactive&&L.addInteractiveTarget(S)},_removePath:function(L){var S=L._container;li(S),L.removeInteractiveTarget(S),delete this._layers[u(L)]},_updateStyle:function(L){var S=L._stroke,z=L._fill,H=L.options,tt=L._container;tt.stroked=!!H.stroke,tt.filled=!!H.fill,H.stroke?(S||(S=L._stroke=Zo("stroke")),tt.appendChild(S),S.weight=H.weight+"px",S.color=H.color,S.opacity=H.opacity,H.dashArray?S.dashStyle=nt(H.dashArray)?H.dashArray.join(" "):H.dashArray.replace(/( *, *)/g," "):S.dashStyle="",S.endcap=H.lineCap.replace("butt","flat"),S.joinstyle=H.lineJoin):S&&(tt.removeChild(S),L._stroke=null),H.fill?(z||(z=L._fill=Zo("fill")),tt.appendChild(z),z.color=H.fillColor||H.color,z.opacity=H.fillOpacity):z&&(tt.removeChild(z),L._fill=null)},_updateCircle:function(L){var S=L._point.round(),z=Math.round(L._radius),H=Math.round(L._radiusY||z);this._setPath(L,L._empty()?"M0 0":"AL "+S.x+","+S.y+" "+z+","+H+" 0,23592600")},_setPath:function(L,S){L._path.v=S},_bringToFront:function(L){_i(L._container)},_bringToBack:function(L){di(L._container)}},Vo=si?Zo:$,Yo=Go.extend({getEvents:function(){var L=Go.prototype.getEvents.call(this);return L.zoomstart=this._onZoomStart,L},_initContainer:function(){this._container=Vo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Vo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){li(this._container),Ai(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Go.prototype._update.call(this);var L=this._bounds,S=L.getSize(),z=this._container;this._svgSize&&this._svgSize.equals(S)||(this._svgSize=S,z.setAttribute("width",S.x),z.setAttribute("height",S.y)),Pi(z,L.min),z.setAttribute("viewBox",[L.min.x,L.min.y,S.x,S.y].join(" ")),this.fire("update")}},_initPath:function(L){var S=L._path=Vo("path");L.options.className&&mi(S,L.options.className),L.options.interactive&&mi(S,"leaflet-interactive"),this._updateStyle(L),this._layers[u(L)]=L},_addPath:function(L){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(L._path),L.addInteractiveTarget(L._path)},_removePath:function(L){li(L._path),L.removeInteractiveTarget(L._path),delete this._layers[u(L)]},_updatePath:function(L){L._project(),L._update()},_updateStyle:function(L){var S=L._path,z=L.options;S&&(z.stroke?(S.setAttribute("stroke",z.color),S.setAttribute("stroke-opacity",z.opacity),S.setAttribute("stroke-width",z.weight),S.setAttribute("stroke-linecap",z.lineCap),S.setAttribute("stroke-linejoin",z.lineJoin),z.dashArray?S.setAttribute("stroke-dasharray",z.dashArray):S.removeAttribute("stroke-dasharray"),z.dashOffset?S.setAttribute("stroke-dashoffset",z.dashOffset):S.removeAttribute("stroke-dashoffset")):S.setAttribute("stroke","none"),z.fill?(S.setAttribute("fill",z.fillColor||z.color),S.setAttribute("fill-opacity",z.fillOpacity),S.setAttribute("fill-rule",z.fillRule||"evenodd")):S.setAttribute("fill","none"))},_updatePoly:function(L,S){this._setPath(L,Q(L._parts,S))},_updateCircle:function(L){var S=L._point,z=Math.max(Math.round(L._radius),1),H="a"+z+","+(Math.max(Math.round(L._radiusY),1)||z)+" 0 1,0 ",tt=L._empty()?"M0 0":"M"+(S.x-z)+","+S.y+H+2*z+",0 "+H+2*-z+",0 ";this._setPath(L,tt)},_setPath:function(L,S){L._path.setAttribute("d",S)},_bringToFront:function(L){_i(L._path)},_bringToBack:function(L){di(L._path)}});function yn(L){return oi||si?new Yo(L):null}si&&Yo.include($o),Yn.include({getRenderer:function(L){var S=L.options.renderer||this._getPaneRenderer(L.options.pane)||this.options.renderer||this._renderer;return S||(S=this._renderer=this._createRenderer()),this.hasLayer(S)||this.addLayer(S),S},_getPaneRenderer:function(L){if("overlayPane"===L||void 0===L)return!1;var S=this._paneRenderers[L];return void 0===S&&(S=this._createRenderer({pane:L}),this._paneRenderers[L]=S),S},_createRenderer:function(L){return this.options.preferCanvas&&pn(L)||yn(L)}});var Ko=Po.extend({initialize:function(L,S){Po.prototype.initialize.call(this,this._boundsToLatLngs(L),S)},setBounds:function(L){return this.setLatLngs(this._boundsToLatLngs(L))},_boundsToLatLngs:function(L){return[(L=D(L)).getSouthWest(),L.getNorthWest(),L.getNorthEast(),L.getSouthEast()]}});Yo.create=Vo,Yo.pointsToPath=Q,Do.geometryToLayer=Fe,Do.coordsToLatLng=Ve,Do.coordsToLatLngs=qe,Do.latLngToCoords=Ge,Do.latLngsToCoords=Ke,Do.getFeature=Ye,Do.asFeature=Xe,Yn.mergeOptions({boxZoom:!0});var Xo=io.extend({initialize:function(L){this._map=L,this._container=L._container,this._pane=L._panes.overlayPane,this._resetStateTimeout=0,L.on("unload",this._destroy,this)},addHooks:function(){ki(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ai(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){li(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(L){if(!L.shiftKey||1!==L.which&&1!==L.button)return!1;this._clearDeferredResetState(),this._resetState(),hn(),Ti(),this._startPoint=this._map.mouseEventToContainerPoint(L),ki(document,{contextmenu:Wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(L){this._moved||(this._moved=!0,this._box=ui("div","leaflet-zoom-box",this._container),mi(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(L);var S=new O(this._point,this._startPoint),z=S.getSize();Pi(this._box,S.min),this._box.style.width=z.x+"px",this._box.style.height=z.y+"px"},_finish:function(){this._moved&&(li(this._box),fi(this._container,"leaflet-crosshair")),un(),zi(),Ai(document,{contextmenu:Wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(L){if((1===L.which||1===L.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var S=new N(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(S).fire("boxzoomend",{boxZoomBounds:S})}},_onKeyDown:function(L){27===L.keyCode&&this._finish()}});Yn.addInitHook("addHandler","boxZoom",Xo),Yn.mergeOptions({doubleClickZoom:!0});var Jo=io.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(L){var S=this._map,z=S.getZoom(),H=S.options.zoomDelta,tt=L.originalEvent.shiftKey?z-H:z+H;"center"===S.options.doubleClickZoom?S.setZoom(tt):S.setZoomAround(L.containerPoint,tt)}});Yn.addInitHook("addHandler","doubleClickZoom",Jo),Yn.mergeOptions({dragging:!0,inertia:!zt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Qo=io.extend({addHooks:function(){if(!this._draggable){var L=this._map;this._draggable=new lo(L._mapPane,L._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),L.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),L.on("zoomend",this._onZoomEnd,this),L.whenReady(this._onZoomEnd,this))}mi(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){fi(this._map._container,"leaflet-grab"),fi(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var L=this._map;if(L._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var S=D(this._map.options.maxBounds);this._offsetLimit=R(this._map.latLngToContainerPoint(S.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(S.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;L.fire("movestart").fire("dragstart"),L.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(L){if(this._map.options.inertia){var S=this._lastTime=+new Date,z=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(z),this._times.push(S),this._prunePositions(S)}this._map.fire("move",L).fire("drag",L)},_prunePositions:function(L){for(;1<this._positions.length&&50<L-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var L=this._map.getSize().divideBy(2),S=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=S.subtract(L).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(L,S){return L-(L-S)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var L=this._draggable._newPos.subtract(this._draggable._startPos),S=this._offsetLimit;L.x<S.min.x&&(L.x=this._viscousLimit(L.x,S.min.x)),L.y<S.min.y&&(L.y=this._viscousLimit(L.y,S.min.y)),L.x>S.max.x&&(L.x=this._viscousLimit(L.x,S.max.x)),L.y>S.max.y&&(L.y=this._viscousLimit(L.y,S.max.y)),this._draggable._newPos=this._draggable._startPos.add(L)}},_onPreDragWrap:function(){var L=this._worldWidth,S=Math.round(L/2),z=this._initialWorldOffset,H=this._draggable._newPos.x,tt=(H-S+z)%L+S-z,it=(H+S+z)%L-S-z,nt=Math.abs(tt+z)<Math.abs(it+z)?tt:it;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=nt},_onDragEnd:function(L){var S=this._map,z=S.options,H=!z.inertia||this._times.length<2;if(S.fire("dragend",L),H)S.fire("moveend");else{this._prunePositions(+new Date);var tt=this._lastPos.subtract(this._positions[0]),it=(this._lastTime-this._times[0])/1e3,nt=z.easeLinearity,ot=tt.multiplyBy(nt/it),at=ot.distanceTo([0,0]),rt=Math.min(z.inertiaMaxSpeed,at),ht=ot.multiplyBy(rt/at),dt=rt/(z.inertiaDeceleration*nt),pt=ht.multiplyBy(-dt/2).round();pt.x||pt.y?(pt=S._limitOffset(pt,S.options.maxBounds),M((function(){S.panBy(pt,{duration:dt,easeLinearity:nt,noMoveStart:!0,animate:!0})}))):S.fire("moveend")}}});Yn.addInitHook("addHandler","dragging",Qo),Yn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ts=io.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(L){this._map=L,this._setPanDelta(L.options.keyboardPanDelta),this._setZoomDelta(L.options.zoomDelta)},addHooks:function(){var L=this._map._container;L.tabIndex<=0&&(L.tabIndex="0"),ki(L,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ai(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var L=document.body,S=document.documentElement,z=L.scrollTop||S.scrollTop,H=L.scrollLeft||S.scrollLeft;this._map._container.focus(),window.scrollTo(H,z)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(L){var S,z,H=this._panKeys={},tt=this.keyCodes;for(S=0,z=tt.left.length;S<z;S++)H[tt.left[S]]=[-1*L,0];for(S=0,z=tt.right.length;S<z;S++)H[tt.right[S]]=[L,0];for(S=0,z=tt.down.length;S<z;S++)H[tt.down[S]]=[0,L];for(S=0,z=tt.up.length;S<z;S++)H[tt.up[S]]=[0,-1*L]},_setZoomDelta:function(L){var S,z,H=this._zoomKeys={},tt=this.keyCodes;for(S=0,z=tt.zoomIn.length;S<z;S++)H[tt.zoomIn[S]]=L;for(S=0,z=tt.zoomOut.length;S<z;S++)H[tt.zoomOut[S]]=-L},_addHooks:function(){ki(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ai(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(L){if(!(L.altKey||L.ctrlKey||L.metaKey)){var S,z=L.keyCode,H=this._map;if(z in this._panKeys)H._panAnim&&H._panAnim._inProgress||(S=this._panKeys[z],L.shiftKey&&(S=I(S).multiplyBy(3)),H.panBy(S),H.options.maxBounds&&H.panInsideBounds(H.options.maxBounds));else if(z in this._zoomKeys)H.setZoom(H.getZoom()+(L.shiftKey?3:1)*this._zoomKeys[z]);else{if(27!==z||!H._popup||!H._popup.options.closeOnEscapeKey)return;H.closePopup()}Wi(L)}}});Yn.addInitHook("addHandler","keyboard",ts),Yn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var es=io.extend({addHooks:function(){ki(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ai(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(L){var S=Ui(L),z=this._map.options.wheelDebounceTime;this._delta+=S,this._lastMousePos=this._map.mouseEventToContainerPoint(L),this._startTime||(this._startTime=+new Date);var H=Math.max(z-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),H),Wi(L)},_performZoom:function(){var L=this._map,S=L.getZoom(),z=this._map.options.zoomSnap||0;L._stop();var H=this._delta/(4*this._map.options.wheelPxPerZoomLevel),tt=4*Math.log(2/(1+Math.exp(-Math.abs(H))))/Math.LN2,it=z?Math.ceil(tt/z)*z:tt,nt=L._limitZoom(S+(0<this._delta?it:-it))-S;this._delta=0,this._startTime=null,nt&&("center"===L.options.scrollWheelZoom?L.setZoom(S+nt):L.setZoomAround(this._lastMousePos,S+nt))}});Yn.addInitHook("addHandler","scrollWheelZoom",es),Yn.mergeOptions({tap:!0,tapTolerance:15});var is=io.extend({addHooks:function(){ki(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ai(this._map._container,"touchstart",this._onDown,this)},_onDown:function(L){if(L.touches){if(ji(L),this._fireClick=!0,1<L.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var S=L.touches[0],z=S.target;this._startPos=this._newPos=new B(S.clientX,S.clientY),z.tagName&&"a"===z.tagName.toLowerCase()&&mi(z,"leaflet-active"),this._holdTimeout=setTimeout(a((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",S))}),this),1e3),this._simulateEvent("mousedown",S),ki(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(L){if(clearTimeout(this._holdTimeout),Ai(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&L&&L.changedTouches){var S=L.changedTouches[0],z=S.target;z&&z.tagName&&"a"===z.tagName.toLowerCase()&&fi(z,"leaflet-active"),this._simulateEvent("mouseup",S),this._isTapValid()&&this._simulateEvent("click",S)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(L){var S=L.touches[0];this._newPos=new B(S.clientX,S.clientY),this._simulateEvent("mousemove",S)},_simulateEvent:function(L,S){var z=document.createEvent("MouseEvents");z._simulated=!0,S.target._simulatedClick=!0,z.initMouseEvent(L,!0,!0,window,1,S.screenX,S.screenY,S.clientX,S.clientY,!1,!1,!1,!1,0,null),S.target.dispatchEvent(z)}});Qe&&!We&&Yn.addInitHook("addHandler","tap",is),Yn.mergeOptions({touchZoom:Qe&&!zt,bounceAtZoomLimits:!0});var ns=io.extend({addHooks:function(){mi(this._map._container,"leaflet-touch-zoom"),ki(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){fi(this._map._container,"leaflet-touch-zoom"),Ai(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(L){var S=this._map;if(L.touches&&2===L.touches.length&&!S._animatingZoom&&!this._zooming){var z=S.mouseEventToContainerPoint(L.touches[0]),H=S.mouseEventToContainerPoint(L.touches[1]);this._centerPoint=S.getSize()._divideBy(2),this._startLatLng=S.containerPointToLatLng(this._centerPoint),"center"!==S.options.touchZoom&&(this._pinchStartLatLng=S.containerPointToLatLng(z.add(H)._divideBy(2))),this._startDist=z.distanceTo(H),this._startZoom=S.getZoom(),this._moved=!1,this._zooming=!0,S._stop(),ki(document,"touchmove",this._onTouchMove,this),ki(document,"touchend",this._onTouchEnd,this),ji(L)}},_onTouchMove:function(L){if(L.touches&&2===L.touches.length&&this._zooming){var S=this._map,z=S.mouseEventToContainerPoint(L.touches[0]),H=S.mouseEventToContainerPoint(L.touches[1]),tt=z.distanceTo(H)/this._startDist;if(this._zoom=S.getScaleZoom(tt,this._startZoom),!S.options.bounceAtZoomLimits&&(this._zoom<S.getMinZoom()&&tt<1||this._zoom>S.getMaxZoom()&&1<tt)&&(this._zoom=S._limitZoom(this._zoom)),"center"===S.options.touchZoom){if(this._center=this._startLatLng,1==tt)return}else{var it=z._add(H)._divideBy(2)._subtract(this._centerPoint);if(1==tt&&0===it.x&&0===it.y)return;this._center=S.unproject(S.project(this._pinchStartLatLng,this._zoom).subtract(it),this._zoom)}this._moved||(S._moveStart(!0,!1),this._moved=!0),C(this._animRequest);var nt=a(S._move,S,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=M(nt,this,!0),ji(L)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,C(this._animRequest),Ai(document,"touchmove",this._onTouchMove),Ai(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Yn.addInitHook("addHandler","touchZoom",ns),Yn.BoxZoom=Xo,Yn.DoubleClickZoom=Jo,Yn.Drag=Qo,Yn.Keyboard=ts,Yn.ScrollWheelZoom=es,Yn.Tap=is,Yn.TouchZoom=ns,Object.freeze=z,S.version="1.6.0",S.Control=Kn,S.control=Qi,S.Browser=ri,S.Evented=gt,S.Mixin=oo,S.Util=dt,S.Class=E,S.Handler=io,S.extend=h,S.bind=a,S.stamp=u,S.setOptions=p,S.DomEvent=Gn,S.DomUtil=Ln,S.PosAnimation=$n,S.Draggable=lo,S.LineUtil=co,S.PolyUtil=uo,S.Point=B,S.point=I,S.Bounds=O,S.bounds=R,S.Transformation=G,S.transformation=K,S.Projection=mo,S.LatLng=j,S.latLng=W,S.LatLngBounds=N,S.latLngBounds=D,S.CRS=xt,S.GeoJSON=Do,S.geoJSON=$e,S.geoJson=Ao,S.Layer=bo,S.LayerGroup=yo,S.layerGroup=function(L,S){return new yo(L,S)},S.FeatureGroup=wo,S.featureGroup=function(L){return new wo(L)},S.ImageOverlay=Oo,S.imageOverlay=function(L,S,z){return new Oo(L,S,z)},S.VideoOverlay=No,S.videoOverlay=function(L,S,z){return new No(L,S,z)},S.SVGOverlay=zo,S.svgOverlay=function(L,S,z){return new zo(L,S,z)},S.DivOverlay=jo,S.Popup=Ro,S.popup=function(L,S){return new Ro(L,S)},S.Tooltip=Bo,S.tooltip=function(L,S){return new Bo(L,S)},S.Icon=xo,S.icon=function(L){return new xo(L)},S.DivIcon=Ho,S.divIcon=function(L){return new Ho(L)},S.Marker=Lo,S.marker=function(L,S){return new Lo(L,S)},S.TileLayer=Wo,S.tileLayer=ln,S.GridLayer=Fo,S.gridLayer=function(L){return new Fo(L)},S.SVG=Yo,S.svg=yn,S.Renderer=Go,S.Canvas=qo,S.canvas=pn,S.Path=To,S.CircleMarker=Eo,S.circleMarker=function(L,S){return new Eo(L,S)},S.Circle=So,S.circle=function(L,S,z){return new So(L,S,z)},S.Polyline=Mo,S.polyline=function(L,S){return new Mo(L,S)},S.Polygon=Po,S.polygon=function(L,S){return new Po(L,S)},S.Rectangle=Ko,S.rectangle=function(L,S){return new Ko(L,S)},S.Map=Yn,S.map=function(L,S){return new Yn(L,S)};var os=window.L;S.noConflict=function(){return window.L=os,this},window.L=S}(z)},16950:function(L,S,z){var H,tt=z(20198);void 0===(H=tt).fn.each2&&H.extend(H.fn,{each2:function(L){for(var S=H([0]),z=-1,tt=this.length;++z<tt&&(S.context=S[0]=this[z])&&!1!==L.call(S[0],z,S););return this}}),function(L,S){"use strict";if(window.Select2===S){var z,H,tt,it,nt,ot,at,rt,ht={x:0,y:0},dt={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(L){switch(L=L.which?L.which:L){case dt.LEFT:case dt.RIGHT:case dt.UP:case dt.DOWN:return!0}return!1},isControl:function(L){switch(L.which){case dt.SHIFT:case dt.CTRL:case dt.ALT:return!0}return!!L.metaKey},isFunctionKey:function(L){return(L=L.which?L.which:L)>=112&&L<=123}},pt={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};ot=L(document),rt=1,it=function(){return rt++},z=clazz(Object,{bind:function(L){var S=this;return function(){L.apply(S,arguments)}},init:function(z){var H,tt,nt=".select2-results";this.opts=z=this.prepareOpts(z),this.id=z.id,z.element.data("select2")!==S&&null!==z.element.data("select2")&&z.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=L("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(z.element.attr("id")||"autogen"+it()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",z.element.attr("title")),this.body=L("body"),syncCssClasses(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",z.element.attr("style")),this.container.css(evaluate(z.containerCss,this.opts.element)),this.container.addClass(evaluate(z.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",killEvent),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),syncCssClasses(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(evaluate(z.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",killEvent),this.results=H=this.container.find(nt),this.search=tt=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",killEvent),this.results.on("mousemove",(function(z){var H=ht;H!==S&&H.x===z.pageX&&H.y===z.pageY||L(z.target).trigger("mousemove-filtered",z)})),this.dropdown.on("mousemove-filtered",nt,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",nt,this.bind((function(L){this._touchEvent=!0,this.highlightUnderEvent(L)}))),this.dropdown.on("touchmove",nt,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",nt,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind((function(L){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())}))),function(L,S){var z=debounce(L,(function(L){S.trigger("scroll-debounced",L)}));S.on("scroll",(function(L){indexOf(L.target,S.get())>=0&&z(L)}))}(80,this.results),this.dropdown.on("scroll-debounced",nt,this.bind(this.loadMoreIfNeeded)),L(this.container).on("change",".select2-input",(function(L){L.stopPropagation()})),L(this.dropdown).on("change",".select2-input",(function(L){L.stopPropagation()})),L.fn.mousewheel&&H.mousewheel((function(L,S,z,tt){var it=H.scrollTop();tt>0&&it-tt<=0?(H.scrollTop(0),killEvent(L)):tt<0&&H.get(0).scrollHeight-H.scrollTop()+tt<=H.height()&&(H.scrollTop(H.get(0).scrollHeight-H.height()),killEvent(L))})),installKeyUpChangeEvent(tt),tt.on("keyup-change input paste",this.bind(this.updateResults)),tt.on("focus",(function(){tt.addClass("select2-focused")})),tt.on("blur",(function(){tt.removeClass("select2-focused")})),this.dropdown.on("mouseup",nt,this.bind((function(S){L(S.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(S),this.selectHighlighted(S))}))),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",(function(L){L.stopPropagation()})),this.nextSearchTerm=S,L.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==z.maximumInputLength&&this.search.attr("maxlength",z.maximumInputLength);var ot=z.element.prop("disabled");ot===S&&(ot=!1),this.enable(!ot);var rt=z.element.prop("readonly");rt===S&&(rt=!1),this.readonly(rt),at=at||function(){var S=L("<div class='select2-measure-scrollbar'></div>");S.appendTo("body");var z={width:S.width()-S[0].clientWidth,height:S.height()-S[0].clientHeight};return S.remove(),z}(),this.autofocus=z.element.prop("autofocus"),z.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",z.searchInputPlaceholder)},destroy:function(){var L=this.opts.element,z=L.data("select2"),H=this;this.close(),L.length&&L[0].detachEvent&&L.each((function(){this.detachEvent("onpropertychange",H._sync)})),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,z!==S&&(z.container.remove(),z.liveRegion.remove(),z.dropdown.remove(),L.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?L.attr({tabindex:this.elementTabIndex}):L.removeAttr("tabindex"),L.show()),cleanupJQueryElements.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(L){return L.is("option")?{id:L.prop("value"),text:L.text(),element:L.get(),css:L.attr("class"),disabled:L.prop("disabled"),locked:equal(L.attr("locked"),"locked")||equal(L.data("locked"),!0)}:L.is("optgroup")?{text:L.attr("label"),children:[],element:L.get(),css:L.attr("class")}:void 0},prepareOpts:function(z){var H,tt,nt,ot,at=this;if("select"===(H=z.element).get(0).tagName.toLowerCase()&&(this.select=tt=z.element),tt&&L.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],(function(){if(this in z)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")})),"function"!=typeof(z=L.extend({},{populateResults:function(H,tt,nt){var ot,rt=this.opts.id,ht=this.liveRegion;ot=function(H,tt,dt){var pt,gt,_t,bt,xt,kt,Ct,Lt,Tt,Et,Mt=[];for(pt=0,gt=(H=z.sortResults(H,tt,nt)).length;pt<gt;pt+=1)bt=!(xt=!0===(_t=H[pt]).disabled)&&rt(_t)!==S,kt=_t.children&&_t.children.length>0,(Ct=L("<li></li>")).addClass("select2-results-dept-"+dt),Ct.addClass("select2-result"),Ct.addClass(bt?"select2-result-selectable":"select2-result-unselectable"),xt&&Ct.addClass("select2-disabled"),kt&&Ct.addClass("select2-result-with-children"),Ct.addClass(at.opts.formatResultCssClass(_t)),Ct.attr("role","presentation"),(Lt=L(document.createElement("div"))).addClass("select2-result-label"),Lt.attr("id","select2-result-label-"+it()),Lt.attr("role","option"),(Et=z.formatResult(_t,Lt,nt,at.opts.escapeMarkup))!==S&&(Lt.html(Et),Ct.append(Lt)),kt&&((Tt=L("<ul></ul>")).addClass("select2-result-sub"),ot(_t.children,Tt,dt+1),Ct.append(Tt)),Ct.data("select2-data",_t),Mt.push(Ct[0]);tt.append(Mt),ht.text(z.formatMatches(H.length))},ot(tt,H,0)}},L.fn.select2.defaults,z)).id&&(nt=z.id,z.id=function(L){return L[nt]}),L.isArray(z.element.data("select2Tags"))){if("tags"in z)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+z.element.attr("id");z.tags=z.element.data("select2Tags")}if(tt?(z.query=this.bind((function(L){var z,tt,it,nt={results:[],more:!1},ot=L.term;it=function(S,z){var H;S.is("option")?L.matcher(ot,S.text(),S)&&z.push(at.optionToData(S)):S.is("optgroup")&&(H=at.optionToData(S),S.children().each2((function(L,S){it(S,H.children)})),H.children.length>0&&z.push(H))},z=H.children(),this.getPlaceholder()!==S&&z.length>0&&(tt=this.getPlaceholderOption())&&(z=z.not(tt)),z.each2((function(L,S){it(S,nt.results)})),L.callback(nt)})),z.id=function(L){return L.id}):"query"in z||("ajax"in z?((ot=z.element.data("ajax-url"))&&ot.length>0&&(z.ajax.url=ot),z.query=ajax.call(z.element,z.ajax)):"data"in z?z.query=local(z.data):"tags"in z&&(z.query=tags(z.tags),z.createSearchChoice===S&&(z.createSearchChoice=function(S){return{id:L.trim(S),text:L.trim(S)}}),z.initSelection===S&&(z.initSelection=function(S,H){var tt=[];L(splitVal(S.val(),z.separator)).each((function(){var S={id:this,text:this},H=z.tags;L.isFunction(H)&&(H=H()),L(H).each((function(){if(equal(this.id,S.id))return S=this,!1})),tt.push(S)})),H(tt)}))),"function"!=typeof z.query)throw"query function not defined for Select2 "+z.element.attr("id");if("top"===z.createSearchChoicePosition)z.createSearchChoicePosition=function(L,S){L.unshift(S)};else if("bottom"===z.createSearchChoicePosition)z.createSearchChoicePosition=function(L,S){L.push(S)};else if("function"!=typeof z.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return z},monitorSource:function(){var z,H=this.opts.element,tt=this;H.on("change.select2",this.bind((function(L){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))),this._sync=this.bind((function(){var L=H.prop("disabled");L===S&&(L=!1),this.enable(!L);var z=H.prop("readonly");z===S&&(z=!1),this.readonly(z),syncCssClasses(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(evaluate(this.opts.containerCssClass,this.opts.element)),syncCssClasses(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(evaluate(this.opts.dropdownCssClass,this.opts.element))})),H.length&&H[0].attachEvent&&H.each((function(){this.attachEvent("onpropertychange",tt._sync)})),(z=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==S&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new z((function(S){L.each(S,tt._sync)})),this.propertyObserver.observe(H.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(S){var z=L.Event("select2-selecting",{val:this.id(S),object:S,choice:S});return this.opts.element.trigger(z),!z.isDefaultPrevented()},triggerChange:function(S){S=S||{},S=L.extend({},S,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(S),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var L=this._enabled&&!this._readonly,S=!L;return L!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",S),this.close(),this.enabledInterface=L,!0)},enable:function(L){L===S&&(L=!0),this._enabled!==L&&(this._enabled=L,this.opts.element.prop("disabled",!L),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(L){L===S&&(L=!1),this._readonly!==L&&(this._readonly=L,this.opts.element.prop("readonly",L),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var S,z,H,tt,it,nt=this.dropdown,ot=this.container.offset(),rt=this.container.outerHeight(!1),ht=this.container.outerWidth(!1),dt=nt.outerHeight(!1),pt=L(window),gt=pt.width(),_t=pt.height(),bt=pt.scrollLeft()+gt,xt=pt.scrollTop()+_t,kt=ot.top+rt,Ct=ot.left,Lt=kt+dt<=xt,Tt=ot.top-dt>=pt.scrollTop(),Et=nt.outerWidth(!1),Mt=Ct+Et<=bt;nt.hasClass("select2-drop-above")?(z=!0,!Tt&&Lt&&(H=!0,z=!1)):(z=!1,!Lt&&Tt&&(H=!0,z=!0)),H&&(nt.hide(),ot=this.container.offset(),rt=this.container.outerHeight(!1),ht=this.container.outerWidth(!1),dt=nt.outerHeight(!1),bt=pt.scrollLeft()+gt,xt=pt.scrollTop()+_t,kt=ot.top+rt,Mt=(Ct=ot.left)+(Et=nt.outerWidth(!1))<=bt,nt.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(it=L(".select2-results",nt)[0],nt.addClass("select2-drop-auto-width"),nt.css("width",""),(Et=nt.outerWidth(!1)+(it.scrollHeight===it.clientHeight?0:at.width))>ht?ht=Et:Et=ht,dt=nt.outerHeight(!1),Mt=Ct+Et<=bt):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(kt-=(S=this.body.offset()).top,Ct-=S.left),Mt||(Ct=ot.left+this.container.outerWidth(!1)-Et),tt={left:Ct,width:ht},z?(tt.top=ot.top-dt,tt.bottom="auto",this.container.addClass("select2-drop-above"),nt.addClass("select2-drop-above")):(tt.top=kt,tt.bottom="auto",this.container.removeClass("select2-drop-above"),nt.removeClass("select2-drop-above")),tt=L.extend(tt,evaluate(this.opts.dropdownCss,this.opts.element)),nt.css(tt)},shouldOpen:function(){var S;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(S=L.Event("select2-opening"),this.opts.element.trigger(S),!S.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),ot.on("mousemove.select2Event",(function(L){ht.x=L.pageX,ht.y=L.pageY})),!0)},opening:function(){var S,z=this.containerEventName,H="scroll."+z,tt="resize."+z,it="orientationchange."+z;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0==(S=L("#select2-drop-mask")).length&&((S=L(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),S.hide(),S.appendTo(this.body),S.on("mousedown touchstart click",(function(z){reinsertElement(S);var H,tt=L("#select2-drop");tt.length>0&&((H=tt.data("select2")).opts.selectOnBlur&&H.selectHighlighted({noFocus:!0}),H.close(),z.preventDefault(),z.stopPropagation())}))),this.dropdown.prev()[0]!==S[0]&&this.dropdown.before(S),L("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),S.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var nt=this;this.container.parents().add(window).each((function(){L(this).on(tt+" "+H+" "+it,(function(L){nt.opened()&&nt.positionDropdown()}))}))},close:function(){if(this.opened()){var S=this.containerEventName,z="scroll."+S,H="resize."+S,tt="orientationchange."+S;this.container.parents().add(window).each((function(){L(this).off(z).off(H).off(tt)})),this.clearDropdownAlignmentPreference(),L("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),ot.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(L.Event("select2-close"))}},externalSearch:function(L){this.open(),this.search.val(L),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return evaluate(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var S,z,H,tt,it,nt,ot,at,rt=this.results;(z=this.highlight())<0||(0!=z?(S=this.findHighlightableChoices().find(".select2-result-label"),tt=(at=((H=L(S[z])).offset()||{}).top||0)+H.outerHeight(!0),z===S.length-1&&(ot=rt.find("li.select2-more-results")).length>0&&(tt=ot.offset().top+ot.outerHeight(!0)),tt>(it=rt.offset().top+rt.outerHeight(!0))&&rt.scrollTop(rt.scrollTop()+(tt-it)),(nt=at-rt.offset().top)<0&&"none"!=H.css("display")&&rt.scrollTop(rt.scrollTop()+nt)):rt.scrollTop(0))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(S){for(var z=this.findHighlightableChoices(),H=this.highlight();H>-1&&H<z.length;){var tt=L(z[H+=S]);if(tt.hasClass("select2-result-selectable")&&!tt.hasClass("select2-disabled")&&!tt.hasClass("select2-selected")){this.highlight(H);break}}},highlight:function(S){var z,H,tt=this.findHighlightableChoices();if(0===arguments.length)return indexOf(tt.filter(".select2-highlighted")[0],tt.get());S>=tt.length&&(S=tt.length-1),S<0&&(S=0),this.removeHighlight(),(z=L(tt[S])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",z.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(z.text()),(H=z.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(H),choice:H})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(S){var z=L(S.target).closest(".select2-result-selectable");if(z.length>0&&!z.is(".select2-highlighted")){var H=this.findHighlightableChoices();this.highlight(H.index(z))}else 0==z.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var L=this.results,S=L.find("li.select2-more-results"),z=this.resultsPage+1,H=this,tt=this.search.val(),it=this.context;0!==S.length&&S.offset().top-L.offset().top-L.height()<=this.opts.loadMorePadding&&(S.addClass("select2-active"),this.opts.query({element:this.opts.element,term:tt,page:z,context:it,matcher:this.opts.matcher,callback:this.bind((function(nt){H.opened()&&(H.opts.populateResults.call(this,L,nt.results,{term:tt,page:z,context:it}),H.postprocessResults(nt,!1,!1),!0===nt.more?(S.detach().appendTo(L).text(evaluate(H.opts.formatLoadMore,H.opts.element,z+1)),window.setTimeout((function(){H.loadMoreIfNeeded()}),10)):S.remove(),H.positionDropdown(),H.resultsPage=z,H.context=nt.context,this.opts.element.trigger({type:"select2-loaded",items:nt}))}))}))},tokenize:function(){},updateResults:function(z){var H,tt,it,nt=this.search,ot=this.results,at=this.opts,rt=this,ht=nt.val(),dt=L.data(this.container,"select2-last-term");if((!0===z||!dt||!equal(ht,dt))&&(L.data(this.container,"select2-last-term",ht),!0===z||!1!==this.showSearchInput&&this.opened())){it=++this.queryCount;var pt=this.getMaximumSelectionSize();if(!(pt>=1&&(H=this.data(),L.isArray(H)&&H.length>=pt&&checkFormatter(at.formatSelectionTooBig,"formatSelectionTooBig"))))return nt.val().length<at.minimumInputLength?(checkFormatter(at.formatInputTooShort,"formatInputTooShort")?render("<li class='select2-no-results'>"+evaluate(at.formatInputTooShort,at.element,nt.val(),at.minimumInputLength)+"</li>"):render(""),void(z&&this.showSearch&&this.showSearch(!0))):void(at.maximumInputLength&&nt.val().length>at.maximumInputLength?checkFormatter(at.formatInputTooLong,"formatInputTooLong")?render("<li class='select2-no-results'>"+evaluate(at.formatInputTooLong,at.element,nt.val(),at.maximumInputLength)+"</li>"):render(""):(at.formatSearching&&0===this.findHighlightableChoices().length&&render("<li class='select2-searching'>"+evaluate(at.formatSearching,at.element)+"</li>"),nt.addClass("select2-active"),this.removeHighlight(),(tt=this.tokenize())!=S&&null!=tt&&nt.val(tt),this.resultsPage=1,at.query({element:at.element,term:nt.val(),page:this.resultsPage,context:null,matcher:at.matcher,callback:this.bind((function(H){var tt;it==this.queryCount&&(this.opened()?H.hasError!==S&&checkFormatter(at.formatAjaxError,"formatAjaxError")?render("<li class='select2-ajax-error'>"+evaluate(at.formatAjaxError,at.element,H.jqXHR,H.textStatus,H.errorThrown)+"</li>"):(this.context=H.context===S?null:H.context,this.opts.createSearchChoice&&""!==nt.val()&&(tt=this.opts.createSearchChoice.call(rt,nt.val(),H.results))!==S&&null!==tt&&rt.id(tt)!==S&&null!==rt.id(tt)&&0===L(H.results).filter((function(){return equal(rt.id(this),rt.id(tt))})).length&&this.opts.createSearchChoicePosition(H.results,tt),0===H.results.length&&checkFormatter(at.formatNoMatches,"formatNoMatches")?render("<li class='select2-no-results'>"+evaluate(at.formatNoMatches,at.element,nt.val())+"</li>"):(ot.empty(),rt.opts.populateResults.call(this,ot,H.results,{term:nt.val(),page:this.resultsPage,context:null}),!0===H.more&&checkFormatter(at.formatLoadMore,"formatLoadMore")&&(ot.append("<li class='select2-more-results'>"+at.escapeMarkup(evaluate(at.formatLoadMore,at.element,this.resultsPage))+"</li>"),window.setTimeout((function(){rt.loadMoreIfNeeded()}),10)),this.postprocessResults(H,z),postRender(),this.opts.element.trigger({type:"select2-loaded",items:H}))):this.search.removeClass("select2-active"))}))})));render("<li class='select2-selection-limit'>"+evaluate(at.formatSelectionTooBig,at.element,pt)+"</li>")}function postRender(){nt.removeClass("select2-active"),rt.positionDropdown(),ot.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?rt.liveRegion.text(ot.text()):rt.liveRegion.text(rt.opts.formatMatches(ot.find(".select2-result-selectable").length))}function render(L){ot.html(L),postRender()}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){var L;(L=this.search)[0]!==document.activeElement&&window.setTimeout((function(){var S,z=L[0],H=L.val().length;L.focus(),(z.offsetWidth>0||z.offsetHeight>0)&&z===document.activeElement&&(z.setSelectionRange?z.setSelectionRange(H,H):z.createTextRange&&((S=z.createTextRange()).collapse(!1),S.select()))}),0)},selectHighlighted:function(L){if(this._touchMoved)this.clearTouchMoved();else{var S=this.highlight(),z=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");z?(this.highlight(S),this.onSelect(z,L)):L&&L.noFocus&&this.close()}},getPlaceholder:function(){var L;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((L=this.getPlaceholderOption())!==S?L.text():S)},getPlaceholderOption:function(){if(this.select){var z=this.select.children("option").first();if(this.opts.placeholderOption!==S)return"first"===this.opts.placeholderOption&&z||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===L.trim(z.text())&&""===z.val())return z}},initContainerWidth:function(){var z=function(){var z,H,tt,it,nt;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((z=this.opts.element.attr("style"))!==S)for(it=0,nt=(H=z.split(";")).length;it<nt;it+=1)if(null!==(tt=H[it].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&tt.length>=1)return tt[1];return"resolve"===this.opts.width?(z=this.opts.element.css("width")).indexOf("%")>0?z:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return L.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==z&&this.container.css("width",z)}}),H=clazz(z,{createContainer:function(){return L(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var z,H,tt;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(z=this.search.get(0)).createTextRange?((H=z.createTextRange()).collapse(!1),H.select()):z.setSelectionRange&&(tt=this.search.val().length,z.setSelectionRange(tt,tt))),""===this.search.val()&&this.nextSearchTerm!=S&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(L.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){L("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),cleanupJQueryElements.call(this,"selection","focusser")},initContainer:function(){var S,z,H=this.container,tt=this.dropdown,nt=it();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=S=H.find(".select2-choice"),this.focusser=H.find(".select2-focusser"),S.find(".select2-chosen").attr("id","select2-chosen-"+nt),this.focusser.attr("aria-labelledby","select2-chosen-"+nt),this.results.attr("id","select2-results-"+nt),this.search.attr("aria-owns","select2-results-"+nt),this.focusser.attr("id","s2id_autogen"+nt),z=L("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(z.text()).attr("for",this.focusser.attr("id"));var ot=this.opts.element.attr("title");this.opts.element.attr("title",ot||z.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(L("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind((function(L){if(this.isInterfaceEnabled()&&229!=L.keyCode)if(L.which!==dt.PAGE_UP&&L.which!==dt.PAGE_DOWN)switch(L.which){case dt.UP:case dt.DOWN:return this.moveHighlight(L.which===dt.UP?-1:1),void killEvent(L);case dt.ENTER:return this.selectHighlighted(),void killEvent(L);case dt.TAB:return void this.selectHighlighted({noFocus:!0});case dt.ESC:return this.cancel(L),void killEvent(L)}else killEvent(L)}))),this.search.on("blur",this.bind((function(L){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind((function(){this.opened()&&this.search.focus()})),0)}))),this.focusser.on("keydown",this.bind((function(L){if(this.isInterfaceEnabled()&&L.which!==dt.TAB&&!dt.isControl(L)&&!dt.isFunctionKey(L)&&L.which!==dt.ESC){if(!1!==this.opts.openOnEnter||L.which!==dt.ENTER){if(L.which==dt.DOWN||L.which==dt.UP||L.which==dt.ENTER&&this.opts.openOnEnter){if(L.altKey||L.ctrlKey||L.shiftKey||L.metaKey)return;return this.open(),void killEvent(L)}return L.which==dt.DELETE||L.which==dt.BACKSPACE?(this.opts.allowClear&&this.clear(),void killEvent(L)):void 0}killEvent(L)}}))),installKeyUpChangeEvent(this.focusser),this.focusser.on("keyup-change input",this.bind((function(L){if(this.opts.minimumResultsForSearch>=0){if(L.stopPropagation(),this.opened())return;this.open()}}))),S.on("mousedown touchstart","abbr",this.bind((function(L){var S;this.isInterfaceEnabled()&&(this.clear(),(S=L).preventDefault(),S.stopImmediatePropagation(),this.close(),this.selection.focus())}))),S.on("mousedown touchstart",this.bind((function(z){reinsertElement(S),this.container.hasClass("select2-container-active")||this.opts.element.trigger(L.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),killEvent(z)}))),tt.on("mousedown touchstart",this.bind((function(){this.opts.shouldFocusInput(this)&&this.search.focus()}))),S.on("focus",this.bind((function(L){killEvent(L)}))),this.focusser.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(L.Event("select2-focus")),this.container.addClass("select2-container-active")}))).on("blur",this.bind((function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(L.Event("select2-blur")))}))),this.search.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(L.Event("select2-focus")),this.container.addClass("select2-container-active")}))),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(S){var z=this.selection.data("select2-data");if(z){var H=L.Event("select2-clearing");if(this.opts.element.trigger(H),H.isDefaultPrevented())return;var tt=this.getPlaceholderOption();this.opts.element.val(tt?tt.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==S&&(this.opts.element.trigger({type:"select2-removed",val:this.id(z),choice:z}),this.triggerChange({removed:z}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var L=this;this.opts.initSelection.call(null,this.opts.element,(function(z){z!==S&&null!==z&&(L.updateSelection(z),L.close(),L.setPlaceholder(),L.nextSearchTerm=L.opts.nextSearchTerm(z,L.search.val()))}))}},isPlaceholderOptionSelected:function(){var L;return this.getPlaceholder()!==S&&((L=this.getPlaceholderOption())!==S&&L.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===S||null===this.opts.element.val())},prepareOpts:function(){var S=this.parent.prepareOpts.apply(this,arguments),z=this;return"select"===S.element.get(0).tagName.toLowerCase()?S.initSelection=function(L,S){var H=L.find("option").filter((function(){return this.selected&&!this.disabled}));S(z.optionToData(H))}:"data"in S&&(S.initSelection=S.initSelection||function(z,H){var tt=z.val(),it=null;S.query({matcher:function(L,z,H){var nt=equal(tt,S.id(H));return nt&&(it=H),nt},callback:L.isFunction(H)?function(){H(it)}:L.noop})}),S},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===S?S:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var L=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&L!==S){if(this.select&&this.getPlaceholderOption()===S)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(L)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(L,S,z){var H=0,tt=this;if(this.findHighlightableChoices().each2((function(L,S){if(equal(tt.id(S.data("select2-data")),tt.opts.element.val()))return H=L,!1})),!1!==z&&(!0===S&&H>=0?this.highlight(H):this.highlight(0)),!0===S){var it=this.opts.minimumResultsForSearch;it>=0&&this.showSearch(countResults(L.results)>=it)}},showSearch:function(S){this.showSearchInput!==S&&(this.showSearchInput=S,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!S),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!S),L(this.dropdown,this.container).toggleClass("select2-with-searchbox",S))},onSelect:function(L,S){if(this.triggerSelect(L)){var z=this.opts.element.val(),H=this.data();this.opts.element.val(this.id(L)),this.updateSelection(L),this.opts.element.trigger({type:"select2-selected",val:this.id(L),choice:L}),this.nextSearchTerm=this.opts.nextSearchTerm(L,this.search.val()),this.close(),S&&S.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),equal(z,this.id(L))||this.triggerChange({added:L,removed:H})}},updateSelection:function(L){var z,H,tt=this.selection.find(".select2-chosen");this.selection.data("select2-data",L),tt.empty(),null!==L&&(z=this.opts.formatSelection(L,tt,this.opts.escapeMarkup)),z!==S&&tt.append(z),(H=this.opts.formatSelectionCssClass(L,tt))!==S&&tt.addClass(H),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==S&&this.container.addClass("select2-allowclear")},val:function(){var L,z=!1,H=null,tt=this,it=this.data();if(0===arguments.length)return this.opts.element.val();if(L=arguments[0],arguments.length>1&&(z=arguments[1]),this.select)this.select.val(L).find("option").filter((function(){return this.selected})).each2((function(L,S){return H=tt.optionToData(S),!1})),this.updateSelection(H),this.setPlaceholder(),z&&this.triggerChange({added:H,removed:it});else{if(!L&&0!==L)return void this.clear(z);if(this.opts.initSelection===S)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(L),this.opts.initSelection(this.opts.element,(function(L){tt.opts.element.val(L?tt.id(L):""),tt.updateSelection(L),tt.setPlaceholder(),z&&tt.triggerChange({added:L,removed:it})}))}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(L){var z,H=!1;if(0===arguments.length)return(z=this.selection.data("select2-data"))==S&&(z=null),z;arguments.length>1&&(H=arguments[1]),L?(z=this.data(),this.opts.element.val(L?this.id(L):""),this.updateSelection(L),H&&this.triggerChange({added:L,removed:z})):this.clear(H)}}),tt=clazz(z,{createContainer:function(){return L(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var S=this.parent.prepareOpts.apply(this,arguments),z=this;return"select"===S.element.get(0).tagName.toLowerCase()?S.initSelection=function(L,S){var H=[];L.find("option").filter((function(){return this.selected&&!this.disabled})).each2((function(L,S){H.push(z.optionToData(S))})),S(H)}:"data"in S&&(S.initSelection=S.initSelection||function(z,H){var tt=splitVal(z.val(),S.separator),it=[];S.query({matcher:function(z,H,nt){var ot=L.grep(tt,(function(L){return equal(L,S.id(nt))})).length;return ot&&it.push(nt),ot},callback:L.isFunction(H)?function(){for(var L=[],z=0;z<tt.length;z++)for(var nt=tt[z],ot=0;ot<it.length;ot++){var at=it[ot];if(equal(nt,S.id(at))){L.push(at),it.splice(ot,1);break}}H(L)}:L.noop})}),S},selectChoice:function(L){var S=this.container.find(".select2-search-choice-focus");S.length&&L&&L[0]==S[0]||(S.length&&this.opts.element.trigger("choice-deselected",S),S.removeClass("select2-search-choice-focus"),L&&L.length&&(this.close(),L.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",L)))},destroy:function(){L("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),cleanupJQueryElements.call(this,"searchContainer","selection")},initContainer:function(){var S,z=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=S=this.container.find(z);var H=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",(function(S){H.search[0].focus(),H.selectChoice(L(this))})),this.search.attr("id","s2id_autogen"+it()),this.search.prev().text(L("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind((function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())}))),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind((function(z){if(this.isInterfaceEnabled()){++this.keydowns;var H=S.find(".select2-search-choice-focus"),tt=H.prev(".select2-search-choice:not(.select2-locked)"),it=H.next(".select2-search-choice:not(.select2-locked)"),nt=function(S){var z=0,H=0;if("selectionStart"in(S=L(S)[0]))z=S.selectionStart,H=S.selectionEnd-z;else if("selection"in document){S.focus();var tt=document.selection.createRange();H=document.selection.createRange().text.length,tt.moveStart("character",-S.value.length),z=tt.text.length-H}return{offset:z,length:H}}(this.search);if(H.length&&(z.which==dt.LEFT||z.which==dt.RIGHT||z.which==dt.BACKSPACE||z.which==dt.DELETE||z.which==dt.ENTER)){var ot=H;return z.which==dt.LEFT&&tt.length?ot=tt:z.which==dt.RIGHT?ot=it.length?it:null:z.which===dt.BACKSPACE?this.unselect(H.first())&&(this.search.width(10),ot=tt.length?tt:it):z.which==dt.DELETE?this.unselect(H.first())&&(this.search.width(10),ot=it.length?it:null):z.which==dt.ENTER&&(ot=null),this.selectChoice(ot),killEvent(z),void(ot&&ot.length||this.open())}if((z.which===dt.BACKSPACE&&1==this.keydowns||z.which==dt.LEFT)&&0==nt.offset&&!nt.length)return this.selectChoice(S.find(".select2-search-choice:not(.select2-locked)").last()),void killEvent(z);if(this.selectChoice(null),this.opened())switch(z.which){case dt.UP:case dt.DOWN:return this.moveHighlight(z.which===dt.UP?-1:1),void killEvent(z);case dt.ENTER:return this.selectHighlighted(),void killEvent(z);case dt.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case dt.ESC:return this.cancel(z),void killEvent(z)}if(z.which!==dt.TAB&&!dt.isControl(z)&&!dt.isFunctionKey(z)&&z.which!==dt.BACKSPACE&&z.which!==dt.ESC){if(z.which===dt.ENTER){if(!1===this.opts.openOnEnter)return;if(z.altKey||z.ctrlKey||z.shiftKey||z.metaKey)return}this.open(),z.which!==dt.PAGE_UP&&z.which!==dt.PAGE_DOWN||killEvent(z),z.which===dt.ENTER&&killEvent(z)}}}))),this.search.on("keyup",this.bind((function(L){this.keydowns=0,this.resizeSearch()}))),this.search.on("blur",this.bind((function(S){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),S.stopImmediatePropagation(),this.opts.element.trigger(L.Event("select2-blur"))}))),this.container.on("click",z,this.bind((function(S){this.isInterfaceEnabled()&&(L(S.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(L.Event("select2-focus")),this.open(),this.focusSearch(),S.preventDefault()))}))),this.container.on("focus",z,this.bind((function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(L.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}))),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var L=this;this.opts.initSelection.call(null,this.opts.element,(function(z){z!==S&&null!==z&&(L.updateSelection(z),L.close(),L.clearSearch())}))}},clearSearch:function(){var L=this.getPlaceholder(),z=this.getMaxSearchWidth();L!==S&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(L).addClass("select2-default"),this.search.width(z>0?z:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=S&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(L.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(S){var z=[],H=[],tt=this;L(S).each((function(){indexOf(tt.id(this),z)<0&&(z.push(tt.id(this)),H.push(this))})),S=H,this.selection.find(".select2-search-choice").remove(),L(S).each((function(){tt.addSelectedChoice(this)})),tt.postprocessResults()},tokenize:function(){var L=this.search.val();null!=(L=this.opts.tokenizer.call(this,L,this.data(),this.bind(this.onSelect),this.opts))&&L!=S&&(this.search.val(L),L.length>0&&this.open())},onSelect:function(L,z){this.triggerSelect(L)&&""!==L.text&&(this.addSelectedChoice(L),this.opts.element.trigger({type:"selected",val:this.id(L),choice:L}),this.nextSearchTerm=this.opts.nextSearchTerm(L,this.search.val()),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(L,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=S&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:L}),z&&z.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(z){var H,tt,it=!z.locked,nt=L("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),ot=L("<li class='select2-search-choice select2-locked'><div></div></li>"),at=it?nt:ot,rt=this.id(z),ht=this.getVal();(H=this.opts.formatSelection(z,at.find("div"),this.opts.escapeMarkup))!=S&&at.find("div").replaceWith("<div>"+H+"</div>"),(tt=this.opts.formatSelectionCssClass(z,at.find("div")))!=S&&at.addClass(tt),it&&at.find(".select2-search-choice-close").on("mousedown",killEvent).on("click dblclick",this.bind((function(S){this.isInterfaceEnabled()&&(this.unselect(L(S.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),killEvent(S),this.close(),this.focusSearch())}))).on("focus",this.bind((function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}))),at.data("select2-data",z),at.insertBefore(this.searchContainer),ht.push(rt),this.setVal(ht)},unselect:function(S){var z,H,tt=this.getVal();if(0===(S=S.closest(".select2-search-choice")).length)throw"Invalid argument: "+S+". Must be .select2-search-choice";if(z=S.data("select2-data")){var it=L.Event("select2-removing");if(it.val=this.id(z),it.choice=z,this.opts.element.trigger(it),it.isDefaultPrevented())return!1;for(;(H=indexOf(this.id(z),tt))>=0;)tt.splice(H,1),this.setVal(tt),this.select&&this.postprocessResults();return S.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(z),choice:z}),this.triggerChange({removed:z}),!0}},postprocessResults:function(L,S,z){var H=this.getVal(),tt=this.results.find(".select2-result"),it=this.results.find(".select2-result-with-children"),nt=this;tt.each2((function(L,S){indexOf(nt.id(S.data("select2-data")),H)>=0&&(S.addClass("select2-selected"),S.find(".select2-result-selectable").addClass("select2-selected"))})),it.each2((function(L,S){S.is(".select2-result-selectable")||0!==S.find(".select2-result-selectable:not(.select2-selected)").length||S.addClass("select2-selected")})),-1==this.highlight()&&!1!==z&&nt.highlight(0),!this.opts.createSearchChoice&&!tt.filter(".select2-result:not(.select2-selected)").length>0&&(!L||L&&!L.more&&0===this.results.find(".select2-no-results").length)&&checkFormatter(nt.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+evaluate(nt.opts.formatNoMatches,nt.opts.element,nt.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-getSideBorderPadding(this.search)},resizeSearch:function(){var S,z,H,tt,it=getSideBorderPadding(this.search);S=function(S){if(!nt){var z=S[0].currentStyle||window.getComputedStyle(S[0],null);(nt=L(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:z.fontSize,fontFamily:z.fontFamily,fontStyle:z.fontStyle,fontWeight:z.fontWeight,letterSpacing:z.letterSpacing,textTransform:z.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),L("body").append(nt)}return nt.text(S.val()),nt.width()}(this.search)+10,z=this.search.offset().left,(tt=(H=this.selection.width())-(z-this.selection.offset().left)-it)<S&&(tt=H-it),tt<40&&(tt=H-it),tt<=0&&(tt=S),this.search.width(Math.floor(tt))},getVal:function(){var L;return this.select?null===(L=this.select.val())?[]:L:splitVal(L=this.opts.element.val(),this.opts.separator)},setVal:function(S){var z;this.select?this.select.val(S):(z=[],L(S).each((function(){indexOf(this,z)<0&&z.push(this)})),this.opts.element.val(0===z.length?"":z.join(this.opts.separator)))},buildChangeDetails:function(L,S){S=S.slice(0),L=L.slice(0);for(var z=0;z<S.length;z++)for(var H=0;H<L.length;H++)equal(this.opts.id(S[z]),this.opts.id(L[H]))&&(S.splice(z,1),z>0&&z--,L.splice(H,1),H--);return{added:S,removed:L}},val:function(z,H){var tt,it=this;if(0===arguments.length)return this.getVal();if((tt=this.data()).length||(tt=[]),!z&&0!==z)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(H&&this.triggerChange({added:this.data(),removed:tt}));if(this.setVal(z),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),H&&this.triggerChange(this.buildChangeDetails(tt,this.data()));else{if(this.opts.initSelection===S)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,(function(S){var z=L.map(S,it.id);it.setVal(z),it.updateSelection(S),it.clearSearch(),H&&it.triggerChange(it.buildChangeDetails(tt,it.data()))}))}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var S=[],z=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each((function(){S.push(z.opts.id(L(this).data("select2-data")))})),this.setVal(S),this.triggerChange()},data:function(S,z){var H,tt,it=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map((function(){return L(this).data("select2-data")})).get();tt=this.data(),S||(S=[]),H=L.map(S,(function(L){return it.opts.id(L)})),this.setVal(H),this.updateSelection(S),this.clearSearch(),z&&this.triggerChange(this.buildChangeDetails(tt,this.data()))}}),L.fn.select2=function(){var z,H,tt,it,nt,ot=Array.prototype.slice.call(arguments,0),at=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],rt=["opened","isFocused","container","dropdown"],ht=["val","data"],dt={search:"externalSearch"};return this.each((function(){if(0===ot.length||"object"==typeof ot[0])(z=0===ot.length?{}:L.extend({},ot[0])).element=L(this),"select"===z.element.get(0).tagName.toLowerCase()?nt=z.element.prop("multiple"):(nt=z.multiple||!1,"tags"in z&&(z.multiple=nt=!0)),(H=nt?new window.Select2.class.multi:new window.Select2.class.single).init(z);else{if("string"!=typeof ot[0])throw"Invalid arguments to select2 plugin: "+ot;if(indexOf(ot[0],at)<0)throw"Unknown method: "+ot[0];if(it=S,(H=L(this).data("select2"))===S)return;if("container"===(tt=ot[0])?it=H.container:"dropdown"===tt?it=H.dropdown:(dt[tt]&&(tt=dt[tt]),it=H[tt].apply(H,ot.slice(1))),indexOf(ot[0],rt)>=0||indexOf(ot[0],ht)>=0&&1==ot.length)return!1}})),it===S?this:it},L.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(L,S,z,H){var tt=[];return markMatch(L.text,z.term,tt,H),tt.join("")},formatSelection:function(L,z,H){return L?H(L.text):S},sortResults:function(L,S,z){return L},formatResultCssClass:function(L){return L.css},formatSelectionCssClass:function(L,z){return S},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(L){return L==S?null:L.id},matcher:function(L,S){return stripDiacritics(""+S).toUpperCase().indexOf(stripDiacritics(""+L).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:function(L,z,H,tt){var it,nt,ot,at,rt,ht=L,dt=!1;if(!tt.createSearchChoice||!tt.tokenSeparators||tt.tokenSeparators.length<1)return S;for(;;){for(nt=-1,ot=0,at=tt.tokenSeparators.length;ot<at&&(rt=tt.tokenSeparators[ot],!((nt=L.indexOf(rt))>=0));ot++);if(nt<0)break;if(it=L.substring(0,nt),L=L.substring(nt+rt.length),it.length>0&&(it=tt.createSearchChoice.call(this,it,z))!==S&&null!==it&&tt.id(it)!==S&&null!==tt.id(it)){for(dt=!1,ot=0,at=z.length;ot<at;ot++)if(equal(tt.id(it),tt.id(z[ot]))){dt=!0;break}dt||H(it)}}return ht!==L?L:void 0},escapeMarkup:defaultEscapeMarkup,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(L){return L},adaptDropdownCssClass:function(L){return null},nextSearchTerm:function(L,z){return S},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(L){return!("ontouchstart"in window||navigator.msMaxTouchPoints>0)||!(L.opts.minimumResultsForSearch<0)}},L.fn.select2.locales=[],L.fn.select2.locales.en={formatMatches:function(L){return 1===L?"One result is available, press enter to select it.":L+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(L,S,z){return"Loading failed"},formatInputTooShort:function(L,S){var z=S-L.length;return"Please enter "+z+" or more character"+(1==z?"":"s")},formatInputTooLong:function(L,S){var z=L.length-S;return"Please delete "+z+" character"+(1==z?"":"s")},formatSelectionTooBig:function(L){return"You can only select "+L+" item"+(1==L?"":"s")},formatLoadMore:function(L){return"Loading more results"},formatSearching:function(){return"Searching"}},L.extend(L.fn.select2.defaults,L.fn.select2.locales.en),L.fn.select2.ajaxDefaults={transport:L.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:ajax,local:local,tags:tags},util:{debounce:debounce,markMatch:markMatch,escapeMarkup:defaultEscapeMarkup,stripDiacritics:stripDiacritics},class:{abstract:z,single:H,multi:tt}}}function reinsertElement(S){var z=L(document.createTextNode(""));S.before(z),z.before(S),z.remove()}function stripDiacritics(L){return L.replace(/[^\u0000-\u007E]/g,(function(L){return pt[L]||L}))}function indexOf(L,S){for(var z=0,H=S.length;z<H;z+=1)if(equal(L,S[z]))return z;return-1}function equal(L,z){return L===z||L!==S&&z!==S&&(null!==L&&null!==z&&(L.constructor===String?L+""==z+"":z.constructor===String&&z+""==L+""))}function splitVal(S,z){var H,tt,it;if(null===S||S.length<1)return[];for(tt=0,it=(H=S.split(z)).length;tt<it;tt+=1)H[tt]=L.trim(H[tt]);return H}function getSideBorderPadding(L){return L.outerWidth(!1)-L.width()}function installKeyUpChangeEvent(z){var H="keyup-change-value";z.on("keydown",(function(){L.data(z,H)===S&&L.data(z,H,z.val())})),z.on("keyup",(function(){var tt=L.data(z,H);tt!==S&&z.val()!==tt&&(L.removeData(z,H),z.trigger("keyup-change"))}))}function debounce(L,z,H){var tt;return H=H||S,function(){var S=arguments;window.clearTimeout(tt),tt=window.setTimeout((function(){z.apply(H,S)}),L)}}function killEvent(L){L.preventDefault(),L.stopPropagation()}function syncCssClasses(S,z,H){var tt,it,nt=[];(tt=L.trim(S.attr("class")))&&L((tt=""+tt).split(/\s+/)).each2((function(){0===this.indexOf("select2-")&&nt.push(this)})),(tt=L.trim(z.attr("class")))&&L((tt=""+tt).split(/\s+/)).each2((function(){0!==this.indexOf("select2-")&&(it=H(this))&&nt.push(it)})),S.attr("class",nt.join(" "))}function markMatch(L,S,z,H){var tt=stripDiacritics(L.toUpperCase()).indexOf(stripDiacritics(S.toUpperCase())),it=S.length;tt<0?z.push(H(L)):(z.push(H(L.substring(0,tt))),z.push("<span class='select2-match'>"),z.push(H(L.substring(tt,tt+it))),z.push("</span>"),z.push(H(L.substring(tt+it,L.length))))}function defaultEscapeMarkup(L){var S={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(L).replace(/[&<>"'\/\\]/g,(function(L){return S[L]}))}function ajax(z){var H,tt=null,it=z.quietMillis||100,nt=z.url,ot=this;return function(at){window.clearTimeout(H),H=window.setTimeout((function(){var H=z.data,it=nt,rt=z.transport||L.fn.select2.ajaxDefaults.transport,ht={type:z.type||"GET",cache:z.cache||!1,jsonpCallback:z.jsonpCallback||S,dataType:z.dataType||"json"},dt=L.extend({},L.fn.select2.ajaxDefaults.params,ht);H=H?H.call(ot,at.term,at.page,at.context):null,it="function"==typeof it?it.call(ot,at.term,at.page,at.context):it,tt&&"function"==typeof tt.abort&&tt.abort(),z.params&&(L.isFunction(z.params)?L.extend(dt,z.params.call(ot)):L.extend(dt,z.params)),L.extend(dt,{url:it,dataType:z.dataType,data:H,success:function(L){var S=z.results(L,at.page,at);at.callback(S)},error:function(L,S,z){var H={hasError:!0,jqXHR:L,textStatus:S,errorThrown:z};at.callback(H)}}),tt=rt.call(ot,dt)}),it)}}function local(S){var z,H,tt=S,text=function(L){return""+L.text};L.isArray(tt)&&(tt={results:H=tt}),!1===L.isFunction(tt)&&(H=tt,tt=function(){return H});var it=tt();return it.text&&(text=it.text,L.isFunction(text)||(z=it.text,text=function(L){return L[z]})),function(S){var z,H=S.term,it={results:[]};""!==H?(z=function(tt,it){var nt,ot;if((tt=tt[0]).children){for(ot in nt={},tt)tt.hasOwnProperty(ot)&&(nt[ot]=tt[ot]);nt.children=[],L(tt.children).each2((function(L,S){z(S,nt.children)})),(nt.children.length||S.matcher(H,text(nt),tt))&&it.push(nt)}else S.matcher(H,text(tt),tt)&&it.push(tt)},L(tt().results).each2((function(L,S){z(S,it.results)})),S.callback(it)):S.callback(tt())}}function tags(z){var H=L.isFunction(z);return function(tt){var it=tt.term,nt={results:[]},ot=H?z(tt):z;L.isArray(ot)&&(L(ot).each((function(){var L=this.text!==S,z=L?this.text:this;(""===it||tt.matcher(it,z))&&nt.results.push(L?this:{id:this,text:this})})),tt.callback(nt))}}function checkFormatter(S,z){if(L.isFunction(S))return!0;if(!S)return!1;if("string"==typeof S)return!0;throw new Error(z+" must be a string, function, or falsy value")}function evaluate(S,z){if(L.isFunction(S)){var H=Array.prototype.slice.call(arguments,2);return S.apply(z,H)}return S}function countResults(S){var z=0;return L.each(S,(function(L,S){S.children?z+=countResults(S.children):z++})),z}function cleanupJQueryElements(){var S=this;L.each(arguments,(function(L,z){S[z].remove(),S[z]=null}))}function clazz(S,z){var constructor=function(){};return(constructor.prototype=new S).constructor=constructor,constructor.prototype.parent=S.prototype,constructor.prototype=L.extend(constructor.prototype,z),constructor}}(tt)},59732:function(L,S,z){var H;L=z.nmd(L),H=function(S){function a(){}return a.generate=function(){var L=a._getRandomInt,S=a._hexAligner;return S(L(32),8)+"-"+S(L(16),4)+"-"+S(16384|L(12),4)+"-"+S(32768|L(14),4)+"-"+S(L(48),12)},a._getRandomInt=function(L){if(0>L||53<L)return NaN;var S=0|1073741824*Math.random();return 30<L?S+1073741824*(0|Math.random()*(1<<L-30)):S>>>30-L},a._hexAligner=function(L,S){for(var z=L.toString(16),H=S-z.length,tt="0";0<H;H>>>=1,tt+=tt)1&H&&(z=tt+z);return z},a.overwrittenUUID=S,L&&L.exports&&(L.exports=a),a}(H)},84490:function(L,S,z){L.exports=function(){var L="1.13.4",S="object"==typeof self&&self.self===self&&self||"object"==typeof z.g&&z.g.global===z.g&&z.g||Function("return this")()||{},H=Array.prototype,tt=Object.prototype,it="undefined"!=typeof Symbol?Symbol.prototype:null,nt=H.push,ot=H.slice,at=tt.toString,rt=tt.hasOwnProperty,ht="undefined"!=typeof ArrayBuffer,dt="undefined"!=typeof DataView,pt=Array.isArray,gt=Object.keys,_t=Object.create,bt=ht&&ArrayBuffer.isView,xt=isNaN,kt=isFinite,Ct=!{toString:null}.propertyIsEnumerable("toString"),Lt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Tt=Math.pow(2,53)-1;function j(L,S){return S=null==S?L.length-1:+S,function(){for(var z=Math.max(arguments.length-S,0),H=Array(z),tt=0;tt<z;tt++)H[tt]=arguments[tt+S];switch(S){case 0:return L.call(this,H);case 1:return L.call(this,arguments[0],H);case 2:return L.call(this,arguments[0],arguments[1],H)}var it=Array(S+1);for(tt=0;tt<S;tt++)it[tt]=arguments[tt];return it[S]=H,L.apply(this,it)}}function _(L){var S=typeof L;return"function"===S||"object"===S&&!!L}function w(L){return void 0===L}function A(L){return!0===L||!1===L||"[object Boolean]"===at.call(L)}function x(L){var S="[object "+L+"]";return function(L){return at.call(L)===S}}var Et=x("String"),Mt=x("Number"),Pt=x("Date"),Dt=x("RegExp"),It=x("Error"),At=x("Symbol"),Ot=x("ArrayBuffer"),Nt=x("Function"),zt=S.document&&S.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof zt&&(Nt=function(L){return"function"==typeof L||!1});var Rt=Nt,Ht=x("Object"),Wt=dt&&Ht(new DataView(new ArrayBuffer(8))),Zt="undefined"!=typeof Map&&Ht(new Map),Yt=x("DataView"),Kt=Wt?function(L){return null!=L&&Rt(L.getInt8)&&Ot(L.buffer)}:Yt,Xt=pt||x("Array");function W(L,S){return null!=L&&rt.call(L,S)}var Qt=x("Arguments");!function(){Qt(arguments)||(Qt=function(L){return W(L,"callee")})}();var te=Qt;function $(L){return Mt(L)&&xt(L)}function C(L){return function(){return L}}function K(L){return function(S){var z=L(S);return"number"==typeof z&&z>=0&&z<=Tt}}function J(L){return function(S){return null==S?void 0:S[L]}}var ee=J("byteLength"),re=K(ee),ke=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Pe=ht?function(L){return bt?bt(L)&&!Kt(L):re(L)&&ke.test(at.call(L))}:C(!1),Ae=J("length");function Z(L,S){S=function(L){for(var S={},z=L.length,H=0;H<z;++H)S[L[H]]=!0;return{contains:function(L){return!0===S[L]},push:function(z){return S[z]=!0,L.push(z)}}}(S);var z=Lt.length,H=L.constructor,it=Rt(H)&&H.prototype||tt,nt="constructor";for(W(L,nt)&&!S.contains(nt)&&S.push(nt);z--;)(nt=Lt[z])in L&&L[nt]!==it[nt]&&!S.contains(nt)&&S.push(nt)}function nn(L){if(!_(L))return[];if(gt)return gt(L);var S=[];for(var z in L)W(L,z)&&S.push(z);return Ct&&Z(L,S),S}function rn(L,S){var z=nn(S),H=z.length;if(null==L)return!H;for(var tt=Object(L),it=0;it<H;it++){var nt=z[it];if(S[nt]!==tt[nt]||!(nt in tt))return!1}return!0}function tn(L){return L instanceof tn?L:this instanceof tn?void(this._wrapped=L):new tn(L)}function en(L){return new Uint8Array(L.buffer||L,L.byteOffset||0,ee(L))}tn.VERSION=L,tn.prototype.value=function(){return this._wrapped},tn.prototype.valueOf=tn.prototype.toJSON=tn.prototype.value,tn.prototype.toString=function(){return String(this._wrapped)};var Ne="[object DataView]";function on(L,S,z,H){if(L===S)return 0!==L||1/L==1/S;if(null==L||null==S)return!1;if(L!=L)return S!=S;var tt=typeof L;return("function"===tt||"object"===tt||"object"==typeof S)&&function n(L,S,z,H){L instanceof tn&&(L=L._wrapped),S instanceof tn&&(S=S._wrapped);var tt=at.call(L);if(tt!==at.call(S))return!1;if(Wt&&"[object Object]"==tt&&Kt(L)){if(!Kt(S))return!1;tt=Ne}switch(tt){case"[object RegExp]":case"[object String]":return""+L==""+S;case"[object Number]":return+L!=+L?+S!=+S:0==+L?1/+L==1/S:+L==+S;case"[object Date]":case"[object Boolean]":return+L==+S;case"[object Symbol]":return it.valueOf.call(L)===it.valueOf.call(S);case"[object ArrayBuffer]":case Ne:return n(en(L),en(S),z,H)}var nt="[object Array]"===tt;if(!nt&&Pe(L)){if(ee(L)!==ee(S))return!1;if(L.buffer===S.buffer&&L.byteOffset===S.byteOffset)return!0;nt=!0}if(!nt){if("object"!=typeof L||"object"!=typeof S)return!1;var ot=L.constructor,rt=S.constructor;if(ot!==rt&&!(Rt(ot)&&ot instanceof ot&&Rt(rt)&&rt instanceof rt)&&"constructor"in L&&"constructor"in S)return!1}H=H||[];for(var ht=(z=z||[]).length;ht--;)if(z[ht]===L)return H[ht]===S;if(z.push(L),H.push(S),nt){if((ht=L.length)!==S.length)return!1;for(;ht--;)if(!on(L[ht],S[ht],z,H))return!1}else{var dt,pt=nn(L);if(ht=pt.length,nn(S).length!==ht)return!1;for(;ht--;)if(!W(S,dt=pt[ht])||!on(L[dt],S[dt],z,H))return!1}return z.pop(),H.pop(),!0}(L,S,z,H)}function an(L){if(!_(L))return[];var S=[];for(var z in L)S.push(z);return Ct&&Z(L,S),S}function fn(L){var S=Ae(L);return function(z){if(null==z)return!1;var H=an(z);if(Ae(H))return!1;for(var tt=0;tt<S;tt++)if(!Rt(z[L[tt]]))return!1;return L!==ei||!Rt(z[ze])}}var ze="forEach",Re="has",We=["clear","delete"],Qe=["get",Re,"set"],ti=We.concat(ze,Qe),ei=We.concat(Qe),ii=["add"].concat(We,ze,Re),ni=Zt?fn(ti):x("Map"),oi=Zt?fn(ei):x("WeakMap"),si=Zt?fn(ii):x("Set"),ri=x("WeakSet");function jn(L){for(var S=nn(L),z=S.length,H=Array(z),tt=0;tt<z;tt++)H[tt]=L[S[tt]];return H}function _n(L){for(var S={},z=nn(L),H=0,tt=z.length;H<tt;H++)S[L[z[H]]]=z[H];return S}function wn(L){var S=[];for(var z in L)Rt(L[z])&&S.push(z);return S.sort()}function An(L,S){return function(z){var H=arguments.length;if(S&&(z=Object(z)),H<2||null==z)return z;for(var tt=1;tt<H;tt++)for(var it=arguments[tt],nt=L(it),ot=nt.length,at=0;at<ot;at++){var rt=nt[at];S&&void 0!==z[rt]||(z[rt]=it[rt])}return z}}var bi=An(an),Bi=An(nn),Fi=An(an,!0);function Mn(L){if(!_(L))return{};if(_t)return _t(L);var r=function(){};r.prototype=L;var S=new r;return r.prototype=null,S}function En(L){return Xt(L)?L:[L]}function Bn(L){return tn.toPath(L)}function Nn(L,S){for(var z=S.length,H=0;H<z;H++){if(null==L)return;L=L[S[H]]}return z?L:void 0}function In(L,S,z){var H=Nn(L,Bn(S));return w(H)?z:H}function Tn(L){return L}function kn(L){return L=Bi({},L),function(S){return rn(S,L)}}function Dn(L){return L=Bn(L),function(S){return Nn(S,L)}}function Rn(L,S,z){if(void 0===S)return L;switch(null==z?3:z){case 1:return function(z){return L.call(S,z)};case 3:return function(z,H,tt){return L.call(S,z,H,tt)};case 4:return function(z,H,tt,it){return L.call(S,z,H,tt,it)}}return function(){return L.apply(S,arguments)}}function Fn(L,S,z){return null==L?Tn:Rt(L)?Rn(L,S,z):_(L)&&!Xt(L)?kn(L):Dn(L)}function Vn(L,S){return Fn(L,S,1/0)}function Pn(L,S,z){return tn.iteratee!==Vn?tn.iteratee(L,S):Fn(L,S,z)}function qn(){}function Un(L,S){return null==S&&(S=L,L=0),L+Math.floor(Math.random()*(S-L+1))}tn.toPath=En,tn.iteratee=Vn;var qi=Date.now||function(){return(new Date).getTime()};function zn(L){var r=function(S){return L[S]},S="(?:"+nn(L).join("|")+")",z=RegExp(S),H=RegExp(S,"g");return function(L){return L=null==L?"":""+L,z.test(L)?L.replace(H,r):L}}var Zi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$i=zn(Zi),Vi=zn(_n(Zi)),Xi=tn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ji=/(.)^/,sn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},cn=/\\|'|\r|\n|\u2028|\u2029/g;function Qn(L){return"\\"+sn[L]}var hn=/^\s*(\w|\$)+\s*$/,un=0;function Zn(L,S,z,H,tt){if(!(H instanceof S))return L.apply(z,tt);var it=Mn(L.prototype),nt=L.apply(it,tt);return _(nt)?nt:it}var dn=j((function(L,S){var z=dn.placeholder,e=function(){for(var H=0,tt=S.length,it=Array(tt),nt=0;nt<tt;nt++)it[nt]=S[nt]===z?arguments[H++]:S[nt];for(;H<arguments.length;)it.push(arguments[H++]);return Zn(L,e,this,this,it)};return e}));dn.placeholder=tn;var mn=j((function(L,S,z){if(!Rt(L))throw new TypeError("Bind must be called on a function");var H=j((function(tt){return Zn(L,H,S,this,z.concat(tt))}));return H})),gn=K(Ae);function er(L,S,z,H){if(H=H||[],S||0===S){if(S<=0)return H.concat(L)}else S=1/0;for(var tt=H.length,it=0,nt=Ae(L);it<nt;it++){var ot=L[it];if(gn(ot)&&(Xt(ot)||te(ot)))if(S>1)er(ot,S-1,z,H),tt=H.length;else for(var at=0,rt=ot.length;at<rt;)H[tt++]=ot[at++];else z||(H[tt++]=ot)}return H}var vn=j((function(L,S){var z=(S=er(S,!1,!1)).length;if(z<1)throw new Error("bindAll must be passed function names");for(;z--;){var H=S[z];L[H]=mn(L[H],L)}return L})),bn=j((function(L,S,z){return setTimeout((function(){return L.apply(null,z)}),S)})),xn=dn(bn,tn,1);function ar(L){return function(){return!L.apply(this,arguments)}}function fr(L,S){var z;return function(){return--L>0&&(z=S.apply(this,arguments)),L<=1&&(S=null),z}}var Cn=dn(fr,2);function lr(L,S,z){S=Pn(S,z);for(var H,tt=nn(L),it=0,nt=tt.length;it<nt;it++)if(S(L[H=tt[it]],H,L))return H}function sr(L){return function(S,z,H){z=Pn(z,H);for(var tt=Ae(S),it=L>0?0:tt-1;it>=0&&it<tt;it+=L)if(z(S[it],it,S))return it;return-1}}var Ln=sr(1),Sn=sr(-1);function hr(L,S,z,H){for(var tt=(z=Pn(z,H,1))(S),it=0,nt=Ae(L);it<nt;){var ot=Math.floor((it+nt)/2);z(L[ot])<tt?it=ot+1:nt=ot}return it}function yr(L,S,z){return function(H,tt,it){var nt=0,at=Ae(H);if("number"==typeof it)L>0?nt=it>=0?it:Math.max(it+at,nt):at=it>=0?Math.min(it+1,at):it+at+1;else if(z&&it&&at)return H[it=z(H,tt)]===tt?it:-1;if(tt!=tt)return(it=S(ot.call(H,nt,at),$))>=0?it+nt:-1;for(it=L>0?nt:at-1;it>=0&&it<at;it+=L)if(H[it]===tt)return it;return-1}}var On=yr(1,Ln,hr),Hn=yr(-1,Sn);function br(L,S,z){var H=(gn(L)?Ln:lr)(L,S,z);if(void 0!==H&&-1!==H)return L[H]}function mr(L,S,z){var H,tt;if(S=Rn(S,z),gn(L))for(H=0,tt=L.length;H<tt;H++)S(L[H],H,L);else{var it=nn(L);for(H=0,tt=it.length;H<tt;H++)S(L[it[H]],it[H],L)}return L}function jr(L,S,z){S=Pn(S,z);for(var H=!gn(L)&&nn(L),tt=(H||L).length,it=Array(tt),nt=0;nt<tt;nt++){var ot=H?H[nt]:nt;it[nt]=S(L[ot],ot,L)}return it}function _r(L){var r=function(S,z,H,tt){var it=!gn(S)&&nn(S),nt=(it||S).length,ot=L>0?0:nt-1;for(tt||(H=S[it?it[ot]:ot],ot+=L);ot>=0&&ot<nt;ot+=L){var at=it?it[ot]:ot;H=z(H,S[at],at,S)}return H};return function(L,S,z,H){var tt=arguments.length>=3;return r(L,Rn(S,H,4),z,tt)}}var Wn=_r(1),Gn=_r(-1);function xr(L,S,z){var H=[];return S=Pn(S,z),mr(L,(function(L,z,tt){S(L,z,tt)&&H.push(L)})),H}function Sr(L,S,z){S=Pn(S,z);for(var H=!gn(L)&&nn(L),tt=(H||L).length,it=0;it<tt;it++){var nt=H?H[it]:it;if(!S(L[nt],nt,L))return!1}return!0}function Or(L,S,z){S=Pn(S,z);for(var H=!gn(L)&&nn(L),tt=(H||L).length,it=0;it<tt;it++){var nt=H?H[it]:it;if(S(L[nt],nt,L))return!0}return!1}function Mr(L,S,z,H){return gn(L)||(L=jn(L)),("number"!=typeof z||H)&&(z=0),On(L,S,z)>=0}var $n=j((function(L,S,z){var H,tt;return Rt(S)?tt=S:(S=Bn(S),H=S.slice(0,-1),S=S[S.length-1]),jr(L,(function(L){var it=tt;if(!it){if(H&&H.length&&(L=Nn(L,H)),null==L)return;it=L[S]}return null==it?it:it.apply(L,z)}))}));function Br(L,S){return jr(L,Dn(S))}function Nr(L,S,z){var H,tt,it=-1/0,nt=-1/0;if(null==S||"number"==typeof S&&"object"!=typeof L[0]&&null!=L)for(var ot=0,at=(L=gn(L)?L:jn(L)).length;ot<at;ot++)null!=(H=L[ot])&&H>it&&(it=H);else S=Pn(S,z),mr(L,(function(L,z,H){((tt=S(L,z,H))>nt||tt===-1/0&&it===-1/0)&&(it=L,nt=tt)}));return it}var Yn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Tr(L){return L?Xt(L)?ot.call(L):Et(L)?L.match(Yn):gn(L)?jr(L,Tn):jn(L):[]}function kr(L,S,z){if(null==S||z)return gn(L)||(L=jn(L)),L[Un(L.length-1)];var H=Tr(L),tt=Ae(H);S=Math.max(Math.min(S,tt),0);for(var it=tt-1,nt=0;nt<S;nt++){var ot=Un(nt,it),at=H[nt];H[nt]=H[ot],H[ot]=at}return H.slice(0,S)}function Dr(L,S){return function(z,H,tt){var it=S?[[],[]]:{};return H=Pn(H,tt),mr(z,(function(S,tt){var nt=H(S,tt,z);L(it,S,nt)})),it}}var Kn=Dr((function(L,S,z){W(L,z)?L[z].push(S):L[z]=[S]})),Xn=Dr((function(L,S,z){L[z]=S})),Jn=Dr((function(L,S,z){W(L,z)?L[z]++:L[z]=1})),to=Dr((function(L,S,z){L[z?0:1].push(S)}),!0);function qr(L,S,z){return S in z}var eo=j((function(L,S){var z={},H=S[0];if(null==L)return z;Rt(H)?(S.length>1&&(H=Rn(H,S[1])),S=an(L)):(H=qr,S=er(S,!1,!1),L=Object(L));for(var tt=0,it=S.length;tt<it;tt++){var nt=S[tt],ot=L[nt];H(ot,nt,L)&&(z[nt]=ot)}return z})),io=j((function(L,S){var z,H=S[0];return Rt(H)?(H=ar(H),S.length>1&&(z=S[1])):(S=jr(er(S,!1,!1),String),H=function(L,z){return!Mr(S,z)}),eo(L,H,z)}));function zr(L,S,z){return ot.call(L,0,Math.max(0,L.length-(null==S||z?1:S)))}function Lr(L,S,z){return null==L||L.length<1?null==S||z?void 0:[]:null==S||z?L[0]:zr(L,L.length-S)}function $r(L,S,z){return ot.call(L,null==S||z?1:S)}var no=j((function(L,S){return S=er(S,!0,!0),xr(L,(function(L){return!Mr(S,L)}))})),oo=j((function(L,S){return no(L,S)}));function Jr(L,S,z,H){A(S)||(H=z,z=S,S=!1),null!=z&&(z=Pn(z,H));for(var tt=[],it=[],nt=0,ot=Ae(L);nt<ot;nt++){var at=L[nt],rt=z?z(at,nt,L):at;S&&!z?(nt&&it===rt||tt.push(at),it=rt):z?Mr(it,rt)||(it.push(rt),tt.push(at)):Mr(tt,at)||tt.push(at)}return tt}var so=j((function(L){return Jr(er(L,!0,!0))}));function Hr(L){for(var S=L&&Nr(L,Ae).length||0,z=Array(S),H=0;H<S;H++)z[H]=Br(L,H);return z}var ao=j(Hr);function Xr(L,S){return L._chain?tn(S).chain():S}function Yr(L){return mr(wn(L),(function(S){var z=tn[S]=L[S];tn.prototype[S]=function(){var L=[this._wrapped];return nt.apply(L,arguments),Xr(this,z.apply(tn,L))}})),tn}mr(["pop","push","reverse","shift","sort","splice","unshift"],(function(L){var S=H[L];tn.prototype[L]=function(){var z=this._wrapped;return null!=z&&(S.apply(z,arguments),"shift"!==L&&"splice"!==L||0!==z.length||delete z[0]),Xr(this,z)}})),mr(["concat","join","slice"],(function(L){var S=H[L];tn.prototype[L]=function(){var L=this._wrapped;return null!=L&&(L=S.apply(L,arguments)),Xr(this,L)}}));var ro=Yr({__proto__:null,VERSION:L,restArguments:j,isObject:_,isNull:function(L){return null===L},isUndefined:w,isBoolean:A,isElement:function(L){return!(!L||1!==L.nodeType)},isString:Et,isNumber:Mt,isDate:Pt,isRegExp:Dt,isError:It,isSymbol:At,isArrayBuffer:Ot,isDataView:Kt,isArray:Xt,isFunction:Rt,isArguments:te,isFinite:function(L){return!At(L)&&kt(L)&&!isNaN(parseFloat(L))},isNaN:$,isTypedArray:Pe,isEmpty:function(L){if(null==L)return!0;var S=Ae(L);return"number"==typeof S&&(Xt(L)||Et(L)||te(L))?0===S:0===Ae(nn(L))},isMatch:rn,isEqual:function(L,S){return on(L,S)},isMap:ni,isWeakMap:oi,isSet:si,isWeakSet:ri,keys:nn,allKeys:an,values:jn,pairs:function(L){for(var S=nn(L),z=S.length,H=Array(z),tt=0;tt<z;tt++)H[tt]=[S[tt],L[S[tt]]];return H},invert:_n,functions:wn,methods:wn,extend:bi,extendOwn:Bi,assign:Bi,defaults:Fi,create:function(L,S){var z=Mn(L);return S&&Bi(z,S),z},clone:function(L){return _(L)?Xt(L)?L.slice():bi({},L):L},tap:function(L,S){return S(L),L},get:In,has:function(L,S){for(var z=(S=Bn(S)).length,H=0;H<z;H++){var tt=S[H];if(!W(L,tt))return!1;L=L[tt]}return!!z},mapObject:function(L,S,z){S=Pn(S,z);for(var H=nn(L),tt=H.length,it={},nt=0;nt<tt;nt++){var ot=H[nt];it[ot]=S(L[ot],ot,L)}return it},identity:Tn,constant:C,noop:qn,toPath:En,property:Dn,propertyOf:function(L){return null==L?qn:function(S){return In(L,S)}},matcher:kn,matches:kn,times:function(L,S,z){var H=Array(Math.max(0,L));S=Rn(S,z,1);for(var tt=0;tt<L;tt++)H[tt]=S(tt);return H},random:Un,now:qi,escape:$i,unescape:Vi,templateSettings:Xi,template:function(L,S,z){!S&&z&&(S=z),S=Fi({},S,tn.templateSettings);var H=RegExp([(S.escape||Ji).source,(S.interpolate||Ji).source,(S.evaluate||Ji).source].join("|")+"|$","g"),tt=0,it="__p+='";L.replace(H,(function(S,z,H,nt,ot){return it+=L.slice(tt,ot).replace(cn,Qn),tt=ot+S.length,z?it+="'+\n((__t=("+z+"))==null?'':_.escape(__t))+\n'":H?it+="'+\n((__t=("+H+"))==null?'':__t)+\n'":nt&&(it+="';\n"+nt+"\n__p+='"),S})),it+="';\n";var nt,ot=S.variable;if(ot){if(!hn.test(ot))throw new Error("variable is not a bare identifier: "+ot)}else it="with(obj||{}){\n"+it+"}\n",ot="obj";it="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+it+"return __p;\n";try{nt=new Function(ot,"_",it)}catch(L){throw L.source=it,L}var f=function(L){return nt.call(this,L,tn)};return f.source="function("+ot+"){\n"+it+"}",f},result:function(L,S,z){var H=(S=Bn(S)).length;if(!H)return Rt(z)?z.call(L):z;for(var tt=0;tt<H;tt++){var it=null==L?void 0:L[S[tt]];void 0===it&&(it=z,tt=H),L=Rt(it)?it.call(L):it}return L},uniqueId:function(L){var S=++un+"";return L?L+S:S},chain:function(L){var S=tn(L);return S._chain=!0,S},iteratee:Vn,partial:dn,bind:mn,bindAll:vn,memoize:function(L,S){var t=function(z){var H=t.cache,tt=""+(S?S.apply(this,arguments):z);return W(H,tt)||(H[tt]=L.apply(this,arguments)),H[tt]};return t.cache={},t},delay:bn,defer:xn,throttle:function(L,S,z){var H,tt,it,nt,ot=0;z||(z={});var f=function(){ot=!1===z.leading?0:qi(),H=null,nt=L.apply(tt,it),H||(tt=it=null)},c=function(){var at=qi();ot||!1!==z.leading||(ot=at);var rt=S-(at-ot);return tt=this,it=arguments,rt<=0||rt>S?(H&&(clearTimeout(H),H=null),ot=at,nt=L.apply(tt,it),H||(tt=it=null)):H||!1===z.trailing||(H=setTimeout(f,rt)),nt};return c.cancel=function(){clearTimeout(H),ot=0,H=tt=it=null},c},debounce:function(L,S,z){var H,tt,it,nt,ot,f=function(){var at=qi()-tt;S>at?H=setTimeout(f,S-at):(H=null,z||(nt=L.apply(ot,it)),H||(it=ot=null))},at=j((function(at){return ot=this,it=at,tt=qi(),H||(H=setTimeout(f,S),z&&(nt=L.apply(ot,it))),nt}));return at.cancel=function(){clearTimeout(H),H=it=ot=null},at},wrap:function(L,S){return dn(S,L)},negate:ar,compose:function(){var L=arguments,S=L.length-1;return function(){for(var z=S,H=L[S].apply(this,arguments);z--;)H=L[z].call(this,H);return H}},after:function(L,S){return function(){if(--L<1)return S.apply(this,arguments)}},before:fr,once:Cn,findKey:lr,findIndex:Ln,findLastIndex:Sn,sortedIndex:hr,indexOf:On,lastIndexOf:Hn,find:br,detect:br,findWhere:function(L,S){return br(L,kn(S))},each:mr,forEach:mr,map:jr,collect:jr,reduce:Wn,foldl:Wn,inject:Wn,reduceRight:Gn,foldr:Gn,filter:xr,select:xr,reject:function(L,S,z){return xr(L,ar(Pn(S)),z)},every:Sr,all:Sr,some:Or,any:Or,contains:Mr,includes:Mr,include:Mr,invoke:$n,pluck:Br,where:function(L,S){return xr(L,kn(S))},max:Nr,min:function(L,S,z){var H,tt,it=1/0,nt=1/0;if(null==S||"number"==typeof S&&"object"!=typeof L[0]&&null!=L)for(var ot=0,at=(L=gn(L)?L:jn(L)).length;ot<at;ot++)null!=(H=L[ot])&&H<it&&(it=H);else S=Pn(S,z),mr(L,(function(L,z,H){((tt=S(L,z,H))<nt||tt===1/0&&it===1/0)&&(it=L,nt=tt)}));return it},shuffle:function(L){return kr(L,1/0)},sample:kr,sortBy:function(L,S,z){var H=0;return S=Pn(S,z),Br(jr(L,(function(L,z,tt){return{value:L,index:H++,criteria:S(L,z,tt)}})).sort((function(L,S){var z=L.criteria,H=S.criteria;if(z!==H){if(z>H||void 0===z)return 1;if(z<H||void 0===H)return-1}return L.index-S.index})),"value")},groupBy:Kn,indexBy:Xn,countBy:Jn,partition:to,toArray:Tr,size:function(L){return null==L?0:gn(L)?L.length:nn(L).length},pick:eo,omit:io,first:Lr,head:Lr,take:Lr,initial:zr,last:function(L,S,z){return null==L||L.length<1?null==S||z?void 0:[]:null==S||z?L[L.length-1]:$r(L,Math.max(0,L.length-S))},rest:$r,tail:$r,drop:$r,compact:function(L){return xr(L,Boolean)},flatten:function(L,S){return er(L,S,!1)},without:oo,uniq:Jr,unique:Jr,union:so,intersection:function(L){for(var S=[],z=arguments.length,H=0,tt=Ae(L);H<tt;H++){var it=L[H];if(!Mr(S,it)){var nt;for(nt=1;nt<z&&Mr(arguments[nt],it);nt++);nt===z&&S.push(it)}}return S},difference:no,unzip:Hr,transpose:Hr,zip:ao,object:function(L,S){for(var z={},H=0,tt=Ae(L);H<tt;H++)S?z[L[H]]=S[H]:z[L[H][0]]=L[H][1];return z},range:function(L,S,z){null==S&&(S=L||0,L=0),z||(z=S<L?-1:1);for(var H=Math.max(Math.ceil((S-L)/z),0),tt=Array(H),it=0;it<H;it++,L+=z)tt[it]=L;return tt},chunk:function(L,S){if(null==S||S<1)return[];for(var z=[],H=0,tt=L.length;H<tt;)z.push(ot.call(L,H,H+=S));return z},mixin:Yr,default:tn});return ro._=ro,ro}()}},z={};function __webpack_require__(L){var H=z[L];if(void 0!==H)return H.exports;var tt=z[L]={id:L,loaded:!1,exports:{}};return S[L].call(tt.exports,tt,tt.exports,__webpack_require__),tt.loaded=!0,tt.exports}return __webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(L){if("object"==typeof window)return window}}(),__webpack_require__.nmd=function(L){return L.paths=[],L.children||(L.children=[]),L},__webpack_require__(3058)}()}));