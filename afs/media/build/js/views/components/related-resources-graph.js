/*! For license information please see related-resources-graph.js.LICENSE.txt */
require([],(function(){return function(){var L={46186:function(L,Q,te){var re,Ne;function _typeof(L){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},_typeof(L)}function ownKeys(L,Q){var te=Object.keys(L);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(L);Q&&(re=re.filter((function(Q){return Object.getOwnPropertyDescriptor(L,Q).enumerable}))),te.push.apply(te,re)}return te}function _objectSpread(L){for(var Q=1;Q<arguments.length;Q++){var te=null!=arguments[Q]?arguments[Q]:{};Q%2?ownKeys(Object(te),!0).forEach((function(Q){_defineProperty(L,Q,te[Q])})):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(te)):ownKeys(Object(te)).forEach((function(Q){Object.defineProperty(L,Q,Object.getOwnPropertyDescriptor(te,Q))}))}return L}function _defineProperty(L,Q,te){return(Q=function(L){var Q=function(L,Q){if("object"!==_typeof(L)||null===L)return L;var te=L[Symbol.toPrimitive];if(void 0!==te){var re=te.call(L,Q||"default");if("object"!==_typeof(re))return re;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Q?String:Number)(L)}(L,"string");return"symbol"===_typeof(Q)?Q:String(Q)}(Q))in L?Object.defineProperty(L,Q,{value:te,enumerable:!0,configurable:!0,writable:!0}):L[Q]=te,L}function _createForOfIteratorHelper(L,Q){var te="undefined"!=typeof Symbol&&L[Symbol.iterator]||L["@@iterator"];if(!te){if(Array.isArray(L)||(te=function(L,Q){if(!L)return;if("string"==typeof L)return _arrayLikeToArray(L,Q);var te=Object.prototype.toString.call(L).slice(8,-1);"Object"===te&&L.constructor&&(te=L.constructor.name);if("Map"===te||"Set"===te)return Array.from(L);if("Arguments"===te||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return _arrayLikeToArray(L,Q)}(L))||Q&&L&&"number"==typeof L.length){te&&(L=te);var re=0,F=function(){};return{s:F,n:function(){return re>=L.length?{done:!0}:{done:!1,value:L[re++]}},e:function(L){throw L},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ne,$e=!0,Ue=!1;return{s:function(){te=te.call(L)},n:function(){var L=te.next();return $e=L.done,L},e:function(L){Ue=!0,Ne=L},f:function(){try{$e||null==te.return||te.return()}finally{if(Ue)throw Ne}}}}function _arrayLikeToArray(L,Q){(null==Q||Q>L.length)&&(Q=L.length);for(var te=0,re=new Array(Q);te<Q;te++)re[te]=L[te];return re}re=[te(94242)],void 0===(Ne=function(){function removeTrailingCommaFromArray(L){return L.replace(/, *]*$/,"]")}function convertToCamelCase(L){return L.replace(/-([a-z])/g,(function(L){return L[1].toUpperCase()}))}var L,Q={},te=_createForOfIteratorHelper(document.querySelectorAll(".arches-urls"));try{for(te.s();!(L=te.n()).done;){var re,Ne=_createForOfIteratorHelper(L.value.attributes);try{for(Ne.s();!(re=Ne.n()).done;){var $e=re.value;if($e.specified&&"style"!==$e.name&&"class"!==$e.name)try{var Ue=Function("return"+$e.value)();Ue||(Ue=""),"object"===_typeof(Ue)&&(Ue=String(Ue)),Q[$e.name]=Ue}catch(L){Q[$e.name]=String($e.value)}}}catch(L){Ne.e(L)}finally{Ne.f()}}}catch(L){te.e(L)}finally{te.f()}var tt,nt={},it=_createForOfIteratorHelper(document.querySelectorAll(".arches-translations"));try{for(it.s();!(tt=it.n()).done;){var rt,ot=_createForOfIteratorHelper(tt.value.attributes);try{for(ot.s();!(rt=ot.n()).done;){var at=rt.value;at.specified&&"style"!==at.name&&"class"!==at.name&&(nt[convertToCamelCase(at.name)]=JSON.parse(at.value))}}catch(L){ot.e(L)}finally{ot.f()}}}catch(L){it.e(L)}finally{it.f()}var dt,bt={},sn=_createForOfIteratorHelper(document.querySelectorAll(".arches-data"));try{for(sn.s();!(dt=sn.n()).done;){var ln,un=_createForOfIteratorHelper(dt.value.attributes);try{for(un.s();!(ln=un.n()).done;){var cn=ln.value;if(cn.specified&&"style"!==cn.name&&"class"!==cn.name){var dn=convertToCamelCase(cn.name);try{bt[dn]=JSON.parse(cn.value)}catch(L){try{bt[dn]=JSON.parse(cn.value.replace(/,\s*}*$/,"}"))}catch(L){try{bt[dn]=JSON.parse(removeTrailingCommaFromArray(cn.value))}catch(L){bt[dn]=JSON.parse('"'.concat(cn.value,'"'))}}}}}}catch(L){un.e(L)}finally{un.f()}}}catch(L){sn.e(L)}finally{sn.f()}return _objectSpread(_objectSpread({},bt),{},{translations:nt,urls:Q})}.apply(Q,re))||(L.exports=Ne)},61977:function(L,Q,te){var re,Ne;re=[te(54922),te(84490),te(26924),te(1694)],void 0===(Ne=function(L,Q,te,re){return te.use(re),L.bindingHandlers.cytoscape={init:function(re,Ne){var $e={container:re},Ue=L.unwrap(Ne()).config||{},tt=te(Q.defaults(L.unwrap(Ue),$e));L.utils.domNodeDisposal.addDisposeCallback(re,(function(){tt.destroy()}),this),"function"==typeof L.unwrap(Ne()).afterRender&&L.unwrap(Ne()).afterRender(tt)}},L.bindingHandlers.cytoscape}.apply(Q,re))||(L.exports=Ne)},44050:function(L,Q,te){var re,Ne,$e;Ne=[te(54922),te(20198),te(50847)],re=function(L,Q){var te="ko_sortItem",re="ko_sourceIndex",Ne="ko_sortList",$e="ko_parentList",Ue="ko_dragItem",tt=L.utils.unwrapObservable,nt=L.utils.domData.get,it=L.utils.domData.set,rt=Q.ui&&Q.ui.version,ot=rt&&rt.indexOf("1.6.")&&rt.indexOf("1.7.")&&(rt.indexOf("1.8.")||"1.8.24"===rt),addMetaDataAfterRender=function(Q,re){L.utils.arrayForEach(Q,(function(L){1===L.nodeType&&(it(L,te,re),it(L,$e,nt(L.parentNode,Ne)))}))},prepareTemplateOptions=function(Q,te){var re,Ne={},$e=tt(Q())||{};return $e.data?(Ne[te]=$e.data,Ne.name=$e.template):Ne[te]=Q(),L.utils.arrayForEach(["afterAdd","afterRender","as","beforeRemove","includeDestroyed","templateEngine","templateOptions","nodes"],(function(Q){Object.prototype.hasOwnProperty.call($e,Q)?Ne[Q]=$e[Q]:Object.prototype.hasOwnProperty.call(L.bindingHandlers.sortable,Q)&&(Ne[Q]=L.bindingHandlers.sortable[Q])})),"foreach"===te&&(Ne.afterRender?(re=Ne.afterRender,Ne.afterRender=function(L,Q){addMetaDataAfterRender.call(Q,L,Q),re.call(Q,L,Q)}):Ne.afterRender=addMetaDataAfterRender),Ne},updateIndexFromDestroyedItems=function(L,Q){var te=tt(Q);if(te)for(var re=0;re<L;re++)te[re]&&tt(te[re]._destroy)&&L++;return L},stripTemplateWhitespace=function(te,re){var Ne,$e;re?($e=document.getElementById(re))&&(Ne=new L.templateSources.domElement($e)).text(Q.trim(Ne.text())):Q(te).contents().each((function(){this&&1!==this.nodeType&&te.removeChild(this)}))};L.bindingHandlers.sortable={init:function(rt,at,dt,bt,sn){var ln,un,cn=Q(rt),dn=tt(at())||{},xn=prepareTemplateOptions(at,"foreach"),Wn={};stripTemplateWhitespace(rt,xn.name),Q.extend(!0,Wn,L.bindingHandlers.sortable),dn.options&&Wn.options&&(L.utils.extend(Wn.options,dn.options),delete dn.options),L.utils.extend(Wn,dn),Wn.connectClass&&(L.isObservable(Wn.allowDrop)||"function"==typeof Wn.allowDrop)?L.computed({read:function(){var Q=tt(Wn.allowDrop),te="function"==typeof Q?Q.call(this,xn.foreach):Q;L.utils.toggleDomNodeCssClass(rt,Wn.connectClass,te)},disposeWhenNodeIsRemoved:rt},this):L.utils.toggleDomNodeCssClass(rt,Wn.connectClass,Wn.allowDrop),L.bindingHandlers.template.init(rt,(function(){return xn}),dt,bt,sn),ln=Wn.options.start,un=Wn.options.update,Wn.options.helper||(Wn.options.helper=function(L,te){return te.is("tr")&&te.children().each((function(){Q(this).width(Q(this).width())})),te});var Yn=setTimeout((function(){var at,dt=Wn.options.receive;cn.sortable(L.utils.extend(Wn.options,{start:function(Q,te){var Ne=te.item[0];it(Ne,re,L.utils.arrayIndexOf(te.item.parent().children(),Ne)),te.item.find("input:focus").change(),ln&&ln.apply(this,arguments)},receive:function(L,Q){"function"==typeof dt&&dt.call(this,L,Q),(at=nt(Q.item[0],Ue))&&(at.clone&&(at=at.clone()),Wn.dragged&&(at=Wn.dragged.call(this,at,L,Q)||at))},update:function(Ue,rt){var dt,bt,sn,ln,cn,dn=rt.item[0],Yn=rt.item.parent()[0],Xn=nt(dn,te)||at;if(Xn||Q(dn).remove(),at=null,Xn&&this===Yn||!ot&&Q.contains(this,Yn)){if(dt=nt(dn,$e),sn=nt(dn,re),bt=nt(dn.parentNode,Ne),ln=L.utils.arrayIndexOf(rt.item.parent().children(),dn),xn.includeDestroyed||(sn=updateIndexFromDestroyedItems(sn,dt),ln=updateIndexFromDestroyedItems(ln,bt)),(Wn.beforeMove||Wn.afterMove)&&(cn={item:Xn,sourceParent:dt,sourceParentNode:dt&&rt.sender||dn.parentNode,sourceIndex:sn,targetParent:bt,targetIndex:ln,cancelDrop:!1},Wn.beforeMove&&Wn.beforeMove.call(this,cn,Ue,rt)),dt&&!Wn.addToSelf?Q(dt===bt?this:rt.sender||this).sortable("cancel"):Q(dn).remove(),cn&&cn.cancelDrop)return;if(Object.prototype.hasOwnProperty.call(Wn,"strategyMove")&&!1!==Wn.strategyMove){if(ln>=0)if(dt)if(dt!==bt)dt.splice(sn,1),bt.splice(ln,0,Xn),it(dn,te,null),rt.item.remove();else{var Kn=tt(dt);dt.valueWillMutate&&dt.valueWillMutate(),Kn.splice(sn,1),Kn.splice(ln,0,Xn),dt.valueHasMutated&&dt.valueHasMutated()}else bt.splice(ln,0,Xn),it(dn,te,null),rt.item.remove()}else ln>=0&&(dt&&(dt.splice(sn,1),L.processAllDeferredBindingUpdates&&L.processAllDeferredBindingUpdates(),L.options&&L.options.deferUpdates&&L.tasks.runEarly()),bt.splice(ln,0,Xn)),it(dn,te,null);L.processAllDeferredBindingUpdates&&L.processAllDeferredBindingUpdates(),Wn.afterMove&&Wn.afterMove.call(this,cn,Ue,rt)}un&&un.apply(this,arguments)},connectWith:!!Wn.connectClass&&"."+Wn.connectClass})),void 0!==Wn.isEnabled&&L.computed({read:function(){cn.sortable(tt(Wn.isEnabled)?"enable":"disable")},disposeWhenNodeIsRemoved:rt})}),0);return L.utils.domNodeDisposal.addDisposeCallback(rt,(function(){(cn.data("ui-sortable")||cn.data("sortable"))&&cn.sortable("destroy"),L.utils.toggleDomNodeCssClass(rt,Wn.connectClass,!1),clearTimeout(Yn)})),{controlsDescendantBindings:!0}},update:function(Q,te,re,$e,Ue){var tt=prepareTemplateOptions(te,"foreach");it(Q,Ne,tt.foreach),L.bindingHandlers.template.update(Q,(function(){return tt}),re,$e,Ue)},connectClass:"ko_container",allowDrop:!0,afterMove:null,beforeMove:null,options:{}},L.bindingHandlers.draggable={init:function(te,re,Ne,$e,nt){var rt=tt(re())||{},ot=rt.options||{},at=L.utils.extend({},L.bindingHandlers.draggable.options),dt=prepareTemplateOptions(re,"data"),bt=rt.connectClass||L.bindingHandlers.draggable.connectClass,sn=void 0!==rt.isEnabled?rt.isEnabled:L.bindingHandlers.draggable.isEnabled;return rt="data"in rt?rt.data:rt,it(te,Ue,rt),L.utils.extend(at,ot),at.connectToSortable=!!bt&&"."+bt,Q(te).draggable(at),void 0!==sn&&L.computed({read:function(){Q(te).draggable(tt(sn)?"enable":"disable")},disposeWhenNodeIsRemoved:te}),L.utils.domNodeDisposal.addDisposeCallback(te,(function(){Q(te).draggable("destroy")})),L.bindingHandlers.template.init(te,(function(){return dt}),Ne,$e,nt)},update:function(Q,te,re,Ne,$e){var Ue=prepareTemplateOptions(te,"data");return L.bindingHandlers.template.update(Q,(function(){return Ue}),re,Ne,$e)},connectClass:L.bindingHandlers.sortable.connectClass,options:{helper:"clone"}}},void 0===($e="function"==typeof re?re.apply(Q,Ne):re)||(L.exports=$e)},94242:function(L,Q,te){var re,Ne;re=[te(20198),te(3942)],void 0===(Ne=function(L,Q){L.ajaxSetup({beforeSend:function(L,te){var re;re=te.type,/^(GET|HEAD|OPTIONS|TRACE)$/.test(re)||this.crossDomain||L.setRequestHeader("X-CSRFToken",Q.get("csrftoken"))}})}.apply(Q,re))||(L.exports=Ne)},91221:function(L,Q,te){var re,Ne;re=[te(54922),te(46186),te(41762),te(90295),te(61977)],void 0===(Ne=function(L,Q,te,re){return L.components.register("related-resources-graph",{viewModel:function(re){var Ne=this,$e={name:"cola",animate:!0,directed:!0,edgeLength:200};this.viz=L.observable(),this.cytoscapeConfig=L.observable(),this.focusResourceId=L.isObservable(re.resourceId)?re.resourceId:L.observable(re.resourceId),this.selection=L.observable(),this.selectionMode=L.observable("information"),this.elements=L.observableArray(),this.informationElement=L.observable(),this.informationGraph=L.computed((function(){var L=Ne.informationElement();return L&&L.graph_id?Ue[L.graph_id]:{}})),this.viewInformationNodeReport=function(){var L=Ne.informationElement();L&&window.open(Q.urls.resource_report+L.id)},this.editInformationNode=function(){var L=Ne.informationElement();L&&window.open(Q.urls.resource_editor+L.id)},this.hoverElementId=L.observable(),this.legendEntries=L.computed((function(){var L=Ne.elements(),Q=[];for(var te in Ue)L.filter((function(L){return L.data("graph_id")===te})).length>0&&Q.push(Ue[te]);return Q})),this.nodeSearchFilter=L.observable(""),this.expandedSearchId=L.observable(),this.searchNodes=L.computed((function(){var Q=Ne.nodeSearchFilter(),te=Ne.elements(),re=Ne.viz(),$e=[];return re&&te.forEach((function(te){if(te.isNode()){var Ne=te.data();Ne.shownRelationsCount||(Ne.shownRelationsCount=L.observable()),-1!==Ne.displayname.toLowerCase().indexOf(Q)&&(Ne.graph=Ue[Ne.graph_id],Ne.shownRelationsCount(re.edges('[source = "'+Ne.id+'"]').length+re.edges('[target = "'+Ne.id+'"][source != "'+Ne.id+'"]').length),$e.push(Ne))}})),$e}));var getRelationshipLabel=function(L){var Q;try{var te=new window.URL(L.relationshiptype_label);Q=te.pathname.split("/")[te.pathname.split("/").length-1]}catch(te){Q=L.relationshiptype_label}return Q};this.informationElementRelationships=L.computed((function(){var L=[],Q=Ne.informationElement(),te=Ne.viz();if(Ne.elements(),Q&&te&&!Q.source){var re=te.edges('[source = "'+Q.id+'"]'),$e=te.edges('[target = "'+Q.id+'"]'),addRelationship=function(Q,te){var re=Q.data(),$e=Q[te]().data(),Ue=getRelationshipLabel(re);L.push({label:Ue,node:$e,edge:re,informationElement:Ne.informationElement,hoverElementId:Ne.hoverElementId})};re.forEach((function(L){addRelationship(L,"target")})),$e.forEach((function(L){L.source().id()!==L.target().id()&&addRelationship(L,"source")}))}return L})),this.edgeInformation=L.computed((function(){var L=Ne.informationElement(),Q=Ne.viz();if(L&&Q&&L.source){var te=Q.getElementById(L.source).data(),re=Q.getElementById(L.target).data();return{id:L.id,label:getRelationshipLabel(L),source:te,sourceGraph:Ue[te.graph_id],target:re,targetGraph:Ue[re.graph_id]}}})),te.apply(this,[re]);var getResourceRelations=function(L){var te="".concat(Q.urls.related_resources).concat(L,"?paginate=false&lang=").concat(Q.activeLanguage);return window.fetch(te)},Ue={},dataToElement=function(L){L.source=L.resourceinstanceidfrom,L.target=L.resourceinstanceidto,L.source?L.id=L.resourcexid:(L.id=L.resourceinstanceid,L.totalRelations=L.total_relations.value);var Q=[];return L.graph_id&&Q.push(Ue[L.graph_id].className),L.focus&&Q.push("focus"),{data:L,classes:Q,selected:L.focus}};this.refreshLayout=function(){var L=Ne.viz();L&&L.elements().makeLayout($e).run()},this.addMissingNodes=function(L){var Q=[];L.forEach((function(L){L.data.source&&Q.push(L.data.source),L.data.target&&Q.push(L.data.target)}));var te=L.filter((function(L){return!!L.data.resourceinstanceid})).map((function(L){return L.data.resourceinstanceid}));return Q.forEach((function(Q){te.includes(Q)||(L.push({classes:[],data:{graph_id:"undefined",id:Q,target:void 0,source:void 0,displayname:"",totalRelations:1},selected:void 0}),te.push(Q))})),L},this.expandNode=function(L){var Q,te=Ne.viz();te&&(Q=Ne.viz().getElementById(L.id).position()),L.id&&getResourceRelations(L.id).then((function(L){return L.json()})).then((function(re){var Ue=re.related_resources.concat(re.resource_relationships).map((function(L){var te=dataToElement(L);return!L.source&&Q&&(te.position={x:Q.x,y:Q.y}),te}));Ue=Ne.addMissingNodes(Ue).filter((function(L){return 0===te.getElementById(L.data.id).length})),Ne.viz().getElementById(L.id).lock(),te.add(Ue),Ne.elements(te.elements());var tt=te.elements().makeLayout($e);tt.on("layoutstop",(function(){te.nodes().unlock()})),tt.run()}))};var getStyle=function(){var L="#023047",Q=[{selector:"node",style:{content:"data(displayname)","font-size":"18px",width:60,height:60,"text-valign":"center","text-halign":"center","border-color":"#115170","border-width":1}},{selector:"node.focus",style:{"font-weight":"bold"}},{selector:"node:selected",style:{"border-width":4,"border-color":"#000F16"}},{selector:"node.hover",style:{"border-width":4,"border-color":"#023047"}},{selector:"edge",style:{"line-color":"#BFBEBE","border-width":1}},{selector:"edge:selected",style:{width:4,"line-color":L}},{selector:"edge.hover",style:{width:4,"line-color":L}}];for(var te in Ue){var re=Ue[te].fillColor||"#CCCCCC",Ne={selector:"node."+Ue[te].className,style:{"background-color":re}};Q.push(Ne)}return Q},updateFocusResource=function(){var L=Ne.focusResourceId();if(L){var Q=Ne.viz();if(Q){var te=Q.getElementById(L);te&&Ne.informationElement(te.data())}Ne.selection(null),getResourceRelations(L).then((function(L){return L.json()})).then((function(L){var te=0,re=L.node_config_lookup;for(var tt in re)re[tt].className="resource-type-"+te,te++;re[void 0]={fillColor:"#CCCCCC"},Ue=re,L.resource_instance.focus=!0,L.resource_instance.total_relations={value:L.resource_relationships.length};var nt=[dataToElement(L.resource_instance)].concat(L.related_resources.concat(L.resource_relationships).map(dataToElement));nt=Ne.addMissingNodes(nt),Ne.selection(nt[0].data),Q?(Q.remove("*"),Q.add(nt),Q.style(getStyle()),Q.layout($e).run()):function(L){Ne.cytoscapeConfig({selectionType:"single",elements:L,layout:$e,style:getStyle()})}(nt),Ne.elements(Ne.viz().elements())}))}};this.focusResourceId.subscribe(updateFocusResource),this.viz.subscribe((function(L){L?(L.on("select","node, edge",(function(Q){L.elements().not(Q.target).unselect(),Ne.selection(Q.target.data())})),L.on("unselect","node, edge",(function(){Ne.selection(null)})),L.on("mouseover","node, edge",(function(L){Ne.hoverElementId(L.target.id())})),L.on("mouseout","node, edge",(function(){Ne.hoverElementId(null)}))):(Ne.cytoscapeConfig(null),Ne.selection(null))})),this.hoverElementId.subscribe((function(L){var Q=Ne.viz();Q&&(Q.elements().removeClass("hover"),L&&Q.getElementById(L).addClass("hover"))})),this.activeTab.subscribe((function(){var L=Ne.viz();L&&L.resize()})),this.selection.subscribe((function(L){var Q=Ne.selectionMode(),te=Ne.viz();if(L)switch(Q){case"expand":L.source?te.elements().unselect():Ne.expandNode(L);break;case"delete":var re=te.getElementById(L.id),$e=Ne.informationElement(),Ue=$e?$e.id:null;L.source||te.edges().forEach((function(Q){Q.source().id()!==L.id&&Q.target().id()!==L.id||(Q.id()===Ue&&Ne.informationElement(null),te.remove(Q),Ne.elements.remove(Q))})),L.id===Ue&&Ne.informationElement(null),te.remove(re),Ne.elements.remove(re);break;case"focus":L.source?te.elements().unselect():Ne.focusResourceId(L.id);break;default:Ne.informationElement(L)}})),Ne.informationElement.subscribe((function(L){var Q=Ne.viz();if(L){if(Q){var te=Q.getElementById(L.id);te.selected()||(Ne.selectionMode("information"),te.select())}Ne.activeTab("information")}})),this.selectionMode.subscribe((function(){Ne.viz().elements().unselect()})),updateFocusResource()},template:re})}.apply(Q,re))||(L.exports=Ne)},41762:function(L,Q,te){var re,Ne;re=[te(20198),te(84490),te(54922),te(73070),te(44050)],void 0===(Ne=function(L,Q,te,re){var viewModel=function(L){var Q=this;this.activeTab=te.observable(L.activeTab),this.showTabs=te.observable(!0),this.hideSidePanel=function(){Q.activeTab(void 0)},this.card&&this.card.allowProvisionalEditRerender(!1),this.expandSidePanel=te.computed((function(){return!!Q.tile&&(Q.tile.hasprovisionaledits()&&!0===Q.reviewer)})),this.workbenchWrapperClass=te.observable(),this.toggleTab=function(L){Q.activeTab()===L?Q.activeTab(null):Q.activeTab(L)}};return te.components.register("workbench",{viewModel:viewModel,template:re}),viewModel}.apply(Q,re))||(L.exports=Ne)},1694:function(L,Q,te){var re;re=function(L){return function(L){var Q={};function __nested_webpack_require_638__(te){if(Q[te])return Q[te].exports;var re=Q[te]={i:te,l:!1,exports:{}};return L[te].call(re.exports,re,re.exports,__nested_webpack_require_638__),re.l=!0,re.exports}return __nested_webpack_require_638__.m=L,__nested_webpack_require_638__.c=Q,__nested_webpack_require_638__.i=function(L){return L},__nested_webpack_require_638__.d=function(L,Q,te){__nested_webpack_require_638__.o(L,Q)||Object.defineProperty(L,Q,{configurable:!1,enumerable:!0,get:te})},__nested_webpack_require_638__.n=function(L){var Q=L&&L.__esModule?function(){return L.default}:function(){return L};return __nested_webpack_require_638__.d(Q,"a",Q),Q},__nested_webpack_require_638__.o=function(L,Q){return Object.prototype.hasOwnProperty.call(L,Q)},__nested_webpack_require_638__.p="",__nested_webpack_require_638__(__nested_webpack_require_638__.s=3)}([function(L,Q,te){"use strict";var re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},Ne=te(1),$e=te(2),Ue=te(5)||("undefined"!=typeof window?window.cola:null),tt=te(4),isNumber=function(L){return(void 0===L?"undefined":re(L))===re(0)},nop=function(){},getOptVal=function(L,Q){var te;return null!=(te=L)&&(void 0===te?"undefined":re(te))===re((function(){}))?L.apply(Q,[Q]):L};function ColaLayout(L){this.options=Ne({},$e,L)}ColaLayout.prototype.run=function(){var L=this,Q=this.options;L.manuallyStopped=!1;var te=Q.cy,Ne=Q.eles,$e=Ne.nodes(),nt=Ne.edges(),it=!1,rt=$e.filter((function(L){return L.isParent()})),ot=$e.subtract(rt),at=Q.boundingBox||{x1:0,y1:0,w:te.width(),h:te.height()};void 0===at.x2&&(at.x2=at.x1+at.w),void 0===at.w&&(at.w=at.x2-at.x1),void 0===at.y2&&(at.y2=at.y1+at.h),void 0===at.h&&(at.h=at.y2-at.y1);var updateNodePositions=function(){for(var L=0;L<$e.length;L++){var re=$e[L],Ne=re.layoutDimensions(Q),Ue=re.scratch("cola");if(!Ue.updatedDims){var tt=getOptVal(Q.nodeSpacing,re);Ue.width=Ne.w+2*tt,Ue.height=Ne.h+2*tt}}$e.positions((function(L){var Q=L.scratch().cola,te=void 0;return!L.grabbed()&&ot.contains(L)&&(te={x:at.x1+Q.x,y:at.y1+Q.y},isNumber(te.x)&&isNumber(te.y)||(te=void 0)),te})),$e.updateCompoundBounds(),it||(onReady(),it=!0),Q.fit&&te.fit(Q.padding)},onDone=function(){Q.ungrabifyWhileSimulating&&sn.grabify(),te.off("destroy",ln),$e.off("grab free position",un),$e.off("lock unlock",cn),L.one("layoutstop",Q.stop),L.trigger({type:"layoutstop",layout:L})},onReady=function(){L.one("layoutready",Q.ready),L.trigger({type:"layoutready",layout:L})},dt=Q.refresh;dt=Q.refresh<0?1:Math.max(1,dt);var bt=L.adaptor=Ue.adaptor({trigger:function(L){var te=Ue.EventType?Ue.EventType.tick:null,re=Ue.EventType?Ue.EventType.end:null;switch(L.type){case"tick":case te:Q.animate&&updateNodePositions();break;case"end":case re:updateNodePositions(),Q.infinite||onDone()}},kick:function(){var te=!0,inftick=function(){if(L.manuallyStopped)return onDone(),!0;var re=bt.tick();return Q.infinite||te||bt.convergenceThreshold(Q.convergenceThreshold),te=!1,re&&Q.infinite&&bt.resume(),re};if(Q.animate)tt((function frame(){(function(){for(var L=void 0,Q=0;Q<dt&&!L;Q++)L=L||inftick();return L})()||tt(frame)}));else for(;!inftick(););},on:nop,drag:nop});L.adaptor=bt;var sn=$e.filter(":grabbable");Q.ungrabifyWhileSimulating&&sn.ungrabify();var ln=void 0;te.one("destroy",ln=function(){L.stop()});var un=void 0;$e.on("grab free position",un=function(L){var Q=this,te=Q.scratch().cola,re=Q.position();if(L.cyTarget===Q||L.target===Q)switch(L.type){case"grab":bt.dragstart(te);break;case"free":bt.dragend(te);break;case"position":te.px===re.x-at.x1&&te.py===re.y-at.y1||(te.px=re.x-at.x1,te.py=re.y-at.y1)}});var cn=void 0;$e.on("lock unlock",cn=function(){var L=this,Q=L.scratch().cola;Q.fixed=L.locked(),L.locked()?bt.dragstart(Q):bt.dragend(Q)}),bt.nodes(ot.map((function(L,te){var re=getOptVal(Q.nodeSpacing,L),Ne=L.position(),$e=L.layoutDimensions(Q);return L.scratch().cola={x:Q.randomize&&!L.locked()||void 0===Ne.x?Math.round(Math.random()*at.w):Ne.x,y:Q.randomize&&!L.locked()||void 0===Ne.y?Math.round(Math.random()*at.h):Ne.y,width:$e.w+2*re,height:$e.h+2*re,index:te,fixed:L.locked()}})));var dn=[];Q.alignment&&(Q.alignment.vertical&&Q.alignment.vertical.forEach((function(L){var Q=[];L.forEach((function(L){var te=L.node.scratch().cola.index;Q.push({node:te,offset:L.offset?L.offset:0})})),dn.push({type:"alignment",axis:"x",offsets:Q})})),Q.alignment.horizontal&&Q.alignment.horizontal.forEach((function(L){var Q=[];L.forEach((function(L){var te=L.node.scratch().cola.index;Q.push({node:te,offset:L.offset?L.offset:0})})),dn.push({type:"alignment",axis:"y",offsets:Q})}))),Q.gapInequalities&&Q.gapInequalities.forEach((function(L){var Q=L.left.scratch().cola.index,te=L.right.scratch().cola.index;dn.push({axis:L.axis,left:Q,right:te,gap:L.gap,equality:L.equality})})),dn.length>0&&bt.constraints(dn),bt.groups(rt.map((function(L,te){var re=getOptVal(Q.nodeSpacing,L),getPadding=function(Q){return parseFloat(L.style("padding-"+Q))},Ne=getPadding("left")+re,$e=getPadding("right")+re,Ue=getPadding("top")+re,tt=getPadding("bottom")+re;return L.scratch().cola={index:te,padding:Math.max(Ne,$e,Ue,tt),leaves:L.children().intersection(ot).map((function(L){return L[0].scratch().cola.index})),fixed:L.locked()},L})).map((function(L){return L.scratch().cola.groups=L.children().intersection(rt).map((function(L){return L.scratch().cola.index})),L.scratch().cola})));var xn,Wn=void 0,Yn=void 0;if(null!=Q.edgeLength?(Wn=Q.edgeLength,Yn="linkDistance"):null!=Q.edgeSymDiffLength?(Wn=Q.edgeSymDiffLength,Yn="symmetricDiffLinkLengths"):null!=Q.edgeJaccardLength?(Wn=Q.edgeJaccardLength,Yn="jaccardLinkLengths"):(Wn=100,Yn="linkDistance"),bt.links(nt.stdFilter((function(L){return ot.contains(L.source())&&ot.contains(L.target())})).map((function(L){var Q=L.scratch().cola={source:L.source()[0].scratch().cola.index,target:L.target()[0].scratch().cola.index};return null!=Wn&&(Q.calcLength=getOptVal(Wn,L)),Q}))),bt.size([at.w,at.h]),null!=Wn&&bt[Yn]((function(L){return L.calcLength})),Q.flow){var Xn=void 0;(void 0===(xn=Q.flow)?"undefined":re(xn))===re("")?Xn={axis:Q.flow,minSeparation:50}:isNumber(Q.flow)?Xn={axis:"y",minSeparation:Q.flow}:function(L){return null!=L&&(void 0===L?"undefined":re(L))===re({})}(Q.flow)?((Xn=Q.flow).axis=Xn.axis||"y",Xn.minSeparation=null!=Xn.minSeparation?Xn.minSeparation:50):Xn={axis:"y",minSeparation:50},bt.flowLayout(Xn.axis,Xn.minSeparation)}return L.trigger({type:"layoutstart",layout:L}),bt.avoidOverlaps(Q.avoidOverlap).handleDisconnected(Q.handleDisconnected).start(Q.unconstrIter,Q.userConstIter,Q.allConstIter,void 0,void 0,Q.centerGraph),Q.infinite||setTimeout((function(){L.manuallyStopped||bt.stop()}),Q.maxSimulationTime),this},ColaLayout.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},L.exports=ColaLayout},function(L,Q,te){"use strict";L.exports=null!=Object.assign?Object.assign.bind(Object):function(L){for(var Q=arguments.length,te=Array(Q>1?Q-1:0),re=1;re<Q;re++)te[re-1]=arguments[re];return te.filter((function(L){return null!=L})).forEach((function(Q){Object.keys(Q).forEach((function(te){return L[te]=Q[te]}))})),L}},function(L,Q,te){"use strict";var re={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,convergenceThreshold:.01,nodeSpacing:function(L){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,centerGraph:!0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};L.exports=re},function(L,Q,te){"use strict";var re=te(0),register=function(L){L&&L("layout","cola",re)};"undefined"!=typeof cytoscape&&register(cytoscape),L.exports=register},function(L,Q,te){"use strict";var re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},Ne=void 0;Ne="undefined"!==("undefined"==typeof window?"undefined":re(window))?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(L){return setTimeout(L,16)}:function(L){L()},L.exports=Ne},function(Q,te){Q.exports=L}])},L.exports=re(te(18338))},26924:function(L,Q,te){L.exports=function(){"use strict";function e(L){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(L)}function t(L,Q){if(!(L instanceof Q))throw new TypeError("Cannot call a class as a function")}function n(L,Q){for(var te=0;te<Q.length;te++){var re=Q[te];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(L,re.key,re)}}function r(L,Q,te){return Q&&n(L.prototype,Q),te&&n(L,te),Object.defineProperty(L,"prototype",{writable:!1}),L}function i(L,Q,te){return Q in L?Object.defineProperty(L,Q,{value:te,enumerable:!0,configurable:!0,writable:!0}):L[Q]=te,L}function a(L,Q){return function(L){if(Array.isArray(L))return L}(L)||function(L,Q){var te=null==L?null:"undefined"!=typeof Symbol&&L[Symbol.iterator]||L["@@iterator"];if(null!=te){var re,Ne,$e=[],Ue=!0,tt=!1;try{for(te=te.call(L);!(Ue=(re=te.next()).done)&&($e.push(re.value),!Q||$e.length!==Q);Ue=!0);}catch(L){tt=!0,Ne=L}finally{try{Ue||null==te.return||te.return()}finally{if(tt)throw Ne}}return $e}}(L,Q)||function(L,Q){if(L){if("string"==typeof L)return o(L,Q);var te=Object.prototype.toString.call(L).slice(8,-1);return"Object"===te&&L.constructor&&(te=L.constructor.name),"Map"===te||"Set"===te?Array.from(L):"Arguments"===te||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?o(L,Q):void 0}}(L,Q)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(L,Q){(null==Q||Q>L.length)&&(Q=L.length);for(var te=0,re=new Array(Q);te<Q;te++)re[te]=L[te];return re}var L="undefined"==typeof window?null:window,Q=L?L.navigator:null;L&&L.document;var re=e(""),Ne=e({}),$e=e((function(){})),Ue="undefined"==typeof HTMLElement?"undefined":e(HTMLElement),p=function(L){return L&&L.instanceString&&g(L.instanceString)?L.instanceString():null},f=function(L){return null!=L&&e(L)==re},g=function(L){return null!=L&&e(L)===$e},v=function(L){return!x(L)&&(Array.isArray?Array.isArray(L):null!=L&&L instanceof Array)},y=function(L){return null!=L&&e(L)===Ne&&!v(L)&&L.constructor===Object},m=function(L){return null!=L&&e(L)===e(1)&&!isNaN(L)},b=function(L){return"undefined"===Ue?void 0:null!=L&&L instanceof HTMLElement},x=function(L){return w(L)||E(L)},w=function(L){return"collection"===p(L)&&L._private.single},E=function(L){return"collection"===p(L)&&!L._private.single},k=function(L){return"core"===p(L)},C=function(L){return"stylesheet"===p(L)},S=function(L){return null==L||!(""!==L&&!L.match(/^\s+$/))},P=function(L){return function(L){return null!=L&&e(L)===Ne}(L)&&g(L.then)},D=function(L,Q){Q||(Q=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var L=[],Q=0;Q<arguments.length;Q++)L.push(arguments[Q]);return L.join("$")});var te=function n(){var te,re=this,Ne=arguments,$e=Q.apply(re,Ne),Ue=n.cache;return(te=Ue[$e])||(te=Ue[$e]=L.apply(re,Ne)),te};return te.cache={},te},tt=D((function(L){return L.replace(/([A-Z])/g,(function(L){return"-"+L.toLowerCase()}))})),nt=D((function(L){return L.replace(/(-\w)/g,(function(L){return L[1].toUpperCase()}))})),it=D((function(L,Q){return L+Q[0].toUpperCase()+Q.substring(1)}),(function(L,Q){return L+"$"+Q})),B=function(L){return S(L)?L:L.charAt(0).toUpperCase()+L.substring(1)},rt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",z=function(L,Q){return L<Q?-1:L>Q?1:0},ot=null!=Object.assign?Object.assign.bind(Object):function(L){for(var Q=arguments,te=1;te<Q.length;te++){var re=Q[te];if(null!=re)for(var Ne=Object.keys(re),$e=0;$e<Ne.length;$e++){var Ue=Ne[$e];L[Ue]=re[Ue]}}return L},A=function(L){return(v(L)?L:null)||function(L){return at[L.toLowerCase()]}(L)||function(L){var Q,te,re;if((4===L.length||7===L.length)&&"#"===L[0])return 4===L.length?(Q=parseInt(L[1]+L[1],16),te=parseInt(L[2]+L[2],16),re=parseInt(L[3]+L[3],16)):(Q=parseInt(L[1]+L[2],16),te=parseInt(L[3]+L[4],16),re=parseInt(L[5]+L[6],16)),[Q,te,re]}(L)||function(L){var Q,te=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(L);if(te){Q=[];for(var re=[],Ne=1;Ne<=3;Ne++){var $e=te[Ne];if("%"===$e[$e.length-1]&&(re[Ne]=!0),$e=parseFloat($e),re[Ne]&&($e=$e/100*255),$e<0||$e>255)return;Q.push(Math.floor($e))}var Ue=re[1]||re[2]||re[3],tt=re[1]&&re[2]&&re[3];if(Ue&&!tt)return;var nt=te[4];if(void 0!==nt){if((nt=parseFloat(nt))<0||nt>1)return;Q.push(nt)}}return Q}(L)||function(L){var Q,te,re,Ne,$e,Ue,tt,nt;function u(L,Q,te){return te<0&&(te+=1),te>1&&(te-=1),te<1/6?L+6*(Q-L)*te:te<.5?Q:te<2/3?L+(Q-L)*(2/3-te)*6:L}var it=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(L);if(it){if((te=parseInt(it[1]))<0?te=(360- -1*te%360)%360:te>360&&(te%=360),te/=360,(re=parseFloat(it[2]))<0||re>100)return;if(re/=100,(Ne=parseFloat(it[3]))<0||Ne>100)return;if(Ne/=100,void 0!==($e=it[4])&&(($e=parseFloat($e))<0||$e>1))return;if(0===re)Ue=tt=nt=Math.round(255*Ne);else{var rt=Ne<.5?Ne*(1+re):Ne+re-Ne*re,ot=2*Ne-rt;Ue=Math.round(255*u(ot,rt,te+1/3)),tt=Math.round(255*u(ot,rt,te)),nt=Math.round(255*u(ot,rt,te-1/3))}Q=[Ue,tt,nt,$e]}return Q}(L)},at={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},O=function(L){for(var Q=L.map,te=L.keys,re=te.length,Ne=0;Ne<re;Ne++){var $e=te[Ne];if(y($e))throw Error("Tried to set map with object key");Ne<te.length-1?(null==Q[$e]&&(Q[$e]={}),Q=Q[$e]):Q[$e]=L.value}},R=function(L){for(var Q=L.map,te=L.keys,re=te.length,Ne=0;Ne<re;Ne++){var $e=te[Ne];if(y($e))throw Error("Tried to get map with object key");if(null==(Q=Q[$e]))return Q}return Q},V=function(L){var Q=typeof L;return null!=L&&("object"==Q||"function"==Q)},dt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==te.g?te.g:"undefined"!=typeof self?self:{},bt="object"==typeof dt&&dt&&dt.Object===Object&&dt,sn="object"==typeof self&&self&&self.Object===Object&&self,ln=bt||sn||Function("return this")(),X=function(){return ln.Date.now()},un=/\s/,H=function(L){for(var Q=L.length;Q--&&un.test(L.charAt(Q)););return Q},cn=/^\s+/,G=function(L){return L?L.slice(0,H(L)+1).replace(cn,""):L},dn=ln.Symbol,xn=Object.prototype,Wn=xn.hasOwnProperty,Yn=xn.toString,Xn=dn?dn.toStringTag:void 0,ee=function(L){var Q=Wn.call(L,Xn),te=L[Xn];try{L[Xn]=void 0;var re=!0}catch(L){}var Ne=Yn.call(L);return re&&(Q?L[Xn]=te:delete L[Xn]),Ne},Kn=Object.prototype.toString,ne=function(L){return Kn.call(L)},ti=dn?dn.toStringTag:void 0,ie=function(L){return null==L?void 0===L?"[object Undefined]":"[object Null]":ti&&ti in Object(L)?ee(L):ne(L)},ae=function(L){return null!=L&&"object"==typeof L},oe=function(L){return"symbol"==typeof L||ae(L)&&"[object Symbol]"==ie(L)},ni=/^[-+]0x[0-9a-f]+$/i,di=/^0b[01]+$/i,fi=/^0o[0-7]+$/i,pi=parseInt,de=function(L){if("number"==typeof L)return L;if(oe(L))return NaN;if(V(L)){var Q="function"==typeof L.valueOf?L.valueOf():L;L=V(Q)?Q+"":Q}if("string"!=typeof L)return 0===L?L:+L;L=G(L);var te=di.test(L);return te||fi.test(L)?pi(L.slice(2),te?2:8):ni.test(L)?NaN:+L},gi=Math.max,vi=Math.min,fe=function(L,Q,te){var re,Ne,$e,Ue,tt,nt,it=0,rt=!1,ot=!1,at=!0;if("function"!=typeof L)throw new TypeError("Expected a function");function p(Q){var te=re,$e=Ne;return re=Ne=void 0,it=Q,Ue=L.apply($e,te)}function f(L){return it=L,tt=setTimeout(v,Q),rt?p(L):Ue}function g(L){var te=L-nt;return void 0===nt||te>=Q||te<0||ot&&L-it>=$e}function v(){var L=X();if(g(L))return y(L);tt=setTimeout(v,function(L){var te=Q-(L-nt);return ot?vi(te,$e-(L-it)):te}(L))}function y(L){return tt=void 0,at&&re?p(L):(re=Ne=void 0,Ue)}function m(){var L=X(),te=g(L);if(re=arguments,Ne=this,nt=L,te){if(void 0===tt)return f(nt);if(ot)return clearTimeout(tt),tt=setTimeout(v,Q),p(nt)}return void 0===tt&&(tt=setTimeout(v,Q)),Ue}return Q=de(Q)||0,V(te)&&(rt=!!te.leading,$e=(ot="maxWait"in te)?gi(de(te.maxWait)||0,Q):$e,at="trailing"in te?!!te.trailing:at),m.cancel=function(){void 0!==tt&&clearTimeout(tt),it=0,re=nt=Ne=tt=void 0},m.flush=function(){return void 0===tt?Ue:y(X())},m},mi=L?L.performance:null,bi=mi&&mi.now?function(){return mi.now()}:function(){return Date.now()},xi=function(){if(L){if(L.requestAnimationFrame)return function(Q){L.requestAnimationFrame(Q)};if(L.mozRequestAnimationFrame)return function(Q){L.mozRequestAnimationFrame(Q)};if(L.webkitRequestAnimationFrame)return function(Q){L.webkitRequestAnimationFrame(Q)};if(L.msRequestAnimationFrame)return function(Q){L.msRequestAnimationFrame(Q)}}return function(L){L&&setTimeout((function(){L(bi())}),1e3/60)}}(),me=function(L){return xi(L)},Ti=bi,Pi=65599,we=function(L){for(var Q,te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9261;!(Q=L.next()).done;)te=te*Pi+Q.value|0;return te},Ee=function(L){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:9261)*Pi+L|0},ke=function(L){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381;return(Q<<5)+Q+L|0},Ce=function(L){return 2097152*L[0]+L[1]},Se=function(L,Q){return[Ee(L[0],Q[0]),ke(L[1],Q[1])]},Pe=function(L,Q){var te={value:0,done:!1},re=0,Ne=L.length;return we({next:function(){return re<Ne?te.value=L.charCodeAt(re++):te.done=!0,te}},Q)},De=function(){return Te(arguments)},Te=function(L){for(var Q,te=0;te<L.length;te++){var re=L[te];Q=0===te?Pe(re):Pe(re,Q)}return Q},Mi=!0,Oi=null!=console.warn,Li=null!=console.trace,ji=Number.MAX_SAFE_INTEGER||9007199254740991,ze=function(){return!0},Ie=function(){return!1},Ae=function(){return 0},Le=function(){},Oe=function(L){throw new Error(L)},Re=function(L){if(void 0===L)return Mi;Mi=!!L},Ve=function(L){Re()&&(Oi?console.warn(L):(console.log(L),Li&&console.trace()))},Fe=function(L){return null==L?L:v(L)?L.slice():y(L)?function(L){return ot({},L)}(L):L},je=function(L,Q){for(Q=L="";L++<36;Q+=51*L&52?(15^L?8^Math.random()*(20^L?16:4):4).toString(16):"-");return Q},Ri={},Ye=function(){return Ri},Xe=function(L){var Q=Object.keys(L);return function(te){for(var re={},Ne=0;Ne<Q.length;Ne++){var $e=Q[Ne],Ue=null==te?void 0:te[$e];re[$e]=void 0===Ue?L[$e]:Ue}return re}},We=function(L,Q,te){for(var re=L.length-1;re>=0&&(L[re]!==Q||(L.splice(re,1),!te));re--);},He=function(L){L.splice(0,L.length)},Ke=function(L,Q,te){return te&&(Q=it(te,Q)),L[Q]},Ge=function(L,Q,te,re){te&&(Q=it(te,Q)),L[Q]=re},Fi="undefined"!=typeof Map?Map:function(){function e(){t(this,e),this._obj={}}return r(e,[{key:"set",value:function(L,Q){return this._obj[L]=Q,this}},{key:"delete",value:function(L){return this._obj[L]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(L){return void 0!==this._obj[L]}},{key:"get",value:function(L){return this._obj[L]}}]),e}(),Hi=function(){function e(L){if(t(this,e),this._obj=Object.create(null),this.size=0,null!=L){var Q;Q=null!=L.instanceString&&L.instanceString()===this.instanceString()?L.toArray():L;for(var te=0;te<Q.length;te++)this.add(Q[te])}}return r(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(L){var Q=this._obj;1!==Q[L]&&(Q[L]=1,this.size++)}},{key:"delete",value:function(L){var Q=this._obj;1===Q[L]&&(Q[L]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(L){return 1===this._obj[L]}},{key:"toArray",value:function(){var L=this;return Object.keys(this._obj).filter((function(Q){return L.has(Q)}))}},{key:"forEach",value:function(L,Q){return this.toArray().forEach(L,Q)}}]),e}(),qi="undefined"!==("undefined"==typeof Set?"undefined":e(Set))?Set:Hi,Qe=function(L,Q){var te=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==L&&void 0!==Q&&k(L)){var re=Q.group;if(null==re&&(re=Q.data&&null!=Q.data.source&&null!=Q.data.target?"edges":"nodes"),"nodes"===re||"edges"===re){this.length=1,this[0]=this;var Ne=this._private={cy:L,single:!0,data:Q.data||{},position:Q.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:re,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!Q.selected,selectable:void 0===Q.selectable||!!Q.selectable,locked:!!Q.locked,grabbed:!1,grabbable:void 0===Q.grabbable||!!Q.grabbable,pannable:void 0===Q.pannable?"edges"===re:!!Q.pannable,active:!1,classes:new qi,animation:{current:[],queue:[]},rscratch:{},scratch:Q.scratch||{},edges:[],children:[],parent:Q.parent&&Q.parent.isNode()?Q.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==Ne.position.x&&(Ne.position.x=0),null==Ne.position.y&&(Ne.position.y=0),Q.renderedPosition){var $e=Q.renderedPosition,Ue=L.pan(),tt=L.zoom();Ne.position={x:($e.x-Ue.x)/tt,y:($e.y-Ue.y)/tt}}var nt=[];v(Q.classes)?nt=Q.classes:f(Q.classes)&&(nt=Q.classes.split(/\s+/));for(var it=0,rt=nt.length;it<rt;it++){var ot=nt[it];ot&&""!==ot&&Ne.classes.add(ot)}this.createEmitter();var at=Q.style||Q.css;at&&(Ve("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(at)),(void 0===te||te)&&this.restore()}else Oe("An element must be of type `nodes` or `edges`; you specified `"+re+"`")}else Oe("An element must have a core reference and parameters set")},Je=function(L){return L={bfs:L.bfs||!L.dfs,dfs:L.dfs||!L.bfs},function(Q,te,re){var Ne;y(Q)&&!x(Q)&&(Q=(Ne=Q).roots||Ne.root,te=Ne.visit,re=Ne.directed),re=2!==arguments.length||g(te)?re:te,te=g(te)?te:function(){};for(var $e,Ue=this._private.cy,tt=Q=f(Q)?this.filter(Q):Q,nt=[],it=[],rt={},ot={},at={},dt=0,bt=this.byGroup(),sn=bt.nodes,ln=bt.edges,un=0;un<tt.length;un++){var cn=tt[un],dn=cn.id();cn.isNode()&&(nt.unshift(cn),L.bfs&&(at[dn]=!0,it.push(cn)),ot[dn]=0)}for(var C=function(){var Q=L.bfs?nt.shift():nt.pop(),Ne=Q.id();if(L.dfs){if(at[Ne])return"continue";at[Ne]=!0,it.push(Q)}var Ue,tt=ot[Ne],bt=rt[Ne],un=null!=bt?bt.source():null,cn=null!=bt?bt.target():null,dn=null==bt?void 0:Q.same(un)?cn[0]:un[0];if(!0===(Ue=te(Q,bt,dn,dt++,tt)))return $e=Q,"break";if(!1===Ue)return"break";for(var xn=Q.connectedEdges().filter((function(L){return(!re||L.source().same(Q))&&ln.has(L)})),Wn=0;Wn<xn.length;Wn++){var Yn=xn[Wn],Xn=Yn.connectedNodes().filter((function(L){return!L.same(Q)&&sn.has(L)})),Kn=Xn.id();0===Xn.length||at[Kn]||(Xn=Xn[0],nt.push(Xn),L.bfs&&(at[Kn]=!0,it.push(Xn)),rt[Kn]=Yn,ot[Kn]=ot[Ne]+1)}};0!==nt.length;){var xn=C();if("continue"!==xn&&"break"===xn)break}for(var Wn=Ue.collection(),Yn=0;Yn<it.length;Yn++){var Xn=it[Yn],Kn=rt[Xn.id()];null!=Kn&&Wn.push(Kn),Wn.push(Xn)}return{path:Ue.collection(Wn),found:Ue.collection($e)}}},Wi={breadthFirstSearch:Je({bfs:!0}),depthFirstSearch:Je({dfs:!0})};Wi.bfs=Wi.breadthFirstSearch,Wi.dfs=Wi.depthFirstSearch;var Vi=function(L,Q){return L(Q={exports:{}},Q.exports),Q.exports}((function(L,Q){(function(){var Q,te,re,Ne,$e,Ue,tt,nt,it,rt,ot,at,dt,bt,sn;re=Math.floor,rt=Math.min,te=function(L,Q){return L<Q?-1:L>Q?1:0},it=function(L,Q,Ne,$e,Ue){var tt;if(null==Ne&&(Ne=0),null==Ue&&(Ue=te),Ne<0)throw new Error("lo must be non-negative");for(null==$e&&($e=L.length);Ne<$e;)Ue(Q,L[tt=re((Ne+$e)/2)])<0?$e=tt:Ne=tt+1;return[].splice.apply(L,[Ne,Ne-Ne].concat(Q)),Q},Ue=function(L,Q,re){return null==re&&(re=te),L.push(Q),bt(L,0,L.length-1,re)},$e=function(L,Q){var re,Ne;return null==Q&&(Q=te),re=L.pop(),L.length?(Ne=L[0],L[0]=re,sn(L,0,Q)):Ne=re,Ne},nt=function(L,Q,re){var Ne;return null==re&&(re=te),Ne=L[0],L[0]=Q,sn(L,0,re),Ne},tt=function(L,Q,re){var Ne;return null==re&&(re=te),L.length&&re(L[0],Q)<0&&(Q=(Ne=[L[0],Q])[0],L[0]=Ne[1],sn(L,0,re)),Q},Ne=function(L,Q){var Ne,$e,Ue,tt,nt,it;for(null==Q&&(Q=te),nt=[],$e=0,Ue=(tt=function(){it=[];for(var Q=0,te=re(L.length/2);0<=te?Q<te:Q>te;0<=te?Q++:Q--)it.push(Q);return it}.apply(this).reverse()).length;$e<Ue;$e++)Ne=tt[$e],nt.push(sn(L,Ne,Q));return nt},dt=function(L,Q,re){var Ne;if(null==re&&(re=te),-1!==(Ne=L.indexOf(Q)))return bt(L,0,Ne,re),sn(L,Ne,re)},ot=function(L,Q,re){var $e,Ue,nt,it,rt;if(null==re&&(re=te),!(Ue=L.slice(0,Q)).length)return Ue;for(Ne(Ue,re),nt=0,it=(rt=L.slice(Q)).length;nt<it;nt++)$e=rt[nt],tt(Ue,$e,re);return Ue.sort(re).reverse()},at=function(L,Q,re){var Ue,tt,nt,ot,at,dt,bt,sn,ln;if(null==re&&(re=te),10*Q<=L.length){if(!(nt=L.slice(0,Q).sort(re)).length)return nt;for(tt=nt[nt.length-1],ot=0,dt=(bt=L.slice(Q)).length;ot<dt;ot++)re(Ue=bt[ot],tt)<0&&(it(nt,Ue,0,null,re),nt.pop(),tt=nt[nt.length-1]);return nt}for(Ne(L,re),ln=[],at=0,sn=rt(Q,L.length);0<=sn?at<sn:at>sn;0<=sn?++at:--at)ln.push($e(L,re));return ln},bt=function(L,Q,re,Ne){var $e,Ue,tt;for(null==Ne&&(Ne=te),$e=L[re];re>Q&&Ne($e,Ue=L[tt=re-1>>1])<0;)L[re]=Ue,re=tt;return L[re]=$e},sn=function(L,Q,re){var Ne,$e,Ue,tt,nt;for(null==re&&(re=te),$e=L.length,nt=Q,Ue=L[Q],Ne=2*Q+1;Ne<$e;)(tt=Ne+1)<$e&&!(re(L[Ne],L[tt])<0)&&(Ne=tt),L[Q]=L[Ne],Ne=2*(Q=Ne)+1;return L[Q]=Ue,bt(L,nt,Q,re)},Q=function(){function e(L){this.cmp=null!=L?L:te,this.nodes=[]}return e.push=Ue,e.pop=$e,e.replace=nt,e.pushpop=tt,e.heapify=Ne,e.updateItem=dt,e.nlargest=ot,e.nsmallest=at,e.prototype.push=function(L){return Ue(this.nodes,L,this.cmp)},e.prototype.pop=function(){return $e(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(L){return-1!==this.nodes.indexOf(L)},e.prototype.replace=function(L){return nt(this.nodes,L,this.cmp)},e.prototype.pushpop=function(L){return tt(this.nodes,L,this.cmp)},e.prototype.heapify=function(){return Ne(this.nodes,this.cmp)},e.prototype.updateItem=function(L){return dt(this.nodes,L,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var L;return(L=new e).nodes=this.nodes.slice(0),L},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),L.exports=Q}).call(dt)})),Yi=Xe({root:null,weight:function(L){return 1},directed:!1}),Xi={dijkstra:function(L){if(!y(L)){var Q=arguments;L={root:Q[0],weight:Q[1],directed:Q[2]}}var te=Yi(L),re=te.root,Ne=te.weight,$e=te.directed,Ue=this,tt=Ne,nt=f(re)?this.filter(re)[0]:re[0],it={},rt={},ot={},at=this.byGroup(),dt=at.nodes,bt=at.edges;bt.unmergeBy((function(L){return L.isLoop()}));for(var v=function(L){return it[L.id()]},m=function(L,Q){it[L.id()]=Q,sn.updateItem(L)},sn=new Vi((function(L,Q){return v(L)-v(Q)})),ln=0;ln<dt.length;ln++){var un=dt[ln];it[un.id()]=un.same(nt)?0:1/0,sn.push(un)}for(var E=function(L,Q){for(var te,re=($e?L.edgesTo(Q):L.edgesWith(Q)).intersect(bt),Ne=1/0,Ue=0;Ue<re.length;Ue++){var nt=re[Ue],it=tt(nt);(it<Ne||!te)&&(Ne=it,te=nt)}return{edge:te,dist:Ne}};sn.size()>0;){var cn=sn.pop(),dn=v(cn),xn=cn.id();if(ot[xn]=dn,dn!==1/0)for(var Wn=cn.neighborhood().intersect(dt),Yn=0;Yn<Wn.length;Yn++){var Xn=Wn[Yn],Kn=Xn.id(),ti=E(cn,Xn),ni=dn+ti.dist;ni<v(Xn)&&(m(Xn,ni),rt[Kn]={node:cn,edge:ti.edge})}}return{distanceTo:function(L){var Q=f(L)?dt.filter(L)[0]:L[0];return ot[Q.id()]},pathTo:function(L){var Q=f(L)?dt.filter(L)[0]:L[0],te=[],re=Q,Ne=re.id();if(Q.length>0)for(te.unshift(Q);rt[Ne];){var $e=rt[Ne];te.unshift($e.edge),te.unshift($e.node),Ne=(re=$e.node).id()}return Ue.spawn(te)}}}},$i={kruskal:function(L){L=L||function(L){return 1};for(var Q=this.byGroup(),te=Q.nodes,re=Q.edges,Ne=te.length,$e=new Array(Ne),Ue=te,s=function(L){for(var Q=0;Q<$e.length;Q++)if($e[Q].has(L))return Q},tt=0;tt<Ne;tt++)$e[tt]=this.spawn(te[tt]);for(var nt=re.sort((function(Q,te){return L(Q)-L(te)})),it=0;it<nt.length;it++){var rt=nt[it],ot=rt.source()[0],at=rt.target()[0],dt=s(ot),bt=s(at),sn=$e[dt],ln=$e[bt];dt!==bt&&(Ue.merge(rt),sn.merge(ln),$e.splice(bt,1))}return Ue}},Gi=Xe({root:null,goal:null,weight:function(L){return 1},heuristic:function(L){return 0},directed:!1}),Ui={aStar:function(L){var Q=this.cy(),te=Gi(L),re=te.root,Ne=te.goal,$e=te.heuristic,Ue=te.directed,tt=te.weight;re=Q.collection(re)[0],Ne=Q.collection(Ne)[0];var nt,it,rt=re.id(),ot=Ne.id(),at={},dt={},bt={},sn=new Vi((function(L,Q){return dt[L.id()]-dt[Q.id()]})),ln=new qi,un={},cn={},b=function(L,Q){sn.push(L),ln.add(Q)};b(re,rt),at[rt]=0,dt[rt]=$e(re);for(var dn,xn=0;sn.size()>0;){if(it=(nt=sn.pop()).id(),ln.delete(it),xn++,it===ot){for(var Wn=[],Yn=Ne,Xn=ot,Kn=cn[Xn];Wn.unshift(Yn),null!=Kn&&Wn.unshift(Kn),null!=(Yn=un[Xn]);)Kn=cn[Xn=Yn.id()];return{found:!0,distance:at[it],path:this.spawn(Wn),steps:xn}}bt[it]=!0;for(var ti=nt._private.edges,ni=0;ni<ti.length;ni++){var di=ti[ni];if(this.hasElementWithId(di.id())&&(!Ue||di.data("source")===it)){var fi=di.source(),pi=di.target(),gi=fi.id()!==it?fi:pi,vi=gi.id();if(this.hasElementWithId(vi)&&!bt[vi]){var mi=at[it]+tt(di);dn=vi,ln.has(dn)?mi<at[vi]&&(at[vi]=mi,dt[vi]=mi+$e(gi),un[vi]=nt,cn[vi]=di):(at[vi]=mi,dt[vi]=mi+$e(gi),b(gi,vi),un[vi]=nt,cn[vi]=di)}}}}return{found:!1,distance:void 0,path:void 0,steps:xn}}},Ki=Xe({weight:function(L){return 1},directed:!1}),Zi={floydWarshall:function(L){for(var Q=this.cy(),te=Ki(L),re=te.weight,Ne=te.directed,$e=re,Ue=this.byGroup(),tt=Ue.nodes,nt=Ue.edges,it=tt.length,rt=it*it,d=function(L){return tt.indexOf(L)},h=function(L){return tt[L]},ot=new Array(rt),at=0;at<rt;at++){var dt=at%it,bt=(at-dt)/it;ot[at]=bt===dt?0:1/0}for(var sn=new Array(rt),ln=new Array(rt),un=0;un<nt.length;un++){var cn=nt[un],dn=cn.source()[0],xn=cn.target()[0];if(dn!==xn){var Wn=d(dn),Yn=d(xn),Xn=Wn*it+Yn,Kn=$e(cn);if(ot[Xn]>Kn&&(ot[Xn]=Kn,sn[Xn]=Yn,ln[Xn]=cn),!Ne){var ti=Yn*it+Wn;!Ne&&ot[ti]>Kn&&(ot[ti]=Kn,sn[ti]=Wn,ln[ti]=cn)}}}for(var ni=0;ni<it;ni++)for(var di=0;di<it;di++)for(var fi=di*it+ni,pi=0;pi<it;pi++){var gi=di*it+pi,vi=ni*it+pi;ot[fi]+ot[vi]<ot[gi]&&(ot[gi]=ot[fi]+ot[vi],sn[gi]=sn[fi])}var A=function(L){return d(function(L){return(f(L)?Q.filter(L):L)[0]}(L))};return{distance:function(L,Q){var te=A(L),re=A(Q);return ot[te*it+re]},path:function(L,te){var re=A(L),Ne=A(te),$e=h(re);if(re===Ne)return $e.collection();if(null==sn[re*it+Ne])return Q.collection();var Ue,tt=Q.collection(),nt=re;for(tt.merge($e);re!==Ne;)nt=re,re=sn[re*it+Ne],Ue=ln[nt*it+re],tt.merge(Ue),tt.merge(h(re));return tt}}}},Ji=Xe({weight:function(L){return 1},directed:!1,root:null}),Qi={bellmanFord:function(L){var Q=this,te=Ji(L),re=te.weight,Ne=te.directed,$e=te.root,Ue=re,tt=this,nt=this.cy(),it=this.byGroup(),rt=it.edges,ot=it.nodes,at=ot.length,dt=new Fi,bt=!1,sn=[];$e=nt.collection($e)[0],rt.unmergeBy((function(L){return L.isLoop()}));for(var ln=rt.length,m=function(L){var Q=dt.get(L.id());return Q||(Q={},dt.set(L.id(),Q)),Q},b=function(L){return(f(L)?nt.$(L):L)[0]},un=0;un<at;un++){var cn=ot[un],dn=m(cn);cn.same($e)?dn.dist=0:dn.dist=1/0,dn.pred=null,dn.edge=null}for(var xn=!1,C=function(L,Q,te,re,Ne,$e){var Ue=re.dist+$e;Ue<Ne.dist&&!te.same(re.edge)&&(Ne.dist=Ue,Ne.pred=L,Ne.edge=te,xn=!0)},Wn=1;Wn<at;Wn++){xn=!1;for(var Yn=0;Yn<ln;Yn++){var Xn=rt[Yn],Kn=Xn.source(),ti=Xn.target(),ni=Ue(Xn),di=m(Kn),fi=m(ti);C(Kn,0,Xn,di,fi,ni),Ne||C(ti,0,Xn,fi,di,ni)}if(!xn)break}if(xn)for(var pi=[],gi=0;gi<ln;gi++){var vi=rt[gi],mi=vi.source(),bi=vi.target(),xi=Ue(vi),Ti=m(mi).dist,Pi=m(bi).dist;if(Ti+xi<Pi||!Ne&&Pi+xi<Ti){if(bt||(Ve("Graph contains a negative weight cycle for Bellman-Ford"),bt=!0),!1===L.findNegativeWeightCycles)break;var Mi=[];Ti+xi<Pi&&Mi.push(mi),!Ne&&Pi+xi<Ti&&Mi.push(bi);for(var Oi=Mi.length,Li=0;Li<Oi;Li++){var ji=Mi[Li],Ri=[ji];Ri.push(m(ji).edge);for(var Hi=m(ji).pred;-1===Ri.indexOf(Hi);)Ri.push(Hi),Ri.push(m(Hi).edge),Hi=m(Hi).pred;for(var qi=(Ri=Ri.slice(Ri.indexOf(Hi)))[0].id(),Wi=0,Vi=2;Vi<Ri.length;Vi+=2)Ri[Vi].id()<qi&&(qi=Ri[Vi].id(),Wi=Vi);(Ri=Ri.slice(Wi).concat(Ri.slice(0,Wi))).push(Ri[0]);var Yi=Ri.map((function(L){return L.id()})).join(",");-1===pi.indexOf(Yi)&&(sn.push(tt.spawn(Ri)),pi.push(Yi))}}}return{distanceTo:function(L){return m(b(L)).dist},pathTo:function(L){for(var te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$e,re=[],Ne=b(L);;){if(null==Ne)return Q.spawn();var Ue=m(Ne),nt=Ue.edge,it=Ue.pred;if(re.unshift(Ne[0]),Ne.same(te)&&re.length>0)break;null!=nt&&re.unshift(nt),Ne=it}return tt.spawn(re)},hasNegativeWeightCycle:bt,negativeWeightCycles:sn}}},tr=Math.sqrt(2),ht=function(L,Q,te){0===te.length&&Oe("Karger-Stein must be run on a connected (sub)graph");for(var re=te[L],Ne=re[1],$e=re[2],Ue=Q[Ne],tt=Q[$e],nt=te,it=nt.length-1;it>=0;it--){var rt=nt[it],ot=rt[1],at=rt[2];(Q[ot]===Ue&&Q[at]===tt||Q[ot]===tt&&Q[at]===Ue)&&nt.splice(it,1)}for(var dt=0;dt<nt.length;dt++){var bt=nt[dt];bt[1]===tt?(nt[dt]=bt.slice(),nt[dt][1]=Ue):bt[2]===tt&&(nt[dt]=bt.slice(),nt[dt][2]=Ue)}for(var sn=0;sn<Q.length;sn++)Q[sn]===tt&&(Q[sn]=Ue);return nt},pt=function(L,Q,te,re){for(;te>re;){var Ne=Math.floor(Math.random()*Q.length);Q=ht(Ne,L,Q),te--}return Q},nr={kargerStein:function(){var L=this,Q=this.byGroup(),te=Q.nodes,re=Q.edges;re.unmergeBy((function(L){return L.isLoop()}));var Ne=te.length,$e=re.length,Ue=Math.ceil(Math.pow(Math.log(Ne)/Math.LN2,2)),tt=Math.floor(Ne/tr);if(!(Ne<2)){for(var nt=[],it=0;it<$e;it++){var rt=re[it];nt.push([it,te.indexOf(rt.source()),te.indexOf(rt.target())])}for(var ot=1/0,at=[],dt=new Array(Ne),bt=new Array(Ne),sn=new Array(Ne),v=function(L,Q){for(var te=0;te<Ne;te++)Q[te]=L[te]},ln=0;ln<=Ue;ln++){for(var un=0;un<Ne;un++)bt[un]=un;var cn=pt(bt,nt.slice(),Ne,tt),dn=cn.slice();v(bt,sn);var xn=pt(bt,cn,tt,2),Wn=pt(sn,dn,tt,2);xn.length<=Wn.length&&xn.length<ot?(ot=xn.length,at=xn,v(bt,dt)):Wn.length<=xn.length&&Wn.length<ot&&(ot=Wn.length,at=Wn,v(sn,dt))}for(var Yn=this.spawn(at.map((function(L){return re[L[0]]}))),Xn=this.spawn(),Kn=this.spawn(),ti=dt[0],ni=0;ni<dt.length;ni++){var di=dt[ni],fi=te[ni];di===ti?Xn.merge(fi):Kn.merge(fi)}var M=function(Q){var te=L.spawn();return Q.forEach((function(Q){te.merge(Q),Q.connectedEdges().forEach((function(Q){L.contains(Q)&&!Yn.contains(Q)&&te.merge(Q)}))})),te},pi=[M(Xn),M(Kn)];return{cut:Yn,components:pi,partition1:Xn,partition2:Kn}}Oe("At least 2 nodes are required for Karger-Stein algorithm")}},gt=function(L,Q,te){return{x:L.x*Q+te.x,y:L.y*Q+te.y}},vt=function(L,Q,te){return{x:(L.x-te.x)/Q,y:(L.y-te.y)/Q}},yt=function(L){return{x:L[0],y:L[1]}},mt=function(L,Q){return Math.atan2(Q,L)-Math.PI/2},or=Math.log2||function(L){return Math.log(L)/Math.log(2)},xt=function(L){return L>0?1:L<0?-1:0},wt=function(L,Q){return Math.sqrt(Et(L,Q))},Et=function(L,Q){var te=Q.x-L.x,re=Q.y-L.y;return te*te+re*re},kt=function(L){for(var Q=L.length,te=0,re=0;re<Q;re++)te+=L[re];for(var Ne=0;Ne<Q;Ne++)L[Ne]=L[Ne]/te;return L},Ct=function(L,Q,te,re){return(1-re)*(1-re)*L+2*(1-re)*re*Q+re*re*te},St=function(L,Q,te,re){return{x:Ct(L.x,Q.x,te.x,re),y:Ct(L.y,Q.y,te.y,re)}},Pt=function(L,Q,te){return Math.max(L,Math.min(te,Q))},Dt=function(L){if(null==L)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=L.x1&&null!=L.y1){if(null!=L.x2&&null!=L.y2&&L.x2>=L.x1&&L.y2>=L.y1)return{x1:L.x1,y1:L.y1,x2:L.x2,y2:L.y2,w:L.x2-L.x1,h:L.y2-L.y1};if(null!=L.w&&null!=L.h&&L.w>=0&&L.h>=0)return{x1:L.x1,y1:L.y1,x2:L.x1+L.w,y2:L.y1+L.h,w:L.w,h:L.h}}},Tt=function(L,Q,te){L.x1=Math.min(L.x1,Q),L.x2=Math.max(L.x2,Q),L.w=L.x2-L.x1,L.y1=Math.min(L.y1,te),L.y2=Math.max(L.y2,te),L.h=L.y2-L.y1},_t=function(L){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return L.x1-=Q,L.x2+=Q,L.y1-=Q,L.y2+=Q,L.w=L.x2-L.x1,L.h=L.y2-L.y1,L},Mt=function(L){var Q,te,re,Ne,$e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===$e.length)Q=te=re=Ne=$e[0];else if(2===$e.length)Q=re=$e[0],Ne=te=$e[1];else if(4===$e.length){var Ue=a($e,4);Q=Ue[0],te=Ue[1],re=Ue[2],Ne=Ue[3]}return L.x1-=Ne,L.x2+=te,L.y1-=Q,L.y2+=re,L.w=L.x2-L.x1,L.h=L.y2-L.y1,L},Bt=function(L,Q){L.x1=Q.x1,L.y1=Q.y1,L.x2=Q.x2,L.y2=Q.y2,L.w=L.x2-L.x1,L.h=L.y2-L.y1},Nt=function(L,Q){return!(L.x1>Q.x2||Q.x1>L.x2||L.x2<Q.x1||Q.x2<L.x1||L.y2<Q.y1||Q.y2<L.y1||L.y1>Q.y2||Q.y1>L.y2)},zt=function(L,Q,te){return L.x1<=Q&&Q<=L.x2&&L.y1<=te&&te<=L.y2},It=function(L,Q){return zt(L,Q.x1,Q.y1)&&zt(L,Q.x2,Q.y2)},At=function(L,Q,te,re,Ne,$e,Ue){var tt,nt=Jt(Ne,$e),it=Ne/2,rt=$e/2,ot=re-rt-Ue;if((tt=Kt(L,Q,te,re,te-it+nt-Ue,ot,te+it-nt+Ue,ot,!1)).length>0)return tt;var at=te+it+Ue;if((tt=Kt(L,Q,te,re,at,re-rt+nt-Ue,at,re+rt-nt+Ue,!1)).length>0)return tt;var dt=re+rt+Ue;if((tt=Kt(L,Q,te,re,te-it+nt-Ue,dt,te+it-nt+Ue,dt,!1)).length>0)return tt;var bt,sn=te-it-Ue;if((tt=Kt(L,Q,te,re,sn,re-rt+nt-Ue,sn,re+rt-nt+Ue,!1)).length>0)return tt;var ln=te-it+nt,un=re-rt+nt;if((bt=Wt(L,Q,te,re,ln,un,nt+Ue)).length>0&&bt[0]<=ln&&bt[1]<=un)return[bt[0],bt[1]];var cn=te+it-nt,dn=re-rt+nt;if((bt=Wt(L,Q,te,re,cn,dn,nt+Ue)).length>0&&bt[0]>=cn&&bt[1]<=dn)return[bt[0],bt[1]];var xn=te+it-nt,Wn=re+rt-nt;if((bt=Wt(L,Q,te,re,xn,Wn,nt+Ue)).length>0&&bt[0]>=xn&&bt[1]>=Wn)return[bt[0],bt[1]];var Yn=te-it+nt,Xn=re+rt-nt;return(bt=Wt(L,Q,te,re,Yn,Xn,nt+Ue)).length>0&&bt[0]<=Yn&&bt[1]>=Xn?[bt[0],bt[1]]:[]},Lt=function(L,Q,te,re,Ne,$e,Ue){var tt=Ue,nt=Math.min(te,Ne),it=Math.max(te,Ne),rt=Math.min(re,$e),ot=Math.max(re,$e);return nt-tt<=L&&L<=it+tt&&rt-tt<=Q&&Q<=ot+tt},Ot=function(L,Q,te,re,Ne,$e,Ue,tt,nt){var it=Math.min(te,Ue,Ne)-nt,rt=Math.max(te,Ue,Ne)+nt,ot=Math.min(re,tt,$e)-nt,at=Math.max(re,tt,$e)+nt;return!(L<it||L>rt||Q<ot||Q>at)},Rt=function(L,Q,te,re,Ne,$e,Ue,tt){var nt=[];!function(L,Q,te,re,Ne){var $e,Ue,tt,nt,it,rt,ot,at;0===L&&(L=1e-5),tt=-27*(re/=L)+(Q/=L)*(9*(te/=L)-Q*Q*2),$e=(Ue=(3*te-Q*Q)/9)*Ue*Ue+(tt/=54)*tt,Ne[1]=0,ot=Q/3,$e>0?(it=(it=tt+Math.sqrt($e))<0?-Math.pow(-it,1/3):Math.pow(it,1/3),rt=(rt=tt-Math.sqrt($e))<0?-Math.pow(-rt,1/3):Math.pow(rt,1/3),Ne[0]=-ot+it+rt,ot+=(it+rt)/2,Ne[4]=Ne[2]=-ot,ot=Math.sqrt(3)*(-rt+it)/2,Ne[3]=ot,Ne[5]=-ot):(Ne[5]=Ne[3]=0,0===$e?(at=tt<0?-Math.pow(-tt,1/3):Math.pow(tt,1/3),Ne[0]=2*at-ot,Ne[4]=Ne[2]=-(at+ot)):(nt=(Ue=-Ue)*Ue*Ue,nt=Math.acos(tt/Math.sqrt(nt)),at=2*Math.sqrt(Ue),Ne[0]=-ot+at*Math.cos(nt/3),Ne[2]=-ot+at*Math.cos((nt+2*Math.PI)/3),Ne[4]=-ot+at*Math.cos((nt+4*Math.PI)/3)))}(1*te*te-4*te*Ne+2*te*Ue+4*Ne*Ne-4*Ne*Ue+Ue*Ue+re*re-4*re*$e+2*re*tt+4*$e*$e-4*$e*tt+tt*tt,9*te*Ne-3*te*te-3*te*Ue-6*Ne*Ne+3*Ne*Ue+9*re*$e-3*re*re-3*re*tt-6*$e*$e+3*$e*tt,3*te*te-6*te*Ne+te*Ue-te*L+2*Ne*Ne+2*Ne*L-Ue*L+3*re*re-6*re*$e+re*tt-re*Q+2*$e*$e+2*$e*Q-tt*Q,1*te*Ne-te*te+te*L-Ne*L+re*$e-re*re+re*Q-$e*Q,nt);for(var it=[],rt=0;rt<6;rt+=2)Math.abs(nt[rt+1])<1e-7&&nt[rt]>=0&&nt[rt]<=1&&it.push(nt[rt]);it.push(1),it.push(0);for(var ot,at,dt,bt=-1,sn=0;sn<it.length;sn++)ot=Math.pow(1-it[sn],2)*te+2*(1-it[sn])*it[sn]*Ne+it[sn]*it[sn]*Ue,at=Math.pow(1-it[sn],2)*re+2*(1-it[sn])*it[sn]*$e+it[sn]*it[sn]*tt,dt=Math.pow(ot-L,2)+Math.pow(at-Q,2),bt>=0?dt<bt&&(bt=dt):bt=dt;return bt},Vt=function(L,Q,te,re,Ne,$e){var Ue=[L-te,Q-re],tt=[Ne-te,$e-re],nt=tt[0]*tt[0]+tt[1]*tt[1],it=Ue[0]*Ue[0]+Ue[1]*Ue[1],rt=Ue[0]*tt[0]+Ue[1]*tt[1],ot=rt*rt/nt;return rt<0?it:ot>nt?(L-Ne)*(L-Ne)+(Q-$e)*(Q-$e):it-ot},Ft=function(L,Q,te){for(var re,Ne,$e,Ue,tt=0,nt=0;nt<te.length/2;nt++)if(re=te[2*nt],Ne=te[2*nt+1],nt+1<te.length/2?($e=te[2*(nt+1)],Ue=te[2*(nt+1)+1]):($e=te[2*(nt+1-te.length/2)],Ue=te[2*(nt+1-te.length/2)+1]),re==L&&$e==L);else{if(!(re>=L&&L>=$e||re<=L&&L<=$e))continue;(L-re)/($e-re)*(Ue-Ne)+Ne>Q&&tt++}return tt%2!=0},jt=function(L,Q,te,re,Ne,$e,Ue,tt,nt){var it,rt=new Array(te.length);null!=tt[0]?(it=Math.atan(tt[1]/tt[0]),tt[0]<0?it+=Math.PI/2:it=-it-Math.PI/2):it=tt;for(var ot,at=Math.cos(-it),dt=Math.sin(-it),bt=0;bt<rt.length/2;bt++)rt[2*bt]=$e/2*(te[2*bt]*at-te[2*bt+1]*dt),rt[2*bt+1]=Ue/2*(te[2*bt+1]*at+te[2*bt]*dt),rt[2*bt]+=re,rt[2*bt+1]+=Ne;if(nt>0){var sn=Yt(rt,-nt);ot=qt(sn)}else ot=rt;return Ft(L,Q,ot)},qt=function(L){for(var Q,te,re,Ne,$e,Ue,tt,nt,it=new Array(L.length/2),rt=0;rt<L.length/4;rt++){Q=L[4*rt],te=L[4*rt+1],re=L[4*rt+2],Ne=L[4*rt+3],rt<L.length/4-1?($e=L[4*(rt+1)],Ue=L[4*(rt+1)+1],tt=L[4*(rt+1)+2],nt=L[4*(rt+1)+3]):($e=L[0],Ue=L[1],tt=L[2],nt=L[3]);var ot=Kt(Q,te,re,Ne,$e,Ue,tt,nt,!0);it[2*rt]=ot[0],it[2*rt+1]=ot[1]}return it},Yt=function(L,Q){for(var te,re,Ne,$e,Ue=new Array(2*L.length),tt=0;tt<L.length/2;tt++){te=L[2*tt],re=L[2*tt+1],tt<L.length/2-1?(Ne=L[2*(tt+1)],$e=L[2*(tt+1)+1]):(Ne=L[0],$e=L[1]);var nt=$e-re,it=-(Ne-te),rt=Math.sqrt(nt*nt+it*it),ot=nt/rt,at=it/rt;Ue[4*tt]=te+ot*Q,Ue[4*tt+1]=re+at*Q,Ue[4*tt+2]=Ne+ot*Q,Ue[4*tt+3]=$e+at*Q}return Ue},Xt=function(L,Q,te,re,Ne,$e,Ue){return L-=Ne,Q-=$e,(L/=te/2+Ue)*L+(Q/=re/2+Ue)*Q<=1},Wt=function(L,Q,te,re,Ne,$e,Ue){var tt=[te-L,re-Q],nt=[L-Ne,Q-$e],it=tt[0]*tt[0]+tt[1]*tt[1],rt=2*(nt[0]*tt[0]+nt[1]*tt[1]),ot=rt*rt-4*it*(nt[0]*nt[0]+nt[1]*nt[1]-Ue*Ue);if(ot<0)return[];var at=(-rt+Math.sqrt(ot))/(2*it),dt=(-rt-Math.sqrt(ot))/(2*it),bt=Math.min(at,dt),sn=Math.max(at,dt),ln=[];if(bt>=0&&bt<=1&&ln.push(bt),sn>=0&&sn<=1&&ln.push(sn),0===ln.length)return[];var un=ln[0]*tt[0]+L,cn=ln[0]*tt[1]+Q;return ln.length>1?ln[0]==ln[1]?[un,cn]:[un,cn,ln[1]*tt[0]+L,ln[1]*tt[1]+Q]:[un,cn]},Ht=function(L,Q,te){return Q<=L&&L<=te||te<=L&&L<=Q?L:L<=Q&&Q<=te||te<=Q&&Q<=L?Q:te},Kt=function(L,Q,te,re,Ne,$e,Ue,tt,nt){var it=L-Ne,rt=te-L,ot=Ue-Ne,at=Q-$e,dt=re-Q,bt=tt-$e,sn=ot*at-bt*it,ln=rt*at-dt*it,un=bt*rt-ot*dt;if(0!==un){var cn=sn/un,dn=ln/un;return-.001<=cn&&cn<=1.001&&-.001<=dn&&dn<=1.001||nt?[L+cn*rt,Q+cn*dt]:[]}return 0===sn||0===ln?Ht(L,te,Ue)===Ue?[Ue,tt]:Ht(L,te,Ne)===Ne?[Ne,$e]:Ht(Ne,Ue,te)===te?[te,re]:[]:[]},Gt=function(L,Q,te,re,Ne,$e,Ue,tt){var nt,it,rt,ot,at,dt,bt=[],sn=new Array(te.length),ln=!0;if(null==$e&&(ln=!1),ln){for(var un=0;un<sn.length/2;un++)sn[2*un]=te[2*un]*$e+re,sn[2*un+1]=te[2*un+1]*Ue+Ne;if(tt>0){var cn=Yt(sn,-tt);it=qt(cn)}else it=sn}else it=te;for(var dn=0;dn<it.length/2;dn++)rt=it[2*dn],ot=it[2*dn+1],dn<it.length/2-1?(at=it[2*(dn+1)],dt=it[2*(dn+1)+1]):(at=it[0],dt=it[1]),0!==(nt=Kt(L,Q,re,Ne,rt,ot,at,dt)).length&&bt.push(nt[0],nt[1]);return bt},Ut=function(L,Q,te){var re=[L[0]-Q[0],L[1]-Q[1]],Ne=Math.sqrt(re[0]*re[0]+re[1]*re[1]),$e=(Ne-te)/Ne;return $e<0&&($e=1e-5),[Q[0]+$e*re[0],Q[1]+$e*re[1]]},Zt=function(L,Q){var te=Qt(L,Q);return $t(te)},$t=function(L){for(var Q,te,re=L.length/2,Ne=1/0,$e=1/0,Ue=-1/0,tt=-1/0,nt=0;nt<re;nt++)Q=L[2*nt],te=L[2*nt+1],Ne=Math.min(Ne,Q),Ue=Math.max(Ue,Q),$e=Math.min($e,te),tt=Math.max(tt,te);for(var it=2/(Ue-Ne),rt=2/(tt-$e),ot=0;ot<re;ot++)Q=L[2*ot]=L[2*ot]*it,te=L[2*ot+1]=L[2*ot+1]*rt,Ne=Math.min(Ne,Q),Ue=Math.max(Ue,Q),$e=Math.min($e,te),tt=Math.max(tt,te);if($e<-1)for(var at=0;at<re;at++)te=L[2*at+1]=L[2*at+1]+(-1-$e);return L},Qt=function(L,Q){var te=1/L*2*Math.PI,re=L%2==0?Math.PI/2+te/2:Math.PI/2;re+=Q;for(var Ne,$e=new Array(2*L),Ue=0;Ue<L;Ue++)Ne=Ue*te+re,$e[2*Ue]=Math.cos(Ne),$e[2*Ue+1]=Math.sin(-Ne);return $e},Jt=function(L,Q){return Math.min(L/4,Q/4,8)},en=function(L,Q){return Math.min(L/10,Q/10,8)},tn=function(L,Q){return{heightOffset:Math.min(15,.05*Q),widthOffset:Math.min(100,.25*L),ctrlPtOffsetPct:.05}},dr=Xe({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(L){return 1}}),gr={pageRank:function(L){for(var Q=dr(L),te=Q.dampingFactor,re=Q.precision,Ne=Q.iterations,$e=Q.weight,Ue=this._private.cy,tt=this.byGroup(),nt=tt.nodes,it=tt.edges,rt=nt.length,ot=rt*rt,at=it.length,dt=new Array(ot),bt=new Array(rt),sn=(1-te)/rt,ln=0;ln<rt;ln++){for(var un=0;un<rt;un++)dt[ln*rt+un]=0;bt[ln]=0}for(var cn=0;cn<at;cn++){var dn=it[cn],xn=dn.data("source"),Wn=dn.data("target");if(xn!==Wn){var Yn=nt.indexOfId(xn),Xn=nt.indexOfId(Wn),Kn=$e(dn);dt[Xn*rt+Yn]+=Kn,bt[Yn]+=Kn}}for(var ti=1/rt+sn,ni=0;ni<rt;ni++)if(0===bt[ni])for(var di=0;di<rt;di++)dt[di*rt+ni]=ti;else for(var fi=0;fi<rt;fi++){var pi=fi*rt+ni;dt[pi]=dt[pi]/bt[ni]+sn}for(var gi,vi=new Array(rt),mi=new Array(rt),bi=0;bi<rt;bi++)vi[bi]=1;for(var xi=0;xi<Ne;xi++){for(var Ti=0;Ti<rt;Ti++)mi[Ti]=0;for(var Pi=0;Pi<rt;Pi++)for(var Mi=0;Mi<rt;Mi++){var Oi=Pi*rt+Mi;mi[Pi]+=dt[Oi]*vi[Mi]}kt(mi),gi=vi,vi=mi,mi=gi;for(var Li=0,ji=0;ji<rt;ji++){var Ri=gi[ji]-vi[ji];Li+=Ri*Ri}if(Li<re)break}return{rank:function(L){return L=Ue.collection(L)[0],vi[nt.indexOf(L)]}}}},vr=Xe({root:null,weight:function(L){return 1},directed:!1,alpha:0}),Er={degreeCentralityNormalized:function(L){L=vr(L);var Q=this.cy(),te=this.nodes(),re=te.length;if(L.directed){for(var Ne={},$e={},Ue=0,tt=0,nt=0;nt<re;nt++){var it=te[nt],rt=it.id();L.root=it;var ot=this.degreeCentrality(L);Ue<ot.indegree&&(Ue=ot.indegree),tt<ot.outdegree&&(tt=ot.outdegree),Ne[rt]=ot.indegree,$e[rt]=ot.outdegree}return{indegree:function(L){return 0==Ue?0:(f(L)&&(L=Q.filter(L)),Ne[L.id()]/Ue)},outdegree:function(L){return 0===tt?0:(f(L)&&(L=Q.filter(L)),$e[L.id()]/tt)}}}for(var at={},dt=0,bt=0;bt<re;bt++){var sn=te[bt];L.root=sn;var ln=this.degreeCentrality(L);dt<ln.degree&&(dt=ln.degree),at[sn.id()]=ln.degree}return{degree:function(L){return 0===dt?0:(f(L)&&(L=Q.filter(L)),at[L.id()]/dt)}}},degreeCentrality:function(L){L=vr(L);var Q=this.cy(),te=this,re=L,Ne=re.root,$e=re.weight,Ue=re.directed,tt=re.alpha;if(Ne=Q.collection(Ne)[0],Ue){for(var nt=Ne.connectedEdges(),it=nt.filter((function(L){return L.target().same(Ne)&&te.has(L)})),rt=nt.filter((function(L){return L.source().same(Ne)&&te.has(L)})),ot=it.length,at=rt.length,dt=0,bt=0,sn=0;sn<it.length;sn++)dt+=$e(it[sn]);for(var ln=0;ln<rt.length;ln++)bt+=$e(rt[ln]);return{indegree:Math.pow(ot,1-tt)*Math.pow(dt,tt),outdegree:Math.pow(at,1-tt)*Math.pow(bt,tt)}}for(var un=Ne.connectedEdges().intersection(te),cn=un.length,dn=0,xn=0;xn<un.length;xn++)dn+=$e(un[xn]);return{degree:Math.pow(cn,1-tt)*Math.pow(dn,tt)}}};Er.dc=Er.degreeCentrality,Er.dcn=Er.degreeCentralityNormalised=Er.degreeCentralityNormalized;var Wr=Xe({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Vr={closenessCentralityNormalized:function(L){for(var Q=Wr(L),te=Q.harmonic,re=Q.weight,Ne=Q.directed,$e=this.cy(),Ue={},tt=0,nt=this.nodes(),it=this.floydWarshall({weight:re,directed:Ne}),rt=0;rt<nt.length;rt++){for(var ot=0,at=nt[rt],dt=0;dt<nt.length;dt++)if(rt!==dt){var bt=it.distance(at,nt[dt]);ot+=te?1/bt:bt}te||(ot=1/ot),tt<ot&&(tt=ot),Ue[at.id()]=ot}return{closeness:function(L){return 0==tt?0:(L=f(L)?$e.filter(L)[0].id():L.id(),Ue[L]/tt)}}},closenessCentrality:function(L){var Q=Wr(L),te=Q.root,re=Q.weight,Ne=Q.directed,$e=Q.harmonic;te=this.filter(te)[0];for(var Ue=this.dijkstra({root:te,weight:re,directed:Ne}),tt=0,nt=this.nodes(),it=0;it<nt.length;it++){var rt=nt[it];if(!rt.same(te)){var ot=Ue.distanceTo(rt);tt+=$e?1/ot:ot}}return $e?tt:1/tt}};Vr.cc=Vr.closenessCentrality,Vr.ccn=Vr.closenessCentralityNormalised=Vr.closenessCentralityNormalized;var Ur=Xe({weight:null,directed:!1}),eo={betweennessCentrality:function(L){for(var Q=Ur(L),te=Q.directed,re=Q.weight,Ne=null!=re,$e=this.cy(),Ue=this.nodes(),tt={},nt={},it=0,c=function(L,Q){nt[L]=Q,Q>it&&(it=Q)},d=function(L){return nt[L]},rt=0;rt<Ue.length;rt++){var ot=Ue[rt],at=ot.id();tt[at]=te?ot.outgoers().nodes():ot.openNeighborhood().nodes(),c(at,0)}for(var g=function(L){for(var Q=Ue[L].id(),te=[],nt={},it={},rt={},ot=new Vi((function(L,Q){return rt[L]-rt[Q]})),at=0;at<Ue.length;at++){var dt=Ue[at].id();nt[dt]=[],it[dt]=0,rt[dt]=1/0}for(it[Q]=1,rt[Q]=0,ot.push(Q);!ot.empty();){var bt=ot.pop();if(te.push(bt),Ne)for(var sn=0;sn<tt[bt].length;sn++){var ln=tt[bt][sn],un=$e.getElementById(bt),cn=void 0;cn=un.edgesTo(ln).length>0?un.edgesTo(ln)[0]:ln.edgesTo(un)[0];var dn=re(cn);ln=ln.id(),rt[ln]>rt[bt]+dn&&(rt[ln]=rt[bt]+dn,ot.nodes.indexOf(ln)<0?ot.push(ln):ot.updateItem(ln),it[ln]=0,nt[ln]=[]),rt[ln]==rt[bt]+dn&&(it[ln]=it[ln]+it[bt],nt[ln].push(bt))}else for(var xn=0;xn<tt[bt].length;xn++){var Wn=tt[bt][xn].id();rt[Wn]==1/0&&(ot.push(Wn),rt[Wn]=rt[bt]+1),rt[Wn]==rt[bt]+1&&(it[Wn]=it[Wn]+it[bt],nt[Wn].push(bt))}}for(var Yn={},Xn=0;Xn<Ue.length;Xn++)Yn[Ue[Xn].id()]=0;for(;te.length>0;){for(var Kn=te.pop(),ti=0;ti<nt[Kn].length;ti++){var ni=nt[Kn][ti];Yn[ni]=Yn[ni]+it[ni]/it[Kn]*(1+Yn[Kn])}Kn!=Ue[L].id()&&c(Kn,d(Kn)+Yn[Kn])}},dt=0;dt<Ue.length;dt++)g(dt);var bt={betweenness:function(L){var Q=$e.collection(L).id();return d(Q)},betweennessNormalized:function(L){if(0==it)return 0;var Q=$e.collection(L).id();return d(Q)/it}};return bt.betweennessNormalised=bt.betweennessNormalized,bt}};eo.bc=eo.betweennessCentrality;var to=Xe({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(L){return 1}]}),hn=function(L,Q){for(var te=0,re=0;re<Q.length;re++)te+=Q[re](L);return te},pn=function(L,Q){for(var te,re=0;re<Q;re++){te=0;for(var Ne=0;Ne<Q;Ne++)te+=L[Ne*Q+re];for(var $e=0;$e<Q;$e++)L[$e*Q+re]=L[$e*Q+re]/te}},fn=function(L,Q,te){for(var re=new Array(te*te),Ne=0;Ne<te;Ne++){for(var $e=0;$e<te;$e++)re[Ne*te+$e]=0;for(var Ue=0;Ue<te;Ue++)for(var tt=0;tt<te;tt++)re[Ne*te+tt]+=L[Ne*te+Ue]*Q[Ue*te+tt]}return re},gn=function(L,Q,te){for(var re=L.slice(0),Ne=1;Ne<te;Ne++)L=fn(L,re,Q);return L},vn=function(L,Q,te){for(var re=new Array(Q*Q),Ne=0;Ne<Q*Q;Ne++)re[Ne]=Math.pow(L[Ne],te);return pn(re,Q),re},yn=function(L,Q,te,re){for(var Ne=0;Ne<te;Ne++)if(Math.round(L[Ne]*Math.pow(10,re))/Math.pow(10,re)!=Math.round(Q[Ne]*Math.pow(10,re))/Math.pow(10,re))return!1;return!0},mn=function(L,Q){for(var te=0;te<L.length;te++)if(!Q[te]||L[te].id()!==Q[te].id())return!1;return!0},bn=function(L){for(var Q=this.nodes(),te=this.edges(),re=this.cy(),Ne=function(L){return to(L)}(L),$e={},Ue=0;Ue<Q.length;Ue++)$e[Q[Ue].id()]=Ue;for(var tt,nt=Q.length,it=nt*nt,rt=new Array(it),ot=0;ot<it;ot++)rt[ot]=0;for(var at=0;at<te.length;at++){var dt=te[at],bt=$e[dt.source().id()],sn=$e[dt.target().id()],ln=hn(dt,Ne.attributes);rt[bt*nt+sn]+=ln,rt[sn*nt+bt]+=ln}!function(L,Q,te){for(var re=0;re<Q;re++)L[re*Q+re]=te}(rt,nt,Ne.multFactor),pn(rt,nt);for(var un=!0,cn=0;un&&cn<Ne.maxIterations;)un=!1,tt=gn(rt,nt,Ne.expandFactor),rt=vn(tt,nt,Ne.inflateFactor),yn(rt,tt,it,4)||(un=!0),cn++;var dn=function(L,Q,te,re){for(var Ne=[],$e=0;$e<Q;$e++){for(var Ue=[],tt=0;tt<Q;tt++)Math.round(1e3*L[$e*Q+tt])/1e3>0&&Ue.push(te[tt]);0!==Ue.length&&Ne.push(re.collection(Ue))}return Ne}(rt,nt,Q,re);return function(L){for(var Q=0;Q<L.length;Q++)for(var te=0;te<L.length;te++)Q!=te&&mn(L[Q],L[te])&&L.splice(te,1);return L}(dn)},io={markovClustering:bn,mcl:bn},wn=function(L){return L},En=function(L,Q){return Math.abs(Q-L)},kn=function(L,Q,te){return L+En(Q,te)},Cn=function(L,Q,te){return L+Math.pow(te-Q,2)},Sn=function(L){return Math.sqrt(L)},Pn=function(L,Q,te){return Math.max(L,En(Q,te))},Dn=function(L,Q,te,re,Ne){for(var $e=arguments.length>5&&void 0!==arguments[5]?arguments[5]:wn,Ue=re,tt=0;tt<L;tt++)Ue=Ne(Ue,Q(tt),te(tt));return $e(Ue)},ro={euclidean:function(L,Q,te){return L>=2?Dn(L,Q,te,0,Cn,Sn):Dn(L,Q,te,0,kn)},squaredEuclidean:function(L,Q,te){return Dn(L,Q,te,0,Cn)},manhattan:function(L,Q,te){return Dn(L,Q,te,0,kn)},max:function(L,Q,te){return Dn(L,Q,te,-1/0,Pn)}};function _n(L,Q,te,re,Ne,$e){var Ue;return Ue=g(L)?L:ro[L]||ro.euclidean,0===Q&&g(L)?Ue(Ne,$e):Ue(Q,te,re,Ne,$e)}ro["squared-euclidean"]=ro.squaredEuclidean,ro.squaredeuclidean=ro.squaredEuclidean;var oo=Xe({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Bn=function(L){return oo(L)},Nn=function(L,Q,te,re,Ne){var $e="kMedoids"!==Ne?function(L){return te[L]}:function(L){return re[L](te)},Ue=te,tt=Q;return _n(L,re.length,$e,(function(L){return re[L](Q)}),Ue,tt)},zn=function(L,Q,te){for(var re=te.length,Ne=new Array(re),$e=new Array(re),Ue=new Array(Q),tt=null,nt=0;nt<re;nt++)Ne[nt]=L.min(te[nt]).value,$e[nt]=L.max(te[nt]).value;for(var it=0;it<Q;it++){tt=[];for(var rt=0;rt<re;rt++)tt[rt]=Math.random()*($e[rt]-Ne[rt])+Ne[rt];Ue[it]=tt}return Ue},In=function(L,Q,te,re,Ne){for(var $e=1/0,Ue=0,tt=0;tt<Q.length;tt++){var nt=Nn(te,L,Q[tt],re,Ne);nt<$e&&($e=nt,Ue=tt)}return Ue},An=function(L,Q,te){for(var re=[],Ne=null,$e=0;$e<Q.length;$e++)te[(Ne=Q[$e]).id()]===L&&re.push(Ne);return re},Ln=function(L,Q,te){for(var re=0;re<L.length;re++)for(var Ne=0;Ne<L[re].length;Ne++)if(Math.abs(L[re][Ne]-Q[re][Ne])>te)return!1;return!0},On=function(L,Q,te){for(var re=0;re<te;re++)if(L===Q[re])return!0;return!1},Rn=function(L,Q){var te=new Array(Q);if(L.length<50)for(var re=0;re<Q;re++){for(var Ne=L[Math.floor(Math.random()*L.length)];On(Ne,te,re);)Ne=L[Math.floor(Math.random()*L.length)];te[re]=Ne}else for(var $e=0;$e<Q;$e++)te[$e]=L[Math.floor(Math.random()*L.length)];return te},Vn=function(L,Q,te){for(var re=0,Ne=0;Ne<Q.length;Ne++)re+=Nn("manhattan",Q[Ne],L,te,"kMedoids");return re},Fn=function(L,Q,te,re,Ne){for(var $e,Ue,tt=0;tt<Q.length;tt++)for(var nt=0;nt<L.length;nt++)re[tt][nt]=Math.pow(te[tt][nt],Ne.m);for(var it=0;it<L.length;it++)for(var rt=0;rt<Ne.attributes.length;rt++){$e=0,Ue=0;for(var ot=0;ot<Q.length;ot++)$e+=re[ot][it]*Ne.attributes[rt](Q[ot]),Ue+=re[ot][it];L[it][rt]=$e/Ue}},jn=function(L,Q,te,re,Ne){for(var $e=0;$e<L.length;$e++)Q[$e]=L[$e].slice();for(var Ue,tt,nt,it=2/(Ne.m-1),rt=0;rt<te.length;rt++)for(var ot=0;ot<re.length;ot++){Ue=0;for(var at=0;at<te.length;at++)tt=Nn(Ne.distance,re[ot],te[rt],Ne.attributes,"cmeans"),nt=Nn(Ne.distance,re[ot],te[at],Ne.attributes,"cmeans"),Ue+=Math.pow(tt/nt,it);L[ot][rt]=1/Ue}},qn=function(L){var Q,te,re,Ne,$e=this.cy(),Ue=this.nodes(),tt=Bn(L);re=new Array(Ue.length);for(var nt=0;nt<Ue.length;nt++)re[nt]=new Array(tt.k);te=new Array(Ue.length);for(var it=0;it<Ue.length;it++)te[it]=new Array(tt.k);for(var rt=0;rt<Ue.length;rt++){for(var ot=0,at=0;at<tt.k;at++)te[rt][at]=Math.random(),ot+=te[rt][at];for(var dt=0;dt<tt.k;dt++)te[rt][dt]=te[rt][dt]/ot}Q=new Array(tt.k);for(var bt=0;bt<tt.k;bt++)Q[bt]=new Array(tt.attributes.length);Ne=new Array(Ue.length);for(var sn=0;sn<Ue.length;sn++)Ne[sn]=new Array(tt.k);for(var ln=!0,un=0;ln&&un<tt.maxIterations;)ln=!1,Fn(Q,Ue,te,Ne,tt),jn(te,re,Q,Ue,tt),Ln(te,re,tt.sensitivityThreshold)||(ln=!0),un++;return{clusters:function(L,Q,te,re){for(var Ne,$e,Ue=new Array(te.k),tt=0;tt<Ue.length;tt++)Ue[tt]=[];for(var nt=0;nt<Q.length;nt++){Ne=-1/0,$e=-1;for(var it=0;it<Q[0].length;it++)Q[nt][it]>Ne&&(Ne=Q[nt][it],$e=it);Ue[$e].push(L[nt])}for(var rt=0;rt<Ue.length;rt++)Ue[rt]=re.collection(Ue[rt]);return Ue}(Ue,te,tt,$e),degreeOfMembership:te}},ao={kMeans:function(L){var Q,te=this.cy(),re=this.nodes(),Ne=null,$e=Bn(L),Ue=new Array($e.k),tt={};$e.testMode?"number"==typeof $e.testCentroids?($e.testCentroids,Q=zn(re,$e.k,$e.attributes)):Q="object"===e($e.testCentroids)?$e.testCentroids:zn(re,$e.k,$e.attributes):Q=zn(re,$e.k,$e.attributes);for(var nt,it,rt,ot=!0,at=0;ot&&at<$e.maxIterations;){for(var dt=0;dt<re.length;dt++)tt[(Ne=re[dt]).id()]=In(Ne,Q,$e.distance,$e.attributes,"kMeans");ot=!1;for(var bt=0;bt<$e.k;bt++){var sn=An(bt,re,tt);if(0!==sn.length){for(var ln=$e.attributes.length,un=Q[bt],cn=new Array(ln),dn=new Array(ln),xn=0;xn<ln;xn++){dn[xn]=0;for(var Wn=0;Wn<sn.length;Wn++)Ne=sn[Wn],dn[xn]+=$e.attributes[xn](Ne);cn[xn]=dn[xn]/sn.length,nt=cn[xn],it=un[xn],rt=$e.sensitivityThreshold,Math.abs(it-nt)<=rt||(ot=!0)}Q[bt]=cn,Ue[bt]=te.collection(sn)}}at++}return Ue},kMedoids:function(L){var Q,te,re=this.cy(),Ne=this.nodes(),$e=null,Ue=Bn(L),tt=new Array(Ue.k),nt={},it=new Array(Ue.k);Ue.testMode?"number"==typeof Ue.testCentroids||(Q="object"===e(Ue.testCentroids)?Ue.testCentroids:Rn(Ne,Ue.k)):Q=Rn(Ne,Ue.k);for(var rt=!0,ot=0;rt&&ot<Ue.maxIterations;){for(var at=0;at<Ne.length;at++)nt[($e=Ne[at]).id()]=In($e,Q,Ue.distance,Ue.attributes,"kMedoids");rt=!1;for(var dt=0;dt<Q.length;dt++){var bt=An(dt,Ne,nt);if(0!==bt.length){it[dt]=Vn(Q[dt],bt,Ue.attributes);for(var sn=0;sn<bt.length;sn++)(te=Vn(bt[sn],bt,Ue.attributes))<it[dt]&&(it[dt]=te,Q[dt]=bt[sn],rt=!0);tt[dt]=re.collection(bt)}}ot++}return tt},fuzzyCMeans:qn,fcm:qn},co=Xe({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),ho={single:"min",complete:"max"},Hn=function(L,Q,te,re,Ne){for(var $e,Ue=0,tt=1/0,nt=Ne.attributes,u=function(L,Q){return _n(Ne.distance,nt.length,(function(Q){return nt[Q](L)}),(function(L){return nt[L](Q)}),L,Q)},it=0;it<L.length;it++){var rt=L[it].key,ot=te[rt][re[rt]];ot<tt&&(Ue=rt,tt=ot)}if("threshold"===Ne.mode&&tt>=Ne.threshold||"dendrogram"===Ne.mode&&1===L.length)return!1;var at,dt=Q[Ue],bt=Q[re[Ue]];at="dendrogram"===Ne.mode?{left:dt,right:bt,key:dt.key}:{value:dt.value.concat(bt.value),key:dt.key},L[dt.index]=at,L.splice(bt.index,1),Q[dt.key]=at;for(var sn=0;sn<L.length;sn++){var ln=L[sn];dt.key===ln.key?$e=1/0:"min"===Ne.linkage?($e=te[dt.key][ln.key],te[dt.key][ln.key]>te[bt.key][ln.key]&&($e=te[bt.key][ln.key])):"max"===Ne.linkage?($e=te[dt.key][ln.key],te[dt.key][ln.key]<te[bt.key][ln.key]&&($e=te[bt.key][ln.key])):$e="mean"===Ne.linkage?(te[dt.key][ln.key]*dt.size+te[bt.key][ln.key]*bt.size)/(dt.size+bt.size):"dendrogram"===Ne.mode?u(ln.value,dt.value):u(ln.value[0],dt.value[0]),te[dt.key][ln.key]=te[ln.key][dt.key]=$e}for(var un=0;un<L.length;un++){var cn=L[un].key;if(re[cn]===dt.key||re[cn]===bt.key){for(var dn=cn,xn=0;xn<L.length;xn++){var Wn=L[xn].key;te[cn][Wn]<te[cn][dn]&&(dn=Wn)}re[cn]=dn}L[un].index=un}return dt.key=bt.key=dt.index=bt.index=null,!0},fo=function e(L,Q,te){L&&(L.value?Q.push(L.value):(L.left&&e(L.left,Q),L.right&&e(L.right,Q)))},Gn=function(L){for(var Q=this.cy(),te=this.nodes(),re=function(L){var Q=co(L),te=ho[Q.linkage];return null!=te&&(Q.linkage=te),Q}(L),Ne=re.attributes,a=function(L,Q){return _n(re.distance,Ne.length,(function(Q){return Ne[Q](L)}),(function(L){return Ne[L](Q)}),L,Q)},$e=[],Ue=[],tt=[],nt=[],it=0;it<te.length;it++){var rt={value:"dendrogram"===re.mode?te[it]:[te[it]],key:it,index:it};$e[it]=rt,nt[it]=rt,Ue[it]=[],tt[it]=0}for(var ot=0;ot<$e.length;ot++)for(var at=0;at<=ot;at++){var dt=void 0;dt="dendrogram"===re.mode?ot===at?1/0:a($e[ot].value,$e[at].value):ot===at?1/0:a($e[ot].value[0],$e[at].value[0]),Ue[ot][at]=dt,Ue[at][ot]=dt,dt<Ue[ot][tt[ot]]&&(tt[ot]=at)}for(var bt,sn=Hn($e,nt,Ue,tt,re);sn;)sn=Hn($e,nt,Ue,tt,re);return"dendrogram"===re.mode?(bt=function e(L,Q,te){if(!L)return[];var re=[],Ne=[],$e=[];return 0===Q?(L.left&&fo(L.left,re),L.right&&fo(L.right,Ne),$e=re.concat(Ne),[te.collection($e)]):1===Q?L.value?[te.collection(L.value)]:(L.left&&fo(L.left,re),L.right&&fo(L.right,Ne),[te.collection(re),te.collection(Ne)]):L.value?[te.collection(L.value)]:(L.left&&(re=e(L.left,Q-1,te)),L.right&&(Ne=e(L.right,Q-1,te)),re.concat(Ne))}($e[0],re.dendrogramDepth,Q),re.addDendrogram&&function e(L,Q){if(!L)return"";if(L.left&&L.right){var te=e(L.left,Q),re=e(L.right,Q),Ne=Q.add({group:"nodes",data:{id:te+","+re}});return Q.add({group:"edges",data:{source:te,target:Ne.id()}}),Q.add({group:"edges",data:{source:re,target:Ne.id()}}),Ne.id()}return L.value?L.value.id():void 0}($e[0],Q)):(bt=new Array($e.length),$e.forEach((function(L,te){L.key=L.index=null,bt[te]=Q.collection(L.value)}))),bt},po={hierarchicalClustering:Gn,hca:Gn},vo=Xe({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),$n=function(L,Q,te,re){var i=function(L,Q){return re[Q](L)};return-_n(L,re.length,(function(L){return i(Q,L)}),(function(L){return i(te,L)}),Q,te)},Qn=function(L,Q){return"median"===Q?function(L){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L.length,re=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],Ne=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(te<L.length&&L.splice(te,L.length-te),Q>0&&L.splice(0,Q)):L=L.slice(Q,te);for(var $e=0,Ue=L.length-1;Ue>=0;Ue--){var tt=L[Ue];Ne?isFinite(tt)||(L[Ue]=-1/0,$e++):L.splice(Ue,1)}re&&L.sort((function(L,Q){return L-Q}));var nt=L.length,it=Math.floor(nt/2);return nt%2!=0?L[it+1+$e]:(L[it-1+$e]+L[it+$e])/2}(L):"mean"===Q?function(L){for(var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L.length,re=0,Ne=0,$e=Q;$e<te;$e++){var Ue=L[$e];isFinite(Ue)&&(re+=Ue,Ne++)}return re/Ne}(L):"min"===Q?function(L){for(var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L.length,re=1/0,Ne=Q;Ne<te;Ne++){var $e=L[Ne];isFinite($e)&&(re=Math.min($e,re))}return re}(L):"max"===Q?function(L){for(var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L.length,re=-1/0,Ne=Q;Ne<te;Ne++){var $e=L[Ne];isFinite($e)&&(re=Math.max($e,re))}return re}(L):Q},Jn=function(L,Q,te){for(var re=[],Ne=0;Ne<L;Ne++){for(var $e=-1,Ue=-1/0,tt=0;tt<te.length;tt++){var nt=te[tt];Q[Ne*L+nt]>Ue&&($e=nt,Ue=Q[Ne*L+nt])}$e>0&&re.push($e)}for(var it=0;it<te.length;it++)re[te[it]]=te[it];return re},er=function(L){for(var Q,te,re,Ne,$e,Ue,tt=this.cy(),nt=this.nodes(),it=function(L){var Q=L.damping,te=L.preference;.5<=Q&&Q<1||Oe("Damping must range on [0.5, 1).  Got: ".concat(Q));var re=["median","mean","min","max"];return re.some((function(L){return L===te}))||m(te)||Oe("Preference must be one of [".concat(re.map((function(L){return"'".concat(L,"'")})).join(", "),"] or a number.  Got: ").concat(te)),vo(L)}(L),rt={},ot=0;ot<nt.length;ot++)rt[nt[ot].id()]=ot;te=(Q=nt.length)*Q,re=new Array(te);for(var at=0;at<te;at++)re[at]=-1/0;for(var dt=0;dt<Q;dt++)for(var bt=0;bt<Q;bt++)dt!==bt&&(re[dt*Q+bt]=$n(it.distance,nt[dt],nt[bt],it.attributes));Ne=Qn(re,it.preference);for(var sn=0;sn<Q;sn++)re[sn*Q+sn]=Ne;$e=new Array(te);for(var ln=0;ln<te;ln++)$e[ln]=0;Ue=new Array(te);for(var un=0;un<te;un++)Ue[un]=0;for(var cn=new Array(Q),dn=new Array(Q),xn=new Array(Q),Wn=0;Wn<Q;Wn++)cn[Wn]=0,dn[Wn]=0,xn[Wn]=0;for(var Yn,Xn=new Array(Q*it.minIterations),Kn=0;Kn<Xn.length;Kn++)Xn[Kn]=0;for(Yn=0;Yn<it.maxIterations;Yn++){for(var ti=0;ti<Q;ti++){for(var ni=-1/0,di=-1/0,fi=-1,pi=0,gi=0;gi<Q;gi++)cn[gi]=$e[ti*Q+gi],(pi=Ue[ti*Q+gi]+re[ti*Q+gi])>=ni?(di=ni,ni=pi,fi=gi):pi>di&&(di=pi);for(var vi=0;vi<Q;vi++)$e[ti*Q+vi]=(1-it.damping)*(re[ti*Q+vi]-ni)+it.damping*cn[vi];$e[ti*Q+fi]=(1-it.damping)*(re[ti*Q+fi]-di)+it.damping*cn[fi]}for(var mi=0;mi<Q;mi++){for(var bi=0,xi=0;xi<Q;xi++)cn[xi]=Ue[xi*Q+mi],dn[xi]=Math.max(0,$e[xi*Q+mi]),bi+=dn[xi];bi-=dn[mi],dn[mi]=$e[mi*Q+mi],bi+=dn[mi];for(var Ti=0;Ti<Q;Ti++)Ue[Ti*Q+mi]=(1-it.damping)*Math.min(0,bi-dn[Ti])+it.damping*cn[Ti];Ue[mi*Q+mi]=(1-it.damping)*(bi-dn[mi])+it.damping*cn[mi]}for(var Pi=0,Mi=0;Mi<Q;Mi++){var Oi=Ue[Mi*Q+Mi]+$e[Mi*Q+Mi]>0?1:0;Xn[Yn%it.minIterations*Q+Mi]=Oi,Pi+=Oi}if(Pi>0&&(Yn>=it.minIterations-1||Yn==it.maxIterations-1)){for(var Li=0,ji=0;ji<Q;ji++){xn[ji]=0;for(var Ri=0;Ri<it.minIterations;Ri++)xn[ji]+=Xn[Ri*Q+ji];0!==xn[ji]&&xn[ji]!==it.minIterations||Li++}if(Li===Q)break}}for(var Fi=function(L,Q,te){for(var re=[],Ne=0;Ne<L;Ne++)Q[Ne*L+Ne]+te[Ne*L+Ne]>0&&re.push(Ne);return re}(Q,$e,Ue),Hi=function(L,Q,te){for(var re=Jn(L,Q,te),Ne=0;Ne<te.length;Ne++){for(var $e=[],Ue=0;Ue<re.length;Ue++)re[Ue]===te[Ne]&&$e.push(Ue);for(var tt=-1,nt=-1/0,it=0;it<$e.length;it++){for(var rt=0,ot=0;ot<$e.length;ot++)rt+=Q[$e[ot]*L+$e[it]];rt>nt&&(tt=it,nt=rt)}te[Ne]=$e[tt]}return Jn(L,Q,te)}(Q,re,Fi),qi={},Wi=0;Wi<Fi.length;Wi++)qi[Fi[Wi]]=[];for(var Vi=0;Vi<nt.length;Vi++){var Yi=Hi[rt[nt[Vi].id()]];null!=Yi&&qi[Yi].push(nt[Vi])}for(var Xi=new Array(Fi.length),$i=0;$i<Fi.length;$i++)Xi[$i]=tt.collection(qi[Fi[$i]]);return Xi},xo={affinityPropagation:er,ap:er},ko=Xe({root:void 0,directed:!1}),rr=function(){var L=this,Q={},te=0,re=0,Ne=[],$e=[],Ue={},tt=function s(tt,nt,it){tt===it&&(re+=1),Q[nt]={id:te,low:te++,cutVertex:!1};var rt,ot,at,dt,bt=L.getElementById(nt).connectedEdges().intersection(L);0===bt.size()?Ne.push(L.spawn(L.getElementById(nt))):bt.forEach((function(te){rt=te.source().id(),ot=te.target().id(),(at=rt===nt?ot:rt)!==it&&(dt=te.id(),Ue[dt]||(Ue[dt]=!0,$e.push({x:nt,y:at,edge:te})),at in Q?Q[nt].low=Math.min(Q[nt].low,Q[at].id):(s(tt,at,nt),Q[nt].low=Math.min(Q[nt].low,Q[at].low),Q[nt].id<=Q[at].low&&(Q[nt].cutVertex=!0,function(te,re){for(var Ue=$e.length-1,tt=[],nt=L.spawn();$e[Ue].x!=te||$e[Ue].y!=re;)tt.push($e.pop().edge),Ue--;tt.push($e.pop().edge),tt.forEach((function(te){var re=te.connectedNodes().intersection(L);nt.merge(te),re.forEach((function(te){var re=te.id(),Ne=te.connectedEdges().intersection(L);nt.merge(te),Q[re].cutVertex?nt.merge(Ne.filter((function(L){return L.isLoop()}))):nt.merge(Ne)}))})),Ne.push(nt)}(nt,at))))}))};L.forEach((function(L){if(L.isNode()){var te=L.id();te in Q||(re=0,tt(te,te),Q[te].cutVertex=re>1)}}));var nt=Object.keys(Q).filter((function(L){return Q[L].cutVertex})).map((function(Q){return L.getElementById(Q)}));return{cut:L.spawn(nt),components:Ne}},ir=function(){var L=this,Q={},te=0,re=[],Ne=[],$e=L.spawn(L);return L.forEach((function(Ue){if(Ue.isNode()){var tt=Ue.id();tt in Q||function o(Ue){if(Ne.push(Ue),Q[Ue]={index:te,low:te++,explored:!1},L.getElementById(Ue).connectedEdges().intersection(L).forEach((function(L){var te=L.target().id();te!==Ue&&(te in Q||o(te),Q[te].explored||(Q[Ue].low=Math.min(Q[Ue].low,Q[te].low)))})),Q[Ue].index===Q[Ue].low){for(var tt=L.spawn();;){var nt=Ne.pop();if(tt.merge(L.getElementById(nt)),Q[nt].low=Q[Ue].index,Q[nt].explored=!0,nt===Ue)break}var it=tt.edgesWith(tt),rt=tt.merge(it);re.push(rt),$e=$e.difference(rt)}}(tt)}})),{cut:$e,components:re}},Co={};[Wi,Xi,$i,Ui,Zi,Qi,nr,gr,Er,Vr,eo,io,ao,po,xo,{hierholzer:function(L){if(!y(L)){var Q=arguments;L={root:Q[0],directed:Q[1]}}var te,re,Ne,$e=ko(L),Ue=$e.root,tt=$e.directed,nt=this,it=!1;Ue&&(Ne=f(Ue)?this.filter(Ue)[0].id():Ue[0].id());var rt={},ot={};tt?nt.forEach((function(L){var Q=L.id();if(L.isNode()){var Ne=L.indegree(!0),$e=L.outdegree(!0),Ue=Ne-$e,tt=$e-Ne;1==Ue?te?it=!0:te=Q:1==tt?re?it=!0:re=Q:(tt>1||Ue>1)&&(it=!0),rt[Q]=[],L.outgoers().forEach((function(L){L.isEdge()&&rt[Q].push(L.id())}))}else ot[Q]=[void 0,L.target().id()]})):nt.forEach((function(L){var Q=L.id();L.isNode()?(L.degree(!0)%2&&(te?re?it=!0:re=Q:te=Q),rt[Q]=[],L.connectedEdges().forEach((function(L){return rt[Q].push(L.id())}))):ot[Q]=[L.source().id(),L.target().id()]}));var at={found:!1,trail:void 0};if(it)return at;if(re&&te)if(tt){if(Ne&&re!=Ne)return at;Ne=re}else{if(Ne&&re!=Ne&&te!=Ne)return at;Ne||(Ne=re)}else Ne||(Ne=nt[0].id());var p=function(L){for(var Q,te,re,Ne=L,$e=[L];rt[Ne].length;)Q=rt[Ne].shift(),te=ot[Q][0],Ne!=(re=ot[Q][1])?(rt[re]=rt[re].filter((function(L){return L!=Q})),Ne=re):tt||Ne==te||(rt[te]=rt[te].filter((function(L){return L!=Q})),Ne=te),$e.unshift(Q),$e.unshift(Ne);return $e},dt=[],bt=[];for(bt=p(Ne);1!=bt.length;)0==rt[bt[0]].length?(dt.unshift(nt.getElementById(bt.shift())),dt.unshift(nt.getElementById(bt.shift()))):bt=p(bt.shift()).concat(bt);for(var sn in dt.unshift(nt.getElementById(bt.shift())),rt)if(rt[sn].length)return at;return at.found=!0,at.trail=this.spawn(dt,!0),at}},{hopcroftTarjanBiconnected:rr,htbc:rr,htb:rr,hopcroftTarjanBiconnectedComponents:rr},{tarjanStronglyConnected:ir,tsc:ir,tscc:ir,tarjanStronglyConnectedComponents:ir}].forEach((function(L){ot(Co,L)}));var Eo=function e(L){if(!(this instanceof e))return new e(L);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof L&&L.call(this,this.fulfill.bind(this),this.reject.bind(this))};Eo.prototype={fulfill:function(L){return sr(this,1,"fulfillValue",L)},reject:function(L){return sr(this,2,"rejectReason",L)},then:function(L,Q){var te=new Eo;return this.onFulfilled.push(cr(L,te,"fulfill")),this.onRejected.push(cr(Q,te,"reject")),lr(this),te.proxy}};var sr=function(L,Q,te,re){return 0===L.state&&(L.state=Q,L[te]=re,lr(L)),L},lr=function(L){1===L.state?ur(L,"onFulfilled",L.fulfillValue):2===L.state&&ur(L,"onRejected",L.rejectReason)},ur=function(L,Q,te){if(0!==L[Q].length){var re=L[Q];L[Q]=[];var i=function(){for(var L=0;L<re.length;L++)re[L](te)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},cr=function(L,Q,te){return function(re){if("function"!=typeof L)Q[te].call(Q,re);else{var Ne;try{Ne=L(re)}catch(L){return void Q.reject(L)}Do(Q,Ne)}}},Do=function t(L,Q){if(L!==Q&&L.proxy!==Q){var te;if("object"===e(Q)&&null!==Q||"function"==typeof Q)try{te=Q.then}catch(Q){return void L.reject(Q)}if("function"!=typeof te)L.fulfill(Q);else{var re=!1;try{te.call(Q,(function(te){re||(re=!0,te===Q?L.reject(new TypeError("circular thenable chain")):t(L,te))}),(function(Q){re||(re=!0,L.reject(Q))}))}catch(Q){re||L.reject(Q)}}}else L.reject(new TypeError("cannot resolve promise with itself"))};Eo.all=function(L){return new Eo((function(Q,te){for(var re=new Array(L.length),Ne=0,a=function(te,$e){re[te]=$e,++Ne===L.length&&Q(re)},$e=0;$e<L.length;$e++)!function(Q){var re=L[Q];null!=re&&null!=re.then?re.then((function(L){a(Q,L)}),(function(L){te(L)})):a(Q,re)}($e)}))},Eo.resolve=function(L){return new Eo((function(Q,te){Q(L)}))},Eo.reject=function(L){return new Eo((function(Q,te){te(L)}))};var To="undefined"!=typeof Promise?Promise:Eo,pr=function(L,Q,te){var re=k(L),Ne=!re,$e=this._private=ot({duration:1e3},Q,te);if($e.target=L,$e.style=$e.style||$e.css,$e.started=!1,$e.playing=!1,$e.hooked=!1,$e.applying=!1,$e.progress=0,$e.completes=[],$e.frames=[],$e.complete&&g($e.complete)&&$e.completes.push($e.complete),Ne){var Ue=L.position();$e.startPosition=$e.startPosition||{x:Ue.x,y:Ue.y},$e.startStyle=$e.startStyle||L.cy().style().getAnimationStartStyle(L,$e.style)}if(re){var tt=L.pan();$e.startPan={x:tt.x,y:tt.y},$e.startZoom=L.zoom()}this.length=1,this[0]=this},Po=pr.prototype;ot(Po,{instanceString:function(){return"animation"},hook:function(){var L=this._private;if(!L.hooked){var Q=L.target._private.animation;(L.queue?Q.queue:Q.current).push(this),x(L.target)&&L.target.cy().addToAnimationPool(L.target),L.hooked=!0}return this},play:function(){var L=this._private;return 1===L.progress&&(L.progress=0),L.playing=!0,L.started=!1,L.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var L=this._private;return L.applying=!0,L.started=!1,L.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var L=this._private;return L.playing=!1,L.started=!1,this},stop:function(){var L=this._private;return L.playing=!1,L.started=!1,L.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(L){var Q=this._private;return void 0===L?Q.progress*Q.duration:this.progress(L/Q.duration)},progress:function(L){var Q=this._private,te=Q.playing;return void 0===L?Q.progress:(te&&this.pause(),Q.progress=L,Q.started=!1,te&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var L=this._private,Q=L.playing;Q&&this.pause(),L.progress=1-L.progress,L.started=!1;var n=function(Q,te){var re=L[Q];null!=re&&(L[Q]=L[te],L[te]=re)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),L.style)for(var te=0;te<L.style.length;te++){var re=L.style[te],Ne=re.name,$e=L.startStyle[Ne];L.startStyle[Ne]=re,L.style[te]=$e}return Q&&this.play(),this},promise:function(L){var Q,te=this._private;return Q="frame"===L?te.frames:te.completes,new To((function(L,te){Q.push((function(){L()}))}))}}),Po.complete=Po.completed,Po.run=Po.play,Po.running=Po.playing;var No,Ao={animated:function(){return function(){var L=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return!1;var Q=L[0];return Q?Q._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var L=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var Q=0;Q<L.length;Q++)L[Q]._private.animation.queue=[];return this}},delay:function(){return function(L,Q){return(this._private.cy||this).styleEnabled()?this.animate({delay:L,duration:L,complete:Q}):this}},delayAnimation:function(){return function(L,Q){return(this._private.cy||this).styleEnabled()?this.animation({delay:L,duration:L,complete:Q}):this}},animation:function(){return function(L,Q){var te=void 0!==this.length,re=te?this:[this],Ne=this._private.cy||this,$e=!te,Ue=!$e;if(!Ne.styleEnabled())return this;var tt=Ne.style();if(L=ot({},L,Q),0===Object.keys(L).length)return new pr(re[0],L);switch(void 0===L.duration&&(L.duration=400),L.duration){case"slow":L.duration=600;break;case"fast":L.duration=200}if(Ue&&(L.style=tt.getPropsList(L.style||L.css),L.css=void 0),Ue&&null!=L.renderedPosition){var nt=L.renderedPosition,it=Ne.pan(),rt=Ne.zoom();L.position=vt(nt,rt,it)}if($e&&null!=L.panBy){var at=L.panBy,dt=Ne.pan();L.pan={x:dt.x+at.x,y:dt.y+at.y}}var bt=L.center||L.centre;if($e&&null!=bt){var sn=Ne.getCenterPan(bt.eles,L.zoom);null!=sn&&(L.pan=sn)}if($e&&null!=L.fit){var ln=L.fit,un=Ne.getFitViewport(ln.eles||ln.boundingBox,ln.padding);null!=un&&(L.pan=un.pan,L.zoom=un.zoom)}if($e&&y(L.zoom)){var cn=Ne.getZoomedViewport(L.zoom);null!=cn?(cn.zoomed&&(L.zoom=cn.zoom),cn.panned&&(L.pan=cn.pan)):L.zoom=null}return new pr(re[0],L)}},animate:function(){return function(L,Q){var te=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;Q&&(L=ot({},L,Q));for(var re=0;re<te.length;re++){var Ne=te[re],$e=Ne.animated()&&(void 0===L.queue||L.queue);Ne.animation(L,$e?{queue:!0}:void 0).play()}return this}},stop:function(){return function(L,Q){var te=void 0!==this.length?this:[this],re=this._private.cy||this;if(!re.styleEnabled())return this;for(var Ne=0;Ne<te.length;Ne++){for(var $e=te[Ne]._private,Ue=$e.animation.current,tt=0;tt<Ue.length;tt++){var nt=Ue[tt]._private;Q&&(nt.duration=0)}L&&($e.animation.queue=[]),Q||($e.animation.current=[])}return re.notify("draw"),this}}},Oo=Array.isArray,Lo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ro=/^\w*$/,br=function(L,Q){if(Oo(L))return!1;var te=typeof L;return!("number"!=te&&"symbol"!=te&&"boolean"!=te&&null!=L&&!oe(L))||Ro.test(L)||!Lo.test(L)||null!=Q&&L in Object(Q)},wr=function(L){if(!V(L))return!1;var Q=ie(L);return"[object Function]"==Q||"[object GeneratorFunction]"==Q||"[object AsyncFunction]"==Q||"[object Proxy]"==Q},Fo=ln["__core-js_shared__"],Vo=(No=/[^.]+$/.exec(Fo&&Fo.keys&&Fo.keys.IE_PROTO||""))?"Symbol(src)_1."+No:"",Cr=function(L){return!!Vo&&Vo in L},Yo=Function.prototype.toString,Pr=function(L){if(null!=L){try{return Yo.call(L)}catch(L){}try{return L+""}catch(L){}}return""},$o=/^\[object .+?Constructor\]$/,Jo=Function.prototype,Qo=Object.prototype,ea=Jo.toString,ta=Qo.hasOwnProperty,na=RegExp("^"+ea.call(ta).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zr=function(L){return!(!V(L)||Cr(L))&&(wr(L)?na:$o).test(Pr(L))},Ir=function(L,Q){return null==L?void 0:L[Q]},Ar=function(L,Q){var te=Ir(L,Q);return zr(te)?te:void 0},ia=Ar(Object,"create"),Or=function(){this.__data__=ia?ia(null):{},this.size=0},Rr=function(L){var Q=this.has(L)&&delete this.__data__[L];return this.size-=Q?1:0,Q},ra=Object.prototype.hasOwnProperty,Fr=function(L){var Q=this.__data__;if(ia){var te=Q[L];return"__lodash_hash_undefined__"===te?void 0:te}return ra.call(Q,L)?Q[L]:void 0},oa=Object.prototype.hasOwnProperty,qr=function(L){var Q=this.__data__;return ia?void 0!==Q[L]:oa.call(Q,L)},Yr=function(L,Q){var te=this.__data__;return this.size+=this.has(L)?0:1,te[L]=ia&&void 0===Q?"__lodash_hash_undefined__":Q,this};function Xr(L){var Q=-1,te=null==L?0:L.length;for(this.clear();++Q<te;){var re=L[Q];this.set(re[0],re[1])}}Xr.prototype.clear=Or,Xr.prototype.delete=Rr,Xr.prototype.get=Fr,Xr.prototype.has=qr,Xr.prototype.set=Yr;var sa=Xr,Hr=function(){this.__data__=[],this.size=0},Kr=function(L,Q){return L===Q||L!=L&&Q!=Q},Gr=function(L,Q){for(var te=L.length;te--;)if(Kr(L[te][0],Q))return te;return-1},la=Array.prototype.splice,Zr=function(L){var Q=this.__data__,te=Gr(Q,L);return!(te<0||(te==Q.length-1?Q.pop():la.call(Q,te,1),--this.size,0))},$r=function(L){var Q=this.__data__,te=Gr(Q,L);return te<0?void 0:Q[te][1]},Qr=function(L){return Gr(this.__data__,L)>-1},Jr=function(L,Q){var te=this.__data__,re=Gr(te,L);return re<0?(++this.size,te.push([L,Q])):te[re][1]=Q,this};function ei(L){var Q=-1,te=null==L?0:L.length;for(this.clear();++Q<te;){var re=L[Q];this.set(re[0],re[1])}}ei.prototype.clear=Hr,ei.prototype.delete=Zr,ei.prototype.get=$r,ei.prototype.has=Qr,ei.prototype.set=Jr;var ua=ei,ha=Ar(ln,"Map"),ri=function(){this.size=0,this.__data__={hash:new sa,map:new(ha||ua),string:new sa}},ii=function(L){var Q=typeof L;return"string"==Q||"number"==Q||"symbol"==Q||"boolean"==Q?"__proto__"!==L:null===L},ai=function(L,Q){var te=L.__data__;return ii(Q)?te["string"==typeof Q?"string":"hash"]:te.map},oi=function(L){var Q=ai(this,L).delete(L);return this.size-=Q?1:0,Q},si=function(L){return ai(this,L).get(L)},li=function(L){return ai(this,L).has(L)},ui=function(L,Q){var te=ai(this,L),re=te.size;return te.set(L,Q),this.size+=te.size==re?0:1,this};function ci(L){var Q=-1,te=null==L?0:L.length;for(this.clear();++Q<te;){var re=L[Q];this.set(re[0],re[1])}}ci.prototype.clear=ri,ci.prototype.delete=oi,ci.prototype.get=si,ci.prototype.has=li,ci.prototype.set=ui;var fa=ci;function hi(L,Q){if("function"!=typeof L||null!=Q&&"function"!=typeof Q)throw new TypeError("Expected a function");var n=function(){var te=arguments,re=Q?Q.apply(this,te):te[0],Ne=n.cache;if(Ne.has(re))return Ne.get(re);var $e=L.apply(this,te);return n.cache=Ne.set(re,$e)||Ne,$e};return n.cache=new(hi.Cache||fa),n}hi.Cache=fa;var ya=hi,xa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wa=/\\(\\)?/g,ka=function(L){var Q=ya(L,(function(L){return 500===te.size&&te.clear(),L})),te=Q.cache;return Q}((function(L){var Q=[];return 46===L.charCodeAt(0)&&Q.push(""),L.replace(xa,(function(L,te,re,Ne){Q.push(re?Ne.replace(wa,"$1"):te||L)})),Q})),yi=function(L,Q){for(var te=-1,re=null==L?0:L.length,Ne=Array(re);++te<re;)Ne[te]=Q(L[te],te,L);return Ne},Ea=dn?dn.prototype:void 0,Sa=Ea?Ea.toString:void 0,Ma=function e(L){if("string"==typeof L)return L;if(Oo(L))return yi(L,e)+"";if(oe(L))return Sa?Sa.call(L):"";var Q=L+"";return"0"==Q&&1/L==-1/0?"-0":Q},wi=function(L){return null==L?"":Ma(L)},Ei=function(L,Q){return Oo(L)?L:br(L,Q)?[L]:ka(wi(L))},ki=function(L){if("string"==typeof L||oe(L))return L;var Q=L+"";return"0"==Q&&1/L==-1/0?"-0":Q},Ci=function(L,Q){for(var te=0,re=(Q=Ei(Q,L)).length;null!=L&&te<re;)L=L[ki(Q[te++])];return te&&te==re?L:void 0},Si=function(L,Q,te){var re=null==L?void 0:Ci(L,Q);return void 0===re?te:re},Na=function(){try{var L=Ar(Object,"defineProperty");return L({},"",{}),L}catch(L){}}(),Di=function(L,Q,te){"__proto__"==Q&&Na?Na(L,Q,{configurable:!0,enumerable:!0,value:te,writable:!0}):L[Q]=te},Oa=Object.prototype.hasOwnProperty,_i=function(L,Q,te){var re=L[Q];Oa.call(L,Q)&&Kr(re,te)&&(void 0!==te||Q in L)||Di(L,Q,te)},Ba=/^(?:0|[1-9]\d*)$/,Bi=function(L,Q){var te=typeof L;return!!(Q=null==Q?9007199254740991:Q)&&("number"==te||"symbol"!=te&&Ba.test(L))&&L>-1&&L%1==0&&L<Q},Ni=function(L,Q,te,re){if(!V(L))return L;for(var Ne=-1,$e=(Q=Ei(Q,L)).length,Ue=$e-1,tt=L;null!=tt&&++Ne<$e;){var nt=ki(Q[Ne]),it=te;if("__proto__"===nt||"constructor"===nt||"prototype"===nt)return L;if(Ne!=Ue){var rt=tt[nt];void 0===(it=re?re(rt,nt,tt):void 0)&&(it=V(rt)?rt:Bi(Q[Ne+1])?[]:{})}_i(tt,nt,it),tt=tt[nt]}return L},zi=function(L,Q,te){return null==L?L:Ni(L,Q,te)},Ii=function(L,Q){var te=-1,re=L.length;for(Q||(Q=Array(re));++te<re;)Q[te]=L[te];return Q},Ai=function(L){return Oo(L)?yi(L,ki):oe(L)?[L]:Ii(ka(wi(L)))},za={};[Ao,{data:function(L){return L=ot({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(L){},beforeSet:function(L,Q){},onSet:function(L){},canSet:function(L){return!0}},L),function(Q,te){var re=L,Ne=void 0!==this.length,$e=Ne?this:[this],Ue=Ne?this[0]:this;if(f(Q)){var tt,nt=-1!==Q.indexOf(".")&&Ai(Q);if(re.allowGetting&&void 0===te)return Ue&&(re.beforeGet(Ue),tt=nt&&void 0===Ue._private[re.field][Q]?Si(Ue._private[re.field],nt):Ue._private[re.field][Q]),tt;if(re.allowSetting&&void 0!==te&&!re.immutableKeys[Q]){var it=i({},Q,te);re.beforeSet(this,it);for(var rt=0,ot=$e.length;rt<ot;rt++){var at=$e[rt];re.canSet(at)&&(nt&&void 0===Ue._private[re.field][Q]?zi(at._private[re.field],nt,te):at._private[re.field][Q]=te)}re.updateStyle&&this.updateStyle(),re.onSet(this),re.settingTriggersEvent&&this[re.triggerFnName](re.settingEvent)}}else if(re.allowSetting&&y(Q)){var dt,bt,sn=Q,ln=Object.keys(sn);re.beforeSet(this,sn);for(var un=0;un<ln.length;un++)if(bt=sn[dt=ln[un]],!re.immutableKeys[dt])for(var cn=0;cn<$e.length;cn++){var dn=$e[cn];re.canSet(dn)&&(dn._private[re.field][dt]=bt)}re.updateStyle&&this.updateStyle(),re.onSet(this),re.settingTriggersEvent&&this[re.triggerFnName](re.settingEvent)}else if(re.allowBinding&&g(Q)){var xn=Q;this.on(re.bindingEvent,xn)}else if(re.allowGetting&&void 0===Q){var Wn;return Ue&&(re.beforeGet(Ue),Wn=Ue._private[re.field]),Wn}return this}},removeData:function(L){return L=ot({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},L),function(Q){var te=L,re=void 0!==this.length?this:[this];if(f(Q)){for(var Ne=Q.split(/\s+/),$e=Ne.length,Ue=0;Ue<$e;Ue++){var tt=Ne[Ue];if(!S(tt)&&!te.immutableKeys[tt])for(var nt=0,it=re.length;nt<it;nt++)re[nt]._private[te.field][tt]=void 0}te.triggerEvent&&this[te.triggerFnName](te.event)}else if(void 0===Q){for(var rt=0,ot=re.length;rt<ot;rt++)for(var at=re[rt]._private[te.field],dt=Object.keys(at),bt=0;bt<dt.length;bt++){var sn=dt[bt];!te.immutableKeys[sn]&&(at[sn]=void 0)}te.triggerEvent&&this[te.triggerFnName](te.event)}return this}}},{eventAliasesOn:function(L){var Q=L;Q.addListener=Q.listen=Q.bind=Q.on,Q.unlisten=Q.unbind=Q.off=Q.removeListener,Q.trigger=Q.emit,Q.pon=Q.promiseOn=function(L,Q){var te=this,re=Array.prototype.slice.call(arguments,0);return new To((function(L,Q){var Ne=re.concat([function(Q){te.off.apply(te,$e),L(Q)}]),$e=Ne.concat([]);te.on.apply(te,Ne)}))}}}].forEach((function(L){ot(za,L)}));var Ra={animate:za.animate(),animation:za.animation(),animated:za.animated(),clearQueue:za.clearQueue(),delay:za.delay(),delayAnimation:za.delayAnimation(),stop:za.stop()},Fa={classes:function(L){if(void 0===L){var Q=[];return this[0]._private.classes.forEach((function(L){return Q.push(L)})),Q}v(L)||(L=(L||"").match(/\S+/g)||[]);for(var te=[],re=new qi(L),Ne=0;Ne<this.length;Ne++){for(var $e=this[Ne],Ue=$e._private,tt=Ue.classes,nt=!1,it=0;it<L.length;it++){var rt=L[it];if(!tt.has(rt)){nt=!0;break}}nt||(nt=tt.size!==L.length),nt&&(Ue.classes=re,te.push($e))}return te.length>0&&this.spawn(te).updateStyle().emit("class"),this},addClass:function(L){return this.toggleClass(L,!0)},hasClass:function(L){var Q=this[0];return null!=Q&&Q._private.classes.has(L)},toggleClass:function(L,Q){v(L)||(L=L.match(/\S+/g)||[]);for(var te=void 0===Q,re=[],Ne=0,$e=this.length;Ne<$e;Ne++)for(var Ue=this[Ne],tt=Ue._private.classes,nt=!1,it=0;it<L.length;it++){var rt=L[it],ot=tt.has(rt),at=!1;Q||te&&!ot?(tt.add(rt),at=!0):(!Q||te&&ot)&&(tt.delete(rt),at=!0),!nt&&at&&(re.push(Ue),nt=!0)}return re.length>0&&this.spawn(re).updateStyle().emit("class"),this},removeClass:function(L){return this.toggleClass(L,!1)},flashClass:function(L,Q){var te=this;if(null==Q)Q=250;else if(0===Q)return te;return te.addClass(L),setTimeout((function(){te.removeClass(L)}),Q),te}};Fa.className=Fa.classNames=Fa.classes;var Va={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:rt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Va.variable="(?:[\\w-.]|(?:\\\\"+Va.metaChar+"))+",Va.className="(?:[\\w-]|(?:\\\\"+Va.metaChar+"))+",Va.value=Va.string+"|"+Va.number,Va.id=Va.variable,function(){var L,Q,te;for(L=Va.comparatorOp.split("|"),te=0;te<L.length;te++)Q=L[te],Va.comparatorOp+="|@"+Q;for(L=Va.comparatorOp.split("|"),te=0;te<L.length;te++)(Q=L[te]).indexOf("!")>=0||"="!==Q&&(Va.comparatorOp+="|\\!"+Q)}();var $a=0,Za=1,Ja=2,Qa=3,ts=4,us=5,cs=6,hs=7,fs=8,ps=9,gs=10,vs=11,ms=12,ys=13,bs=14,xs=15,ws=16,_s=17,ks=18,Cs=19,Es=20,Ds=[{selector:":selected",matches:function(L){return L.selected()}},{selector:":unselected",matches:function(L){return!L.selected()}},{selector:":selectable",matches:function(L){return L.selectable()}},{selector:":unselectable",matches:function(L){return!L.selectable()}},{selector:":locked",matches:function(L){return L.locked()}},{selector:":unlocked",matches:function(L){return!L.locked()}},{selector:":visible",matches:function(L){return L.visible()}},{selector:":hidden",matches:function(L){return!L.visible()}},{selector:":transparent",matches:function(L){return L.transparent()}},{selector:":grabbed",matches:function(L){return L.grabbed()}},{selector:":free",matches:function(L){return!L.grabbed()}},{selector:":removed",matches:function(L){return L.removed()}},{selector:":inside",matches:function(L){return!L.removed()}},{selector:":grabbable",matches:function(L){return L.grabbable()}},{selector:":ungrabbable",matches:function(L){return!L.grabbable()}},{selector:":animated",matches:function(L){return L.animated()}},{selector:":unanimated",matches:function(L){return!L.animated()}},{selector:":parent",matches:function(L){return L.isParent()}},{selector:":childless",matches:function(L){return L.isChildless()}},{selector:":child",matches:function(L){return L.isChild()}},{selector:":orphan",matches:function(L){return L.isOrphan()}},{selector:":nonorphan",matches:function(L){return L.isChild()}},{selector:":compound",matches:function(L){return L.isNode()?L.isParent():L.source().isParent()||L.target().isParent()}},{selector:":loop",matches:function(L){return L.isLoop()}},{selector:":simple",matches:function(L){return L.isSimple()}},{selector:":active",matches:function(L){return L.active()}},{selector:":inactive",matches:function(L){return!L.active()}},{selector:":backgrounding",matches:function(L){return L.backgrounding()}},{selector:":nonbackgrounding",matches:function(L){return!L.backgrounding()}}].sort((function(L,Q){return function(L,Q){return-1*z(L,Q)}(L.selector,Q.selector)})),Ts=function(){for(var L,Q={},te=0;te<Ds.length;te++)Q[(L=Ds[te]).selector]=L.matches;return Q}(),Ss="("+Ds.map((function(L){return L.selector})).join("|")+")",ca=function(L){return L.replace(new RegExp("\\\\("+Va.metaChar+")","g"),(function(L,Q){return Q}))},da=function(L,Q,te){L[L.length-1]=te},Ps=[{name:"group",query:!0,regex:"("+Va.group+")",populate:function(L,Q,te){var re=a(te,1)[0];Q.checks.push({type:$a,value:"*"===re?re:re+"s"})}},{name:"state",query:!0,regex:Ss,populate:function(L,Q,te){var re=a(te,1)[0];Q.checks.push({type:hs,value:re})}},{name:"id",query:!0,regex:"\\#("+Va.id+")",populate:function(L,Q,te){var re=a(te,1)[0];Q.checks.push({type:fs,value:ca(re)})}},{name:"className",query:!0,regex:"\\.("+Va.className+")",populate:function(L,Q,te){var re=a(te,1)[0];Q.checks.push({type:ps,value:ca(re)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Va.variable+")\\s*\\]",populate:function(L,Q,te){var re=a(te,1)[0];Q.checks.push({type:ts,field:ca(re)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Va.variable+")\\s*("+Va.comparatorOp+")\\s*("+Va.value+")\\s*\\]",populate:function(L,Q,te){var re=a(te,3),Ne=re[0],$e=re[1],Ue=re[2];Ue=null!=new RegExp("^"+Va.string+"$").exec(Ue)?Ue.substring(1,Ue.length-1):parseFloat(Ue),Q.checks.push({type:Qa,field:ca(Ne),operator:$e,value:Ue})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Va.boolOp+")\\s*("+Va.variable+")\\s*\\]",populate:function(L,Q,te){var re=a(te,2),Ne=re[0],$e=re[1];Q.checks.push({type:us,field:ca($e),operator:Ne})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Va.meta+")\\s*("+Va.comparatorOp+")\\s*("+Va.number+")\\s*\\]\\]",populate:function(L,Q,te){var re=a(te,3),Ne=re[0],$e=re[1],Ue=re[2];Q.checks.push({type:cs,field:ca(Ne),operator:$e,value:parseFloat(Ue)})}},{name:"nextQuery",separator:!0,regex:Va.separator,populate:function(L,Q){var te=L.currentSubject,re=L.edgeCount,Ne=L.compoundCount,$e=L[L.length-1];return null!=te&&($e.subject=te,L.currentSubject=null),$e.edgeCount=re,$e.compoundCount=Ne,L.edgeCount=0,L.compoundCount=0,L[L.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Va.directedEdge,populate:function(L,Q){if(null==L.currentSubject){var te={checks:[]},re=Q,Ne={checks:[]};return te.checks.push({type:vs,source:re,target:Ne}),da(L,0,te),L.edgeCount++,Ne}var $e={checks:[]},Ue=Q,tt={checks:[]};return $e.checks.push({type:ms,source:Ue,target:tt}),da(L,0,$e),L.edgeCount++,tt}},{name:"undirectedEdge",separator:!0,regex:Va.undirectedEdge,populate:function(L,Q){if(null==L.currentSubject){var te={checks:[]},re=Q,Ne={checks:[]};return te.checks.push({type:gs,nodes:[re,Ne]}),da(L,0,te),L.edgeCount++,Ne}var $e={checks:[]},Ue=Q,tt={checks:[]};return $e.checks.push({type:bs,node:Ue,neighbor:tt}),da(L,0,$e),tt}},{name:"child",separator:!0,regex:Va.child,populate:function(L,Q){if(null==L.currentSubject){var te={checks:[]},re={checks:[]},Ne=L[L.length-1];return te.checks.push({type:xs,parent:Ne,child:re}),da(L,0,te),L.compoundCount++,re}if(L.currentSubject===Q){var $e={checks:[]},Ue=L[L.length-1],tt={checks:[]},nt={checks:[]},it={checks:[]},rt={checks:[]};return $e.checks.push({type:Cs,left:Ue,right:tt,subject:nt}),nt.checks=Q.checks,Q.checks=[{type:Es}],rt.checks.push({type:Es}),tt.checks.push({type:_s,parent:rt,child:it}),da(L,0,$e),L.currentSubject=nt,L.compoundCount++,it}var ot={checks:[]},at={checks:[]},dt=[{type:_s,parent:ot,child:at}];return ot.checks=Q.checks,Q.checks=dt,L.compoundCount++,at}},{name:"descendant",separator:!0,regex:Va.descendant,populate:function(L,Q){if(null==L.currentSubject){var te={checks:[]},re={checks:[]},Ne=L[L.length-1];return te.checks.push({type:ws,ancestor:Ne,descendant:re}),da(L,0,te),L.compoundCount++,re}if(L.currentSubject===Q){var $e={checks:[]},Ue=L[L.length-1],tt={checks:[]},nt={checks:[]},it={checks:[]},rt={checks:[]};return $e.checks.push({type:Cs,left:Ue,right:tt,subject:nt}),nt.checks=Q.checks,Q.checks=[{type:Es}],rt.checks.push({type:Es}),tt.checks.push({type:ks,ancestor:rt,descendant:it}),da(L,0,$e),L.currentSubject=nt,L.compoundCount++,it}var ot={checks:[]},at={checks:[]},dt=[{type:ks,ancestor:ot,descendant:at}];return ot.checks=Q.checks,Q.checks=dt,L.compoundCount++,at}},{name:"subject",modifier:!0,regex:Va.subject,populate:function(L,Q){if(null!=L.currentSubject&&L.currentSubject!==Q)return Ve("Redefinition of subject in selector `"+L.toString()+"`"),!1;L.currentSubject=Q;var te=L[L.length-1].checks[0],re=null==te?null:te.type;re===vs?te.type=ys:re===gs&&(te.type=bs,te.node=te.nodes[1],te.neighbor=te.nodes[0],te.nodes=null)}}];Ps.forEach((function(L){return L.regexObj=new RegExp("^"+L.regex)}));var pa=function(L){for(var Q,te,re,Ne=0;Ne<Ps.length;Ne++){var $e=Ps[Ne],Ue=$e.name,tt=L.match($e.regexObj);if(null!=tt){te=tt,Q=$e,re=Ue;var nt=tt[0];L=L.substring(nt.length);break}}return{expr:Q,match:te,name:re,remaining:L}},Ms={parse:function(L){var Q=this.inputText=L,te=this[0]={checks:[]};for(this.length=1,Q=function(L){var Q=L.match(/^\s+/);if(Q){var te=Q[0];L=L.substring(te.length)}return L}(Q);;){var re=pa(Q);if(null==re.expr)return Ve("The selector `"+L+"`is invalid"),!1;var Ne=re.match.slice(1),$e=re.expr.populate(this,te,Ne);if(!1===$e)return!1;if(null!=$e&&(te=$e),(Q=re.remaining).match(/^\s*$/))break}var Ue=this[this.length-1];null!=this.currentSubject&&(Ue.subject=this.currentSubject),Ue.edgeCount=this.edgeCount,Ue.compoundCount=this.compoundCount;for(var tt=0;tt<this.length;tt++){var nt=this[tt];if(nt.compoundCount>0&&nt.edgeCount>0)return Ve("The selector `"+L+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(nt.edgeCount>1)return Ve("The selector `"+L+"` is invalid because it uses multiple edge selectors"),!1;1===nt.edgeCount&&Ve("The selector `"+L+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(L){return null==L?"":L},t=function(L){return f(L)?'"'+L+'"':e(L)},n=function(L){return" "+L+" "},r=function(L,Q){var te=L.type,re=L.value;switch(te){case $a:var Ne=e(re);return Ne.substring(0,Ne.length-1);case Qa:var $e=L.field,Ue=L.operator;return"["+$e+n(e(Ue))+t(re)+"]";case us:var tt=L.operator,nt=L.field;return"["+e(tt)+nt+"]";case ts:return"["+L.field+"]";case cs:var it=L.operator;return"[["+L.field+n(e(it))+t(re)+"]]";case hs:return re;case fs:return"#"+re;case ps:return"."+re;case _s:case xs:return i(L.parent,Q)+n(">")+i(L.child,Q);case ks:case ws:return i(L.ancestor,Q)+" "+i(L.descendant,Q);case Cs:var rt=i(L.left,Q),ot=i(L.subject,Q),at=i(L.right,Q);return rt+(rt.length>0?" ":"")+ot+at;case Es:return""}},i=function(L,Q){return L.checks.reduce((function(te,re,Ne){return te+(Q===L&&0===Ne?"$":"")+r(re,Q)}),"")},L="",Q=0;Q<this.length;Q++){var te=this[Q];L+=i(te,te.subject),this.length>1&&Q<this.length-1&&(L+=", ")}return this.toStringCache=L,L}},ga=function(L,Q,te){var re,Ne,$e,Ue=f(L),tt=m(L),nt=f(te),it=!1,rt=!1,ot=!1;switch(Q.indexOf("!")>=0&&(Q=Q.replace("!",""),rt=!0),Q.indexOf("@")>=0&&(Q=Q.replace("@",""),it=!0),(Ue||nt||it)&&(Ne=Ue||tt?""+L:"",$e=""+te),it&&(L=Ne=Ne.toLowerCase(),te=$e=$e.toLowerCase()),Q){case"*=":re=Ne.indexOf($e)>=0;break;case"$=":re=Ne.indexOf($e,Ne.length-$e.length)>=0;break;case"^=":re=0===Ne.indexOf($e);break;case"=":re=L===te;break;case">":ot=!0,re=L>te;break;case">=":ot=!0,re=L>=te;break;case"<":ot=!0,re=L<te;break;case"<=":ot=!0,re=L<=te;break;default:re=!1}return!rt||null==L&&ot||(re=!re),re},va=function(L,Q){return L.data(Q)},Is=[],ma=function(L,Q){return L.checks.every((function(L){return Is[L.type](L,Q)}))};Is[$a]=function(L,Q){var te=L.value;return"*"===te||te===Q.group()},Is[hs]=function(L,Q){return function(L,Q){return Ts[L](Q)}(L.value,Q)},Is[fs]=function(L,Q){var te=L.value;return Q.id()===te},Is[ps]=function(L,Q){var te=L.value;return Q.hasClass(te)},Is[cs]=function(L,Q){var te=L.field,re=L.operator,Ne=L.value;return ga(function(L,Q){return L[Q]()}(Q,te),re,Ne)},Is[Qa]=function(L,Q){var te=L.field,re=L.operator,Ne=L.value;return ga(va(Q,te),re,Ne)},Is[us]=function(L,Q){var te=L.field,re=L.operator;return function(L,Q){switch(Q){case"?":return!!L;case"!":return!L;case"^":return void 0===L}}(va(Q,te),re)},Is[ts]=function(L,Q){var te=L.field;return L.operator,void 0!==va(Q,te)},Is[gs]=function(L,Q){var te=L.nodes[0],re=L.nodes[1],Ne=Q.source(),$e=Q.target();return ma(te,Ne)&&ma(re,$e)||ma(re,Ne)&&ma(te,$e)},Is[bs]=function(L,Q){return ma(L.node,Q)&&Q.neighborhood().some((function(Q){return Q.isNode()&&ma(L.neighbor,Q)}))},Is[vs]=function(L,Q){return ma(L.source,Q.source())&&ma(L.target,Q.target())},Is[ms]=function(L,Q){return ma(L.source,Q)&&Q.outgoers().some((function(Q){return Q.isNode()&&ma(L.target,Q)}))},Is[ys]=function(L,Q){return ma(L.target,Q)&&Q.incomers().some((function(Q){return Q.isNode()&&ma(L.source,Q)}))},Is[xs]=function(L,Q){return ma(L.child,Q)&&ma(L.parent,Q.parent())},Is[_s]=function(L,Q){return ma(L.parent,Q)&&Q.children().some((function(Q){return ma(L.child,Q)}))},Is[ws]=function(L,Q){return ma(L.descendant,Q)&&Q.ancestors().some((function(Q){return ma(L.ancestor,Q)}))},Is[ks]=function(L,Q){return ma(L.ancestor,Q)&&Q.descendants().some((function(Q){return ma(L.descendant,Q)}))},Is[Cs]=function(L,Q){return ma(L.subject,Q)&&ma(L.left,Q)&&ma(L.right,Q)},Is[Es]=function(){return!0},Is[Za]=function(L,Q){return L.value.has(Q)},Is[Ja]=function(L,Q){return(0,L.value)(Q)};var ba=function(L){this.inputText=L,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==L||f(L)&&L.match(/^\s*$/)||(x(L)?this.addQuery({checks:[{type:Za,value:L.collection()}]}):g(L)?this.addQuery({checks:[{type:Ja,value:L}]}):f(L)?this.parse(L)||(this.invalid=!0):Oe("A selector must be created from a string; found "))},Bs=ba.prototype;[Ms,{matches:function(L){for(var Q=0;Q<this.length;Q++){var te=this[Q];if(ma(te,L))return!0}return!1},filter:function(L){var Q=this;if(1===Q.length&&1===Q[0].checks.length&&Q[0].checks[0].type===fs)return L.getElementById(Q[0].checks[0].value).collection();var n=function(L){for(var te=0;te<Q.length;te++){var re=Q[te];if(ma(re,L))return!0}return!1};return null==Q.text()&&(n=function(){return!0}),L.filter(n)}}].forEach((function(L){return ot(Bs,L)})),Bs.text=function(){return this.inputText},Bs.size=function(){return this.length},Bs.eq=function(L){return this[L]},Bs.sameText=function(L){return!this.invalid&&!L.invalid&&this.text()===L.text()},Bs.addQuery=function(L){this[this.length++]=L},Bs.selector=Bs.toString;var zs={allAre:function(L){var Q=new ba(L);return this.every((function(L){return Q.matches(L)}))},is:function(L){var Q=new ba(L);return this.some((function(L){return Q.matches(L)}))},some:function(L,Q){for(var te=0;te<this.length;te++)if(Q?L.apply(Q,[this[te],te,this]):L(this[te],te,this))return!0;return!1},every:function(L,Q){for(var te=0;te<this.length;te++)if(!(Q?L.apply(Q,[this[te],te,this]):L(this[te],te,this)))return!1;return!0},same:function(L){if(this===L)return!0;L=this.cy().collection(L);var Q=this.length;return Q===L.length&&(1===Q?this[0]===L[0]:this.every((function(Q){return L.hasElementWithId(Q.id())})))},anySame:function(L){return L=this.cy().collection(L),this.some((function(Q){return L.hasElementWithId(Q.id())}))},allAreNeighbors:function(L){L=this.cy().collection(L);var Q=this.neighborhood();return L.every((function(L){return Q.hasElementWithId(L.id())}))},contains:function(L){L=this.cy().collection(L);var Q=this;return L.every((function(L){return Q.hasElementWithId(L.id())}))}};zs.allAreNeighbours=zs.allAreNeighbors,zs.has=zs.contains,zs.equal=zs.equals=zs.same;var js,Rs,Ca=function(L,Q){return function(te,re,Ne,$e){var Ue,tt=te;if(null==tt?Ue="":x(tt)&&1===tt.length&&(Ue=tt.id()),1===this.length&&Ue){var nt=this[0]._private,it=nt.traversalCache=nt.traversalCache||{},rt=it[Q]=it[Q]||[],ot=Pe(Ue);return rt[ot]||(rt[ot]=L.call(this,te,re,Ne,$e))}return L.call(this,te,re,Ne,$e)}},Fs={parent:function(L){var Q=[];if(1===this.length){var te=this[0]._private.parent;if(te)return te}for(var re=0;re<this.length;re++){var Ne=this[re]._private.parent;Ne&&Q.push(Ne)}return this.spawn(Q,!0).filter(L)},parents:function(L){for(var Q=[],te=this.parent();te.nonempty();){for(var re=0;re<te.length;re++){var Ne=te[re];Q.push(Ne)}te=te.parent()}return this.spawn(Q,!0).filter(L)},commonAncestors:function(L){for(var Q,te=0;te<this.length;te++){var re=this[te].parents();Q=(Q=Q||re).intersect(re)}return Q.filter(L)},orphans:function(L){return this.stdFilter((function(L){return L.isOrphan()})).filter(L)},nonorphans:function(L){return this.stdFilter((function(L){return L.isChild()})).filter(L)},children:Ca((function(L){for(var Q=[],te=0;te<this.length;te++)for(var re=this[te]._private.children,Ne=0;Ne<re.length;Ne++)Q.push(re[Ne]);return this.spawn(Q,!0).filter(L)}),"children"),siblings:function(L){return this.parent().children().not(this).filter(L)},isParent:function(){var L=this[0];if(L)return L.isNode()&&0!==L._private.children.length},isChildless:function(){var L=this[0];if(L)return L.isNode()&&0===L._private.children.length},isChild:function(){var L=this[0];if(L)return L.isNode()&&null!=L._private.parent},isOrphan:function(){var L=this[0];if(L)return L.isNode()&&null==L._private.parent},descendants:function(L){var Q=[];return function e(L){for(var te=0;te<L.length;te++){var re=L[te];Q.push(re),re.children().nonempty()&&e(re.children())}}(this.children()),this.spawn(Q,!0).filter(L)}};function Pa(L,Q,te,re){for(var Ne=[],$e=new qi,Ue=L.cy().hasCompoundNodes(),tt=0;tt<L.length;tt++){var nt=L[tt];te?Ne.push(nt):Ue&&re(Ne,$e,nt)}for(;Ne.length>0;){var it=Ne.shift();Q(it),$e.add(it.id()),Ue&&re(Ne,$e,it)}return L}function Da(L,Q,te){if(te.isParent())for(var re=te._private.children,Ne=0;Ne<re.length;Ne++){var $e=re[Ne];Q.has($e.id())||L.push($e)}}function Ta(L,Q,te){if(te.isChild()){var re=te._private.parent;Q.has(re.id())||L.push(re)}}function _a(L,Q,te){Ta(L,Q,te),Da(L,Q,te)}Fs.forEachDown=function(L){return Pa(this,L,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Da)},Fs.forEachUp=function(L){return Pa(this,L,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Ta)},Fs.forEachUpAndDown=function(L){return Pa(this,L,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],_a)},Fs.ancestors=Fs.parents,(js=Rs={data:za.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:za.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:za.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:za.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:za.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:za.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var L=this[0];if(L)return L._private.data.id}}).attr=js.data,js.removeAttr=js.removeData;var Ys,Ks,ll=Rs,cl={};function Ia(L){return function(Q){if(void 0===Q&&(Q=!0),0!==this.length&&this.isNode()&&!this.removed()){for(var te=0,re=this[0],Ne=re._private.edges,$e=0;$e<Ne.length;$e++){var Ue=Ne[$e];!Q&&Ue.isLoop()||(te+=L(re,Ue))}return te}}}function Aa(L,Q){return function(te){for(var re,Ne=this.nodes(),$e=0;$e<Ne.length;$e++){var Ue=Ne[$e][L](te);void 0===Ue||void 0!==re&&!Q(Ue,re)||(re=Ue)}return re}}ot(cl,{degree:Ia((function(L,Q){return Q.source().same(Q.target())?2:1})),indegree:Ia((function(L,Q){return Q.target().same(L)?1:0})),outdegree:Ia((function(L,Q){return Q.source().same(L)?1:0}))}),ot(cl,{minDegree:Aa("degree",(function(L,Q){return L<Q})),maxDegree:Aa("degree",(function(L,Q){return L>Q})),minIndegree:Aa("indegree",(function(L,Q){return L<Q})),maxIndegree:Aa("indegree",(function(L,Q){return L>Q})),minOutdegree:Aa("outdegree",(function(L,Q){return L<Q})),maxOutdegree:Aa("outdegree",(function(L,Q){return L>Q}))}),ot(cl,{totalDegree:function(L){for(var Q=0,te=this.nodes(),re=0;re<te.length;re++)Q+=te[re].degree(L);return Q}});var La=function(L,Q,te){for(var re=0;re<L.length;re++){var Ne=L[re];if(!Ne.locked()){var $e=Ne._private.position,Ue={x:null!=Q.x?Q.x-$e.x:0,y:null!=Q.y?Q.y-$e.y:0};!Ne.isParent()||0===Ue.x&&0===Ue.y||Ne.children().shift(Ue,te),Ne.dirtyBoundingBoxCache()}}},hl={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(L){L.updateCompoundBounds()},beforeSet:function(L,Q){La(L,Q,!1)},onSet:function(L){L.dirtyCompoundBoundsCache()},canSet:function(L){return!L.locked()}};(Ys=Ks={position:za.data(hl),silentPosition:za.data(ot({},hl,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(L,Q){La(L,Q,!0)},onSet:function(L){L.dirtyCompoundBoundsCache()}})),positions:function(L,Q){if(y(L))Q?this.silentPosition(L):this.position(L);else if(g(L)){var te=L,re=this.cy();re.startBatch();for(var Ne=0;Ne<this.length;Ne++){var $e,Ue=this[Ne];($e=te(Ue,Ne))&&(Q?Ue.silentPosition($e):Ue.position($e))}re.endBatch()}return this},silentPositions:function(L){return this.positions(L,!0)},shift:function(L,Q,te){var re;if(y(L)?(re={x:m(L.x)?L.x:0,y:m(L.y)?L.y:0},te=Q):f(L)&&m(Q)&&((re={x:0,y:0})[L]=Q),null!=re){var Ne=this.cy();Ne.startBatch();for(var $e=0;$e<this.length;$e++){var Ue=this[$e];if(!(Ne.hasCompoundNodes()&&Ue.isChild()&&Ue.ancestors().anySame(this))){var tt=Ue.position(),nt={x:tt.x+re.x,y:tt.y+re.y};te?Ue.silentPosition(nt):Ue.position(nt)}}Ne.endBatch()}return this},silentShift:function(L,Q){return y(L)?this.shift(L,!0):f(L)&&m(Q)&&this.shift(L,Q,!0),this},renderedPosition:function(L,Q){var te=this[0],re=this.cy(),Ne=re.zoom(),$e=re.pan(),Ue=y(L)?L:void 0,tt=void 0!==Ue||void 0!==Q&&f(L);if(te&&te.isNode()){if(!tt){var nt=te.position();return Ue=gt(nt,Ne,$e),void 0===L?Ue:Ue[L]}for(var it=0;it<this.length;it++){var rt=this[it];void 0!==Q?rt.position(L,(Q-$e[L])/Ne):void 0!==Ue&&rt.position(vt(Ue,Ne,$e))}}else if(!tt)return;return this},relativePosition:function(L,Q){var te=this[0],re=this.cy(),Ne=y(L)?L:void 0,$e=void 0!==Ne||void 0!==Q&&f(L),Ue=re.hasCompoundNodes();if(te&&te.isNode()){if(!$e){var tt=te.position(),nt=Ue?te.parent():null,it=nt&&nt.length>0,rt=it;it&&(nt=nt[0]);var ot=rt?nt.position():{x:0,y:0};return Ne={x:tt.x-ot.x,y:tt.y-ot.y},void 0===L?Ne:Ne[L]}for(var at=0;at<this.length;at++){var dt=this[at],bt=Ue?dt.parent():null,sn=bt&&bt.length>0,ln=sn;sn&&(bt=bt[0]);var un=ln?bt.position():{x:0,y:0};void 0!==Q?dt.position(L,Q+un[L]):void 0!==Ne&&dt.position({x:Ne.x+un.x,y:Ne.y+un.y})}}else if(!$e)return;return this}}).modelPosition=Ys.point=Ys.position,Ys.modelPositions=Ys.points=Ys.positions,Ys.renderedPoint=Ys.renderedPosition,Ys.relativePoint=Ys.relativePosition;var fl,vl,ml=Ks;fl=vl={},vl.renderedBoundingBox=function(L){var Q=this.boundingBox(L),te=this.cy(),re=te.zoom(),Ne=te.pan(),$e=Q.x1*re+Ne.x,Ue=Q.x2*re+Ne.x,tt=Q.y1*re+Ne.y,nt=Q.y2*re+Ne.y;return{x1:$e,x2:Ue,y1:tt,y2:nt,w:Ue-$e,h:nt-tt}},vl.dirtyCompoundBoundsCache=function(){var L=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Q=this.cy();return Q.styleEnabled()&&Q.hasCompoundNodes()?(this.forEachUp((function(Q){if(Q.isParent()){var te=Q._private;te.compoundBoundsClean=!1,te.bbCache=null,L||Q.emitAndNotify("bounds")}})),this):this},vl.updateCompoundBounds=function(){var L=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Q=this.cy();if(!Q.styleEnabled()||!Q.hasCompoundNodes())return this;if(!L&&Q.batching())return this;function n(L){if(L.isParent()){var Q=L._private,te=L.children(),re="include"===L.pstyle("compound-sizing-wrt-labels").value,Ne={width:{val:L.pstyle("min-width").pfValue,left:L.pstyle("min-width-bias-left"),right:L.pstyle("min-width-bias-right")},height:{val:L.pstyle("min-height").pfValue,top:L.pstyle("min-height-bias-top"),bottom:L.pstyle("min-height-bias-bottom")}},$e=te.boundingBox({includeLabels:re,includeOverlays:!1,useCache:!1}),Ue=Q.position;0!==$e.w&&0!==$e.h||(($e={w:L.pstyle("width").pfValue,h:L.pstyle("height").pfValue}).x1=Ue.x-$e.w/2,$e.x2=Ue.x+$e.w/2,$e.y1=Ue.y-$e.h/2,$e.y2=Ue.y+$e.h/2);var tt=Ne.width.left.value;"px"===Ne.width.left.units&&Ne.width.val>0&&(tt=100*tt/Ne.width.val);var nt=Ne.width.right.value;"px"===Ne.width.right.units&&Ne.width.val>0&&(nt=100*nt/Ne.width.val);var it=Ne.height.top.value;"px"===Ne.height.top.units&&Ne.height.val>0&&(it=100*it/Ne.height.val);var rt=Ne.height.bottom.value;"px"===Ne.height.bottom.units&&Ne.height.val>0&&(rt=100*rt/Ne.height.val);var ot=y(Ne.width.val-$e.w,tt,nt),at=ot.biasDiff,dt=ot.biasComplementDiff,bt=y(Ne.height.val-$e.h,it,rt),sn=bt.biasDiff,ln=bt.biasComplementDiff;Q.autoPadding=function(L,Q,te,re){if("%"!==te.units)return"px"===te.units?te.pfValue:0;switch(re){case"width":return L>0?te.pfValue*L:0;case"height":return Q>0?te.pfValue*Q:0;case"average":return L>0&&Q>0?te.pfValue*(L+Q)/2:0;case"min":return L>0&&Q>0?L>Q?te.pfValue*Q:te.pfValue*L:0;case"max":return L>0&&Q>0?L>Q?te.pfValue*L:te.pfValue*Q:0;default:return 0}}($e.w,$e.h,L.pstyle("padding"),L.pstyle("padding-relative-to").value),Q.autoWidth=Math.max($e.w,Ne.width.val),Ue.x=(-at+$e.x1+$e.x2+dt)/2,Q.autoHeight=Math.max($e.h,Ne.height.val),Ue.y=(-sn+$e.y1+$e.y2+ln)/2}function y(L,Q,te){var re=0,Ne=0,$e=Q+te;return L>0&&$e>0&&(re=Q/$e*L,Ne=te/$e*L),{biasDiff:re,biasComplementDiff:Ne}}}for(var te=0;te<this.length;te++){var re=this[te],Ne=re._private;Ne.compoundBoundsClean&&!L||(n(re),Q.batching()||(Ne.compoundBoundsClean=!0))}return this};var ja=function(L){return L===1/0||L===-1/0?0:L},qa=function(L,Q,te,re,Ne){re-Q!=0&&Ne-te!=0&&null!=Q&&null!=te&&null!=re&&null!=Ne&&(L.x1=Q<L.x1?Q:L.x1,L.x2=re>L.x2?re:L.x2,L.y1=te<L.y1?te:L.y1,L.y2=Ne>L.y2?Ne:L.y2,L.w=L.x2-L.x1,L.h=L.y2-L.y1)},Ya=function(L,Q){return null==Q?L:qa(L,Q.x1,Q.y1,Q.x2,Q.y2)},Xa=function(L,Q,te){return Ke(L,Q,te)},Wa=function(L,Q,te){if(!Q.cy().headless()){var re,Ne,$e=Q._private,Ue=$e.rstyle,tt=Ue.arrowWidth/2;if("none"!==Q.pstyle(te+"-arrow-shape").value){"source"===te?(re=Ue.srcX,Ne=Ue.srcY):"target"===te?(re=Ue.tgtX,Ne=Ue.tgtY):(re=Ue.midX,Ne=Ue.midY);var nt=$e.arrowBounds=$e.arrowBounds||{},it=nt[te]=nt[te]||{};it.x1=re-tt,it.y1=Ne-tt,it.x2=re+tt,it.y2=Ne+tt,it.w=it.x2-it.x1,it.h=it.y2-it.y1,_t(it,1),qa(L,it.x1,it.y1,it.x2,it.y2)}}},Ha=function(L,Q,te){if(!Q.cy().headless()){var re;re=te?te+"-":"";var Ne=Q._private,$e=Ne.rstyle;if(Q.pstyle(re+"label").strValue){var Ue,tt,nt,it,rt=Q.pstyle("text-halign"),ot=Q.pstyle("text-valign"),at=Xa($e,"labelWidth",te),dt=Xa($e,"labelHeight",te),bt=Xa($e,"labelX",te),sn=Xa($e,"labelY",te),ln=Q.pstyle(re+"text-margin-x").pfValue,un=Q.pstyle(re+"text-margin-y").pfValue,cn=Q.isEdge(),dn=Q.pstyle(re+"text-rotation"),xn=Q.pstyle("text-outline-width").pfValue,Wn=Q.pstyle("text-border-width").pfValue/2,Yn=Q.pstyle("text-background-padding").pfValue,Xn=dt,Kn=at,ti=Kn/2,ni=Xn/2;if(cn)Ue=bt-ti,tt=bt+ti,nt=sn-ni,it=sn+ni;else{switch(rt.value){case"left":Ue=bt-Kn,tt=bt;break;case"center":Ue=bt-ti,tt=bt+ti;break;case"right":Ue=bt,tt=bt+Kn}switch(ot.value){case"top":nt=sn-Xn,it=sn;break;case"center":nt=sn-ni,it=sn+ni;break;case"bottom":nt=sn,it=sn+Xn}}Ue+=ln-Math.max(xn,Wn)-Yn-2,tt+=ln+Math.max(xn,Wn)+Yn+2,nt+=un-Math.max(xn,Wn)-Yn-2,it+=un+Math.max(xn,Wn)+Yn+2;var di=te||"main",fi=Ne.labelBounds,pi=fi[di]=fi[di]||{};pi.x1=Ue,pi.y1=nt,pi.x2=tt,pi.y2=it,pi.w=tt-Ue,pi.h=it-nt;var gi=cn&&"autorotate"===dn.strValue,vi=null!=dn.pfValue&&0!==dn.pfValue;if(gi||vi){var mi=gi?Xa(Ne.rstyle,"labelAngle",te):dn.pfValue,bi=Math.cos(mi),xi=Math.sin(mi),Ti=(Ue+tt)/2,Pi=(nt+it)/2;if(!cn){switch(rt.value){case"left":Ti=tt;break;case"right":Ti=Ue}switch(ot.value){case"top":Pi=it;break;case"bottom":Pi=nt}}var O=function(L,Q){return{x:(L-=Ti)*bi-(Q-=Pi)*xi+Ti,y:L*xi+Q*bi+Pi}},Mi=O(Ue,nt),Oi=O(Ue,it),Li=O(tt,nt),ji=O(tt,it);Ue=Math.min(Mi.x,Oi.x,Li.x,ji.x),tt=Math.max(Mi.x,Oi.x,Li.x,ji.x),nt=Math.min(Mi.y,Oi.y,Li.y,ji.y),it=Math.max(Mi.y,Oi.y,Li.y,ji.y)}var Ri=di+"Rot",Fi=fi[Ri]=fi[Ri]||{};Fi.x1=Ue,Fi.y1=nt,Fi.x2=tt,Fi.y2=it,Fi.w=tt-Ue,Fi.h=it-nt,qa(L,Ue,nt,tt,it),qa(Ne.labelBounds.all,Ue,nt,tt,it)}return L}},Ka=function(L){var Q=0,n=function(L){return(L?1:0)<<Q++},te=0;return te+=n(L.incudeNodes),te+=n(L.includeEdges),te+=n(L.includeLabels),te+=n(L.includeMainLabels),te+=n(L.includeSourceLabels),(te+=n(L.includeTargetLabels))+n(L.includeOverlays)},Ga=function(L){if(L.isEdge()){var Q=L.source().position(),te=L.target().position(),r=function(L){return Math.round(L)};return function(L,Q){var te={value:0,done:!1},re=0,Ne=L.length;return we({next:function(){return re<Ne?te.value=L[re++]:te.done=!0,te}},Q)}([r(Q.x),r(Q.y),r(te.x),r(te.y)])}return 0},Ua=function(L,Q){var te,re=L._private,Ne=L.isEdge(),$e=(null==Q?Cl:Ka(Q))===Cl,Ue=Ga(L),tt=re.bbCachePosKey===Ue,nt=Q.useCache&&tt,u=function(L){return null==L._private.bbCache||L._private.styleDirty};if(!nt||u(L)||Ne&&u(L.source())||u(L.target())?(tt||L.recalculateRenderedStyle(nt),te=function(L,Q){var te,re,Ne,$e,Ue,tt,nt,it=L._private.cy,rt=it.styleEnabled(),ot=it.headless(),at=Dt(),dt=L._private,bt=L.isNode(),sn=L.isEdge(),ln=dt.rstyle,un=bt&&rt?L.pstyle("bounds-expansion").pfValue:[0],m=function(L){return"none"!==L.pstyle("display").value},cn=!rt||m(L)&&(!sn||m(L.source())&&m(L.target()));if(cn){var dn=0;rt&&Q.includeOverlays&&0!==L.pstyle("overlay-opacity").value&&(dn=L.pstyle("overlay-padding").value);var xn=0;rt&&Q.includeUnderlays&&0!==L.pstyle("underlay-opacity").value&&(xn=L.pstyle("underlay-padding").value);var Wn=Math.max(dn,xn),Yn=0;if(rt&&(Yn=L.pstyle("width").pfValue/2),bt&&Q.includeNodes){var Xn=L.position();Ue=Xn.x,tt=Xn.y;var Kn=L.outerWidth()/2,ti=L.outerHeight()/2;qa(at,te=Ue-Kn,Ne=tt-ti,re=Ue+Kn,$e=tt+ti)}else if(sn&&Q.includeEdges)if(rt&&!ot){var ni=L.pstyle("curve-style").strValue;if(te=Math.min(ln.srcX,ln.midX,ln.tgtX),re=Math.max(ln.srcX,ln.midX,ln.tgtX),Ne=Math.min(ln.srcY,ln.midY,ln.tgtY),$e=Math.max(ln.srcY,ln.midY,ln.tgtY),qa(at,te-=Yn,Ne-=Yn,re+=Yn,$e+=Yn),"haystack"===ni){var di=ln.haystackPts;if(di&&2===di.length){if(te=di[0].x,Ne=di[0].y,te>(re=di[1].x)){var fi=te;te=re,re=fi}if(Ne>($e=di[1].y)){var pi=Ne;Ne=$e,$e=pi}qa(at,te-Yn,Ne-Yn,re+Yn,$e+Yn)}}else if("bezier"===ni||"unbundled-bezier"===ni||"segments"===ni||"taxi"===ni){var gi;switch(ni){case"bezier":case"unbundled-bezier":gi=ln.bezierPts;break;case"segments":case"taxi":gi=ln.linePts}if(null!=gi)for(var vi=0;vi<gi.length;vi++){var mi=gi[vi];te=mi.x-Yn,re=mi.x+Yn,Ne=mi.y-Yn,$e=mi.y+Yn,qa(at,te,Ne,re,$e)}}}else{var bi=L.source().position(),xi=L.target().position();if((te=bi.x)>(re=xi.x)){var Ti=te;te=re,re=Ti}if((Ne=bi.y)>($e=xi.y)){var Pi=Ne;Ne=$e,$e=Pi}qa(at,te-=Yn,Ne-=Yn,re+=Yn,$e+=Yn)}if(rt&&Q.includeEdges&&sn&&(Wa(at,L,"mid-source"),Wa(at,L,"mid-target"),Wa(at,L,"source"),Wa(at,L,"target")),rt&&"yes"===L.pstyle("ghost").value){var Mi=L.pstyle("ghost-offset-x").pfValue,Oi=L.pstyle("ghost-offset-y").pfValue;qa(at,at.x1+Mi,at.y1+Oi,at.x2+Mi,at.y2+Oi)}var Li=dt.bodyBounds=dt.bodyBounds||{};Bt(Li,at),Mt(Li,un),_t(Li,1),rt&&(te=at.x1,re=at.x2,Ne=at.y1,$e=at.y2,qa(at,te-Wn,Ne-Wn,re+Wn,$e+Wn));var ji=dt.overlayBounds=dt.overlayBounds||{};Bt(ji,at),Mt(ji,un),_t(ji,1);var Ri=dt.labelBounds=dt.labelBounds||{};null!=Ri.all?((nt=Ri.all).x1=1/0,nt.y1=1/0,nt.x2=-1/0,nt.y2=-1/0,nt.w=0,nt.h=0):Ri.all=Dt(),rt&&Q.includeLabels&&(Q.includeMainLabels&&Ha(at,L,null),sn&&(Q.includeSourceLabels&&Ha(at,L,"source"),Q.includeTargetLabels&&Ha(at,L,"target")))}return at.x1=ja(at.x1),at.y1=ja(at.y1),at.x2=ja(at.x2),at.y2=ja(at.y2),at.w=ja(at.x2-at.x1),at.h=ja(at.y2-at.y1),at.w>0&&at.h>0&&cn&&(Mt(at,un),_t(at,1)),at}(L,kl),re.bbCache=te,re.bbCachePosKey=Ue):te=re.bbCache,!$e){var it=L.isNode();te=Dt(),(Q.includeNodes&&it||Q.includeEdges&&!it)&&(Q.includeOverlays?Ya(te,re.overlayBounds):Ya(te,re.bodyBounds)),Q.includeLabels&&(Q.includeMainLabels&&(!Ne||Q.includeSourceLabels&&Q.includeTargetLabels)?Ya(te,re.labelBounds.all):(Q.includeMainLabels&&Ya(te,re.labelBounds.mainRot),Q.includeSourceLabels&&Ya(te,re.labelBounds.sourceRot),Q.includeTargetLabels&&Ya(te,re.labelBounds.targetRot))),te.w=te.x2-te.x1,te.h=te.y2-te.y1}return te},kl={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},Cl=Ka(kl),El=Xe(kl);vl.boundingBox=function(L){var Q;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==L&&void 0!==L.useCache&&!0!==L.useCache){Q=Dt();var te=El(L=L||kl);if(this.cy().styleEnabled())for(var re=0;re<this.length;re++){var Ne=this[re],$e=Ne._private,Ue=Ga(Ne),tt=$e.bbCachePosKey===Ue,nt=te.useCache&&tt&&!$e.styleDirty;Ne.recalculateRenderedStyle(nt)}this.updateCompoundBounds(!L.useCache);for(var it=0;it<this.length;it++){var rt=this[it];Ya(Q,Ua(rt,te))}}else L=void 0===L?kl:El(L),Q=Ua(this[0],L);return Q.x1=ja(Q.x1),Q.y1=ja(Q.y1),Q.x2=ja(Q.x2),Q.y2=ja(Q.y2),Q.w=ja(Q.x2-Q.x1),Q.h=ja(Q.y2-Q.y1),Q},vl.dirtyBoundingBoxCache=function(){for(var L=0;L<this.length;L++){var Q=this[L]._private;Q.bbCache=null,Q.bbCachePosKey=null,Q.bodyBounds=null,Q.overlayBounds=null,Q.labelBounds.all=null,Q.labelBounds.source=null,Q.labelBounds.target=null,Q.labelBounds.main=null,Q.labelBounds.sourceRot=null,Q.labelBounds.targetRot=null,Q.labelBounds.mainRot=null,Q.arrowBounds.source=null,Q.arrowBounds.target=null,Q.arrowBounds["mid-source"]=null,Q.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},vl.boundingBoxAt=function(L){var Q=this.nodes(),te=this.cy(),re=te.hasCompoundNodes(),Ne=te.collection();if(re&&(Ne=Q.filter((function(L){return L.isParent()})),Q=Q.not(Ne)),y(L)){var $e=L;L=function(){return $e}}te.startBatch(),Q.forEach((function(Q,te){return Q._private.bbAtOldPos=L(Q,te)})).silentPositions(L),re&&(Ne.dirtyCompoundBoundsCache(),Ne.dirtyBoundingBoxCache(),Ne.updateCompoundBounds(!0));var Ue=function(L){return{x1:L.x1,x2:L.x2,w:L.w,y1:L.y1,y2:L.y2,h:L.h}}(this.boundingBox({useCache:!1}));return Q.silentPositions((function(L){return L._private.bbAtOldPos})),re&&(Ne.dirtyCompoundBoundsCache(),Ne.dirtyBoundingBoxCache(),Ne.updateCompoundBounds(!0)),te.endBatch(),Ue},fl.boundingbox=fl.bb=fl.boundingBox,fl.renderedBoundingbox=fl.renderedBoundingBox;var Dl,Tl,Sl=vl;Dl=Tl={};var no=function(L){L.uppercaseName=B(L.name),L.autoName="auto"+L.uppercaseName,L.labelName="label"+L.uppercaseName,L.outerName="outer"+L.uppercaseName,L.uppercaseOuterName=B(L.outerName),Dl[L.name]=function(){var Q=this[0],te=Q._private,re=te.cy._private.styleEnabled;if(Q){if(!re)return 1;if(Q.isParent())return Q.updateCompoundBounds(),te[L.autoName]||0;var Ne=Q.pstyle(L.name);return"label"===Ne.strValue?(Q.recalculateRenderedStyle(),te.rstyle[L.labelName]||0):Ne.pfValue}},Dl["outer"+L.uppercaseName]=function(){var Q=this[0],te=Q._private.cy._private.styleEnabled;if(Q)return te?Q[L.name]()+Q.pstyle("border-width").pfValue+2*Q.padding():1},Dl["rendered"+L.uppercaseName]=function(){var Q=this[0];if(Q)return Q[L.name]()*this.cy().zoom()},Dl["rendered"+L.uppercaseOuterName]=function(){var Q=this[0];if(Q)return Q[L.outerName]()*this.cy().zoom()}};no({name:"width"}),no({name:"height"}),Tl.padding=function(){var L=this[0],Q=L._private;return L.isParent()?(L.updateCompoundBounds(),void 0!==Q.autoPadding?Q.autoPadding:L.pstyle("padding").pfValue):L.pstyle("padding").pfValue},Tl.paddedHeight=function(){var L=this[0];return L.height()+2*L.padding()},Tl.paddedWidth=function(){var L=this[0];return L.width()+2*L.padding()};var Ml=Tl,Il={controlPoints:{get:function(L){return L.renderer().getControlPoints(L)},mult:!0},segmentPoints:{get:function(L){return L.renderer().getSegmentPoints(L)},mult:!0},sourceEndpoint:{get:function(L){return L.renderer().getSourceEndpoint(L)}},targetEndpoint:{get:function(L){return L.renderer().getTargetEndpoint(L)}},midpoint:{get:function(L){return L.renderer().getEdgeMidpoint(L)}}},Al=Object.keys(Il).reduce((function(L,Q){var te=Il[Q],re=function(L){return"rendered"+L[0].toUpperCase()+L.substr(1)}(Q);return L[Q]=function(){return function(L,Q){if(L.isEdge())return Q(L)}(this,te.get)},te.mult?L[re]=function(){return function(L,Q){if(L.isEdge()){var te=L.cy(),re=te.pan(),Ne=te.zoom();return Q(L).map((function(L){return gt(L,Ne,re)}))}}(this,te.get)}:L[re]=function(){return function(L,Q){if(L.isEdge()){var te=L.cy();return gt(Q(L),te.zoom(),te.pan())}}(this,te.get)},L}),{}),Ol=ot({},ml,Sl,Ml,Al),so=function(L,Q){this.recycle(L,Q)};function lo(){return!1}function uo(){return!0}so.prototype={instanceString:function(){return"event"},recycle:function(L,Q){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=lo,null!=L&&L.preventDefault?(this.type=L.type,this.isDefaultPrevented=L.defaultPrevented?uo:lo):null!=L&&L.type?Q=L:this.type=L,null!=Q&&(this.originalEvent=Q.originalEvent,this.type=null!=Q.type?Q.type:this.type,this.cy=Q.cy,this.target=Q.target,this.position=Q.position,this.renderedPosition=Q.renderedPosition,this.namespace=Q.namespace,this.layout=Q.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var te=this.position,re=this.cy.zoom(),Ne=this.cy.pan();this.renderedPosition={x:te.x*re+Ne.x,y:te.y*re+Ne.y}}this.timeStamp=L&&L.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=uo;var L=this.originalEvent;L&&L.preventDefault&&L.preventDefault()},stopPropagation:function(){this.isPropagationStopped=uo;var L=this.originalEvent;L&&L.stopPropagation&&L.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=uo,this.stopPropagation()},isDefaultPrevented:lo,isPropagationStopped:lo,isImmediatePropagationStopped:lo};var zl=/^([^.]+)(\.(?:[^.]+))?$/,Ll={qualifierCompare:function(L,Q){return L===Q},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(L){return L},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},jl=Object.keys(Ll),Rl={};function go(){for(var L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl,Q=arguments.length>1?arguments[1]:void 0,te=0;te<jl.length;te++){var re=jl[te];this[re]=L[re]||Ll[re]}this.context=Q||this.context,this.listeners=[],this.emitting=0}var Fl=go.prototype,yo=function(L,Q,te,re,Ne,$e,Ue){g(re)&&(Ne=re,re=null),Ue&&($e=null==$e?Ue:ot({},$e,Ue));for(var tt=v(te)?te:te.split(/\s+/),nt=0;nt<tt.length;nt++){var it=tt[nt];if(!S(it)){var rt=it.match(zl);if(rt&&!1===Q(L,it,rt[1],rt[2]?rt[2]:null,re,Ne,$e))break}}},mo=function(L,Q){return L.addEventFields(L.context,Q),new so(Q.type,Q)},bo=function(L,Q,te){if("event"!==p(te))if(y(te))Q(L,mo(L,te));else for(var re=v(te)?te:te.split(/\s+/),Ne=0;Ne<re.length;Ne++){var $e=re[Ne];if(!S($e)){var Ue=$e.match(zl);if(Ue){var tt=Ue[1],nt=Ue[2]?Ue[2]:null;Q(L,mo(L,{type:tt,namespace:nt,target:L.context}))}}}else Q(L,te)};Fl.on=Fl.addListener=function(L,Q,te,re,Ne){return yo(this,(function(L,Q,te,re,Ne,$e,Ue){g($e)&&L.listeners.push({event:Q,callback:$e,type:te,namespace:re,qualifier:Ne,conf:Ue})}),L,Q,te,re,Ne),this},Fl.one=function(L,Q,te,re){return this.on(L,Q,te,re,{one:!0})},Fl.removeListener=Fl.off=function(L,Q,te,re){var Ne=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var $e=this.listeners,o=function(Ue){var tt=$e[Ue];yo(Ne,(function(Q,te,re,Ne,nt,it){if((tt.type===re||"*"===L)&&(!Ne&&".*"!==tt.namespace||tt.namespace===Ne)&&(!nt||Q.qualifierCompare(tt.qualifier,nt))&&(!it||tt.callback===it))return $e.splice(Ue,1),!1}),L,Q,te,re)},Ue=$e.length-1;Ue>=0;Ue--)o(Ue);return this},Fl.removeAllListeners=function(){return this.removeListener("*")},Fl.emit=Fl.trigger=function(L,Q,te){var re=this.listeners,Ne=re.length;return this.emitting++,v(Q)||(Q=[Q]),bo(this,(function(L,$e){null!=te&&(re=[{event:$e.event,type:$e.type,namespace:$e.namespace,callback:te}],Ne=re.length);for(var o=function(te){var Ne=re[te];if(Ne.type===$e.type&&(!Ne.namespace||Ne.namespace===$e.namespace||".*"===Ne.namespace)&&L.eventMatches(L.context,Ne,$e)){var Ue=[$e];null!=Q&&function(L,Q){for(var te=0;te<Q.length;te++){var re=Q[te];L.push(re)}}(Ue,Q),L.beforeEmit(L.context,Ne,$e),Ne.conf&&Ne.conf.one&&(L.listeners=L.listeners.filter((function(L){return L!==Ne})));var tt=L.callbackContext(L.context,Ne,$e),nt=Ne.callback.apply(tt,Ue);L.afterEmit(L.context,Ne,$e),!1===nt&&($e.stopPropagation(),$e.preventDefault())}},Ue=0;Ue<Ne;Ue++)o(Ue);L.bubble(L.context)&&!$e.isPropagationStopped()&&L.parent(L.context).emit($e,Q)}),L),this.emitting--,this};var Hl={qualifierCompare:function(L,Q){return null==L||null==Q?null==L&&null==Q:L.sameText(Q)},eventMatches:function(L,Q,te){var re=Q.qualifier;return null==re||L!==te.target&&w(te.target)&&re.matches(te.target)},addEventFields:function(L,Q){Q.cy=L.cy(),Q.target=L},callbackContext:function(L,Q,te){return null!=Q.qualifier?te.target:L},beforeEmit:function(L,Q){Q.conf&&Q.conf.once&&Q.conf.onceCollection.removeListener(Q.event,Q.qualifier,Q.callback)},bubble:function(){return!0},parent:function(L){return L.isChild()?L.parent():L.cy()}},wo=function(L){return f(L)?new ba(L):L},Vl={createEmitter:function(){for(var L=0;L<this.length;L++){var Q=this[L],te=Q._private;te.emitter||(te.emitter=new go(Hl,Q))}return this},emitter:function(){return this._private.emitter},on:function(L,Q,te){for(var re=wo(Q),Ne=0;Ne<this.length;Ne++)this[Ne].emitter().on(L,re,te);return this},removeListener:function(L,Q,te){for(var re=wo(Q),Ne=0;Ne<this.length;Ne++)this[Ne].emitter().removeListener(L,re,te);return this},removeAllListeners:function(){for(var L=0;L<this.length;L++)this[L].emitter().removeAllListeners();return this},one:function(L,Q,te){for(var re=wo(Q),Ne=0;Ne<this.length;Ne++)this[Ne].emitter().one(L,re,te);return this},once:function(L,Q,te){for(var re=wo(Q),Ne=0;Ne<this.length;Ne++)this[Ne].emitter().on(L,re,te,{once:!0,onceCollection:this})},emit:function(L,Q){for(var te=0;te<this.length;te++)this[te].emitter().emit(L,Q);return this},emitAndNotify:function(L,Q){if(0!==this.length)return this.cy().notify(L,this),this.emit(L,Q),this}};za.eventAliasesOn(Vl);var Xl={nodes:function(L){return this.filter((function(L){return L.isNode()})).filter(L)},edges:function(L){return this.filter((function(L){return L.isEdge()})).filter(L)},byGroup:function(){for(var L=this.spawn(),Q=this.spawn(),te=0;te<this.length;te++){var re=this[te];re.isNode()?L.push(re):Q.push(re)}return{nodes:L,edges:Q}},filter:function(L,Q){if(void 0===L)return this;if(f(L)||x(L))return new ba(L).filter(this);if(g(L)){for(var te=this.spawn(),re=0;re<this.length;re++){var Ne=this[re];(Q?L.apply(Q,[Ne,re,this]):L(Ne,re,this))&&te.push(Ne)}return te}return this.spawn()},not:function(L){if(L){f(L)&&(L=this.filter(L));for(var Q=this.spawn(),te=0;te<this.length;te++){var re=this[te];L.has(re)||Q.push(re)}return Q}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(L){if(f(L)){var Q=L;return this.filter(Q)}for(var te=this.spawn(),re=L,Ne=this.length<L.length,$e=Ne?this:re,Ue=Ne?re:this,tt=0;tt<$e.length;tt++){var nt=$e[tt];Ue.has(nt)&&te.push(nt)}return te},xor:function(L){var Q=this._private.cy;f(L)&&(L=Q.$(L));var te=this.spawn(),re=L,i=function(L,Q){for(var re=0;re<L.length;re++){var Ne=L[re],$e=Ne._private.data.id;Q.hasElementWithId($e)||te.push(Ne)}};return i(this,re),i(re,this),te},diff:function(L){var Q=this._private.cy;f(L)&&(L=Q.$(L));var te=this.spawn(),re=this.spawn(),Ne=this.spawn(),$e=L,o=function(L,Q,te){for(var re=0;re<L.length;re++){var $e=L[re],Ue=$e._private.data.id;Q.hasElementWithId(Ue)?Ne.merge($e):te.push($e)}};return o(this,$e,te),o($e,this,re),{left:te,right:re,both:Ne}},add:function(L){var Q=this._private.cy;if(!L)return this;if(f(L)){var te=L;L=Q.mutableElements().filter(te)}for(var re=this.spawnSelf(),Ne=0;Ne<L.length;Ne++){var $e=L[Ne];!this.has($e)&&re.push($e)}return re},merge:function(L){var Q=this._private,te=Q.cy;if(!L)return this;if(L&&f(L)){var re=L;L=te.mutableElements().filter(re)}for(var Ne=Q.map,$e=0;$e<L.length;$e++){var Ue=L[$e],tt=Ue._private.data.id;if(!Ne.has(tt)){var nt=this.length++;this[nt]=Ue,Ne.set(tt,{ele:Ue,index:nt})}}return this},unmergeAt:function(L){var Q=this[L].id(),te=this._private.map;this[L]=void 0,te.delete(Q);var re=L===this.length-1;if(this.length>1&&!re){var Ne=this.length-1,$e=this[Ne],Ue=$e._private.data.id;this[Ne]=void 0,this[L]=$e,te.set(Ue,{ele:$e,index:L})}return this.length--,this},unmergeOne:function(L){L=L[0];var Q=this._private,te=L._private.data.id,re=Q.map.get(te);if(!re)return this;var Ne=re.index;return this.unmergeAt(Ne),this},unmerge:function(L){var Q=this._private.cy;if(!L)return this;if(L&&f(L)){var te=L;L=Q.mutableElements().filter(te)}for(var re=0;re<L.length;re++)this.unmergeOne(L[re]);return this},unmergeBy:function(L){for(var Q=this.length-1;Q>=0;Q--)L(this[Q])&&this.unmergeAt(Q);return this},map:function(L,Q){for(var te=[],re=0;re<this.length;re++){var Ne=this[re],$e=Q?L.apply(Q,[Ne,re,this]):L(Ne,re,this);te.push($e)}return te},reduce:function(L,Q){for(var te=Q,re=0;re<this.length;re++)te=L(te,this[re],re,this);return te},max:function(L,Q){for(var te,re=-1/0,Ne=0;Ne<this.length;Ne++){var $e=this[Ne],Ue=Q?L.apply(Q,[$e,Ne,this]):L($e,Ne,this);Ue>re&&(re=Ue,te=$e)}return{value:re,ele:te}},min:function(L,Q){for(var te,re=1/0,Ne=0;Ne<this.length;Ne++){var $e=this[Ne],Ue=Q?L.apply(Q,[$e,Ne,this]):L($e,Ne,this);Ue<re&&(re=Ue,te=$e)}return{value:re,ele:te}}},Gl=Xl;Gl.u=Gl["|"]=Gl["+"]=Gl.union=Gl.or=Gl.add,Gl["\\"]=Gl["!"]=Gl["-"]=Gl.difference=Gl.relativeComplement=Gl.subtract=Gl.not,Gl.n=Gl["&"]=Gl["."]=Gl.and=Gl.intersection=Gl.intersect,Gl["^"]=Gl["(+)"]=Gl["(-)"]=Gl.symmetricDifference=Gl.symdiff=Gl.xor,Gl.fnFilter=Gl.filterFn=Gl.stdFilter=Gl.filter,Gl.complement=Gl.abscomp=Gl.absoluteComplement;var So=function(L,Q){var te=L.cy().hasCompoundNodes();function r(L){var Q=L.pstyle("z-compound-depth");return"auto"===Q.value?te?L.zDepth():0:"bottom"===Q.value?-1:"top"===Q.value?ji:0}var re=r(L)-r(Q);if(0!==re)return re;function a(L){return"auto"===L.pstyle("z-index-compare").value&&L.isNode()?1:0}var Ne=a(L)-a(Q);if(0!==Ne)return Ne;var $e=L.pstyle("z-index").value-Q.pstyle("z-index").value;return 0!==$e?$e:L.poolIndex()-Q.poolIndex()},Kl={forEach:function(L,Q){if(g(L))for(var te=this.length,re=0;re<te;re++){var Ne=this[re];if(!1===(Q?L.apply(Q,[Ne,re,this]):L(Ne,re,this)))break}return this},toArray:function(){for(var L=[],Q=0;Q<this.length;Q++)L.push(this[Q]);return L},slice:function(L,Q){var te=[],re=this.length;null==Q&&(Q=re),null==L&&(L=0),L<0&&(L=re+L),Q<0&&(Q=re+Q);for(var Ne=L;Ne>=0&&Ne<Q&&Ne<re;Ne++)te.push(this[Ne]);return this.spawn(te)},size:function(){return this.length},eq:function(L){return this[L]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(L){if(!g(L))return this;var Q=this.toArray().sort(L);return this.spawn(Q)},sortByZIndex:function(){return this.sort(So)},zDepth:function(){var L=this[0];if(L){var Q=L._private;if("nodes"===Q.group){var te=Q.data.parent?L.parents().size():0;return L.isParent()?te:ji-1}var re=Q.source,Ne=Q.target,$e=re.zDepth(),Ue=Ne.zDepth();return Math.max($e,Ue,0)}}};Kl.each=Kl.forEach,"undefined"!=("undefined"==typeof Symbol?"undefined":e(Symbol))&&"undefined"!=e(Symbol.iterator)&&(Kl[Symbol.iterator]=function(){var L=this,Q={value:void 0,done:!1},te=0,re=this.length;return i({next:function(){return te<re?Q.value=L[te++]:(Q.value=void 0,Q.done=!0),Q}},Symbol.iterator,(function(){return this}))});var Zl=Xe({nodeDimensionsIncludeLabels:!1}),Jl={layoutDimensions:function(L){var Q;if(L=Zl(L),this.takesUpSpace())if(L.nodeDimensionsIncludeLabels){var te=this.boundingBox();Q={w:te.w,h:te.h}}else Q={w:this.outerWidth(),h:this.outerHeight()};else Q={w:0,h:0};return 0!==Q.w&&0!==Q.h||(Q.w=Q.h=1),Q},layoutPositions:function(L,Q,te){var re=this.nodes().filter((function(L){return!L.isParent()})),Ne=this.cy(),$e=Q.eles,o=function(L){return L.id()},Ue=D(te,o);L.emit({type:"layoutstart",layout:L}),L.animations=[];var tt=Q.spacingFactor&&1!==Q.spacingFactor,nt=function(){if(!tt)return null;for(var L=Dt(),Q=0;Q<re.length;Q++){var te=re[Q],Ne=Ue(te,Q);Tt(L,Ne.x,Ne.y)}return L}(),it=D((function(L,te){var re=Ue(L,te);return tt&&(re=function(L,Q,te){var re=Q.x1+Q.w/2,Ne=Q.y1+Q.h/2;return{x:re+(te.x-re)*L,y:Ne+(te.y-Ne)*L}}(Math.abs(Q.spacingFactor),nt,re)),null!=Q.transform&&(re=Q.transform(L,re)),re}),o);if(Q.animate){for(var rt=0;rt<re.length;rt++){var ot=re[rt],at=it(ot,rt);if(null==Q.animateFilter||Q.animateFilter(ot,rt)){var dt=ot.animation({position:at,duration:Q.animationDuration,easing:Q.animationEasing});L.animations.push(dt)}else ot.position(at)}if(Q.fit){var bt=Ne.animation({fit:{boundingBox:$e.boundingBoxAt(it),padding:Q.padding},duration:Q.animationDuration,easing:Q.animationEasing});L.animations.push(bt)}else if(void 0!==Q.zoom&&void 0!==Q.pan){var sn=Ne.animation({zoom:Q.zoom,pan:Q.pan,duration:Q.animationDuration,easing:Q.animationEasing});L.animations.push(sn)}L.animations.forEach((function(L){return L.play()})),L.one("layoutready",Q.ready),L.emit({type:"layoutready",layout:L}),To.all(L.animations.map((function(L){return L.promise()}))).then((function(){L.one("layoutstop",Q.stop),L.emit({type:"layoutstop",layout:L})}))}else re.positions(it),Q.fit&&Ne.fit(Q.eles,Q.padding),null!=Q.zoom&&Ne.zoom(Q.zoom),Q.pan&&Ne.pan(Q.pan),L.one("layoutready",Q.ready),L.emit({type:"layoutready",layout:L}),L.one("layoutstop",Q.stop),L.emit({type:"layoutstop",layout:L});return this},layout:function(L){return this.cy().makeLayout(ot({},L,{eles:this}))}};function _o(L,Q,te){var re,Ne=te._private,$e=Ne.styleCache=Ne.styleCache||[];return null!=(re=$e[L])?re:re=$e[L]=Q(te)}function Mo(L,Q){return L=Pe(L),function(te){return _o(L,Q,te)}}function Bo(L,Q){L=Pe(L);var n=function(L){return Q.call(L)};return function(){var Q=this[0];if(Q)return _o(L,n,Q)}}Jl.createLayout=Jl.makeLayout=Jl.layout;var Ql={recalculateRenderedStyle:function(L){var Q=this.cy(),te=Q.renderer(),re=Q.styleEnabled();return te&&re&&te.recalculateRenderedStyle(this,L),this},dirtyStyleCache:function(){var L,Q=this.cy(),n=function(L){return L._private.styleCache=null};return Q.hasCompoundNodes()?((L=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(L.connectedEdges()),L.forEach(n)):this.forEach((function(L){n(L),L.connectedEdges().forEach(n)})),this},updateStyle:function(L){var Q=this._private.cy;if(!Q.styleEnabled())return this;if(Q.batching())return Q._private.batchStyleEles.merge(this),this;var te=this;L=!(!L&&void 0!==L),Q.hasCompoundNodes()&&(te=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var re=te;return L?re.emitAndNotify("style"):re.emit("style"),te.forEach((function(L){return L._private.styleDirty=!0})),this},cleanStyle:function(){var L=this.cy();if(L.styleEnabled())for(var Q=0;Q<this.length;Q++){var te=this[Q];te._private.styleDirty&&(te._private.styleDirty=!1,L.style().apply(te))}},parsedStyle:function(L){var Q=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],te=this[0],re=te.cy();if(re.styleEnabled()&&te){this.cleanStyle();var Ne=te._private.style[L];return null!=Ne?Ne:Q?re.style().getDefaultProperty(L):null}},numericStyle:function(L){var Q=this[0];if(Q.cy().styleEnabled()&&Q){var te=Q.pstyle(L);return void 0!==te.pfValue?te.pfValue:te.value}},numericStyleUnits:function(L){var Q=this[0];if(Q.cy().styleEnabled())return Q?Q.pstyle(L).units:void 0},renderedStyle:function(L){var Q=this.cy();if(!Q.styleEnabled())return this;var te=this[0];return te?Q.style().getRenderedStyle(te,L):void 0},style:function(L,Q){var te=this.cy();if(!te.styleEnabled())return this;var re=te.style();if(y(L)){var Ne=L;re.applyBypass(this,Ne,!1),this.emitAndNotify("style")}else if(f(L)){if(void 0===Q){var $e=this[0];return $e?re.getStylePropertyValue($e,L):void 0}re.applyBypass(this,L,Q,!1),this.emitAndNotify("style")}else if(void 0===L){var Ue=this[0];return Ue?re.getRawStyle(Ue):void 0}return this},removeStyle:function(L){var Q=this.cy();if(!Q.styleEnabled())return this;var te=Q.style();if(void 0===L)for(var re=0;re<this.length;re++){var Ne=this[re];te.removeAllBypasses(Ne,!1)}else{L=L.split(/\s+/);for(var $e=0;$e<this.length;$e++){var Ue=this[$e];te.removeBypasses(Ue,L,!1)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var L=this.cy();if(!L.styleEnabled())return 1;var Q=L.hasCompoundNodes(),te=this[0];if(te){var re=te._private,Ne=te.pstyle("opacity").value;if(!Q)return Ne;var $e=re.data.parent?te.parents():null;if($e)for(var Ue=0;Ue<$e.length;Ue++)Ne*=$e[Ue].pstyle("opacity").value;return Ne}},transparent:function(){if(!this.cy().styleEnabled())return!1;var L=this[0],Q=L.cy().hasCompoundNodes();return L?Q?0===L.effectiveOpacity():0===L.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function zo(L,Q){var te=L._private.data.parent?L.parents():null;if(te)for(var re=0;re<te.length;re++)if(!Q(te[re]))return!1;return!0}function Io(L){var Q=L.ok,te=L.edgeOkViaNode||L.ok,re=L.parentOk||L.ok;return function(){var L=this.cy();if(!L.styleEnabled())return!0;var Ne=this[0],$e=L.hasCompoundNodes();if(Ne){var Ue=Ne._private;if(!Q(Ne))return!1;if(Ne.isNode())return!$e||zo(Ne,re);var tt=Ue.source,nt=Ue.target;return te(tt)&&(!$e||zo(tt,te))&&(tt===nt||te(nt)&&(!$e||zo(nt,te)))}}}var eu=Mo("eleTakesUpSpace",(function(L){return"element"===L.pstyle("display").value&&0!==L.width()&&(!L.isNode()||0!==L.height())}));Ql.takesUpSpace=Bo("takesUpSpace",Io({ok:eu}));var tu=Mo("eleInteractive",(function(L){return"yes"===L.pstyle("events").value&&"visible"===L.pstyle("visibility").value&&eu(L)})),nu=Mo("parentInteractive",(function(L){return"visible"===L.pstyle("visibility").value&&eu(L)}));Ql.interactive=Bo("interactive",Io({ok:tu,parentOk:nu,edgeOkViaNode:eu})),Ql.noninteractive=function(){var L=this[0];if(L)return!L.interactive()};var lu=Mo("eleVisible",(function(L){return"visible"===L.pstyle("visibility").value&&0!==L.pstyle("opacity").pfValue&&eu(L)})),gu=eu;Ql.visible=Bo("visible",Io({ok:lu,edgeOkViaNode:gu})),Ql.hidden=function(){var L=this[0];if(L)return!L.visible()},Ql.isBundledBezier=Bo("isBundledBezier",(function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()})),Ql.bypass=Ql.css=Ql.style,Ql.renderedCss=Ql.renderedStyle,Ql.removeBypass=Ql.removeCss=Ql.removeStyle,Ql.pstyle=Ql.parsedStyle;var mu={};function jo(L){return function(){var Q=arguments,te=[];if(2===Q.length){var re=Q[0],Ne=Q[1];this.on(L.event,re,Ne)}else if(1===Q.length&&g(Q[0])){var $e=Q[0];this.on(L.event,$e)}else if(0===Q.length||1===Q.length&&v(Q[0])){for(var Ue=1===Q.length?Q[0]:null,tt=0;tt<this.length;tt++){var nt=this[tt],it=!L.ableField||nt._private[L.ableField],rt=nt._private[L.field]!=L.value;if(L.overrideAble){var ot=L.overrideAble(nt);if(void 0!==ot&&(it=ot,!ot))return this}it&&(nt._private[L.field]=L.value,rt&&te.push(nt))}var at=this.spawn(te);at.updateStyle(),at.emit(L.event),Ue&&at.emit(Ue)}return this}}function qo(L){mu[L.field]=function(){var Q=this[0];if(Q){if(L.overrideField){var te=L.overrideField(Q);if(void 0!==te)return te}return Q._private[L.field]}},mu[L.on]=jo({event:L.on,field:L.field,ableField:L.ableField,overrideAble:L.overrideAble,value:!0}),mu[L.off]=jo({event:L.off,field:L.field,ableField:L.ableField,overrideAble:L.overrideAble,value:!1})}qo({field:"locked",overrideField:function(L){return!!L.cy().autolock()||void 0},on:"lock",off:"unlock"}),qo({field:"grabbable",overrideField:function(L){return!L.cy().autoungrabify()&&!L.pannable()&&void 0},on:"grabify",off:"ungrabify"}),qo({field:"selected",ableField:"selectable",overrideAble:function(L){return!L.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),qo({field:"selectable",overrideField:function(L){return!L.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),mu.deselect=mu.unselect,mu.grabbed=function(){var L=this[0];if(L)return L._private.grabbed},qo({field:"active",on:"activate",off:"unactivate"}),qo({field:"pannable",on:"panify",off:"unpanify"}),mu.inactive=function(){var L=this[0];if(L)return!L._private.active};var yu={},Xo=function(L){return function(Q){for(var te=[],re=0;re<this.length;re++){var Ne=this[re];if(Ne.isNode()){for(var $e=!1,Ue=Ne.connectedEdges(),tt=0;tt<Ue.length;tt++){var nt=Ue[tt],it=nt.source(),rt=nt.target();if(L.noIncomingEdges&&rt===Ne&&it!==Ne||L.noOutgoingEdges&&it===Ne&&rt!==Ne){$e=!0;break}}$e||te.push(Ne)}}return this.spawn(te,!0).filter(Q)}},Wo=function(L){return function(Q){for(var te=[],re=0;re<this.length;re++){var Ne=this[re];if(Ne.isNode())for(var $e=Ne.connectedEdges(),Ue=0;Ue<$e.length;Ue++){var tt=$e[Ue],nt=tt.source(),it=tt.target();L.outgoing&&nt===Ne?(te.push(tt),te.push(it)):L.incoming&&it===Ne&&(te.push(tt),te.push(nt))}}return this.spawn(te,!0).filter(Q)}},Ho=function(L){return function(Q){for(var te=this,re=[],Ne={};;){var $e=L.outgoing?te.outgoers():te.incomers();if(0===$e.length)break;for(var Ue=!1,tt=0;tt<$e.length;tt++){var nt=$e[tt],it=nt.id();Ne[it]||(Ne[it]=!0,re.push(nt),Ue=!0)}if(!Ue)break;te=$e}return this.spawn(re,!0).filter(Q)}};function Ko(L){return function(Q){for(var te=[],re=0;re<this.length;re++){var Ne=this[re]._private[L.attr];Ne&&te.push(Ne)}return this.spawn(te,!0).filter(Q)}}function Go(L){return function(Q){var te=[],re=this._private.cy,Ne=L||{};f(Q)&&(Q=re.$(Q));for(var $e=0;$e<Q.length;$e++)for(var Ue=Q[$e]._private.edges,tt=0;tt<Ue.length;tt++){var nt=Ue[tt],it=nt._private.data,rt=this.hasElementWithId(it.source)&&Q.hasElementWithId(it.target),ot=Q.hasElementWithId(it.source)&&this.hasElementWithId(it.target);if(rt||ot){if(Ne.thisIsSrc||Ne.thisIsTgt){if(Ne.thisIsSrc&&!rt)continue;if(Ne.thisIsTgt&&!ot)continue}te.push(nt)}}return this.spawn(te,!0)}}function Uo(L){return L=ot({},{codirected:!1},L),function(Q){for(var te=[],re=this.edges(),Ne=L,$e=0;$e<re.length;$e++)for(var Ue=re[$e]._private,tt=Ue.source,nt=tt._private.data.id,it=Ue.data.target,rt=tt._private.edges,ot=0;ot<rt.length;ot++){var at=rt[ot],dt=at._private.data,bt=dt.target,sn=dt.source,ln=bt===it&&sn===nt,un=nt===bt&&it===sn;(Ne.codirected&&ln||!Ne.codirected&&(ln||un))&&te.push(at)}return this.spawn(te,!0).filter(Q)}}yu.clearTraversalCache=function(){for(var L=0;L<this.length;L++)this[L]._private.traversalCache=null},ot(yu,{roots:Xo({noIncomingEdges:!0}),leaves:Xo({noOutgoingEdges:!0}),outgoers:Ca(Wo({outgoing:!0}),"outgoers"),successors:Ho({outgoing:!0}),incomers:Ca(Wo({incoming:!0}),"incomers"),predecessors:Ho({incoming:!0})}),ot(yu,{neighborhood:Ca((function(L){for(var Q=[],te=this.nodes(),re=0;re<te.length;re++)for(var Ne=te[re],$e=Ne.connectedEdges(),Ue=0;Ue<$e.length;Ue++){var tt=$e[Ue],nt=tt.source(),it=tt.target(),rt=Ne===nt?it:nt;rt.length>0&&Q.push(rt[0]),Q.push(tt[0])}return this.spawn(Q,!0).filter(L)}),"neighborhood"),closedNeighborhood:function(L){return this.neighborhood().add(this).filter(L)},openNeighborhood:function(L){return this.neighborhood(L)}}),yu.neighbourhood=yu.neighborhood,yu.closedNeighbourhood=yu.closedNeighborhood,yu.openNeighbourhood=yu.openNeighborhood,ot(yu,{source:Ca((function(L){var Q,te=this[0];return te&&(Q=te._private.source||te.cy().collection()),Q&&L?Q.filter(L):Q}),"source"),target:Ca((function(L){var Q,te=this[0];return te&&(Q=te._private.target||te.cy().collection()),Q&&L?Q.filter(L):Q}),"target"),sources:Ko({attr:"source"}),targets:Ko({attr:"target"})}),ot(yu,{edgesWith:Ca(Go(),"edgesWith"),edgesTo:Ca(Go({thisIsSrc:!0}),"edgesTo")}),ot(yu,{connectedEdges:Ca((function(L){for(var Q=[],te=0;te<this.length;te++){var re=this[te];if(re.isNode())for(var Ne=re._private.edges,$e=0;$e<Ne.length;$e++){var Ue=Ne[$e];Q.push(Ue)}}return this.spawn(Q,!0).filter(L)}),"connectedEdges"),connectedNodes:Ca((function(L){for(var Q=[],te=0;te<this.length;te++){var re=this[te];re.isEdge()&&(Q.push(re.source()[0]),Q.push(re.target()[0]))}return this.spawn(Q,!0).filter(L)}),"connectedNodes"),parallelEdges:Ca(Uo(),"parallelEdges"),codirectedEdges:Ca(Uo({codirected:!0}),"codirectedEdges")}),ot(yu,{components:function(L){var Q=this,te=Q.cy(),re=te.collection(),Ne=null==L?Q.nodes():L.nodes(),$e=[];null!=L&&Ne.empty()&&(Ne=L.sources());var o=function(L,Q){re.merge(L),Ne.unmerge(L),Q.merge(L)};if(Ne.empty())return Q.spawn();var s=function(){var L=te.collection();$e.push(L);var re=Ne[0];o(re,L),Q.bfs({directed:!1,roots:re,visit:function(Q){return o(Q,L)}}),L.forEach((function(te){te.connectedEdges().forEach((function(te){Q.has(te)&&L.has(te.source())&&L.has(te.target())&&L.merge(te)}))}))};do{s()}while(Ne.length>0);return $e},component:function(){var L=this[0];return L.cy().mutableElements().components(L)[0]}}),yu.componentsOf=yu.components;var Zo=function(L,Q){var te=arguments.length>2&&void 0!==arguments[2]&&arguments[2],re=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==L){var Ne=new Fi,$e=!1;if(Q){if(Q.length>0&&y(Q[0])&&!w(Q[0])){$e=!0;for(var Ue=[],tt=new qi,nt=0,it=Q.length;nt<it;nt++){var rt=Q[nt];null==rt.data&&(rt.data={});var ot=rt.data;if(null==ot.id)ot.id=je();else if(L.hasElementWithId(ot.id)||tt.has(ot.id))continue;var at=new Qe(L,rt,!1);Ue.push(at),tt.add(ot.id)}Q=Ue}}else Q=[];this.length=0;for(var dt=0,bt=Q.length;dt<bt;dt++){var sn=Q[dt][0];if(null!=sn){var ln=sn._private.data.id;te&&Ne.has(ln)||(te&&Ne.set(ln,{index:this.length,ele:sn}),this[this.length]=sn,this.length++)}}this._private={eles:this,cy:L,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(L){this.lazyMap=L},rebuildMap:function(){for(var L=this.lazyMap=new Fi,Q=this.eles,te=0;te<Q.length;te++){var re=Q[te];L.set(re.id(),{index:te,ele:re})}}},te&&(this._private.map=Ne),$e&&!re&&this.restore()}else Oe("A collection must have a reference to the core")},xu=Qe.prototype=Zo.prototype=Object.create(Array.prototype);xu.instanceString=function(){return"collection"},xu.spawn=function(L,Q){return new Zo(this.cy(),L,Q)},xu.spawnSelf=function(){return this.spawn(this)},xu.cy=function(){return this._private.cy},xu.renderer=function(){return this._private.cy.renderer()},xu.element=function(){return this[0]},xu.collection=function(){return E(this)?this:new Zo(this._private.cy,[this])},xu.unique=function(){return new Zo(this._private.cy,this,!0)},xu.hasElementWithId=function(L){return L=""+L,this._private.map.has(L)},xu.getElementById=function(L){L=""+L;var Q=this._private.cy,te=this._private.map.get(L);return te?te.ele:new Zo(Q)},xu.$id=xu.getElementById,xu.poolIndex=function(){var L=this._private.cy._private.elements,Q=this[0]._private.data.id;return L._private.map.get(Q).index},xu.indexOf=function(L){var Q=L[0]._private.data.id;return this._private.map.get(Q).index},xu.indexOfId=function(L){return L=""+L,this._private.map.get(L).index},xu.json=function(L){var Q=this.element(),te=this.cy();if(null==Q&&L)return this;if(null!=Q){var re=Q._private;if(y(L)){if(te.startBatch(),L.data){Q.data(L.data);var Ne=re.data;if(Q.isEdge()){var $e=!1,Ue={},tt=L.data.source,nt=L.data.target;null!=tt&&tt!=Ne.source&&(Ue.source=""+tt,$e=!0),null!=nt&&nt!=Ne.target&&(Ue.target=""+nt,$e=!0),$e&&(Q=Q.move(Ue))}else{var it="parent"in L.data,rt=L.data.parent;!it||null==rt&&null==Ne.parent||rt==Ne.parent||(void 0===rt&&(rt=null),null!=rt&&(rt=""+rt),Q=Q.move({parent:rt}))}}L.position&&Q.position(L.position);var d=function(te,Ne,$e){var Ue=L[te];null!=Ue&&Ue!==re[te]&&(Ue?Q[Ne]():Q[$e]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),null!=L.classes&&Q.classes(L.classes),te.endBatch(),this}if(void 0===L){var ot={data:Fe(re.data),position:Fe(re.position),group:re.group,removed:re.removed,selected:re.selected,selectable:re.selectable,locked:re.locked,grabbable:re.grabbable,pannable:re.pannable,classes:null};ot.classes="";var at=0;return re.classes.forEach((function(L){return ot.classes+=0==at++?L:" "+L})),ot}}},xu.jsons=function(){for(var L=[],Q=0;Q<this.length;Q++){var te=this[Q].json();L.push(te)}return L},xu.clone=function(){for(var L=this.cy(),Q=[],te=0;te<this.length;te++){var re=this[te].json(),Ne=new Qe(L,re,!1);Q.push(Ne)}return new Zo(L,Q)},xu.copy=xu.clone,xu.restore=function(){for(var L,Q,te=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],re=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Ne=this,$e=Ne.cy(),Ue=$e._private,tt=[],nt=[],it=0,rt=Ne.length;it<rt;it++){var ot=Ne[it];re&&!ot.removed()||(ot.isNode()?tt.push(ot):nt.push(ot))}L=tt.concat(nt);var h=function(){L.splice(Q,1),Q--};for(Q=0;Q<L.length;Q++){var at=L[Q],dt=at._private,bt=dt.data;if(at.clearTraversalCache(),re||dt.removed)if(void 0===bt.id)bt.id=je();else if(m(bt.id))bt.id=""+bt.id;else{if(S(bt.id)||!f(bt.id)){Oe("Can not create element with invalid string ID `"+bt.id+"`"),h();continue}if($e.hasElementWithId(bt.id)){Oe("Can not create second element with ID `"+bt.id+"`"),h();continue}}var sn=bt.id;if(at.isNode()){var ln=dt.position;null==ln.x&&(ln.x=0),null==ln.y&&(ln.y=0)}if(at.isEdge()){for(var un=at,cn=["source","target"],dn=cn.length,xn=!1,Wn=0;Wn<dn;Wn++){var Yn=cn[Wn],Xn=bt[Yn];m(Xn)&&(Xn=bt[Yn]=""+bt[Yn]),null==Xn||""===Xn?(Oe("Can not create edge `"+sn+"` with unspecified "+Yn),xn=!0):$e.hasElementWithId(Xn)||(Oe("Can not create edge `"+sn+"` with nonexistant "+Yn+" `"+Xn+"`"),xn=!0)}if(xn){h();continue}var Kn=$e.getElementById(bt.source),ti=$e.getElementById(bt.target);Kn.same(ti)?Kn._private.edges.push(un):(Kn._private.edges.push(un),ti._private.edges.push(un)),un._private.source=Kn,un._private.target=ti}dt.map=new Fi,dt.map.set(sn,{ele:at,index:0}),dt.removed=!1,re&&$e.addToPool(at)}for(var ni=0;ni<tt.length;ni++){var di=tt[ni],fi=di._private.data;m(fi.parent)&&(fi.parent=""+fi.parent);var pi=fi.parent;if(null!=pi||di._private.parent){var gi=di._private.parent?$e.collection().merge(di._private.parent):$e.getElementById(pi);if(gi.empty())fi.parent=void 0;else if(gi[0].removed())Ve("Node added with missing parent, reference to parent removed"),fi.parent=void 0,di._private.parent=null;else{for(var vi=!1,mi=gi;!mi.empty();){if(di.same(mi)){vi=!0,fi.parent=void 0;break}mi=mi.parent()}vi||(gi[0]._private.children.push(di),di._private.parent=gi[0],Ue.hasCompoundNodes=!0)}}}if(L.length>0){for(var bi=L.length===Ne.length?Ne:new Zo($e,L),xi=0;xi<bi.length;xi++){var Ti=bi[xi];Ti.isNode()||(Ti.parallelEdges().clearTraversalCache(),Ti.source().clearTraversalCache(),Ti.target().clearTraversalCache())}(Ue.hasCompoundNodes?$e.collection().merge(bi).merge(bi.connectedNodes()).merge(bi.parent()):bi).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(te),te?bi.emitAndNotify("add"):re&&bi.emit("add")}return Ne},xu.removed=function(){var L=this[0];return L&&L._private.removed},xu.inside=function(){var L=this[0];return L&&!L._private.removed},xu.remove=function(){var L=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],Q=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],te=this,re=[],Ne={},$e=te._private.cy;function o(L){for(var Q=L._private.edges,te=0;te<Q.length;te++)l(Q[te])}function s(L){for(var Q=L._private.children,te=0;te<Q.length;te++)l(Q[te])}function l(L){var te=Ne[L.id()];Q&&L.removed()||te||(Ne[L.id()]=!0,L.isNode()?(re.push(L),o(L),s(L)):re.unshift(L))}for(var Ue=0,tt=te.length;Ue<tt;Ue++)l(te[Ue]);function h(L,Q){var te=L._private.edges;We(te,Q),L.clearTraversalCache()}function p(L){L.clearTraversalCache()}var nt=[];function g(L,Q){Q=Q[0];var te=(L=L[0])._private.children,re=L.id();We(te,Q),Q._private.parent=null,nt.ids[re]||(nt.ids[re]=!0,nt.push(L))}nt.ids={},te.dirtyCompoundBoundsCache(),Q&&$e.removeFromPool(re);for(var it=0;it<re.length;it++){var rt=re[it];if(rt.isEdge()){var ot=rt.source()[0],at=rt.target()[0];h(ot,rt),h(at,rt);for(var dt=rt.parallelEdges(),bt=0;bt<dt.length;bt++){var sn=dt[bt];p(sn),sn.isBundledBezier()&&sn.dirtyBoundingBoxCache()}}else{var ln=rt.parent();0!==ln.length&&g(ln,rt)}Q&&(rt._private.removed=!0)}var un=$e._private.elements;$e._private.hasCompoundNodes=!1;for(var cn=0;cn<un.length;cn++)if(un[cn].isParent()){$e._private.hasCompoundNodes=!0;break}var dn=new Zo(this.cy(),re);dn.size()>0&&(L?dn.emitAndNotify("remove"):Q&&dn.emit("remove"));for(var xn=0;xn<nt.length;xn++){var Wn=nt[xn];Q&&Wn.removed()||Wn.updateStyle()}return dn},xu.move=function(L){var Q=this._private.cy,te=this,r=function(L){return null==L?L:""+L};if(void 0!==L.source||void 0!==L.target){var re=r(L.source),Ne=r(L.target),$e=null!=re&&Q.hasElementWithId(re),Ue=null!=Ne&&Q.hasElementWithId(Ne);($e||Ue)&&(Q.batch((function(){te.remove(!1,!1),te.emitAndNotify("moveout");for(var L=0;L<te.length;L++){var Q=te[L],tt=Q._private.data;Q.isEdge()&&($e&&(tt.source=re),Ue&&(tt.target=Ne))}te.restore(!1,!1)})),te.emitAndNotify("move"))}else if(void 0!==L.parent){var tt=r(L.parent);if(null===tt||Q.hasElementWithId(tt)){var nt=null===tt?void 0:tt;Q.batch((function(){var L=te.remove(!1,!1);L.emitAndNotify("moveout");for(var Q=0;Q<te.length;Q++){var re=te[Q],Ne=re._private.data;re.isNode()&&(Ne.parent=nt)}L.restore(!1,!1)})),te.emitAndNotify("move")}}return this},[Co,Ra,Fa,zs,Fs,ll,cl,Ol,Vl,Xl,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var L=this[0];if(L)return L._private.group}},Kl,Jl,Ql,mu,yu].forEach((function(L){ot(xu,L)}));var _u={add:function(L){var Q,te=this;if(x(L)){var re=L;if(re._private.cy===te)Q=re.restore();else{for(var Ne=[],$e=0;$e<re.length;$e++){var Ue=re[$e];Ne.push(Ue.json())}Q=new Zo(te,Ne)}}else if(v(L))Q=new Zo(te,L);else if(y(L)&&(v(L.nodes)||v(L.edges))){for(var tt=L,nt=[],it=["nodes","edges"],rt=0,at=it.length;rt<at;rt++){var dt=it[rt],bt=tt[dt];if(v(bt))for(var sn=0,ln=bt.length;sn<ln;sn++){var un=ot({group:dt},bt[sn]);nt.push(un)}}Q=new Zo(te,nt)}else Q=new Qe(te,L).collection();return Q},remove:function(L){if(x(L));else if(f(L)){var Q=L;L=this.$(Q)}return L.remove()}},ku=function(){function e(L){return-L.tension*L.x-L.friction*L.v}function t(L,Q,te){var re={x:L.x+te.dx*Q,v:L.v+te.dv*Q,tension:L.tension,friction:L.friction};return{dx:re.v,dv:e(re)}}function n(L,Q){var te={dx:L.v,dv:e(L)},re=t(L,.5*Q,te),Ne=t(L,.5*Q,re),$e=t(L,Q,Ne),Ue=1/6*(te.dx+2*(re.dx+Ne.dx)+$e.dx),tt=1/6*(te.dv+2*(re.dv+Ne.dv)+$e.dv);return L.x=L.x+Ue*Q,L.v=L.v+tt*Q,L}return function e(L,Q,te){var re,Ne,$e,Ue={x:-1,v:0,tension:null,friction:null},tt=[0],nt=0;for(L=parseFloat(L)||500,Q=parseFloat(Q)||20,te=te||null,Ue.tension=L,Ue.friction=Q,Ne=(re=null!==te)?(nt=e(L,Q))/te*.016:.016;$e=n($e||Ue,Ne),tt.push(1+$e.x),nt+=16,Math.abs($e.x)>1e-4&&Math.abs($e.v)>1e-4;);return re?function(L){return tt[L*(tt.length-1)|0]}:nt}}(),es=function(L,Q,te,re){var Ne=function(L,Q,te,re){var Ne=4,$e=.001,Ue=1e-7,tt=10,nt=11,it=1/(nt-1),rt="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var ot=0;ot<4;++ot)if("number"!=typeof arguments[ot]||isNaN(arguments[ot])||!isFinite(arguments[ot]))return!1;L=Math.min(L,1),te=Math.min(te,1),L=Math.max(L,0),te=Math.max(te,0);var at=rt?new Float32Array(nt):new Array(nt);function p(L,Q){return 1-3*Q+3*L}function f(L,Q){return 3*Q-6*L}function g(L){return 3*L}function v(L,Q,te){return((p(Q,te)*L+f(Q,te))*L+g(Q))*L}function y(L,Q,te){return 3*p(Q,te)*L*L+2*f(Q,te)*L+g(Q)}function m(Q,re){for(var $e=0;$e<Ne;++$e){var Ue=y(re,L,te);if(0===Ue)return re;re-=(v(re,L,te)-Q)/Ue}return re}function b(){for(var Q=0;Q<nt;++Q)at[Q]=v(Q*it,L,te)}function x(Q,re,Ne){var $e,nt,it=0;do{($e=v(nt=re+(Ne-re)/2,L,te)-Q)>0?Ne=nt:re=nt}while(Math.abs($e)>Ue&&++it<tt);return nt}function w(Q){for(var re=0,Ne=1,Ue=nt-1;Ne!==Ue&&at[Ne]<=Q;++Ne)re+=it;--Ne;var tt=re+(Q-at[Ne])/(at[Ne+1]-at[Ne])*it,rt=y(tt,L,te);return rt>=$e?m(Q,tt):0===rt?tt:x(Q,re,re+it)}var dt=!1;function k(){dt=!0,L===Q&&te===re||b()}var C=function(Ne){return dt||k(),L===Q&&te===re?Ne:0===Ne?0:1===Ne?1:v(w(Ne),Q,re)};C.getControlPoints=function(){return[{x:L,y:Q},{x:te,y:re}]};var bt="generateBezier("+[L,Q,te,re]+")";return C.toString=function(){return bt},C}(L,Q,te,re);return function(L,Q,te){return L+(Q-L)*Ne(te)}},Cu={linear:function(L,Q,te){return L+(Q-L)*te},ease:es(.25,.1,.25,1),"ease-in":es(.42,0,1,1),"ease-out":es(0,0,.58,1),"ease-in-out":es(.42,0,.58,1),"ease-in-sine":es(.47,0,.745,.715),"ease-out-sine":es(.39,.575,.565,1),"ease-in-out-sine":es(.445,.05,.55,.95),"ease-in-quad":es(.55,.085,.68,.53),"ease-out-quad":es(.25,.46,.45,.94),"ease-in-out-quad":es(.455,.03,.515,.955),"ease-in-cubic":es(.55,.055,.675,.19),"ease-out-cubic":es(.215,.61,.355,1),"ease-in-out-cubic":es(.645,.045,.355,1),"ease-in-quart":es(.895,.03,.685,.22),"ease-out-quart":es(.165,.84,.44,1),"ease-in-out-quart":es(.77,0,.175,1),"ease-in-quint":es(.755,.05,.855,.06),"ease-out-quint":es(.23,1,.32,1),"ease-in-out-quint":es(.86,0,.07,1),"ease-in-expo":es(.95,.05,.795,.035),"ease-out-expo":es(.19,1,.22,1),"ease-in-out-expo":es(1,0,0,1),"ease-in-circ":es(.6,.04,.98,.335),"ease-out-circ":es(.075,.82,.165,1),"ease-in-out-circ":es(.785,.135,.15,.86),spring:function(L,Q,te){if(0===te)return Cu.linear;var re=ku(L,Q,te);return function(L,Q,te){return L+(Q-L)*re(te)}},"cubic-bezier":es};function ns(L,Q,te,re,Ne){if(1===re)return te;if(Q===te)return te;var $e=Ne(Q,te,re);return null==L||((L.roundValue||L.color)&&($e=Math.round($e)),void 0!==L.min&&($e=Math.max($e,L.min)),void 0!==L.max&&($e=Math.min($e,L.max))),$e}function rs(L,Q){return null!=L.pfValue||null!=L.value?null==L.pfValue||null!=Q&&"%"===Q.type.units?L.value:L.pfValue:L}function is(L,Q,te,re,Ne){var $e=null!=Ne?Ne.type:null;te<0?te=0:te>1&&(te=1);var Ue=rs(L,Ne),tt=rs(Q,Ne);if(m(Ue)&&m(tt))return ns($e,Ue,tt,te,re);if(v(Ue)&&v(tt)){for(var nt=[],it=0;it<tt.length;it++){var rt=Ue[it],ot=tt[it];if(null!=rt&&null!=ot){var at=ns($e,rt,ot,te,re);nt.push(at)}else nt.push(ot)}return nt}}function as(L,Q,te,re){var Ne=!re,$e=L._private,Ue=Q._private,tt=Ue.easing,nt=Ue.startTime,it=(re?L:L.cy()).style();if(!Ue.easingImpl)if(null==tt)Ue.easingImpl=Cu.linear;else{var rt,ot,at;rt=f(tt)?it.parse("transition-timing-function",tt).value:tt,f(rt)?(ot=rt,at=[]):(ot=rt[1],at=rt.slice(2).map((function(L){return+L}))),at.length>0?("spring"===ot&&at.push(Ue.duration),Ue.easingImpl=Cu[ot].apply(null,at)):Ue.easingImpl=Cu[ot]}var dt,bt=Ue.easingImpl;if(dt=0===Ue.duration?1:(te-nt)/Ue.duration,Ue.applying&&(dt=Ue.progress),dt<0?dt=0:dt>1&&(dt=1),null==Ue.delay){var sn=Ue.startPosition,ln=Ue.position;if(ln&&Ne&&!L.locked()){var un={};os(sn.x,ln.x)&&(un.x=is(sn.x,ln.x,dt,bt)),os(sn.y,ln.y)&&(un.y=is(sn.y,ln.y,dt,bt)),L.position(un)}var cn=Ue.startPan,dn=Ue.pan,xn=$e.pan,Wn=null!=dn&&re;Wn&&(os(cn.x,dn.x)&&(xn.x=is(cn.x,dn.x,dt,bt)),os(cn.y,dn.y)&&(xn.y=is(cn.y,dn.y,dt,bt)),L.emit("pan"));var Yn=Ue.startZoom,Xn=Ue.zoom,Kn=null!=Xn&&re;Kn&&(os(Yn,Xn)&&($e.zoom=Pt($e.minZoom,is(Yn,Xn,dt,bt),$e.maxZoom)),L.emit("zoom")),(Wn||Kn)&&L.emit("viewport");var ti=Ue.style;if(ti&&ti.length>0&&Ne){for(var ni=0;ni<ti.length;ni++){var di=ti[ni],fi=di.name,pi=di,gi=Ue.startStyle[fi],vi=is(gi,pi,dt,bt,it.properties[gi.name]);it.overrideBypass(L,fi,vi)}L.emit("style")}}return Ue.progress=dt,dt}function os(L,Q){return!(null==L||null==Q||!(m(L)&&m(Q)||L&&Q))}function ss(L,Q,te,re){var Ne=Q._private;Ne.started=!0,Ne.startTime=te-Ne.progress*Ne.duration}function ls(L,Q){var te=Q._private.aniEles,re=[];function i(Q,te){var Ne=Q._private,$e=Ne.animation.current,Ue=Ne.animation.queue,tt=!1;if(0===$e.length){var nt=Ue.shift();nt&&$e.push(nt)}for(var u=function(L){for(var Q=L.length-1;Q>=0;Q--)(0,L[Q])();L.splice(0,L.length)},it=$e.length-1;it>=0;it--){var rt=$e[it],ot=rt._private;ot.stopped?($e.splice(it,1),ot.hooked=!1,ot.playing=!1,ot.started=!1,u(ot.frames)):(ot.playing||ot.applying)&&(ot.playing&&ot.applying&&(ot.applying=!1),ot.started||ss(0,rt,L),as(Q,rt,L,te),ot.applying&&(ot.applying=!1),u(ot.frames),null!=ot.step&&ot.step(L),rt.completed()&&($e.splice(it,1),ot.hooked=!1,ot.playing=!1,ot.started=!1,u(ot.completes)),tt=!0)}return te||0!==$e.length||0!==Ue.length||re.push(Q),tt}for(var Ne=!1,$e=0;$e<te.length;$e++){var Ue=i(te[$e]);Ne=Ne||Ue}var tt=i(Q,!0);(Ne||tt)&&(te.length>0?Q.notify("draw",te):Q.notify("draw")),te.unmerge(re),Q.emit("step")}var Eu={animate:za.animate(),animation:za.animation(),animated:za.animated(),clearQueue:za.clearQueue(),delay:za.delay(),delayAnimation:za.delayAnimation(),stop:za.stop(),addToAnimationPool:function(L){this.styleEnabled()&&this._private.aniEles.merge(L)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var L=this;if(L._private.animationsRunning=!0,L.styleEnabled()){var Q=L.renderer();Q&&Q.beforeRender?Q.beforeRender((function(Q,te){ls(te,L)}),Q.beforeRenderPriorities.animations):function t(){L._private.animationsRunning&&me((function(Q){ls(Q,L),t()}))}()}}},Du={qualifierCompare:function(L,Q){return null==L||null==Q?null==L&&null==Q:L.sameText(Q)},eventMatches:function(L,Q,te){var re=Q.qualifier;return null==re||L!==te.target&&w(te.target)&&re.matches(te.target)},addEventFields:function(L,Q){Q.cy=L,Q.target=L},callbackContext:function(L,Q,te){return null!=Q.qualifier?te.target:L}},ds=function(L){return f(L)?new ba(L):L},Tu={createEmitter:function(){var L=this._private;return L.emitter||(L.emitter=new go(Du,this)),this},emitter:function(){return this._private.emitter},on:function(L,Q,te){return this.emitter().on(L,ds(Q),te),this},removeListener:function(L,Q,te){return this.emitter().removeListener(L,ds(Q),te),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(L,Q,te){return this.emitter().one(L,ds(Q),te),this},once:function(L,Q,te){return this.emitter().one(L,ds(Q),te),this},emit:function(L,Q){return this.emitter().emit(L,Q),this},emitAndNotify:function(L,Q){return this.emit(L),this.notify(L,Q),this}};za.eventAliasesOn(Tu);var Su={png:function(L){return L=L||{},this._private.renderer.png(L)},jpg:function(L){var Q=this._private.renderer;return(L=L||{}).bg=L.bg||"#fff",Q.jpg(L)}};Su.jpeg=Su.jpg;var Pu={layout:function(L){if(null!=L)if(null!=L.name){var Q,te=L.name,re=this.extension("layout",te);if(null!=re)return Q=f(L.eles)?this.$(L.eles):null!=L.eles?L.eles:this.$(),new re(ot({},L,{cy:this,eles:Q}));Oe("No such layout `"+te+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Oe("A `name` must be specified to make a layout");else Oe("Layout options must be specified to make a layout")}};Pu.createLayout=Pu.makeLayout=Pu.layout;var Mu={notify:function(L,Q){var te=this._private;if(this.batching()){te.batchNotifications=te.batchNotifications||{};var re=te.batchNotifications[L]=te.batchNotifications[L]||this.collection();null!=Q&&re.merge(Q)}else if(te.notificationsEnabled){var Ne=this.renderer();!this.destroyed()&&Ne&&Ne.notify(L,Q)}},notifications:function(L){var Q=this._private;return void 0===L?Q.notificationsEnabled:(Q.notificationsEnabled=!!L,this)},noNotifications:function(L){this.notifications(!1),L(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var L=this._private;return null==L.batchCount&&(L.batchCount=0),0===L.batchCount&&(L.batchStyleEles=this.collection(),L.batchNotifications={}),L.batchCount++,this},endBatch:function(){var L=this._private;if(0===L.batchCount)return this;if(L.batchCount--,0===L.batchCount){L.batchStyleEles.updateStyle();var Q=this.renderer();Object.keys(L.batchNotifications).forEach((function(te){var re=L.batchNotifications[te];re.empty()?Q.notify(te):Q.notify(te,re)}))}return this},batch:function(L){return this.startBatch(),L(),this.endBatch(),this},batchData:function(L){var Q=this;return this.batch((function(){for(var te=Object.keys(L),re=0;re<te.length;re++){var Ne=te[re],$e=L[Ne];Q.getElementById(Ne).data($e)}}))}},Iu=Xe({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Au={renderTo:function(L,Q,te,re){return this._private.renderer.renderTo(L,Q,te,re),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(L){var Q=this.extension("renderer",L.name);if(null!=Q){void 0!==L.wheelSensitivity&&Ve("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var te=Iu(L);te.cy=this,this._private.renderer=new Q(te),this.notify("init")}else Oe("Can not initialise: No such renderer `".concat(L.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){this.notify("destroy");var L=this.container();if(L)for(L._cyreg=null;L.childNodes.length>0;)L.removeChild(L.childNodes[0]);this._private.renderer=null,this.mutableElements().forEach((function(L){var Q=L._private;Q.rscratch={},Q.rstyle={},Q.animation.current=[],Q.animation.queue=[]}))},onRender:function(L){return this.on("render",L)},offRender:function(L){return this.off("render",L)}};Au.invalidateDimensions=Au.resize;var Ou={collection:function(L,Q){return f(L)?this.$(L):x(L)?L.collection():v(L)?(Q||(Q={}),new Zo(this,L,Q.unique,Q.removed)):new Zo(this)},nodes:function(L){var Q=this.$((function(L){return L.isNode()}));return L?Q.filter(L):Q},edges:function(L){var Q=this.$((function(L){return L.isEdge()}));return L?Q.filter(L):Q},$:function(L){var Q=this._private.elements;return L?Q.filter(L):Q.spawnSelf()},mutableElements:function(){return this._private.elements}};Ou.elements=Ou.filter=Ou.$;var zu={apply:function(L){for(var Q=this._private.cy.collection(),te=0;te<L.length;te++){var re=L[te],Ne=this.getContextMeta(re);if(!Ne.empty){var $e=this.getContextStyle(Ne),Ue=this.applyContextStyle(Ne,$e,re);re._private.appliedInitStyle?this.updateTransitions(re,Ue.diffProps):re._private.appliedInitStyle=!0,this.updateStyleHints(re)&&Q.push(re)}}return Q},getPropertiesDiff:function(L,Q){var te=this._private.propDiffs=this._private.propDiffs||{},re=L+"-"+Q,Ne=te[re];if(Ne)return Ne;for(var $e=[],Ue={},tt=0;tt<this.length;tt++){var nt=this[tt],it="t"===L[tt],rt="t"===Q[tt],ot=it!==rt,at=nt.mappedProperties.length>0;if(ot||rt&&at){var dt=void 0;ot&&at||ot?dt=nt.properties:at&&(dt=nt.mappedProperties);for(var bt=0;bt<dt.length;bt++){for(var sn=dt[bt],ln=sn.name,un=!1,cn=tt+1;cn<this.length;cn++){var dn=this[cn];if("t"===Q[cn]&&(un=null!=dn.properties[sn.name]))break}Ue[ln]||un||(Ue[ln]=!0,$e.push(ln))}}}return te[re]=$e,$e},getContextMeta:function(L){for(var Q,te="",re=L._private.styleCxtKey||"",Ne=0;Ne<this.length;Ne++){var $e=this[Ne];te+=$e.selector&&$e.selector.matches(L)?"t":"f"}return Q=this.getPropertiesDiff(re,te),L._private.styleCxtKey=te,{key:te,diffPropNames:Q,empty:0===Q.length}},getContextStyle:function(L){var Q=L.key,te=this._private.contextStyles=this._private.contextStyles||{};if(te[Q])return te[Q];for(var re={_private:{key:Q}},Ne=0;Ne<this.length;Ne++){var $e=this[Ne];if("t"===Q[Ne])for(var Ue=0;Ue<$e.properties.length;Ue++){var tt=$e.properties[Ue];re[tt.name]=tt}}return te[Q]=re,re},applyContextStyle:function(L,Q,te){for(var re=L.diffPropNames,Ne={},$e=this.types,Ue=0;Ue<re.length;Ue++){var tt=re[Ue],nt=Q[tt],it=te.pstyle(tt);if(!nt){if(!it)continue;nt=it.bypass?{name:tt,deleteBypassed:!0}:{name:tt,delete:!0}}if(it!==nt){if(nt.mapped===$e.fn&&null!=it&&null!=it.mapping&&it.mapping.value===nt.value){var rt=it.mapping;if((rt.fnValue=nt.value(te))===rt.prevFnValue)continue}var ot=Ne[tt]={prev:it};this.applyParsedProperty(te,nt),ot.next=te.pstyle(tt),ot.next&&ot.next.bypass&&(ot.next=ot.next.bypassed)}}return{diffProps:Ne}},updateStyleHints:function(L){var Q=L._private,te=this,re=te.propertyGroupNames,Ne=te.propertyGroupKeys,a=function(L,Q,re){return te.getPropertiesHash(L,Q,re)},$e=Q.styleKey;if(L.removed())return!1;var Ue="nodes"===Q.group,tt=L._private.style;re=Object.keys(tt);for(var nt=0;nt<Ne.length;nt++){var it=Ne[nt];Q.styleKeys[it]=[9261,5381]}for(var rt,h=function(L,te){return Q.styleKeys[te][0]=Ee(L,Q.styleKeys[te][0])},p=function(L,te){return Q.styleKeys[te][1]=ke(L,Q.styleKeys[te][1])},f=function(L,Q){h(L,Q),p(L,Q)},g=function(L,Q){for(var te=0;te<L.length;te++){var re=L.charCodeAt(te);h(re,Q),p(re,Q)}},ot=0;ot<re.length;ot++){var at=re[ot],dt=tt[at];if(null!=dt){var bt=this.properties[at],sn=bt.type,ln=bt.groupKey,un=void 0;null!=bt.hashOverride?un=bt.hashOverride(L,dt):null!=dt.pfValue&&(un=dt.pfValue);var cn=null==bt.enums?dt.value:null,dn=null!=un,xn=dn||null!=cn,Wn=dt.units;sn.number&&xn&&!sn.multiple?(f(-128<(rt=dn?un:cn)&&rt<128&&Math.floor(rt)!==rt?2e9-(1024*rt|0):rt,ln),dn||null==Wn||g(Wn,ln)):g(dt.strValue,ln)}}for(var Yn=[9261,5381],Xn=0;Xn<Ne.length;Xn++){var Kn=Ne[Xn],ti=Q.styleKeys[Kn];Yn[0]=Ee(ti[0],Yn[0]),Yn[1]=ke(ti[1],Yn[1])}Q.styleKey=2097152*Yn[0]+Yn[1];var ni=Q.styleKeys;Q.labelDimsKey=Ce(ni.labelDimensions);var di=a(L,["label"],ni.labelDimensions);if(Q.labelKey=Ce(di),Q.labelStyleKey=Ce(Se(ni.commonLabel,di)),!Ue){var fi=a(L,["source-label"],ni.labelDimensions);Q.sourceLabelKey=Ce(fi),Q.sourceLabelStyleKey=Ce(Se(ni.commonLabel,fi));var pi=a(L,["target-label"],ni.labelDimensions);Q.targetLabelKey=Ce(pi),Q.targetLabelStyleKey=Ce(Se(ni.commonLabel,pi))}if(Ue){var gi=Q.styleKeys,vi=gi.nodeBody,mi=gi.nodeBorder,bi=gi.backgroundImage,xi=gi.compound,Ti=gi.pie,Pi=[vi,mi,bi,xi,Ti].filter((function(L){return null!=L})).reduce(Se,[9261,5381]);Q.nodeKey=Ce(Pi),Q.hasPie=null!=Ti&&9261!==Ti[0]&&5381!==Ti[1]}return $e!==Q.styleKey},clearStyleHints:function(L){var Q=L._private;Q.styleCxtKey="",Q.styleKeys={},Q.styleKey=null,Q.labelKey=null,Q.labelStyleKey=null,Q.sourceLabelKey=null,Q.sourceLabelStyleKey=null,Q.targetLabelKey=null,Q.targetLabelStyleKey=null,Q.nodeKey=null,Q.hasPie=null},applyParsedProperty:function(L,Q){var te,re=this,Ne=Q,$e=L._private.style,Ue=re.types,tt=re.properties[Ne.name].type,nt=Ne.bypass,it=$e[Ne.name],rt=it&&it.bypass,ot=L._private,h=function(L){return null==L?null:null!=L.pfValue?L.pfValue:L.value},p=function(){var Q=h(it),te=h(Ne);re.checkTriggers(L,Ne.name,Q,te)};if(Ne&&"pie"===Ne.name.substr(0,3)&&Ve("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===Q.name&&L.isEdge()&&("bezier"!==Q.value&&L.isLoop()||"haystack"===Q.value&&(L.source().isParent()||L.target().isParent()))&&(Ne=Q=this.parse(Q.name,"bezier",nt)),Ne.delete)return $e[Ne.name]=void 0,p(),!0;if(Ne.deleteBypassed)return it?!!it.bypass&&(it.bypassed=void 0,p(),!0):(p(),!0);if(Ne.deleteBypass)return it?!!it.bypass&&($e[Ne.name]=it.bypassed,p(),!0):(p(),!0);var f=function(){Ve("Do not assign mappings to elements without corresponding data (i.e. ele `"+L.id()+"` has no mapping for property `"+Ne.name+"` with data field `"+Ne.field+"`); try a `["+Ne.field+"]` selector to limit scope to elements with `"+Ne.field+"` defined")};switch(Ne.mapped){case Ue.mapData:for(var at,dt=Ne.field.split("."),bt=ot.data,sn=0;sn<dt.length&&bt;sn++)bt=bt[dt[sn]];if(null==bt)return f(),!1;if(!m(bt))return Ve("Do not use continuous mappers without specifying numeric data (i.e. `"+Ne.field+": "+bt+"` for `"+L.id()+"` is non-numeric)"),!1;var ln=Ne.fieldMax-Ne.fieldMin;if((at=0===ln?0:(bt-Ne.fieldMin)/ln)<0?at=0:at>1&&(at=1),tt.color){var un=Ne.valueMin[0],cn=Ne.valueMax[0],dn=Ne.valueMin[1],xn=Ne.valueMax[1],Wn=Ne.valueMin[2],Yn=Ne.valueMax[2],Xn=null==Ne.valueMin[3]?1:Ne.valueMin[3],Kn=null==Ne.valueMax[3]?1:Ne.valueMax[3],ti=[Math.round(un+(cn-un)*at),Math.round(dn+(xn-dn)*at),Math.round(Wn+(Yn-Wn)*at),Math.round(Xn+(Kn-Xn)*at)];te={bypass:Ne.bypass,name:Ne.name,value:ti,strValue:"rgb("+ti[0]+", "+ti[1]+", "+ti[2]+")"}}else{if(!tt.number)return!1;var ni=Ne.valueMin+(Ne.valueMax-Ne.valueMin)*at;te=this.parse(Ne.name,ni,Ne.bypass,"mapping")}if(!te)return f(),!1;te.mapping=Ne,Ne=te;break;case Ue.data:for(var di=Ne.field.split("."),fi=ot.data,pi=0;pi<di.length&&fi;pi++)fi=fi[di[pi]];if(null!=fi&&(te=this.parse(Ne.name,fi,Ne.bypass,"mapping")),!te)return f(),!1;te.mapping=Ne,Ne=te;break;case Ue.fn:var gi=Ne.value,vi=null!=Ne.fnValue?Ne.fnValue:gi(L);if(Ne.prevFnValue=vi,null==vi)return Ve("Custom function mappers may not return null (i.e. `"+Ne.name+"` for ele `"+L.id()+"` is null)"),!1;if(!(te=this.parse(Ne.name,vi,Ne.bypass,"mapping")))return Ve("Custom function mappers may not return invalid values for the property type (i.e. `"+Ne.name+"` for ele `"+L.id()+"` is invalid)"),!1;te.mapping=Fe(Ne),Ne=te;break;case void 0:break;default:return!1}return nt?(Ne.bypassed=rt?it.bypassed:it,$e[Ne.name]=Ne):rt?it.bypassed=Ne:$e[Ne.name]=Ne,p(),!0},cleanElements:function(L,Q){for(var te=0;te<L.length;te++){var re=L[te];if(this.clearStyleHints(re),re.dirtyCompoundBoundsCache(),re.dirtyBoundingBoxCache(),Q)for(var Ne=re._private.style,$e=Object.keys(Ne),Ue=0;Ue<$e.length;Ue++){var tt=$e[Ue],nt=Ne[tt];null!=nt&&(nt.bypass?nt.bypassed=null:Ne[tt]=null)}else re._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(L,Q){var te=this,re=L._private,Ne=L.pstyle("transition-property").value,$e=L.pstyle("transition-duration").pfValue,Ue=L.pstyle("transition-delay").pfValue;if(Ne.length>0&&$e>0){for(var tt={},nt=!1,it=0;it<Ne.length;it++){var rt=Ne[it],ot=L.pstyle(rt),at=Q[rt];if(at){var dt=at.prev,bt=null!=at.next?at.next:ot,sn=!1,ln=void 0;dt&&(m(dt.pfValue)&&m(bt.pfValue)?(sn=bt.pfValue-dt.pfValue,ln=dt.pfValue+1e-6*sn):m(dt.value)&&m(bt.value)?(sn=bt.value-dt.value,ln=dt.value+1e-6*sn):v(dt.value)&&v(bt.value)&&(sn=dt.value[0]!==bt.value[0]||dt.value[1]!==bt.value[1]||dt.value[2]!==bt.value[2],ln=dt.strValue),sn&&(tt[rt]=bt.strValue,this.applyBypass(L,rt,ln),nt=!0))}}if(!nt)return;re.transitioning=!0,new To((function(Q){Ue>0?L.delayAnimation(Ue).play().promise().then(Q):Q()})).then((function(){return L.animation({style:tt,duration:$e,easing:L.pstyle("transition-timing-function").value,queue:!1}).play().promise()})).then((function(){te.removeBypasses(L,Ne),L.emitAndNotify("style"),re.transitioning=!1}))}else re.transitioning&&(this.removeBypasses(L,Ne),L.emitAndNotify("style"),re.transitioning=!1)},checkTrigger:function(L,Q,te,re,Ne,$e){var Ue=this.properties[Q],tt=Ne(Ue);null!=tt&&tt(te,re)&&$e(Ue)},checkZOrderTrigger:function(L,Q,te,re){var Ne=this;this.checkTrigger(L,Q,te,re,(function(L){return L.triggersZOrder}),(function(){Ne._private.cy.notify("zorder",L)}))},checkBoundsTrigger:function(L,Q,te,re){this.checkTrigger(L,Q,te,re,(function(L){return L.triggersBounds}),(function(Ne){L.dirtyCompoundBoundsCache(),L.dirtyBoundingBoxCache(),!Ne.triggersBoundsOfParallelBeziers||("curve-style"!==Q||"bezier"!==te&&"bezier"!==re)&&("display"!==Q||"none"!==te&&"none"!==re)||L.parallelEdges().forEach((function(L){L.isBundledBezier()&&L.dirtyBoundingBoxCache()}))}))},checkTriggers:function(L,Q,te,re){L.dirtyStyleCache(),this.checkZOrderTrigger(L,Q,te,re),this.checkBoundsTrigger(L,Q,te,re)}},Ru={applyBypass:function(L,Q,te,re){var Ne=[];if("*"===Q||"**"===Q){if(void 0!==te)for(var $e=0;$e<this.properties.length;$e++){var Ue=this.properties[$e].name,tt=this.parse(Ue,te,!0);tt&&Ne.push(tt)}}else if(f(Q)){var it=this.parse(Q,te,!0);it&&Ne.push(it)}else{if(!y(Q))return!1;var rt=Q;re=te;for(var ot=Object.keys(rt),at=0;at<ot.length;at++){var dt=ot[at],bt=rt[dt];if(void 0===bt&&(bt=rt[nt(dt)]),void 0!==bt){var sn=this.parse(dt,bt,!0);sn&&Ne.push(sn)}}}if(0===Ne.length)return!1;for(var ln=!1,un=0;un<L.length;un++){for(var cn=L[un],dn={},xn=void 0,Wn=0;Wn<Ne.length;Wn++){var Yn=Ne[Wn];if(re){var Xn=cn.pstyle(Yn.name);xn=dn[Yn.name]={prev:Xn}}ln=this.applyParsedProperty(cn,Fe(Yn))||ln,re&&(xn.next=cn.pstyle(Yn.name))}ln&&this.updateStyleHints(cn),re&&this.updateTransitions(cn,dn,!0)}return ln},overrideBypass:function(L,Q,te){Q=tt(Q);for(var re=0;re<L.length;re++){var Ne=L[re],$e=Ne._private.style[Q],Ue=this.properties[Q].type,nt=Ue.color,it=Ue.mutiple,rt=$e?null!=$e.pfValue?$e.pfValue:$e.value:null;$e&&$e.bypass?($e.value=te,null!=$e.pfValue&&($e.pfValue=te),$e.strValue=nt?"rgb("+te.join(",")+")":it?te.join(" "):""+te,this.updateStyleHints(Ne)):this.applyBypass(Ne,Q,te),this.checkTriggers(Ne,Q,rt,te)}},removeAllBypasses:function(L,Q){return this.removeBypasses(L,this.propertyNames,Q)},removeBypasses:function(L,Q,te){for(var re=0;re<L.length;re++){for(var Ne=L[re],$e={},Ue=0;Ue<Q.length;Ue++){var tt=Q[Ue],nt=this.properties[tt],it=Ne.pstyle(nt.name);if(it&&it.bypass){var rt=this.parse(tt,"",!0),ot=$e[nt.name]={prev:it};this.applyParsedProperty(Ne,rt),ot.next=Ne.pstyle(nt.name)}}this.updateStyleHints(Ne),te&&this.updateTransitions(Ne,$e,!0)}}},Fu={getEmSizeInPixels:function(){var L=this.containerCss("font-size");return null!=L?parseFloat(L):1},containerCss:function(Q){var te=this._private.cy.container();if(L&&te&&L.getComputedStyle)return L.getComputedStyle(te).getPropertyValue(Q)}},Hu={getRenderedStyle:function(L,Q){return Q?this.getStylePropertyValue(L,Q,!0):this.getRawStyle(L,!0)},getRawStyle:function(L,Q){if(L=L[0]){for(var te={},re=0;re<this.properties.length;re++){var Ne=this.properties[re],$e=this.getStylePropertyValue(L,Ne.name,Q);null!=$e&&(te[Ne.name]=$e,te[nt(Ne.name)]=$e)}return te}},getIndexedStyle:function(L,Q,te,re){var Ne=L.pstyle(Q)[te][re];return null!=Ne?Ne:L.cy().style().getDefaultProperty(Q)[te][0]},getStylePropertyValue:function(L,Q,te){if(L=L[0]){var re=this.properties[Q];re.alias&&(re=re.pointsTo);var Ne=re.type,$e=L.pstyle(re.name);if($e){var Ue=$e.value,tt=$e.units,nt=$e.strValue;if(te&&Ne.number&&null!=Ue&&m(Ue)){var it=L.cy().zoom(),c=function(L){return L*it},d=function(L,Q){return c(L)+Q},rt=v(Ue);return(rt?tt.every((function(L){return null!=L})):null!=tt)?rt?Ue.map((function(L,Q){return d(L,tt[Q])})).join(" "):d(Ue,tt):rt?Ue.map((function(L){return f(L)?L:""+c(L)})).join(" "):""+c(Ue)}if(null!=nt)return nt}return null}},getAnimationStartStyle:function(L,Q){for(var te={},re=0;re<Q.length;re++){var Ne=Q[re].name,$e=L.pstyle(Ne);void 0!==$e&&($e=y($e)?this.parse(Ne,$e.strValue):this.parse(Ne,$e)),$e&&(te[Ne]=$e)}return te},getPropsList:function(L){var Q=[],te=L,re=this.properties;if(te)for(var Ne=Object.keys(te),$e=0;$e<Ne.length;$e++){var Ue=Ne[$e],nt=te[Ue],it=re[Ue]||re[tt(Ue)],rt=this.parse(it.name,nt);rt&&Q.push(rt)}return Q},getNonDefaultPropertiesHash:function(L,Q,te){var re,Ne,$e,Ue,tt,nt,it=te.slice();for(tt=0;tt<Q.length;tt++)if(re=Q[tt],null!=(Ne=L.pstyle(re,!1)))if(null!=Ne.pfValue)it[0]=Ee(Ue,it[0]),it[1]=ke(Ue,it[1]);else for($e=Ne.strValue,nt=0;nt<$e.length;nt++)Ue=$e.charCodeAt(nt),it[0]=Ee(Ue,it[0]),it[1]=ke(Ue,it[1]);return it}};Hu.getPropertiesHash=Hu.getNonDefaultPropertiesHash;var Vu={appendFromJson:function(L){for(var Q=0;Q<L.length;Q++){var te=L[Q],re=te.selector,Ne=te.style||te.css,$e=Object.keys(Ne);this.selector(re);for(var Ue=0;Ue<$e.length;Ue++){var tt=$e[Ue],nt=Ne[tt];this.css(tt,nt)}}return this},fromJson:function(L){return this.resetToDefault(),this.appendFromJson(L),this},json:function(){for(var L=[],Q=this.defaultLength;Q<this.length;Q++){for(var te=this[Q],re=te.selector,Ne=te.properties,$e={},Ue=0;Ue<Ne.length;Ue++){var tt=Ne[Ue];$e[tt.name]=tt.strValue}L.push({selector:re?re.toString():"core",style:$e})}return L}},$u={appendFromString:function(L){var Q,te,re,Ne=""+L;function a(){Ne=Ne.length>Q.length?Ne.substr(Q.length):""}function o(){te=te.length>re.length?te.substr(re.length):""}for(Ne=Ne.replace(/[/][*](\s|.)+?[*][/]/g,"");!Ne.match(/^\s*$/);){var $e=Ne.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!$e){Ve("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+Ne);break}Q=$e[0];var Ue=$e[1];if("core"!==Ue&&new ba(Ue).invalid)Ve("Skipping parsing of block: Invalid selector found in string stylesheet: "+Ue),a();else{var tt=$e[2],nt=!1;te=tt;for(var it=[];!te.match(/^\s*$/);){var rt=te.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!rt){Ve("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+tt),nt=!0;break}re=rt[0];var ot=rt[1],at=rt[2];this.properties[ot]?this.parse(ot,at)?(it.push({name:ot,val:at}),o()):(Ve("Skipping property: Invalid property definition in: "+re),o()):(Ve("Skipping property: Invalid property name in: "+re),o())}if(nt){a();break}this.selector(Ue);for(var dt=0;dt<it.length;dt++){var bt=it[dt];this.css(bt.name,bt.val)}a()}}return this},fromString:function(L){return this.resetToDefault(),this.appendFromString(L),this}},Uu={};!function(){var L=rt,t=function(L){return"^"+L+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},n=function(Q){var te=L+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Q+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+L+")\\s*\\,\\s*("+L+")\\s*,\\s*("+te+")\\s*\\,\\s*("+te+")\\)$"},Q=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];Uu.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:t("data")},layoutData:{mapping:!0,regex:t("layoutData")},scratch:{mapping:!0,regex:t("scratch")},mapData:{mapping:!0,regex:n("mapData")},mapLayoutData:{mapping:!0,regex:n("mapLayoutData")},mapScratch:{mapping:!0,regex:n("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:Q,singleRegexMatchValue:!0},urls:{regexes:Q,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(L,Q){switch(L.length){case 2:return"deg"!==Q[0]&&"rad"!==Q[0]&&"deg"!==Q[1]&&"rad"!==Q[1];case 1:return f(L[0])||"deg"===Q[0]||"rad"===Q[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+L+")\\s*,\\s*("+L+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+L+")\\s*,\\s*("+L+")\\s*,\\s*("+L+")\\s*,\\s*("+L+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(L){var Q=L.length;return 1===Q||2===Q||4===Q}}};var te={zeroNonZero:function(L,Q){return(null==L||null==Q)&&L!==Q||0==L&&0!=Q||0!=L&&0==Q},any:function(L,Q){return L!=Q},emptyNonEmpty:function(L,Q){var te=S(L),re=S(Q);return te&&!re||!te&&re}},re=Uu.types,Ne=[{name:"label",type:re.text,triggersBounds:te.any,triggersZOrder:te.emptyNonEmpty},{name:"text-rotation",type:re.textRotation,triggersBounds:te.any},{name:"text-margin-x",type:re.bidirectionalSize,triggersBounds:te.any},{name:"text-margin-y",type:re.bidirectionalSize,triggersBounds:te.any}],$e=[{name:"source-label",type:re.text,triggersBounds:te.any},{name:"source-text-rotation",type:re.textRotation,triggersBounds:te.any},{name:"source-text-margin-x",type:re.bidirectionalSize,triggersBounds:te.any},{name:"source-text-margin-y",type:re.bidirectionalSize,triggersBounds:te.any},{name:"source-text-offset",type:re.size,triggersBounds:te.any}],Ue=[{name:"target-label",type:re.text,triggersBounds:te.any},{name:"target-text-rotation",type:re.textRotation,triggersBounds:te.any},{name:"target-text-margin-x",type:re.bidirectionalSize,triggersBounds:te.any},{name:"target-text-margin-y",type:re.bidirectionalSize,triggersBounds:te.any},{name:"target-text-offset",type:re.size,triggersBounds:te.any}],tt=[{name:"font-family",type:re.fontFamily,triggersBounds:te.any},{name:"font-style",type:re.fontStyle,triggersBounds:te.any},{name:"font-weight",type:re.fontWeight,triggersBounds:te.any},{name:"font-size",type:re.size,triggersBounds:te.any},{name:"text-transform",type:re.textTransform,triggersBounds:te.any},{name:"text-wrap",type:re.textWrap,triggersBounds:te.any},{name:"text-overflow-wrap",type:re.textOverflowWrap,triggersBounds:te.any},{name:"text-max-width",type:re.size,triggersBounds:te.any},{name:"text-outline-width",type:re.size,triggersBounds:te.any},{name:"line-height",type:re.positiveNumber,triggersBounds:te.any}],nt=[{name:"text-valign",type:re.valign,triggersBounds:te.any},{name:"text-halign",type:re.halign,triggersBounds:te.any},{name:"color",type:re.color},{name:"text-outline-color",type:re.color},{name:"text-outline-opacity",type:re.zeroOneNumber},{name:"text-background-color",type:re.color},{name:"text-background-opacity",type:re.zeroOneNumber},{name:"text-background-padding",type:re.size,triggersBounds:te.any},{name:"text-border-opacity",type:re.zeroOneNumber},{name:"text-border-color",type:re.color},{name:"text-border-width",type:re.size,triggersBounds:te.any},{name:"text-border-style",type:re.borderStyle,triggersBounds:te.any},{name:"text-background-shape",type:re.textBackgroundShape,triggersBounds:te.any},{name:"text-justification",type:re.justification}],it=[{name:"events",type:re.bool},{name:"text-events",type:re.bool}],ot=[{name:"display",type:re.display,triggersZOrder:te.any,triggersBounds:te.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:re.visibility,triggersZOrder:te.any},{name:"opacity",type:re.zeroOneNumber,triggersZOrder:te.zeroNonZero},{name:"text-opacity",type:re.zeroOneNumber},{name:"min-zoomed-font-size",type:re.size},{name:"z-compound-depth",type:re.zCompoundDepth,triggersZOrder:te.any},{name:"z-index-compare",type:re.zIndexCompare,triggersZOrder:te.any},{name:"z-index",type:re.nonNegativeInt,triggersZOrder:te.any}],at=[{name:"overlay-padding",type:re.size,triggersBounds:te.any},{name:"overlay-color",type:re.color},{name:"overlay-opacity",type:re.zeroOneNumber,triggersBounds:te.zeroNonZero},{name:"overlay-shape",type:re.overlayShape,triggersBounds:te.any}],dt=[{name:"underlay-padding",type:re.size,triggersBounds:te.any},{name:"underlay-color",type:re.color},{name:"underlay-opacity",type:re.zeroOneNumber,triggersBounds:te.zeroNonZero},{name:"underlay-shape",type:re.overlayShape,triggersBounds:te.any}],bt=[{name:"transition-property",type:re.propList},{name:"transition-duration",type:re.time},{name:"transition-delay",type:re.time},{name:"transition-timing-function",type:re.easing}],y=function(L,Q){return"label"===Q.value?-L.poolIndex():Q.pfValue},sn=[{name:"height",type:re.nodeSize,triggersBounds:te.any,hashOverride:y},{name:"width",type:re.nodeSize,triggersBounds:te.any,hashOverride:y},{name:"shape",type:re.nodeShape,triggersBounds:te.any},{name:"shape-polygon-points",type:re.polygonPointList,triggersBounds:te.any},{name:"background-color",type:re.color},{name:"background-fill",type:re.fill},{name:"background-opacity",type:re.zeroOneNumber},{name:"background-blacken",type:re.nOneOneNumber},{name:"background-gradient-stop-colors",type:re.colors},{name:"background-gradient-stop-positions",type:re.percentages},{name:"background-gradient-direction",type:re.gradientDirection},{name:"padding",type:re.sizeMaybePercent,triggersBounds:te.any},{name:"padding-relative-to",type:re.paddingRelativeTo,triggersBounds:te.any},{name:"bounds-expansion",type:re.boundsExpansion,triggersBounds:te.any}],ln=[{name:"border-color",type:re.color},{name:"border-opacity",type:re.zeroOneNumber},{name:"border-width",type:re.size,triggersBounds:te.any},{name:"border-style",type:re.borderStyle}],un=[{name:"background-image",type:re.urls},{name:"background-image-crossorigin",type:re.bgCrossOrigin},{name:"background-image-opacity",type:re.zeroOneNumbers},{name:"background-image-containment",type:re.bgContainment},{name:"background-image-smoothing",type:re.bools},{name:"background-position-x",type:re.bgPos},{name:"background-position-y",type:re.bgPos},{name:"background-width-relative-to",type:re.bgRelativeTo},{name:"background-height-relative-to",type:re.bgRelativeTo},{name:"background-repeat",type:re.bgRepeat},{name:"background-fit",type:re.bgFit},{name:"background-clip",type:re.bgClip},{name:"background-width",type:re.bgWH},{name:"background-height",type:re.bgWH},{name:"background-offset-x",type:re.bgPos},{name:"background-offset-y",type:re.bgPos}],cn=[{name:"position",type:re.position,triggersBounds:te.any},{name:"compound-sizing-wrt-labels",type:re.compoundIncludeLabels,triggersBounds:te.any},{name:"min-width",type:re.size,triggersBounds:te.any},{name:"min-width-bias-left",type:re.sizeMaybePercent,triggersBounds:te.any},{name:"min-width-bias-right",type:re.sizeMaybePercent,triggersBounds:te.any},{name:"min-height",type:re.size,triggersBounds:te.any},{name:"min-height-bias-top",type:re.sizeMaybePercent,triggersBounds:te.any},{name:"min-height-bias-bottom",type:re.sizeMaybePercent,triggersBounds:te.any}],dn=[{name:"line-style",type:re.lineStyle},{name:"line-color",type:re.color},{name:"line-fill",type:re.fill},{name:"line-cap",type:re.lineCap},{name:"line-opacity",type:re.zeroOneNumber},{name:"line-dash-pattern",type:re.numbers},{name:"line-dash-offset",type:re.number},{name:"line-gradient-stop-colors",type:re.colors},{name:"line-gradient-stop-positions",type:re.percentages},{name:"curve-style",type:re.curveStyle,triggersBounds:te.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:re.zeroOneNumber,triggersBounds:te.any},{name:"source-endpoint",type:re.edgeEndpoint,triggersBounds:te.any},{name:"target-endpoint",type:re.edgeEndpoint,triggersBounds:te.any},{name:"control-point-step-size",type:re.size,triggersBounds:te.any},{name:"control-point-distances",type:re.bidirectionalSizes,triggersBounds:te.any},{name:"control-point-weights",type:re.numbers,triggersBounds:te.any},{name:"segment-distances",type:re.bidirectionalSizes,triggersBounds:te.any},{name:"segment-weights",type:re.numbers,triggersBounds:te.any},{name:"taxi-turn",type:re.bidirectionalSizeMaybePercent,triggersBounds:te.any},{name:"taxi-turn-min-distance",type:re.size,triggersBounds:te.any},{name:"taxi-direction",type:re.axisDirection,triggersBounds:te.any},{name:"edge-distances",type:re.edgeDistances,triggersBounds:te.any},{name:"arrow-scale",type:re.positiveNumber,triggersBounds:te.any},{name:"loop-direction",type:re.angle,triggersBounds:te.any},{name:"loop-sweep",type:re.angle,triggersBounds:te.any},{name:"source-distance-from-node",type:re.size,triggersBounds:te.any},{name:"target-distance-from-node",type:re.size,triggersBounds:te.any}],xn=[{name:"ghost",type:re.bool,triggersBounds:te.any},{name:"ghost-offset-x",type:re.bidirectionalSize,triggersBounds:te.any},{name:"ghost-offset-y",type:re.bidirectionalSize,triggersBounds:te.any},{name:"ghost-opacity",type:re.zeroOneNumber}],Wn=[{name:"selection-box-color",type:re.color},{name:"selection-box-opacity",type:re.zeroOneNumber},{name:"selection-box-border-color",type:re.color},{name:"selection-box-border-width",type:re.size},{name:"active-bg-color",type:re.color},{name:"active-bg-opacity",type:re.zeroOneNumber},{name:"active-bg-size",type:re.size},{name:"outside-texture-bg-color",type:re.color},{name:"outside-texture-bg-opacity",type:re.zeroOneNumber}],Yn=[];Uu.pieBackgroundN=16,Yn.push({name:"pie-size",type:re.sizeMaybePercent});for(var Xn=1;Xn<=Uu.pieBackgroundN;Xn++)Yn.push({name:"pie-"+Xn+"-background-color",type:re.color}),Yn.push({name:"pie-"+Xn+"-background-size",type:re.percent}),Yn.push({name:"pie-"+Xn+"-background-opacity",type:re.zeroOneNumber});var Kn=[],ti=Uu.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:re.arrowShape,triggersBounds:te.any},{name:"arrow-color",type:re.color},{name:"arrow-fill",type:re.arrowFill}].forEach((function(L){ti.forEach((function(Q){var te=Q+"-"+L.name,re=L.type,Ne=L.triggersBounds;Kn.push({name:te,type:re,triggersBounds:Ne})}))}),{});var ni=Uu.properties=[].concat(it,bt,ot,at,dt,xn,nt,tt,Ne,$e,Ue,sn,ln,un,Yn,cn,dn,Kn,Wn),di=Uu.propertyGroups={behavior:it,transition:bt,visibility:ot,overlay:at,underlay:dt,ghost:xn,commonLabel:nt,labelDimensions:tt,mainLabel:Ne,sourceLabel:$e,targetLabel:Ue,nodeBody:sn,nodeBorder:ln,backgroundImage:un,pie:Yn,compound:cn,edgeLine:dn,edgeArrow:Kn,core:Wn},fi=Uu.propertyGroupNames={};(Uu.propertyGroupKeys=Object.keys(di)).forEach((function(L){fi[L]=di[L].map((function(L){return L.name})),di[L].forEach((function(Q){return Q.groupKey=L}))}));var pi=Uu.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Uu.propertyNames=ni.map((function(L){return L.name}));for(var gi=0;gi<ni.length;gi++){var vi=ni[gi];ni[vi.name]=vi}for(var mi=0;mi<pi.length;mi++){var bi=pi[mi],xi=ni[bi.pointsTo],Ti={name:bi.name,alias:!0,pointsTo:xi};ni.push(Ti),ni[bi.name]=Ti}}(),Uu.getDefaultProperty=function(L){return this.getDefaultProperties()[L]},Uu.getDefaultProperties=function(){var L=this._private;if(null!=L.defaultProperties)return L.defaultProperties;for(var Q=ot({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce((function(L,Q){for(var te=1;te<=Uu.pieBackgroundN;te++){var re=Q.name.replace("{{i}}",te),Ne=Q.value;L[re]=Ne}return L}),{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce((function(L,Q){return Uu.arrowPrefixes.forEach((function(te){var re=te+"-"+Q.name,Ne=Q.value;L[re]=Ne})),L}),{})),te={},re=0;re<this.properties.length;re++){var Ne=this.properties[re];if(!Ne.pointsTo){var $e=Ne.name,Ue=Q[$e],tt=this.parse($e,Ue);te[$e]=tt}}return L.defaultProperties=te,L.defaultProperties},Uu.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Ku={parse:function(L,Q,te,re){if(g(Q))return this.parseImplWarn(L,Q,te,re);var Ne,$e=De(L,""+Q,te?"t":"f","mapping"===re||!0===re||!1===re||null==re?"dontcare":re),Ue=this.propCache=this.propCache||[];return(Ne=Ue[$e])||(Ne=Ue[$e]=this.parseImplWarn(L,Q,te,re)),(te||"mapping"===re)&&(Ne=Fe(Ne))&&(Ne.value=Fe(Ne.value)),Ne},parseImplWarn:function(L,Q,te,re){var Ne=this.parseImpl(L,Q,te,re);return Ne||null==Q||Ve("The style property `".concat(L,": ").concat(Q,"` is invalid")),!Ne||"width"!==Ne.name&&"height"!==Ne.name||"label"!==Q||Ve("The style value of `label` is deprecated for `"+Ne.name+"`"),Ne},parseImpl:function(L,Q,te,re){L=tt(L);var Ne=this.properties[L],$e=Q,Ue=this.types;if(!Ne)return null;if(void 0===Q)return null;Ne.alias&&(Ne=Ne.pointsTo,L=Ne.name);var nt=f(Q);nt&&(Q=Q.trim());var it,ot,at=Ne.type;if(!at)return null;if(te&&(""===Q||null===Q))return{name:L,value:Q,bypass:!0,deleteBypass:!0};if(g(Q))return{name:L,value:Q,strValue:"fn",mapped:Ue.fn,bypass:te};if(!nt||re||Q.length<7||"a"!==Q[1]);else{if(Q.length>=7&&"d"===Q[0]&&(it=new RegExp(Ue.data.regex).exec(Q))){if(te)return!1;var dt=Ue.data;return{name:L,value:it,strValue:""+Q,mapped:dt,field:it[1],bypass:te}}if(Q.length>=10&&"m"===Q[0]&&(ot=new RegExp(Ue.mapData.regex).exec(Q))){if(te)return!1;if(at.multiple)return!1;var bt=Ue.mapData;if(!at.color&&!at.number)return!1;var sn=this.parse(L,ot[4]);if(!sn||sn.mapped)return!1;var ln=this.parse(L,ot[5]);if(!ln||ln.mapped)return!1;if(sn.pfValue===ln.pfValue||sn.strValue===ln.strValue)return Ve("`"+L+": "+Q+"` is not a valid mapper because the output range is zero; converting to `"+L+": "+sn.strValue+"`"),this.parse(L,sn.strValue);if(at.color){var un=sn.value,cn=ln.value;if(!(un[0]!==cn[0]||un[1]!==cn[1]||un[2]!==cn[2]||un[3]!==cn[3]&&(null!=un[3]&&1!==un[3]||null!=cn[3]&&1!==cn[3])))return!1}return{name:L,value:ot,strValue:""+Q,mapped:bt,field:ot[1],fieldMin:parseFloat(ot[2]),fieldMax:parseFloat(ot[3]),valueMin:sn.value,valueMax:ln.value,bypass:te}}}if(at.multiple&&"multiple"!==re){var dn;if(dn=nt?Q.split(/\s+/):v(Q)?Q:[Q],at.evenMultiple&&dn.length%2!=0)return null;for(var xn=[],Wn=[],Yn=[],Xn="",Kn=!1,ti=0;ti<dn.length;ti++){var ni=this.parse(L,dn[ti],te,"multiple");Kn=Kn||f(ni.value),xn.push(ni.value),Yn.push(null!=ni.pfValue?ni.pfValue:ni.value),Wn.push(ni.units),Xn+=(ti>0?" ":"")+ni.strValue}return at.validate&&!at.validate(xn,Wn)?null:at.singleEnum&&Kn?1===xn.length&&f(xn[0])?{name:L,value:xn[0],strValue:xn[0],bypass:te}:null:{name:L,value:xn,pfValue:Yn,strValue:Xn,bypass:te,units:Wn}}var di,fi,z=function(){for(var re=0;re<at.enums.length;re++)if(at.enums[re]===Q)return{name:L,value:Q,strValue:""+Q,bypass:te};return null};if(at.number){var pi,gi="px";if(at.units&&(pi=at.units),at.implicitUnits&&(gi=at.implicitUnits),!at.unitless)if(nt){var vi="px|em"+(at.allowPercent?"|\\%":"");pi&&(vi=pi);var mi=Q.match("^("+rt+")("+vi+")?$");mi&&(Q=mi[1],pi=mi[2]||gi)}else pi&&!at.implicitUnits||(pi=gi);if(Q=parseFloat(Q),isNaN(Q)&&void 0===at.enums)return null;if(isNaN(Q)&&void 0!==at.enums)return Q=$e,z();if(at.integer&&(!m(fi=Q)||Math.floor(fi)!==fi))return null;if(void 0!==at.min&&(Q<at.min||at.strictMin&&Q===at.min)||void 0!==at.max&&(Q>at.max||at.strictMax&&Q===at.max))return null;var bi={name:L,value:Q,strValue:""+Q+(pi||""),units:pi,bypass:te};return at.unitless||"px"!==pi&&"em"!==pi?bi.pfValue=Q:bi.pfValue="px"!==pi&&pi?this.getEmSizeInPixels()*Q:Q,"ms"!==pi&&"s"!==pi||(bi.pfValue="ms"===pi?Q:1e3*Q),"deg"!==pi&&"rad"!==pi||(bi.pfValue="rad"===pi?Q:(di=Q,Math.PI*di/180)),"%"===pi&&(bi.pfValue=Q/100),bi}if(at.propList){var xi=[],Ti=""+Q;if("none"===Ti);else{for(var Pi=Ti.split(/\s*,\s*|\s+/),Mi=0;Mi<Pi.length;Mi++){var Oi=Pi[Mi].trim();this.properties[Oi]?xi.push(Oi):Ve("`"+Oi+"` is not a valid property name")}if(0===xi.length)return null}return{name:L,value:xi,strValue:0===xi.length?"none":xi.join(" "),bypass:te}}if(at.color){var Li=A(Q);return Li?{name:L,value:Li,pfValue:Li,strValue:"rgb("+Li[0]+","+Li[1]+","+Li[2]+")",bypass:te}:null}if(at.regex||at.regexes){if(at.enums){var ji=z();if(ji)return ji}for(var Ri=at.regexes?at.regexes:[at.regex],Fi=0;Fi<Ri.length;Fi++){var Hi=new RegExp(Ri[Fi]).exec(Q);if(Hi)return{name:L,value:at.singleRegexMatchValue?Hi[1]:Hi,strValue:""+Q,bypass:te}}return null}return at.string?{name:L,value:""+Q,strValue:""+Q,bypass:te}:at.enums?z():null}},Zu=function e(L){if(!(this instanceof e))return new e(L);k(L)?(this._private={cy:L,coreStyle:{}},this.length=0,this.resetToDefault()):Oe("A style must have a core reference")},Ju=Zu.prototype;Ju.instanceString=function(){return"style"},Ju.clear=function(){for(var L=this._private,Q=L.cy.elements(),te=0;te<this.length;te++)this[te]=void 0;return this.length=0,L.contextStyles={},L.propDiffs={},this.cleanElements(Q,!0),Q.forEach((function(L){var Q=L[0]._private;Q.styleDirty=!0,Q.appliedInitStyle=!1})),this},Ju.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Ju.core=function(L){return this._private.coreStyle[L]||this.getDefaultProperty(L)},Ju.selector=function(L){var Q="core"===L?null:new ba(L),te=this.length++;return this[te]={selector:Q,properties:[],mappedProperties:[],index:te},this},Ju.css=function(){var L=this,Q=arguments;if(1===Q.length)for(var te=Q[0],re=0;re<L.properties.length;re++){var Ne=L.properties[re],$e=te[Ne.name];void 0===$e&&($e=te[nt(Ne.name)]),void 0!==$e&&this.cssRule(Ne.name,$e)}else 2===Q.length&&this.cssRule(Q[0],Q[1]);return this},Ju.style=Ju.css,Ju.cssRule=function(L,Q){var te=this.parse(L,Q);if(te){var re=this.length-1;this[re].properties.push(te),this[re].properties[te.name]=te,te.name.match(/pie-(\d+)-background-size/)&&te.value&&(this._private.hasPie=!0),te.mapped&&this[re].mappedProperties.push(te),!this[re].selector&&(this._private.coreStyle[te.name]=te)}return this},Ju.append=function(L){return C(L)?L.appendToStyle(this):v(L)?this.appendFromJson(L):f(L)&&this.appendFromString(L),this},Zu.fromJson=function(L,Q){var te=new Zu(L);return te.fromJson(Q),te},Zu.fromString=function(L,Q){return new Zu(L).fromString(Q)},[zu,Ru,Fu,Hu,Vu,$u,Uu,Ku].forEach((function(L){ot(Ju,L)})),Zu.types=Ju.types,Zu.properties=Ju.properties,Zu.propertyGroups=Ju.propertyGroups,Zu.propertyGroupNames=Ju.propertyGroupNames,Zu.propertyGroupKeys=Ju.propertyGroupKeys;var Qu={style:function(L){return L&&this.setStyle(L).update(),this._private.style},setStyle:function(L){var Q=this._private;return C(L)?Q.style=L.generateStyle(this):v(L)?Q.style=Zu.fromJson(this,L):f(L)?Q.style=Zu.fromString(this,L):Q.style=Zu(this),Q.style},updateStyle:function(){this.mutableElements().updateStyle()}},ec={autolock:function(L){return void 0===L?this._private.autolock:(this._private.autolock=!!L,this)},autoungrabify:function(L){return void 0===L?this._private.autoungrabify:(this._private.autoungrabify=!!L,this)},autounselectify:function(L){return void 0===L?this._private.autounselectify:(this._private.autounselectify=!!L,this)},selectionType:function(L){var Q=this._private;return null==Q.selectionType&&(Q.selectionType="single"),void 0===L?Q.selectionType:("additive"!==L&&"single"!==L||(Q.selectionType=L),this)},panningEnabled:function(L){return void 0===L?this._private.panningEnabled:(this._private.panningEnabled=!!L,this)},userPanningEnabled:function(L){return void 0===L?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!L,this)},zoomingEnabled:function(L){return void 0===L?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!L,this)},userZoomingEnabled:function(L){return void 0===L?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!L,this)},boxSelectionEnabled:function(L){return void 0===L?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!L,this)},pan:function(){var L,Q,te,re,Ne,$e=arguments,Ue=this._private.pan;switch($e.length){case 0:return Ue;case 1:if(f($e[0]))return Ue[L=$e[0]];if(y($e[0])){if(!this._private.panningEnabled)return this;re=(te=$e[0]).x,Ne=te.y,m(re)&&(Ue.x=re),m(Ne)&&(Ue.y=Ne),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;L=$e[0],Q=$e[1],"x"!==L&&"y"!==L||!m(Q)||(Ue[L]=Q),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(L,Q){var te,re,Ne,$e,Ue,tt=arguments,nt=this._private.pan;if(!this._private.panningEnabled)return this;switch(tt.length){case 1:y(L)&&($e=(Ne=tt[0]).x,Ue=Ne.y,m($e)&&(nt.x+=$e),m(Ue)&&(nt.y+=Ue),this.emit("pan viewport"));break;case 2:re=Q,"x"!==(te=L)&&"y"!==te||!m(re)||(nt[te]+=re),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(L,Q){var te=this.getFitViewport(L,Q);if(te){var re=this._private;re.zoom=te.zoom,re.pan=te.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(L,Q){if(m(L)&&void 0===Q&&(Q=L,L=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var te,re;if(f(L)){var Ne=L;L=this.$(Ne)}else if(y(re=L)&&m(re.x1)&&m(re.x2)&&m(re.y1)&&m(re.y2)){var $e=L;(te={x1:$e.x1,y1:$e.y1,x2:$e.x2,y2:$e.y2}).w=te.x2-te.x1,te.h=te.y2-te.y1}else x(L)||(L=this.mutableElements());if(!x(L)||!L.empty()){te=te||L.boundingBox();var Ue,tt=this.width(),nt=this.height();if(Q=m(Q)?Q:0,!isNaN(tt)&&!isNaN(nt)&&tt>0&&nt>0&&!isNaN(te.w)&&!isNaN(te.h)&&te.w>0&&te.h>0)return{zoom:Ue=(Ue=(Ue=Math.min((tt-2*Q)/te.w,(nt-2*Q)/te.h))>this._private.maxZoom?this._private.maxZoom:Ue)<this._private.minZoom?this._private.minZoom:Ue,pan:{x:(tt-Ue*(te.x1+te.x2))/2,y:(nt-Ue*(te.y1+te.y2))/2}}}}},zoomRange:function(L,Q){var te=this._private;if(null==Q){var re=L;L=re.min,Q=re.max}return m(L)&&m(Q)&&L<=Q?(te.minZoom=L,te.maxZoom=Q):m(L)&&void 0===Q&&L<=te.maxZoom?te.minZoom=L:m(Q)&&void 0===L&&Q>=te.minZoom&&(te.maxZoom=Q),this},minZoom:function(L){return void 0===L?this._private.minZoom:this.zoomRange({min:L})},maxZoom:function(L){return void 0===L?this._private.maxZoom:this.zoomRange({max:L})},getZoomedViewport:function(L){var Q,te,re=this._private,Ne=re.pan,$e=re.zoom,Ue=!1;if(re.zoomingEnabled||(Ue=!0),m(L)?te=L:y(L)&&(te=L.level,null!=L.position?Q=gt(L.position,$e,Ne):null!=L.renderedPosition&&(Q=L.renderedPosition),null==Q||re.panningEnabled||(Ue=!0)),te=(te=te>re.maxZoom?re.maxZoom:te)<re.minZoom?re.minZoom:te,Ue||!m(te)||te===$e||null!=Q&&(!m(Q.x)||!m(Q.y)))return null;if(null!=Q){var tt=Ne,nt=$e,it=te;return{zoomed:!0,panned:!0,zoom:it,pan:{x:-it/nt*(Q.x-tt.x)+Q.x,y:-it/nt*(Q.y-tt.y)+Q.y}}}return{zoomed:!0,panned:!1,zoom:te,pan:Ne}},zoom:function(L){if(void 0===L)return this._private.zoom;var Q=this.getZoomedViewport(L),te=this._private;return null!=Q&&Q.zoomed?(te.zoom=Q.zoom,Q.panned&&(te.pan.x=Q.pan.x,te.pan.y=Q.pan.y),this.emit("zoom"+(Q.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(L){var Q=this._private,te=!0,re=!0,Ne=[],$e=!1,Ue=!1;if(!L)return this;if(m(L.zoom)||(te=!1),y(L.pan)||(re=!1),!te&&!re)return this;if(te){var tt=L.zoom;tt<Q.minZoom||tt>Q.maxZoom||!Q.zoomingEnabled?$e=!0:(Q.zoom=tt,Ne.push("zoom"))}if(re&&(!$e||!L.cancelOnFailedZoom)&&Q.panningEnabled){var nt=L.pan;m(nt.x)&&(Q.pan.x=nt.x,Ue=!1),m(nt.y)&&(Q.pan.y=nt.y,Ue=!1),Ue||Ne.push("pan")}return Ne.length>0&&(Ne.push("viewport"),this.emit(Ne.join(" ")),this.notify("viewport")),this},center:function(L){var Q=this.getCenterPan(L);return Q&&(this._private.pan=Q,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(L,Q){if(this._private.panningEnabled){if(f(L)){var te=L;L=this.mutableElements().filter(te)}else x(L)||(L=this.mutableElements());if(0!==L.length){var re=L.boundingBox(),Ne=this.width(),$e=this.height();return{x:(Ne-(Q=void 0===Q?this._private.zoom:Q)*(re.x1+re.x2))/2,y:($e-Q*(re.y1+re.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var Q,te,re=this._private,Ne=re.container;return re.sizeCache=re.sizeCache||(Ne?(Q=L.getComputedStyle(Ne),te=function(L){return parseFloat(Q.getPropertyValue(L))},{width:Ne.clientWidth-te("padding-left")-te("padding-right"),height:Ne.clientHeight-te("padding-top")-te("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var L=this._private.pan,Q=this._private.zoom,te=this.renderedExtent(),re={x1:(te.x1-L.x)/Q,x2:(te.x2-L.x)/Q,y1:(te.y1-L.y)/Q,y2:(te.y2-L.y)/Q};return re.w=re.x2-re.x1,re.h=re.y2-re.y1,re},renderedExtent:function(){var L=this.width(),Q=this.height();return{x1:0,y1:0,x2:L,y2:Q,w:L,h:Q}},multiClickDebounceTime:function(L){return L?(this._private.multiClickDebounceTime=L,this):this._private.multiClickDebounceTime}};ec.centre=ec.center,ec.autolockNodes=ec.autolock,ec.autoungrabifyNodes=ec.autoungrabify;var tc={data:za.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:za.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:za.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:za.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};tc.attr=tc.data,tc.removeAttr=tc.removeData;var Ns=function(Q){var te=this,re=(Q=ot({},Q)).container;re&&!b(re)&&b(re[0])&&(re=re[0]);var Ne=re?re._cyreg:null;(Ne=Ne||{})&&Ne.cy&&(Ne.cy.destroy(),Ne={});var $e=Ne.readies=Ne.readies||[];re&&(re._cyreg=Ne),Ne.cy=te;var Ue=void 0!==L&&void 0!==re&&!Q.headless,tt=Q;tt.layout=ot({name:Ue?"grid":"null"},tt.layout),tt.renderer=ot({name:Ue?"canvas":"null"},tt.renderer);var l=function(L,Q,te){return void 0!==Q?Q:void 0!==te?te:L},nt=this._private={container:re,ready:!1,options:tt,elements:new Zo(this),listeners:[],aniEles:new Zo(this),data:tt.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,tt.zoomingEnabled),userZoomingEnabled:l(!0,tt.userZoomingEnabled),panningEnabled:l(!0,tt.panningEnabled),userPanningEnabled:l(!0,tt.userPanningEnabled),boxSelectionEnabled:l(!0,tt.boxSelectionEnabled),autolock:l(!1,tt.autolock,tt.autolockNodes),autoungrabify:l(!1,tt.autoungrabify,tt.autoungrabifyNodes),autounselectify:l(!1,tt.autounselectify),styleEnabled:void 0===tt.styleEnabled?Ue:tt.styleEnabled,zoom:m(tt.zoom)?tt.zoom:1,pan:{x:y(tt.pan)&&m(tt.pan.x)?tt.pan.x:0,y:y(tt.pan)&&m(tt.pan.y)?tt.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,tt.multiClickDebounceTime)};this.createEmitter(),this.selectionType(tt.selectionType),this.zoomRange({min:tt.minZoom,max:tt.maxZoom}),nt.styleEnabled&&te.setStyle([]);var it=ot({},tt,tt.renderer);te.initRenderer(it),function(L,Q){if(L.some(P))return To.all(L).then(Q);Q(L)}([tt.style,tt.elements],(function(L){var Q=L[0],re=L[1];nt.styleEnabled&&te.style().append(Q),function(L,Q,re){te.notifications(!1);var Ne=te.mutableElements();Ne.length>0&&Ne.remove(),null!=L&&(y(L)||v(L))&&te.add(L),te.one("layoutready",(function(L){te.notifications(!0),te.emit(L),te.one("load",Q),te.emitAndNotify("load")})).one("layoutstop",(function(){te.one("done",re),te.emit("done")}));var $e=ot({},te._private.options.layout);$e.eles=te.elements(),te.layout($e).run()}(re,(function(){te.startAnimationLoop(),nt.ready=!0,g(tt.ready)&&te.on("ready",tt.ready);for(var L=0;L<$e.length;L++){var Q=$e[L];te.on("ready",Q)}Ne&&(Ne.readies=[]),te.emit("ready")}),tt.done)}))},nc=Ns.prototype;ot(nc,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(L){return this.isReady()?this.emitter().emit("ready",[],L):this.on("ready",L),this},destroy:function(){var L=this;if(!L.destroyed())return L.stopAnimationLoop(),L.destroyRenderer(),this.emit("destroy"),L._private.destroyed=!0,L},hasElementWithId:function(L){return this._private.elements.hasElementWithId(L)},getElementById:function(L){return this._private.elements.getElementById(L)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(L){return this._private.elements.merge(L),this},removeFromPool:function(L){return this._private.elements.unmerge(L),this},container:function(){return this._private.container||null},mount:function(L){if(null!=L){var Q=this,te=Q._private,re=te.options;return!b(L)&&b(L[0])&&(L=L[0]),Q.stopAnimationLoop(),Q.destroyRenderer(),te.container=L,te.styleEnabled=!0,Q.invalidateSize(),Q.initRenderer(ot({},re,re.renderer,{name:"null"===re.renderer.name?"canvas":re.renderer.name})),Q.startAnimationLoop(),Q.style(re.style),Q.emit("mount"),Q}},unmount:function(){var L=this;return L.stopAnimationLoop(),L.destroyRenderer(),L.initRenderer({name:"null"}),L.emit("unmount"),L},options:function(){return Fe(this._private.options)},json:function(L){var Q=this,te=Q._private,re=Q.mutableElements();if(y(L)){if(Q.startBatch(),L.elements){var Ne={},a=function(L,te){for(var re=[],$e=[],Ue=0;Ue<L.length;Ue++){var tt=L[Ue];if(tt.data.id){var nt=""+tt.data.id,it=Q.getElementById(nt);Ne[nt]=!0,0!==it.length?$e.push({ele:it,json:tt}):te?(tt.group=te,re.push(tt)):re.push(tt)}else Ve("cy.json() cannot handle elements without an ID attribute")}Q.add(re);for(var rt=0;rt<$e.length;rt++){var ot=$e[rt],at=ot.ele,dt=ot.json;at.json(dt)}};if(v(L.elements))a(L.elements);else for(var $e=["nodes","edges"],Ue=0;Ue<$e.length;Ue++){var tt=$e[Ue],nt=L.elements[tt];v(nt)&&a(nt,tt)}var it=Q.collection();re.filter((function(L){return!Ne[L.id()]})).forEach((function(L){L.isParent()?it.merge(L):L.remove()})),it.forEach((function(L){return L.children().move({parent:null})})),it.forEach((function(L){return function(L){return Q.getElementById(L.id())}(L).remove()}))}L.style&&Q.style(L.style),null!=L.zoom&&L.zoom!==te.zoom&&Q.zoom(L.zoom),L.pan&&(L.pan.x===te.pan.x&&L.pan.y===te.pan.y||Q.pan(L.pan)),L.data&&Q.data(L.data);for(var rt=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],ot=0;ot<rt.length;ot++){var at=rt[ot];null!=L[at]&&Q[at](L[at])}return Q.endBatch(),this}var dt={};L?dt.elements=this.elements().map((function(L){return L.json()})):(dt.elements={},re.forEach((function(L){var Q=L.group();dt.elements[Q]||(dt.elements[Q]=[]),dt.elements[Q].push(L.json())}))),this._private.styleEnabled&&(dt.style=Q.style().json()),dt.data=Fe(Q.data());var bt=te.options;return dt.zoomingEnabled=te.zoomingEnabled,dt.userZoomingEnabled=te.userZoomingEnabled,dt.zoom=te.zoom,dt.minZoom=te.minZoom,dt.maxZoom=te.maxZoom,dt.panningEnabled=te.panningEnabled,dt.userPanningEnabled=te.userPanningEnabled,dt.pan=Fe(te.pan),dt.boxSelectionEnabled=te.boxSelectionEnabled,dt.renderer=Fe(bt.renderer),dt.hideEdgesOnViewport=bt.hideEdgesOnViewport,dt.textureOnViewport=bt.textureOnViewport,dt.wheelSensitivity=bt.wheelSensitivity,dt.motionBlur=bt.motionBlur,dt.multiClickDebounceTime=bt.multiClickDebounceTime,dt}}),nc.$id=nc.getElementById,[_u,Eu,Tu,Su,Pu,Mu,Au,Ou,Qu,ec,tc].forEach((function(L){ot(nc,L)}));var ic={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(L,Q){return!0},ready:void 0,stop:void 0,transform:function(L,Q){return Q}},As=function(L){return L.scratch("breadthfirst")},Ls=function(L,Q){return L.scratch("breadthfirst",Q)};function Os(L){this.options=ot({},ic,L)}Os.prototype.run=function(){var L,Q=this.options,te=Q,re=Q.cy,Ne=te.eles,$e=Ne.nodes().filter((function(L){return!L.isParent()})),Ue=Ne,tt=te.directed,nt=te.maximal||te.maximalAdjustments>0,it=Dt(te.boundingBox?te.boundingBox:{x1:0,y1:0,w:re.width(),h:re.height()});if(x(te.roots))L=te.roots;else if(v(te.roots)){for(var rt=[],ot=0;ot<te.roots.length;ot++){var at=te.roots[ot],dt=re.getElementById(at);rt.push(dt)}L=re.collection(rt)}else if(f(te.roots))L=re.$(te.roots);else if(tt)L=$e.roots();else{var bt=Ne.components();L=re.collection();for(var y=function(Q){var te=bt[Q],re=te.maxDegree(!1),Ne=te.filter((function(L){return L.degree(!1)===re}));L=L.add(Ne)},sn=0;sn<bt.length;sn++)y(sn)}var ln=[],un={},E=function(L,Q){null==ln[Q]&&(ln[Q]=[]);var te=ln[Q].length;ln[Q].push(L),Ls(L,{index:te,depth:Q})};Ue.bfs({roots:L,directed:te.directed,visit:function(L,Q,te,re,Ne){var $e=L[0],Ue=$e.id();E($e,Ne),un[Ue]=!0}});for(var cn=[],dn=0;dn<$e.length;dn++){var xn=$e[dn];un[xn.id()]||cn.push(xn)}var P=function(L){for(var Q=ln[L],te=0;te<Q.length;te++){var re=Q[te];null!=re?Ls(re,{depth:L,index:te}):(Q.splice(te,1),te--)}},D=function(){for(var L=0;L<ln.length;L++)P(L)},T=function(L,Q){for(var te=As(L),re=L.incomers().filter((function(L){return L.isNode()&&Ne.has(L)})),$e=-1,Ue=L.id(),tt=0;tt<re.length;tt++){var nt=re[tt],it=As(nt);$e=Math.max($e,it.depth)}return te.depth<=$e&&(Q[Ue]?null:(function(L,Q){var te=As(L),re=te.depth,Ne=te.index;ln[re][Ne]=null,E(L,Q)}(L,$e+1),Q[Ue]=!0,!0))};if(tt&&nt){var Wn=[],Yn={},B=function(L){return Wn.push(L)};for($e.forEach((function(L){return Wn.push(L)}));Wn.length>0;){var Xn=Wn.shift(),Kn=T(Xn,Yn);if(Kn)Xn.outgoers().filter((function(L){return L.isNode()&&Ne.has(L)})).forEach(B);else if(null===Kn){Ve("Detected double maximal shift for node `"+Xn.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}D();var ti=0;if(te.avoidOverlap)for(var ni=0;ni<$e.length;ni++){var di=$e[ni].layoutDimensions(te),fi=di.w,pi=di.h;ti=Math.max(ti,fi,pi)}var gi={},j=function(L){if(gi[L.id()])return gi[L.id()];for(var Q=As(L).depth,te=L.neighborhood(),re=0,Ne=0,Ue=0;Ue<te.length;Ue++){var tt=te[Ue];if(!tt.isEdge()&&!tt.isParent()&&$e.has(tt)){var nt=As(tt);if(null!=nt){var it=nt.index,rt=nt.depth;if(null!=it&&null!=rt){var ot=ln[rt].length;rt<Q&&(re+=it/ot,Ne++)}}}}return re/=Ne=Math.max(1,Ne),0===Ne&&(re=0),gi[L.id()]=re,re},q=function(L,Q){var te=j(L)-j(Q);return 0===te?z(L.id(),Q.id()):te};void 0!==te.depthSort&&(q=te.depthSort);for(var vi=0;vi<ln.length;vi++)ln[vi].sort(q),P(vi);for(var mi=[],bi=0;bi<cn.length;bi++)mi.push(cn[bi]);ln.unshift(mi),D();for(var xi=0,Ti=0;Ti<ln.length;Ti++)xi=Math.max(ln[Ti].length,xi);var Pi=it.x1+it.w/2,Mi=it.x1+it.h/2,Oi=ln.reduce((function(L,Q){return Math.max(L,Q.length)}),0);return Ne.nodes().layoutPositions(this,te,(function(L){var Q=As(L),re=Q.depth,Ne=Q.index,$e=ln[re].length,Ue=Math.max(it.w/((te.grid?Oi:$e)+1),ti),tt=Math.max(it.h/(ln.length+1),ti),nt=Math.min(it.w/2/ln.length,it.h/2/ln.length);if(nt=Math.max(nt,ti),te.circle){var rt=nt*re+nt-(ln.length>0&&ln[0].length<=3?nt/2:0),ot=2*Math.PI/ln[re].length*Ne;return 0===re&&1===ln[0].length&&(rt=1),{x:Pi+rt*Math.cos(ot),y:Mi+rt*Math.sin(ot)}}return{x:Pi+(Ne+1-($e+1)/2)*Ue,y:(re+1)*tt}})),this};var rc={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(L,Q){return!0},ready:void 0,stop:void 0,transform:function(L,Q){return Q}};function Vs(L){this.options=ot({},rc,L)}Vs.prototype.run=function(){var L=this.options,Q=L,te=L.cy,re=Q.eles,Ne=void 0!==Q.counterclockwise?!Q.counterclockwise:Q.clockwise,$e=re.nodes().not(":parent");Q.sort&&($e=$e.sort(Q.sort));for(var Ue,tt=Dt(Q.boundingBox?Q.boundingBox:{x1:0,y1:0,w:te.width(),h:te.height()}),nt=tt.x1+tt.w/2,it=tt.y1+tt.h/2,rt=(void 0===Q.sweep?2*Math.PI-2*Math.PI/$e.length:Q.sweep)/Math.max(1,$e.length-1),ot=0,at=0;at<$e.length;at++){var dt=$e[at].layoutDimensions(Q),bt=dt.w,sn=dt.h;ot=Math.max(ot,bt,sn)}if(Ue=m(Q.radius)?Q.radius:$e.length<=1?0:Math.min(tt.h,tt.w)/2-ot,$e.length>1&&Q.avoidOverlap){ot*=1.75;var ln=Math.cos(rt)-Math.cos(0),un=Math.sin(rt)-Math.sin(0),cn=Math.sqrt(ot*ot/(ln*ln+un*un));Ue=Math.max(cn,Ue)}return re.nodes().layoutPositions(this,Q,(function(L,te){var re=Q.startAngle+te*rt*(Ne?1:-1),$e=Ue*Math.cos(re),tt=Ue*Math.sin(re);return{x:nt+$e,y:it+tt}})),this};var oc,ac={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(L){return L.degree()},levelWidth:function(L){return L.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(L,Q){return!0},ready:void 0,stop:void 0,transform:function(L,Q){return Q}};function qs(L){this.options=ot({},ac,L)}qs.prototype.run=function(){for(var L=this.options,Q=L,te=void 0!==Q.counterclockwise?!Q.counterclockwise:Q.clockwise,re=L.cy,Ne=Q.eles,$e=Ne.nodes().not(":parent"),Ue=Dt(Q.boundingBox?Q.boundingBox:{x1:0,y1:0,w:re.width(),h:re.height()}),tt=Ue.x1+Ue.w/2,nt=Ue.y1+Ue.h/2,it=[],rt=0,ot=0;ot<$e.length;ot++){var at,dt=$e[ot];at=Q.concentric(dt),it.push({value:at,node:dt}),dt._private.scratch.concentric=at}$e.updateStyle();for(var bt=0;bt<$e.length;bt++){var sn=$e[bt].layoutDimensions(Q);rt=Math.max(rt,sn.w,sn.h)}it.sort((function(L,Q){return Q.value-L.value}));for(var ln=Q.levelWidth($e),un=[[]],cn=un[0],dn=0;dn<it.length;dn++){var xn=it[dn];cn.length>0&&Math.abs(cn[0].value-xn.value)>=ln&&(cn=[],un.push(cn)),cn.push(xn)}var Wn=rt+Q.minNodeSpacing;if(!Q.avoidOverlap){var Yn=un.length>0&&un[0].length>1,Xn=(Math.min(Ue.w,Ue.h)/2-Wn)/(un.length+Yn?1:0);Wn=Math.min(Wn,Xn)}for(var Kn=0,ti=0;ti<un.length;ti++){var ni=un[ti],di=void 0===Q.sweep?2*Math.PI-2*Math.PI/ni.length:Q.sweep,fi=ni.dTheta=di/Math.max(1,ni.length-1);if(ni.length>1&&Q.avoidOverlap){var pi=Math.cos(fi)-Math.cos(0),gi=Math.sin(fi)-Math.sin(0),vi=Math.sqrt(Wn*Wn/(pi*pi+gi*gi));Kn=Math.max(vi,Kn)}ni.r=Kn,Kn+=Wn}if(Q.equidistant){for(var mi=0,bi=0,xi=0;xi<un.length;xi++){var Ti=un[xi].r-bi;mi=Math.max(mi,Ti)}bi=0;for(var Pi=0;Pi<un.length;Pi++){var Mi=un[Pi];0===Pi&&(bi=Mi.r),Mi.r=bi,bi+=mi}}for(var Oi={},Li=0;Li<un.length;Li++)for(var ji=un[Li],Ri=ji.dTheta,Fi=ji.r,Hi=0;Hi<ji.length;Hi++){var qi=ji[Hi],Wi=Q.startAngle+(te?1:-1)*Ri*Hi,Vi={x:tt+Fi*Math.cos(Wi),y:nt+Fi*Math.sin(Wi)};Oi[qi.node.id()]=Vi}return Ne.nodes().layoutPositions(this,Q,(function(L){var Q=L.id();return Oi[Q]})),this};var sc={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(L,Q){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(L){return 2048},nodeOverlap:4,idealEdgeLength:function(L){return 32},edgeElasticity:function(L){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Xs(L){this.options=ot({},sc,L),this.options.layout=this}Xs.prototype.run=function(){var L=this.options,Q=L.cy,te=this;te.stopped=!1,!0!==L.animate&&!1!==L.animate||te.emit({type:"layoutstart",layout:te}),oc=!0===L.debug;var re=Ws(Q,te,L);oc&&(void 0)(re),L.randomize&&Gs(re);var Ne=Ti(),a=function(){Zs(re,Q,L),!0===L.fit&&Q.fit(L.padding)},o=function(Q){return!(te.stopped||Q>=L.numIter||($s(re,L),re.temperature=re.temperature*L.coolingFactor,re.temperature<L.minTemp))},s=function(){if(!0===L.animate||!1===L.animate)a(),te.one("layoutstop",L.stop),te.emit({type:"layoutstop",layout:te});else{var Q=L.eles.nodes(),Ne=Us(re,L,Q);Q.layoutPositions(te,L,Ne)}},$e=0,Ue=!0;if(!0===L.animate)!function t(){for(var Q=0;Ue&&Q<L.refresh;)Ue=o($e),$e++,Q++;Ue?(Ti()-Ne>=L.animationThreshold&&a(),me(t)):(ul(re,L),s())}();else{for(;Ue;)Ue=o($e),$e++;ul(re,L),s()}return this},Xs.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Xs.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Ws=function(L,Q,te){for(var re=te.eles.edges(),Ne=te.eles.nodes(),$e={isCompound:L.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:Ne.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:re.size(),temperature:te.initialTemp,clientWidth:L.width(),clientHeight:L.width(),boundingBox:Dt(te.boundingBox?te.boundingBox:{x1:0,y1:0,w:L.width(),h:L.height()})},Ue=te.eles.components(),tt={},nt=0;nt<Ue.length;nt++)for(var it=Ue[nt],rt=0;rt<it.length;rt++)tt[it[rt].id()]=nt;for(nt=0;nt<$e.nodeSize;nt++){var ot=(ln=Ne[nt]).layoutDimensions(te);(mi={}).isLocked=ln.locked(),mi.id=ln.data("id"),mi.parentId=ln.data("parent"),mi.cmptId=tt[ln.id()],mi.children=[],mi.positionX=ln.position("x"),mi.positionY=ln.position("y"),mi.offsetX=0,mi.offsetY=0,mi.height=ot.w,mi.width=ot.h,mi.maxX=mi.positionX+mi.width/2,mi.minX=mi.positionX-mi.width/2,mi.maxY=mi.positionY+mi.height/2,mi.minY=mi.positionY-mi.height/2,mi.padLeft=parseFloat(ln.style("padding")),mi.padRight=parseFloat(ln.style("padding")),mi.padTop=parseFloat(ln.style("padding")),mi.padBottom=parseFloat(ln.style("padding")),mi.nodeRepulsion=g(te.nodeRepulsion)?te.nodeRepulsion(ln):te.nodeRepulsion,$e.layoutNodes.push(mi),$e.idToIndex[mi.id]=nt}var at=[],dt=0,bt=-1,sn=[];for(nt=0;nt<$e.nodeSize;nt++){var ln,un=(ln=$e.layoutNodes[nt]).parentId;null!=un?$e.layoutNodes[$e.idToIndex[un]].children.push(ln.id):(at[++bt]=ln.id,sn.push(ln.id))}for($e.graphSet.push(sn);dt<=bt;){var cn=at[dt++],dn=$e.idToIndex[cn],xn=$e.layoutNodes[dn].children;if(xn.length>0)for($e.graphSet.push(xn),nt=0;nt<xn.length;nt++)at[++bt]=xn[nt]}for(nt=0;nt<$e.graphSet.length;nt++){var Wn=$e.graphSet[nt];for(rt=0;rt<Wn.length;rt++){var Yn=$e.idToIndex[Wn[rt]];$e.indexToGraph[Yn]=nt}}for(nt=0;nt<$e.edgeSize;nt++){var Xn=re[nt],Kn={};Kn.id=Xn.data("id"),Kn.sourceId=Xn.data("source"),Kn.targetId=Xn.data("target");var ti=g(te.idealEdgeLength)?te.idealEdgeLength(Xn):te.idealEdgeLength,ni=g(te.edgeElasticity)?te.edgeElasticity(Xn):te.edgeElasticity,di=$e.idToIndex[Kn.sourceId],fi=$e.idToIndex[Kn.targetId];if($e.indexToGraph[di]!=$e.indexToGraph[fi]){for(var pi=Hs(Kn.sourceId,Kn.targetId,$e),gi=$e.graphSet[pi],vi=0,mi=$e.layoutNodes[di];-1===gi.indexOf(mi.id);)mi=$e.layoutNodes[$e.idToIndex[mi.parentId]],vi++;for(mi=$e.layoutNodes[fi];-1===gi.indexOf(mi.id);)mi=$e.layoutNodes[$e.idToIndex[mi.parentId]],vi++;ti*=vi*te.nestingFactor}Kn.idealLength=ti,Kn.elasticity=ni,$e.layoutEdges.push(Kn)}return $e},Hs=function(L,Q,te){var re=lc(L,Q,0,te);return 2>re.count?0:re.graph},lc=function e(L,Q,te,re){var Ne=re.graphSet[te];if(-1<Ne.indexOf(L)&&-1<Ne.indexOf(Q))return{count:2,graph:te};for(var $e=0,Ue=0;Ue<Ne.length;Ue++){var tt=Ne[Ue],nt=re.idToIndex[tt],it=re.layoutNodes[nt].children;if(0!==it.length){var rt=e(L,Q,re.indexToGraph[re.idToIndex[it[0]]],re);if(0!==rt.count){if(1!==rt.count)return rt;if(2==++$e)break}}}return{count:$e,graph:te}},Gs=function(L,Q){for(var te=L.clientWidth,re=L.clientHeight,Ne=0;Ne<L.nodeSize;Ne++){var $e=L.layoutNodes[Ne];0!==$e.children.length||$e.isLocked||($e.positionX=Math.random()*te,$e.positionY=Math.random()*re)}},Us=function(L,Q,te){var re=L.boundingBox,Ne={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return Q.boundingBox&&(te.forEach((function(Q){var te=L.layoutNodes[L.idToIndex[Q.data("id")]];Ne.x1=Math.min(Ne.x1,te.positionX),Ne.x2=Math.max(Ne.x2,te.positionX),Ne.y1=Math.min(Ne.y1,te.positionY),Ne.y2=Math.max(Ne.y2,te.positionY)})),Ne.w=Ne.x2-Ne.x1,Ne.h=Ne.y2-Ne.y1),function(te,$e){var Ue=L.layoutNodes[L.idToIndex[te.data("id")]];if(Q.boundingBox){var tt=(Ue.positionX-Ne.x1)/Ne.w,nt=(Ue.positionY-Ne.y1)/Ne.h;return{x:re.x1+tt*re.w,y:re.y1+nt*re.h}}return{x:Ue.positionX,y:Ue.positionY}}},Zs=function(L,Q,te){var re=te.layout,Ne=te.eles.nodes(),$e=Us(L,te,Ne);Ne.positions($e),!0!==L.ready&&(L.ready=!0,re.one("layoutready",te.ready),re.emit({type:"layoutready",layout:this}))},$s=function(L,Q,te){Qs(L,Q),rl(L),il(L,Q),al(L),ol(L)},Qs=function(L,Q){for(var te=0;te<L.graphSet.length;te++)for(var re=L.graphSet[te],Ne=re.length,$e=0;$e<Ne;$e++)for(var Ue=L.layoutNodes[L.idToIndex[re[$e]]],tt=$e+1;tt<Ne;tt++){var nt=L.layoutNodes[L.idToIndex[re[tt]]];el(Ue,nt,L,Q)}},Js=function(L){return-L+2*L*Math.random()},el=function(L,Q,te,re){if(L.cmptId===Q.cmptId||te.isCompound){var Ne=Q.positionX-L.positionX,$e=Q.positionY-L.positionY;0===Ne&&0===$e&&(Ne=Js(1),$e=Js(1));var Ue=tl(L,Q,Ne,$e);if(Ue>0)var tt=(it=re.nodeOverlap*Ue)*Ne/(sn=Math.sqrt(Ne*Ne+$e*$e)),nt=it*$e/sn;else{var it,rt=nl(L,Ne,$e),ot=nl(Q,-1*Ne,-1*$e),at=ot.x-rt.x,dt=ot.y-rt.y,bt=at*at+dt*dt,sn=Math.sqrt(bt);tt=(it=(L.nodeRepulsion+Q.nodeRepulsion)/bt)*at/sn,nt=it*dt/sn}L.isLocked||(L.offsetX-=tt,L.offsetY-=nt),Q.isLocked||(Q.offsetX+=tt,Q.offsetY+=nt)}},tl=function(L,Q,te,re){if(te>0)var Ne=L.maxX-Q.minX;else Ne=Q.maxX-L.minX;if(re>0)var $e=L.maxY-Q.minY;else $e=Q.maxY-L.minY;return Ne>=0&&$e>=0?Math.sqrt(Ne*Ne+$e*$e):0},nl=function(L,Q,te){var re=L.positionX,Ne=L.positionY,$e=L.height||1,Ue=L.width||1,tt=te/Q,nt=$e/Ue,it={};return 0===Q&&0<te||0===Q&&0>te?(it.x=re,it.y=Ne+$e/2,it):0<Q&&-1*nt<=tt&&tt<=nt?(it.x=re+Ue/2,it.y=Ne+Ue*te/2/Q,it):0>Q&&-1*nt<=tt&&tt<=nt?(it.x=re-Ue/2,it.y=Ne-Ue*te/2/Q,it):0<te&&(tt<=-1*nt||tt>=nt)?(it.x=re+$e*Q/2/te,it.y=Ne+$e/2,it):0>te&&(tt<=-1*nt||tt>=nt)?(it.x=re-$e*Q/2/te,it.y=Ne-$e/2,it):it},rl=function(L,Q){for(var te=0;te<L.edgeSize;te++){var re=L.layoutEdges[te],Ne=L.idToIndex[re.sourceId],$e=L.layoutNodes[Ne],Ue=L.idToIndex[re.targetId],tt=L.layoutNodes[Ue],nt=tt.positionX-$e.positionX,it=tt.positionY-$e.positionY;if(0!==nt||0!==it){var rt=nl($e,nt,it),ot=nl(tt,-1*nt,-1*it),at=ot.x-rt.x,dt=ot.y-rt.y,bt=Math.sqrt(at*at+dt*dt),sn=Math.pow(re.idealLength-bt,2)/re.elasticity;if(0!==bt)var ln=sn*at/bt,un=sn*dt/bt;else ln=0,un=0;$e.isLocked||($e.offsetX+=ln,$e.offsetY+=un),tt.isLocked||(tt.offsetX-=ln,tt.offsetY-=un)}}},il=function(L,Q){if(0!==Q.gravity)for(var te=0;te<L.graphSet.length;te++){var re=L.graphSet[te],Ne=re.length;if(0===te)var $e=L.clientHeight/2,Ue=L.clientWidth/2;else{var tt=L.layoutNodes[L.idToIndex[re[0]]],nt=L.layoutNodes[L.idToIndex[tt.parentId]];$e=nt.positionX,Ue=nt.positionY}for(var it=0;it<Ne;it++){var rt=L.layoutNodes[L.idToIndex[re[it]]];if(!rt.isLocked){var ot=$e-rt.positionX,at=Ue-rt.positionY,dt=Math.sqrt(ot*ot+at*at);if(dt>1){var bt=Q.gravity*ot/dt,sn=Q.gravity*at/dt;rt.offsetX+=bt,rt.offsetY+=sn}}}}},al=function(L,Q){var te=[],re=0,Ne=-1;for(te.push.apply(te,L.graphSet[0]),Ne+=L.graphSet[0].length;re<=Ne;){var $e=te[re++],Ue=L.idToIndex[$e],tt=L.layoutNodes[Ue],nt=tt.children;if(0<nt.length&&!tt.isLocked){for(var it=tt.offsetX,rt=tt.offsetY,ot=0;ot<nt.length;ot++){var at=L.layoutNodes[L.idToIndex[nt[ot]]];at.offsetX+=it,at.offsetY+=rt,te[++Ne]=nt[ot]}tt.offsetX=0,tt.offsetY=0}}},ol=function(L,Q){for(var te=0;te<L.nodeSize;te++)0<(Ne=L.layoutNodes[te]).children.length&&(Ne.maxX=void 0,Ne.minX=void 0,Ne.maxY=void 0,Ne.minY=void 0);for(te=0;te<L.nodeSize;te++)if(!(0<(Ne=L.layoutNodes[te]).children.length||Ne.isLocked)){var re=sl(Ne.offsetX,Ne.offsetY,L.temperature);Ne.positionX+=re.x,Ne.positionY+=re.y,Ne.offsetX=0,Ne.offsetY=0,Ne.minX=Ne.positionX-Ne.width,Ne.maxX=Ne.positionX+Ne.width,Ne.minY=Ne.positionY-Ne.height,Ne.maxY=Ne.positionY+Ne.height,uc(Ne,L)}for(te=0;te<L.nodeSize;te++){var Ne;0<(Ne=L.layoutNodes[te]).children.length&&!Ne.isLocked&&(Ne.positionX=(Ne.maxX+Ne.minX)/2,Ne.positionY=(Ne.maxY+Ne.minY)/2,Ne.width=Ne.maxX-Ne.minX,Ne.height=Ne.maxY-Ne.minY)}},sl=function(L,Q,te){var re=Math.sqrt(L*L+Q*Q);if(re>te)var Ne={x:te*L/re,y:te*Q/re};else Ne={x:L,y:Q};return Ne},uc=function e(L,Q){var te=L.parentId;if(null!=te){var re=Q.layoutNodes[Q.idToIndex[te]],Ne=!1;return(null==re.maxX||L.maxX+re.padRight>re.maxX)&&(re.maxX=L.maxX+re.padRight,Ne=!0),(null==re.minX||L.minX-re.padLeft<re.minX)&&(re.minX=L.minX-re.padLeft,Ne=!0),(null==re.maxY||L.maxY+re.padBottom>re.maxY)&&(re.maxY=L.maxY+re.padBottom,Ne=!0),(null==re.minY||L.minY-re.padTop<re.minY)&&(re.minY=L.minY-re.padTop,Ne=!0),Ne?e(re,Q):void 0}},ul=function(L,Q){for(var te=L.layoutNodes,re=[],Ne=0;Ne<te.length;Ne++){var $e=te[Ne],Ue=$e.cmptId;(re[Ue]=re[Ue]||[]).push($e)}var tt=0;for(Ne=0;Ne<re.length;Ne++)if(sn=re[Ne]){sn.x1=1/0,sn.x2=-1/0,sn.y1=1/0,sn.y2=-1/0;for(var nt=0;nt<sn.length;nt++){var it=sn[nt];sn.x1=Math.min(sn.x1,it.positionX-it.width/2),sn.x2=Math.max(sn.x2,it.positionX+it.width/2),sn.y1=Math.min(sn.y1,it.positionY-it.height/2),sn.y2=Math.max(sn.y2,it.positionY+it.height/2)}sn.w=sn.x2-sn.x1,sn.h=sn.y2-sn.y1,tt+=sn.w*sn.h}re.sort((function(L,Q){return Q.w*Q.h-L.w*L.h}));var rt=0,ot=0,at=0,dt=0,bt=Math.sqrt(tt)*L.clientWidth/L.clientHeight;for(Ne=0;Ne<re.length;Ne++){var sn;if(sn=re[Ne]){for(nt=0;nt<sn.length;nt++)(it=sn[nt]).isLocked||(it.positionX+=rt-sn.x1,it.positionY+=ot-sn.y1);rt+=sn.w+Q.componentSpacing,at+=sn.w+Q.componentSpacing,dt=Math.max(dt,sn.h),at>bt&&(ot+=dt+Q.componentSpacing,rt=0,at=0,dt=0)}}},cc={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(L){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(L,Q){return!0},ready:void 0,stop:void 0,transform:function(L,Q){return Q}};function dl(L){this.options=ot({},cc,L)}dl.prototype.run=function(){var L=this.options,Q=L,te=L.cy,re=Q.eles,Ne=re.nodes().not(":parent");Q.sort&&(Ne=Ne.sort(Q.sort));var $e=Dt(Q.boundingBox?Q.boundingBox:{x1:0,y1:0,w:te.width(),h:te.height()});if(0===$e.h||0===$e.w)re.nodes().layoutPositions(this,Q,(function(L){return{x:$e.x1,y:$e.y1}}));else{var Ue=Ne.size(),tt=Math.sqrt(Ue*$e.h/$e.w),nt=Math.round(tt),it=Math.round($e.w/$e.h*tt),c=function(L){if(null==L)return Math.min(nt,it);Math.min(nt,it)==nt?nt=L:it=L},d=function(L){if(null==L)return Math.max(nt,it);Math.max(nt,it)==nt?nt=L:it=L},rt=Q.rows,ot=null!=Q.cols?Q.cols:Q.columns;if(null!=rt&&null!=ot)nt=rt,it=ot;else if(null!=rt&&null==ot)nt=rt,it=Math.ceil(Ue/nt);else if(null==rt&&null!=ot)it=ot,nt=Math.ceil(Ue/it);else if(it*nt>Ue){var at=c(),dt=d();(at-1)*dt>=Ue?c(at-1):(dt-1)*at>=Ue&&d(dt-1)}else for(;it*nt<Ue;){var bt=c(),sn=d();(sn+1)*bt>=Ue?d(sn+1):c(bt+1)}var ln=$e.w/it,un=$e.h/nt;if(Q.condense&&(ln=0,un=0),Q.avoidOverlap)for(var cn=0;cn<Ne.length;cn++){var dn=Ne[cn],xn=dn._private.position;null!=xn.x&&null!=xn.y||(xn.x=0,xn.y=0);var Wn=dn.layoutDimensions(Q),Yn=Q.avoidOverlapPadding,Xn=Wn.w+Yn,Kn=Wn.h+Yn;ln=Math.max(ln,Xn),un=Math.max(un,Kn)}for(var ti={},T=function(L,Q){return!!ti["c-"+L+"-"+Q]},_=function(L,Q){ti["c-"+L+"-"+Q]=!0},ni=0,di=0,N=function(){++di>=it&&(di=0,ni++)},fi={},pi=0;pi<Ne.length;pi++){var gi=Ne[pi],vi=Q.position(gi);if(vi&&(void 0!==vi.row||void 0!==vi.col)){var mi={row:vi.row,col:vi.col};if(void 0===mi.col)for(mi.col=0;T(mi.row,mi.col);)mi.col++;else if(void 0===mi.row)for(mi.row=0;T(mi.row,mi.col);)mi.row++;fi[gi.id()]=mi,_(mi.row,mi.col)}}Ne.layoutPositions(this,Q,(function(L,Q){var te,re;if(L.locked()||L.isParent())return!1;var Ne=fi[L.id()];if(Ne)te=Ne.col*ln+ln/2+$e.x1,re=Ne.row*un+un/2+$e.y1;else{for(;T(ni,di);)N();te=di*ln+ln/2+$e.x1,re=ni*un+un/2+$e.y1,_(ni,di),N()}return{x:te,y:re}}))}return this};var hc={ready:function(){},stop:function(){}};function pl(L){this.options=ot({},hc,L)}pl.prototype.run=function(){var L=this.options,Q=L.eles;return L.cy,this.emit("layoutstart"),Q.nodes().positions((function(){return{x:0,y:0}})),this.one("layoutready",L.ready),this.emit("layoutready"),this.one("layoutstop",L.stop),this.emit("layoutstop"),this},pl.prototype.stop=function(){return this};var dc={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(L,Q){return!0},ready:void 0,stop:void 0,transform:function(L,Q){return Q}};function gl(L){this.options=ot({},dc,L)}gl.prototype.run=function(){var L=this.options,Q=L.eles.nodes(),te=g(L.positions);return Q.layoutPositions(this,L,(function(Q,re){var Ne=function(Q){if(null==L.positions)return function(L){return{x:L.x,y:L.y}}(Q.position());if(te)return L.positions(Q);var re=L.positions[Q._private.data.id];return null==re?null:re}(Q);return!Q.locked()&&null!=Ne&&Ne})),this};var fc={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(L,Q){return!0},ready:void 0,stop:void 0,transform:function(L,Q){return Q}};function yl(L){this.options=ot({},fc,L)}yl.prototype.run=function(){var L=this.options,Q=L.cy,te=L.eles,re=Dt(L.boundingBox?L.boundingBox:{x1:0,y1:0,w:Q.width(),h:Q.height()});return te.nodes().layoutPositions(this,L,(function(L,Q){return{x:re.x1+Math.round(Math.random()*re.w),y:re.y1+Math.round(Math.random()*re.h)}})),this};var pc=[{name:"breadthfirst",impl:Os},{name:"circle",impl:Vs},{name:"concentric",impl:qs},{name:"cose",impl:Xs},{name:"grid",impl:dl},{name:"null",impl:pl},{name:"preset",impl:gl},{name:"random",impl:yl}];function bl(L){this.options=L,this.notifications=0}var xl=function(){},wl=function(){throw new Error("A headless instance can not render images")};bl.prototype={recalculateRenderedStyle:xl,notify:function(){this.notifications++},init:xl,isHeadless:function(){return!0},png:wl,jpg:wl};var gc={arrowShapeWidth:.3,registerArrowShapes:function(){var L=this.arrowShapes={},Q=this,n=function(L,Q,te,re,Ne,$e,Ue){var tt=Ne.x-te/2-Ue,nt=Ne.x+te/2+Ue,it=Ne.y-te/2-Ue,rt=Ne.y+te/2+Ue;return tt<=L&&L<=nt&&it<=Q&&Q<=rt},r=function(L,Q,te,re,Ne){var $e=L*Math.cos(re)-Q*Math.sin(re),Ue=(L*Math.sin(re)+Q*Math.cos(re))*te;return{x:$e*te+Ne.x,y:Ue+Ne.y}},i=function(L,Q,te,re){for(var Ne=[],$e=0;$e<L.length;$e+=2){var Ue=L[$e],tt=L[$e+1];Ne.push(r(Ue,tt,Q,te,re))}return Ne},a=function(L){for(var Q=[],te=0;te<L.length;te++){var re=L[te];Q.push(re.x,re.y)}return Q},o=function(L){return L.pstyle("width").pfValue*L.pstyle("arrow-scale").pfValue*2},s=function(te,re){f(re)&&(re=L[re]),L[te]=ot({name:te,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(L,Q,te,re,Ne,$e){var Ue=a(i(this.points,te+2*$e,re,Ne));return Ft(L,Q,Ue)},roughCollide:n,draw:function(L,te,re,Ne){var $e=i(this.points,te,re,Ne);Q.arrowShapeImpl("polygon")(L,$e)},spacing:function(L){return 0},gap:o},re)};s("none",{collide:Ie,roughCollide:Ie,draw:Le,spacing:Ae,gap:Ae}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:L.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(L,te,re,Ne,$e){var Ue=i(this.points,te,re,Ne),tt=this.controlPoint,nt=r(tt[0],tt[1],te,re,Ne);Q.arrowShapeImpl(this.name)(L,Ue,nt)},gap:function(L){return.8*o(L)}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(L,Q,te,re,Ne,$e,Ue){var tt=a(i(this.points,te+2*Ue,re,Ne)),nt=a(i(this.pointsTee,te+2*Ue,re,Ne));return Ft(L,Q,tt)||Ft(L,Q,nt)},draw:function(L,te,re,Ne,$e){var Ue=i(this.points,te,re,Ne),tt=i(this.pointsTee,te,re,Ne);Q.arrowShapeImpl(this.name)(L,Ue,tt)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(L,Q,te,re,Ne,$e,Ue){var tt=Ne,nt=Math.pow(tt.x-L,2)+Math.pow(tt.y-Q,2)<=Math.pow((te+2*Ue)*this.radius,2),it=a(i(this.points,te+2*Ue,re,Ne));return Ft(L,Q,it)||nt},draw:function(L,te,re,Ne,$e){var Ue=i(this.pointsTr,te,re,Ne);Q.arrowShapeImpl(this.name)(L,Ue,Ne.x,Ne.y,this.radius*te)},spacing:function(L){return Q.getArrowWidth(L.pstyle("width").pfValue,L.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(L,Q){var te=this.baseCrossLinePts.slice(),re=Q/L;return te[3]=te[3]-re,te[5]=te[5]-re,te},collide:function(L,Q,te,re,Ne,$e,Ue){var tt=a(i(this.points,te+2*Ue,re,Ne)),nt=a(i(this.crossLinePts(te,$e),te+2*Ue,re,Ne));return Ft(L,Q,tt)||Ft(L,Q,nt)},draw:function(L,te,re,Ne,$e){var Ue=i(this.points,te,re,Ne),tt=i(this.crossLinePts(te,$e),te,re,Ne);Q.arrowShapeImpl(this.name)(L,Ue,tt)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(L){return.525*o(L)}}),s("circle",{radius:.15,collide:function(L,Q,te,re,Ne,$e,Ue){var tt=Ne;return Math.pow(tt.x-L,2)+Math.pow(tt.y-Q,2)<=Math.pow((te+2*Ue)*this.radius,2)},draw:function(L,te,re,Ne,$e){Q.arrowShapeImpl(this.name)(L,Ne.x,Ne.y,this.radius*te)},spacing:function(L){return Q.getArrowWidth(L.pstyle("width").pfValue,L.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(L){return 1},gap:function(L){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(L){return L.pstyle("width").pfValue*L.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(L){return.95*L.pstyle("width").pfValue*L.pstyle("arrow-scale").value}})}},vc={projectIntoViewport:function(L,Q){var te=this.cy,re=this.findContainerClientCoords(),Ne=re[0],$e=re[1],Ue=re[4],tt=te.pan(),nt=te.zoom();return[((L-Ne)/Ue-tt.x)/nt,((Q-$e)/Ue-tt.y)/nt]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var Q=this.container,te=Q.getBoundingClientRect(),re=L.getComputedStyle(Q),r=function(L){return parseFloat(re.getPropertyValue(L))},Ne=r("padding-left"),$e=r("padding-right"),Ue=r("padding-top"),tt=r("padding-bottom"),nt=r("border-left-width"),it=r("border-right-width"),rt=r("border-top-width"),ot=(r("border-bottom-width"),Q.clientWidth),at=Q.clientHeight,dt=Ne+$e,bt=Ue+tt,sn=nt+it,ln=te.width/(ot+sn),un=ot-dt,cn=at-bt,dn=te.left+Ne+nt,xn=te.top+Ue+rt;return this.containerBB=[dn,xn,un,cn,ln]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(L,Q,te,re){return this.findNearestElements(L,Q,te,re)[0]},findNearestElements:function(L,Q,te,re){var Ne,$e,Ue=this,tt=this,nt=tt.getCachedZSortedEles(),it=[],rt=tt.cy.zoom(),ot=tt.cy.hasCompoundNodes(),at=(re?24:8)/rt,dt=(re?8:2)/rt,bt=(re?8:2)/rt,sn=1/0;function v(L,Q){if(L.isNode()){if($e)return;$e=L,it.push(L)}if(L.isEdge()&&(null==Q||Q<sn))if(Ne){if(Ne.pstyle("z-compound-depth").value===L.pstyle("z-compound-depth").value&&Ne.pstyle("z-compound-depth").value===L.pstyle("z-compound-depth").value)for(var te=0;te<it.length;te++)if(it[te].isEdge()){it[te]=L,Ne=L,sn=null!=Q?Q:sn;break}}else it.push(L),Ne=L,sn=null!=Q?Q:sn}function y(te){var re=te.outerWidth()+2*dt,Ne=te.outerHeight()+2*dt,$e=re/2,nt=Ne/2,it=te.position();if(it.x-$e<=L&&L<=it.x+$e&&it.y-nt<=Q&&Q<=it.y+nt&&tt.nodeShapes[Ue.getNodeShape(te)].checkPoint(L,Q,0,re,Ne,it.x,it.y))return v(te,0),!0}function m(te){var re,Ne=te._private,$e=Ne.rscratch,nt=te.pstyle("width").pfValue,rt=te.pstyle("arrow-scale").value,dt=nt/2+at,bt=dt*dt,sn=2*dt,ln=Ne.source,un=Ne.target;if("segments"===$e.edgeType||"straight"===$e.edgeType||"haystack"===$e.edgeType){for(var cn=$e.allpts,dn=0;dn+3<cn.length;dn+=2)if(Lt(L,Q,cn[dn],cn[dn+1],cn[dn+2],cn[dn+3],sn)&&bt>(re=Vt(L,Q,cn[dn],cn[dn+1],cn[dn+2],cn[dn+3])))return v(te,re),!0}else if("bezier"===$e.edgeType||"multibezier"===$e.edgeType||"self"===$e.edgeType||"compound"===$e.edgeType)for(cn=$e.allpts,dn=0;dn+5<$e.allpts.length;dn+=4)if(Ot(L,Q,cn[dn],cn[dn+1],cn[dn+2],cn[dn+3],cn[dn+4],cn[dn+5],sn)&&bt>(re=Rt(L,Q,cn[dn],cn[dn+1],cn[dn+2],cn[dn+3],cn[dn+4],cn[dn+5])))return v(te,re),!0;ln=ln||Ne.source,un=un||Ne.target;var xn=Ue.getArrowWidth(nt,rt),Wn=[{name:"source",x:$e.arrowStartX,y:$e.arrowStartY,angle:$e.srcArrowAngle},{name:"target",x:$e.arrowEndX,y:$e.arrowEndY,angle:$e.tgtArrowAngle},{name:"mid-source",x:$e.midX,y:$e.midY,angle:$e.midsrcArrowAngle},{name:"mid-target",x:$e.midX,y:$e.midY,angle:$e.midtgtArrowAngle}];for(dn=0;dn<Wn.length;dn++){var Yn=Wn[dn],Xn=tt.arrowShapes[te.pstyle(Yn.name+"-arrow-shape").value],Kn=te.pstyle("width").pfValue;if(Xn.roughCollide(L,Q,xn,Yn.angle,{x:Yn.x,y:Yn.y},Kn,at)&&Xn.collide(L,Q,xn,Yn.angle,{x:Yn.x,y:Yn.y},Kn,at))return v(te),!0}ot&&it.length>0&&(y(ln),y(un))}function b(L,Q,te){return Ke(L,Q,te)}function x(te,re){var Ne,$e=te._private,Ue=bt;Ne=re?re+"-":"",te.boundingBox();var tt=$e.labelBounds[re||"main"],nt=te.pstyle(Ne+"label").value;if("yes"===te.pstyle("text-events").strValue&&nt){var it=b($e.rscratch,"labelX",re),rt=b($e.rscratch,"labelY",re),ot=b($e.rscratch,"labelAngle",re),at=te.pstyle(Ne+"text-margin-x").pfValue,dt=te.pstyle(Ne+"text-margin-y").pfValue,sn=tt.x1-Ue-at,ln=tt.x2+Ue-at,un=tt.y1-Ue-dt,cn=tt.y2+Ue-dt;if(ot){var dn=Math.cos(ot),xn=Math.sin(ot),k=function(L,Q){return{x:(L-=it)*dn-(Q-=rt)*xn+it,y:L*xn+Q*dn+rt}},Wn=k(sn,un),Yn=k(sn,cn),Xn=k(ln,un),Kn=k(ln,cn),ti=[Wn.x+at,Wn.y+dt,Xn.x+at,Xn.y+dt,Kn.x+at,Kn.y+dt,Yn.x+at,Yn.y+dt];if(Ft(L,Q,ti))return v(te),!0}else if(zt(tt,L,Q))return v(te),!0}}te&&(nt=nt.interactive);for(var ln=nt.length-1;ln>=0;ln--){var un=nt[ln];un.isNode()?y(un)||x(un):m(un)||x(un)||x(un,"source")||x(un,"target")}return it},getAllInBox:function(L,Q,te,re){for(var Ne,$e,Ue=this.getCachedZSortedEles().interactive,tt=[],nt=Math.min(L,te),it=Math.max(L,te),rt=Math.min(Q,re),ot=Math.max(Q,re),at=Dt({x1:L=nt,y1:Q=rt,x2:te=it,y2:re=ot}),dt=0;dt<Ue.length;dt++){var bt=Ue[dt];if(bt.isNode()){var sn=bt,ln=sn.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Nt(at,ln)&&!It(ln,at)&&tt.push(sn)}else{var un=bt,cn=un._private,dn=cn.rscratch;if(null!=dn.startX&&null!=dn.startY&&!zt(at,dn.startX,dn.startY))continue;if(null!=dn.endX&&null!=dn.endY&&!zt(at,dn.endX,dn.endY))continue;if("bezier"===dn.edgeType||"multibezier"===dn.edgeType||"self"===dn.edgeType||"compound"===dn.edgeType||"segments"===dn.edgeType||"haystack"===dn.edgeType){for(var xn=cn.rstyle.bezierPts||cn.rstyle.linePts||cn.rstyle.haystackPts,Wn=!0,Yn=0;Yn<xn.length;Yn++)if(Ne=at,$e=xn[Yn],!zt(Ne,$e.x,$e.y)){Wn=!1;break}Wn&&tt.push(un)}else"haystack"!==dn.edgeType&&"straight"!==dn.edgeType||tt.push(un)}}return tt}},mc={calculateArrowAngles:function(L){var Q,te,re,Ne,$e,Ue,tt=L._private.rscratch,nt="haystack"===tt.edgeType,it="bezier"===tt.edgeType,rt="multibezier"===tt.edgeType,ot="segments"===tt.edgeType,at="compound"===tt.edgeType,dt="self"===tt.edgeType;if(nt?(re=tt.haystackPts[0],Ne=tt.haystackPts[1],$e=tt.haystackPts[2],Ue=tt.haystackPts[3]):(re=tt.arrowStartX,Ne=tt.arrowStartY,$e=tt.arrowEndX,Ue=tt.arrowEndY),sn=tt.midX,ln=tt.midY,ot)Q=re-tt.segpts[0],te=Ne-tt.segpts[1];else if(rt||at||dt||it){var bt=tt.allpts;Q=re-Ct(bt[0],bt[2],bt[4],.1),te=Ne-Ct(bt[1],bt[3],bt[5],.1)}else Q=re-sn,te=Ne-ln;tt.srcArrowAngle=mt(Q,te);var sn=tt.midX,ln=tt.midY;if(nt&&(sn=(re+$e)/2,ln=(Ne+Ue)/2),Q=$e-re,te=Ue-Ne,ot)if((bt=tt.allpts).length/2%2==0){var un=(cn=bt.length/2)-2;Q=bt[cn]-bt[un],te=bt[cn+1]-bt[un+1]}else{un=(cn=bt.length/2-1)-2;var cn,dn=cn+2;Q=bt[cn]-bt[un],te=bt[cn+1]-bt[un+1]}else if(rt||at||dt){var xn,Wn,Yn,Xn;if(bt=tt.allpts,tt.ctrlpts.length/2%2==0){var Kn=2+(ti=2+(ni=bt.length/2-1));xn=Ct(bt[ni],bt[ti],bt[Kn],0),Wn=Ct(bt[ni+1],bt[ti+1],bt[Kn+1],0),Yn=Ct(bt[ni],bt[ti],bt[Kn],1e-4),Xn=Ct(bt[ni+1],bt[ti+1],bt[Kn+1],1e-4)}else{var ti,ni;Kn=2+(ti=bt.length/2-1),xn=Ct(bt[ni=ti-2],bt[ti],bt[Kn],.4999),Wn=Ct(bt[ni+1],bt[ti+1],bt[Kn+1],.4999),Yn=Ct(bt[ni],bt[ti],bt[Kn],.5),Xn=Ct(bt[ni+1],bt[ti+1],bt[Kn+1],.5)}Q=Yn-xn,te=Xn-Wn}if(tt.midtgtArrowAngle=mt(Q,te),tt.midDispX=Q,tt.midDispY=te,Q*=-1,te*=-1,ot&&((bt=tt.allpts).length/2%2==0||(Q=-(bt[dn=2+(cn=bt.length/2-1)]-bt[cn]),te=-(bt[dn+1]-bt[cn+1]))),tt.midsrcArrowAngle=mt(Q,te),ot)Q=$e-tt.segpts[tt.segpts.length-2],te=Ue-tt.segpts[tt.segpts.length-1];else if(rt||at||dt||it){var di=(bt=tt.allpts).length;Q=$e-Ct(bt[di-6],bt[di-4],bt[di-2],.9),te=Ue-Ct(bt[di-5],bt[di-3],bt[di-1],.9)}else Q=$e-sn,te=Ue-ln;tt.tgtArrowAngle=mt(Q,te)}};mc.getArrowWidth=mc.getArrowHeight=function(L,Q){var te=this.arrowWidthCache=this.arrowWidthCache||{},re=te[L+", "+Q];return re||(re=Math.max(Math.pow(13.37*L,.9),29)*Q,te[L+", "+Q]=re,re)};var yc={};function Pl(L){var Q=[];if(null!=L){for(var te=0;te<L.length;te+=2){var re=L[te],Ne=L[te+1];Q.push({x:re,y:Ne})}return Q}}yc.findHaystackPoints=function(L){for(var Q=0;Q<L.length;Q++){var te=L[Q],re=te._private,Ne=re.rscratch;if(!Ne.haystack){var $e=2*Math.random()*Math.PI;Ne.source={x:Math.cos($e),y:Math.sin($e)},$e=2*Math.random()*Math.PI,Ne.target={x:Math.cos($e),y:Math.sin($e)}}var Ue=re.source,tt=re.target,nt=Ue.position(),it=tt.position(),rt=Ue.width(),ot=tt.width(),at=Ue.height(),dt=tt.height(),bt=te.pstyle("haystack-radius").value/2;Ne.haystackPts=Ne.allpts=[Ne.source.x*rt*bt+nt.x,Ne.source.y*at*bt+nt.y,Ne.target.x*ot*bt+it.x,Ne.target.y*dt*bt+it.y],Ne.midX=(Ne.allpts[0]+Ne.allpts[2])/2,Ne.midY=(Ne.allpts[1]+Ne.allpts[3])/2,Ne.edgeType="haystack",Ne.haystack=!0,this.storeEdgeProjections(te),this.calculateArrowAngles(te),this.recalculateEdgeLabelProjections(te),this.calculateLabelAngles(te)}},yc.findSegmentsPoints=function(L,Q){var te=L._private.rscratch,re=Q.posPts,Ne=Q.intersectionPts,$e=Q.vectorNormInverse,Ue=L.pstyle("edge-distances").value,tt=L.pstyle("segment-weights"),nt=L.pstyle("segment-distances"),it=Math.min(tt.pfValue.length,nt.pfValue.length);te.edgeType="segments",te.segpts=[];for(var rt=0;rt<it;rt++){var ot=tt.pfValue[rt],at=nt.pfValue[rt],dt=1-ot,bt=ot,sn="node-position"===Ue?re:Ne,ln={x:sn.x1*dt+sn.x2*bt,y:sn.y1*dt+sn.y2*bt};te.segpts.push(ln.x+$e.x*at,ln.y+$e.y*at)}},yc.findLoopPoints=function(L,Q,te,re){var Ne=L._private.rscratch,$e=Q.dirCounts,Ue=Q.srcPos,tt=L.pstyle("control-point-distances"),nt=tt?tt.pfValue[0]:void 0,it=L.pstyle("loop-direction").pfValue,rt=L.pstyle("loop-sweep").pfValue,ot=L.pstyle("control-point-step-size").pfValue;Ne.edgeType="self";var at=te,dt=ot;re&&(at=0,dt=nt);var bt=it-Math.PI/2,sn=bt-rt/2,ln=bt+rt/2,un=String(it+"_"+rt);at=void 0===$e[un]?$e[un]=0:++$e[un],Ne.ctrlpts=[Ue.x+1.4*Math.cos(sn)*dt*(at/3+1),Ue.y+1.4*Math.sin(sn)*dt*(at/3+1),Ue.x+1.4*Math.cos(ln)*dt*(at/3+1),Ue.y+1.4*Math.sin(ln)*dt*(at/3+1)]},yc.findCompoundLoopPoints=function(L,Q,te,re){var Ne=L._private.rscratch;Ne.edgeType="compound";var $e=Q.srcPos,Ue=Q.tgtPos,tt=Q.srcW,nt=Q.srcH,it=Q.tgtW,rt=Q.tgtH,ot=L.pstyle("control-point-step-size").pfValue,at=L.pstyle("control-point-distances"),dt=at?at.pfValue[0]:void 0,bt=te,sn=ot;re&&(bt=0,sn=dt);var ln={x:$e.x-tt/2,y:$e.y-nt/2},un={x:Ue.x-it/2,y:Ue.y-rt/2},cn={x:Math.min(ln.x,un.x),y:Math.min(ln.y,un.y)},dn=Math.max(.5,Math.log(.01*tt)),xn=Math.max(.5,Math.log(.01*it));Ne.ctrlpts=[cn.x,cn.y-(1+Math.pow(50,1.12)/100)*sn*(bt/3+1)*dn,cn.x-(1+Math.pow(50,1.12)/100)*sn*(bt/3+1)*xn,cn.y]},yc.findStraightEdgePoints=function(L){L._private.rscratch.edgeType="straight"},yc.findBezierPoints=function(L,Q,te,re,Ne){var $e=L._private.rscratch,Ue=Q.vectorNormInverse,tt=Q.posPts,nt=Q.intersectionPts,it=L.pstyle("edge-distances").value,rt=L.pstyle("control-point-step-size").pfValue,ot=L.pstyle("control-point-distances"),at=L.pstyle("control-point-weights"),dt=ot&&at?Math.min(ot.value.length,at.value.length):1,bt=ot?ot.pfValue[0]:void 0,sn=at.value[0],ln=re;$e.edgeType=ln?"multibezier":"bezier",$e.ctrlpts=[];for(var un=0;un<dt;un++){var cn=(.5-Q.eles.length/2+te)*rt*(Ne?-1:1),dn=void 0,xn=xt(cn);ln&&(bt=ot?ot.pfValue[un]:rt,sn=at.value[un]);var Wn=void 0!==(dn=re?bt:void 0!==bt?xn*bt:void 0)?dn:cn,Yn=1-sn,Xn=sn,Kn="node-position"===it?tt:nt,ti={x:Kn.x1*Yn+Kn.x2*Xn,y:Kn.y1*Yn+Kn.y2*Xn};$e.ctrlpts.push(ti.x+Ue.x*Wn,ti.y+Ue.y*Wn)}},yc.findTaxiPoints=function(L,Q){var te=L._private.rscratch;te.edgeType="segments";var re=Q.posPts,Ne=Q.srcW,$e=Q.srcH,Ue=Q.tgtW,tt=Q.tgtH,nt="node-position"!==L.pstyle("edge-distances").value,it=L.pstyle("taxi-direction").value,rt=it,ot=L.pstyle("taxi-turn"),at="%"===ot.units,dt=ot.pfValue,bt=dt<0,sn=L.pstyle("taxi-turn-min-distance").pfValue,ln=nt?(Ne+Ue)/2:0,un=nt?($e+tt)/2:0,cn=re.x2-re.x1,dn=re.y2-re.y1,x=function(L,Q){return L>0?Math.max(L-Q,0):Math.min(L+Q,0)},xn=x(cn,ln),Wn=x(dn,un),Yn=!1;"auto"===rt?it=Math.abs(xn)>Math.abs(Wn)?"horizontal":"vertical":"upward"===rt||"downward"===rt?(it="vertical",Yn=!0):"leftward"!==rt&&"rightward"!==rt||(it="horizontal",Yn=!0);var Xn,Kn="vertical"===it,ti=Kn?Wn:xn,ni=Kn?dn:cn,di=xt(ni),fi=!1;Yn&&(at||bt)||!("downward"===rt&&ni<0||"upward"===rt&&ni>0||"leftward"===rt&&ni>0||"rightward"===rt&&ni<0)||(ti=(di*=-1)*Math.abs(ti),fi=!0);var M=function(L){return Math.abs(L)<sn||Math.abs(L)>=Math.abs(ti)},pi=M(Xn=at?(dt<0?1+dt:dt)*ti:(dt<0?ti:0)+dt*di),gi=M(Math.abs(ti)-Math.abs(Xn));if(!pi&&!gi||fi)if(Kn){var vi=re.y1+Xn+(nt?$e/2*di:0),mi=re.x1,bi=re.x2;te.segpts=[mi,vi,bi,vi]}else{var xi=re.x1+Xn+(nt?Ne/2*di:0),Ti=re.y1,Pi=re.y2;te.segpts=[xi,Ti,xi,Pi]}else if(Kn){var Mi=Math.abs(ni)<=$e/2,Oi=Math.abs(cn)<=Ue/2;if(Mi){var Li=(re.x1+re.x2)/2,ji=re.y1,Ri=re.y2;te.segpts=[Li,ji,Li,Ri]}else if(Oi){var Fi=(re.y1+re.y2)/2,Hi=re.x1,qi=re.x2;te.segpts=[Hi,Fi,qi,Fi]}else te.segpts=[re.x1,re.y2]}else{var Wi=Math.abs(ni)<=Ne/2,Vi=Math.abs(dn)<=tt/2;if(Wi){var Yi=(re.y1+re.y2)/2,Xi=re.x1,$i=re.x2;te.segpts=[Xi,Yi,$i,Yi]}else if(Vi){var Gi=(re.x1+re.x2)/2,Ui=re.y1,Ki=re.y2;te.segpts=[Gi,Ui,Gi,Ki]}else te.segpts=[re.x2,re.y1]}},yc.tryToCorrectInvalidPoints=function(L,Q){var te=L._private.rscratch;if("bezier"===te.edgeType){var re=Q.srcPos,Ne=Q.tgtPos,$e=Q.srcW,Ue=Q.srcH,tt=Q.tgtW,nt=Q.tgtH,it=Q.srcShape,rt=Q.tgtShape,ot=!m(te.startX)||!m(te.startY),at=!m(te.arrowStartX)||!m(te.arrowStartY),dt=!m(te.endX)||!m(te.endY),bt=!m(te.arrowEndX)||!m(te.arrowEndY),sn=this.getArrowWidth(L.pstyle("width").pfValue,L.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,ln=wt({x:te.ctrlpts[0],y:te.ctrlpts[1]},{x:te.startX,y:te.startY}),un=ln<sn,cn=wt({x:te.ctrlpts[0],y:te.ctrlpts[1]},{x:te.endX,y:te.endY}),dn=cn<sn,xn=!1;if(ot||at||un){xn=!0;var Wn={x:te.ctrlpts[0]-re.x,y:te.ctrlpts[1]-re.y},Yn=Math.sqrt(Wn.x*Wn.x+Wn.y*Wn.y),Xn={x:Wn.x/Yn,y:Wn.y/Yn},Kn=Math.max($e,Ue),ti={x:te.ctrlpts[0]+2*Xn.x*Kn,y:te.ctrlpts[1]+2*Xn.y*Kn},ni=it.intersectLine(re.x,re.y,$e,Ue,ti.x,ti.y,0);un?(te.ctrlpts[0]=te.ctrlpts[0]+Xn.x*(sn-ln),te.ctrlpts[1]=te.ctrlpts[1]+Xn.y*(sn-ln)):(te.ctrlpts[0]=ni[0]+Xn.x*sn,te.ctrlpts[1]=ni[1]+Xn.y*sn)}if(dt||bt||dn){xn=!0;var di={x:te.ctrlpts[0]-Ne.x,y:te.ctrlpts[1]-Ne.y},fi=Math.sqrt(di.x*di.x+di.y*di.y),pi={x:di.x/fi,y:di.y/fi},gi=Math.max($e,Ue),vi={x:te.ctrlpts[0]+2*pi.x*gi,y:te.ctrlpts[1]+2*pi.y*gi},mi=rt.intersectLine(Ne.x,Ne.y,tt,nt,vi.x,vi.y,0);dn?(te.ctrlpts[0]=te.ctrlpts[0]+pi.x*(sn-cn),te.ctrlpts[1]=te.ctrlpts[1]+pi.y*(sn-cn)):(te.ctrlpts[0]=mi[0]+pi.x*sn,te.ctrlpts[1]=mi[1]+pi.y*sn)}xn&&this.findEndpoints(L)}},yc.storeAllpts=function(L){var Q=L._private.rscratch;if("multibezier"===Q.edgeType||"bezier"===Q.edgeType||"self"===Q.edgeType||"compound"===Q.edgeType){Q.allpts=[],Q.allpts.push(Q.startX,Q.startY);for(var te=0;te+1<Q.ctrlpts.length;te+=2)Q.allpts.push(Q.ctrlpts[te],Q.ctrlpts[te+1]),te+3<Q.ctrlpts.length&&Q.allpts.push((Q.ctrlpts[te]+Q.ctrlpts[te+2])/2,(Q.ctrlpts[te+1]+Q.ctrlpts[te+3])/2);var re;Q.allpts.push(Q.endX,Q.endY),Q.ctrlpts.length/2%2==0?(re=Q.allpts.length/2-1,Q.midX=Q.allpts[re],Q.midY=Q.allpts[re+1]):(re=Q.allpts.length/2-3,Q.midX=Ct(Q.allpts[re],Q.allpts[re+2],Q.allpts[re+4],.5),Q.midY=Ct(Q.allpts[re+1],Q.allpts[re+3],Q.allpts[re+5],.5))}else if("straight"===Q.edgeType)Q.allpts=[Q.startX,Q.startY,Q.endX,Q.endY],Q.midX=(Q.startX+Q.endX+Q.arrowStartX+Q.arrowEndX)/4,Q.midY=(Q.startY+Q.endY+Q.arrowStartY+Q.arrowEndY)/4;else if("segments"===Q.edgeType)if(Q.allpts=[],Q.allpts.push(Q.startX,Q.startY),Q.allpts.push.apply(Q.allpts,Q.segpts),Q.allpts.push(Q.endX,Q.endY),Q.segpts.length%4==0){var Ne=Q.segpts.length/2,$e=Ne-2;Q.midX=(Q.segpts[$e]+Q.segpts[Ne])/2,Q.midY=(Q.segpts[$e+1]+Q.segpts[Ne+1])/2}else{var Ue=Q.segpts.length/2-1;Q.midX=Q.segpts[Ue],Q.midY=Q.segpts[Ue+1]}},yc.checkForInvalidEdgeWarning=function(L){var Q=L[0]._private.rscratch;Q.nodesOverlap||m(Q.startX)&&m(Q.startY)&&m(Q.endX)&&m(Q.endY)?Q.loggedErr=!1:Q.loggedErr||(Q.loggedErr=!0,Ve("Edge `"+L.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},yc.findEdgeControlPoints=function(L){var Q=this;if(L&&0!==L.length){for(var te=this,re=te.cy.hasCompoundNodes(),Ne={map:new Fi,get:function(L){var Q=this.map.get(L[0]);return null!=Q?Q.get(L[1]):null},set:function(L,Q){var te=this.map.get(L[0]);null==te&&(te=new Fi,this.map.set(L[0],te)),te.set(L[1],Q)}},$e=[],Ue=[],tt=0;tt<L.length;tt++){var nt=L[tt],it=nt._private,rt=nt.pstyle("curve-style").value;if(!nt.removed()&&nt.takesUpSpace())if("haystack"!==rt){var ot="unbundled-bezier"===rt||"segments"===rt||"straight"===rt||"straight-triangle"===rt||"taxi"===rt,at="unbundled-bezier"===rt||"bezier"===rt,dt=it.source,bt=it.target,sn=[dt.poolIndex(),bt.poolIndex()].sort(),ln=Ne.get(sn);null==ln&&(ln={eles:[]},Ne.set(sn,ln),$e.push(sn)),ln.eles.push(nt),ot&&(ln.hasUnbundled=!0),at&&(ln.hasBezier=!0)}else Ue.push(nt)}for(var y=function(L){var Ue=$e[L],tt=Ne.get(Ue),nt=void 0;if(!tt.hasUnbundled){var it=tt.eles[0].parallelEdges().filter((function(L){return L.isBundledBezier()}));He(tt.eles),it.forEach((function(L){return tt.eles.push(L)})),tt.eles.sort((function(L,Q){return L.poolIndex()-Q.poolIndex()}))}var rt=tt.eles[0],ot=rt.source(),at=rt.target();if(ot.poolIndex()>at.poolIndex()){var dt=ot;ot=at,at=dt}var bt=tt.srcPos=ot.position(),sn=tt.tgtPos=at.position(),ln=tt.srcW=ot.outerWidth(),un=tt.srcH=ot.outerHeight(),cn=tt.tgtW=at.outerWidth(),dn=tt.tgtH=at.outerHeight(),xn=tt.srcShape=te.nodeShapes[Q.getNodeShape(ot)],Wn=tt.tgtShape=te.nodeShapes[Q.getNodeShape(at)];tt.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Yn=0;Yn<tt.eles.length;Yn++){var Xn=tt.eles[Yn],Kn=Xn[0]._private.rscratch,ti=Xn.pstyle("curve-style").value,ni="unbundled-bezier"===ti||"segments"===ti||"taxi"===ti,di=!ot.same(Xn.source());if(!tt.calculatedIntersection&&ot!==at&&(tt.hasBezier||tt.hasUnbundled)){tt.calculatedIntersection=!0;var fi=xn.intersectLine(bt.x,bt.y,ln,un,sn.x,sn.y,0),pi=tt.srcIntn=fi,gi=Wn.intersectLine(sn.x,sn.y,cn,dn,bt.x,bt.y,0),vi=tt.tgtIntn=gi,mi=tt.intersectionPts={x1:fi[0],x2:gi[0],y1:fi[1],y2:gi[1]},bi=tt.posPts={x1:bt.x,x2:sn.x,y1:bt.y,y2:sn.y},xi=gi[1]-fi[1],Ti=gi[0]-fi[0],Pi=Math.sqrt(Ti*Ti+xi*xi),Mi=tt.vector={x:Ti,y:xi},Oi=tt.vectorNorm={x:Mi.x/Pi,y:Mi.y/Pi},Li={x:-Oi.y,y:Oi.x};tt.nodesOverlap=!m(Pi)||Wn.checkPoint(fi[0],fi[1],0,cn,dn,sn.x,sn.y)||xn.checkPoint(gi[0],gi[1],0,ln,un,bt.x,bt.y),tt.vectorNormInverse=Li,nt={nodesOverlap:tt.nodesOverlap,dirCounts:tt.dirCounts,calculatedIntersection:!0,hasBezier:tt.hasBezier,hasUnbundled:tt.hasUnbundled,eles:tt.eles,srcPos:sn,tgtPos:bt,srcW:cn,srcH:dn,tgtW:ln,tgtH:un,srcIntn:vi,tgtIntn:pi,srcShape:Wn,tgtShape:xn,posPts:{x1:bi.x2,y1:bi.y2,x2:bi.x1,y2:bi.y1},intersectionPts:{x1:mi.x2,y1:mi.y2,x2:mi.x1,y2:mi.y1},vector:{x:-Mi.x,y:-Mi.y},vectorNorm:{x:-Oi.x,y:-Oi.y},vectorNormInverse:{x:-Li.x,y:-Li.y}}}var ji=di?nt:tt;Kn.nodesOverlap=ji.nodesOverlap,Kn.srcIntn=ji.srcIntn,Kn.tgtIntn=ji.tgtIntn,re&&(ot.isParent()||ot.isChild()||at.isParent()||at.isChild())&&(ot.parents().anySame(at)||at.parents().anySame(ot)||ot.same(at)&&ot.isParent())?Q.findCompoundLoopPoints(Xn,ji,Yn,ni):ot===at?Q.findLoopPoints(Xn,ji,Yn,ni):"segments"===ti?Q.findSegmentsPoints(Xn,ji):"taxi"===ti?Q.findTaxiPoints(Xn,ji):"straight"===ti||!ni&&tt.eles.length%2==1&&Yn===Math.floor(tt.eles.length/2)?Q.findStraightEdgePoints(Xn):Q.findBezierPoints(Xn,ji,Yn,ni,di),Q.findEndpoints(Xn),Q.tryToCorrectInvalidPoints(Xn,ji),Q.checkForInvalidEdgeWarning(Xn),Q.storeAllpts(Xn),Q.storeEdgeProjections(Xn),Q.calculateArrowAngles(Xn),Q.recalculateEdgeLabelProjections(Xn),Q.calculateLabelAngles(Xn)}},un=0;un<$e.length;un++)y(un);this.findHaystackPoints(Ue)}},yc.getSegmentPoints=function(L){var Q=L[0]._private.rscratch;if("segments"===Q.edgeType)return this.recalculateRenderedStyle(L),Pl(Q.segpts)},yc.getControlPoints=function(L){var Q=L[0]._private.rscratch,te=Q.edgeType;if("bezier"===te||"multibezier"===te||"self"===te||"compound"===te)return this.recalculateRenderedStyle(L),Pl(Q.ctrlpts)},yc.getEdgeMidpoint=function(L){var Q=L[0]._private.rscratch;return this.recalculateRenderedStyle(L),{x:Q.midX,y:Q.midY}};var bc={manualEndptToPx:function(L,Q){var te=L.position(),re=L.outerWidth(),Ne=L.outerHeight();if(2===Q.value.length){var $e=[Q.pfValue[0],Q.pfValue[1]];return"%"===Q.units[0]&&($e[0]=$e[0]*re),"%"===Q.units[1]&&($e[1]=$e[1]*Ne),$e[0]+=te.x,$e[1]+=te.y,$e}var Ue=Q.pfValue[0];Ue=-Math.PI/2+Ue;var tt=2*Math.max(re,Ne),nt=[te.x+Math.cos(Ue)*tt,te.y+Math.sin(Ue)*tt];return this.nodeShapes[this.getNodeShape(L)].intersectLine(te.x,te.y,re,Ne,nt[0],nt[1],0)},findEndpoints:function(L){var Q,te,re,Ne,$e,Ue=this,tt=L.source()[0],nt=L.target()[0],it=tt.position(),rt=nt.position(),ot=L.pstyle("target-arrow-shape").value,at=L.pstyle("source-arrow-shape").value,dt=L.pstyle("target-distance-from-node").pfValue,bt=L.pstyle("source-distance-from-node").pfValue,sn=L.pstyle("curve-style").value,ln=L._private.rscratch,un=ln.edgeType,cn="self"===un||"compound"===un,dn="bezier"===un||"multibezier"===un||cn,xn="bezier"!==un,Wn="straight"===un||"segments"===un,Yn="segments"===un,Xn=dn||xn||Wn,Kn=cn||"taxi"===sn,ti=L.pstyle("source-endpoint"),ni=Kn?"outside-to-node":ti.value,di=L.pstyle("target-endpoint"),fi=Kn?"outside-to-node":di.value;if(ln.srcManEndpt=ti,ln.tgtManEndpt=di,dn){var pi=[ln.ctrlpts[0],ln.ctrlpts[1]];te=xn?[ln.ctrlpts[ln.ctrlpts.length-2],ln.ctrlpts[ln.ctrlpts.length-1]]:pi,re=pi}else if(Wn){var gi=Yn?ln.segpts.slice(0,2):[rt.x,rt.y];te=Yn?ln.segpts.slice(ln.segpts.length-2):[it.x,it.y],re=gi}if("inside-to-node"===fi)Q=[rt.x,rt.y];else if(di.units)Q=this.manualEndptToPx(nt,di);else if("outside-to-line"===fi)Q=ln.tgtIntn;else if("outside-to-node"===fi||"outside-to-node-or-label"===fi?Ne=te:"outside-to-line"!==fi&&"outside-to-line-or-label"!==fi||(Ne=[it.x,it.y]),Q=Ue.nodeShapes[this.getNodeShape(nt)].intersectLine(rt.x,rt.y,nt.outerWidth(),nt.outerHeight(),Ne[0],Ne[1],0),"outside-to-node-or-label"===fi||"outside-to-line-or-label"===fi){var vi=nt._private.rscratch,mi=vi.labelWidth,bi=vi.labelHeight,xi=vi.labelX,Ti=vi.labelY,Pi=mi/2,Mi=bi/2,Oi=nt.pstyle("text-valign").value;"top"===Oi?Ti-=Mi:"bottom"===Oi&&(Ti+=Mi);var Li=nt.pstyle("text-halign").value;"left"===Li?xi-=Pi:"right"===Li&&(xi+=Pi);var ji=Gt(Ne[0],Ne[1],[xi-Pi,Ti-Mi,xi+Pi,Ti-Mi,xi+Pi,Ti+Mi,xi-Pi,Ti+Mi],rt.x,rt.y);if(ji.length>0){var Ri=it,Fi=Et(Ri,yt(Q)),Hi=Et(Ri,yt(ji)),qi=Fi;Hi<Fi&&(Q=ji,qi=Hi),ji.length>2&&Et(Ri,{x:ji[2],y:ji[3]})<qi&&(Q=[ji[2],ji[3]])}}var Wi=Ut(Q,te,Ue.arrowShapes[ot].spacing(L)+dt),Vi=Ut(Q,te,Ue.arrowShapes[ot].gap(L)+dt);if(ln.endX=Vi[0],ln.endY=Vi[1],ln.arrowEndX=Wi[0],ln.arrowEndY=Wi[1],"inside-to-node"===ni)Q=[it.x,it.y];else if(ti.units)Q=this.manualEndptToPx(tt,ti);else if("outside-to-line"===ni)Q=ln.srcIntn;else if("outside-to-node"===ni||"outside-to-node-or-label"===ni?$e=re:"outside-to-line"!==ni&&"outside-to-line-or-label"!==ni||($e=[rt.x,rt.y]),Q=Ue.nodeShapes[this.getNodeShape(tt)].intersectLine(it.x,it.y,tt.outerWidth(),tt.outerHeight(),$e[0],$e[1],0),"outside-to-node-or-label"===ni||"outside-to-line-or-label"===ni){var Yi=tt._private.rscratch,Xi=Yi.labelWidth,$i=Yi.labelHeight,Gi=Yi.labelX,Ui=Yi.labelY,Ki=Xi/2,Zi=$i/2,Ji=tt.pstyle("text-valign").value;"top"===Ji?Ui-=Zi:"bottom"===Ji&&(Ui+=Zi);var Qi=tt.pstyle("text-halign").value;"left"===Qi?Gi-=Ki:"right"===Qi&&(Gi+=Ki);var tr=Gt($e[0],$e[1],[Gi-Ki,Ui-Zi,Gi+Ki,Ui-Zi,Gi+Ki,Ui+Zi,Gi-Ki,Ui+Zi],it.x,it.y);if(tr.length>0){var nr=rt,or=Et(nr,yt(Q)),dr=Et(nr,yt(tr)),gr=or;dr<or&&(Q=[tr[0],tr[1]],gr=dr),tr.length>2&&Et(nr,{x:tr[2],y:tr[3]})<gr&&(Q=[tr[2],tr[3]])}}var vr=Ut(Q,re,Ue.arrowShapes[at].spacing(L)+bt),Er=Ut(Q,re,Ue.arrowShapes[at].gap(L)+bt);ln.startX=Er[0],ln.startY=Er[1],ln.arrowStartX=vr[0],ln.arrowStartY=vr[1],Xn&&(m(ln.startX)&&m(ln.startY)&&m(ln.endX)&&m(ln.endY)?ln.badLine=!1:ln.badLine=!0)},getSourceEndpoint:function(L){var Q=L[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(L),Q.edgeType)?{x:Q.haystackPts[0],y:Q.haystackPts[1]}:{x:Q.arrowStartX,y:Q.arrowStartY}},getTargetEndpoint:function(L){var Q=L[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(L),Q.edgeType)?{x:Q.haystackPts[2],y:Q.haystackPts[3]}:{x:Q.arrowEndX,y:Q.arrowEndY}}},xc={};function _l(L,Q,te){for(var r=function(L,Q,te,re){return Ct(L,Q,te,re)},re=Q._private.rstyle.bezierPts,Ne=0;Ne<L.bezierProjPcts.length;Ne++){var $e=L.bezierProjPcts[Ne];re.push({x:r(te[0],te[2],te[4],$e),y:r(te[1],te[3],te[5],$e)})}}xc.storeEdgeProjections=function(L){var Q=L._private,te=Q.rscratch,re=te.edgeType;if(Q.rstyle.bezierPts=null,Q.rstyle.linePts=null,Q.rstyle.haystackPts=null,"multibezier"===re||"bezier"===re||"self"===re||"compound"===re){Q.rstyle.bezierPts=[];for(var Ne=0;Ne+5<te.allpts.length;Ne+=4)_l(this,L,te.allpts.slice(Ne,Ne+6))}else if("segments"===re){var $e=Q.rstyle.linePts=[];for(Ne=0;Ne+1<te.allpts.length;Ne+=2)$e.push({x:te.allpts[Ne],y:te.allpts[Ne+1]})}else if("haystack"===re){var Ue=te.haystackPts;Q.rstyle.haystackPts=[{x:Ue[0],y:Ue[1]},{x:Ue[2],y:Ue[3]}]}Q.rstyle.arrowWidth=this.getArrowWidth(L.pstyle("width").pfValue,L.pstyle("arrow-scale").value)*this.arrowShapeWidth},xc.recalculateEdgeProjections=function(L){this.findEdgeControlPoints(L)};var wc={recalculateNodeLabelProjection:function(L){var Q=L.pstyle("label").strValue;if(!S(Q)){var te,re,Ne=L._private,$e=L.width(),Ue=L.height(),tt=L.padding(),nt=L.position(),it=L.pstyle("text-halign").strValue,rt=L.pstyle("text-valign").strValue,ot=Ne.rscratch,at=Ne.rstyle;switch(it){case"left":te=nt.x-$e/2-tt;break;case"right":te=nt.x+$e/2+tt;break;default:te=nt.x}switch(rt){case"top":re=nt.y-Ue/2-tt;break;case"bottom":re=nt.y+Ue/2+tt;break;default:re=nt.y}ot.labelX=te,ot.labelY=re,at.labelX=te,at.labelY=re,this.calculateLabelAngles(L),this.applyLabelDimensions(L)}}},Bl=function(L,Q){var te=Math.atan(Q/L);return 0===L&&te<0&&(te*=-1),te},Nl=function(L,Q){var te=Q.x-L.x,re=Q.y-L.y;return Bl(te,re)};wc.recalculateEdgeLabelProjections=function(L){var Q,te=L._private,re=te.rscratch,Ne=this,$e={mid:L.pstyle("label").strValue,source:L.pstyle("source-label").strValue,target:L.pstyle("target-label").strValue};if($e.mid||$e.source||$e.target){Q={x:re.midX,y:re.midY};var o=function(L,Q,re){Ge(te.rscratch,L,Q,re),Ge(te.rstyle,L,Q,re)};o("labelX",null,Q.x),o("labelY",null,Q.y);var Ue=Bl(re.midDispX,re.midDispY);o("labelAutoAngle",null,Ue);var l=function(Ue){var tt,nt="source"===Ue;if($e[Ue]){var it=L.pstyle(Ue+"-text-offset").pfValue;switch(re.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var rt,ot=function e(){if(e.cache)return e.cache;for(var L=[],Q=0;Q+5<re.allpts.length;Q+=4){var $e={x:re.allpts[Q],y:re.allpts[Q+1]},Ue={x:re.allpts[Q+2],y:re.allpts[Q+3]},tt={x:re.allpts[Q+4],y:re.allpts[Q+5]};L.push({p0:$e,p1:Ue,p2:tt,startDist:0,length:0,segments:[]})}var nt=te.rstyle.bezierPts,it=Ne.bezierProjPcts.length;function d(L,Q,te,re,Ne){var $e=wt(Q,te),Ue=L.segments[L.segments.length-1],tt={p0:Q,p1:te,t0:re,t1:Ne,startDist:Ue?Ue.startDist+Ue.length:0,length:$e};L.segments.push(tt),L.length+=$e}for(var rt=0;rt<L.length;rt++){var ot=L[rt],at=L[rt-1];at&&(ot.startDist=at.startDist+at.length),d(ot,ot.p0,nt[rt*it],0,Ne.bezierProjPcts[0]);for(var dt=0;dt<it-1;dt++)d(ot,nt[rt*it+dt],nt[rt*it+dt+1],Ne.bezierProjPcts[dt],Ne.bezierProjPcts[dt+1]);d(ot,nt[rt*it+it-1],ot.p2,Ne.bezierProjPcts[it-1],1)}return e.cache=L}(),at=0,dt=0,bt=0;bt<ot.length;bt++){for(var sn=ot[nt?bt:ot.length-1-bt],ln=0;ln<sn.segments.length;ln++){var un=sn.segments[nt?ln:sn.segments.length-1-ln],cn=bt===ot.length-1&&ln===sn.segments.length-1;if(at=dt,(dt+=un.length)>=it||cn){rt={cp:sn,segment:un};break}}if(rt)break}var dn=rt.cp,xn=rt.segment,Wn=(it-at)/xn.length,Yn=xn.t1-xn.t0,Xn=nt?xn.t0+Yn*Wn:xn.t1-Yn*Wn;Xn=Pt(0,Xn,1),Q=St(dn.p0,dn.p1,dn.p2,Xn),tt=function(L,Q,te,re){var Ne=Pt(0,re-.001,1),$e=Pt(0,re+.001,1),Ue=St(L,Q,te,Ne),tt=St(L,Q,te,$e);return Nl(Ue,tt)}(dn.p0,dn.p1,dn.p2,Xn);break;case"straight":case"segments":case"haystack":for(var Kn,ti,ni,di,fi=0,pi=re.allpts.length,gi=0;gi+3<pi&&(nt?(ni={x:re.allpts[gi],y:re.allpts[gi+1]},di={x:re.allpts[gi+2],y:re.allpts[gi+3]}):(ni={x:re.allpts[pi-2-gi],y:re.allpts[pi-1-gi]},di={x:re.allpts[pi-4-gi],y:re.allpts[pi-3-gi]}),ti=fi,!((fi+=Kn=wt(ni,di))>=it));gi+=2);var vi=(it-ti)/Kn;vi=Pt(0,vi,1),Q=function(L,Q,te,re){var Ne=Q.x-L.x,$e=Q.y-L.y,Ue=wt(L,Q),tt=Ne/Ue,nt=$e/Ue;return te=null==te?0:te,re=null!=re?re:te*Ue,{x:L.x+tt*re,y:L.y+nt*re}}(ni,di,vi),tt=Nl(ni,di)}o("labelX",Ue,Q.x),o("labelY",Ue,Q.y),o("labelAutoAngle",Ue,tt)}};l("source"),l("target"),this.applyLabelDimensions(L)}},wc.applyLabelDimensions=function(L){this.applyPrefixedLabelDimensions(L),L.isEdge()&&(this.applyPrefixedLabelDimensions(L,"source"),this.applyPrefixedLabelDimensions(L,"target"))},wc.applyPrefixedLabelDimensions=function(L,Q){var te=L._private,re=this.getLabelText(L,Q),Ne=this.calculateLabelDimensions(L,re),$e=L.pstyle("line-height").pfValue,Ue=L.pstyle("text-wrap").strValue,tt=Ke(te.rscratch,"labelWrapCachedLines",Q)||[],nt="wrap"!==Ue?1:Math.max(tt.length,1),it=Ne.height/nt,rt=it*$e,ot=Ne.width,at=Ne.height+(nt-1)*($e-1)*it;Ge(te.rstyle,"labelWidth",Q,ot),Ge(te.rscratch,"labelWidth",Q,ot),Ge(te.rstyle,"labelHeight",Q,at),Ge(te.rscratch,"labelHeight",Q,at),Ge(te.rscratch,"labelLineHeight",Q,rt)},wc.getLabelText=function(L,Q){var te=L._private,re=Q?Q+"-":"",Ne=L.pstyle(re+"label").strValue,$e=L.pstyle("text-transform").value,o=function(L,re){return re?(Ge(te.rscratch,L,Q,re),re):Ke(te.rscratch,L,Q)};if(!Ne)return"";"none"==$e||("uppercase"==$e?Ne=Ne.toUpperCase():"lowercase"==$e&&(Ne=Ne.toLowerCase()));var Ue=L.pstyle("text-wrap").value;if("wrap"===Ue){var tt=o("labelKey");if(null!=tt&&o("labelWrapKey")===tt)return o("labelWrapCachedText");for(var nt=Ne.split("\n"),it=L.pstyle("text-max-width").pfValue,rt="anywhere"===L.pstyle("text-overflow-wrap").value,ot=[],at=/[\s\u200b]+/,dt=rt?"":" ",bt=0;bt<nt.length;bt++){var sn=nt[bt],ln=this.calculateLabelDimensions(L,sn).width;if(rt){var un=sn.split("").join("");sn=un}if(ln>it){for(var cn=sn.split(at),dn="",xn=0;xn<cn.length;xn++){var Wn=cn[xn],Yn=0===dn.length?Wn:dn+dt+Wn;this.calculateLabelDimensions(L,Yn).width<=it?dn+=Wn+dt:(dn&&ot.push(dn),dn=Wn+dt)}dn.match(/^[\s\u200b]+$/)||ot.push(dn)}else ot.push(sn)}o("labelWrapCachedLines",ot),Ne=o("labelWrapCachedText",ot.join("\n")),o("labelWrapKey",tt)}else if("ellipsis"===Ue){var Xn=L.pstyle("text-max-width").pfValue,Kn="",ti=!1;if(this.calculateLabelDimensions(L,Ne).width<Xn)return Ne;for(var ni=0;ni<Ne.length&&!(this.calculateLabelDimensions(L,Kn+Ne[ni]+"").width>Xn);ni++)Kn+=Ne[ni],ni===Ne.length-1&&(ti=!0);return ti||(Kn+=""),Kn}return Ne},wc.getLabelJustification=function(L){var Q=L.pstyle("text-justification").strValue,te=L.pstyle("text-halign").strValue;if("auto"!==Q)return Q;if(!L.isNode())return"center";switch(te){case"left":return"right";case"right":return"left";default:return"center"}},wc.calculateLabelDimensions=function(L,Q){var te=Pe(Q,L._private.labelDimsKey),re=this.labelDimCache||(this.labelDimCache=[]),Ne=re[te];if(null!=Ne)return Ne;var $e=L.pstyle("font-style").strValue,Ue=L.pstyle("font-size").pfValue,tt=L.pstyle("font-family").strValue,nt=L.pstyle("font-weight").strValue,it=this.labelCalcCanvas,rt=this.labelCalcCanvasContext;if(!it){it=this.labelCalcCanvas=document.createElement("canvas"),rt=this.labelCalcCanvasContext=it.getContext("2d");var ot=it.style;ot.position="absolute",ot.left="-9999px",ot.top="-9999px",ot.zIndex="-1",ot.visibility="hidden",ot.pointerEvents="none"}rt.font="".concat($e," ").concat(nt," ").concat(Ue,"px ").concat(tt);for(var at=0,dt=0,bt=Q.split("\n"),sn=0;sn<bt.length;sn++){var ln=bt[sn],un=rt.measureText(ln),cn=Math.ceil(un.width),dn=Ue;at=Math.max(cn,at),dt+=dn}return at+=0,dt+=0,re[te]={width:at,height:dt}},wc.calculateLabelAngle=function(L,Q){var te=L._private.rscratch,re=L.isEdge(),Ne=Q?Q+"-":"",$e=L.pstyle(Ne+"text-rotation"),Ue=$e.strValue;return"none"===Ue?0:re&&"autorotate"===Ue?te.labelAutoAngle:"autorotate"===Ue?0:$e.pfValue},wc.calculateLabelAngles=function(L){var Q=this,te=L.isEdge(),re=L._private.rscratch;re.labelAngle=Q.calculateLabelAngle(L),te&&(re.sourceLabelAngle=Q.calculateLabelAngle(L,"source"),re.targetLabelAngle=Q.calculateLabelAngle(L,"target"))};var _c={},kc=!1;_c.getNodeShape=function(L){var Q=L.pstyle("shape").value;if("cutrectangle"===Q&&(L.width()<28||L.height()<28))return kc||(Ve("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),kc=!0),"rectangle";if(L.isParent())return"rectangle"===Q||"roundrectangle"===Q||"round-rectangle"===Q||"cutrectangle"===Q||"cut-rectangle"===Q||"barrel"===Q?Q:"rectangle";if("polygon"===Q){var te=L.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(te).name}return Q};var Cc={registerCalculationListeners:function(){var L=this.cy,Q=L.collection(),te=this,r=function(L){var te=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Q.merge(L),te)for(var re=0;re<L.length;re++){var Ne=L[re]._private.rstyle;Ne.clean=!1,Ne.cleanConnected=!1}};te.binder(L).on("bounds.* dirty.*",(function(L){var Q=L.target;r(Q)})).on("style.* background.*",(function(L){var Q=L.target;r(Q,!1)}));var i=function(re){if(re){var Ne=te.onUpdateEleCalcsFns;Q.cleanStyle();for(var $e=0;$e<Q.length;$e++){var Ue=Q[$e],tt=Ue._private.rstyle;Ue.isNode()&&!tt.cleanConnected&&(r(Ue.connectedEdges()),tt.cleanConnected=!0)}if(Ne)for(var nt=0;nt<Ne.length;nt++)(0,Ne[nt])(re,Q);te.recalculateRenderedStyle(Q),Q=L.collection()}};te.flushRenderedStyleQueue=function(){i(!0)},te.beforeRender(i,te.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(L){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(L)},recalculateRenderedStyle:function(L,Q){var n=function(L){return L._private.rstyle.cleanConnected},te=[],re=[];if(!this.destroyed){void 0===Q&&(Q=!0);for(var Ne=0;Ne<L.length;Ne++){var $e=L[Ne],Ue=$e._private,tt=Ue.rstyle;!$e.isEdge()||n($e.source())&&n($e.target())||(tt.clean=!1),Q&&tt.clean||$e.removed()||"none"!==$e.pstyle("display").value&&("nodes"===Ue.group?re.push($e):te.push($e),tt.clean=!0)}for(var nt=0;nt<re.length;nt++){var it=re[nt],rt=it._private.rstyle,ot=it.position();this.recalculateNodeLabelProjection(it),rt.nodeX=ot.x,rt.nodeY=ot.y,rt.nodeW=it.pstyle("width").pfValue,rt.nodeH=it.pstyle("height").pfValue}this.recalculateEdgeProjections(te);for(var at=0;at<te.length;at++){var dt=te[at]._private,bt=dt.rstyle,sn=dt.rscratch;bt.srcX=sn.arrowStartX,bt.srcY=sn.arrowStartY,bt.tgtX=sn.arrowEndX,bt.tgtY=sn.arrowEndY,bt.midX=sn.midX,bt.midY=sn.midY,bt.labelAngle=sn.labelAngle,bt.sourceLabelAngle=sn.sourceLabelAngle,bt.targetLabelAngle=sn.targetLabelAngle}}}},Ec={updateCachedGrabbedEles:function(){var L=this.cachedZSortedEles;if(L){L.drag=[],L.nondrag=[];for(var Q=[],te=0;te<L.length;te++){var re=(Ne=L[te])._private.rscratch;Ne.grabbed()&&!Ne.isParent()?Q.push(Ne):re.inDragLayer?L.drag.push(Ne):L.nondrag.push(Ne)}for(te=0;te<Q.length;te++){var Ne=Q[te];L.drag.push(Ne)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(L){if(L||!this.cachedZSortedEles){var Q=this.cy.mutableElements().toArray();Q.sort(So),Q.interactive=Q.filter((function(L){return L.interactive()})),this.cachedZSortedEles=Q,this.updateCachedGrabbedEles()}else Q=this.cachedZSortedEles;return Q}},Dc={};[vc,mc,yc,bc,xc,wc,_c,Cc,Ec].forEach((function(L){ot(Dc,L)}));var Tc={getCachedImage:function(L,Q,te){var re=this.imageCache=this.imageCache||{},Ne=re[L];if(Ne)return Ne.image.complete||Ne.image.addEventListener("load",te),Ne.image;var $e=(Ne=re[L]=re[L]||{}).image=new Image;return $e.addEventListener("load",te),$e.addEventListener("error",(function(){$e.error=!0})),"data:"===L.substring(0,"data:".length).toLowerCase()||($e.crossOrigin=Q),$e.src=L,$e}},Sc={registerBinding:function(L,Q,te,re){var Ne=Array.prototype.slice.apply(arguments,[1]),$e=this.binder(L);return $e.on.apply($e,Ne)},binder:function(L){var Q=this,te=L===window||L===document||L===document.body||"undefined"!=typeof HTMLElement&&L instanceof HTMLElement;if(null==Q.supportsPassiveEvents){var re=!1;try{var Ne=Object.defineProperty({},"passive",{get:function(){return re=!0,!0}});window.addEventListener("test",null,Ne)}catch(L){}Q.supportsPassiveEvents=re}var o=function(re,Ne,$e){var Ue=Array.prototype.slice.call(arguments);return te&&Q.supportsPassiveEvents&&(Ue[2]={capture:null!=$e&&$e,passive:!1,once:!1}),Q.bindings.push({target:L,args:Ue}),(L.addEventListener||L.on).apply(L,Ue),this};return{on:o,addEventListener:o,addListener:o,bind:o}},nodeIsDraggable:function(L){return L&&L.isNode()&&!L.locked()&&L.grabbable()},nodeIsGrabbable:function(L){return this.nodeIsDraggable(L)&&L.interactive()},load:function(){var L=this,t=function(L){return L.selected()},n=function(Q,te,re,Ne){null==Q&&(Q=L.cy);for(var $e=0;$e<te.length;$e++){var Ue=te[$e];Q.emit({originalEvent:re,type:Ue,position:Ne})}},r=function(L){return L.shiftKey||L.metaKey||L.ctrlKey},i=function(Q,te){var re=!0;if(L.cy.hasCompoundNodes()&&Q&&Q.pannable()){for(var Ne=0;te&&Ne<te.length;Ne++)if((Q=te[Ne]).isNode()&&Q.isParent()&&!Q.pannable()){re=!1;break}}else re=!0;return re},a=function(L){L[0]._private.rscratch.inDragLayer=!0},o=function(L){L[0]._private.rscratch.isGrabTarget=!0},s=function(L,Q){var te=Q.addToList;te.has(L)||!L.grabbable()||L.locked()||(te.merge(L),function(L){L[0]._private.grabbed=!0}(L))},l=function(Q,te){te=te||{};var re=Q.cy().hasCompoundNodes();te.inDragLayer&&(Q.forEach(a),Q.neighborhood().stdFilter((function(L){return!re||L.isEdge()})).forEach(a)),te.addToList&&Q.forEach((function(L){s(L,te)})),function(L,Q){if(L.cy().hasCompoundNodes()&&(null!=Q.inDragLayer||null!=Q.addToList)){var te=L.descendants();Q.inDragLayer&&(te.forEach(a),te.connectedEdges().forEach(a)),Q.addToList&&s(te,Q)}}(Q,te),d(Q,{inDragLayer:te.inDragLayer}),L.updateCachedGrabbedEles()},Q=l,c=function(Q){Q&&(L.getCachedZSortedEles().forEach((function(L){!function(L){L[0]._private.grabbed=!1}(L),function(L){L[0]._private.rscratch.inDragLayer=!1}(L),function(L){L[0]._private.rscratch.isGrabTarget=!1}(L)})),L.updateCachedGrabbedEles())},d=function(L,Q){if((null!=Q.inDragLayer||null!=Q.addToList)&&L.cy().hasCompoundNodes()){var te=L.ancestors().orphans();if(!te.same(L)){var re=te.descendants().spawnSelf().merge(te).unmerge(L).unmerge(L.descendants()),Ne=re.connectedEdges();Q.inDragLayer&&(Ne.forEach(a),re.forEach(a)),Q.addToList&&re.forEach((function(L){s(L,Q)}))}}},h=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},te="undefined"!=typeof MutationObserver,re="undefined"!=typeof ResizeObserver;te?(L.removeObserver=new MutationObserver((function(Q){for(var te=0;te<Q.length;te++){var re=Q[te].removedNodes;if(re)for(var Ne=0;Ne<re.length;Ne++)if(re[Ne]===L.container){L.destroy();break}}})),L.container.parentNode&&L.removeObserver.observe(L.container.parentNode,{childList:!0})):L.registerBinding(L.container,"DOMNodeRemoved",(function(Q){L.destroy()}));var Ne=fe((function(){L.cy.resize()}),100);te&&(L.styleObserver=new MutationObserver(Ne),L.styleObserver.observe(L.container,{attributes:!0})),L.registerBinding(window,"resize",Ne),re&&(L.resizeObserver=new ResizeObserver(Ne),L.resizeObserver.observe(L.container));var v=function(){L.invalidateContainerClientCoordsCache()};!function(L,Q){for(;null!=L;)Q(L),L=L.parentNode}(L.container,(function(Q){L.registerBinding(Q,"transitionend",v),L.registerBinding(Q,"animationend",v),L.registerBinding(Q,"scroll",v)})),L.registerBinding(L.container,"contextmenu",(function(L){L.preventDefault()}));var $e,Ue,tt,w=function(Q){for(var te=L.findContainerClientCoords(),re=te[0],Ne=te[1],$e=te[2],Ue=te[3],tt=Q.touches?Q.touches:[Q],nt=!1,it=0;it<tt.length;it++){var rt=tt[it];if(re<=rt.clientX&&rt.clientX<=re+$e&&Ne<=rt.clientY&&rt.clientY<=Ne+Ue){nt=!0;break}}if(!nt)return!1;for(var ot=L.container,at=Q.target.parentNode,dt=!1;at;){if(at===ot){dt=!0;break}at=at.parentNode}return!!dt};L.registerBinding(L.container,"mousedown",(function(te){if(w(te)){te.preventDefault(),h(),L.hoverData.capture=!0,L.hoverData.which=te.which;var re=L.cy,Ne=[te.clientX,te.clientY],$e=L.projectIntoViewport(Ne[0],Ne[1]),Ue=L.selection,tt=L.findNearestElements($e[0],$e[1],!0,!1),nt=tt[0],it=L.dragData.possibleDragElements;if(L.hoverData.mdownPos=$e,L.hoverData.mdownGPos=Ne,3==te.which){L.hoverData.cxtStarted=!0;var rt={originalEvent:te,type:"cxttapstart",position:{x:$e[0],y:$e[1]}};nt?(nt.activate(),nt.emit(rt),L.hoverData.down=nt):re.emit(rt),L.hoverData.downTime=(new Date).getTime(),L.hoverData.cxtDragged=!1}else if(1==te.which){if(nt&&nt.activate(),null!=nt&&L.nodeIsGrabbable(nt)){var g=function(L){return{originalEvent:te,type:L,position:{x:$e[0],y:$e[1]}}};if(o(nt),nt.selected()){it=L.dragData.possibleDragElements=re.collection();var ot=re.$((function(Q){return Q.isNode()&&Q.selected()&&L.nodeIsGrabbable(Q)}));l(ot,{addToList:it}),nt.emit(g("grabon")),ot.forEach((function(L){L.emit(g("grab"))}))}else it=L.dragData.possibleDragElements=re.collection(),Q(nt,{addToList:it}),nt.emit(g("grabon")).emit(g("grab"));L.redrawHint("eles",!0),L.redrawHint("drag",!0)}L.hoverData.down=nt,L.hoverData.downs=tt,L.hoverData.downTime=(new Date).getTime(),n(nt,["mousedown","tapstart","vmousedown"],te,{x:$e[0],y:$e[1]}),null==nt?(Ue[4]=1,L.data.bgActivePosistion={x:$e[0],y:$e[1]},L.redrawHint("select",!0),L.redraw()):nt.pannable()&&(Ue[4]=1),L.hoverData.tapholdCancelled=!1,clearTimeout(L.hoverData.tapholdTimeout),L.hoverData.tapholdTimeout=setTimeout((function(){if(!L.hoverData.tapholdCancelled){var Q=L.hoverData.down;Q?Q.emit({originalEvent:te,type:"taphold",position:{x:$e[0],y:$e[1]}}):re.emit({originalEvent:te,type:"taphold",position:{x:$e[0],y:$e[1]}})}}),L.tapholdDuration)}Ue[0]=Ue[2]=$e[0],Ue[1]=Ue[3]=$e[1]}}),!1),L.registerBinding(window,"mousemove",(function(Q){if(L.hoverData.capture||w(Q)){var te=!1,re=L.cy,Ne=re.zoom(),$e=[Q.clientX,Q.clientY],Ue=L.projectIntoViewport($e[0],$e[1]),tt=L.hoverData.mdownPos,nt=L.hoverData.mdownGPos,it=L.selection,rt=null;L.hoverData.draggingEles||L.hoverData.dragging||L.hoverData.selecting||(rt=L.findNearestElement(Ue[0],Ue[1],!0,!1));var ot,at=L.hoverData.last,dt=L.hoverData.down,bt=[Ue[0]-it[2],Ue[1]-it[3]],sn=L.dragData.possibleDragElements;if(nt){var ln=$e[0]-nt[0],un=ln*ln,cn=$e[1]-nt[1],dn=un+cn*cn;L.hoverData.isOverThresholdDrag=ot=dn>=L.desktopTapThreshold2}var xn=r(Q);ot&&(L.hoverData.tapholdCancelled=!0),te=!0,n(rt,["mousemove","vmousemove","tapdrag"],Q,{x:Ue[0],y:Ue[1]});var T=function(){L.data.bgActivePosistion=void 0,L.hoverData.selecting||re.emit({originalEvent:Q,type:"boxstart",position:{x:Ue[0],y:Ue[1]}}),it[4]=1,L.hoverData.selecting=!0,L.redrawHint("select",!0),L.redraw()};if(3===L.hoverData.which){if(ot){var Wn={originalEvent:Q,type:"cxtdrag",position:{x:Ue[0],y:Ue[1]}};dt?dt.emit(Wn):re.emit(Wn),L.hoverData.cxtDragged=!0,L.hoverData.cxtOver&&rt===L.hoverData.cxtOver||(L.hoverData.cxtOver&&L.hoverData.cxtOver.emit({originalEvent:Q,type:"cxtdragout",position:{x:Ue[0],y:Ue[1]}}),L.hoverData.cxtOver=rt,rt&&rt.emit({originalEvent:Q,type:"cxtdragover",position:{x:Ue[0],y:Ue[1]}}))}}else if(L.hoverData.dragging){if(te=!0,re.panningEnabled()&&re.userPanningEnabled()){var Yn;if(L.hoverData.justStartedPan){var Xn=L.hoverData.mdownPos;Yn={x:(Ue[0]-Xn[0])*Ne,y:(Ue[1]-Xn[1])*Ne},L.hoverData.justStartedPan=!1}else Yn={x:bt[0]*Ne,y:bt[1]*Ne};re.panBy(Yn),re.emit("dragpan"),L.hoverData.dragged=!0}Ue=L.projectIntoViewport(Q.clientX,Q.clientY)}else if(1!=it[4]||null!=dt&&!dt.pannable()){if(dt&&dt.pannable()&&dt.active()&&dt.unactivate(),dt&&dt.grabbed()||rt==at||(at&&n(at,["mouseout","tapdragout"],Q,{x:Ue[0],y:Ue[1]}),rt&&n(rt,["mouseover","tapdragover"],Q,{x:Ue[0],y:Ue[1]}),L.hoverData.last=rt),dt)if(ot){if(re.boxSelectionEnabled()&&xn)dt&&dt.grabbed()&&(c(sn),dt.emit("freeon"),sn.emit("free"),L.dragData.didDrag&&(dt.emit("dragfreeon"),sn.emit("dragfree"))),T();else if(dt&&dt.grabbed()&&L.nodeIsDraggable(dt)){var Kn=!L.dragData.didDrag;Kn&&L.redrawHint("eles",!0),L.dragData.didDrag=!0,L.hoverData.draggingEles||l(sn,{inDragLayer:!0});var ti={x:0,y:0};if(m(bt[0])&&m(bt[1])&&(ti.x+=bt[0],ti.y+=bt[1],Kn)){var ni=L.hoverData.dragDelta;ni&&m(ni[0])&&m(ni[1])&&(ti.x+=ni[0],ti.y+=ni[1])}L.hoverData.draggingEles=!0,sn.silentShift(ti).emit("position drag"),L.redrawHint("drag",!0),L.redraw()}}else!function(){var Q=L.hoverData.dragDelta=L.hoverData.dragDelta||[];0===Q.length?(Q.push(bt[0]),Q.push(bt[1])):(Q[0]+=bt[0],Q[1]+=bt[1])}();te=!0}else ot&&(L.hoverData.dragging||!re.boxSelectionEnabled()||!xn&&re.panningEnabled()&&re.userPanningEnabled()?!L.hoverData.selecting&&re.panningEnabled()&&re.userPanningEnabled()&&i(dt,L.hoverData.downs)&&(L.hoverData.dragging=!0,L.hoverData.justStartedPan=!0,it[4]=0,L.data.bgActivePosistion=yt(tt),L.redrawHint("select",!0),L.redraw()):T(),dt&&dt.pannable()&&dt.active()&&dt.unactivate());return it[2]=Ue[0],it[3]=Ue[1],te?(Q.stopPropagation&&Q.stopPropagation(),Q.preventDefault&&Q.preventDefault(),!1):void 0}}),!1),L.registerBinding(window,"mouseup",(function(Q){if(L.hoverData.capture){L.hoverData.capture=!1;var te=L.cy,re=L.projectIntoViewport(Q.clientX,Q.clientY),Ne=L.selection,nt=L.findNearestElement(re[0],re[1],!0,!1),it=L.dragData.possibleDragElements,rt=L.hoverData.down,ot=r(Q);if(L.data.bgActivePosistion&&(L.redrawHint("select",!0),L.redraw()),L.hoverData.tapholdCancelled=!0,L.data.bgActivePosistion=void 0,rt&&rt.unactivate(),3===L.hoverData.which){var at={originalEvent:Q,type:"cxttapend",position:{x:re[0],y:re[1]}};if(rt?rt.emit(at):te.emit(at),!L.hoverData.cxtDragged){var dt={originalEvent:Q,type:"cxttap",position:{x:re[0],y:re[1]}};rt?rt.emit(dt):te.emit(dt)}L.hoverData.cxtDragged=!1,L.hoverData.which=null}else if(1===L.hoverData.which){if(n(nt,["mouseup","tapend","vmouseup"],Q,{x:re[0],y:re[1]}),L.dragData.didDrag||L.hoverData.dragged||L.hoverData.selecting||L.hoverData.isOverThresholdDrag||(n(rt,["click","tap","vclick"],Q,{x:re[0],y:re[1]}),Ue=!1,Q.timeStamp-tt<=te.multiClickDebounceTime()?($e&&clearTimeout($e),Ue=!0,tt=null,n(rt,["dblclick","dbltap","vdblclick"],Q,{x:re[0],y:re[1]})):($e=setTimeout((function(){Ue||n(rt,["oneclick","onetap","voneclick"],Q,{x:re[0],y:re[1]})}),te.multiClickDebounceTime()),tt=Q.timeStamp)),null!=rt||L.dragData.didDrag||L.hoverData.selecting||L.hoverData.dragged||r(Q)||(te.$(t).unselect(["tapunselect"]),it.length>0&&L.redrawHint("eles",!0),L.dragData.possibleDragElements=it=te.collection()),nt!=rt||L.dragData.didDrag||L.hoverData.selecting||null!=nt&&nt._private.selectable&&(L.hoverData.dragging||("additive"===te.selectionType()||ot?nt.selected()?nt.unselect(["tapunselect"]):nt.select(["tapselect"]):ot||(te.$(t).unmerge(nt).unselect(["tapunselect"]),nt.select(["tapselect"]))),L.redrawHint("eles",!0)),L.hoverData.selecting){var bt=te.collection(L.getAllInBox(Ne[0],Ne[1],Ne[2],Ne[3]));L.redrawHint("select",!0),bt.length>0&&L.redrawHint("eles",!0),te.emit({type:"boxend",originalEvent:Q,position:{x:re[0],y:re[1]}});var v=function(L){return L.selectable()&&!L.selected()};"additive"===te.selectionType()||ot||te.$(t).unmerge(bt).unselect(),bt.emit("box").stdFilter(v).select().emit("boxselect"),L.redraw()}if(L.hoverData.dragging&&(L.hoverData.dragging=!1,L.redrawHint("select",!0),L.redrawHint("eles",!0),L.redraw()),!Ne[4]){L.redrawHint("drag",!0),L.redrawHint("eles",!0);var sn=rt&&rt.grabbed();c(it),sn&&(rt.emit("freeon"),it.emit("free"),L.dragData.didDrag&&(rt.emit("dragfreeon"),it.emit("dragfree")))}}Ne[4]=0,L.hoverData.down=null,L.hoverData.cxtStarted=!1,L.hoverData.draggingEles=!1,L.hoverData.selecting=!1,L.hoverData.isOverThresholdDrag=!1,L.dragData.didDrag=!1,L.hoverData.dragged=!1,L.hoverData.dragDelta=[],L.hoverData.mdownPos=null,L.hoverData.mdownGPos=null}}),!1);var nt,it,rt,ot,at,dt,bt,sn,ln,un,cn,dn,xn,A=function(Q){if(!L.scrollingPage){var te=L.cy,re=te.zoom(),Ne=te.pan(),$e=L.projectIntoViewport(Q.clientX,Q.clientY),Ue=[$e[0]*re+Ne.x,$e[1]*re+Ne.y];if(L.hoverData.draggingEles||L.hoverData.dragging||L.hoverData.cxtStarted||0!==L.selection[4])Q.preventDefault();else if(te.panningEnabled()&&te.userPanningEnabled()&&te.zoomingEnabled()&&te.userZoomingEnabled()){var tt;Q.preventDefault(),L.data.wheelZooming=!0,clearTimeout(L.data.wheelTimeout),L.data.wheelTimeout=setTimeout((function(){L.data.wheelZooming=!1,L.redrawHint("eles",!0),L.redraw()}),150),tt=null!=Q.deltaY?Q.deltaY/-250:null!=Q.wheelDeltaY?Q.wheelDeltaY/1e3:Q.wheelDelta/1e3,tt*=L.wheelSensitivity,1===Q.deltaMode&&(tt*=33);var nt=te.zoom()*Math.pow(10,tt);"gesturechange"===Q.type&&(nt=L.gestureStartZoom*Q.scale),te.zoom({level:nt,renderedPosition:{x:Ue[0],y:Ue[1]}}),te.emit("gesturechange"===Q.type?"pinchzoom":"scrollzoom")}}};L.registerBinding(L.container,"wheel",A,!0),L.registerBinding(window,"scroll",(function(Q){L.scrollingPage=!0,clearTimeout(L.scrollingPageTimeout),L.scrollingPageTimeout=setTimeout((function(){L.scrollingPage=!1}),250)}),!0),L.registerBinding(L.container,"gesturestart",(function(Q){L.gestureStartZoom=L.cy.zoom(),L.hasTouchStarted||Q.preventDefault()}),!0),L.registerBinding(L.container,"gesturechange",(function(Q){L.hasTouchStarted||A(Q)}),!0),L.registerBinding(L.container,"mouseout",(function(Q){var te=L.projectIntoViewport(Q.clientX,Q.clientY);L.cy.emit({originalEvent:Q,type:"mouseout",position:{x:te[0],y:te[1]}})}),!1),L.registerBinding(L.container,"mouseover",(function(Q){var te=L.projectIntoViewport(Q.clientX,Q.clientY);L.cy.emit({originalEvent:Q,type:"mouseover",position:{x:te[0],y:te[1]}})}),!1);var Wn,Yn,Xn,Kn,ti,ni,di,Y=function(L,Q,te,re){return Math.sqrt((te-L)*(te-L)+(re-Q)*(re-Q))},X=function(L,Q,te,re){return(te-L)*(te-L)+(re-Q)*(re-Q)};if(L.registerBinding(L.container,"touchstart",Wn=function(te){if(L.hasTouchStarted=!0,w(te)){h(),L.touchData.capture=!0,L.data.bgActivePosistion=void 0;var re=L.cy,Ne=L.touchData.now,$e=L.touchData.earlier;if(te.touches[0]){var Ue=L.projectIntoViewport(te.touches[0].clientX,te.touches[0].clientY);Ne[0]=Ue[0],Ne[1]=Ue[1]}if(te.touches[1]&&(Ue=L.projectIntoViewport(te.touches[1].clientX,te.touches[1].clientY),Ne[2]=Ue[0],Ne[3]=Ue[1]),te.touches[2]&&(Ue=L.projectIntoViewport(te.touches[2].clientX,te.touches[2].clientY),Ne[4]=Ue[0],Ne[5]=Ue[1]),te.touches[1]){L.touchData.singleTouchMoved=!0,c(L.dragData.touchDragEles);var tt=L.findContainerClientCoords();ln=tt[0],un=tt[1],cn=tt[2],dn=tt[3],nt=te.touches[0].clientX-ln,it=te.touches[0].clientY-un,rt=te.touches[1].clientX-ln,ot=te.touches[1].clientY-un,xn=0<=nt&&nt<=cn&&0<=rt&&rt<=cn&&0<=it&&it<=dn&&0<=ot&&ot<=dn;var Wn=re.pan(),Yn=re.zoom();if(at=Y(nt,it,rt,ot),dt=X(nt,it,rt,ot),sn=[((bt=[(nt+rt)/2,(it+ot)/2])[0]-Wn.x)/Yn,(bt[1]-Wn.y)/Yn],dt<4e4&&!te.touches[2]){var Xn=L.findNearestElement(Ne[0],Ne[1],!0,!0),Kn=L.findNearestElement(Ne[2],Ne[3],!0,!0);return Xn&&Xn.isNode()?(Xn.activate().emit({originalEvent:te,type:"cxttapstart",position:{x:Ne[0],y:Ne[1]}}),L.touchData.start=Xn):Kn&&Kn.isNode()?(Kn.activate().emit({originalEvent:te,type:"cxttapstart",position:{x:Ne[0],y:Ne[1]}}),L.touchData.start=Kn):re.emit({originalEvent:te,type:"cxttapstart",position:{x:Ne[0],y:Ne[1]}}),L.touchData.start&&(L.touchData.start._private.grabbed=!1),L.touchData.cxt=!0,L.touchData.cxtDragged=!1,L.data.bgActivePosistion=void 0,void L.redraw()}}if(te.touches[2])re.boxSelectionEnabled()&&te.preventDefault();else if(te.touches[1]);else if(te.touches[0]){var ti=L.findNearestElements(Ne[0],Ne[1],!0,!0),ni=ti[0];if(null!=ni&&(ni.activate(),L.touchData.start=ni,L.touchData.starts=ti,L.nodeIsGrabbable(ni))){var di=L.dragData.touchDragEles=re.collection(),fi=null;L.redrawHint("eles",!0),L.redrawHint("drag",!0),ni.selected()?(fi=re.$((function(Q){return Q.selected()&&L.nodeIsGrabbable(Q)})),l(fi,{addToList:di})):Q(ni,{addToList:di}),o(ni);var A=function(L){return{originalEvent:te,type:L,position:{x:Ne[0],y:Ne[1]}}};ni.emit(A("grabon")),fi?fi.forEach((function(L){L.emit(A("grab"))})):ni.emit(A("grab"))}n(ni,["touchstart","tapstart","vmousedown"],te,{x:Ne[0],y:Ne[1]}),null==ni&&(L.data.bgActivePosistion={x:Ue[0],y:Ue[1]},L.redrawHint("select",!0),L.redraw()),L.touchData.singleTouchMoved=!1,L.touchData.singleTouchStartTime=+new Date,clearTimeout(L.touchData.tapholdTimeout),L.touchData.tapholdTimeout=setTimeout((function(){!1!==L.touchData.singleTouchMoved||L.pinching||L.touchData.selecting||n(L.touchData.start,["taphold"],te,{x:Ne[0],y:Ne[1]})}),L.tapholdDuration)}if(te.touches.length>=1){for(var pi=L.touchData.startPosition=[],gi=0;gi<Ne.length;gi++)pi[gi]=$e[gi]=Ne[gi];var vi=te.touches[0];L.touchData.startGPosition=[vi.clientX,vi.clientY]}}},!1),L.registerBinding(window,"touchmove",Yn=function(Q){var te=L.touchData.capture;if(te||w(Q)){var re=L.selection,Ne=L.cy,$e=L.touchData.now,Ue=L.touchData.earlier,tt=Ne.zoom();if(Q.touches[0]){var bt=L.projectIntoViewport(Q.touches[0].clientX,Q.touches[0].clientY);$e[0]=bt[0],$e[1]=bt[1]}Q.touches[1]&&(bt=L.projectIntoViewport(Q.touches[1].clientX,Q.touches[1].clientY),$e[2]=bt[0],$e[3]=bt[1]),Q.touches[2]&&(bt=L.projectIntoViewport(Q.touches[2].clientX,Q.touches[2].clientY),$e[4]=bt[0],$e[5]=bt[1]);var cn,dn=L.touchData.startGPosition;if(te&&Q.touches[0]&&dn){for(var Wn=[],Yn=0;Yn<$e.length;Yn++)Wn[Yn]=$e[Yn]-Ue[Yn];var Xn=Q.touches[0].clientX-dn[0],Kn=Xn*Xn,ti=Q.touches[0].clientY-dn[1];cn=Kn+ti*ti>=L.touchTapThreshold2}if(te&&L.touchData.cxt){Q.preventDefault();var ni=Q.touches[0].clientX-ln,di=Q.touches[0].clientY-un,fi=Q.touches[1].clientX-ln,pi=Q.touches[1].clientY-un,gi=X(ni,di,fi,pi);if(gi/dt>=2.25||gi>=22500){L.touchData.cxt=!1,L.data.bgActivePosistion=void 0,L.redrawHint("select",!0);var vi={originalEvent:Q,type:"cxttapend",position:{x:$e[0],y:$e[1]}};L.touchData.start?(L.touchData.start.unactivate().emit(vi),L.touchData.start=null):Ne.emit(vi)}}if(te&&L.touchData.cxt){vi={originalEvent:Q,type:"cxtdrag",position:{x:$e[0],y:$e[1]}},L.data.bgActivePosistion=void 0,L.redrawHint("select",!0),L.touchData.start?L.touchData.start.emit(vi):Ne.emit(vi),L.touchData.start&&(L.touchData.start._private.grabbed=!1),L.touchData.cxtDragged=!0;var mi=L.findNearestElement($e[0],$e[1],!0,!0);L.touchData.cxtOver&&mi===L.touchData.cxtOver||(L.touchData.cxtOver&&L.touchData.cxtOver.emit({originalEvent:Q,type:"cxtdragout",position:{x:$e[0],y:$e[1]}}),L.touchData.cxtOver=mi,mi&&mi.emit({originalEvent:Q,type:"cxtdragover",position:{x:$e[0],y:$e[1]}}))}else if(te&&Q.touches[2]&&Ne.boxSelectionEnabled())Q.preventDefault(),L.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,L.touchData.selecting||Ne.emit({originalEvent:Q,type:"boxstart",position:{x:$e[0],y:$e[1]}}),L.touchData.selecting=!0,L.touchData.didSelect=!0,re[4]=1,re&&0!==re.length&&void 0!==re[0]?(re[2]=($e[0]+$e[2]+$e[4])/3,re[3]=($e[1]+$e[3]+$e[5])/3):(re[0]=($e[0]+$e[2]+$e[4])/3,re[1]=($e[1]+$e[3]+$e[5])/3,re[2]=($e[0]+$e[2]+$e[4])/3+1,re[3]=($e[1]+$e[3]+$e[5])/3+1),L.redrawHint("select",!0),L.redraw();else if(te&&Q.touches[1]&&!L.touchData.didSelect&&Ne.zoomingEnabled()&&Ne.panningEnabled()&&Ne.userZoomingEnabled()&&Ne.userPanningEnabled()){if(Q.preventDefault(),L.data.bgActivePosistion=void 0,L.redrawHint("select",!0),Vi=L.dragData.touchDragEles){L.redrawHint("drag",!0);for(var bi=0;bi<Vi.length;bi++){var xi=Vi[bi]._private;xi.grabbed=!1,xi.rscratch.inDragLayer=!1}}var Ti=L.touchData.start,Pi=(ni=Q.touches[0].clientX-ln,di=Q.touches[0].clientY-un,fi=Q.touches[1].clientX-ln,pi=Q.touches[1].clientY-un,Y(ni,di,fi,pi)),Mi=Pi/at;if(xn){var Oi=(ni-nt+(fi-rt))/2,Li=(di-it+(pi-ot))/2,ji=Ne.zoom(),Ri=ji*Mi,Fi=Ne.pan(),Hi=sn[0]*ji+Fi.x,qi=sn[1]*ji+Fi.y,Wi={x:-Ri/ji*(Hi-Fi.x-Oi)+Hi,y:-Ri/ji*(qi-Fi.y-Li)+qi};if(Ti&&Ti.active()){var Vi=L.dragData.touchDragEles;c(Vi),L.redrawHint("drag",!0),L.redrawHint("eles",!0),Ti.unactivate().emit("freeon"),Vi.emit("free"),L.dragData.didDrag&&(Ti.emit("dragfreeon"),Vi.emit("dragfree"))}Ne.viewport({zoom:Ri,pan:Wi,cancelOnFailedZoom:!0}),Ne.emit("pinchzoom"),at=Pi,nt=ni,it=di,rt=fi,ot=pi,L.pinching=!0}Q.touches[0]&&(bt=L.projectIntoViewport(Q.touches[0].clientX,Q.touches[0].clientY),$e[0]=bt[0],$e[1]=bt[1]),Q.touches[1]&&(bt=L.projectIntoViewport(Q.touches[1].clientX,Q.touches[1].clientY),$e[2]=bt[0],$e[3]=bt[1]),Q.touches[2]&&(bt=L.projectIntoViewport(Q.touches[2].clientX,Q.touches[2].clientY),$e[4]=bt[0],$e[5]=bt[1])}else if(Q.touches[0]&&!L.touchData.didSelect){var Yi=L.touchData.start,Xi=L.touchData.last;if(L.hoverData.draggingEles||L.swipePanning||(mi=L.findNearestElement($e[0],$e[1],!0,!0)),te&&null!=Yi&&Q.preventDefault(),te&&null!=Yi&&L.nodeIsDraggable(Yi))if(cn){Vi=L.dragData.touchDragEles;var $i=!L.dragData.didDrag;$i&&l(Vi,{inDragLayer:!0}),L.dragData.didDrag=!0;var Gi={x:0,y:0};m(Wn[0])&&m(Wn[1])&&(Gi.x+=Wn[0],Gi.y+=Wn[1],$i&&(L.redrawHint("eles",!0),(Ui=L.touchData.dragDelta)&&m(Ui[0])&&m(Ui[1])&&(Gi.x+=Ui[0],Gi.y+=Ui[1]))),L.hoverData.draggingEles=!0,Vi.silentShift(Gi).emit("position drag"),L.redrawHint("drag",!0),L.touchData.startPosition[0]==Ue[0]&&L.touchData.startPosition[1]==Ue[1]&&L.redrawHint("eles",!0),L.redraw()}else{var Ui;0===(Ui=L.touchData.dragDelta=L.touchData.dragDelta||[]).length?(Ui.push(Wn[0]),Ui.push(Wn[1])):(Ui[0]+=Wn[0],Ui[1]+=Wn[1])}if(n(Yi||mi,["touchmove","tapdrag","vmousemove"],Q,{x:$e[0],y:$e[1]}),Yi&&Yi.grabbed()||mi==Xi||(Xi&&Xi.emit({originalEvent:Q,type:"tapdragout",position:{x:$e[0],y:$e[1]}}),mi&&mi.emit({originalEvent:Q,type:"tapdragover",position:{x:$e[0],y:$e[1]}})),L.touchData.last=mi,te)for(bi=0;bi<$e.length;bi++)$e[bi]&&L.touchData.startPosition[bi]&&cn&&(L.touchData.singleTouchMoved=!0);te&&(null==Yi||Yi.pannable())&&Ne.panningEnabled()&&Ne.userPanningEnabled()&&(i(Yi,L.touchData.starts)&&(Q.preventDefault(),L.data.bgActivePosistion||(L.data.bgActivePosistion=yt(L.touchData.startPosition)),L.swipePanning?(Ne.panBy({x:Wn[0]*tt,y:Wn[1]*tt}),Ne.emit("dragpan")):cn&&(L.swipePanning=!0,Ne.panBy({x:Xn*tt,y:ti*tt}),Ne.emit("dragpan"),Yi&&(Yi.unactivate(),L.redrawHint("select",!0),L.touchData.start=null))),bt=L.projectIntoViewport(Q.touches[0].clientX,Q.touches[0].clientY),$e[0]=bt[0],$e[1]=bt[1])}for(Yn=0;Yn<$e.length;Yn++)Ue[Yn]=$e[Yn];te&&Q.touches.length>0&&!L.hoverData.draggingEles&&!L.swipePanning&&null!=L.data.bgActivePosistion&&(L.data.bgActivePosistion=void 0,L.redrawHint("select",!0),L.redraw())}},!1),L.registerBinding(window,"touchcancel",Xn=function(Q){var te=L.touchData.start;L.touchData.capture=!1,te&&te.unactivate()}),L.registerBinding(window,"touchend",Kn=function(Q){var te=L.touchData.start;if(L.touchData.capture){0===Q.touches.length&&(L.touchData.capture=!1),Q.preventDefault();var re=L.selection;L.swipePanning=!1,L.hoverData.draggingEles=!1;var Ne,$e=L.cy,Ue=$e.zoom(),tt=L.touchData.now,nt=L.touchData.earlier;if(Q.touches[0]){var it=L.projectIntoViewport(Q.touches[0].clientX,Q.touches[0].clientY);tt[0]=it[0],tt[1]=it[1]}if(Q.touches[1]&&(it=L.projectIntoViewport(Q.touches[1].clientX,Q.touches[1].clientY),tt[2]=it[0],tt[3]=it[1]),Q.touches[2]&&(it=L.projectIntoViewport(Q.touches[2].clientX,Q.touches[2].clientY),tt[4]=it[0],tt[5]=it[1]),te&&te.unactivate(),L.touchData.cxt){if(Ne={originalEvent:Q,type:"cxttapend",position:{x:tt[0],y:tt[1]}},te?te.emit(Ne):$e.emit(Ne),!L.touchData.cxtDragged){var rt={originalEvent:Q,type:"cxttap",position:{x:tt[0],y:tt[1]}};te?te.emit(rt):$e.emit(rt)}return L.touchData.start&&(L.touchData.start._private.grabbed=!1),L.touchData.cxt=!1,L.touchData.start=null,void L.redraw()}if(!Q.touches[2]&&$e.boxSelectionEnabled()&&L.touchData.selecting){L.touchData.selecting=!1;var ot=$e.collection(L.getAllInBox(re[0],re[1],re[2],re[3]));re[0]=void 0,re[1]=void 0,re[2]=void 0,re[3]=void 0,re[4]=0,L.redrawHint("select",!0),$e.emit({type:"boxend",originalEvent:Q,position:{x:tt[0],y:tt[1]}}),ot.emit("box").stdFilter((function(L){return L.selectable()&&!L.selected()})).select().emit("boxselect"),ot.nonempty()&&L.redrawHint("eles",!0),L.redraw()}if(null!=te&&te.unactivate(),Q.touches[2])L.data.bgActivePosistion=void 0,L.redrawHint("select",!0);else if(Q.touches[1]);else if(Q.touches[0]);else if(!Q.touches[0]){L.data.bgActivePosistion=void 0,L.redrawHint("select",!0);var at=L.dragData.touchDragEles;if(null!=te){var dt=te._private.grabbed;c(at),L.redrawHint("drag",!0),L.redrawHint("eles",!0),dt&&(te.emit("freeon"),at.emit("free"),L.dragData.didDrag&&(te.emit("dragfreeon"),at.emit("dragfree"))),n(te,["touchend","tapend","vmouseup","tapdragout"],Q,{x:tt[0],y:tt[1]}),te.unactivate(),L.touchData.start=null}else{var bt=L.findNearestElement(tt[0],tt[1],!0,!0);n(bt,["touchend","tapend","vmouseup","tapdragout"],Q,{x:tt[0],y:tt[1]})}var sn=L.touchData.startPosition[0]-tt[0],ln=sn*sn,un=L.touchData.startPosition[1]-tt[1],cn=(ln+un*un)*Ue*Ue;L.touchData.singleTouchMoved||(te||$e.$(":selected").unselect(["tapunselect"]),n(te,["tap","vclick"],Q,{x:tt[0],y:tt[1]}),ti=!1,Q.timeStamp-di<=$e.multiClickDebounceTime()?(ni&&clearTimeout(ni),ti=!0,di=null,n(te,["dbltap","vdblclick"],Q,{x:tt[0],y:tt[1]})):(ni=setTimeout((function(){ti||n(te,["onetap","voneclick"],Q,{x:tt[0],y:tt[1]})}),$e.multiClickDebounceTime()),di=Q.timeStamp)),null!=te&&!L.dragData.didDrag&&te._private.selectable&&cn<L.touchTapThreshold2&&!L.pinching&&("single"===$e.selectionType()?($e.$(t).unmerge(te).unselect(["tapunselect"]),te.select(["tapselect"])):te.selected()?te.unselect(["tapunselect"]):te.select(["tapselect"]),L.redrawHint("eles",!0)),L.touchData.singleTouchMoved=!0}for(var dn=0;dn<tt.length;dn++)nt[dn]=tt[dn];L.dragData.didDrag=!1,0===Q.touches.length&&(L.touchData.dragDelta=[],L.touchData.startPosition=null,L.touchData.startGPosition=null,L.touchData.didSelect=!1),Q.touches.length<2&&(1===Q.touches.length&&(L.touchData.startGPosition=[Q.touches[0].clientX,Q.touches[0].clientY]),L.pinching=!1,L.redrawHint("eles",!0),L.redraw())}},!1),"undefined"==typeof TouchEvent){var fi=[],H=function(L){return{clientX:L.clientX,clientY:L.clientY,force:1,identifier:L.pointerId,pageX:L.pageX,pageY:L.pageY,radiusX:L.width/2,radiusY:L.height/2,screenX:L.screenX,screenY:L.screenY,target:L.target}},K=function(L){fi.push(function(L){return{event:L,touch:H(L)}}(L))},G=function(L){for(var Q=0;Q<fi.length;Q++)if(fi[Q].event.pointerId===L.pointerId)return void fi.splice(Q,1)},U=function(L){L.touches=fi.map((function(L){return L.touch}))},Z=function(L){return"mouse"===L.pointerType||4===L.pointerType};L.registerBinding(L.container,"pointerdown",(function(L){Z(L)||(L.preventDefault(),K(L),U(L),Wn(L))})),L.registerBinding(L.container,"pointerup",(function(L){Z(L)||(G(L),U(L),Kn(L))})),L.registerBinding(L.container,"pointercancel",(function(L){Z(L)||(G(L),U(L),Xn())})),L.registerBinding(L.container,"pointermove",(function(L){Z(L)||(L.preventDefault(),function(L){var Q=fi.filter((function(Q){return Q.event.pointerId===L.pointerId}))[0];Q.event=L,Q.touch=H(L)}(L),U(L),Yn(L))}))}}},Pc={generatePolygon:function(L,Q){return this.nodeShapes[L]={renderer:this,name:L,points:Q,draw:function(L,Q,te,re,Ne){this.renderer.nodeShapeImpl("polygon",L,Q,te,re,Ne,this.points)},intersectLine:function(L,Q,te,re,Ne,$e,Ue){return Gt(Ne,$e,this.points,L,Q,te/2,re/2,Ue)},checkPoint:function(L,Q,te,re,Ne,$e,Ue){return jt(L,Q,this.points,$e,Ue,re,Ne,[0,-1],te)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(L,Q,te,re,Ne){this.renderer.nodeShapeImpl(this.name,L,Q,te,re,Ne)},intersectLine:function(L,Q,te,re,Ne,$e,Ue){return function(L,Q,te,re,Ne,$e){var Ue=te-L,tt=re-Q;Ue/=Ne,tt/=$e;var nt=Math.sqrt(Ue*Ue+tt*tt),it=nt-1;if(it<0)return[];var rt=it/nt;return[(te-L)*rt+L,(re-Q)*rt+Q]}(Ne,$e,L,Q,te/2+Ue,re/2+Ue)},checkPoint:function(L,Q,te,re,Ne,$e,Ue){return Xt(L,Q,re,Ne,$e,Ue,te)}}},generateRoundPolygon:function(L,Q){for(var te=new Array(2*Q.length),re=0;re<Q.length/2;re++){var Ne=2*re,$e=void 0;$e=re<Q.length/2-1?2*(re+1):0,te[4*re]=Q[Ne],te[4*re+1]=Q[Ne+1];var Ue=Q[$e]-Q[Ne],tt=Q[$e+1]-Q[Ne+1],nt=Math.sqrt(Ue*Ue+tt*tt);te[4*re+2]=Ue/nt,te[4*re+3]=tt/nt}return this.nodeShapes[L]={renderer:this,name:L,points:te,draw:function(L,Q,te,re,Ne){this.renderer.nodeShapeImpl("round-polygon",L,Q,te,re,Ne,this.points)},intersectLine:function(L,Q,te,re,Ne,$e,Ue){return function(L,Q,te,re,Ne,$e,Ue,tt){for(var nt,it=[],rt=new Array(te.length),ot=$e/2,at=Ue/2,dt=en($e,Ue),bt=0;bt<te.length/4;bt++){var sn,ln=void 0;ln=0===bt?te.length-2:4*bt-2,sn=4*bt+2;var un=re+ot*te[4*bt],cn=Ne+at*te[4*bt+1],dn=-te[ln]*te[sn]-te[ln+1]*te[sn+1],xn=dt/Math.tan(Math.acos(dn)/2),Wn=un-xn*te[ln],Yn=cn-xn*te[ln+1],Xn=un+xn*te[sn],Kn=cn+xn*te[sn+1];0===bt?(rt[te.length-2]=Wn,rt[te.length-1]=Yn):(rt[4*bt-2]=Wn,rt[4*bt-1]=Yn),rt[4*bt]=Xn,rt[4*bt+1]=Kn;var ti=te[ln+1],ni=-te[ln];ti*te[sn]+ni*te[sn+1]<0&&(ti*=-1,ni*=-1),0!==(nt=Wt(L,Q,re,Ne,Wn+ti*dt,Yn+ni*dt,dt)).length&&it.push(nt[0],nt[1])}for(var di=0;di<rt.length/4;di++)0!==(nt=Kt(L,Q,re,Ne,rt[4*di],rt[4*di+1],rt[4*di+2],rt[4*di+3],!1)).length&&it.push(nt[0],nt[1]);if(it.length>2){for(var fi=[it[0],it[1]],pi=Math.pow(fi[0]-L,2)+Math.pow(fi[1]-Q,2),gi=1;gi<it.length/2;gi++){var vi=Math.pow(it[2*gi]-L,2)+Math.pow(it[2*gi+1]-Q,2);vi<=pi&&(fi[0]=it[2*gi],fi[1]=it[2*gi+1],pi=vi)}return fi}return it}(Ne,$e,this.points,L,Q,te,re)},checkPoint:function(L,Q,te,re,Ne,$e,Ue){return function(L,Q,te,re,Ne,$e,Ue){for(var tt=new Array(te.length),nt=$e/2,it=Ue/2,rt=en($e,Ue),ot=rt*rt,at=0;at<te.length/4;at++){var dt,bt=void 0;bt=0===at?te.length-2:4*at-2,dt=4*at+2;var sn=re+nt*te[4*at],ln=Ne+it*te[4*at+1],un=-te[bt]*te[dt]-te[bt+1]*te[dt+1],cn=rt/Math.tan(Math.acos(un)/2),dn=sn-cn*te[bt],xn=ln-cn*te[bt+1],Wn=sn+cn*te[dt],Yn=ln+cn*te[dt+1];tt[4*at]=dn,tt[4*at+1]=xn,tt[4*at+2]=Wn,tt[4*at+3]=Yn;var Xn=te[bt+1],Kn=-te[bt];Xn*te[dt]+Kn*te[dt+1]<0&&(Xn*=-1,Kn*=-1);var ti=dn+Xn*rt,ni=xn+Kn*rt;if(Math.pow(ti-L,2)+Math.pow(ni-Q,2)<=ot)return!0}return Ft(L,Q,tt)}(L,Q,this.points,$e,Ue,re,Ne)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Zt(4,0),draw:function(L,Q,te,re,Ne){this.renderer.nodeShapeImpl(this.name,L,Q,te,re,Ne)},intersectLine:function(L,Q,te,re,Ne,$e,Ue){return At(Ne,$e,L,Q,te,re,Ue)},checkPoint:function(L,Q,te,re,Ne,$e,Ue){var tt=Jt(re,Ne),nt=2*tt;return!!(jt(L,Q,this.points,$e,Ue,re,Ne-nt,[0,-1],te)||jt(L,Q,this.points,$e,Ue,re-nt,Ne,[0,-1],te)||Xt(L,Q,nt,nt,$e-re/2+tt,Ue-Ne/2+tt,te)||Xt(L,Q,nt,nt,$e+re/2-tt,Ue-Ne/2+tt,te)||Xt(L,Q,nt,nt,$e+re/2-tt,Ue+Ne/2-tt,te)||Xt(L,Q,nt,nt,$e-re/2+tt,Ue+Ne/2-tt,te))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Zt(4,0),draw:function(L,Q,te,re,Ne){this.renderer.nodeShapeImpl(this.name,L,Q,te,re,Ne)},generateCutTrianglePts:function(L,Q,te,re){var Ne=this.cornerLength,$e=Q/2,Ue=L/2,tt=te-Ue,nt=te+Ue,it=re-$e,rt=re+$e;return{topLeft:[tt,it+Ne,tt+Ne,it,tt+Ne,it+Ne],topRight:[nt-Ne,it,nt,it+Ne,nt-Ne,it+Ne],bottomRight:[nt,rt-Ne,nt-Ne,rt,nt-Ne,rt-Ne],bottomLeft:[tt+Ne,rt,tt,rt-Ne,tt+Ne,rt-Ne]}},intersectLine:function(L,Q,te,re,Ne,$e,Ue){var tt=this.generateCutTrianglePts(te+2*Ue,re+2*Ue,L,Q),nt=[].concat.apply([],[tt.topLeft.splice(0,4),tt.topRight.splice(0,4),tt.bottomRight.splice(0,4),tt.bottomLeft.splice(0,4)]);return Gt(Ne,$e,nt,L,Q)},checkPoint:function(L,Q,te,re,Ne,$e,Ue){if(jt(L,Q,this.points,$e,Ue,re,Ne-2*this.cornerLength,[0,-1],te))return!0;if(jt(L,Q,this.points,$e,Ue,re-2*this.cornerLength,Ne,[0,-1],te))return!0;var tt=this.generateCutTrianglePts(re,Ne,$e,Ue);return Ft(L,Q,tt.topLeft)||Ft(L,Q,tt.topRight)||Ft(L,Q,tt.bottomRight)||Ft(L,Q,tt.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Zt(4,0),draw:function(L,Q,te,re,Ne){this.renderer.nodeShapeImpl(this.name,L,Q,te,re,Ne)},intersectLine:function(L,Q,te,re,Ne,$e,Ue){var tt=this.generateBarrelBezierPts(te+2*Ue,re+2*Ue,L,Q),l=function(L){var Q=St({x:L[0],y:L[1]},{x:L[2],y:L[3]},{x:L[4],y:L[5]},.15),te=St({x:L[0],y:L[1]},{x:L[2],y:L[3]},{x:L[4],y:L[5]},.5),re=St({x:L[0],y:L[1]},{x:L[2],y:L[3]},{x:L[4],y:L[5]},.85);return[L[0],L[1],Q.x,Q.y,te.x,te.y,re.x,re.y,L[4],L[5]]},nt=[].concat(l(tt.topLeft),l(tt.topRight),l(tt.bottomRight),l(tt.bottomLeft));return Gt(Ne,$e,nt,L,Q)},generateBarrelBezierPts:function(L,Q,te,re){var Ne=Q/2,$e=L/2,Ue=te-$e,tt=te+$e,nt=re-Ne,it=re+Ne,rt=tn(L,Q),ot=rt.heightOffset,at=rt.widthOffset,dt=rt.ctrlPtOffsetPct*L,bt={topLeft:[Ue,nt+ot,Ue+dt,nt,Ue+at,nt],topRight:[tt-at,nt,tt-dt,nt,tt,nt+ot],bottomRight:[tt,it-ot,tt-dt,it,tt-at,it],bottomLeft:[Ue+at,it,Ue+dt,it,Ue,it-ot]};return bt.topLeft.isTop=!0,bt.topRight.isTop=!0,bt.bottomLeft.isBottom=!0,bt.bottomRight.isBottom=!0,bt},checkPoint:function(L,Q,te,re,Ne,$e,Ue){var tt=tn(re,Ne),nt=tt.heightOffset,it=tt.widthOffset;if(jt(L,Q,this.points,$e,Ue,re,Ne-2*nt,[0,-1],te))return!0;if(jt(L,Q,this.points,$e,Ue,re-2*it,Ne,[0,-1],te))return!0;for(var rt=this.generateBarrelBezierPts(re,Ne,$e,Ue),d=function(L,Q,te){var re,Ne,$e=te[4],Ue=te[2],tt=te[0],nt=te[5],it=te[1],rt=Math.min($e,tt),ot=Math.max($e,tt),at=Math.min(nt,it),dt=Math.max(nt,it);if(rt<=L&&L<=ot&&at<=Q&&Q<=dt){var bt=[(re=$e)-2*(Ne=Ue)+tt,2*(Ne-re),re],sn=function(L,Q,te,re){var Ne=Q*Q-4*L*(te-=re);if(Ne<0)return[];var $e=Math.sqrt(Ne),Ue=2*L;return[(-Q+$e)/Ue,(-Q-$e)/Ue]}(bt[0],bt[1],bt[2],L).filter((function(L){return 0<=L&&L<=1}));if(sn.length>0)return sn[0]}return null},ot=Object.keys(rt),at=0;at<ot.length;at++){var dt=rt[ot[at]],bt=d(L,Q,dt);if(null!=bt){var sn=dt[5],ln=dt[3],un=dt[1],cn=Ct(sn,ln,un,bt);if(dt.isTop&&cn<=Q)return!0;if(dt.isBottom&&Q<=cn)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Zt(4,0),draw:function(L,Q,te,re,Ne){this.renderer.nodeShapeImpl(this.name,L,Q,te,re,Ne)},intersectLine:function(L,Q,te,re,Ne,$e,Ue){var tt=Q-(re/2+Ue),nt=Kt(Ne,$e,L,Q,L-(te/2+Ue),tt,L+(te/2+Ue),tt,!1);return nt.length>0?nt:At(Ne,$e,L,Q,te,re,Ue)},checkPoint:function(L,Q,te,re,Ne,$e,Ue){var tt=Jt(re,Ne),nt=2*tt;if(jt(L,Q,this.points,$e,Ue,re,Ne-nt,[0,-1],te))return!0;if(jt(L,Q,this.points,$e,Ue,re-nt,Ne,[0,-1],te))return!0;var it=re/2+2*te,rt=Ne/2+2*te;return!!Ft(L,Q,[$e-it,Ue-rt,$e-it,Ue,$e+it,Ue,$e+it,Ue-rt])||!!Xt(L,Q,nt,nt,$e+re/2-tt,Ue+Ne/2-tt,te)||!!Xt(L,Q,nt,nt,$e-re/2+tt,Ue+Ne/2-tt,te)}}},registerNodeShapes:function(){var L=this.nodeShapes={},Q=this;this.generateEllipse(),this.generatePolygon("triangle",Zt(3,0)),this.generateRoundPolygon("round-triangle",Zt(3,0)),this.generatePolygon("rectangle",Zt(4,0)),L.square=L.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var te=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",te),this.generateRoundPolygon("round-diamond",te),this.generatePolygon("pentagon",Zt(5,0)),this.generateRoundPolygon("round-pentagon",Zt(5,0)),this.generatePolygon("hexagon",Zt(6,0)),this.generateRoundPolygon("round-hexagon",Zt(6,0)),this.generatePolygon("heptagon",Zt(7,0)),this.generateRoundPolygon("round-heptagon",Zt(7,0)),this.generatePolygon("octagon",Zt(8,0)),this.generateRoundPolygon("round-octagon",Zt(8,0));var re=new Array(20),Ne=Qt(5,0),$e=Qt(5,Math.PI/5),Ue=.5*(3-Math.sqrt(5));Ue*=1.57;for(var tt=0;tt<$e.length/2;tt++)$e[2*tt]*=Ue,$e[2*tt+1]*=Ue;for(tt=0;tt<5;tt++)re[4*tt]=Ne[2*tt],re[4*tt+1]=Ne[2*tt+1],re[4*tt+2]=$e[2*tt],re[4*tt+3]=$e[2*tt+1];re=$t(re),this.generatePolygon("star",re),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var nt=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",nt),this.generateRoundPolygon("round-tag",nt),L.makePolygon=function(L){var te,re="polygon-"+L.join("$");return(te=this[re])?te:Q.generatePolygon(re,L)}}},Mc={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(L){L=L||Ye();var Q=this;void 0===Q.averageRedrawTime&&(Q.averageRedrawTime=0),void 0===Q.lastRedrawTime&&(Q.lastRedrawTime=0),void 0===Q.lastDrawTime&&(Q.lastDrawTime=0),Q.requestedFrame=!0,Q.renderOptions=L},beforeRender:function(L,Q){if(!this.destroyed){null==Q&&Oe("Priority is not optional for beforeRender");var te=this.beforeRenderCallbacks;te.push({fn:L,priority:Q}),te.sort((function(L,Q){return Q.priority-L.priority}))}}},ql=function(L,Q,te){for(var re=L.beforeRenderCallbacks,Ne=0;Ne<re.length;Ne++)re[Ne].fn(Q,te)};Mc.startRenderLoop=function(){var L=this,Q=L.cy;L.renderLoopStarted||(L.renderLoopStarted=!0,me((function n(te){if(!L.destroyed){if(Q.batching());else if(L.requestedFrame&&!L.skipFrame){ql(L,!0,te);var re=Ti();L.render(L.renderOptions);var Ne=L.lastDrawTime=Ti();void 0===L.averageRedrawTime&&(L.averageRedrawTime=Ne-re),void 0===L.redrawCount&&(L.redrawCount=0),L.redrawCount++,void 0===L.redrawTotalTime&&(L.redrawTotalTime=0);var $e=Ne-re;L.redrawTotalTime+=$e,L.lastRedrawTime=$e,L.averageRedrawTime=L.averageRedrawTime/2+$e/2,L.requestedFrame=!1}else ql(L,!1,te);L.skipFrame=!1,me(n)}})))};var Yl=function(L){this.init(L)},Ic=Yl.prototype;Ic.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Ic.init=function(Q){var te=this;te.options=Q,te.cy=Q.cy;var re=te.container=Q.cy.container();if(L){var Ne=L.document,$e=Ne.head,Ue="__________cytoscape_container",tt=null!=Ne.getElementById("__________cytoscape_stylesheet");if(re.className.indexOf(Ue)<0&&(re.className=(re.className||"")+" "+Ue),!tt){var nt=Ne.createElement("style");nt.id="__________cytoscape_stylesheet",nt.innerHTML="."+Ue+" { position: relative; }",$e.insertBefore(nt,$e.children[0])}"static"===L.getComputedStyle(re).getPropertyValue("position")&&Ve("A Cytoscape container has style position:static and so can not use UI extensions properly")}te.selection=[void 0,void 0,void 0,void 0,0],te.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],te.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},te.dragData={possibleDragElements:[]},te.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},te.redraws=0,te.showFps=Q.showFps,te.debug=Q.debug,te.hideEdgesOnViewport=Q.hideEdgesOnViewport,te.textureOnViewport=Q.textureOnViewport,te.wheelSensitivity=Q.wheelSensitivity,te.motionBlurEnabled=Q.motionBlur,te.forcedPixelRatio=m(Q.pixelRatio)?Q.pixelRatio:null,te.motionBlur=Q.motionBlur,te.motionBlurOpacity=Q.motionBlurOpacity,te.motionBlurTransparency=1-te.motionBlurOpacity,te.motionBlurPxRatio=1,te.mbPxRBlurry=1,te.minMbLowQualFrames=4,te.fullQualityMb=!1,te.clearedForMotionBlur=[],te.desktopTapThreshold=Q.desktopTapThreshold,te.desktopTapThreshold2=Q.desktopTapThreshold*Q.desktopTapThreshold,te.touchTapThreshold=Q.touchTapThreshold,te.touchTapThreshold2=Q.touchTapThreshold*Q.touchTapThreshold,te.tapholdDuration=500,te.bindings=[],te.beforeRenderCallbacks=[],te.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},te.registerNodeShapes(),te.registerArrowShapes(),te.registerCalculationListeners()},Ic.notify=function(L,Q){var te=this,re=te.cy;this.destroyed||("init"!==L?"destroy"!==L?(("add"===L||"remove"===L||"move"===L&&re.hasCompoundNodes()||"load"===L||"zorder"===L||"mount"===L)&&te.invalidateCachedZSortedEles(),"viewport"===L&&te.redrawHint("select",!0),"load"!==L&&"resize"!==L&&"mount"!==L||(te.invalidateContainerClientCoordsCache(),te.matchCanvasSize(te.container)),te.redrawHint("eles",!0),te.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):te.destroy():te.load())},Ic.destroy=function(){var L=this;L.destroyed=!0,L.cy.stopAnimationLoop();for(var Q=0;Q<L.bindings.length;Q++){var te=L.bindings[Q],re=te.target;(re.off||re.removeEventListener).apply(re,te.args)}if(L.bindings=[],L.beforeRenderCallbacks=[],L.onUpdateEleCalcsFns=[],L.removeObserver&&L.removeObserver.disconnect(),L.styleObserver&&L.styleObserver.disconnect(),L.resizeObserver&&L.resizeObserver.disconnect(),L.labelCalcDiv)try{document.body.removeChild(L.labelCalcDiv)}catch(L){}},Ic.isHeadless=function(){return!1},[gc,Dc,Tc,Sc,Pc,Mc].forEach((function(L){ot(Ic,L)}));var Wl=function(L){return function(){var Q=this,te=this.renderer;if(!Q.dequeueingSetup){Q.dequeueingSetup=!0;var re=fe((function(){te.redrawHint("eles",!0),te.redrawHint("drag",!0),te.redraw()}),L.deqRedrawThreshold),Ne=L.priority||Le;te.beforeRender((function(Ne,$e){var Ue=Ti(),tt=te.averageRedrawTime,nt=te.lastRedrawTime,it=[],rt=te.cy.extent(),ot=te.getPixelRatio();for(Ne||te.flushRenderedStyleQueue();;){var at=Ti(),dt=at-Ue,bt=at-$e;if(nt<1e3/60){var sn=1e3/60-(Ne?tt:0);if(bt>=L.deqFastCost*sn)break}else if(Ne){if(dt>=L.deqCost*nt||dt>=L.deqAvgCost*tt)break}else if(bt>=L.deqNoDrawCost*(1e3/60))break;var ln=L.deq(Q,ot,rt);if(!(ln.length>0))break;for(var un=0;un<ln.length;un++)it.push(ln[un])}it.length>0&&(L.onDeqd(Q,it),!Ne&&L.shouldRedraw(Q,it,ot,rt)&&re())}),Ne(Q))}}},Nc=function(){function e(L){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie;t(this,e),this.idsByKey=new Fi,this.keyForId=new Fi,this.cachesByLvl=new Fi,this.lvls=[],this.getKey=L,this.doesEleInvalidateKey=Q}return r(e,[{key:"getIdsFor",value:function(L){null==L&&Oe("Can not get id list for null key");var Q=this.idsByKey,te=this.idsByKey.get(L);return te||(te=new qi,Q.set(L,te)),te}},{key:"addIdForKey",value:function(L,Q){null!=L&&this.getIdsFor(L).add(Q)}},{key:"deleteIdForKey",value:function(L,Q){null!=L&&this.getIdsFor(L).delete(Q)}},{key:"getNumberOfIdsForKey",value:function(L){return null==L?0:this.getIdsFor(L).size}},{key:"updateKeyMappingFor",value:function(L){var Q=L.id(),te=this.keyForId.get(Q),re=this.getKey(L);this.deleteIdForKey(te,Q),this.addIdForKey(re,Q),this.keyForId.set(Q,re)}},{key:"deleteKeyMappingFor",value:function(L){var Q=L.id(),te=this.keyForId.get(Q);this.deleteIdForKey(te,Q),this.keyForId.delete(Q)}},{key:"keyHasChangedFor",value:function(L){var Q=L.id();return this.keyForId.get(Q)!==this.getKey(L)}},{key:"isInvalid",value:function(L){return this.keyHasChangedFor(L)||this.doesEleInvalidateKey(L)}},{key:"getCachesAt",value:function(L){var Q=this.cachesByLvl,te=this.lvls,re=Q.get(L);return re||(re=new Fi,Q.set(L,re),te.push(L)),re}},{key:"getCache",value:function(L,Q){return this.getCachesAt(Q).get(L)}},{key:"get",value:function(L,Q){var te=this.getKey(L),re=this.getCache(te,Q);return null!=re&&this.updateKeyMappingFor(L),re}},{key:"getForCachedKey",value:function(L,Q){var te=this.keyForId.get(L.id());return this.getCache(te,Q)}},{key:"hasCache",value:function(L,Q){return this.getCachesAt(Q).has(L)}},{key:"has",value:function(L,Q){var te=this.getKey(L);return this.hasCache(te,Q)}},{key:"setCache",value:function(L,Q,te){te.key=L,this.getCachesAt(Q).set(L,te)}},{key:"set",value:function(L,Q,te){var re=this.getKey(L);this.setCache(re,Q,te),this.updateKeyMappingFor(L)}},{key:"deleteCache",value:function(L,Q){this.getCachesAt(Q).delete(L)}},{key:"delete",value:function(L,Q){var te=this.getKey(L);this.deleteCache(te,Q)}},{key:"invalidateKey",value:function(L){var Q=this;this.lvls.forEach((function(te){return Q.deleteCache(L,te)}))}},{key:"invalidate",value:function(L){var Q=L.id(),te=this.keyForId.get(Q);this.deleteKeyMappingFor(L);var re=this.doesEleInvalidateKey(L);return re&&this.invalidateKey(te),re||0===this.getNumberOfIdsForKey(te)}}]),e}(),Ac={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Oc=Xe({getKey:null,doesEleInvalidateKey:Ie,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:ze,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Ul=function(L,Q){this.renderer=L,this.onDequeues=[];var te=Oc(Q);ot(this,te),this.lookup=new Nc(te.getKey,te.doesEleInvalidateKey),this.setupDequeueing()},Bc=Ul.prototype;Bc.reasons=Ac,Bc.getTextureQueue=function(L){return this.eleImgCaches=this.eleImgCaches||{},this.eleImgCaches[L]=this.eleImgCaches[L]||[]},Bc.getRetiredTextureQueue=function(L){var Q=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return Q[L]=Q[L]||[]},Bc.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new Vi((function(L,Q){return Q.reqs-L.reqs}))},Bc.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Bc.getElement=function(L,Q,te,re,Ne){var $e=this,Ue=this.renderer,tt=Ue.cy.zoom(),nt=this.lookup;if(!Q||0===Q.w||0===Q.h||isNaN(Q.w)||isNaN(Q.h)||!L.visible()||L.removed())return null;if(!$e.allowEdgeTxrCaching&&L.isEdge()||!$e.allowParentTxrCaching&&L.isParent())return null;if(null==re&&(re=Math.ceil(or(tt*te))),re<-4)re=-4;else if(tt>=7.99||re>3)return null;var it=Math.pow(2,re),rt=Q.h*it,ot=Q.w*it,at=Ue.eleTextBiggerThanMin(L,it);if(!this.isVisible(L,at))return null;var dt,bt=nt.get(L,re);if(bt&&bt.invalidated&&(bt.invalidated=!1,bt.texture.invalidatedWidth-=bt.width),bt)return bt;if(dt=rt<=25?25:rt<=50?50:50*Math.ceil(rt/50),rt>1024||ot>1024)return null;var sn=$e.getTextureQueue(dt),ln=sn[sn.length-2],y=function(){return $e.recycleTexture(dt,ot)||$e.addTexture(dt,ot)};ln||(ln=sn[sn.length-1]),ln||(ln=y()),ln.width-ln.usedWidth<ot&&(ln=y());for(var un,b=function(L){return L&&L.scaledLabelShown===at},cn=Ne&&Ne===Ac.dequeue,dn=Ne&&Ne===Ac.highQuality,xn=Ne&&Ne===Ac.downscale,Wn=re+1;Wn<=3;Wn++){var Yn=nt.get(L,Wn);if(Yn){un=Yn;break}}var Xn=un&&un.level===re+1?un:null,P=function(){ln.context.drawImage(Xn.texture.canvas,Xn.x,0,Xn.width,Xn.height,ln.usedWidth,0,ot,rt)};if(ln.context.setTransform(1,0,0,1,0,0),ln.context.clearRect(ln.usedWidth,0,ot,dt),b(Xn))P();else if(b(un)){if(!dn)return $e.queueElement(L,un.level-1),un;for(var Kn=un.level;Kn>re;Kn--)Xn=$e.getElement(L,Q,te,Kn,Ac.downscale);P()}else{var ti;if(!cn&&!dn&&!xn)for(var ni=re-1;ni>=-4;ni--){var di=nt.get(L,ni);if(di){ti=di;break}}if(b(ti))return $e.queueElement(L,re),ti;ln.context.translate(ln.usedWidth,0),ln.context.scale(it,it),this.drawElement(ln.context,L,Q,at,!1),ln.context.scale(1/it,1/it),ln.context.translate(-ln.usedWidth,0)}return bt={x:ln.usedWidth,texture:ln,level:re,scale:it,width:ot,height:rt,scaledLabelShown:at},ln.usedWidth+=Math.ceil(ot+8),ln.eleCaches.push(bt),nt.set(L,re,bt),$e.checkTextureFullness(ln),bt},Bc.invalidateElements=function(L){for(var Q=0;Q<L.length;Q++)this.invalidateElement(L[Q])},Bc.invalidateElement=function(L){var Q=this.lookup,te=[];if(Q.isInvalid(L)){for(var re=-4;re<=3;re++){var Ne=Q.getForCachedKey(L,re);Ne&&te.push(Ne)}if(Q.invalidate(L))for(var $e=0;$e<te.length;$e++){var Ue=te[$e],tt=Ue.texture;tt.invalidatedWidth+=Ue.width,Ue.invalidated=!0,this.checkTextureUtility(tt)}this.removeFromQueue(L)}},Bc.checkTextureUtility=function(L){L.invalidatedWidth>=.2*L.width&&this.retireTexture(L)},Bc.checkTextureFullness=function(L){var Q=this.getTextureQueue(L.height);L.usedWidth/L.width>.8&&L.fullnessChecks>=10?We(Q,L):L.fullnessChecks++},Bc.retireTexture=function(L){var Q=L.height,te=this.getTextureQueue(Q),re=this.lookup;We(te,L),L.retired=!0;for(var Ne=L.eleCaches,$e=0;$e<Ne.length;$e++){var Ue=Ne[$e];re.deleteCache(Ue.key,Ue.level)}He(Ne),this.getRetiredTextureQueue(Q).push(L)},Bc.addTexture=function(L,Q){var te={};return this.getTextureQueue(L).push(te),te.eleCaches=[],te.height=L,te.width=Math.max(1024,Q),te.usedWidth=0,te.invalidatedWidth=0,te.fullnessChecks=0,te.canvas=this.renderer.makeOffscreenCanvas(te.width,te.height),te.context=te.canvas.getContext("2d"),te},Bc.recycleTexture=function(L,Q){for(var te=this.getTextureQueue(L),re=this.getRetiredTextureQueue(L),Ne=0;Ne<re.length;Ne++){var $e=re[Ne];if($e.width>=Q)return $e.retired=!1,$e.usedWidth=0,$e.invalidatedWidth=0,$e.fullnessChecks=0,He($e.eleCaches),$e.context.setTransform(1,0,0,1,0,0),$e.context.clearRect(0,0,$e.width,$e.height),We(re,$e),te.push($e),$e}},Bc.queueElement=function(L,Q){var te=this.getElementQueue(),re=this.getElementKeyToQueue(),Ne=this.getKey(L),$e=re[Ne];if($e)$e.level=Math.max($e.level,Q),$e.eles.merge(L),$e.reqs++,te.updateItem($e);else{var Ue={eles:L.spawn().merge(L),level:Q,reqs:1,key:Ne};te.push(Ue),re[Ne]=Ue}},Bc.dequeue=function(L){for(var Q=this.getElementQueue(),te=this.getElementKeyToQueue(),re=[],Ne=this.lookup,$e=0;$e<1&&Q.size()>0;$e++){var Ue=Q.pop(),tt=Ue.key,nt=Ue.eles[0],it=Ne.hasCache(nt,Ue.level);if(te[tt]=null,!it){re.push(Ue);var rt=this.getBoundingBox(nt);this.getElement(nt,rt,L,Ue.level,Ac.dequeue)}}return re},Bc.removeFromQueue=function(L){var Q=this.getElementQueue(),te=this.getElementKeyToQueue(),re=this.getKey(L),Ne=te[re];null!=Ne&&(1===Ne.eles.length?(Ne.reqs=ji,Q.updateItem(Ne),Q.pop(),te[re]=null):Ne.eles.unmerge(L))},Bc.onDequeue=function(L){this.onDequeues.push(L)},Bc.offDequeue=function(L){We(this.onDequeues,L)},Bc.setupDequeueing=Wl({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(L,Q,te){return L.dequeue(Q,te)},onDeqd:function(L,Q){for(var te=0;te<L.onDequeues.length;te++)(0,L.onDequeues[te])(Q)},shouldRedraw:function(L,Q,te,re){for(var Ne=0;Ne<Q.length;Ne++)for(var $e=Q[Ne].eles,Ue=0;Ue<$e.length;Ue++){var tt=$e[Ue].boundingBox();if(Nt(tt,re))return!0}return!1},priority:function(L){return L.renderer.beforeRenderPriorities.eleTxrDeq}});var $l=function(L){var Q=this,te=Q.renderer=L,re=te.cy;Q.layersByLevel={},Q.firstGet=!0,Q.lastInvalidationTime=Ti()-500,Q.skipping=!1,Q.eleTxrDeqs=re.collection(),Q.scheduleElementRefinement=fe((function(){Q.refineElementTextures(Q.eleTxrDeqs),Q.eleTxrDeqs.unmerge(Q.eleTxrDeqs)}),50),te.beforeRender((function(L,te){te-Q.lastInvalidationTime<=250?Q.skipping=!0:Q.skipping=!1}),te.beforeRenderPriorities.lyrTxrSkip),Q.layersQueue=new Vi((function(L,Q){return Q.reqs-L.reqs})),Q.setupDequeueing()},zc=$l.prototype,Lc=0,jc=Math.pow(2,53)-1;zc.makeLayer=function(L,Q){var te=Math.pow(2,Q),re=Math.ceil(L.w*te),Ne=Math.ceil(L.h*te),$e=this.renderer.makeOffscreenCanvas(re,Ne),Ue={id:Lc=++Lc%jc,bb:L,level:Q,width:re,height:Ne,canvas:$e,context:$e.getContext("2d"),eles:[],elesQueue:[],reqs:0},tt=Ue.context,nt=-Ue.bb.x1,it=-Ue.bb.y1;return tt.scale(te,te),tt.translate(nt,it),Ue},zc.getLayers=function(L,Q,te){var re=this,Ne=re.renderer.cy.zoom(),$e=re.firstGet;if(re.firstGet=!1,null==te)if((te=Math.ceil(or(Ne*Q)))<-4)te=-4;else if(Ne>=3.99||te>2)return null;re.validateLayersElesOrdering(te,L);var Ue,tt,nt=re.layersByLevel,it=Math.pow(2,te),rt=nt[te]=nt[te]||[];if(re.levelIsComplete(te,L))return rt;!function(){var t=function(Q){if(re.validateLayersElesOrdering(Q,L),re.levelIsComplete(Q,L))return tt=nt[Q],!0},i=function(L){if(!tt)for(var Q=te+L;-4<=Q&&Q<=2&&!t(Q);Q+=L);};i(1),i(-1);for(var Q=rt.length-1;Q>=0;Q--){var Ne=rt[Q];Ne.invalid&&We(rt,Ne)}}();var d=function(Q){var Ne=(Q=Q||{}).after;if(function(){if(!Ue){Ue=Dt();for(var Q=0;Q<L.length;Q++)te=Ue,re=L[Q].boundingBox(),te.x1=Math.min(te.x1,re.x1),te.x2=Math.max(te.x2,re.x2),te.w=te.x2-te.x1,te.y1=Math.min(te.y1,re.y1),te.y2=Math.max(te.y2,re.y2),te.h=te.y2-te.y1}var te,re}(),Ue.w*it*(Ue.h*it)>16e6)return null;var $e=re.makeLayer(Ue,te);if(null!=Ne){var tt=rt.indexOf(Ne)+1;rt.splice(tt,0,$e)}else(void 0===Q.insert||Q.insert)&&rt.unshift($e);return $e};if(re.skipping&&!$e)return null;for(var ot=null,at=L.length/1,dt=!$e,bt=0;bt<L.length;bt++){var sn=L[bt],ln=sn._private.rscratch,un=ln.imgLayerCaches=ln.imgLayerCaches||{},cn=un[te];if(cn)ot=cn;else{if((!ot||ot.eles.length>=at||!It(ot.bb,sn.boundingBox()))&&!(ot=d({insert:!0,after:ot})))return null;tt||dt?re.queueLayer(ot,sn):re.drawEleInLayer(ot,sn,te,Q),ot.eles.push(sn),un[te]=ot}}return tt||(dt?null:rt)},zc.getEleLevelForLayerLevel=function(L,Q){return L},zc.drawEleInLayer=function(L,Q,te,re){var Ne=this.renderer,$e=L.context,Ue=Q.boundingBox();0!==Ue.w&&0!==Ue.h&&Q.visible()&&(te=this.getEleLevelForLayerLevel(te,re),Ne.setImgSmoothing($e,!1),Ne.drawCachedElement($e,Q,null,null,te,!0),Ne.setImgSmoothing($e,!0))},zc.levelIsComplete=function(L,Q){var te=this.layersByLevel[L];if(!te||0===te.length)return!1;for(var re=0,Ne=0;Ne<te.length;Ne++){var $e=te[Ne];if($e.reqs>0)return!1;if($e.invalid)return!1;re+=$e.eles.length}return re===Q.length},zc.validateLayersElesOrdering=function(L,Q){var te=this.layersByLevel[L];if(te)for(var re=0;re<te.length;re++){for(var Ne=te[re],$e=-1,Ue=0;Ue<Q.length;Ue++)if(Ne.eles[0]===Q[Ue]){$e=Ue;break}if($e<0)this.invalidateLayer(Ne);else{var tt=$e;for(Ue=0;Ue<Ne.eles.length;Ue++)if(Ne.eles[Ue]!==Q[tt+Ue]){this.invalidateLayer(Ne);break}}}},zc.updateElementsInLayers=function(L,Q){for(var te=w(L[0]),re=0;re<L.length;re++)for(var Ne=te?null:L[re],$e=te?L[re]:L[re].ele,Ue=$e._private.rscratch,tt=Ue.imgLayerCaches=Ue.imgLayerCaches||{},nt=-4;nt<=2;nt++){var it=tt[nt];it&&(Ne&&this.getEleLevelForLayerLevel(it.level)!==Ne.level||Q(it,$e,Ne))}},zc.haveLayers=function(){for(var L=!1,Q=-4;Q<=2;Q++){var te=this.layersByLevel[Q];if(te&&te.length>0){L=!0;break}}return L},zc.invalidateElements=function(L){var Q=this;0!==L.length&&(Q.lastInvalidationTime=Ti(),0!==L.length&&Q.haveLayers()&&Q.updateElementsInLayers(L,(function(L,te,re){Q.invalidateLayer(L)})))},zc.invalidateLayer=function(L){if(this.lastInvalidationTime=Ti(),!L.invalid){var Q=L.level,te=L.eles,re=this.layersByLevel[Q];We(re,L),L.elesQueue=[],L.invalid=!0,L.replacement&&(L.replacement.invalid=!0);for(var Ne=0;Ne<te.length;Ne++){var $e=te[Ne]._private.rscratch.imgLayerCaches;$e&&($e[Q]=null)}}},zc.refineElementTextures=function(L){var Q=this;Q.updateElementsInLayers(L,(function(L,te,re){var Ne=L.replacement;if(Ne||((Ne=L.replacement=Q.makeLayer(L.bb,L.level)).replaces=L,Ne.eles=L.eles),!Ne.reqs)for(var $e=0;$e<Ne.eles.length;$e++)Q.queueLayer(Ne,Ne.eles[$e])}))},zc.enqueueElementRefinement=function(L){this.eleTxrDeqs.merge(L),this.scheduleElementRefinement()},zc.queueLayer=function(L,Q){var te=this.layersQueue,re=L.elesQueue,Ne=re.hasId=re.hasId||{};if(!L.replacement){if(Q){if(Ne[Q.id()])return;re.push(Q),Ne[Q.id()]=!0}L.reqs?(L.reqs++,te.updateItem(L)):(L.reqs=1,te.push(L))}},zc.dequeue=function(L){for(var Q=this.layersQueue,te=[],re=0;re<1&&0!==Q.size();){var Ne=Q.peek();if(Ne.replacement)Q.pop();else if(Ne.replaces&&Ne!==Ne.replaces.replacement)Q.pop();else if(Ne.invalid)Q.pop();else{var $e=Ne.elesQueue.shift();$e&&(this.drawEleInLayer(Ne,$e,Ne.level,L),re++),0===te.length&&te.push(!0),0===Ne.elesQueue.length&&(Q.pop(),Ne.reqs=0,Ne.replaces&&this.applyLayerReplacement(Ne),this.requestRedraw())}}return te},zc.applyLayerReplacement=function(L){var Q=this.layersByLevel[L.level],te=L.replaces,re=Q.indexOf(te);if(!(re<0||te.invalid)){Q[re]=L;for(var Ne=0;Ne<L.eles.length;Ne++){var $e=L.eles[Ne]._private,Ue=$e.imgLayerCaches=$e.imgLayerCaches||{};Ue&&(Ue[L.level]=L)}this.requestRedraw()}},zc.requestRedraw=fe((function(){var L=this.renderer;L.redrawHint("eles",!0),L.redrawHint("drag",!0),L.redraw()}),100),zc.setupDequeueing=Wl({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(L,Q){return L.dequeue(Q)},onDeqd:Le,shouldRedraw:ze,priority:function(L){return L.renderer.beforeRenderPriorities.lyrTxrDeq}});var Rc,Fc={};function ru(L,Q){for(var te=0;te<Q.length;te++){var re=Q[te];L.lineTo(re.x,re.y)}}function iu(L,Q,te){for(var re,Ne=0;Ne<Q.length;Ne++){var $e=Q[Ne];0===Ne&&(re=$e),L.lineTo($e.x,$e.y)}L.quadraticCurveTo(te.x,te.y,re.x,re.y)}function au(L,Q,te){L.beginPath&&L.beginPath();for(var re=Q,Ne=0;Ne<re.length;Ne++){var $e=re[Ne];L.lineTo($e.x,$e.y)}var Ue=te,tt=te[0];for(L.moveTo(tt.x,tt.y),Ne=1;Ne<Ue.length;Ne++)$e=Ue[Ne],L.lineTo($e.x,$e.y);L.closePath&&L.closePath()}function ou(L,Q,te,re,Ne){L.beginPath&&L.beginPath(),L.arc(te,re,Ne,0,2*Math.PI,!1);var $e=Q,Ue=$e[0];L.moveTo(Ue.x,Ue.y);for(var tt=0;tt<$e.length;tt++){var nt=$e[tt];L.lineTo(nt.x,nt.y)}L.closePath&&L.closePath()}function su(L,Q,te,re){L.arc(Q,te,re,0,2*Math.PI,!1)}Fc.arrowShapeImpl=function(L){return(Rc||(Rc={polygon:ru,"triangle-backcurve":iu,"triangle-tee":au,"circle-triangle":ou,"triangle-cross":au,circle:su}))[L]};var Hc={drawElement:function(L,Q,te,re,Ne,$e){Q.isNode()?this.drawNode(L,Q,te,re,Ne,$e):this.drawEdge(L,Q,te,re,Ne,$e)},drawElementOverlay:function(L,Q){Q.isNode()?this.drawNodeOverlay(L,Q):this.drawEdgeOverlay(L,Q)},drawElementUnderlay:function(L,Q){Q.isNode()?this.drawNodeUnderlay(L,Q):this.drawEdgeUnderlay(L,Q)},drawCachedElementPortion:function(L,Q,te,re,Ne,$e,Ue,tt){var nt=this,it=te.getBoundingBox(Q);if(0!==it.w&&0!==it.h){var rt=te.getElement(Q,it,re,Ne,$e);if(null!=rt){var ot=tt(nt,Q);if(0===ot)return;var at,dt,bt,sn,ln,un,cn=Ue(nt,Q),dn=it.x1,xn=it.y1,Wn=it.w,Yn=it.h;if(0!==cn){var Xn=te.getRotationPoint(Q);bt=Xn.x,sn=Xn.y,L.translate(bt,sn),L.rotate(cn),(ln=nt.getImgSmoothing(L))||nt.setImgSmoothing(L,!0);var Kn=te.getRotationOffset(Q);at=Kn.x,dt=Kn.y}else at=dn,dt=xn;1!==ot&&(un=L.globalAlpha,L.globalAlpha=un*ot),L.drawImage(rt.texture.canvas,rt.x,0,rt.width,rt.height,at,dt,Wn,Yn),1!==ot&&(L.globalAlpha=un),0!==cn&&(L.rotate(-cn),L.translate(-bt,-sn),ln||nt.setImgSmoothing(L,!1))}else te.drawElement(L,Q)}}},uu=function(){return 0},cu=function(L,Q){return L.getTextAngle(Q,null)},du=function(L,Q){return L.getTextAngle(Q,"source")},hu=function(L,Q){return L.getTextAngle(Q,"target")},pu=function(L,Q){return Q.effectiveOpacity()},fu=function(L,Q){return Q.pstyle("text-opacity").pfValue*Q.effectiveOpacity()};Hc.drawCachedElement=function(L,Q,te,re,Ne,$e){var Ue=this,tt=Ue.data,nt=tt.eleTxrCache,it=tt.lblTxrCache,rt=tt.slbTxrCache,ot=tt.tlbTxrCache,at=Q.boundingBox(),dt=!0===$e?nt.reasons.highQuality:null;if(0!==at.w&&0!==at.h&&Q.visible()&&(!re||Nt(at,re))){var bt=Q.isEdge(),sn=Q.element()._private.rscratch.badLine;Ue.drawElementUnderlay(L,Q),Ue.drawCachedElementPortion(L,Q,nt,te,Ne,dt,uu,pu),bt&&sn||Ue.drawCachedElementPortion(L,Q,it,te,Ne,dt,cu,fu),bt&&!sn&&(Ue.drawCachedElementPortion(L,Q,rt,te,Ne,dt,du,fu),Ue.drawCachedElementPortion(L,Q,ot,te,Ne,dt,hu,fu)),Ue.drawElementOverlay(L,Q)}},Hc.drawElements=function(L,Q){for(var te=0;te<Q.length;te++){var re=Q[te];this.drawElement(L,re)}},Hc.drawCachedElements=function(L,Q,te,re){for(var Ne=0;Ne<Q.length;Ne++){var $e=Q[Ne];this.drawCachedElement(L,$e,te,re)}},Hc.drawCachedNodes=function(L,Q,te,re){for(var Ne=0;Ne<Q.length;Ne++){var $e=Q[Ne];$e.isNode()&&this.drawCachedElement(L,$e,te,re)}},Hc.drawLayeredElements=function(L,Q,te,re){var Ne=this.data.lyrTxrCache.getLayers(Q,te);if(Ne)for(var $e=0;$e<Ne.length;$e++){var Ue=Ne[$e],tt=Ue.bb;0!==tt.w&&0!==tt.h&&L.drawImage(Ue.canvas,tt.x1,tt.y1,tt.w,tt.h)}else this.drawCachedElements(L,Q,te,re)};var qc={drawEdge:function(L,Q,te){var re=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],Ne=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],$e=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],Ue=this,tt=Q._private.rscratch;if((!$e||Q.visible())&&!tt.badLine&&null!=tt.allpts&&!isNaN(tt.allpts[0])){var nt;te&&(nt=te,L.translate(-nt.x1,-nt.y1));var it=$e?Q.pstyle("opacity").value:1,rt=$e?Q.pstyle("line-opacity").value:1,ot=Q.pstyle("curve-style").value,at=Q.pstyle("line-style").value,dt=Q.pstyle("width").pfValue,bt=Q.pstyle("line-cap").value,sn=it*rt,ln=it*rt,y=function(){var te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn;"straight-triangle"===ot?(Ue.eleStrokeStyle(L,Q,te),Ue.drawEdgeTrianglePath(Q,L,tt.allpts)):(L.lineWidth=dt,L.lineCap=bt,Ue.eleStrokeStyle(L,Q,te),Ue.drawEdgePath(Q,L,tt.allpts,at),L.lineCap="butt")},m=function(){Ne&&Ue.drawEdgeOverlay(L,Q)},b=function(){Ne&&Ue.drawEdgeUnderlay(L,Q)},x=function(){var te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln;Ue.drawArrowheads(L,Q,te)},w=function(){Ue.drawElementText(L,Q,null,re)};if(L.lineJoin="round","yes"===Q.pstyle("ghost").value){var un=Q.pstyle("ghost-offset-x").pfValue,cn=Q.pstyle("ghost-offset-y").pfValue,dn=Q.pstyle("ghost-opacity").value,xn=sn*dn;L.translate(un,cn),y(xn),x(xn),L.translate(-un,-cn)}b(),y(),x(),m(),w(),te&&L.translate(nt.x1,nt.y1)}}},vu=function(L){if(!["overlay","underlay"].includes(L))throw new Error("Invalid state");return function(Q,te){if(te.visible()){var re=te.pstyle("".concat(L,"-opacity")).value;if(0!==re){var Ne=this,$e=Ne.usePaths(),Ue=te._private.rscratch,tt=2*te.pstyle("".concat(L,"-padding")).pfValue,nt=te.pstyle("".concat(L,"-color")).value;Q.lineWidth=tt,"self"!==Ue.edgeType||$e?Q.lineCap="round":Q.lineCap="butt",Ne.colorStrokeStyle(Q,nt[0],nt[1],nt[2],re),Ne.drawEdgePath(te,Q,Ue.allpts,"solid")}}}};qc.drawEdgeOverlay=vu("overlay"),qc.drawEdgeUnderlay=vu("underlay"),qc.drawEdgePath=function(L,Q,te,re){var Ne,$e=L._private.rscratch,Ue=Q,tt=!1,nt=this.usePaths(),it=L.pstyle("line-dash-pattern").pfValue,rt=L.pstyle("line-dash-offset").pfValue;if(nt){var ot=te.join("$");$e.pathCacheKey&&$e.pathCacheKey===ot?(Ne=Q=$e.pathCache,tt=!0):(Ne=Q=new Path2D,$e.pathCacheKey=ot,$e.pathCache=Ne)}if(Ue.setLineDash)switch(re){case"dotted":Ue.setLineDash([1,1]);break;case"dashed":Ue.setLineDash(it),Ue.lineDashOffset=rt;break;case"solid":Ue.setLineDash([])}if(!tt&&!$e.badLine)switch(Q.beginPath&&Q.beginPath(),Q.moveTo(te[0],te[1]),$e.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var at=2;at+3<te.length;at+=4)Q.quadraticCurveTo(te[at],te[at+1],te[at+2],te[at+3]);break;case"straight":case"segments":case"haystack":for(var dt=2;dt+1<te.length;dt+=2)Q.lineTo(te[dt],te[dt+1])}Q=Ue,nt?Q.stroke(Ne):Q.stroke(),Q.setLineDash&&Q.setLineDash([])},qc.drawEdgeTrianglePath=function(L,Q,te){Q.fillStyle=Q.strokeStyle;for(var re=L.pstyle("width").pfValue,Ne=0;Ne+1<te.length;Ne+=2){var $e=[te[Ne+2]-te[Ne],te[Ne+3]-te[Ne+1]],Ue=Math.sqrt($e[0]*$e[0]+$e[1]*$e[1]),tt=[$e[1]/Ue,-$e[0]/Ue],nt=[tt[0]*re/2,tt[1]*re/2];Q.beginPath(),Q.moveTo(te[Ne]-nt[0],te[Ne+1]-nt[1]),Q.lineTo(te[Ne]+nt[0],te[Ne+1]+nt[1]),Q.lineTo(te[Ne+2],te[Ne+3]),Q.closePath(),Q.fill()}},qc.drawArrowheads=function(L,Q,te){var re=Q._private.rscratch,Ne="haystack"===re.edgeType;Ne||this.drawArrowhead(L,Q,"source",re.arrowStartX,re.arrowStartY,re.srcArrowAngle,te),this.drawArrowhead(L,Q,"mid-target",re.midX,re.midY,re.midtgtArrowAngle,te),this.drawArrowhead(L,Q,"mid-source",re.midX,re.midY,re.midsrcArrowAngle,te),Ne||this.drawArrowhead(L,Q,"target",re.arrowEndX,re.arrowEndY,re.tgtArrowAngle,te)},qc.drawArrowhead=function(L,Q,te,re,Ne,$e,Ue){if(!(isNaN(re)||null==re||isNaN(Ne)||null==Ne||isNaN($e)||null==$e)){var tt=Q.pstyle(te+"-arrow-shape").value;if("none"!==tt){var nt="hollow"===Q.pstyle(te+"-arrow-fill").value?"both":"filled",it=Q.pstyle(te+"-arrow-fill").value,rt=Q.pstyle("width").pfValue,ot=Q.pstyle("opacity").value;void 0===Ue&&(Ue=ot);var at=L.globalCompositeOperation;1===Ue&&"hollow"!==it||(L.globalCompositeOperation="destination-out",this.colorFillStyle(L,255,255,255,1),this.colorStrokeStyle(L,255,255,255,1),this.drawArrowShape(Q,L,nt,rt,tt,re,Ne,$e),L.globalCompositeOperation=at);var dt=Q.pstyle(te+"-arrow-color").value;this.colorFillStyle(L,dt[0],dt[1],dt[2],Ue),this.colorStrokeStyle(L,dt[0],dt[1],dt[2],Ue),this.drawArrowShape(Q,L,it,rt,tt,re,Ne,$e)}}},qc.drawArrowShape=function(L,Q,te,re,Ne,$e,Ue,tt){var nt,it=this,rt=this.usePaths()&&"triangle-cross"!==Ne,ot=!1,at=Q,dt={x:$e,y:Ue},bt=L.pstyle("arrow-scale").value,sn=this.getArrowWidth(re,bt),ln=it.arrowShapes[Ne];if(rt){var un=it.arrowPathCache=it.arrowPathCache||[],cn=Pe(Ne),dn=un[cn];null!=dn?(nt=Q=dn,ot=!0):(nt=Q=new Path2D,un[cn]=nt)}ot||(Q.beginPath&&Q.beginPath(),rt?ln.draw(Q,1,0,{x:0,y:0},1):ln.draw(Q,sn,tt,dt,re),Q.closePath&&Q.closePath()),Q=at,rt&&(Q.translate($e,Ue),Q.rotate(tt),Q.scale(sn,sn)),"filled"!==te&&"both"!==te||(rt?Q.fill(nt):Q.fill()),"hollow"!==te&&"both"!==te||(Q.lineWidth=(ln.matchEdgeWidth?re:1)/(rt?sn:1),Q.lineJoin="miter",rt?Q.stroke(nt):Q.stroke()),rt&&(Q.scale(1/sn,1/sn),Q.rotate(-tt),Q.translate(-$e,-Ue))};var Wc={safeDrawImage:function(L,Q,te,re,Ne,$e,Ue,tt,nt,it){if(!(Ne<=0||$e<=0||nt<=0||it<=0))try{L.drawImage(Q,te,re,Ne,$e,Ue,tt,nt,it)}catch(L){Ve(L)}},drawInscribedImage:function(L,Q,te,re,Ne){var $e=this,Ue=te.position(),tt=Ue.x,nt=Ue.y,it=te.cy().style(),rt=it.getIndexedStyle.bind(it),ot=rt(te,"background-fit","value",re),at=rt(te,"background-repeat","value",re),dt=te.width(),bt=te.height(),sn=2*te.padding(),ln=dt+("inner"===rt(te,"background-width-relative-to","value",re)?0:sn),un=bt+("inner"===rt(te,"background-height-relative-to","value",re)?0:sn),cn=te._private.rscratch,dn="node"===rt(te,"background-clip","value",re),xn=rt(te,"background-image-opacity","value",re)*Ne,Wn=rt(te,"background-image-smoothing","value",re),Yn=Q.width||Q.cachedW,Xn=Q.height||Q.cachedH;null!=Yn&&null!=Xn||(document.body.appendChild(Q),Yn=Q.cachedW=Q.width||Q.offsetWidth,Xn=Q.cachedH=Q.height||Q.offsetHeight,document.body.removeChild(Q));var Kn=Yn,ti=Xn;if("auto"!==rt(te,"background-width","value",re)&&(Kn="%"===rt(te,"background-width","units",re)?rt(te,"background-width","pfValue",re)*ln:rt(te,"background-width","pfValue",re)),"auto"!==rt(te,"background-height","value",re)&&(ti="%"===rt(te,"background-height","units",re)?rt(te,"background-height","pfValue",re)*un:rt(te,"background-height","pfValue",re)),0!==Kn&&0!==ti){if("contain"===ot)Kn*=ni=Math.min(ln/Kn,un/ti),ti*=ni;else if("cover"===ot){var ni;Kn*=ni=Math.max(ln/Kn,un/ti),ti*=ni}var di=tt-ln/2,fi=rt(te,"background-position-x","units",re),pi=rt(te,"background-position-x","pfValue",re);di+="%"===fi?(ln-Kn)*pi:pi;var gi=rt(te,"background-offset-x","units",re),vi=rt(te,"background-offset-x","pfValue",re);di+="%"===gi?(ln-Kn)*vi:vi;var mi=nt-un/2,bi=rt(te,"background-position-y","units",re),xi=rt(te,"background-position-y","pfValue",re);mi+="%"===bi?(un-ti)*xi:xi;var Ti=rt(te,"background-offset-y","units",re),Pi=rt(te,"background-offset-y","pfValue",re);mi+="%"===Ti?(un-ti)*Pi:Pi,cn.pathCache&&(di-=tt,mi-=nt,tt=0,nt=0);var Mi=L.globalAlpha;L.globalAlpha=xn;var Oi=$e.getImgSmoothing(L),Li=!1;if("no"===Wn&&Oi?($e.setImgSmoothing(L,!1),Li=!0):"yes"!==Wn||Oi||($e.setImgSmoothing(L,!0),Li=!0),"no-repeat"===at)dn&&(L.save(),cn.pathCache?L.clip(cn.pathCache):($e.nodeShapes[$e.getNodeShape(te)].draw(L,tt,nt,ln,un),L.clip())),$e.safeDrawImage(L,Q,0,0,Yn,Xn,di,mi,Kn,ti),dn&&L.restore();else{var ji=L.createPattern(Q,at);L.fillStyle=ji,$e.nodeShapes[$e.getNodeShape(te)].draw(L,tt,nt,ln,un),L.translate(di,mi),L.fill(),L.translate(-di,-mi)}L.globalAlpha=Mi,Li&&$e.setImgSmoothing(L,Oi)}}},Vc={};function bu(L,Q,te,re,Ne){var $e=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;L.beginPath(),L.moveTo(Q+$e,te),L.lineTo(Q+re-$e,te),L.quadraticCurveTo(Q+re,te,Q+re,te+$e),L.lineTo(Q+re,te+Ne-$e),L.quadraticCurveTo(Q+re,te+Ne,Q+re-$e,te+Ne),L.lineTo(Q+$e,te+Ne),L.quadraticCurveTo(Q,te+Ne,Q,te+Ne-$e),L.lineTo(Q,te+$e),L.quadraticCurveTo(Q,te,Q+$e,te),L.closePath(),L.fill()}Vc.eleTextBiggerThanMin=function(L,Q){if(!Q){var te=L.cy().zoom(),re=this.getPixelRatio(),Ne=Math.ceil(or(te*re));Q=Math.pow(2,Ne)}return!(L.pstyle("font-size").pfValue*Q<L.pstyle("min-zoomed-font-size").pfValue)},Vc.drawElementText=function(L,Q,te,re,Ne){var $e=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],Ue=this;if(null==re){if($e&&!Ue.eleTextBiggerThanMin(Q))return}else if(!1===re)return;if(Q.isNode()){var tt=Q.pstyle("label");if(!tt||!tt.value)return;var nt=Ue.getLabelJustification(Q);L.textAlign=nt,L.textBaseline="bottom"}else{var it=Q.element()._private.rscratch.badLine,rt=Q.pstyle("label"),ot=Q.pstyle("source-label"),at=Q.pstyle("target-label");if(it||(!rt||!rt.value)&&(!ot||!ot.value)&&(!at||!at.value))return;L.textAlign="center",L.textBaseline="bottom"}var dt,bt=!te;te&&(dt=te,L.translate(-dt.x1,-dt.y1)),null==Ne?(Ue.drawText(L,Q,null,bt,$e),Q.isEdge()&&(Ue.drawText(L,Q,"source",bt,$e),Ue.drawText(L,Q,"target",bt,$e))):Ue.drawText(L,Q,Ne,bt,$e),te&&L.translate(dt.x1,dt.y1)},Vc.getFontCache=function(L){var Q;this.fontCaches=this.fontCaches||[];for(var te=0;te<this.fontCaches.length;te++)if((Q=this.fontCaches[te]).context===L)return Q;return Q={context:L},this.fontCaches.push(Q),Q},Vc.setupTextStyle=function(L,Q){var te=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],re=Q.pstyle("font-style").strValue,Ne=Q.pstyle("font-size").pfValue+"px",$e=Q.pstyle("font-family").strValue,Ue=Q.pstyle("font-weight").strValue,tt=te?Q.effectiveOpacity()*Q.pstyle("text-opacity").value:1,nt=Q.pstyle("text-outline-opacity").value*tt,it=Q.pstyle("color").value,rt=Q.pstyle("text-outline-color").value;L.font=re+" "+Ue+" "+Ne+" "+$e,L.lineJoin="round",this.colorFillStyle(L,it[0],it[1],it[2],tt),this.colorStrokeStyle(L,rt[0],rt[1],rt[2],nt)},Vc.getTextAngle=function(L,Q){var te=L._private.rscratch,re=Q?Q+"-":"",Ne=L.pstyle(re+"text-rotation"),$e=Ke(te,"labelAngle",Q);return"autorotate"===Ne.strValue?L.isEdge()?$e:0:"none"===Ne.strValue?0:Ne.pfValue},Vc.drawText=function(L,Q,te){var re=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],Ne=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],$e=Q._private.rscratch,Ue=Ne?Q.effectiveOpacity():1;if(!Ne||0!==Ue&&0!==Q.pstyle("text-opacity").value){"main"===te&&(te=null);var tt,nt,it=Ke($e,"labelX",te),rt=Ke($e,"labelY",te),ot=this.getLabelText(Q,te);if(null!=ot&&""!==ot&&!isNaN(it)&&!isNaN(rt)){this.setupTextStyle(L,Q,Ne);var at,dt=te?te+"-":"",bt=Ke($e,"labelWidth",te),sn=Ke($e,"labelHeight",te),ln=Q.pstyle(dt+"text-margin-x").pfValue,un=Q.pstyle(dt+"text-margin-y").pfValue,cn=Q.isEdge(),dn=Q.pstyle("text-halign").value,xn=Q.pstyle("text-valign").value;switch(cn&&(dn="center",xn="center"),it+=ln,rt+=un,0!==(at=re?this.getTextAngle(Q,te):0)&&(tt=it,nt=rt,L.translate(tt,nt),L.rotate(at),it=0,rt=0),xn){case"top":break;case"center":rt+=sn/2;break;case"bottom":rt+=sn}var Wn=Q.pstyle("text-background-opacity").value,Yn=Q.pstyle("text-border-opacity").value,Xn=Q.pstyle("text-border-width").pfValue,Kn=Q.pstyle("text-background-padding").pfValue;if(Wn>0||Xn>0&&Yn>0){var ti=it-Kn;switch(dn){case"left":ti-=bt;break;case"center":ti-=bt/2}var ni=rt-sn-Kn,di=bt+2*Kn,fi=sn+2*Kn;if(Wn>0){var pi=L.fillStyle,gi=Q.pstyle("text-background-color").value;L.fillStyle="rgba("+gi[0]+","+gi[1]+","+gi[2]+","+Wn*Ue+")",0===Q.pstyle("text-background-shape").strValue.indexOf("round")?bu(L,ti,ni,di,fi,2):L.fillRect(ti,ni,di,fi),L.fillStyle=pi}if(Xn>0&&Yn>0){var vi=L.strokeStyle,mi=L.lineWidth,bi=Q.pstyle("text-border-color").value,xi=Q.pstyle("text-border-style").value;if(L.strokeStyle="rgba("+bi[0]+","+bi[1]+","+bi[2]+","+Yn*Ue+")",L.lineWidth=Xn,L.setLineDash)switch(xi){case"dotted":L.setLineDash([1,1]);break;case"dashed":L.setLineDash([4,2]);break;case"double":L.lineWidth=Xn/4,L.setLineDash([]);break;case"solid":L.setLineDash([])}if(L.strokeRect(ti,ni,di,fi),"double"===xi){var Ti=Xn/2;L.strokeRect(ti+Ti,ni+Ti,di-2*Ti,fi-2*Ti)}L.setLineDash&&L.setLineDash([]),L.lineWidth=mi,L.strokeStyle=vi}}var Pi=2*Q.pstyle("text-outline-width").pfValue;if(Pi>0&&(L.lineWidth=Pi),"wrap"===Q.pstyle("text-wrap").value){var Mi=Ke($e,"labelWrapCachedLines",te),Oi=Ke($e,"labelLineHeight",te),Li=bt/2,ji=this.getLabelJustification(Q);switch("auto"===ji||("left"===dn?"left"===ji?it+=-bt:"center"===ji&&(it+=-Li):"center"===dn?"left"===ji?it+=-Li:"right"===ji&&(it+=Li):"right"===dn&&("center"===ji?it+=Li:"right"===ji&&(it+=bt))),xn){case"top":case"center":case"bottom":rt-=(Mi.length-1)*Oi}for(var Ri=0;Ri<Mi.length;Ri++)Pi>0&&L.strokeText(Mi[Ri],it,rt),L.fillText(Mi[Ri],it,rt),rt+=Oi}else Pi>0&&L.strokeText(ot,it,rt),L.fillText(ot,it,rt);0!==at&&(L.rotate(-at),L.translate(-tt,-nt))}}};var Yc={drawNode:function(L,Q,te){var re,Ne,$e=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],Ue=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],tt=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],nt=this,it=Q._private,rt=it.rscratch,ot=Q.position();if(m(ot.x)&&m(ot.y)&&(!tt||Q.visible())){var at,dt,bt=tt?Q.effectiveOpacity():1,sn=nt.usePaths(),ln=!1,un=Q.padding();re=Q.width()+2*un,Ne=Q.height()+2*un,te&&(dt=te,L.translate(-dt.x1,-dt.y1));for(var cn=Q.pstyle("background-image").value,dn=new Array(cn.length),xn=new Array(cn.length),Wn=0,Yn=0;Yn<cn.length;Yn++){var Xn=cn[Yn];if(dn[Yn]=null!=Xn&&"none"!==Xn){var Kn=Q.cy().style().getIndexedStyle(Q,"background-image-crossorigin","value",Yn);Wn++,xn[Yn]=nt.getCachedImage(Xn,Kn,(function(){it.backgroundTimestamp=Date.now(),Q.emitAndNotify("background")}))}}var ti=Q.pstyle("background-blacken").value,ni=Q.pstyle("border-width").pfValue,di=Q.pstyle("background-opacity").value*bt,fi=Q.pstyle("border-color").value,pi=Q.pstyle("border-style").value,gi=Q.pstyle("border-opacity").value*bt;L.lineJoin="miter";var I=function(){var te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di;nt.eleFillStyle(L,Q,te)},A=function(){var Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gi;nt.colorStrokeStyle(L,fi[0],fi[1],fi[2],Q)},vi=Q.pstyle("shape").strValue,mi=Q.pstyle("shape-polygon-points").pfValue;if(sn){L.translate(ot.x,ot.y);var bi=nt.nodePathCache=nt.nodePathCache||[],xi=De("polygon"===vi?vi+","+mi.join(","):vi,""+Ne,""+re),Ti=bi[xi];null!=Ti?(at=Ti,ln=!0,rt.pathCache=at):(at=new Path2D,bi[xi]=rt.pathCache=at)}var j=function(){if(!ln){var te=ot;sn&&(te={x:0,y:0}),nt.nodeShapes[nt.getNodeShape(Q)].draw(at||L,te.x,te.y,re,Ne)}sn?L.fill(at):L.fill()},q=function(){for(var te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,re=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Ne=it.backgrounding,$e=0,Ue=0;Ue<xn.length;Ue++){var tt=Q.cy().style().getIndexedStyle(Q,"background-image-containment","value",Ue);re&&"over"===tt||!re&&"inside"===tt?$e++:dn[Ue]&&xn[Ue].complete&&!xn[Ue].error&&($e++,nt.drawInscribedImage(L,xn[Ue],Q,Ue,te))}it.backgrounding=!($e===Wn),Ne!==it.backgrounding&&Q.updateStyle(!1)},Y=function(){var te=arguments.length>0&&void 0!==arguments[0]&&arguments[0],$e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt;nt.hasPie(Q)&&(nt.drawPie(L,Q,$e),te&&(sn||nt.nodeShapes[nt.getNodeShape(Q)].draw(L,ot.x,ot.y,re,Ne)))},X=function(){var Q=(ti>0?ti:-ti)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt),te=ti>0?0:255;0!==ti&&(nt.colorFillStyle(L,te,te,te,Q),sn?L.fill(at):L.fill())},W=function(){if(ni>0){if(L.lineWidth=ni,L.lineCap="butt",L.setLineDash)switch(pi){case"dotted":L.setLineDash([1,1]);break;case"dashed":L.setLineDash([4,2]);break;case"solid":case"double":L.setLineDash([])}if(sn?L.stroke(at):L.stroke(),"double"===pi){L.lineWidth=ni/3;var Q=L.globalCompositeOperation;L.globalCompositeOperation="destination-out",sn?L.stroke(at):L.stroke(),L.globalCompositeOperation=Q}L.setLineDash&&L.setLineDash([])}},H=function(){Ue&&nt.drawNodeOverlay(L,Q,ot,re,Ne)},K=function(){Ue&&nt.drawNodeUnderlay(L,Q,ot,re,Ne)},G=function(){nt.drawElementText(L,Q,null,$e)};if("yes"===Q.pstyle("ghost").value){var Pi=Q.pstyle("ghost-offset-x").pfValue,Mi=Q.pstyle("ghost-offset-y").pfValue,Oi=Q.pstyle("ghost-opacity").value,Li=Oi*bt;L.translate(Pi,Mi),I(Oi*di),j(),q(Li,!0),A(Oi*gi),W(),Y(0!==ti||0!==ni),q(Li,!1),X(Li),L.translate(-Pi,-Mi)}sn&&L.translate(-ot.x,-ot.y),K(),sn&&L.translate(ot.x,ot.y),I(),j(),q(bt,!0),A(),W(),Y(0!==ti||0!==ni),q(bt,!1),X(),sn&&L.translate(-ot.x,-ot.y),G(),H(),te&&L.translate(dt.x1,dt.y1)}}},wu=function(L){if(!["overlay","underlay"].includes(L))throw new Error("Invalid state");return function(Q,te,re,Ne,$e){if(te.visible()){var Ue=te.pstyle("".concat(L,"-padding")).pfValue,tt=te.pstyle("".concat(L,"-opacity")).value,nt=te.pstyle("".concat(L,"-color")).value,it=te.pstyle("".concat(L,"-shape")).value;if(tt>0){if(re=re||te.position(),null==Ne||null==$e){var rt=te.padding();Ne=te.width()+2*rt,$e=te.height()+2*rt}this.colorFillStyle(Q,nt[0],nt[1],nt[2],tt),this.nodeShapes[it].draw(Q,re.x,re.y,Ne+2*Ue,$e+2*Ue),Q.fill()}}}};Yc.drawNodeOverlay=wu("overlay"),Yc.drawNodeUnderlay=wu("underlay"),Yc.hasPie=function(L){return(L=L[0])._private.hasPie},Yc.drawPie=function(L,Q,te,re){Q=Q[0],re=re||Q.position();var Ne=Q.cy().style(),$e=Q.pstyle("pie-size"),Ue=re.x,tt=re.y,nt=Q.width(),it=Q.height(),rt=Math.min(nt,it)/2,ot=0;this.usePaths()&&(Ue=0,tt=0),"%"===$e.units?rt*=$e.pfValue:void 0!==$e.pfValue&&(rt=$e.pfValue/2);for(var at=1;at<=Ne.pieBackgroundN;at++){var dt=Q.pstyle("pie-"+at+"-background-size").value,bt=Q.pstyle("pie-"+at+"-background-color").value,sn=Q.pstyle("pie-"+at+"-background-opacity").value*te,ln=dt/100;ln+ot>1&&(ln=1-ot);var un=1.5*Math.PI+2*Math.PI*ot,cn=un+2*Math.PI*ln;0===dt||ot>=1||ot+ln>1||(L.beginPath(),L.moveTo(Ue,tt),L.arc(Ue,tt,rt,un,cn),L.closePath(),this.colorFillStyle(L,bt[0],bt[1],bt[2],sn),L.fill(),ot+=ln)}};for(var Xc={getPixelRatio:function(){var L=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var Q=L.backingStorePixelRatio||L.webkitBackingStorePixelRatio||L.mozBackingStorePixelRatio||L.msBackingStorePixelRatio||L.oBackingStorePixelRatio||L.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/Q},paintCache:function(L){for(var Q,te=this.paintCaches=this.paintCaches||[],re=!0,Ne=0;Ne<te.length;Ne++)if((Q=te[Ne]).context===L){re=!1;break}return re&&(Q={context:L},te.push(Q)),Q},createGradientStyleFor:function(L,Q,te,re,Ne){var $e,Ue=this.usePaths(),tt=te.pstyle(Q+"-gradient-stop-colors").value,nt=te.pstyle(Q+"-gradient-stop-positions").pfValue;if("radial-gradient"===re)if(te.isEdge()){var it=te.sourceEndpoint(),rt=te.targetEndpoint(),ot=te.midpoint(),at=wt(it,ot),dt=wt(rt,ot);$e=L.createRadialGradient(ot.x,ot.y,0,ot.x,ot.y,Math.max(at,dt))}else{var bt=Ue?{x:0,y:0}:te.position(),sn=te.paddedWidth(),ln=te.paddedHeight();$e=L.createRadialGradient(bt.x,bt.y,0,bt.x,bt.y,Math.max(sn,ln))}else if(te.isEdge()){var un=te.sourceEndpoint(),cn=te.targetEndpoint();$e=L.createLinearGradient(un.x,un.y,cn.x,cn.y)}else{var dn=Ue?{x:0,y:0}:te.position(),xn=te.paddedWidth()/2,Wn=te.paddedHeight()/2;switch(te.pstyle("background-gradient-direction").value){case"to-bottom":$e=L.createLinearGradient(dn.x,dn.y-Wn,dn.x,dn.y+Wn);break;case"to-top":$e=L.createLinearGradient(dn.x,dn.y+Wn,dn.x,dn.y-Wn);break;case"to-left":$e=L.createLinearGradient(dn.x+xn,dn.y,dn.x-xn,dn.y);break;case"to-right":$e=L.createLinearGradient(dn.x-xn,dn.y,dn.x+xn,dn.y);break;case"to-bottom-right":case"to-right-bottom":$e=L.createLinearGradient(dn.x-xn,dn.y-Wn,dn.x+xn,dn.y+Wn);break;case"to-top-right":case"to-right-top":$e=L.createLinearGradient(dn.x-xn,dn.y+Wn,dn.x+xn,dn.y-Wn);break;case"to-bottom-left":case"to-left-bottom":$e=L.createLinearGradient(dn.x+xn,dn.y-Wn,dn.x-xn,dn.y+Wn);break;case"to-top-left":case"to-left-top":$e=L.createLinearGradient(dn.x+xn,dn.y+Wn,dn.x-xn,dn.y-Wn)}}if(!$e)return null;for(var Yn=nt.length===tt.length,Xn=tt.length,Kn=0;Kn<Xn;Kn++)$e.addColorStop(Yn?nt[Kn]:Kn/(Xn-1),"rgba("+tt[Kn][0]+","+tt[Kn][1]+","+tt[Kn][2]+","+Ne+")");return $e},gradientFillStyle:function(L,Q,te,re){var Ne=this.createGradientStyleFor(L,"background",Q,te,re);if(!Ne)return null;L.fillStyle=Ne},colorFillStyle:function(L,Q,te,re,Ne){L.fillStyle="rgba("+Q+","+te+","+re+","+Ne+")"},eleFillStyle:function(L,Q,te){var re=Q.pstyle("background-fill").value;if("linear-gradient"===re||"radial-gradient"===re)this.gradientFillStyle(L,Q,re,te);else{var Ne=Q.pstyle("background-color").value;this.colorFillStyle(L,Ne[0],Ne[1],Ne[2],te)}},gradientStrokeStyle:function(L,Q,te,re){var Ne=this.createGradientStyleFor(L,"line",Q,te,re);if(!Ne)return null;L.strokeStyle=Ne},colorStrokeStyle:function(L,Q,te,re,Ne){L.strokeStyle="rgba("+Q+","+te+","+re+","+Ne+")"},eleStrokeStyle:function(L,Q,te){var re=Q.pstyle("line-fill").value;if("linear-gradient"===re||"radial-gradient"===re)this.gradientStrokeStyle(L,Q,re,te);else{var Ne=Q.pstyle("line-color").value;this.colorStrokeStyle(L,Ne[0],Ne[1],Ne[2],te)}},matchCanvasSize:function(L){var Q=this,te=Q.data,re=Q.findContainerClientCoords(),Ne=re[2],$e=re[3],Ue=Q.getPixelRatio(),tt=Q.motionBlurPxRatio;L!==Q.data.bufferCanvases[Q.MOTIONBLUR_BUFFER_NODE]&&L!==Q.data.bufferCanvases[Q.MOTIONBLUR_BUFFER_DRAG]||(Ue=tt);var nt,it=Ne*Ue,rt=$e*Ue;if(it!==Q.canvasWidth||rt!==Q.canvasHeight){Q.fontCaches=null;var ot=te.canvasContainer;ot.style.width=Ne+"px",ot.style.height=$e+"px";for(var at=0;at<Q.CANVAS_LAYERS;at++)(nt=te.canvases[at]).width=it,nt.height=rt,nt.style.width=Ne+"px",nt.style.height=$e+"px";for(at=0;at<Q.BUFFER_COUNT;at++)(nt=te.bufferCanvases[at]).width=it,nt.height=rt,nt.style.width=Ne+"px",nt.style.height=$e+"px";Q.textureMult=1,Ue<=1&&(nt=te.bufferCanvases[Q.TEXTURE_BUFFER],Q.textureMult=2,nt.width=it*Q.textureMult,nt.height=rt*Q.textureMult),Q.canvasWidth=it,Q.canvasHeight=rt}},renderTo:function(L,Q,te,re){this.render({forcedContext:L,forcedZoom:Q,forcedPan:te,drawAllLayers:!0,forcedPxRatio:re})},render:function(L){var Q=(L=L||Ye()).forcedContext,te=L.drawAllLayers,re=L.drawOnlyNodeLayer,Ne=L.forcedZoom,$e=L.forcedPan,Ue=this,tt=void 0===L.forcedPxRatio?this.getPixelRatio():L.forcedPxRatio,nt=Ue.cy,it=Ue.data,rt=it.canvasNeedsRedraw,ot=Ue.textureOnViewport&&!Q&&(Ue.pinching||Ue.hoverData.dragging||Ue.swipePanning||Ue.data.wheelZooming),at=void 0!==L.motionBlur?L.motionBlur:Ue.motionBlur,dt=Ue.motionBlurPxRatio,bt=nt.hasCompoundNodes(),sn=Ue.hoverData.draggingEles,ln=!(!Ue.hoverData.selecting&&!Ue.touchData.selecting),un=at=at&&!Q&&Ue.motionBlurEnabled&&!ln;Q||(Ue.prevPxRatio!==tt&&(Ue.invalidateContainerClientCoordsCache(),Ue.matchCanvasSize(Ue.container),Ue.redrawHint("eles",!0),Ue.redrawHint("drag",!0)),Ue.prevPxRatio=tt),!Q&&Ue.motionBlurTimeout&&clearTimeout(Ue.motionBlurTimeout),at&&(null==Ue.mbFrames&&(Ue.mbFrames=0),Ue.mbFrames++,Ue.mbFrames<3&&(un=!1),Ue.mbFrames>Ue.minMbLowQualFrames&&(Ue.motionBlurPxRatio=Ue.mbPxRBlurry)),Ue.clearingMotionBlur&&(Ue.motionBlurPxRatio=1),Ue.textureDrawLastFrame&&!ot&&(rt[Ue.NODE]=!0,rt[Ue.SELECT_BOX]=!0);var cn=nt.style(),dn=nt.zoom(),xn=void 0!==Ne?Ne:dn,Wn=nt.pan(),Yn={x:Wn.x,y:Wn.y},Xn={zoom:dn,pan:{x:Wn.x,y:Wn.y}},Kn=Ue.prevViewport;void 0===Kn||Xn.zoom!==Kn.zoom||Xn.pan.x!==Kn.pan.x||Xn.pan.y!==Kn.pan.y||sn&&!bt||(Ue.motionBlurPxRatio=1),$e&&(Yn=$e),xn*=tt,Yn.x*=tt,Yn.y*=tt;var ti=Ue.getCachedZSortedEles();function P(L,Q,te,re,Ne){var $e=L.globalCompositeOperation;L.globalCompositeOperation="destination-out",Ue.colorFillStyle(L,255,255,255,Ue.motionBlurTransparency),L.fillRect(Q,te,re,Ne),L.globalCompositeOperation=$e}function D(L,re){var tt,nt,rt,ot;Ue.clearingMotionBlur||L!==it.bufferContexts[Ue.MOTIONBLUR_BUFFER_NODE]&&L!==it.bufferContexts[Ue.MOTIONBLUR_BUFFER_DRAG]?(tt=Yn,nt=xn,rt=Ue.canvasWidth,ot=Ue.canvasHeight):(tt={x:Wn.x*dt,y:Wn.y*dt},nt=dn*dt,rt=Ue.canvasWidth*dt,ot=Ue.canvasHeight*dt),L.setTransform(1,0,0,1,0,0),"motionBlur"===re?P(L,0,0,rt,ot):Q||void 0!==re&&!re||L.clearRect(0,0,rt,ot),te||(L.translate(tt.x,tt.y),L.scale(nt,nt)),$e&&L.translate($e.x,$e.y),Ne&&L.scale(Ne,Ne)}if(ot||(Ue.textureDrawLastFrame=!1),ot){if(Ue.textureDrawLastFrame=!0,!Ue.textureCache){Ue.textureCache={},Ue.textureCache.bb=nt.mutableElements().boundingBox(),Ue.textureCache.texture=Ue.data.bufferCanvases[Ue.TEXTURE_BUFFER];var ni=Ue.data.bufferContexts[Ue.TEXTURE_BUFFER];ni.setTransform(1,0,0,1,0,0),ni.clearRect(0,0,Ue.canvasWidth*Ue.textureMult,Ue.canvasHeight*Ue.textureMult),Ue.render({forcedContext:ni,drawOnlyNodeLayer:!0,forcedPxRatio:tt*Ue.textureMult}),(Xn=Ue.textureCache.viewport={zoom:nt.zoom(),pan:nt.pan(),width:Ue.canvasWidth,height:Ue.canvasHeight}).mpan={x:(0-Xn.pan.x)/Xn.zoom,y:(0-Xn.pan.y)/Xn.zoom}}rt[Ue.DRAG]=!1,rt[Ue.NODE]=!1;var di=it.contexts[Ue.NODE],fi=Ue.textureCache.texture;Xn=Ue.textureCache.viewport,di.setTransform(1,0,0,1,0,0),at?P(di,0,0,Xn.width,Xn.height):di.clearRect(0,0,Xn.width,Xn.height);var pi=cn.core("outside-texture-bg-color").value,gi=cn.core("outside-texture-bg-opacity").value;Ue.colorFillStyle(di,pi[0],pi[1],pi[2],gi),di.fillRect(0,0,Xn.width,Xn.height),dn=nt.zoom(),D(di,!1),di.clearRect(Xn.mpan.x,Xn.mpan.y,Xn.width/Xn.zoom/tt,Xn.height/Xn.zoom/tt),di.drawImage(fi,Xn.mpan.x,Xn.mpan.y,Xn.width/Xn.zoom/tt,Xn.height/Xn.zoom/tt)}else Ue.textureOnViewport&&!Q&&(Ue.textureCache=null);var vi=nt.extent(),mi=Ue.pinching||Ue.hoverData.dragging||Ue.swipePanning||Ue.data.wheelZooming||Ue.hoverData.draggingEles||Ue.cy.animated(),bi=Ue.hideEdgesOnViewport&&mi,xi=[];if(xi[Ue.NODE]=!rt[Ue.NODE]&&at&&!Ue.clearedForMotionBlur[Ue.NODE]||Ue.clearingMotionBlur,xi[Ue.NODE]&&(Ue.clearedForMotionBlur[Ue.NODE]=!0),xi[Ue.DRAG]=!rt[Ue.DRAG]&&at&&!Ue.clearedForMotionBlur[Ue.DRAG]||Ue.clearingMotionBlur,xi[Ue.DRAG]&&(Ue.clearedForMotionBlur[Ue.DRAG]=!0),rt[Ue.NODE]||te||re||xi[Ue.NODE]){var Ti=at&&!xi[Ue.NODE]&&1!==dt;D(di=Q||(Ti?Ue.data.bufferContexts[Ue.MOTIONBLUR_BUFFER_NODE]:it.contexts[Ue.NODE]),at&&!Ti?"motionBlur":void 0),bi?Ue.drawCachedNodes(di,ti.nondrag,tt,vi):Ue.drawLayeredElements(di,ti.nondrag,tt,vi),Ue.debug&&Ue.drawDebugPoints(di,ti.nondrag),te||at||(rt[Ue.NODE]=!1)}if(!re&&(rt[Ue.DRAG]||te||xi[Ue.DRAG])&&(Ti=at&&!xi[Ue.DRAG]&&1!==dt,D(di=Q||(Ti?Ue.data.bufferContexts[Ue.MOTIONBLUR_BUFFER_DRAG]:it.contexts[Ue.DRAG]),at&&!Ti?"motionBlur":void 0),bi?Ue.drawCachedNodes(di,ti.drag,tt,vi):Ue.drawCachedElements(di,ti.drag,tt,vi),Ue.debug&&Ue.drawDebugPoints(di,ti.drag),te||at||(rt[Ue.DRAG]=!1)),Ue.showFps||!re&&rt[Ue.SELECT_BOX]&&!te){if(D(di=Q||it.contexts[Ue.SELECT_BOX]),1==Ue.selection[4]&&(Ue.hoverData.selecting||Ue.touchData.selecting)){dn=Ue.cy.zoom();var Pi=cn.core("selection-box-border-width").value/dn;di.lineWidth=Pi,di.fillStyle="rgba("+cn.core("selection-box-color").value[0]+","+cn.core("selection-box-color").value[1]+","+cn.core("selection-box-color").value[2]+","+cn.core("selection-box-opacity").value+")",di.fillRect(Ue.selection[0],Ue.selection[1],Ue.selection[2]-Ue.selection[0],Ue.selection[3]-Ue.selection[1]),Pi>0&&(di.strokeStyle="rgba("+cn.core("selection-box-border-color").value[0]+","+cn.core("selection-box-border-color").value[1]+","+cn.core("selection-box-border-color").value[2]+","+cn.core("selection-box-opacity").value+")",di.strokeRect(Ue.selection[0],Ue.selection[1],Ue.selection[2]-Ue.selection[0],Ue.selection[3]-Ue.selection[1]))}if(it.bgActivePosistion&&!Ue.hoverData.selecting){dn=Ue.cy.zoom();var Mi=it.bgActivePosistion;di.fillStyle="rgba("+cn.core("active-bg-color").value[0]+","+cn.core("active-bg-color").value[1]+","+cn.core("active-bg-color").value[2]+","+cn.core("active-bg-opacity").value+")",di.beginPath(),di.arc(Mi.x,Mi.y,cn.core("active-bg-size").pfValue/dn,0,2*Math.PI),di.fill()}var Oi=Ue.lastRedrawTime;if(Ue.showFps&&Oi){Oi=Math.round(Oi);var Li=Math.round(1e3/Oi);di.setTransform(1,0,0,1,0,0),di.fillStyle="rgba(255, 0, 0, 0.75)",di.strokeStyle="rgba(255, 0, 0, 0.75)",di.lineWidth=1,di.fillText("1 frame = "+Oi+" ms = "+Li+" fps",0,20),di.strokeRect(0,30,250,20),di.fillRect(0,30,250*Math.min(Li/60,1),20)}te||(rt[Ue.SELECT_BOX]=!1)}if(at&&1!==dt){var ji=it.contexts[Ue.NODE],Ri=Ue.data.bufferCanvases[Ue.MOTIONBLUR_BUFFER_NODE],Fi=it.contexts[Ue.DRAG],Hi=Ue.data.bufferCanvases[Ue.MOTIONBLUR_BUFFER_DRAG],H=function(L,Q,te){L.setTransform(1,0,0,1,0,0),te||!un?L.clearRect(0,0,Ue.canvasWidth,Ue.canvasHeight):P(L,0,0,Ue.canvasWidth,Ue.canvasHeight);var re=dt;L.drawImage(Q,0,0,Ue.canvasWidth*re,Ue.canvasHeight*re,0,0,Ue.canvasWidth,Ue.canvasHeight)};(rt[Ue.NODE]||xi[Ue.NODE])&&(H(ji,Ri,xi[Ue.NODE]),rt[Ue.NODE]=!1),(rt[Ue.DRAG]||xi[Ue.DRAG])&&(H(Fi,Hi,xi[Ue.DRAG]),rt[Ue.DRAG]=!1)}Ue.prevViewport=Xn,Ue.clearingMotionBlur&&(Ue.clearingMotionBlur=!1,Ue.motionBlurCleared=!0,Ue.motionBlur=!0),at&&(Ue.motionBlurTimeout=setTimeout((function(){Ue.motionBlurTimeout=null,Ue.clearedForMotionBlur[Ue.NODE]=!1,Ue.clearedForMotionBlur[Ue.DRAG]=!1,Ue.motionBlur=!1,Ue.clearingMotionBlur=!ot,Ue.mbFrames=0,rt[Ue.NODE]=!0,rt[Ue.DRAG]=!0,Ue.redraw()}),100)),Q||nt.emit("render")}},$c={drawPolygonPath:function(L,Q,te,re,Ne,$e){var Ue=re/2,tt=Ne/2;L.beginPath&&L.beginPath(),L.moveTo(Q+Ue*$e[0],te+tt*$e[1]);for(var nt=1;nt<$e.length/2;nt++)L.lineTo(Q+Ue*$e[2*nt],te+tt*$e[2*nt+1]);L.closePath()},drawRoundPolygonPath:function(L,Q,te,re,Ne,$e){var Ue=re/2,tt=Ne/2,nt=en(re,Ne);L.beginPath&&L.beginPath();for(var it=0;it<$e.length/4;it++){var rt,ot=void 0;ot=0===it?$e.length-2:4*it-2,rt=4*it+2;var at=Q+Ue*$e[4*it],dt=te+tt*$e[4*it+1],bt=-$e[ot]*$e[rt]-$e[ot+1]*$e[rt+1],sn=nt/Math.tan(Math.acos(bt)/2),ln=at-sn*$e[ot],un=dt-sn*$e[ot+1],cn=at+sn*$e[rt],dn=dt+sn*$e[rt+1];0===it?L.moveTo(ln,un):L.lineTo(ln,un),L.arcTo(at,dt,cn,dn,nt)}L.closePath()},drawRoundRectanglePath:function(L,Q,te,re,Ne){var $e=re/2,Ue=Ne/2,tt=Jt(re,Ne);L.beginPath&&L.beginPath(),L.moveTo(Q,te-Ue),L.arcTo(Q+$e,te-Ue,Q+$e,te,tt),L.arcTo(Q+$e,te+Ue,Q,te+Ue,tt),L.arcTo(Q-$e,te+Ue,Q-$e,te,tt),L.arcTo(Q-$e,te-Ue,Q,te-Ue,tt),L.lineTo(Q,te-Ue),L.closePath()},drawBottomRoundRectanglePath:function(L,Q,te,re,Ne){var $e=re/2,Ue=Ne/2,tt=Jt(re,Ne);L.beginPath&&L.beginPath(),L.moveTo(Q,te-Ue),L.lineTo(Q+$e,te-Ue),L.lineTo(Q+$e,te),L.arcTo(Q+$e,te+Ue,Q,te+Ue,tt),L.arcTo(Q-$e,te+Ue,Q-$e,te,tt),L.lineTo(Q-$e,te-Ue),L.lineTo(Q,te-Ue),L.closePath()},drawCutRectanglePath:function(L,Q,te,re,Ne){var $e=re/2,Ue=Ne/2;L.beginPath&&L.beginPath(),L.moveTo(Q-$e+8,te-Ue),L.lineTo(Q+$e-8,te-Ue),L.lineTo(Q+$e,te-Ue+8),L.lineTo(Q+$e,te+Ue-8),L.lineTo(Q+$e-8,te+Ue),L.lineTo(Q-$e+8,te+Ue),L.lineTo(Q-$e,te+Ue-8),L.lineTo(Q-$e,te-Ue+8),L.closePath()},drawBarrelPath:function(L,Q,te,re,Ne){var $e=re/2,Ue=Ne/2,tt=Q-$e,nt=Q+$e,it=te-Ue,rt=te+Ue,ot=tn(re,Ne),at=ot.widthOffset,dt=ot.heightOffset,bt=ot.ctrlPtOffsetPct*at;L.beginPath&&L.beginPath(),L.moveTo(tt,it+dt),L.lineTo(tt,rt-dt),L.quadraticCurveTo(tt+bt,rt,tt+at,rt),L.lineTo(nt-at,rt),L.quadraticCurveTo(nt-bt,rt,nt,rt-dt),L.lineTo(nt,it+dt),L.quadraticCurveTo(nt-bt,it,nt-at,it),L.lineTo(tt+at,it),L.quadraticCurveTo(tt+bt,it,tt,it+dt),L.closePath()}},Gc=Math.sin(0),Uc=Math.cos(0),Kc={},Zc={},Jc=Math.PI/40,Qc=0*Math.PI;Qc<2*Math.PI;Qc+=Jc)Kc[Qc]=Math.sin(Qc),Zc[Qc]=Math.cos(Qc);$c.drawEllipsePath=function(L,Q,te,re,Ne){if(L.beginPath&&L.beginPath(),L.ellipse)L.ellipse(Q,te,re/2,Ne/2,0,0,2*Math.PI);else for(var $e,Ue,tt=re/2,nt=Ne/2,it=0*Math.PI;it<2*Math.PI;it+=Jc)$e=Q-tt*Kc[it]*Gc+tt*Zc[it]*Uc,Ue=te+nt*Zc[it]*Gc+nt*Kc[it]*Uc,0===it?L.moveTo($e,Ue):L.lineTo($e,Ue);L.closePath()};var eh={};function Bu(L){var Q=L.indexOf(",");return L.substr(Q+1)}function Nu(L,Q,te){var r=function(){return Q.toDataURL(te,L.quality)};switch(L.output){case"blob-promise":return new To((function(re,Ne){try{Q.toBlob((function(L){null!=L?re(L):Ne(new Error("`canvas.toBlob()` sent a null value in its callback"))}),te,L.quality)}catch(L){Ne(L)}}));case"blob":return function(L,Q){for(var te=atob(L),re=new ArrayBuffer(te.length),Ne=new Uint8Array(re),$e=0;$e<te.length;$e++)Ne[$e]=te.charCodeAt($e);return new Blob([re],{type:Q})}(Bu(r()),te);case"base64":return Bu(r());default:return r()}}eh.createBuffer=function(L,Q){var te=document.createElement("canvas");return te.width=L,te.height=Q,[te,te.getContext("2d")]},eh.bufferCanvasImage=function(L){var Q=this.cy,te=Q.mutableElements().boundingBox(),re=this.findContainerClientCoords(),Ne=L.full?Math.ceil(te.w):re[2],$e=L.full?Math.ceil(te.h):re[3],Ue=m(L.maxWidth)||m(L.maxHeight),tt=this.getPixelRatio(),nt=1;if(void 0!==L.scale)Ne*=L.scale,$e*=L.scale,nt=L.scale;else if(Ue){var it=1/0,rt=1/0;m(L.maxWidth)&&(it=nt*L.maxWidth/Ne),m(L.maxHeight)&&(rt=nt*L.maxHeight/$e),Ne*=nt=Math.min(it,rt),$e*=nt}Ue||(Ne*=tt,$e*=tt,nt*=tt);var ot=document.createElement("canvas");ot.width=Ne,ot.height=$e,ot.style.width=Ne+"px",ot.style.height=$e+"px";var at=ot.getContext("2d");if(Ne>0&&$e>0){at.clearRect(0,0,Ne,$e),at.globalCompositeOperation="source-over";var dt=this.getCachedZSortedEles();if(L.full)at.translate(-te.x1*nt,-te.y1*nt),at.scale(nt,nt),this.drawElements(at,dt),at.scale(1/nt,1/nt),at.translate(te.x1*nt,te.y1*nt);else{var bt=Q.pan(),sn={x:bt.x*nt,y:bt.y*nt};nt*=Q.zoom(),at.translate(sn.x,sn.y),at.scale(nt,nt),this.drawElements(at,dt),at.scale(1/nt,1/nt),at.translate(-sn.x,-sn.y)}L.bg&&(at.globalCompositeOperation="destination-over",at.fillStyle=L.bg,at.rect(0,0,Ne,$e),at.fill())}return ot},eh.png=function(L){return Nu(L,this.bufferCanvasImage(L),"image/png")},eh.jpg=function(L){return Nu(L,this.bufferCanvasImage(L),"image/jpeg")};var th={nodeShapeImpl:function(L,Q,te,re,Ne,$e,Ue){switch(L){case"ellipse":return this.drawEllipsePath(Q,te,re,Ne,$e);case"polygon":return this.drawPolygonPath(Q,te,re,Ne,$e,Ue);case"round-polygon":return this.drawRoundPolygonPath(Q,te,re,Ne,$e,Ue);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(Q,te,re,Ne,$e);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(Q,te,re,Ne,$e);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(Q,te,re,Ne,$e);case"barrel":return this.drawBarrelPath(Q,te,re,Ne,$e)}}},nh=Lu,ih=Lu.prototype;function Lu(L){var te=this;te.data={canvases:new Array(ih.CANVAS_LAYERS),contexts:new Array(ih.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ih.CANVAS_LAYERS),bufferCanvases:new Array(ih.BUFFER_COUNT),bufferContexts:new Array(ih.CANVAS_LAYERS)},te.data.canvasContainer=document.createElement("div");var re=te.data.canvasContainer.style;te.data.canvasContainer.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",re.position="relative",re.zIndex="0",re.overflow="hidden";var Ne=L.cy.container();Ne.appendChild(te.data.canvasContainer),Ne.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";var $e={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Q&&Q.userAgent.match(/msie|trident|edge/i)&&($e["-ms-touch-action"]="none",$e["touch-action"]="none");for(var Ue=0;Ue<ih.CANVAS_LAYERS;Ue++){var tt=te.data.canvases[Ue]=document.createElement("canvas");te.data.contexts[Ue]=tt.getContext("2d"),Object.keys($e).forEach((function(L){tt.style[L]=$e[L]})),tt.style.position="absolute",tt.setAttribute("data-id","layer"+Ue),tt.style.zIndex=String(ih.CANVAS_LAYERS-Ue),te.data.canvasContainer.appendChild(tt),te.data.canvasNeedsRedraw[Ue]=!1}for(te.data.topCanvas=te.data.canvases[0],te.data.canvases[ih.NODE].setAttribute("data-id","layer"+ih.NODE+"-node"),te.data.canvases[ih.SELECT_BOX].setAttribute("data-id","layer"+ih.SELECT_BOX+"-selectbox"),te.data.canvases[ih.DRAG].setAttribute("data-id","layer"+ih.DRAG+"-drag"),Ue=0;Ue<ih.BUFFER_COUNT;Ue++)te.data.bufferCanvases[Ue]=document.createElement("canvas"),te.data.bufferContexts[Ue]=te.data.bufferCanvases[Ue].getContext("2d"),te.data.bufferCanvases[Ue].style.position="absolute",te.data.bufferCanvases[Ue].setAttribute("data-id","buffer"+Ue),te.data.bufferCanvases[Ue].style.zIndex=String(-Ue-1),te.data.bufferCanvases[Ue].style.visibility="hidden";te.pathsEnabled=!0;var nt=Dt(),u=function(L){return{x:-L.w/2,y:-L.h/2}},c=function(L){return L.boundingBox(),L[0]._private.bodyBounds},d=function(L){return L.boundingBox(),L[0]._private.labelBounds.main||nt},h=function(L){return L.boundingBox(),L[0]._private.labelBounds.source||nt},p=function(L){return L.boundingBox(),L[0]._private.labelBounds.target||nt},f=function(L,Q){return Q},g=function(L,Q,te){var re=L?L+"-":"";return{x:Q.x+te.pstyle(re+"text-margin-x").pfValue,y:Q.y+te.pstyle(re+"text-margin-y").pfValue}},v=function(L,Q,te){var re=L[0]._private.rscratch;return{x:re[Q],y:re[te]}},it=te.data.eleTxrCache=new Ul(te,{getKey:function(L){return L[0]._private.nodeKey},doesEleInvalidateKey:function(L){var Q=L[0]._private;return!(Q.oldBackgroundTimestamp===Q.backgroundTimestamp)},drawElement:function(L,Q,re,Ne,$e){return te.drawElement(L,Q,re,!1,!1,$e)},getBoundingBox:c,getRotationPoint:function(L){return{x:((Q=c(L)).x1+Q.x2)/2,y:(Q.y1+Q.y2)/2};var Q},getRotationOffset:function(L){return u(c(L))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),rt=te.data.lblTxrCache=new Ul(te,{getKey:function(L){return L[0]._private.labelStyleKey},drawElement:function(L,Q,re,Ne,$e){return te.drawElementText(L,Q,re,Ne,"main",$e)},getBoundingBox:d,getRotationPoint:function(L){return g("",v(L,"labelX","labelY"),L)},getRotationOffset:function(L){var Q=d(L),te=u(d(L));if(L.isNode()){switch(L.pstyle("text-halign").value){case"left":te.x=-Q.w;break;case"right":te.x=0}switch(L.pstyle("text-valign").value){case"top":te.y=-Q.h;break;case"bottom":te.y=0}}return te},isVisible:f}),ot=te.data.slbTxrCache=new Ul(te,{getKey:function(L){return L[0]._private.sourceLabelStyleKey},drawElement:function(L,Q,re,Ne,$e){return te.drawElementText(L,Q,re,Ne,"source",$e)},getBoundingBox:h,getRotationPoint:function(L){return g("source",v(L,"sourceLabelX","sourceLabelY"),L)},getRotationOffset:function(L){return u(h(L))},isVisible:f}),at=te.data.tlbTxrCache=new Ul(te,{getKey:function(L){return L[0]._private.targetLabelStyleKey},drawElement:function(L,Q,re,Ne,$e){return te.drawElementText(L,Q,re,Ne,"target",$e)},getBoundingBox:p,getRotationPoint:function(L){return g("target",v(L,"targetLabelX","targetLabelY"),L)},getRotationOffset:function(L){return u(p(L))},isVisible:f}),dt=te.data.lyrTxrCache=new $l(te);te.onUpdateEleCalcs((function(L,Q){it.invalidateElements(Q),rt.invalidateElements(Q),ot.invalidateElements(Q),at.invalidateElements(Q),dt.invalidateElements(Q);for(var te=0;te<Q.length;te++){var re=Q[te]._private;re.oldBackgroundTimestamp=re.backgroundTimestamp}}));var E=function(L){for(var Q=0;Q<L.length;Q++)dt.enqueueElementRefinement(L[Q].ele)};it.onDequeue(E),rt.onDequeue(E),ot.onDequeue(E),at.onDequeue(E)}ih.CANVAS_LAYERS=3,ih.SELECT_BOX=0,ih.DRAG=1,ih.NODE=2,ih.BUFFER_COUNT=3,ih.TEXTURE_BUFFER=0,ih.MOTIONBLUR_BUFFER_NODE=1,ih.MOTIONBLUR_BUFFER_DRAG=2,ih.redrawHint=function(L,Q){var te=this;switch(L){case"eles":te.data.canvasNeedsRedraw[ih.NODE]=Q;break;case"drag":te.data.canvasNeedsRedraw[ih.DRAG]=Q;break;case"select":te.data.canvasNeedsRedraw[ih.SELECT_BOX]=Q}};var rh="undefined"!=typeof Path2D;ih.path2dEnabled=function(L){if(void 0===L)return this.pathsEnabled;this.pathsEnabled=!!L},ih.usePaths=function(){return rh&&this.pathsEnabled},ih.setImgSmoothing=function(L,Q){null!=L.imageSmoothingEnabled?L.imageSmoothingEnabled=Q:(L.webkitImageSmoothingEnabled=Q,L.mozImageSmoothingEnabled=Q,L.msImageSmoothingEnabled=Q)},ih.getImgSmoothing=function(L){return null!=L.imageSmoothingEnabled?L.imageSmoothingEnabled:L.webkitImageSmoothingEnabled||L.mozImageSmoothingEnabled||L.msImageSmoothingEnabled},ih.makeOffscreenCanvas=function(L,Q){var te;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":e(OffscreenCanvas))?te=new OffscreenCanvas(L,Q):((te=document.createElement("canvas")).width=L,te.height=Q),te},[Fc,Hc,qc,Wc,Vc,Yc,Xc,$c,eh,th].forEach((function(L){ot(ih,L)}));var oh=[{type:"layout",extensions:pc},{type:"renderer",extensions:[{name:"null",impl:bl},{name:"base",impl:Yl},{name:"canvas",impl:nh}]}],ah={},sh={};function ju(L,Q,te){var re=te,i=function(te){Ve("Can not register `"+Q+"` for `"+L+"` since `"+te+"` already exists in the prototype and can not be overridden")};if("core"===L){if(Ns.prototype[Q])return i(Q);Ns.prototype[Q]=te}else if("collection"===L){if(Zo.prototype[Q])return i(Q);Zo.prototype[Q]=te}else if("layout"===L){for(var a=function(L){this.options=L,te.call(this,L),y(this._private)||(this._private={}),this._private.cy=L.cy,this._private.listeners=[],this.createEmitter()},Ne=a.prototype=Object.create(te.prototype),$e=[],Ue=0;Ue<$e.length;Ue++){var tt=$e[Ue];Ne[tt]=Ne[tt]||function(){return this}}Ne.start&&!Ne.run?Ne.run=function(){return this.start(),this}:!Ne.start&&Ne.run&&(Ne.start=function(){return this.run(),this});var nt=te.prototype.stop;Ne.stop=function(){var L=this.options;if(L&&L.animate){var Q=this.animations;if(Q)for(var te=0;te<Q.length;te++)Q[te].stop()}return nt?nt.call(this):this.emit("layoutstop"),this},Ne.destroy||(Ne.destroy=function(){return this}),Ne.cy=function(){return this._private.cy};var d=function(L){return L._private.cy},it={addEventFields:function(L,Q){Q.layout=L,Q.cy=d(L),Q.target=L},bubble:function(){return!0},parent:function(L){return d(L)}};ot(Ne,{createEmitter:function(){return this._private.emitter=new go(it,this),this},emitter:function(){return this._private.emitter},on:function(L,Q){return this.emitter().on(L,Q),this},one:function(L,Q){return this.emitter().one(L,Q),this},once:function(L,Q){return this.emitter().one(L,Q),this},removeListener:function(L,Q){return this.emitter().removeListener(L,Q),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(L,Q){return this.emitter().emit(L,Q),this}}),za.eventAliasesOn(Ne),re=a}else if("renderer"===L&&"null"!==Q&&"base"!==Q){var rt=qu("renderer","base"),at=rt.prototype,dt=te,bt=te.prototype,m=function(){rt.apply(this,arguments),dt.apply(this,arguments)},sn=m.prototype;for(var ln in at){var un=at[ln];if(null!=bt[ln])return i(ln);sn[ln]=un}for(var cn in bt)sn[cn]=bt[cn];at.clientFunctions.forEach((function(L){sn[L]=sn[L]||function(){Oe("Renderer does not implement `renderer."+L+"()` on its prototype")}})),re=m}else if("__proto__"===L||"constructor"===L||"prototype"===L)return Oe(L+" is an illegal type to be registered, possibly lead to prototype pollutions");return O({map:ah,keys:[L,Q],value:re})}function qu(L,Q){return R({map:ah,keys:[L,Q]})}function Yu(L,Q,te,re,Ne){return O({map:sh,keys:[L,Q,te,re],value:Ne})}function Xu(L,Q,te,re){return R({map:sh,keys:[L,Q,te,re]})}var Wu=function(){return 2===arguments.length?qu.apply(null,arguments):3===arguments.length?ju.apply(null,arguments):4===arguments.length?Xu.apply(null,arguments):5===arguments.length?Yu.apply(null,arguments):void Oe("Invalid extension access syntax")};Ns.prototype.extension=Wu,oh.forEach((function(L){L.extensions.forEach((function(Q){ju(L.type,Q.name,Q.impl)}))}));var lh=function e(){if(!(this instanceof e))return new e;this.length=0},uh=lh.prototype;uh.instanceString=function(){return"stylesheet"},uh.selector=function(L){return this[this.length++]={selector:L,properties:[]},this},uh.css=function(L,Q){var te=this.length-1;if(f(L))this[te].properties.push({name:L,value:Q});else if(y(L))for(var re=L,Ne=Object.keys(re),$e=0;$e<Ne.length;$e++){var Ue=Ne[$e],tt=re[Ue];if(null!=tt){var it=Zu.properties[Ue]||Zu.properties[nt(Ue)];if(null!=it){var rt=it.name,ot=tt;this[te].properties.push({name:rt,value:ot})}}}return this},uh.style=uh.css,uh.generateStyle=function(L){var Q=new Zu(L);return this.appendToStyle(Q)},uh.appendToStyle=function(L){for(var Q=0;Q<this.length;Q++){var te=this[Q],re=te.selector,Ne=te.properties;L.selector(re);for(var $e=0;$e<Ne.length;$e++){var Ue=Ne[$e];L.css(Ue.name,Ue.value)}}return L};var Gu=function(L){return void 0===L&&(L={}),y(L)?new Ns(L):f(L)?Wu.apply(Wu,arguments):void 0};return Gu.use=function(L){var Q=Array.prototype.slice.call(arguments,1);return Q.unshift(Gu),L.apply(null,Q),this},Gu.warnings=function(L){return Re(L)},Gu.version="3.23.0",Gu.stylesheet=Gu.Stylesheet=lh,Gu}()},90295:function(L){L.exports='\n\n\n<div class="workbench-card-wrapper related-resources-graph-workbench" data-bind="class: ko.unwrap($data.workbenchWrapperClass)">\n    \x3c!-- ko if: showTabs --\x3e\n    <div class="workbench-card-sidebar">\n        \n<div class="workbench-card-sidebar-tab" data-bind="click: function() {\n    toggleTab(\'information\');\n}, css: {\n    \'active\': activeTab() === \'information\'\n}">\n    <i class="fa fa-info"></i>\n    <span class="map-sidebar-text" data-bind="text: $root.translations.info"></span>\n</div>\n<div class="workbench-card-sidebar-tab" data-bind="click: function() {\n    toggleTab(\'search\');\n}, css: {\n    \'active\': activeTab() === \'search\'\n}">\n    <i class="fa fa-search"></i>\n    <span class="map-sidebar-text" data-bind="text: $root.translations.search"></span>\n</div>\n\n<div class="workbench-card-sidebar-tab" data-bind="click: function() {\n    toggleTab(\'legend\');\n}, css: {\n    \'active\': activeTab() === \'legend\'\n}">\n    <i class="fa fa-list"></i>\n    <span class="map-sidebar-text" data-bind="text: $root.translations.legend"></span>\n</div>\n\n    </div>\n    \x3c!-- /ko --\x3e\n    \x3c!--ko if: activeTab() --\x3e\n    <div class="workbench-card-sidepanel" data-bind="css:{\'expanded\': expandSidePanel()}">\n        \n\x3c!--ko if: activeTab() === \'information\' --\x3e\n<div class="workbench-card-sidepanel-header-container">\n    <h4 class="workbench-card-sidepanel-header" data-bind="click: hideSidePanel">\n        <span data-bind="text: $root.translations.resourceInformation"></span>\n    </h4>\n</div>\n<div class="workbench-card-sidepanel-border"></div>\n\n<div class="related-resource-graph-information-content" data-bind="using: informationElement">\n    \x3c!--ko if: $data --\x3e\n    \x3c!--ko if: $parent.edgeInformation() --\x3e\n    <div class="edge-node-information" data-bind="event: {\n            mouseover: function() {\n                $parent.hoverElementId($parent.edgeInformation().source.id)\n            },\n            mouseout: function() {\n                $parent.hoverElementId(null);\n            }\n        }, css: {\'element-hover\': $parent.hoverElementId() === $parent.edgeInformation().source.id}">\n        <div class="edge-node-graph-color" data-bind="style: {backgroundColor: $parent.edgeInformation().sourceGraph.fillColor}"></div>\n        <div class="edge-node-title">\n            <div class="edge-node-display-name" data-bind="text: $parent.edgeInformation().source.displayname, click: function() {\n                $parent.informationElement($parent.edgeInformation().source);\n            }"></div>\n            <div class="edge-node-graph-name" data-bind="text: $parent.edgeInformation().sourceGraph.name"></div>\n        </div>\n    </div>\n    <div class="edge-relationship-information" data-bind="event: {\n            mouseover: function() {\n                $parent.hoverElementId($parent.edgeInformation().id)\n            },\n            mouseout: function() {\n                $parent.hoverElementId(null);\n            }\n        }, css: {\'element-hover\': $parent.hoverElementId() === $parent.edgeInformation().id}">\n        <div class="edge-relationship-arrow">\n            <div></div>\n        </div>\n        <div class="edge-relationship-details">\n            <div class="edge-relationship-prefix">\n                <span data-bind="text: $root.translations.hasRelationship"></span>\n            </div>\n            <div class="edge-relationship-label" data-bind="text: $parent.edgeInformation().label || $root.translations.relatedTo "></div>\n            <div class="edge-relationship-sufix">\n                <span data-bind="text: $root.translations.with"></span>\n            </div>\n        </div>\n    </div>\n    <div class="edge-node-information" data-bind="event: {\n            mouseover: function() {\n                $parent.hoverElementId($parent.edgeInformation().target.id)\n            },\n            mouseout: function() {\n                $parent.hoverElementId(null);\n            }\n        }, css: {\'element-hover\': $parent.hoverElementId() === $parent.edgeInformation().target.id}">\n        <div class="edge-node-graph-color" data-bind="style: {backgroundColor: $parent.edgeInformation().targetGraph.fillColor}"></div>\n        <div class="edge-node-title">\n            <div class="edge-node-display-name" data-bind="text: $parent.edgeInformation().target.displayname, click: function() {\n                $parent.informationElement($parent.edgeInformation().target);\n            }"></div>\n            <div class="edge-node-graph-name" data-bind="text: $parent.edgeInformation().targetGraph.name"></div>\n        </div>\n    </div>\n    \x3c!--/ko --\x3e\n    \x3c!--ko if: !$data.source --\x3e\n    <div class="edge-node-information node-display-name-header">\n        <div class="edge-node-graph-color" data-bind="style: {backgroundColor: $parent.informationGraph().fillColor}"></div>\n        <div class="edge-node-title">\n            <div class="edge-node-display-name" data-bind="text: displayname"></div>\n            <div class="edge-node-graph-name" data-bind="text: $parent.informationGraph().name"></div>\n            <div class="edge-node-links">\n                <span data-bind="click: $parent.viewInformationNodeReport">\n                    <i class="fa fa-info"></i>\n                    <span data-bind="text: $root.translations.report"></span>\n                </span>\n                &nbsp;&nbsp;|&nbsp;&nbsp;\n                <span data-bind="click: $parent.editInformationNode">\n                    <i class="fa fa-pencil"></i>\n                    <span data-bind="text: $root.translations.edit"></span>\n                </span>\n            </div>\n        </div>\n    </div>\n    <div class="relationships-list-header">\n        <span data-bind="text: $root.translations.relationships"></span>\n    </div>\n    <div class="relationships-list-count">\n        <span data-bind="text: $parent.informationElementRelationships().length"></span> / <span data-bind="text: totalRelations"></span>\n        <span data-bind="text: $root.translations.relationshipsShown"></span>\n        \x3c!--ko if: $parent.informationElementRelationships().length !== totalRelations --\x3e\n        <a href="javascript:void(0);" data-bind="click: function() {\n            $parent.expandNode($data);\n        }">\n            <span data-bind="text: $root.translations.loadMore"></span>\n        </a>\n        \x3c!--/ko --\x3e\n    </div>\n    <div class="relationships-list" data-bind="foreach: $parent.informationElementRelationships">\n        <div class="relationships-list-item">\n            <span data-bind="text: label || \'Related to\', click: function() {\n                informationElement(edge);\n            }, event: {\n                mouseover: function() {\n                    hoverElementId(edge.id)\n                },\n                mouseout: function() {\n                    hoverElementId(null);\n                }\n            }, css: {\'element-hover\': hoverElementId() === edge.id}" class="relationships-list-item-type"></span>\n            <i class="relationships-list-icon fa fa-angle-right"></i>\n            <span class="relationships-list-item-name" data-bind="click: function() {\n                informationElement(node);\n            }, event: {\n                mouseover: function() {\n                    hoverElementId(node.id)\n                },\n                mouseout: function() {\n                    hoverElementId(null);\n                }\n            }, css: {\'element-hover\': hoverElementId() === node.id}">\n                <span data-bind="text: node.displayname"></span>\n            </span>\n        </div>\n    </div>\n    \x3c!--/ko --\x3e\n    \x3c!--/ko --\x3e\n</div>\n\x3c!--/ko --\x3e\n\n\x3c!--ko if: activeTab() === \'search\' --\x3e\n<div class="workbench-card-sidepanel-header-container">\n    <h4 class="workbench-card-sidepanel-header" data-bind="click: hideSidePanel">\n        <span data-bind="text: $root.translations.searchNetwork"></span>\n    </h4>\n</div>\n<div class="workbench-card-sidepanel-border"></div>\n<div class="related-resources-search-body">\n<div class="related-reasources-search-container">\n    <input type="text" class="form-control" data-bind="\n            attr: {placeholder: $root.translations.filter + \'...\'},\n            value: nodeSearchFilter, \n            valueUpdate: \'afterkeydown\'\n        ">\n    <span class="clear-node-search" data-bind="click: function() { nodeSearchFilter(\'\'); }, visible: nodeSearchFilter() !== \'\'"><i class="fa fa-times-circle"></i></span>\n</div>\n<div class="related-reasources-search-list" data-bind="foreach: searchNodes">\n    <div class="edge-node-information" data-bind="event: {\n            mouseover: function() {\n                $parent.hoverElementId($data.id)\n            },\n            mouseout: function() {\n                $parent.hoverElementId(null);\n            }\n        }, css: {\'element-hover\': $parent.hoverElementId() === $data.id}">\n        <div class="edge-node-graph-color" data-bind="style: {backgroundColor: graph.fillColor}"></div>\n        <div class="edge-node-title">\n            <div class="edge-node-display-name" data-bind="text: displayname, click: function() {\n                $parent.informationElement($data);\n            }"></div>\n            <div class="edge-node-graph-name" data-bind="text: graph.name"></div>\n            <div class="relationships-list-count shim">\n                <span data-bind="text: shownRelationsCount"></span> / <span data-bind="text: totalRelations"></span>\n                <span data-bind="text: $root.translations.relationshipsShown"></span>\n                \x3c!--ko if: shownRelationsCount() !== totalRelations --\x3e\n                <a href="javascript:void(0);" data-bind="click: function() {\n                    $parent.expandNode($data);\n                }">\n                    <span data-bind="text: $root.translations.loadMore"></span>\n                </a>\n                \x3c!--/ko --\x3e\n            </div>\n        </div>\n    </div>\n</div>\n</div>\n\x3c!--/ko --\x3e\n\x3c!--ko if: activeTab() === \'analyze\' --\x3e\n<div class="workbench-card-sidepanel-header-container">\n    <h4 class="workbench-card-sidepanel-header" data-bind="click: hideSidePanel">\n        <span data-bind="text: $root.translations.analyzeNetwork"></span>\n    </h4>\n</div>\n\x3c!--/ko --\x3e\n\x3c!--ko if: activeTab() === \'settings\' --\x3e\n<div class="workbench-card-sidepanel-header-container">\n    <h4 class="workbench-card-sidepanel-header" data-bind="click: hideSidePanel">\n        <span data-bind="text: $root.translations.settings"></span>\n    </h4>\n</div>\n\x3c!--/ko --\x3e\n\x3c!--ko if: activeTab() === \'legend\' --\x3e\n<div class="workbench-card-sidepanel-header-container">\n    <h4 class="workbench-card-sidepanel-header" data-bind="click: hideSidePanel">\n        <span data-bind="text: $root.translations.legend"></span>\n    </h4>\n</div>\n<div class="workbench-card-sidepanel-border"></div>\n<div class="legend-listing-container" data-bind="foreach: legendEntries">\n    <div class="legend-listing related-resource-legend">\n        <div class="edge-node-information">\n            <div class="edge-node-graph-color" data-bind="style: {backgroundColor: fillColor}"></div>\n            <div class="edge-node-title">\n                <div class="edge-node-display-name" data-bind="text: name"></div>\n            </div>\n        </div>\n    </div>\n</div>\n\x3c!--/ko --\x3e\n\n    </div>\n    \x3c!--/ko --\x3e\n    <div class="workbench-card-container-wrapper" data-bind="css: {\n        \'workbench-card-container-sidepanel-active\': activeTab(), \'wide\': showTabs() === false\n    }">\n    \n<div class="related-resources-graph-controls">\n    <span class="ion-information-circled" data-bind="click: function() { selectionMode(\'information\'); }, css: {\n        \'active-graph-control\': selectionMode() === \'information\'\n    }"></span>\n    <span class="ion-plus" data-bind="click: function() { selectionMode(\'expand\'); }, css: {\n        \'active-graph-control\': selectionMode() === \'expand\'\n    }"></span>\n    <span class="ion-asterisk" data-bind="click: function() { selectionMode(\'focus\'); }, css: {\n        \'active-graph-control\': selectionMode() === \'focus\'\n    }"></span>\n    <span class="ion-eye-disabled" data-bind="click: function() { selectionMode(\'delete\'); }, css: {\n        \'active-graph-control\': selectionMode() === \'delete\'\n    }"></span>\n    <span class="ion-refresh" data-bind="click: refreshLayout"></span>\n</div>\n<div class="related-resources-graph-controls-instructions">\n\x3c!--ko if: selectionMode() === \'information\' --\x3e\n    <span data-bind="text: $root.translations.clickNodeInfo"></span>\n\x3c!--/ko --\x3e\n\x3c!--ko if: selectionMode() === \'expand\' --\x3e\n    <span data-bind="text: $root.translations.clickNodeRelationships"></span>\n\x3c!--/ko --\x3e\n\x3c!--ko if: selectionMode() === \'focus\' --\x3e\n    <span data-bind="text: $root.translations.clickNodeRefocus"></span>\n\x3c!--/ko --\x3e\n\x3c!--ko if: selectionMode() === \'delete\' --\x3e\n    <span data-bind="text: $root.translations.clickNodeRemove"></span>\n\x3c!--/ko --\x3e\n</div>\n\x3c!--ko if: cytoscapeConfig() --\x3e\n<div class="related-resources-graph-cytoscape" data-bind="cytoscape: {\n    afterRender: viz,\n    config: cytoscapeConfig\n}"></div>\n\x3c!--/ko --\x3e\n\n</div>\n</div>\n\n'},73070:function(L){L.exports='\n\n\n<div class="workbench-card-wrapper" data-bind="class: ko.unwrap($data.workbenchWrapperClass)">\n    \x3c!-- ko if: showTabs --\x3e\n    <div class="workbench-card-sidebar">\n        \n        \n    </div>\n    \x3c!-- /ko --\x3e\n    \x3c!--ko if: activeTab() --\x3e\n    <div class="workbench-card-sidepanel" data-bind="css:{\'expanded\': expandSidePanel()}">\n        \n        \n    </div>\n    \x3c!--/ko --\x3e\n    <div class="workbench-card-container-wrapper" data-bind="css: {\n        \'workbench-card-container-sidepanel-active\': activeTab(), \'wide\': showTabs() === false\n    }">\n    \n    <div class="workbench-card-container">\n    </div>\n    \n</div>\n</div>\n\n'},20198:function(L,Q){var te;!function(Q,te){"use strict";"object"==typeof L.exports?L.exports=Q.document?te(Q,!0):function(L){if(!L.document)throw new Error("jQuery requires a window with a document");return te(L)}:te(Q)}("undefined"!=typeof window?window:this,(function(re,Ne){"use strict";var $e=[],Ue=Object.getPrototypeOf,tt=$e.slice,nt=$e.flat?function(L){return $e.flat.call(L)}:function(L){return $e.concat.apply([],L)},it=$e.push,rt=$e.indexOf,ot={},at=ot.toString,dt=ot.hasOwnProperty,bt=dt.toString,sn=bt.call(Object),ln={},m=function(L){return"function"==typeof L&&"number"!=typeof L.nodeType&&"function"!=typeof L.item},x=function(L){return null!=L&&L===L.window},un=re.document,cn={type:!0,src:!0,nonce:!0,noModule:!0};function b(L,Q,te){var re,Ne,$e=(te=te||un).createElement("script");if($e.text=L,Q)for(re in cn)(Ne=Q[re]||Q.getAttribute&&Q.getAttribute(re))&&$e.setAttribute(re,Ne);te.head.appendChild($e).parentNode.removeChild($e)}function w(L){return null==L?L+"":"object"==typeof L||"function"==typeof L?ot[at.call(L)]||"object":typeof L}var dn="3.6.3",E=function(L,Q){return new E.fn.init(L,Q)};function p(L){var Q=!!L&&"length"in L&&L.length,te=w(L);return!m(L)&&!x(L)&&("array"===te||0===Q||"number"==typeof Q&&0<Q&&Q-1 in L)}E.fn=E.prototype={jquery:dn,constructor:E,length:0,toArray:function(){return tt.call(this)},get:function(L){return null==L?tt.call(this):L<0?this[L+this.length]:this[L]},pushStack:function(L){var Q=E.merge(this.constructor(),L);return Q.prevObject=this,Q},each:function(L){return E.each(this,L)},map:function(L){return this.pushStack(E.map(this,(function(Q,te){return L.call(Q,te,Q)})))},slice:function(){return this.pushStack(tt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,(function(L,Q){return(Q+1)%2})))},odd:function(){return this.pushStack(E.grep(this,(function(L,Q){return Q%2})))},eq:function(L){var Q=this.length,te=+L+(L<0?Q:0);return this.pushStack(0<=te&&te<Q?[this[te]]:[])},end:function(){return this.prevObject||this.constructor()},push:it,sort:$e.sort,splice:$e.splice},E.extend=E.fn.extend=function(){var L,Q,te,re,Ne,$e,Ue=arguments[0]||{},tt=1,nt=arguments.length,it=!1;for("boolean"==typeof Ue&&(it=Ue,Ue=arguments[tt]||{},tt++),"object"==typeof Ue||m(Ue)||(Ue={}),tt===nt&&(Ue=this,tt--);tt<nt;tt++)if(null!=(L=arguments[tt]))for(Q in L)re=L[Q],"__proto__"!==Q&&Ue!==re&&(it&&re&&(E.isPlainObject(re)||(Ne=Array.isArray(re)))?(te=Ue[Q],$e=Ne&&!Array.isArray(te)?[]:Ne||E.isPlainObject(te)?te:{},Ne=!1,Ue[Q]=E.extend(it,$e,re)):void 0!==re&&(Ue[Q]=re));return Ue},E.extend({expando:"jQuery"+(dn+Math.random()).replace(/\D/g,""),isReady:!0,error:function(L){throw new Error(L)},noop:function(){},isPlainObject:function(L){var Q,te;return!(!L||"[object Object]"!==at.call(L)||(Q=Ue(L))&&("function"!=typeof(te=dt.call(Q,"constructor")&&Q.constructor)||bt.call(te)!==sn))},isEmptyObject:function(L){var Q;for(Q in L)return!1;return!0},globalEval:function(L,Q,te){b(L,{nonce:Q&&Q.nonce},te)},each:function(L,Q){var te,re=0;if(p(L))for(te=L.length;re<te&&!1!==Q.call(L[re],re,L[re]);re++);else for(re in L)if(!1===Q.call(L[re],re,L[re]))break;return L},makeArray:function(L,Q){var te=Q||[];return null!=L&&(p(Object(L))?E.merge(te,"string"==typeof L?[L]:L):it.call(te,L)),te},inArray:function(L,Q,te){return null==Q?-1:rt.call(Q,L,te)},merge:function(L,Q){for(var te=+Q.length,re=0,Ne=L.length;re<te;re++)L[Ne++]=Q[re];return L.length=Ne,L},grep:function(L,Q,te){for(var re=[],Ne=0,$e=L.length,Ue=!te;Ne<$e;Ne++)!Q(L[Ne],Ne)!==Ue&&re.push(L[Ne]);return re},map:function(L,Q,te){var re,Ne,$e=0,Ue=[];if(p(L))for(re=L.length;$e<re;$e++)null!=(Ne=Q(L[$e],$e,te))&&Ue.push(Ne);else for($e in L)null!=(Ne=Q(L[$e],$e,te))&&Ue.push(Ne);return nt(Ue)},guid:1,support:ln}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=$e[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(L,Q){ot["[object "+Q+"]"]=Q.toLowerCase()}));var xn=function(L){var Q,te,re,Ne,$e,Ue,tt,nt,it,rt,ot,at,dt,bt,sn,ln,un,cn,dn,xn="sizzle"+1*new Date,Wn=L.document,Yn=0,Xn=0,Kn=ue(),ti=ue(),ni=ue(),di=ue(),j=function(L,Q){return L===Q&&(ot=!0),0},fi={}.hasOwnProperty,pi=[],gi=pi.pop,vi=pi.push,mi=pi.push,bi=pi.slice,P=function(L,Q){for(var te=0,re=L.length;te<re;te++)if(L[te]===Q)return te;return-1},xi="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ti="[\\x20\\t\\r\\n\\f]",Pi="(?:\\\\[\\da-fA-F]{1,6}"+Ti+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Mi="\\["+Ti+"*("+Pi+")(?:"+Ti+"*([*^$|!~]?=)"+Ti+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Pi+"))|)"+Ti+"*\\]",Oi=":("+Pi+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Mi+")*)|.*)\\)|)",Li=new RegExp(Ti+"+","g"),ji=new RegExp("^"+Ti+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ti+"+$","g"),Ri=new RegExp("^"+Ti+"*,"+Ti+"*"),Fi=new RegExp("^"+Ti+"*([>+~]|"+Ti+")"+Ti+"*"),Hi=new RegExp(Ti+"|>"),qi=new RegExp(Oi),Wi=new RegExp("^"+Pi+"$"),Vi={ID:new RegExp("^#("+Pi+")"),CLASS:new RegExp("^\\.("+Pi+")"),TAG:new RegExp("^("+Pi+"|[*])"),ATTR:new RegExp("^"+Mi),PSEUDO:new RegExp("^"+Oi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ti+"*(even|odd|(([+-]|)(\\d*)n|)"+Ti+"*(?:([+-]|)"+Ti+"*(\\d+)|))"+Ti+"*\\)|)","i"),bool:new RegExp("^(?:"+xi+")$","i"),needsContext:new RegExp("^"+Ti+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ti+"*((?:-\\d)?\\d*)"+Ti+"*\\)|)(?=[^-]|$)","i")},Yi=/HTML$/i,Xi=/^(?:input|select|textarea|button)$/i,$i=/^h\d$/i,Gi=/^[^{]+\{\s*\[native \w/,Ui=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ki=/[+~]/,Zi=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ti+"?|\\\\([^\\r\\n\\f])","g"),ne=function(L,Q){var te="0x"+L.slice(1)-65536;return Q||(te<0?String.fromCharCode(te+65536):String.fromCharCode(te>>10|55296,1023&te|56320))},Ji=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(L,Q){return Q?"\0"===L?"":L.slice(0,-1)+"\\"+L.charCodeAt(L.length-1).toString(16)+" ":"\\"+L},oe=function(){at()},Qi=be((function(L){return!0===L.disabled&&"fieldset"===L.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{mi.apply(pi=bi.call(Wn.childNodes),Wn.childNodes),pi[Wn.childNodes.length].nodeType}catch(Q){mi={apply:pi.length?function(L,Q){vi.apply(L,bi.call(Q))}:function(L,Q){for(var te=L.length,re=0;L[te++]=Q[re++];);L.length=te-1}}}function se(L,Q,re,Ne){var $e,tt,it,rt,ot,bt,un,cn=Q&&Q.ownerDocument,Wn=Q?Q.nodeType:9;if(re=re||[],"string"!=typeof L||!L||1!==Wn&&9!==Wn&&11!==Wn)return re;if(!Ne&&(at(Q),Q=Q||dt,sn)){if(11!==Wn&&(ot=Ui.exec(L)))if($e=ot[1]){if(9===Wn){if(!(it=Q.getElementById($e)))return re;if(it.id===$e)return re.push(it),re}else if(cn&&(it=cn.getElementById($e))&&dn(Q,it)&&it.id===$e)return re.push(it),re}else{if(ot[2])return mi.apply(re,Q.getElementsByTagName(L)),re;if(($e=ot[3])&&te.getElementsByClassName&&Q.getElementsByClassName)return mi.apply(re,Q.getElementsByClassName($e)),re}if(te.qsa&&!di[L+" "]&&(!ln||!ln.test(L))&&(1!==Wn||"object"!==Q.nodeName.toLowerCase())){if(un=L,cn=Q,1===Wn&&(Hi.test(L)||Fi.test(L))){for((cn=Ki.test(L)&&ve(Q.parentNode)||Q)===Q&&te.scope||((rt=Q.getAttribute("id"))?rt=rt.replace(Ji,ie):Q.setAttribute("id",rt=xn)),tt=(bt=Ue(L)).length;tt--;)bt[tt]=(rt?"#"+rt:":scope")+" "+xe(bt[tt]);un=bt.join(",")}try{if(te.cssSupportsSelector&&!CSS.supports("selector(:is("+un+"))"))throw new Error;return mi.apply(re,cn.querySelectorAll(un)),re}catch(Q){di(L,!0)}finally{rt===xn&&Q.removeAttribute("id")}}}return nt(L.replace(ji,"$1"),Q,re,Ne)}function ue(){var L=[];return function e(Q,te){return L.push(Q+" ")>re.cacheLength&&delete e[L.shift()],e[Q+" "]=te}}function le(L){return L[xn]=!0,L}function ce(L){var Q=dt.createElement("fieldset");try{return!!L(Q)}catch(L){return!1}finally{Q.parentNode&&Q.parentNode.removeChild(Q),Q=null}}function fe(L,Q){for(var te=L.split("|"),Ne=te.length;Ne--;)re.attrHandle[te[Ne]]=Q}function pe(L,Q){var te=Q&&L,re=te&&1===L.nodeType&&1===Q.nodeType&&L.sourceIndex-Q.sourceIndex;if(re)return re;if(te)for(;te=te.nextSibling;)if(te===Q)return-1;return L?1:-1}function de(L){return function(Q){return"input"===Q.nodeName.toLowerCase()&&Q.type===L}}function he(L){return function(Q){var te=Q.nodeName.toLowerCase();return("input"===te||"button"===te)&&Q.type===L}}function ge(L){return function(Q){return"form"in Q?Q.parentNode&&!1===Q.disabled?"label"in Q?"label"in Q.parentNode?Q.parentNode.disabled===L:Q.disabled===L:Q.isDisabled===L||Q.isDisabled!==!L&&Qi(Q)===L:Q.disabled===L:"label"in Q&&Q.disabled===L}}function ye(L){return le((function(Q){return Q=+Q,le((function(te,re){for(var Ne,$e=L([],te.length,Q),Ue=$e.length;Ue--;)te[Ne=$e[Ue]]&&(te[Ne]=!(re[Ne]=te[Ne]))}))}))}function ve(L){return L&&void 0!==L.getElementsByTagName&&L}for(Q in te=se.support={},$e=se.isXML=function(L){var Q=L&&L.namespaceURI,te=L&&(L.ownerDocument||L).documentElement;return!Yi.test(Q||te&&te.nodeName||"HTML")},at=se.setDocument=function(L){var Q,Ne,Ue=L?L.ownerDocument||L:Wn;return Ue!=dt&&9===Ue.nodeType&&Ue.documentElement&&(bt=(dt=Ue).documentElement,sn=!$e(dt),Wn!=dt&&(Ne=dt.defaultView)&&Ne.top!==Ne&&(Ne.addEventListener?Ne.addEventListener("unload",oe,!1):Ne.attachEvent&&Ne.attachEvent("onunload",oe)),te.scope=ce((function(L){return bt.appendChild(L).appendChild(dt.createElement("div")),void 0!==L.querySelectorAll&&!L.querySelectorAll(":scope fieldset div").length})),te.cssSupportsSelector=ce((function(){return CSS.supports("selector(*)")&&dt.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")})),te.attributes=ce((function(L){return L.className="i",!L.getAttribute("className")})),te.getElementsByTagName=ce((function(L){return L.appendChild(dt.createComment("")),!L.getElementsByTagName("*").length})),te.getElementsByClassName=Gi.test(dt.getElementsByClassName),te.getById=ce((function(L){return bt.appendChild(L).id=xn,!dt.getElementsByName||!dt.getElementsByName(xn).length})),te.getById?(re.filter.ID=function(L){var Q=L.replace(Zi,ne);return function(L){return L.getAttribute("id")===Q}},re.find.ID=function(L,Q){if(void 0!==Q.getElementById&&sn){var te=Q.getElementById(L);return te?[te]:[]}}):(re.filter.ID=function(L){var Q=L.replace(Zi,ne);return function(L){var te=void 0!==L.getAttributeNode&&L.getAttributeNode("id");return te&&te.value===Q}},re.find.ID=function(L,Q){if(void 0!==Q.getElementById&&sn){var te,re,Ne,$e=Q.getElementById(L);if($e){if((te=$e.getAttributeNode("id"))&&te.value===L)return[$e];for(Ne=Q.getElementsByName(L),re=0;$e=Ne[re++];)if((te=$e.getAttributeNode("id"))&&te.value===L)return[$e]}return[]}}),re.find.TAG=te.getElementsByTagName?function(L,Q){return void 0!==Q.getElementsByTagName?Q.getElementsByTagName(L):te.qsa?Q.querySelectorAll(L):void 0}:function(L,Q){var te,re=[],Ne=0,$e=Q.getElementsByTagName(L);if("*"===L){for(;te=$e[Ne++];)1===te.nodeType&&re.push(te);return re}return $e},re.find.CLASS=te.getElementsByClassName&&function(L,Q){if(void 0!==Q.getElementsByClassName&&sn)return Q.getElementsByClassName(L)},un=[],ln=[],(te.qsa=Gi.test(dt.querySelectorAll))&&(ce((function(L){var Q;bt.appendChild(L).innerHTML="<a id='"+xn+"'></a><select id='"+xn+"-\r\\' msallowcapture=''><option selected=''></option></select>",L.querySelectorAll("[msallowcapture^='']").length&&ln.push("[*^$]="+Ti+"*(?:''|\"\")"),L.querySelectorAll("[selected]").length||ln.push("\\["+Ti+"*(?:value|"+xi+")"),L.querySelectorAll("[id~="+xn+"-]").length||ln.push("~="),(Q=dt.createElement("input")).setAttribute("name",""),L.appendChild(Q),L.querySelectorAll("[name='']").length||ln.push("\\["+Ti+"*name"+Ti+"*="+Ti+"*(?:''|\"\")"),L.querySelectorAll(":checked").length||ln.push(":checked"),L.querySelectorAll("a#"+xn+"+*").length||ln.push(".#.+[+~]"),L.querySelectorAll("\\\f"),ln.push("[\\r\\n\\f]")})),ce((function(L){L.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Q=dt.createElement("input");Q.setAttribute("type","hidden"),L.appendChild(Q).setAttribute("name","D"),L.querySelectorAll("[name=d]").length&&ln.push("name"+Ti+"*[*^$|!~]?="),2!==L.querySelectorAll(":enabled").length&&ln.push(":enabled",":disabled"),bt.appendChild(L).disabled=!0,2!==L.querySelectorAll(":disabled").length&&ln.push(":enabled",":disabled"),L.querySelectorAll("*,:x"),ln.push(",.*:")}))),(te.matchesSelector=Gi.test(cn=bt.matches||bt.webkitMatchesSelector||bt.mozMatchesSelector||bt.oMatchesSelector||bt.msMatchesSelector))&&ce((function(L){te.disconnectedMatch=cn.call(L,"*"),cn.call(L,"[s!='']:x"),un.push("!=",Oi)})),te.cssSupportsSelector||ln.push(":has"),ln=ln.length&&new RegExp(ln.join("|")),un=un.length&&new RegExp(un.join("|")),Q=Gi.test(bt.compareDocumentPosition),dn=Q||Gi.test(bt.contains)?function(L,Q){var te=9===L.nodeType&&L.documentElement||L,re=Q&&Q.parentNode;return L===re||!(!re||1!==re.nodeType||!(te.contains?te.contains(re):L.compareDocumentPosition&&16&L.compareDocumentPosition(re)))}:function(L,Q){if(Q)for(;Q=Q.parentNode;)if(Q===L)return!0;return!1},j=Q?function(L,Q){if(L===Q)return ot=!0,0;var re=!L.compareDocumentPosition-!Q.compareDocumentPosition;return re||(1&(re=(L.ownerDocument||L)==(Q.ownerDocument||Q)?L.compareDocumentPosition(Q):1)||!te.sortDetached&&Q.compareDocumentPosition(L)===re?L==dt||L.ownerDocument==Wn&&dn(Wn,L)?-1:Q==dt||Q.ownerDocument==Wn&&dn(Wn,Q)?1:rt?P(rt,L)-P(rt,Q):0:4&re?-1:1)}:function(L,Q){if(L===Q)return ot=!0,0;var te,re=0,Ne=L.parentNode,$e=Q.parentNode,Ue=[L],tt=[Q];if(!Ne||!$e)return L==dt?-1:Q==dt?1:Ne?-1:$e?1:rt?P(rt,L)-P(rt,Q):0;if(Ne===$e)return pe(L,Q);for(te=L;te=te.parentNode;)Ue.unshift(te);for(te=Q;te=te.parentNode;)tt.unshift(te);for(;Ue[re]===tt[re];)re++;return re?pe(Ue[re],tt[re]):Ue[re]==Wn?-1:tt[re]==Wn?1:0}),dt},se.matches=function(L,Q){return se(L,null,null,Q)},se.matchesSelector=function(L,Q){if(at(L),te.matchesSelector&&sn&&!di[Q+" "]&&(!un||!un.test(Q))&&(!ln||!ln.test(Q)))try{var re=cn.call(L,Q);if(re||te.disconnectedMatch||L.document&&11!==L.document.nodeType)return re}catch(L){di(Q,!0)}return 0<se(Q,dt,null,[L]).length},se.contains=function(L,Q){return(L.ownerDocument||L)!=dt&&at(L),dn(L,Q)},se.attr=function(L,Q){(L.ownerDocument||L)!=dt&&at(L);var Ne=re.attrHandle[Q.toLowerCase()],$e=Ne&&fi.call(re.attrHandle,Q.toLowerCase())?Ne(L,Q,!sn):void 0;return void 0!==$e?$e:te.attributes||!sn?L.getAttribute(Q):($e=L.getAttributeNode(Q))&&$e.specified?$e.value:null},se.escape=function(L){return(L+"").replace(Ji,ie)},se.error=function(L){throw new Error("Syntax error, unrecognized expression: "+L)},se.uniqueSort=function(L){var Q,re=[],Ne=0,$e=0;if(ot=!te.detectDuplicates,rt=!te.sortStable&&L.slice(0),L.sort(j),ot){for(;Q=L[$e++];)Q===L[$e]&&(Ne=re.push($e));for(;Ne--;)L.splice(re[Ne],1)}return rt=null,L},Ne=se.getText=function(L){var Q,te="",re=0,$e=L.nodeType;if($e){if(1===$e||9===$e||11===$e){if("string"==typeof L.textContent)return L.textContent;for(L=L.firstChild;L;L=L.nextSibling)te+=Ne(L)}else if(3===$e||4===$e)return L.nodeValue}else for(;Q=L[re++];)te+=Ne(Q);return te},(re=se.selectors={cacheLength:50,createPseudo:le,match:Vi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(L){return L[1]=L[1].replace(Zi,ne),L[3]=(L[3]||L[4]||L[5]||"").replace(Zi,ne),"~="===L[2]&&(L[3]=" "+L[3]+" "),L.slice(0,4)},CHILD:function(L){return L[1]=L[1].toLowerCase(),"nth"===L[1].slice(0,3)?(L[3]||se.error(L[0]),L[4]=+(L[4]?L[5]+(L[6]||1):2*("even"===L[3]||"odd"===L[3])),L[5]=+(L[7]+L[8]||"odd"===L[3])):L[3]&&se.error(L[0]),L},PSEUDO:function(L){var Q,te=!L[6]&&L[2];return Vi.CHILD.test(L[0])?null:(L[3]?L[2]=L[4]||L[5]||"":te&&qi.test(te)&&(Q=Ue(te,!0))&&(Q=te.indexOf(")",te.length-Q)-te.length)&&(L[0]=L[0].slice(0,Q),L[2]=te.slice(0,Q)),L.slice(0,3))}},filter:{TAG:function(L){var Q=L.replace(Zi,ne).toLowerCase();return"*"===L?function(){return!0}:function(L){return L.nodeName&&L.nodeName.toLowerCase()===Q}},CLASS:function(L){var Q=Kn[L+" "];return Q||(Q=new RegExp("(^|"+Ti+")"+L+"("+Ti+"|$)"))&&Kn(L,(function(L){return Q.test("string"==typeof L.className&&L.className||void 0!==L.getAttribute&&L.getAttribute("class")||"")}))},ATTR:function(L,Q,te){return function(re){var Ne=se.attr(re,L);return null==Ne?"!="===Q:!Q||(Ne+="","="===Q?Ne===te:"!="===Q?Ne!==te:"^="===Q?te&&0===Ne.indexOf(te):"*="===Q?te&&-1<Ne.indexOf(te):"$="===Q?te&&Ne.slice(-te.length)===te:"~="===Q?-1<(" "+Ne.replace(Li," ")+" ").indexOf(te):"|="===Q&&(Ne===te||Ne.slice(0,te.length+1)===te+"-"))}},CHILD:function(L,Q,te,re,Ne){var $e="nth"!==L.slice(0,3),Ue="last"!==L.slice(-4),tt="of-type"===Q;return 1===re&&0===Ne?function(L){return!!L.parentNode}:function(Q,te,nt){var it,rt,ot,at,dt,bt,sn=$e!==Ue?"nextSibling":"previousSibling",ln=Q.parentNode,un=tt&&Q.nodeName.toLowerCase(),cn=!nt&&!tt,dn=!1;if(ln){if($e){for(;sn;){for(at=Q;at=at[sn];)if(tt?at.nodeName.toLowerCase()===un:1===at.nodeType)return!1;bt=sn="only"===L&&!bt&&"nextSibling"}return!0}if(bt=[Ue?ln.firstChild:ln.lastChild],Ue&&cn){for(dn=(dt=(it=(rt=(ot=(at=ln)[xn]||(at[xn]={}))[at.uniqueID]||(ot[at.uniqueID]={}))[L]||[])[0]===Yn&&it[1])&&it[2],at=dt&&ln.childNodes[dt];at=++dt&&at&&at[sn]||(dn=dt=0)||bt.pop();)if(1===at.nodeType&&++dn&&at===Q){rt[L]=[Yn,dt,dn];break}}else if(cn&&(dn=dt=(it=(rt=(ot=(at=Q)[xn]||(at[xn]={}))[at.uniqueID]||(ot[at.uniqueID]={}))[L]||[])[0]===Yn&&it[1]),!1===dn)for(;(at=++dt&&at&&at[sn]||(dn=dt=0)||bt.pop())&&((tt?at.nodeName.toLowerCase()!==un:1!==at.nodeType)||!++dn||(cn&&((rt=(ot=at[xn]||(at[xn]={}))[at.uniqueID]||(ot[at.uniqueID]={}))[L]=[Yn,dn]),at!==Q)););return(dn-=Ne)===re||dn%re==0&&0<=dn/re}}},PSEUDO:function(L,Q){var te,Ne=re.pseudos[L]||re.setFilters[L.toLowerCase()]||se.error("unsupported pseudo: "+L);return Ne[xn]?Ne(Q):1<Ne.length?(te=[L,L,"",Q],re.setFilters.hasOwnProperty(L.toLowerCase())?le((function(L,te){for(var re,$e=Ne(L,Q),Ue=$e.length;Ue--;)L[re=P(L,$e[Ue])]=!(te[re]=$e[Ue])})):function(L){return Ne(L,0,te)}):Ne}},pseudos:{not:le((function(L){var Q=[],te=[],re=tt(L.replace(ji,"$1"));return re[xn]?le((function(L,Q,te,Ne){for(var $e,Ue=re(L,null,Ne,[]),tt=L.length;tt--;)($e=Ue[tt])&&(L[tt]=!(Q[tt]=$e))})):function(L,Ne,$e){return Q[0]=L,re(Q,null,$e,te),Q[0]=null,!te.pop()}})),has:le((function(L){return function(Q){return 0<se(L,Q).length}})),contains:le((function(L){return L=L.replace(Zi,ne),function(Q){return-1<(Q.textContent||Ne(Q)).indexOf(L)}})),lang:le((function(L){return Wi.test(L||"")||se.error("unsupported lang: "+L),L=L.replace(Zi,ne).toLowerCase(),function(Q){var te;do{if(te=sn?Q.lang:Q.getAttribute("xml:lang")||Q.getAttribute("lang"))return(te=te.toLowerCase())===L||0===te.indexOf(L+"-")}while((Q=Q.parentNode)&&1===Q.nodeType);return!1}})),target:function(Q){var te=L.location&&L.location.hash;return te&&te.slice(1)===Q.id},root:function(L){return L===bt},focus:function(L){return L===dt.activeElement&&(!dt.hasFocus||dt.hasFocus())&&!!(L.type||L.href||~L.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(L){var Q=L.nodeName.toLowerCase();return"input"===Q&&!!L.checked||"option"===Q&&!!L.selected},selected:function(L){return L.parentNode&&L.parentNode.selectedIndex,!0===L.selected},empty:function(L){for(L=L.firstChild;L;L=L.nextSibling)if(L.nodeType<6)return!1;return!0},parent:function(L){return!re.pseudos.empty(L)},header:function(L){return $i.test(L.nodeName)},input:function(L){return Xi.test(L.nodeName)},button:function(L){var Q=L.nodeName.toLowerCase();return"input"===Q&&"button"===L.type||"button"===Q},text:function(L){var Q;return"input"===L.nodeName.toLowerCase()&&"text"===L.type&&(null==(Q=L.getAttribute("type"))||"text"===Q.toLowerCase())},first:ye((function(){return[0]})),last:ye((function(L,Q){return[Q-1]})),eq:ye((function(L,Q,te){return[te<0?te+Q:te]})),even:ye((function(L,Q){for(var te=0;te<Q;te+=2)L.push(te);return L})),odd:ye((function(L,Q){for(var te=1;te<Q;te+=2)L.push(te);return L})),lt:ye((function(L,Q,te){for(var re=te<0?te+Q:Q<te?Q:te;0<=--re;)L.push(re);return L})),gt:ye((function(L,Q,te){for(var re=te<0?te+Q:te;++re<Q;)L.push(re);return L}))}}).pseudos.nth=re.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})re.pseudos[Q]=de(Q);for(Q in{submit:!0,reset:!0})re.pseudos[Q]=he(Q);function me(){}function xe(L){for(var Q=0,te=L.length,re="";Q<te;Q++)re+=L[Q].value;return re}function be(L,Q,te){var re=Q.dir,Ne=Q.next,$e=Ne||re,Ue=te&&"parentNode"===$e,tt=Xn++;return Q.first?function(Q,te,Ne){for(;Q=Q[re];)if(1===Q.nodeType||Ue)return L(Q,te,Ne);return!1}:function(Q,te,nt){var it,rt,ot,at=[Yn,tt];if(nt){for(;Q=Q[re];)if((1===Q.nodeType||Ue)&&L(Q,te,nt))return!0}else for(;Q=Q[re];)if(1===Q.nodeType||Ue)if(rt=(ot=Q[xn]||(Q[xn]={}))[Q.uniqueID]||(ot[Q.uniqueID]={}),Ne&&Ne===Q.nodeName.toLowerCase())Q=Q[re]||Q;else{if((it=rt[$e])&&it[0]===Yn&&it[1]===tt)return at[2]=it[2];if((rt[$e]=at)[2]=L(Q,te,nt))return!0}return!1}}function we(L){return 1<L.length?function(Q,te,re){for(var Ne=L.length;Ne--;)if(!L[Ne](Q,te,re))return!1;return!0}:L[0]}function Te(L,Q,te,re,Ne){for(var $e,Ue=[],tt=0,nt=L.length,it=null!=Q;tt<nt;tt++)($e=L[tt])&&(te&&!te($e,re,Ne)||(Ue.push($e),it&&Q.push(tt)));return Ue}function Ce(L,Q,te,re,Ne,$e){return re&&!re[xn]&&(re=Ce(re)),Ne&&!Ne[xn]&&(Ne=Ce(Ne,$e)),le((function($e,Ue,tt,nt){var it,rt,ot,at=[],dt=[],bt=Ue.length,sn=$e||function(L,Q,te){for(var re=0,Ne=Q.length;re<Ne;re++)se(L,Q[re],te);return te}(Q||"*",tt.nodeType?[tt]:tt,[]),ln=!L||!$e&&Q?sn:Te(sn,at,L,tt,nt),un=te?Ne||($e?L:bt||re)?[]:Ue:ln;if(te&&te(ln,un,tt,nt),re)for(it=Te(un,dt),re(it,[],tt,nt),rt=it.length;rt--;)(ot=it[rt])&&(un[dt[rt]]=!(ln[dt[rt]]=ot));if($e){if(Ne||L){if(Ne){for(it=[],rt=un.length;rt--;)(ot=un[rt])&&it.push(ln[rt]=ot);Ne(null,un=[],it,nt)}for(rt=un.length;rt--;)(ot=un[rt])&&-1<(it=Ne?P($e,ot):at[rt])&&($e[it]=!(Ue[it]=ot))}}else un=Te(un===Ue?un.splice(bt,un.length):un),Ne?Ne(null,Ue,un,nt):mi.apply(Ue,un)}))}function Se(L){for(var Q,te,Ne,$e=L.length,Ue=re.relative[L[0].type],tt=Ue||re.relative[" "],nt=Ue?1:0,rt=be((function(L){return L===Q}),tt,!0),ot=be((function(L){return-1<P(Q,L)}),tt,!0),at=[function(L,te,re){var Ne=!Ue&&(re||te!==it)||((Q=te).nodeType?rt(L,te,re):ot(L,te,re));return Q=null,Ne}];nt<$e;nt++)if(te=re.relative[L[nt].type])at=[be(we(at),te)];else{if((te=re.filter[L[nt].type].apply(null,L[nt].matches))[xn]){for(Ne=++nt;Ne<$e&&!re.relative[L[Ne].type];Ne++);return Ce(1<nt&&we(at),1<nt&&xe(L.slice(0,nt-1).concat({value:" "===L[nt-2].type?"*":""})).replace(ji,"$1"),te,nt<Ne&&Se(L.slice(nt,Ne)),Ne<$e&&Se(L=L.slice(Ne)),Ne<$e&&xe(L))}at.push(te)}return we(at)}return me.prototype=re.filters=re.pseudos,re.setFilters=new me,Ue=se.tokenize=function(L,Q){var te,Ne,$e,Ue,tt,nt,it,rt=ti[L+" "];if(rt)return Q?0:rt.slice(0);for(tt=L,nt=[],it=re.preFilter;tt;){for(Ue in te&&!(Ne=Ri.exec(tt))||(Ne&&(tt=tt.slice(Ne[0].length)||tt),nt.push($e=[])),te=!1,(Ne=Fi.exec(tt))&&(te=Ne.shift(),$e.push({value:te,type:Ne[0].replace(ji," ")}),tt=tt.slice(te.length)),re.filter)!(Ne=Vi[Ue].exec(tt))||it[Ue]&&!(Ne=it[Ue](Ne))||(te=Ne.shift(),$e.push({value:te,type:Ue,matches:Ne}),tt=tt.slice(te.length));if(!te)break}return Q?tt.length:tt?se.error(L):ti(L,nt).slice(0)},tt=se.compile=function(L,Q){var te,Ne,$e,tt,nt,rt,ot=[],bt=[],ln=ni[L+" "];if(!ln){for(Q||(Q=Ue(L)),te=Q.length;te--;)(ln=Se(Q[te]))[xn]?ot.push(ln):bt.push(ln);(ln=ni(L,(Ne=bt,tt=0<($e=ot).length,nt=0<Ne.length,rt=function(L,Q,te,Ue,rt){var ot,bt,ln,un=0,cn="0",dn=L&&[],xn=[],Wn=it,Xn=L||nt&&re.find.TAG("*",rt),Kn=Yn+=null==Wn?1:Math.random()||.1,ti=Xn.length;for(rt&&(it=Q==dt||Q||rt);cn!==ti&&null!=(ot=Xn[cn]);cn++){if(nt&&ot){for(bt=0,Q||ot.ownerDocument==dt||(at(ot),te=!sn);ln=Ne[bt++];)if(ln(ot,Q||dt,te)){Ue.push(ot);break}rt&&(Yn=Kn)}tt&&((ot=!ln&&ot)&&un--,L&&dn.push(ot))}if(un+=cn,tt&&cn!==un){for(bt=0;ln=$e[bt++];)ln(dn,xn,Q,te);if(L){if(0<un)for(;cn--;)dn[cn]||xn[cn]||(xn[cn]=gi.call(Ue));xn=Te(xn)}mi.apply(Ue,xn),rt&&!L&&0<xn.length&&1<un+$e.length&&se.uniqueSort(Ue)}return rt&&(Yn=Kn,it=Wn),dn},tt?le(rt):rt))).selector=L}return ln},nt=se.select=function(L,Q,te,Ne){var $e,nt,it,rt,ot,at="function"==typeof L&&L,dt=!Ne&&Ue(L=at.selector||L);if(te=te||[],1===dt.length){if(2<(nt=dt[0]=dt[0].slice(0)).length&&"ID"===(it=nt[0]).type&&9===Q.nodeType&&sn&&re.relative[nt[1].type]){if(!(Q=(re.find.ID(it.matches[0].replace(Zi,ne),Q)||[])[0]))return te;at&&(Q=Q.parentNode),L=L.slice(nt.shift().value.length)}for($e=Vi.needsContext.test(L)?0:nt.length;$e--&&(it=nt[$e],!re.relative[rt=it.type]);)if((ot=re.find[rt])&&(Ne=ot(it.matches[0].replace(Zi,ne),Ki.test(nt[0].type)&&ve(Q.parentNode)||Q))){if(nt.splice($e,1),!(L=Ne.length&&xe(nt)))return mi.apply(te,Ne),te;break}}return(at||tt(L,dt))(Ne,Q,!sn,te,!Q||Ki.test(L)&&ve(Q.parentNode)||Q),te},te.sortStable=xn.split("").sort(j).join("")===xn,te.detectDuplicates=!!ot,at(),te.sortDetached=ce((function(L){return 1&L.compareDocumentPosition(dt.createElement("fieldset"))})),ce((function(L){return L.innerHTML="<a href='#'></a>","#"===L.firstChild.getAttribute("href")}))||fe("type|href|height|width",(function(L,Q,te){if(!te)return L.getAttribute(Q,"type"===Q.toLowerCase()?1:2)})),te.attributes&&ce((function(L){return L.innerHTML="<input/>",L.firstChild.setAttribute("value",""),""===L.firstChild.getAttribute("value")}))||fe("value",(function(L,Q,te){if(!te&&"input"===L.nodeName.toLowerCase())return L.defaultValue})),ce((function(L){return null==L.getAttribute("disabled")}))||fe(xi,(function(L,Q,te){var re;if(!te)return!0===L[Q]?Q.toLowerCase():(re=L.getAttributeNode(Q))&&re.specified?re.value:null})),se}(re);E.find=xn,E.expr=xn.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=xn.uniqueSort,E.text=xn.getText,E.isXMLDoc=xn.isXML,E.contains=xn.contains,E.escapeSelector=xn.escape;var h=function(L,Q,te){for(var re=[],Ne=void 0!==te;(L=L[Q])&&9!==L.nodeType;)if(1===L.nodeType){if(Ne&&E(L).is(te))break;re.push(L)}return re},T=function(L,Q){for(var te=[];L;L=L.nextSibling)1===L.nodeType&&L!==Q&&te.push(L);return te},Wn=E.expr.match.needsContext;function A(L,Q){return L.nodeName&&L.nodeName.toLowerCase()===Q.toLowerCase()}var Yn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(L,Q,te){return m(Q)?E.grep(L,(function(L,re){return!!Q.call(L,re,L)!==te})):Q.nodeType?E.grep(L,(function(L){return L===Q!==te})):"string"!=typeof Q?E.grep(L,(function(L){return-1<rt.call(Q,L)!==te})):E.filter(Q,L,te)}E.filter=function(L,Q,te){var re=Q[0];return te&&(L=":not("+L+")"),1===Q.length&&1===re.nodeType?E.find.matchesSelector(re,L)?[re]:[]:E.find.matches(L,E.grep(Q,(function(L){return 1===L.nodeType})))},E.fn.extend({find:function(L){var Q,te,re=this.length,Ne=this;if("string"!=typeof L)return this.pushStack(E(L).filter((function(){for(Q=0;Q<re;Q++)if(E.contains(Ne[Q],this))return!0})));for(te=this.pushStack([]),Q=0;Q<re;Q++)E.find(L,Ne[Q],te);return 1<re?E.uniqueSort(te):te},filter:function(L){return this.pushStack(j(this,L||[],!1))},not:function(L){return this.pushStack(j(this,L||[],!0))},is:function(L){return!!j(this,"string"==typeof L&&Wn.test(L)?E(L):L||[],!1).length}});var Xn,Kn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(L,Q,te){var re,Ne;if(!L)return this;if(te=te||Xn,"string"==typeof L){if(!(re="<"===L[0]&&">"===L[L.length-1]&&3<=L.length?[null,L,null]:Kn.exec(L))||!re[1]&&Q)return!Q||Q.jquery?(Q||te).find(L):this.constructor(Q).find(L);if(re[1]){if(Q=Q instanceof E?Q[0]:Q,E.merge(this,E.parseHTML(re[1],Q&&Q.nodeType?Q.ownerDocument||Q:un,!0)),Yn.test(re[1])&&E.isPlainObject(Q))for(re in Q)m(this[re])?this[re](Q[re]):this.attr(re,Q[re]);return this}return(Ne=un.getElementById(re[2]))&&(this[0]=Ne,this.length=1),this}return L.nodeType?(this[0]=L,this.length=1,this):m(L)?void 0!==te.ready?te.ready(L):L(E):E.makeArray(L,this)}).prototype=E.fn,Xn=E(un);var ti=/^(?:parents|prev(?:Until|All))/,ni={children:!0,contents:!0,next:!0,prev:!0};function O(L,Q){for(;(L=L[Q])&&1!==L.nodeType;);return L}E.fn.extend({has:function(L){var Q=E(L,this),te=Q.length;return this.filter((function(){for(var L=0;L<te;L++)if(E.contains(this,Q[L]))return!0}))},closest:function(L,Q){var te,re=0,Ne=this.length,$e=[],Ue="string"!=typeof L&&E(L);if(!Wn.test(L))for(;re<Ne;re++)for(te=this[re];te&&te!==Q;te=te.parentNode)if(te.nodeType<11&&(Ue?-1<Ue.index(te):1===te.nodeType&&E.find.matchesSelector(te,L))){$e.push(te);break}return this.pushStack(1<$e.length?E.uniqueSort($e):$e)},index:function(L){return L?"string"==typeof L?rt.call(E(L),this[0]):rt.call(this,L.jquery?L[0]:L):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(L,Q){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(L,Q))))},addBack:function(L){return this.add(null==L?this.prevObject:this.prevObject.filter(L))}}),E.each({parent:function(L){var Q=L.parentNode;return Q&&11!==Q.nodeType?Q:null},parents:function(L){return h(L,"parentNode")},parentsUntil:function(L,Q,te){return h(L,"parentNode",te)},next:function(L){return O(L,"nextSibling")},prev:function(L){return O(L,"previousSibling")},nextAll:function(L){return h(L,"nextSibling")},prevAll:function(L){return h(L,"previousSibling")},nextUntil:function(L,Q,te){return h(L,"nextSibling",te)},prevUntil:function(L,Q,te){return h(L,"previousSibling",te)},siblings:function(L){return T((L.parentNode||{}).firstChild,L)},children:function(L){return T(L.firstChild)},contents:function(L){return null!=L.contentDocument&&Ue(L.contentDocument)?L.contentDocument:(A(L,"template")&&(L=L.content||L),E.merge([],L.childNodes))}},(function(L,Q){E.fn[L]=function(te,re){var Ne=E.map(this,Q,te);return"Until"!==L.slice(-5)&&(re=te),re&&"string"==typeof re&&(Ne=E.filter(re,Ne)),1<this.length&&(ni[L]||E.uniqueSort(Ne),ti.test(L)&&Ne.reverse()),this.pushStack(Ne)}}));var di=/[^\x20\t\r\n\f]+/g;function R(L){return L}function M(L){throw L}function I(L,Q,te,re){var Ne;try{L&&m(Ne=L.promise)?Ne.call(L).done(Q).fail(te):L&&m(Ne=L.then)?Ne.call(L,Q,te):Q.apply(void 0,[L].slice(re))}catch(L){te.apply(void 0,[L])}}E.Callbacks=function(L){var Q,te;L="string"==typeof L?(Q=L,te={},E.each(Q.match(di)||[],(function(L,Q){te[Q]=!0})),te):E.extend({},L);var re,Ne,$e,Ue,tt=[],nt=[],it=-1,c=function(){for(Ue=Ue||L.once,$e=re=!0;nt.length;it=-1)for(Ne=nt.shift();++it<tt.length;)!1===tt[it].apply(Ne[0],Ne[1])&&L.stopOnFalse&&(it=tt.length,Ne=!1);L.memory||(Ne=!1),re=!1,Ue&&(tt=Ne?[]:"")},rt={add:function(){return tt&&(Ne&&!re&&(it=tt.length-1,nt.push(Ne)),function n(Q){E.each(Q,(function(Q,te){m(te)?L.unique&&rt.has(te)||tt.push(te):te&&te.length&&"string"!==w(te)&&n(te)}))}(arguments),Ne&&!re&&c()),this},remove:function(){return E.each(arguments,(function(L,Q){for(var te;-1<(te=E.inArray(Q,tt,te));)tt.splice(te,1),te<=it&&it--})),this},has:function(L){return L?-1<E.inArray(L,tt):0<tt.length},empty:function(){return tt&&(tt=[]),this},disable:function(){return Ue=nt=[],tt=Ne="",this},disabled:function(){return!tt},lock:function(){return Ue=nt=[],Ne||re||(tt=Ne=""),this},locked:function(){return!!Ue},fireWith:function(L,Q){return Ue||(Q=[L,(Q=Q||[]).slice?Q.slice():Q],nt.push(Q),re||c()),this},fire:function(){return rt.fireWith(this,arguments),this},fired:function(){return!!$e}};return rt},E.extend({Deferred:function(L){var Q=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],te="pending",Ne={state:function(){return te},always:function(){return $e.done(arguments).fail(arguments),this},catch:function(L){return Ne.then(null,L)},pipe:function(){var L=arguments;return E.Deferred((function(te){E.each(Q,(function(Q,re){var Ne=m(L[re[4]])&&L[re[4]];$e[re[1]]((function(){var L=Ne&&Ne.apply(this,arguments);L&&m(L.promise)?L.promise().progress(te.notify).done(te.resolve).fail(te.reject):te[re[0]+"With"](this,Ne?[L]:arguments)}))})),L=null})).promise()},then:function(L,te,Ne){var $e=0;function l(L,Q,te,Ne){return function(){var Ue=this,tt=arguments,e=function(){var re,nt;if(!(L<$e)){if((re=te.apply(Ue,tt))===Q.promise())throw new TypeError("Thenable self-resolution");nt=re&&("object"==typeof re||"function"==typeof re)&&re.then,m(nt)?Ne?nt.call(re,l($e,Q,R,Ne),l($e,Q,M,Ne)):($e++,nt.call(re,l($e,Q,R,Ne),l($e,Q,M,Ne),l($e,Q,R,Q.notifyWith))):(te!==R&&(Ue=void 0,tt=[re]),(Ne||Q.resolveWith)(Ue,tt))}},nt=Ne?e:function(){try{e()}catch(re){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(re,nt.stackTrace),$e<=L+1&&(te!==M&&(Ue=void 0,tt=[re]),Q.rejectWith(Ue,tt))}};L?nt():(E.Deferred.getStackHook&&(nt.stackTrace=E.Deferred.getStackHook()),re.setTimeout(nt))}}return E.Deferred((function(re){Q[0][3].add(l(0,re,m(Ne)?Ne:R,re.notifyWith)),Q[1][3].add(l(0,re,m(L)?L:R)),Q[2][3].add(l(0,re,m(te)?te:M))})).promise()},promise:function(L){return null!=L?E.extend(L,Ne):Ne}},$e={};return E.each(Q,(function(L,re){var Ue=re[2],tt=re[5];Ne[re[1]]=Ue.add,tt&&Ue.add((function(){te=tt}),Q[3-L][2].disable,Q[3-L][3].disable,Q[0][2].lock,Q[0][3].lock),Ue.add(re[3].fire),$e[re[0]]=function(){return $e[re[0]+"With"](this===$e?void 0:this,arguments),this},$e[re[0]+"With"]=Ue.fireWith})),Ne.promise($e),L&&L.call($e,$e),$e},when:function(L){var Q=arguments.length,te=Q,re=Array(te),Ne=tt.call(arguments),$e=E.Deferred(),a=function(L){return function(te){re[L]=this,Ne[L]=1<arguments.length?tt.call(arguments):te,--Q||$e.resolveWith(re,Ne)}};if(Q<=1&&(I(L,$e.done(a(te)).resolve,$e.reject,!Q),"pending"===$e.state()||m(Ne[te]&&Ne[te].then)))return $e.then();for(;te--;)I(Ne[te],a(te),$e.reject);return $e.promise()}});var fi=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(L,Q){re.console&&re.console.warn&&L&&fi.test(L.name)&&re.console.warn("jQuery.Deferred exception: "+L.message,L.stack,Q)},E.readyException=function(L){re.setTimeout((function(){throw L}))};var pi=E.Deferred();function $(){un.removeEventListener("DOMContentLoaded",$),re.removeEventListener("load",$),E.ready()}E.fn.ready=function(L){return pi.then(L).catch((function(L){E.readyException(L)})),this},E.extend({isReady:!1,readyWait:1,ready:function(L){(!0===L?--E.readyWait:E.isReady)||(E.isReady=!0)!==L&&0<--E.readyWait||pi.resolveWith(un,[E])}}),E.ready.then=pi.then,"complete"===un.readyState||"loading"!==un.readyState&&!un.documentElement.doScroll?re.setTimeout(E.ready):(un.addEventListener("DOMContentLoaded",$),re.addEventListener("load",$));var B=function(L,Q,te,re,Ne,$e,Ue){var tt=0,nt=L.length,it=null==te;if("object"===w(te))for(tt in Ne=!0,te)B(L,Q,tt,te[tt],!0,$e,Ue);else if(void 0!==re&&(Ne=!0,m(re)||(Ue=!0),it&&(Ue?(Q.call(L,re),Q=null):(it=Q,Q=function(L,Q,te){return it.call(E(L),te)})),Q))for(;tt<nt;tt++)Q(L[tt],te,Ue?re:re.call(L[tt],tt,Q(L[tt],te)));return Ne?L:it?Q.call(L):nt?Q(L[0],te):$e},gi=/^-ms-/,vi=/-([a-z])/g;function U(L,Q){return Q.toUpperCase()}function X(L){return L.replace(gi,"ms-").replace(vi,U)}var V=function(L){return 1===L.nodeType||9===L.nodeType||!+L.nodeType};function G(){this.expando=E.expando+G.uid++}G.uid=1,G.prototype={cache:function(L){var Q=L[this.expando];return Q||(Q={},V(L)&&(L.nodeType?L[this.expando]=Q:Object.defineProperty(L,this.expando,{value:Q,configurable:!0}))),Q},set:function(L,Q,te){var re,Ne=this.cache(L);if("string"==typeof Q)Ne[X(Q)]=te;else for(re in Q)Ne[X(re)]=Q[re];return Ne},get:function(L,Q){return void 0===Q?this.cache(L):L[this.expando]&&L[this.expando][X(Q)]},access:function(L,Q,te){return void 0===Q||Q&&"string"==typeof Q&&void 0===te?this.get(L,Q):(this.set(L,Q,te),void 0!==te?te:Q)},remove:function(L,Q){var te,re=L[this.expando];if(void 0!==re){if(void 0!==Q){te=(Q=Array.isArray(Q)?Q.map(X):(Q=X(Q))in re?[Q]:Q.match(di)||[]).length;for(;te--;)delete re[Q[te]]}(void 0===Q||E.isEmptyObject(re))&&(L.nodeType?L[this.expando]=void 0:delete L[this.expando])}},hasData:function(L){var Q=L[this.expando];return void 0!==Q&&!E.isEmptyObject(Q)}};var mi=new G,bi=new G,xi=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ti=/[A-Z]/g;function Z(L,Q,te){var re,Ne;if(void 0===te&&1===L.nodeType)if(re="data-"+Q.replace(Ti,"-$&").toLowerCase(),"string"==typeof(te=L.getAttribute(re))){try{te="true"===(Ne=te)||"false"!==Ne&&("null"===Ne?null:Ne===+Ne+""?+Ne:xi.test(Ne)?JSON.parse(Ne):Ne)}catch(L){}bi.set(L,Q,te)}else te=void 0;return te}E.extend({hasData:function(L){return bi.hasData(L)||mi.hasData(L)},data:function(L,Q,te){return bi.access(L,Q,te)},removeData:function(L,Q){bi.remove(L,Q)},_data:function(L,Q,te){return mi.access(L,Q,te)},_removeData:function(L,Q){mi.remove(L,Q)}}),E.fn.extend({data:function(L,Q){var te,re,Ne,$e=this[0],Ue=$e&&$e.attributes;if(void 0===L){if(this.length&&(Ne=bi.get($e),1===$e.nodeType&&!mi.get($e,"hasDataAttrs"))){for(te=Ue.length;te--;)Ue[te]&&0===(re=Ue[te].name).indexOf("data-")&&(re=X(re.slice(5)),Z($e,re,Ne[re]));mi.set($e,"hasDataAttrs",!0)}return Ne}return"object"==typeof L?this.each((function(){bi.set(this,L)})):B(this,(function(Q){var te;if($e&&void 0===Q)return void 0!==(te=bi.get($e,L))||void 0!==(te=Z($e,L))?te:void 0;this.each((function(){bi.set(this,L,Q)}))}),null,Q,1<arguments.length,null,!0)},removeData:function(L){return this.each((function(){bi.remove(this,L)}))}}),E.extend({queue:function(L,Q,te){var re;if(L)return Q=(Q||"fx")+"queue",re=mi.get(L,Q),te&&(!re||Array.isArray(te)?re=mi.access(L,Q,E.makeArray(te)):re.push(te)),re||[]},dequeue:function(L,Q){Q=Q||"fx";var te=E.queue(L,Q),re=te.length,Ne=te.shift(),$e=E._queueHooks(L,Q);"inprogress"===Ne&&(Ne=te.shift(),re--),Ne&&("fx"===Q&&te.unshift("inprogress"),delete $e.stop,Ne.call(L,(function(){E.dequeue(L,Q)}),$e)),!re&&$e&&$e.empty.fire()},_queueHooks:function(L,Q){var te=Q+"queueHooks";return mi.get(L,te)||mi.access(L,te,{empty:E.Callbacks("once memory").add((function(){mi.remove(L,[Q+"queue",te])}))})}}),E.fn.extend({queue:function(L,Q){var te=2;return"string"!=typeof L&&(Q=L,L="fx",te--),arguments.length<te?E.queue(this[0],L):void 0===Q?this:this.each((function(){var te=E.queue(this,L,Q);E._queueHooks(this,L),"fx"===L&&"inprogress"!==te[0]&&E.dequeue(this,L)}))},dequeue:function(L){return this.each((function(){E.dequeue(this,L)}))},clearQueue:function(L){return this.queue(L||"fx",[])},promise:function(L,Q){var te,re=1,Ne=E.Deferred(),$e=this,Ue=this.length,s=function(){--re||Ne.resolveWith($e,[$e])};for("string"!=typeof L&&(Q=L,L=void 0),L=L||"fx";Ue--;)(te=mi.get($e[Ue],L+"queueHooks"))&&te.empty&&(re++,te.empty.add(s));return s(),Ne.promise(Q)}});var Pi=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mi=new RegExp("^(?:([+-])=|)("+Pi+")([a-z%]*)$","i"),Oi=["Top","Right","Bottom","Left"],Li=un.documentElement,ie=function(L){return E.contains(L.ownerDocument,L)},ji={composed:!0};Li.getRootNode&&(ie=function(L){return E.contains(L.ownerDocument,L)||L.getRootNode(ji)===L.ownerDocument});var ae=function(L,Q){return"none"===(L=Q||L).style.display||""===L.style.display&&ie(L)&&"none"===E.css(L,"display")};function se(L,Q,te,re){var Ne,$e,Ue=20,tt=re?function(){return re.cur()}:function(){return E.css(L,Q,"")},nt=tt(),it=te&&te[3]||(E.cssNumber[Q]?"":"px"),rt=L.nodeType&&(E.cssNumber[Q]||"px"!==it&&+nt)&&Mi.exec(E.css(L,Q));if(rt&&rt[3]!==it){for(nt/=2,it=it||rt[3],rt=+nt||1;Ue--;)E.style(L,Q,rt+it),(1-$e)*(1-($e=tt()/nt||.5))<=0&&(Ue=0),rt/=$e;rt*=2,E.style(L,Q,rt+it),te=te||[]}return te&&(rt=+rt||+nt||0,Ne=te[1]?rt+(te[1]+1)*te[2]:+te[2],re&&(re.unit=it,re.start=rt,re.end=Ne)),Ne}var Ri={};function le(L,Q){for(var te,re,Ne,$e,Ue,tt,nt,it=[],rt=0,ot=L.length;rt<ot;rt++)(re=L[rt]).style&&(te=re.style.display,Q?("none"===te&&(it[rt]=mi.get(re,"display")||null,it[rt]||(re.style.display="")),""===re.style.display&&ae(re)&&(it[rt]=(nt=Ue=$e=void 0,Ue=(Ne=re).ownerDocument,tt=Ne.nodeName,(nt=Ri[tt])||($e=Ue.body.appendChild(Ue.createElement(tt)),nt=E.css($e,"display"),$e.parentNode.removeChild($e),"none"===nt&&(nt="block"),Ri[tt]=nt)))):"none"!==te&&(it[rt]="none",mi.set(re,"display",te)));for(rt=0;rt<ot;rt++)null!=it[rt]&&(L[rt].style.display=it[rt]);return L}E.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(L){return"boolean"==typeof L?L?this.show():this.hide():this.each((function(){ae(this)?E(this).show():E(this).hide()}))}});var Fi,Hi,qi=/^(?:checkbox|radio)$/i,Wi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Vi=/^$|^module$|\/(?:java|ecma)script/i;Fi=un.createDocumentFragment().appendChild(un.createElement("div")),(Hi=un.createElement("input")).setAttribute("type","radio"),Hi.setAttribute("checked","checked"),Hi.setAttribute("name","t"),Fi.appendChild(Hi),ln.checkClone=Fi.cloneNode(!0).cloneNode(!0).lastChild.checked,Fi.innerHTML="<textarea>x</textarea>",ln.noCloneChecked=!!Fi.cloneNode(!0).lastChild.defaultValue,Fi.innerHTML="<option></option>",ln.option=!!Fi.lastChild;var Yi={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(L,Q){var te;return te=void 0!==L.getElementsByTagName?L.getElementsByTagName(Q||"*"):void 0!==L.querySelectorAll?L.querySelectorAll(Q||"*"):[],void 0===Q||Q&&A(L,Q)?E.merge([L],te):te}function ve(L,Q){for(var te=0,re=L.length;te<re;te++)mi.set(L[te],"globalEval",!Q||mi.get(Q[te],"globalEval"))}Yi.tbody=Yi.tfoot=Yi.colgroup=Yi.caption=Yi.thead,Yi.th=Yi.td,ln.option||(Yi.optgroup=Yi.option=[1,"<select multiple='multiple'>","</select>"]);var Xi=/<|&#?\w+;/;function xe(L,Q,te,re,Ne){for(var $e,Ue,tt,nt,it,rt,ot=Q.createDocumentFragment(),at=[],dt=0,bt=L.length;dt<bt;dt++)if(($e=L[dt])||0===$e)if("object"===w($e))E.merge(at,$e.nodeType?[$e]:$e);else if(Xi.test($e)){for(Ue=Ue||ot.appendChild(Q.createElement("div")),tt=(Wi.exec($e)||["",""])[1].toLowerCase(),nt=Yi[tt]||Yi._default,Ue.innerHTML=nt[1]+E.htmlPrefilter($e)+nt[2],rt=nt[0];rt--;)Ue=Ue.lastChild;E.merge(at,Ue.childNodes),(Ue=ot.firstChild).textContent=""}else at.push(Q.createTextNode($e));for(ot.textContent="",dt=0;$e=at[dt++];)if(re&&-1<E.inArray($e,re))Ne&&Ne.push($e);else if(it=ie($e),Ue=ye(ot.appendChild($e),"script"),it&&ve(Ue),te)for(rt=0;$e=Ue[rt++];)Vi.test($e.type||"")&&te.push($e);return ot}var $i=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(L,Q){return L===function(){try{return un.activeElement}catch(L){}}()==("focus"===Q)}function Se(L,Q,te,re,Ne,$e){var Ue,tt;if("object"==typeof Q){for(tt in"string"!=typeof te&&(re=re||te,te=void 0),Q)Se(L,tt,te,re,Q[tt],$e);return L}if(null==re&&null==Ne?(Ne=te,re=te=void 0):null==Ne&&("string"==typeof te?(Ne=re,re=void 0):(Ne=re,re=te,te=void 0)),!1===Ne)Ne=Te;else if(!Ne)return L;return 1===$e&&(Ue=Ne,(Ne=function(L){return E().off(L),Ue.apply(this,arguments)}).guid=Ue.guid||(Ue.guid=E.guid++)),L.each((function(){E.event.add(this,Q,Ne,re,te)}))}function Ee(L,Q,te){te?(mi.set(L,Q,!1),E.event.add(L,Q,{namespace:!1,handler:function(L){var re,Ne,$e=mi.get(this,Q);if(1&L.isTrigger&&this[Q]){if($e.length)(E.event.special[Q]||{}).delegateType&&L.stopPropagation();else if($e=tt.call(arguments),mi.set(this,Q,$e),re=te(this,Q),this[Q](),$e!==(Ne=mi.get(this,Q))||re?mi.set(this,Q,!1):Ne={},$e!==Ne)return L.stopImmediatePropagation(),L.preventDefault(),Ne&&Ne.value}else $e.length&&(mi.set(this,Q,{value:E.event.trigger(E.extend($e[0],E.Event.prototype),$e.slice(1),this)}),L.stopImmediatePropagation())}})):void 0===mi.get(L,Q)&&E.event.add(L,Q,we)}E.event={global:{},add:function(L,Q,te,re,Ne){var $e,Ue,tt,nt,it,rt,ot,at,dt,bt,sn,ln=mi.get(L);if(V(L))for(te.handler&&(te=($e=te).handler,Ne=$e.selector),Ne&&E.find.matchesSelector(Li,Ne),te.guid||(te.guid=E.guid++),(nt=ln.events)||(nt=ln.events=Object.create(null)),(Ue=ln.handle)||(Ue=ln.handle=function(Q){return void 0!==E&&E.event.triggered!==Q.type?E.event.dispatch.apply(L,arguments):void 0}),it=(Q=(Q||"").match(di)||[""]).length;it--;)dt=sn=(tt=$i.exec(Q[it])||[])[1],bt=(tt[2]||"").split(".").sort(),dt&&(ot=E.event.special[dt]||{},dt=(Ne?ot.delegateType:ot.bindType)||dt,ot=E.event.special[dt]||{},rt=E.extend({type:dt,origType:sn,data:re,handler:te,guid:te.guid,selector:Ne,needsContext:Ne&&E.expr.match.needsContext.test(Ne),namespace:bt.join(".")},$e),(at=nt[dt])||((at=nt[dt]=[]).delegateCount=0,ot.setup&&!1!==ot.setup.call(L,re,bt,Ue)||L.addEventListener&&L.addEventListener(dt,Ue)),ot.add&&(ot.add.call(L,rt),rt.handler.guid||(rt.handler.guid=te.guid)),Ne?at.splice(at.delegateCount++,0,rt):at.push(rt),E.event.global[dt]=!0)},remove:function(L,Q,te,re,Ne){var $e,Ue,tt,nt,it,rt,ot,at,dt,bt,sn,ln=mi.hasData(L)&&mi.get(L);if(ln&&(nt=ln.events)){for(it=(Q=(Q||"").match(di)||[""]).length;it--;)if(dt=sn=(tt=$i.exec(Q[it])||[])[1],bt=(tt[2]||"").split(".").sort(),dt){for(ot=E.event.special[dt]||{},at=nt[dt=(re?ot.delegateType:ot.bindType)||dt]||[],tt=tt[2]&&new RegExp("(^|\\.)"+bt.join("\\.(?:.*\\.|)")+"(\\.|$)"),Ue=$e=at.length;$e--;)rt=at[$e],!Ne&&sn!==rt.origType||te&&te.guid!==rt.guid||tt&&!tt.test(rt.namespace)||re&&re!==rt.selector&&("**"!==re||!rt.selector)||(at.splice($e,1),rt.selector&&at.delegateCount--,ot.remove&&ot.remove.call(L,rt));Ue&&!at.length&&(ot.teardown&&!1!==ot.teardown.call(L,bt,ln.handle)||E.removeEvent(L,dt,ln.handle),delete nt[dt])}else for(dt in nt)E.event.remove(L,dt+Q[it],te,re,!0);E.isEmptyObject(nt)&&mi.remove(L,"handle events")}},dispatch:function(L){var Q,te,re,Ne,$e,Ue,tt=new Array(arguments.length),nt=E.event.fix(L),it=(mi.get(this,"events")||Object.create(null))[nt.type]||[],rt=E.event.special[nt.type]||{};for(tt[0]=nt,Q=1;Q<arguments.length;Q++)tt[Q]=arguments[Q];if(nt.delegateTarget=this,!rt.preDispatch||!1!==rt.preDispatch.call(this,nt)){for(Ue=E.event.handlers.call(this,nt,it),Q=0;(Ne=Ue[Q++])&&!nt.isPropagationStopped();)for(nt.currentTarget=Ne.elem,te=0;($e=Ne.handlers[te++])&&!nt.isImmediatePropagationStopped();)nt.rnamespace&&!1!==$e.namespace&&!nt.rnamespace.test($e.namespace)||(nt.handleObj=$e,nt.data=$e.data,void 0!==(re=((E.event.special[$e.origType]||{}).handle||$e.handler).apply(Ne.elem,tt))&&!1===(nt.result=re)&&(nt.preventDefault(),nt.stopPropagation()));return rt.postDispatch&&rt.postDispatch.call(this,nt),nt.result}},handlers:function(L,Q){var te,re,Ne,$e,Ue,tt=[],nt=Q.delegateCount,it=L.target;if(nt&&it.nodeType&&!("click"===L.type&&1<=L.button))for(;it!==this;it=it.parentNode||this)if(1===it.nodeType&&("click"!==L.type||!0!==it.disabled)){for($e=[],Ue={},te=0;te<nt;te++)void 0===Ue[Ne=(re=Q[te]).selector+" "]&&(Ue[Ne]=re.needsContext?-1<E(Ne,this).index(it):E.find(Ne,this,null,[it]).length),Ue[Ne]&&$e.push(re);$e.length&&tt.push({elem:it,handlers:$e})}return it=this,nt<Q.length&&tt.push({elem:it,handlers:Q.slice(nt)}),tt},addProp:function(L,Q){Object.defineProperty(E.Event.prototype,L,{enumerable:!0,configurable:!0,get:m(Q)?function(){if(this.originalEvent)return Q(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[L]},set:function(Q){Object.defineProperty(this,L,{enumerable:!0,configurable:!0,writable:!0,value:Q})}})},fix:function(L){return L[E.expando]?L:new E.Event(L)},special:{load:{noBubble:!0},click:{setup:function(L){var Q=this||L;return qi.test(Q.type)&&Q.click&&A(Q,"input")&&Ee(Q,"click",we),!1},trigger:function(L){var Q=this||L;return qi.test(Q.type)&&Q.click&&A(Q,"input")&&Ee(Q,"click"),!0},_default:function(L){var Q=L.target;return qi.test(Q.type)&&Q.click&&A(Q,"input")&&mi.get(Q,"click")||A(Q,"a")}},beforeunload:{postDispatch:function(L){void 0!==L.result&&L.originalEvent&&(L.originalEvent.returnValue=L.result)}}}},E.removeEvent=function(L,Q,te){L.removeEventListener&&L.removeEventListener(Q,te)},E.Event=function(L,Q){if(!(this instanceof E.Event))return new E.Event(L,Q);L&&L.type?(this.originalEvent=L,this.type=L.type,this.isDefaultPrevented=L.defaultPrevented||void 0===L.defaultPrevented&&!1===L.returnValue?we:Te,this.target=L.target&&3===L.target.nodeType?L.target.parentNode:L.target,this.currentTarget=L.currentTarget,this.relatedTarget=L.relatedTarget):this.type=L,Q&&E.extend(this,Q),this.timeStamp=L&&L.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var L=this.originalEvent;this.isDefaultPrevented=we,L&&!this.isSimulated&&L.preventDefault()},stopPropagation:function(){var L=this.originalEvent;this.isPropagationStopped=we,L&&!this.isSimulated&&L.stopPropagation()},stopImmediatePropagation:function(){var L=this.originalEvent;this.isImmediatePropagationStopped=we,L&&!this.isSimulated&&L.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},(function(L,Q){E.event.special[L]={setup:function(){return Ee(this,L,Ce),!1},trigger:function(){return Ee(this,L),!0},_default:function(Q){return mi.get(Q.target,L)},delegateType:Q}})),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(L,Q){E.event.special[L]={delegateType:Q,bindType:Q,handle:function(L){var te,re=L.relatedTarget,Ne=L.handleObj;return re&&(re===this||E.contains(this,re))||(L.type=Ne.origType,te=Ne.handler.apply(this,arguments),L.type=Q),te}}})),E.fn.extend({on:function(L,Q,te,re){return Se(this,L,Q,te,re)},one:function(L,Q,te,re){return Se(this,L,Q,te,re,1)},off:function(L,Q,te){var re,Ne;if(L&&L.preventDefault&&L.handleObj)return re=L.handleObj,E(L.delegateTarget).off(re.namespace?re.origType+"."+re.namespace:re.origType,re.selector,re.handler),this;if("object"==typeof L){for(Ne in L)this.off(Ne,Q,L[Ne]);return this}return!1!==Q&&"function"!=typeof Q||(te=Q,Q=void 0),!1===te&&(te=Te),this.each((function(){E.event.remove(this,L,te,Q)}))}});var Gi=/<script|<style|<link/i,Ui=/checked\s*(?:[^=]|=\s*.checked.)/i,Ki=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function je(L,Q){return A(L,"table")&&A(11!==Q.nodeType?Q:Q.firstChild,"tr")&&E(L).children("tbody")[0]||L}function De(L){return L.type=(null!==L.getAttribute("type"))+"/"+L.type,L}function qe(L){return"true/"===(L.type||"").slice(0,5)?L.type=L.type.slice(5):L.removeAttribute("type"),L}function Le(L,Q){var te,re,Ne,$e,Ue,tt;if(1===Q.nodeType){if(mi.hasData(L)&&(tt=mi.get(L).events))for(Ne in mi.remove(Q,"handle events"),tt)for(te=0,re=tt[Ne].length;te<re;te++)E.event.add(Q,Ne,tt[Ne][te]);bi.hasData(L)&&($e=bi.access(L),Ue=E.extend({},$e),bi.set(Q,Ue))}}function He(L,Q,te,re){Q=nt(Q);var Ne,$e,Ue,tt,it,rt,ot=0,at=L.length,dt=at-1,bt=Q[0],sn=m(bt);if(sn||1<at&&"string"==typeof bt&&!ln.checkClone&&Ui.test(bt))return L.each((function(Ne){var $e=L.eq(Ne);sn&&(Q[0]=bt.call(this,Ne,$e.html())),He($e,Q,te,re)}));if(at&&($e=(Ne=xe(Q,L[0].ownerDocument,!1,L,re)).firstChild,1===Ne.childNodes.length&&(Ne=$e),$e||re)){for(tt=(Ue=E.map(ye(Ne,"script"),De)).length;ot<at;ot++)it=Ne,ot!==dt&&(it=E.clone(it,!0,!0),tt&&E.merge(Ue,ye(it,"script"))),te.call(L[ot],it,ot);if(tt)for(rt=Ue[Ue.length-1].ownerDocument,E.map(Ue,qe),ot=0;ot<tt;ot++)it=Ue[ot],Vi.test(it.type||"")&&!mi.access(it,"globalEval")&&E.contains(rt,it)&&(it.src&&"module"!==(it.type||"").toLowerCase()?E._evalUrl&&!it.noModule&&E._evalUrl(it.src,{nonce:it.nonce||it.getAttribute("nonce")},rt):b(it.textContent.replace(Ki,""),it,rt))}return L}function Oe(L,Q,te){for(var re,Ne=Q?E.filter(Q,L):L,$e=0;null!=(re=Ne[$e]);$e++)te||1!==re.nodeType||E.cleanData(ye(re)),re.parentNode&&(te&&ie(re)&&ve(ye(re,"script")),re.parentNode.removeChild(re));return L}E.extend({htmlPrefilter:function(L){return L},clone:function(L,Q,te){var re,Ne,$e,Ue,tt,nt,it,rt=L.cloneNode(!0),ot=ie(L);if(!(ln.noCloneChecked||1!==L.nodeType&&11!==L.nodeType||E.isXMLDoc(L)))for(Ue=ye(rt),re=0,Ne=($e=ye(L)).length;re<Ne;re++)tt=$e[re],"input"===(it=(nt=Ue[re]).nodeName.toLowerCase())&&qi.test(tt.type)?nt.checked=tt.checked:"input"!==it&&"textarea"!==it||(nt.defaultValue=tt.defaultValue);if(Q)if(te)for($e=$e||ye(L),Ue=Ue||ye(rt),re=0,Ne=$e.length;re<Ne;re++)Le($e[re],Ue[re]);else Le(L,rt);return 0<(Ue=ye(rt,"script")).length&&ve(Ue,!ot&&ye(L,"script")),rt},cleanData:function(L){for(var Q,te,re,Ne=E.event.special,$e=0;void 0!==(te=L[$e]);$e++)if(V(te)){if(Q=te[mi.expando]){if(Q.events)for(re in Q.events)Ne[re]?E.event.remove(te,re):E.removeEvent(te,re,Q.handle);te[mi.expando]=void 0}te[bi.expando]&&(te[bi.expando]=void 0)}}}),E.fn.extend({detach:function(L){return Oe(this,L,!0)},remove:function(L){return Oe(this,L)},text:function(L){return B(this,(function(L){return void 0===L?E.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=L)}))}),null,L,arguments.length)},append:function(){return He(this,arguments,(function(L){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,L).appendChild(L)}))},prepend:function(){return He(this,arguments,(function(L){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var Q=je(this,L);Q.insertBefore(L,Q.firstChild)}}))},before:function(){return He(this,arguments,(function(L){this.parentNode&&this.parentNode.insertBefore(L,this)}))},after:function(){return He(this,arguments,(function(L){this.parentNode&&this.parentNode.insertBefore(L,this.nextSibling)}))},empty:function(){for(var L,Q=0;null!=(L=this[Q]);Q++)1===L.nodeType&&(E.cleanData(ye(L,!1)),L.textContent="");return this},clone:function(L,Q){return L=null!=L&&L,Q=null==Q?L:Q,this.map((function(){return E.clone(this,L,Q)}))},html:function(L){return B(this,(function(L){var Q=this[0]||{},te=0,re=this.length;if(void 0===L&&1===Q.nodeType)return Q.innerHTML;if("string"==typeof L&&!Gi.test(L)&&!Yi[(Wi.exec(L)||["",""])[1].toLowerCase()]){L=E.htmlPrefilter(L);try{for(;te<re;te++)1===(Q=this[te]||{}).nodeType&&(E.cleanData(ye(Q,!1)),Q.innerHTML=L);Q=0}catch(L){}}Q&&this.empty().append(L)}),null,L,arguments.length)},replaceWith:function(){var L=[];return He(this,arguments,(function(Q){var te=this.parentNode;E.inArray(this,L)<0&&(E.cleanData(ye(this)),te&&te.replaceChild(Q,this))}),L)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(L,Q){E.fn[L]=function(L){for(var te,re=[],Ne=E(L),$e=Ne.length-1,Ue=0;Ue<=$e;Ue++)te=Ue===$e?this:this.clone(!0),E(Ne[Ue])[Q](te),it.apply(re,te.get());return this.pushStack(re)}}));var Zi=new RegExp("^("+Pi+")(?!px)[a-z%]+$","i"),Ji=/^--/,Me=function(L){var Q=L.ownerDocument.defaultView;return Q&&Q.opener||(Q=re),Q.getComputedStyle(L)},Ie=function(L,Q,te){var re,Ne,$e={};for(Ne in Q)$e[Ne]=L.style[Ne],L.style[Ne]=Q[Ne];for(Ne in re=te.call(L),Q)L.style[Ne]=$e[Ne];return re},Qi=new RegExp(Oi.join("|"),"i"),tr="[\\x20\\t\\r\\n\\f]",nr=new RegExp("^"+tr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tr+"+$","g");function Be(L,Q,te){var re,Ne,$e,Ue,tt=Ji.test(Q),nt=L.style;return(te=te||Me(L))&&(Ue=te.getPropertyValue(Q)||te[Q],tt&&Ue&&(Ue=Ue.replace(nr,"$1")||void 0),""!==Ue||ie(L)||(Ue=E.style(L,Q)),!ln.pixelBoxStyles()&&Zi.test(Ue)&&Qi.test(Q)&&(re=nt.width,Ne=nt.minWidth,$e=nt.maxWidth,nt.minWidth=nt.maxWidth=nt.width=Ue,Ue=te.width,nt.width=re,nt.minWidth=Ne,nt.maxWidth=$e)),void 0!==Ue?Ue+"":Ue}function _e(L,Q){return{get:function(){if(!L())return(this.get=Q).apply(this,arguments);delete this.get}}}!function(){function e(){if(nt){tt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",nt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Li.appendChild(tt).appendChild(nt);var $e=re.getComputedStyle(nt);L="1%"!==$e.top,Ue=12===t($e.marginLeft),nt.style.right="60%",Ne=36===t($e.right),Q=36===t($e.width),nt.style.position="absolute",te=12===t(nt.offsetWidth/3),Li.removeChild(tt),nt=null}}function t(L){return Math.round(parseFloat(L))}var L,Q,te,Ne,$e,Ue,tt=un.createElement("div"),nt=un.createElement("div");nt.style&&(nt.style.backgroundClip="content-box",nt.cloneNode(!0).style.backgroundClip="",ln.clearCloneStyle="content-box"===nt.style.backgroundClip,E.extend(ln,{boxSizingReliable:function(){return e(),Q},pixelBoxStyles:function(){return e(),Ne},pixelPosition:function(){return e(),L},reliableMarginLeft:function(){return e(),Ue},scrollboxSize:function(){return e(),te},reliableTrDimensions:function(){var L,Q,te,Ne;return null==$e&&(L=un.createElement("table"),Q=un.createElement("tr"),te=un.createElement("div"),L.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Q.style.cssText="border:1px solid",Q.style.height="1px",te.style.height="9px",te.style.display="block",Li.appendChild(L).appendChild(Q).appendChild(te),Ne=re.getComputedStyle(Q),$e=parseInt(Ne.height,10)+parseInt(Ne.borderTopWidth,10)+parseInt(Ne.borderBottomWidth,10)===Q.offsetHeight,Li.removeChild(L)),$e}}))}();var or=["Webkit","Moz","ms"],dr=un.createElement("div").style,gr={};function Ve(L){return E.cssProps[L]||gr[L]||(L in dr?L:gr[L]=function(L){for(var Q=L[0].toUpperCase()+L.slice(1),te=or.length;te--;)if((L=or[te]+Q)in dr)return L}(L)||L)}var vr=/^(none|table(?!-c[ea]).+)/,Er={position:"absolute",visibility:"hidden",display:"block"},Wr={letterSpacing:"0",fontWeight:"400"};function Je(L,Q,te){var re=Mi.exec(Q);return re?Math.max(0,re[2]-(te||0))+(re[3]||"px"):Q}function Ke(L,Q,te,re,Ne,$e){var Ue="width"===Q?1:0,tt=0,nt=0;if(te===(re?"border":"content"))return 0;for(;Ue<4;Ue+=2)"margin"===te&&(nt+=E.css(L,te+Oi[Ue],!0,Ne)),re?("content"===te&&(nt-=E.css(L,"padding"+Oi[Ue],!0,Ne)),"margin"!==te&&(nt-=E.css(L,"border"+Oi[Ue]+"Width",!0,Ne))):(nt+=E.css(L,"padding"+Oi[Ue],!0,Ne),"padding"!==te?nt+=E.css(L,"border"+Oi[Ue]+"Width",!0,Ne):tt+=E.css(L,"border"+Oi[Ue]+"Width",!0,Ne));return!re&&0<=$e&&(nt+=Math.max(0,Math.ceil(L["offset"+Q[0].toUpperCase()+Q.slice(1)]-$e-nt-tt-.5))||0),nt}function Ze(L,Q,te){var re=Me(L),Ne=(!ln.boxSizingReliable()||te)&&"border-box"===E.css(L,"boxSizing",!1,re),$e=Ne,Ue=Be(L,Q,re),tt="offset"+Q[0].toUpperCase()+Q.slice(1);if(Zi.test(Ue)){if(!te)return Ue;Ue="auto"}return(!ln.boxSizingReliable()&&Ne||!ln.reliableTrDimensions()&&A(L,"tr")||"auto"===Ue||!parseFloat(Ue)&&"inline"===E.css(L,"display",!1,re))&&L.getClientRects().length&&(Ne="border-box"===E.css(L,"boxSizing",!1,re),($e=tt in L)&&(Ue=L[tt])),(Ue=parseFloat(Ue)||0)+Ke(L,Q,te||(Ne?"border":"content"),$e,re,Ue)+"px"}function et(L,Q,te,re,Ne){return new et.prototype.init(L,Q,te,re,Ne)}E.extend({cssHooks:{opacity:{get:function(L,Q){if(Q){var te=Be(L,"opacity");return""===te?"1":te}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(L,Q,te,re){if(L&&3!==L.nodeType&&8!==L.nodeType&&L.style){var Ne,$e,Ue,tt=X(Q),nt=Ji.test(Q),it=L.style;if(nt||(Q=Ve(tt)),Ue=E.cssHooks[Q]||E.cssHooks[tt],void 0===te)return Ue&&"get"in Ue&&void 0!==(Ne=Ue.get(L,!1,re))?Ne:it[Q];"string"==($e=typeof te)&&(Ne=Mi.exec(te))&&Ne[1]&&(te=se(L,Q,Ne),$e="number"),null!=te&&te==te&&("number"!==$e||nt||(te+=Ne&&Ne[3]||(E.cssNumber[tt]?"":"px")),ln.clearCloneStyle||""!==te||0!==Q.indexOf("background")||(it[Q]="inherit"),Ue&&"set"in Ue&&void 0===(te=Ue.set(L,te,re))||(nt?it.setProperty(Q,te):it[Q]=te))}},css:function(L,Q,te,re){var Ne,$e,Ue,tt=X(Q);return Ji.test(Q)||(Q=Ve(tt)),(Ue=E.cssHooks[Q]||E.cssHooks[tt])&&"get"in Ue&&(Ne=Ue.get(L,!0,te)),void 0===Ne&&(Ne=Be(L,Q,re)),"normal"===Ne&&Q in Wr&&(Ne=Wr[Q]),""===te||te?($e=parseFloat(Ne),!0===te||isFinite($e)?$e||0:Ne):Ne}}),E.each(["height","width"],(function(L,Q){E.cssHooks[Q]={get:function(L,te,re){if(te)return!vr.test(E.css(L,"display"))||L.getClientRects().length&&L.getBoundingClientRect().width?Ze(L,Q,re):Ie(L,Er,(function(){return Ze(L,Q,re)}))},set:function(L,te,re){var Ne,$e=Me(L),Ue=!ln.scrollboxSize()&&"absolute"===$e.position,tt=(Ue||re)&&"border-box"===E.css(L,"boxSizing",!1,$e),nt=re?Ke(L,Q,re,tt,$e):0;return tt&&Ue&&(nt-=Math.ceil(L["offset"+Q[0].toUpperCase()+Q.slice(1)]-parseFloat($e[Q])-Ke(L,Q,"border",!1,$e)-.5)),nt&&(Ne=Mi.exec(te))&&"px"!==(Ne[3]||"px")&&(L.style[Q]=te,te=E.css(L,Q)),Je(0,te,nt)}}})),E.cssHooks.marginLeft=_e(ln.reliableMarginLeft,(function(L,Q){if(Q)return(parseFloat(Be(L,"marginLeft"))||L.getBoundingClientRect().left-Ie(L,{marginLeft:0},(function(){return L.getBoundingClientRect().left})))+"px"})),E.each({margin:"",padding:"",border:"Width"},(function(L,Q){E.cssHooks[L+Q]={expand:function(te){for(var re=0,Ne={},$e="string"==typeof te?te.split(" "):[te];re<4;re++)Ne[L+Oi[re]+Q]=$e[re]||$e[re-2]||$e[0];return Ne}},"margin"!==L&&(E.cssHooks[L+Q].set=Je)})),E.fn.extend({css:function(L,Q){return B(this,(function(L,Q,te){var re,Ne,$e={},Ue=0;if(Array.isArray(Q)){for(re=Me(L),Ne=Q.length;Ue<Ne;Ue++)$e[Q[Ue]]=E.css(L,Q[Ue],!1,re);return $e}return void 0!==te?E.style(L,Q,te):E.css(L,Q)}),L,Q,1<arguments.length)}}),((E.Tween=et).prototype={constructor:et,init:function(L,Q,te,re,Ne,$e){this.elem=L,this.prop=te,this.easing=Ne||E.easing._default,this.options=Q,this.start=this.now=this.cur(),this.end=re,this.unit=$e||(E.cssNumber[te]?"":"px")},cur:function(){var L=et.propHooks[this.prop];return L&&L.get?L.get(this):et.propHooks._default.get(this)},run:function(L){var Q,te=et.propHooks[this.prop];return this.options.duration?this.pos=Q=E.easing[this.easing](L,this.options.duration*L,0,1,this.options.duration):this.pos=Q=L,this.now=(this.end-this.start)*Q+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),te&&te.set?te.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(L){var Q;return 1!==L.elem.nodeType||null!=L.elem[L.prop]&&null==L.elem.style[L.prop]?L.elem[L.prop]:(Q=E.css(L.elem,L.prop,""))&&"auto"!==Q?Q:0},set:function(L){E.fx.step[L.prop]?E.fx.step[L.prop](L):1!==L.elem.nodeType||!E.cssHooks[L.prop]&&null==L.elem.style[Ve(L.prop)]?L.elem[L.prop]=L.now:E.style(L.elem,L.prop,L.now+L.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(L){L.elem.nodeType&&L.elem.parentNode&&(L.elem[L.prop]=L.now)}},E.easing={linear:function(L){return L},swing:function(L){return.5-Math.cos(L*Math.PI)/2},_default:"swing"},E.fx=et.prototype.init,E.fx.step={};var Vr,Ur,eo,to,io=/^(?:toggle|show|hide)$/,ro=/queueHooks$/;function st(){Ur&&(!1===un.hidden&&re.requestAnimationFrame?re.requestAnimationFrame(st):re.setTimeout(st,E.fx.interval),E.fx.tick())}function ut(){return re.setTimeout((function(){Vr=void 0})),Vr=Date.now()}function lt(L,Q){var te,re=0,Ne={height:L};for(Q=Q?1:0;re<4;re+=2-Q)Ne["margin"+(te=Oi[re])]=Ne["padding"+te]=L;return Q&&(Ne.opacity=Ne.width=L),Ne}function ct(L,Q,te){for(var re,Ne=(ft.tweeners[Q]||[]).concat(ft.tweeners["*"]),$e=0,Ue=Ne.length;$e<Ue;$e++)if(re=Ne[$e].call(te,Q,L))return re}function ft(L,Q,te){var re,Ne,$e=0,Ue=ft.prefilters.length,tt=E.Deferred().always((function(){delete u.elem})),u=function(){if(Ne)return!1;for(var Q=Vr||ut(),te=Math.max(0,nt.startTime+nt.duration-Q),re=1-(te/nt.duration||0),$e=0,Ue=nt.tweens.length;$e<Ue;$e++)nt.tweens[$e].run(re);return tt.notifyWith(L,[nt,re,te]),re<1&&Ue?te:(Ue||tt.notifyWith(L,[nt,1,0]),tt.resolveWith(L,[nt]),!1)},nt=tt.promise({elem:L,props:E.extend({},Q),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},te),originalProperties:Q,originalOptions:te,startTime:Vr||ut(),duration:te.duration,tweens:[],createTween:function(Q,te){var re=E.Tween(L,nt.opts,Q,te,nt.opts.specialEasing[Q]||nt.opts.easing);return nt.tweens.push(re),re},stop:function(Q){var te=0,re=Q?nt.tweens.length:0;if(Ne)return this;for(Ne=!0;te<re;te++)nt.tweens[te].run(1);return Q?(tt.notifyWith(L,[nt,1,0]),tt.resolveWith(L,[nt,Q])):tt.rejectWith(L,[nt,Q]),this}}),it=nt.props;for(function(L,Q){var te,re,Ne,$e,Ue;for(te in L)if(Ne=Q[re=X(te)],$e=L[te],Array.isArray($e)&&(Ne=$e[1],$e=L[te]=$e[0]),te!==re&&(L[re]=$e,delete L[te]),(Ue=E.cssHooks[re])&&"expand"in Ue)for(te in $e=Ue.expand($e),delete L[re],$e)te in L||(L[te]=$e[te],Q[te]=Ne);else Q[re]=Ne}(it,nt.opts.specialEasing);$e<Ue;$e++)if(re=ft.prefilters[$e].call(nt,L,it,nt.opts))return m(re.stop)&&(E._queueHooks(nt.elem,nt.opts.queue).stop=re.stop.bind(re)),re;return E.map(it,ct,nt),m(nt.opts.start)&&nt.opts.start.call(L,nt),nt.progress(nt.opts.progress).done(nt.opts.done,nt.opts.complete).fail(nt.opts.fail).always(nt.opts.always),E.fx.timer(E.extend(u,{elem:L,anim:nt,queue:nt.opts.queue})),nt}E.Animation=E.extend(ft,{tweeners:{"*":[function(L,Q){var te=this.createTween(L,Q);return se(te.elem,L,Mi.exec(Q),te),te}]},tweener:function(L,Q){m(L)?(Q=L,L=["*"]):L=L.match(di);for(var te,re=0,Ne=L.length;re<Ne;re++)te=L[re],ft.tweeners[te]=ft.tweeners[te]||[],ft.tweeners[te].unshift(Q)},prefilters:[function(L,Q,te){var re,Ne,$e,Ue,tt,nt,it,rt,ot="width"in Q||"height"in Q,at=this,dt={},bt=L.style,sn=L.nodeType&&ae(L),ln=mi.get(L,"fxshow");for(re in te.queue||(null==(Ue=E._queueHooks(L,"fx")).unqueued&&(Ue.unqueued=0,tt=Ue.empty.fire,Ue.empty.fire=function(){Ue.unqueued||tt()}),Ue.unqueued++,at.always((function(){at.always((function(){Ue.unqueued--,E.queue(L,"fx").length||Ue.empty.fire()}))}))),Q)if(Ne=Q[re],io.test(Ne)){if(delete Q[re],$e=$e||"toggle"===Ne,Ne===(sn?"hide":"show")){if("show"!==Ne||!ln||void 0===ln[re])continue;sn=!0}dt[re]=ln&&ln[re]||E.style(L,re)}if((nt=!E.isEmptyObject(Q))||!E.isEmptyObject(dt))for(re in ot&&1===L.nodeType&&(te.overflow=[bt.overflow,bt.overflowX,bt.overflowY],null==(it=ln&&ln.display)&&(it=mi.get(L,"display")),"none"===(rt=E.css(L,"display"))&&(it?rt=it:(le([L],!0),it=L.style.display||it,rt=E.css(L,"display"),le([L]))),("inline"===rt||"inline-block"===rt&&null!=it)&&"none"===E.css(L,"float")&&(nt||(at.done((function(){bt.display=it})),null==it&&(rt=bt.display,it="none"===rt?"":rt)),bt.display="inline-block")),te.overflow&&(bt.overflow="hidden",at.always((function(){bt.overflow=te.overflow[0],bt.overflowX=te.overflow[1],bt.overflowY=te.overflow[2]}))),nt=!1,dt)nt||(ln?"hidden"in ln&&(sn=ln.hidden):ln=mi.access(L,"fxshow",{display:it}),$e&&(ln.hidden=!sn),sn&&le([L],!0),at.done((function(){for(re in sn||le([L]),mi.remove(L,"fxshow"),dt)E.style(L,re,dt[re])}))),nt=ct(sn?ln[re]:0,re,at),re in ln||(ln[re]=nt.start,sn&&(nt.end=nt.start,nt.start=0))}],prefilter:function(L,Q){Q?ft.prefilters.unshift(L):ft.prefilters.push(L)}}),E.speed=function(L,Q,te){var re=L&&"object"==typeof L?E.extend({},L):{complete:te||!te&&Q||m(L)&&L,duration:L,easing:te&&Q||Q&&!m(Q)&&Q};return E.fx.off?re.duration=0:"number"!=typeof re.duration&&(re.duration in E.fx.speeds?re.duration=E.fx.speeds[re.duration]:re.duration=E.fx.speeds._default),null!=re.queue&&!0!==re.queue||(re.queue="fx"),re.old=re.complete,re.complete=function(){m(re.old)&&re.old.call(this),re.queue&&E.dequeue(this,re.queue)},re},E.fn.extend({fadeTo:function(L,Q,te,re){return this.filter(ae).css("opacity",0).show().end().animate({opacity:Q},L,te,re)},animate:function(L,Q,te,re){var Ne=E.isEmptyObject(L),$e=E.speed(Q,te,re),a=function(){var Q=ft(this,E.extend({},L),$e);(Ne||mi.get(this,"finish"))&&Q.stop(!0)};return a.finish=a,Ne||!1===$e.queue?this.each(a):this.queue($e.queue,a)},stop:function(L,Q,te){var a=function(L){var Q=L.stop;delete L.stop,Q(te)};return"string"!=typeof L&&(te=Q,Q=L,L=void 0),Q&&this.queue(L||"fx",[]),this.each((function(){var Q=!0,re=null!=L&&L+"queueHooks",Ne=E.timers,$e=mi.get(this);if(re)$e[re]&&$e[re].stop&&a($e[re]);else for(re in $e)$e[re]&&$e[re].stop&&ro.test(re)&&a($e[re]);for(re=Ne.length;re--;)Ne[re].elem!==this||null!=L&&Ne[re].queue!==L||(Ne[re].anim.stop(te),Q=!1,Ne.splice(re,1));!Q&&te||E.dequeue(this,L)}))},finish:function(L){return!1!==L&&(L=L||"fx"),this.each((function(){var Q,te=mi.get(this),re=te[L+"queue"],Ne=te[L+"queueHooks"],$e=E.timers,Ue=re?re.length:0;for(te.finish=!0,E.queue(this,L,[]),Ne&&Ne.stop&&Ne.stop.call(this,!0),Q=$e.length;Q--;)$e[Q].elem===this&&$e[Q].queue===L&&($e[Q].anim.stop(!0),$e.splice(Q,1));for(Q=0;Q<Ue;Q++)re[Q]&&re[Q].finish&&re[Q].finish.call(this);delete te.finish}))}}),E.each(["toggle","show","hide"],(function(L,Q){var te=E.fn[Q];E.fn[Q]=function(L,re,Ne){return null==L||"boolean"==typeof L?te.apply(this,arguments):this.animate(lt(Q,!0),L,re,Ne)}})),E.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(L,Q){E.fn[L]=function(L,te,re){return this.animate(Q,L,te,re)}})),E.timers=[],E.fx.tick=function(){var L,Q=0,te=E.timers;for(Vr=Date.now();Q<te.length;Q++)(L=te[Q])()||te[Q]!==L||te.splice(Q--,1);te.length||E.fx.stop(),Vr=void 0},E.fx.timer=function(L){E.timers.push(L),E.fx.start()},E.fx.interval=13,E.fx.start=function(){Ur||(Ur=!0,st())},E.fx.stop=function(){Ur=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(L,Q){return L=E.fx&&E.fx.speeds[L]||L,Q=Q||"fx",this.queue(Q,(function(Q,te){var Ne=re.setTimeout(Q,L);te.stop=function(){re.clearTimeout(Ne)}}))},eo=un.createElement("input"),to=un.createElement("select").appendChild(un.createElement("option")),eo.type="checkbox",ln.checkOn=""!==eo.value,ln.optSelected=to.selected,(eo=un.createElement("input")).value="t",eo.type="radio",ln.radioValue="t"===eo.value;var oo,ao=E.expr.attrHandle;E.fn.extend({attr:function(L,Q){return B(this,E.attr,L,Q,1<arguments.length)},removeAttr:function(L){return this.each((function(){E.removeAttr(this,L)}))}}),E.extend({attr:function(L,Q,te){var re,Ne,$e=L.nodeType;if(3!==$e&&8!==$e&&2!==$e)return void 0===L.getAttribute?E.prop(L,Q,te):(1===$e&&E.isXMLDoc(L)||(Ne=E.attrHooks[Q.toLowerCase()]||(E.expr.match.bool.test(Q)?oo:void 0)),void 0!==te?null===te?void E.removeAttr(L,Q):Ne&&"set"in Ne&&void 0!==(re=Ne.set(L,te,Q))?re:(L.setAttribute(Q,te+""),te):Ne&&"get"in Ne&&null!==(re=Ne.get(L,Q))?re:null==(re=E.find.attr(L,Q))?void 0:re)},attrHooks:{type:{set:function(L,Q){if(!ln.radioValue&&"radio"===Q&&A(L,"input")){var te=L.value;return L.setAttribute("type",Q),te&&(L.value=te),Q}}}},removeAttr:function(L,Q){var te,re=0,Ne=Q&&Q.match(di);if(Ne&&1===L.nodeType)for(;te=Ne[re++];)L.removeAttribute(te)}}),oo={set:function(L,Q,te){return!1===Q?E.removeAttr(L,te):L.setAttribute(te,te),te}},E.each(E.expr.match.bool.source.match(/\w+/g),(function(L,Q){var te=ao[Q]||E.find.attr;ao[Q]=function(L,Q,re){var Ne,$e,Ue=Q.toLowerCase();return re||($e=ao[Ue],ao[Ue]=Ne,Ne=null!=te(L,Q,re)?Ue:null,ao[Ue]=$e),Ne}}));var co=/^(?:input|select|textarea|button)$/i,ho=/^(?:a|area)$/i;function yt(L){return(L.match(di)||[]).join(" ")}function vt(L){return L.getAttribute&&L.getAttribute("class")||""}function mt(L){return Array.isArray(L)?L:"string"==typeof L&&L.match(di)||[]}E.fn.extend({prop:function(L,Q){return B(this,E.prop,L,Q,1<arguments.length)},removeProp:function(L){return this.each((function(){delete this[E.propFix[L]||L]}))}}),E.extend({prop:function(L,Q,te){var re,Ne,$e=L.nodeType;if(3!==$e&&8!==$e&&2!==$e)return 1===$e&&E.isXMLDoc(L)||(Q=E.propFix[Q]||Q,Ne=E.propHooks[Q]),void 0!==te?Ne&&"set"in Ne&&void 0!==(re=Ne.set(L,te,Q))?re:L[Q]=te:Ne&&"get"in Ne&&null!==(re=Ne.get(L,Q))?re:L[Q]},propHooks:{tabIndex:{get:function(L){var Q=E.find.attr(L,"tabindex");return Q?parseInt(Q,10):co.test(L.nodeName)||ho.test(L.nodeName)&&L.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ln.optSelected||(E.propHooks.selected={get:function(L){var Q=L.parentNode;return Q&&Q.parentNode&&Q.parentNode.selectedIndex,null},set:function(L){var Q=L.parentNode;Q&&(Q.selectedIndex,Q.parentNode&&Q.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){E.propFix[this.toLowerCase()]=this})),E.fn.extend({addClass:function(L){var Q,te,re,Ne,$e,Ue;return m(L)?this.each((function(Q){E(this).addClass(L.call(this,Q,vt(this)))})):(Q=mt(L)).length?this.each((function(){if(re=vt(this),te=1===this.nodeType&&" "+yt(re)+" "){for($e=0;$e<Q.length;$e++)Ne=Q[$e],te.indexOf(" "+Ne+" ")<0&&(te+=Ne+" ");Ue=yt(te),re!==Ue&&this.setAttribute("class",Ue)}})):this},removeClass:function(L){var Q,te,re,Ne,$e,Ue;return m(L)?this.each((function(Q){E(this).removeClass(L.call(this,Q,vt(this)))})):arguments.length?(Q=mt(L)).length?this.each((function(){if(re=vt(this),te=1===this.nodeType&&" "+yt(re)+" "){for($e=0;$e<Q.length;$e++)for(Ne=Q[$e];-1<te.indexOf(" "+Ne+" ");)te=te.replace(" "+Ne+" "," ");Ue=yt(te),re!==Ue&&this.setAttribute("class",Ue)}})):this:this.attr("class","")},toggleClass:function(L,Q){var te,re,Ne,$e,Ue=typeof L,tt="string"===Ue||Array.isArray(L);return m(L)?this.each((function(te){E(this).toggleClass(L.call(this,te,vt(this),Q),Q)})):"boolean"==typeof Q&&tt?Q?this.addClass(L):this.removeClass(L):(te=mt(L),this.each((function(){if(tt)for($e=E(this),Ne=0;Ne<te.length;Ne++)re=te[Ne],$e.hasClass(re)?$e.removeClass(re):$e.addClass(re);else void 0!==L&&"boolean"!==Ue||((re=vt(this))&&mi.set(this,"__className__",re),this.setAttribute&&this.setAttribute("class",re||!1===L?"":mi.get(this,"__className__")||""))})))},hasClass:function(L){var Q,te,re=0;for(Q=" "+L+" ";te=this[re++];)if(1===te.nodeType&&-1<(" "+yt(vt(te))+" ").indexOf(Q))return!0;return!1}});var fo=/\r/g;E.fn.extend({val:function(L){var Q,te,re,Ne=this[0];return arguments.length?(re=m(L),this.each((function(te){var Ne;1===this.nodeType&&(null==(Ne=re?L.call(this,te,E(this).val()):L)?Ne="":"number"==typeof Ne?Ne+="":Array.isArray(Ne)&&(Ne=E.map(Ne,(function(L){return null==L?"":L+""}))),(Q=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in Q&&void 0!==Q.set(this,Ne,"value")||(this.value=Ne))}))):Ne?(Q=E.valHooks[Ne.type]||E.valHooks[Ne.nodeName.toLowerCase()])&&"get"in Q&&void 0!==(te=Q.get(Ne,"value"))?te:"string"==typeof(te=Ne.value)?te.replace(fo,""):null==te?"":te:void 0}}),E.extend({valHooks:{option:{get:function(L){var Q=E.find.attr(L,"value");return null!=Q?Q:yt(E.text(L))}},select:{get:function(L){var Q,te,re,Ne=L.options,$e=L.selectedIndex,Ue="select-one"===L.type,tt=Ue?null:[],nt=Ue?$e+1:Ne.length;for(re=$e<0?nt:Ue?$e:0;re<nt;re++)if(((te=Ne[re]).selected||re===$e)&&!te.disabled&&(!te.parentNode.disabled||!A(te.parentNode,"optgroup"))){if(Q=E(te).val(),Ue)return Q;tt.push(Q)}return tt},set:function(L,Q){for(var te,re,Ne=L.options,$e=E.makeArray(Q),Ue=Ne.length;Ue--;)((re=Ne[Ue]).selected=-1<E.inArray(E.valHooks.option.get(re),$e))&&(te=!0);return te||(L.selectedIndex=-1),$e}}}}),E.each(["radio","checkbox"],(function(){E.valHooks[this]={set:function(L,Q){if(Array.isArray(Q))return L.checked=-1<E.inArray(E(L).val(),Q)}},ln.checkOn||(E.valHooks[this].get=function(L){return null===L.getAttribute("value")?"on":L.value})})),ln.focusin="onfocusin"in re;var po=/^(?:focusinfocus|focusoutblur)$/,wt=function(L){L.stopPropagation()};E.extend(E.event,{trigger:function(L,Q,te,Ne){var $e,Ue,tt,nt,it,rt,ot,at,bt=[te||un],sn=dt.call(L,"type")?L.type:L,ln=dt.call(L,"namespace")?L.namespace.split("."):[];if(Ue=at=tt=te=te||un,3!==te.nodeType&&8!==te.nodeType&&!po.test(sn+E.event.triggered)&&(-1<sn.indexOf(".")&&(sn=(ln=sn.split(".")).shift(),ln.sort()),it=sn.indexOf(":")<0&&"on"+sn,(L=L[E.expando]?L:new E.Event(sn,"object"==typeof L&&L)).isTrigger=Ne?2:3,L.namespace=ln.join("."),L.rnamespace=L.namespace?new RegExp("(^|\\.)"+ln.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,L.result=void 0,L.target||(L.target=te),Q=null==Q?[L]:E.makeArray(Q,[L]),ot=E.event.special[sn]||{},Ne||!ot.trigger||!1!==ot.trigger.apply(te,Q))){if(!Ne&&!ot.noBubble&&!x(te)){for(nt=ot.delegateType||sn,po.test(nt+sn)||(Ue=Ue.parentNode);Ue;Ue=Ue.parentNode)bt.push(Ue),tt=Ue;tt===(te.ownerDocument||un)&&bt.push(tt.defaultView||tt.parentWindow||re)}for($e=0;(Ue=bt[$e++])&&!L.isPropagationStopped();)at=Ue,L.type=1<$e?nt:ot.bindType||sn,(rt=(mi.get(Ue,"events")||Object.create(null))[L.type]&&mi.get(Ue,"handle"))&&rt.apply(Ue,Q),(rt=it&&Ue[it])&&rt.apply&&V(Ue)&&(L.result=rt.apply(Ue,Q),!1===L.result&&L.preventDefault());return L.type=sn,Ne||L.isDefaultPrevented()||ot._default&&!1!==ot._default.apply(bt.pop(),Q)||!V(te)||it&&m(te[sn])&&!x(te)&&((tt=te[it])&&(te[it]=null),E.event.triggered=sn,L.isPropagationStopped()&&at.addEventListener(sn,wt),te[sn](),L.isPropagationStopped()&&at.removeEventListener(sn,wt),E.event.triggered=void 0,tt&&(te[it]=tt)),L.result}},simulate:function(L,Q,te){var re=E.extend(new E.Event,te,{type:L,isSimulated:!0});E.event.trigger(re,null,Q)}}),E.fn.extend({trigger:function(L,Q){return this.each((function(){E.event.trigger(L,Q,this)}))},triggerHandler:function(L,Q){var te=this[0];if(te)return E.event.trigger(L,Q,te,!0)}}),ln.focusin||E.each({focus:"focusin",blur:"focusout"},(function(L,Q){var i=function(L){E.event.simulate(Q,L.target,E.event.fix(L))};E.event.special[Q]={setup:function(){var te=this.ownerDocument||this.document||this,re=mi.access(te,Q);re||te.addEventListener(L,i,!0),mi.access(te,Q,(re||0)+1)},teardown:function(){var te=this.ownerDocument||this.document||this,re=mi.access(te,Q)-1;re?mi.access(te,Q,re):(te.removeEventListener(L,i,!0),mi.remove(te,Q))}}}));var vo=re.location,xo={guid:Date.now()},ko=/\?/;E.parseXML=function(L){var Q,te;if(!L||"string"!=typeof L)return null;try{Q=(new re.DOMParser).parseFromString(L,"text/xml")}catch(L){}return te=Q&&Q.getElementsByTagName("parsererror")[0],Q&&!te||E.error("Invalid XML: "+(te?E.map(te.childNodes,(function(L){return L.textContent})).join("\n"):L)),Q};var Co=/\[\]$/,Eo=/\r?\n/g,Do=/^(?:submit|button|image|reset|file)$/i,To=/^(?:input|select|textarea|keygen)/i;function jt(L,Q,te,re){var Ne;if(Array.isArray(Q))E.each(Q,(function(Q,Ne){te||Co.test(L)?re(L,Ne):jt(L+"["+("object"==typeof Ne&&null!=Ne?Q:"")+"]",Ne,te,re)}));else if(te||"object"!==w(Q))re(L,Q);else for(Ne in Q)jt(L+"["+Ne+"]",Q[Ne],te,re)}E.param=function(L,Q){var te,re=[],i=function(L,Q){var te=m(Q)?Q():Q;re[re.length]=encodeURIComponent(L)+"="+encodeURIComponent(null==te?"":te)};if(null==L)return"";if(Array.isArray(L)||L.jquery&&!E.isPlainObject(L))E.each(L,(function(){i(this.name,this.value)}));else for(te in L)jt(te,L[te],Q,i);return re.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var L=E.prop(this,"elements");return L?E.makeArray(L):this})).filter((function(){var L=this.type;return this.name&&!E(this).is(":disabled")&&To.test(this.nodeName)&&!Do.test(L)&&(this.checked||!qi.test(L))})).map((function(L,Q){var te=E(this).val();return null==te?null:Array.isArray(te)?E.map(te,(function(L){return{name:Q.name,value:L.replace(Eo,"\r\n")}})):{name:Q.name,value:te.replace(Eo,"\r\n")}})).get()}});var Po=/%20/g,No=/#.*$/,Ao=/([?&])_=[^&]*/,Oo=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lo=/^(?:GET|HEAD)$/,Ro=/^\/\//,Fo={},Vo={},Yo="*/".concat("*"),$o=un.createElement("a");function Ft(L){return function(Q,te){"string"!=typeof Q&&(te=Q,Q="*");var re,Ne=0,$e=Q.toLowerCase().match(di)||[];if(m(te))for(;re=$e[Ne++];)"+"===re[0]?(re=re.slice(1)||"*",(L[re]=L[re]||[]).unshift(te)):(L[re]=L[re]||[]).push(te)}}function $t(L,Q,te,re){var Ne={},$e=L===Vo;function l(Ue){var tt;return Ne[Ue]=!0,E.each(L[Ue]||[],(function(L,Ue){var nt=Ue(Q,te,re);return"string"!=typeof nt||$e||Ne[nt]?$e?!(tt=nt):void 0:(Q.dataTypes.unshift(nt),l(nt),!1)})),tt}return l(Q.dataTypes[0])||!Ne["*"]&&l("*")}function Bt(L,Q){var te,re,Ne=E.ajaxSettings.flatOptions||{};for(te in Q)void 0!==Q[te]&&((Ne[te]?L:re||(re={}))[te]=Q[te]);return re&&E.extend(!0,L,re),L}$o.href=vo.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vo.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(vo.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yo,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(L,Q){return Q?Bt(Bt(L,E.ajaxSettings),Q):Bt(E.ajaxSettings,L)},ajaxPrefilter:Ft(Fo),ajaxTransport:Ft(Vo),ajax:function(L,Q){"object"==typeof L&&(Q=L,L=void 0),Q=Q||{};var te,Ne,$e,Ue,tt,nt,it,rt,ot,at,dt=E.ajaxSetup({},Q),bt=dt.context||dt,sn=dt.context&&(bt.nodeType||bt.jquery)?E(bt):E.event,ln=E.Deferred(),cn=E.Callbacks("once memory"),dn=dt.statusCode||{},xn={},Wn={},Yn="canceled",Xn={readyState:0,getResponseHeader:function(L){var Q;if(it){if(!Ue)for(Ue={};Q=Oo.exec($e);)Ue[Q[1].toLowerCase()+" "]=(Ue[Q[1].toLowerCase()+" "]||[]).concat(Q[2]);Q=Ue[L.toLowerCase()+" "]}return null==Q?null:Q.join(", ")},getAllResponseHeaders:function(){return it?$e:null},setRequestHeader:function(L,Q){return null==it&&(L=Wn[L.toLowerCase()]=Wn[L.toLowerCase()]||L,xn[L]=Q),this},overrideMimeType:function(L){return null==it&&(dt.mimeType=L),this},statusCode:function(L){var Q;if(L)if(it)Xn.always(L[Xn.status]);else for(Q in L)dn[Q]=[dn[Q],L[Q]];return this},abort:function(L){var Q=L||Yn;return te&&te.abort(Q),l(0,Q),this}};if(ln.promise(Xn),dt.url=((L||dt.url||vo.href)+"").replace(Ro,vo.protocol+"//"),dt.type=Q.method||Q.type||dt.method||dt.type,dt.dataTypes=(dt.dataType||"*").toLowerCase().match(di)||[""],null==dt.crossDomain){nt=un.createElement("a");try{nt.href=dt.url,nt.href=nt.href,dt.crossDomain=$o.protocol+"//"+$o.host!=nt.protocol+"//"+nt.host}catch(L){dt.crossDomain=!0}}if(dt.data&&dt.processData&&"string"!=typeof dt.data&&(dt.data=E.param(dt.data,dt.traditional)),$t(Fo,dt,Q,Xn),it)return Xn;for(ot in(rt=E.event&&dt.global)&&0==E.active++&&E.event.trigger("ajaxStart"),dt.type=dt.type.toUpperCase(),dt.hasContent=!Lo.test(dt.type),Ne=dt.url.replace(No,""),dt.hasContent?dt.data&&dt.processData&&0===(dt.contentType||"").indexOf("application/x-www-form-urlencoded")&&(dt.data=dt.data.replace(Po,"+")):(at=dt.url.slice(Ne.length),dt.data&&(dt.processData||"string"==typeof dt.data)&&(Ne+=(ko.test(Ne)?"&":"?")+dt.data,delete dt.data),!1===dt.cache&&(Ne=Ne.replace(Ao,"$1"),at=(ko.test(Ne)?"&":"?")+"_="+xo.guid+++at),dt.url=Ne+at),dt.ifModified&&(E.lastModified[Ne]&&Xn.setRequestHeader("If-Modified-Since",E.lastModified[Ne]),E.etag[Ne]&&Xn.setRequestHeader("If-None-Match",E.etag[Ne])),(dt.data&&dt.hasContent&&!1!==dt.contentType||Q.contentType)&&Xn.setRequestHeader("Content-Type",dt.contentType),Xn.setRequestHeader("Accept",dt.dataTypes[0]&&dt.accepts[dt.dataTypes[0]]?dt.accepts[dt.dataTypes[0]]+("*"!==dt.dataTypes[0]?", "+Yo+"; q=0.01":""):dt.accepts["*"]),dt.headers)Xn.setRequestHeader(ot,dt.headers[ot]);if(dt.beforeSend&&(!1===dt.beforeSend.call(bt,Xn,dt)||it))return Xn.abort();if(Yn="abort",cn.add(dt.complete),Xn.done(dt.success),Xn.fail(dt.error),te=$t(Vo,dt,Q,Xn)){if(Xn.readyState=1,rt&&sn.trigger("ajaxSend",[Xn,dt]),it)return Xn;dt.async&&0<dt.timeout&&(tt=re.setTimeout((function(){Xn.abort("timeout")}),dt.timeout));try{it=!1,te.send(xn,l)}catch(L){if(it)throw L;l(-1,L)}}else l(-1,"No Transport");function l(L,Q,Ue,nt){var ot,at,un,xn,Wn,Yn=Q;it||(it=!0,tt&&re.clearTimeout(tt),te=void 0,$e=nt||"",Xn.readyState=0<L?4:0,ot=200<=L&&L<300||304===L,Ue&&(xn=function(L,Q,te){for(var re,Ne,$e,Ue,tt=L.contents,nt=L.dataTypes;"*"===nt[0];)nt.shift(),void 0===re&&(re=L.mimeType||Q.getResponseHeader("Content-Type"));if(re)for(Ne in tt)if(tt[Ne]&&tt[Ne].test(re)){nt.unshift(Ne);break}if(nt[0]in te)$e=nt[0];else{for(Ne in te){if(!nt[0]||L.converters[Ne+" "+nt[0]]){$e=Ne;break}Ue||(Ue=Ne)}$e=$e||Ue}if($e)return $e!==nt[0]&&nt.unshift($e),te[$e]}(dt,Xn,Ue)),!ot&&-1<E.inArray("script",dt.dataTypes)&&E.inArray("json",dt.dataTypes)<0&&(dt.converters["text script"]=function(){}),xn=function(L,Q,te,re){var Ne,$e,Ue,tt,nt,it={},rt=L.dataTypes.slice();if(rt[1])for(Ue in L.converters)it[Ue.toLowerCase()]=L.converters[Ue];for($e=rt.shift();$e;)if(L.responseFields[$e]&&(te[L.responseFields[$e]]=Q),!nt&&re&&L.dataFilter&&(Q=L.dataFilter(Q,L.dataType)),nt=$e,$e=rt.shift())if("*"===$e)$e=nt;else if("*"!==nt&&nt!==$e){if(!(Ue=it[nt+" "+$e]||it["* "+$e]))for(Ne in it)if((tt=Ne.split(" "))[1]===$e&&(Ue=it[nt+" "+tt[0]]||it["* "+tt[0]])){!0===Ue?Ue=it[Ne]:!0!==it[Ne]&&($e=tt[0],rt.unshift(tt[1]));break}if(!0!==Ue)if(Ue&&L.throws)Q=Ue(Q);else try{Q=Ue(Q)}catch(L){return{state:"parsererror",error:Ue?L:"No conversion from "+nt+" to "+$e}}}return{state:"success",data:Q}}(dt,xn,Xn,ot),ot?(dt.ifModified&&((Wn=Xn.getResponseHeader("Last-Modified"))&&(E.lastModified[Ne]=Wn),(Wn=Xn.getResponseHeader("etag"))&&(E.etag[Ne]=Wn)),204===L||"HEAD"===dt.type?Yn="nocontent":304===L?Yn="notmodified":(Yn=xn.state,at=xn.data,ot=!(un=xn.error))):(un=Yn,!L&&Yn||(Yn="error",L<0&&(L=0))),Xn.status=L,Xn.statusText=(Q||Yn)+"",ot?ln.resolveWith(bt,[at,Yn,Xn]):ln.rejectWith(bt,[Xn,Yn,un]),Xn.statusCode(dn),dn=void 0,rt&&sn.trigger(ot?"ajaxSuccess":"ajaxError",[Xn,dt,ot?at:un]),cn.fireWith(bt,[Xn,Yn]),rt&&(sn.trigger("ajaxComplete",[Xn,dt]),--E.active||E.event.trigger("ajaxStop")))}return Xn},getJSON:function(L,Q,te){return E.get(L,Q,te,"json")},getScript:function(L,Q){return E.get(L,void 0,Q,"script")}}),E.each(["get","post"],(function(L,Q){E[Q]=function(L,te,re,Ne){return m(te)&&(Ne=Ne||re,re=te,te=void 0),E.ajax(E.extend({url:L,type:Q,dataType:Ne,data:te,success:re},E.isPlainObject(L)&&L))}})),E.ajaxPrefilter((function(L){var Q;for(Q in L.headers)"content-type"===Q.toLowerCase()&&(L.contentType=L.headers[Q]||"")})),E._evalUrl=function(L,Q,te){return E.ajax({url:L,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(L){E.globalEval(L,Q,te)}})},E.fn.extend({wrapAll:function(L){var Q;return this[0]&&(m(L)&&(L=L.call(this[0])),Q=E(L,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&Q.insertBefore(this[0]),Q.map((function(){for(var L=this;L.firstElementChild;)L=L.firstElementChild;return L})).append(this)),this},wrapInner:function(L){return m(L)?this.each((function(Q){E(this).wrapInner(L.call(this,Q))})):this.each((function(){var Q=E(this),te=Q.contents();te.length?te.wrapAll(L):Q.append(L)}))},wrap:function(L){var Q=m(L);return this.each((function(te){E(this).wrapAll(Q?L.call(this,te):L)}))},unwrap:function(L){return this.parent(L).not("body").each((function(){E(this).replaceWith(this.childNodes)})),this}}),E.expr.pseudos.hidden=function(L){return!E.expr.pseudos.visible(L)},E.expr.pseudos.visible=function(L){return!!(L.offsetWidth||L.offsetHeight||L.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new re.XMLHttpRequest}catch(L){}};var Jo={0:200,1223:204},Qo=E.ajaxSettings.xhr();ln.cors=!!Qo&&"withCredentials"in Qo,ln.ajax=Qo=!!Qo,E.ajaxTransport((function(L){var Q,te;if(ln.cors||Qo&&!L.crossDomain)return{send:function(Ne,$e){var Ue,tt=L.xhr();if(tt.open(L.type,L.url,L.async,L.username,L.password),L.xhrFields)for(Ue in L.xhrFields)tt[Ue]=L.xhrFields[Ue];for(Ue in L.mimeType&&tt.overrideMimeType&&tt.overrideMimeType(L.mimeType),L.crossDomain||Ne["X-Requested-With"]||(Ne["X-Requested-With"]="XMLHttpRequest"),Ne)tt.setRequestHeader(Ue,Ne[Ue]);Q=function(L){return function(){Q&&(Q=te=tt.onload=tt.onerror=tt.onabort=tt.ontimeout=tt.onreadystatechange=null,"abort"===L?tt.abort():"error"===L?"number"!=typeof tt.status?$e(0,"error"):$e(tt.status,tt.statusText):$e(Jo[tt.status]||tt.status,tt.statusText,"text"!==(tt.responseType||"text")||"string"!=typeof tt.responseText?{binary:tt.response}:{text:tt.responseText},tt.getAllResponseHeaders()))}},tt.onload=Q(),te=tt.onerror=tt.ontimeout=Q("error"),void 0!==tt.onabort?tt.onabort=te:tt.onreadystatechange=function(){4===tt.readyState&&re.setTimeout((function(){Q&&te()}))},Q=Q("abort");try{tt.send(L.hasContent&&L.data||null)}catch(Ne){if(Q)throw Ne}},abort:function(){Q&&Q()}}})),E.ajaxPrefilter((function(L){L.crossDomain&&(L.contents.script=!1)})),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(L){return E.globalEval(L),L}}}),E.ajaxPrefilter("script",(function(L){void 0===L.cache&&(L.cache=!1),L.crossDomain&&(L.type="GET")})),E.ajaxTransport("script",(function(L){var Q,te;if(L.crossDomain||L.scriptAttrs)return{send:function(re,Ne){Q=E("<script>").attr(L.scriptAttrs||{}).prop({charset:L.scriptCharset,src:L.url}).on("load error",te=function(L){Q.remove(),te=null,L&&Ne("error"===L.type?404:200,L.type)}),un.head.appendChild(Q[0])},abort:function(){te&&te()}}}));var ea,ta=[],na=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var L=ta.pop()||E.expando+"_"+xo.guid++;return this[L]=!0,L}}),E.ajaxPrefilter("json jsonp",(function(L,Q,te){var Ne,$e,Ue,tt=!1!==L.jsonp&&(na.test(L.url)?"url":"string"==typeof L.data&&0===(L.contentType||"").indexOf("application/x-www-form-urlencoded")&&na.test(L.data)&&"data");if(tt||"jsonp"===L.dataTypes[0])return Ne=L.jsonpCallback=m(L.jsonpCallback)?L.jsonpCallback():L.jsonpCallback,tt?L[tt]=L[tt].replace(na,"$1"+Ne):!1!==L.jsonp&&(L.url+=(ko.test(L.url)?"&":"?")+L.jsonp+"="+Ne),L.converters["script json"]=function(){return Ue||E.error(Ne+" was not called"),Ue[0]},L.dataTypes[0]="json",$e=re[Ne],re[Ne]=function(){Ue=arguments},te.always((function(){void 0===$e?E(re).removeProp(Ne):re[Ne]=$e,L[Ne]&&(L.jsonpCallback=Q.jsonpCallback,ta.push(Ne)),Ue&&m($e)&&$e(Ue[0]),Ue=$e=void 0})),"script"})),ln.createHTMLDocument=((ea=un.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===ea.childNodes.length),E.parseHTML=function(L,Q,te){return"string"!=typeof L?[]:("boolean"==typeof Q&&(te=Q,Q=!1),Q||(ln.createHTMLDocument?((re=(Q=un.implementation.createHTMLDocument("")).createElement("base")).href=un.location.href,Q.head.appendChild(re)):Q=un),$e=!te&&[],(Ne=Yn.exec(L))?[Q.createElement(Ne[1])]:(Ne=xe([L],Q,$e),$e&&$e.length&&E($e).remove(),E.merge([],Ne.childNodes)));var re,Ne,$e},E.fn.load=function(L,Q,te){var re,Ne,$e,Ue=this,tt=L.indexOf(" ");return-1<tt&&(re=yt(L.slice(tt)),L=L.slice(0,tt)),m(Q)?(te=Q,Q=void 0):Q&&"object"==typeof Q&&(Ne="POST"),0<Ue.length&&E.ajax({url:L,type:Ne||"GET",dataType:"html",data:Q}).done((function(L){$e=arguments,Ue.html(re?E("<div>").append(E.parseHTML(L)).find(re):L)})).always(te&&function(L,Q){Ue.each((function(){te.apply(this,$e||[L.responseText,Q,L])}))}),this},E.expr.pseudos.animated=function(L){return E.grep(E.timers,(function(Q){return L===Q.elem})).length},E.offset={setOffset:function(L,Q,te){var re,Ne,$e,Ue,tt,nt,it=E.css(L,"position"),rt=E(L),ot={};"static"===it&&(L.style.position="relative"),tt=rt.offset(),$e=E.css(L,"top"),nt=E.css(L,"left"),("absolute"===it||"fixed"===it)&&-1<($e+nt).indexOf("auto")?(Ue=(re=rt.position()).top,Ne=re.left):(Ue=parseFloat($e)||0,Ne=parseFloat(nt)||0),m(Q)&&(Q=Q.call(L,te,E.extend({},tt))),null!=Q.top&&(ot.top=Q.top-tt.top+Ue),null!=Q.left&&(ot.left=Q.left-tt.left+Ne),"using"in Q?Q.using.call(L,ot):rt.css(ot)}},E.fn.extend({offset:function(L){if(arguments.length)return void 0===L?this:this.each((function(Q){E.offset.setOffset(this,L,Q)}));var Q,te,re=this[0];return re?re.getClientRects().length?(Q=re.getBoundingClientRect(),te=re.ownerDocument.defaultView,{top:Q.top+te.pageYOffset,left:Q.left+te.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var L,Q,te,re=this[0],Ne={top:0,left:0};if("fixed"===E.css(re,"position"))Q=re.getBoundingClientRect();else{for(Q=this.offset(),te=re.ownerDocument,L=re.offsetParent||te.documentElement;L&&(L===te.body||L===te.documentElement)&&"static"===E.css(L,"position");)L=L.parentNode;L&&L!==re&&1===L.nodeType&&((Ne=E(L).offset()).top+=E.css(L,"borderTopWidth",!0),Ne.left+=E.css(L,"borderLeftWidth",!0))}return{top:Q.top-Ne.top-E.css(re,"marginTop",!0),left:Q.left-Ne.left-E.css(re,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var L=this.offsetParent;L&&"static"===E.css(L,"position");)L=L.offsetParent;return L||Li}))}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(L,Q){var te="pageYOffset"===Q;E.fn[L]=function(re){return B(this,(function(L,re,Ne){var $e;if(x(L)?$e=L:9===L.nodeType&&($e=L.defaultView),void 0===Ne)return $e?$e[Q]:L[re];$e?$e.scrollTo(te?$e.pageXOffset:Ne,te?Ne:$e.pageYOffset):L[re]=Ne}),L,re,arguments.length)}})),E.each(["top","left"],(function(L,Q){E.cssHooks[Q]=_e(ln.pixelPosition,(function(L,te){if(te)return te=Be(L,Q),Zi.test(te)?E(L).position()[Q]+"px":te}))})),E.each({Height:"height",Width:"width"},(function(L,Q){E.each({padding:"inner"+L,content:Q,"":"outer"+L},(function(te,re){E.fn[re]=function(Ne,$e){var Ue=arguments.length&&(te||"boolean"!=typeof Ne),tt=te||(!0===Ne||!0===$e?"margin":"border");return B(this,(function(Q,te,Ne){var $e;return x(Q)?0===re.indexOf("outer")?Q["inner"+L]:Q.document.documentElement["client"+L]:9===Q.nodeType?($e=Q.documentElement,Math.max(Q.body["scroll"+L],$e["scroll"+L],Q.body["offset"+L],$e["offset"+L],$e["client"+L])):void 0===Ne?E.css(Q,te,tt):E.style(Q,te,Ne,tt)}),Q,Ue?Ne:void 0,Ue)}}))})),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(L,Q){E.fn[Q]=function(L){return this.on(Q,L)}})),E.fn.extend({bind:function(L,Q,te){return this.on(L,null,Q,te)},unbind:function(L,Q){return this.off(L,null,Q)},delegate:function(L,Q,te,re){return this.on(Q,L,te,re)},undelegate:function(L,Q,te){return 1===arguments.length?this.off(L,"**"):this.off(Q,L||"**",te)},hover:function(L,Q){return this.mouseenter(L).mouseleave(Q||L)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(L,Q){E.fn[Q]=function(L,te){return 0<arguments.length?this.on(Q,null,L,te):this.trigger(Q)}}));var ia=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(L,Q){var te,re,Ne;if("string"==typeof Q&&(te=L[Q],Q=L,L=te),m(L))return re=tt.call(arguments,2),(Ne=function(){return L.apply(Q||this,re.concat(tt.call(arguments)))}).guid=L.guid=L.guid||E.guid++,Ne},E.holdReady=function(L){L?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=A,E.isFunction=m,E.isWindow=x,E.camelCase=X,E.type=w,E.now=Date.now,E.isNumeric=function(L){var Q=E.type(L);return("number"===Q||"string"===Q)&&!isNaN(L-parseFloat(L))},E.trim=function(L){return null==L?"":(L+"").replace(ia,"$1")},void 0===(te=function(){return E}.apply(Q,[]))||(L.exports=te);var ra=re.jQuery,oa=re.$;return E.noConflict=function(L){return re.$===E&&(re.$=oa),L&&re.jQuery===E&&(re.jQuery=ra),E},void 0===Ne&&(re.jQuery=re.$=E),E}))},50847:function(L,Q,te){var re,Ne,$e;Ne=[te(20198)],re=function(L){function t(Q,te){var re,Ne,$e,Ue=Q.nodeName.toLowerCase();return"area"===Ue?(Ne=(re=Q.parentNode).name,!(!Q.href||!Ne||"map"!==re.nodeName.toLowerCase())&&!!($e=L("img[usemap='#"+Ne+"']")[0])&&i($e)):(/input|select|textarea|button|object/.test(Ue)?!Q.disabled:"a"===Ue&&Q.href||te)&&i(Q)}function i(Q){return L.expr.filters.visible(Q)&&!L(Q).parents().addBack().filter((function(){return"hidden"===L.css(this,"visibility")})).length}function s(L){for(var Q,te;L.length&&L[0]!==document;){if(("absolute"===(Q=L.css("position"))||"relative"===Q||"fixed"===Q)&&(te=parseInt(L.css("zIndex"),10),!isNaN(te)&&0!==te))return te;L=L.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},L.extend(this._defaults,this.regional[""]),this.regional.en=L.extend(!0,{},this.regional[""]),this.regional["en-US"]=L.extend(!0,{},this.regional.en),this.dpDiv=a(L("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(Q){var te="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return Q.delegate(te,"mouseout",(function(){L(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&L(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&L(this).removeClass("ui-datepicker-next-hover")})).delegate(te,"mouseover",o)}function o(){L.datepicker._isDisabledDatepicker($e.inline?$e.dpDiv.parent()[0]:$e.input[0])||(L(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),L(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&L(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&L(this).addClass("ui-datepicker-next-hover"))}function r(Q,te){for(var re in L.extend(Q,te),te)null==te[re]&&(Q[re]=te[re]);return Q}function h(L){return function(){var Q=this.element.val();L.apply(this,arguments),this._refresh(),Q!==this.element.val()&&this._trigger("change")}}L.ui=L.ui||{},L.extend(L.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),L.fn.extend({scrollParent:function(Q){var te=this.css("position"),re="absolute"===te,Ne=Q?/(auto|scroll|hidden)/:/(auto|scroll)/,$e=this.parents().filter((function(){var Q=L(this);return(!re||"static"!==Q.css("position"))&&Ne.test(Q.css("overflow")+Q.css("overflow-y")+Q.css("overflow-x"))})).eq(0);return"fixed"!==te&&$e.length?$e:L(this[0].ownerDocument||document)},uniqueId:function(){var L=0;return function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++L)}))}}(),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&L(this).removeAttr("id")}))}}),L.extend(L.expr[":"],{data:L.expr.createPseudo?L.expr.createPseudo((function(Q){return function(te){return!!L.data(te,Q)}})):function(Q,te,re){return!!L.data(Q,re[3])},focusable:function(Q){return t(Q,!isNaN(L.attr(Q,"tabindex")))},tabbable:function(Q){var te=L.attr(Q,"tabindex"),re=isNaN(te);return(re||te>=0)&&t(Q,!re)}}),L("<a>").outerWidth(1).jquery||L.each(["Width","Height"],(function(Q,te){function s(Q,te,Ne,$e){return L.each(re,(function(){te-=parseFloat(L.css(Q,"padding"+this))||0,Ne&&(te-=parseFloat(L.css(Q,"border"+this+"Width"))||0),$e&&(te-=parseFloat(L.css(Q,"margin"+this))||0)})),te}var re="Width"===te?["Left","Right"]:["Top","Bottom"],Ne=te.toLowerCase(),$e={innerWidth:L.fn.innerWidth,innerHeight:L.fn.innerHeight,outerWidth:L.fn.outerWidth,outerHeight:L.fn.outerHeight};L.fn["inner"+te]=function(Q){return void 0===Q?$e["inner"+te].call(this):this.each((function(){L(this).css(Ne,s(this,Q)+"px")}))},L.fn["outer"+te]=function(Q,re){return"number"!=typeof Q?$e["outer"+te].call(this,Q):this.each((function(){L(this).css(Ne,s(this,Q,!0,re)+"px")}))}})),L.fn.addBack||(L.fn.addBack=function(L){return this.add(null==L?this.prevObject:this.prevObject.filter(L))}),L("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(L.fn.removeData=function(Q){return function(te){return arguments.length?Q.call(this,L.camelCase(te)):Q.call(this)}}(L.fn.removeData)),L.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),L.fn.extend({focus:function(Q){return function(te,re){return"number"==typeof te?this.each((function(){var Q=this;setTimeout((function(){L(Q).focus(),re&&re.call(Q)}),te)})):Q.apply(this,arguments)}}(L.fn.focus),disableSelection:function(){var L="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(L+".ui-disableSelection",(function(L){L.preventDefault()}))}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(Q){if(void 0!==Q)return this.css("zIndex",Q);if(this.length)for(var te,re,Ne=L(this[0]);Ne.length&&Ne[0]!==document;){if(("absolute"===(te=Ne.css("position"))||"relative"===te||"fixed"===te)&&(re=parseInt(Ne.css("zIndex"),10),!isNaN(re)&&0!==re))return re;Ne=Ne.parent()}return 0}}),L.ui.plugin={add:function(Q,te,re){var Ne,$e=L.ui[Q].prototype;for(Ne in re)$e.plugins[Ne]=$e.plugins[Ne]||[],$e.plugins[Ne].push([te,re[Ne]])},call:function(L,Q,te,re){var Ne,$e=L.plugins[Q];if($e&&(re||L.element[0].parentNode&&11!==L.element[0].parentNode.nodeType))for(Ne=0;$e.length>Ne;Ne++)L.options[$e[Ne][0]]&&$e[Ne][1].apply(L.element,te)}};var Q=0,te=Array.prototype.slice;L.cleanData=function(Q){return function(te){var re,Ne,$e;for($e=0;null!=(Ne=te[$e]);$e++)try{(re=L._data(Ne,"events"))&&re.remove&&L(Ne).triggerHandler("remove")}catch(L){}Q(te)}}(L.cleanData),L.widget=function(Q,te,re){var Ne,$e,Ue,tt,nt={},it=Q.split(".")[0];return Q=Q.split(".")[1],Ne=it+"-"+Q,re||(re=te,te=L.Widget),L.expr[":"][Ne.toLowerCase()]=function(Q){return!!L.data(Q,Ne)},L[it]=L[it]||{},$e=L[it][Q],Ue=L[it][Q]=function(L,Q){return this._createWidget?void(arguments.length&&this._createWidget(L,Q)):new Ue(L,Q)},L.extend(Ue,$e,{version:re.version,_proto:L.extend({},re),_childConstructors:[]}),(tt=new te).options=L.widget.extend({},tt.options),L.each(re,(function(Q,re){return L.isFunction(re)?void(nt[Q]=function(){var e=function(){return te.prototype[Q].apply(this,arguments)},n=function(L){return te.prototype[Q].apply(this,L)};return function(){var L,Q=this._super,te=this._superApply;return this._super=e,this._superApply=n,L=re.apply(this,arguments),this._super=Q,this._superApply=te,L}}()):void(nt[Q]=re)})),Ue.prototype=L.widget.extend(tt,{widgetEventPrefix:$e&&tt.widgetEventPrefix||Q},nt,{constructor:Ue,namespace:it,widgetName:Q,widgetFullName:Ne}),$e?(L.each($e._childConstructors,(function(Q,te){var re=te.prototype;L.widget(re.namespace+"."+re.widgetName,Ue,te._proto)})),delete $e._childConstructors):te._childConstructors.push(Ue),L.widget.bridge(Q,Ue),Ue},L.widget.extend=function(Q){for(var re,Ne,$e=te.call(arguments,1),Ue=0,tt=$e.length;tt>Ue;Ue++)for(re in $e[Ue])Ne=$e[Ue][re],$e[Ue].hasOwnProperty(re)&&void 0!==Ne&&(Q[re]=L.isPlainObject(Ne)?L.isPlainObject(Q[re])?L.widget.extend({},Q[re],Ne):L.widget.extend({},Ne):Ne);return Q},L.widget.bridge=function(Q,re){var Ne=re.prototype.widgetFullName||Q;L.fn[Q]=function($e){var Ue="string"==typeof $e,tt=te.call(arguments,1),nt=this;return $e=!Ue&&tt.length?L.widget.extend.apply(null,[$e].concat(tt)):$e,Ue?this.each((function(){var te,re=L.data(this,Ne);return"instance"===$e?(nt=re,!1):re?L.isFunction(re[$e])&&"_"!==$e.charAt(0)?(te=re[$e].apply(re,tt))!==re&&void 0!==te?(nt=te&&te.jquery?nt.pushStack(te.get()):te,!1):void 0:L.error("no such method '"+$e+"' for "+Q+" widget instance"):L.error("cannot call methods on "+Q+" prior to initialization; attempted to call method '"+$e+"'")})):this.each((function(){var Q=L.data(this,Ne);Q?(Q.option($e||{}),Q._init&&Q._init()):L.data(this,Ne,new re($e,this))})),nt}},L.Widget=function(){},L.Widget._childConstructors=[],L.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(te,re){re=L(re||this.defaultElement||this)[0],this.element=L(re),this.uuid=Q++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=L.widget.extend({},this.options,this._getCreateOptions(),te),this.bindings=L(),this.hoverable=L(),this.focusable=L(),re!==this&&(L.data(re,this.widgetFullName,this),this._on(!0,this.element,{remove:function(L){L.target===re&&this.destroy()}}),this.document=L(re.style?re.ownerDocument:re.document||re),this.window=L(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:L.noop,_getCreateEventData:L.noop,_create:L.noop,_init:L.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(L.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:L.noop,widget:function(){return this.element},option:function(Q,te){var re,Ne,$e,Ue=Q;if(0===arguments.length)return L.widget.extend({},this.options);if("string"==typeof Q)if(Ue={},re=Q.split("."),Q=re.shift(),re.length){for(Ne=Ue[Q]=L.widget.extend({},this.options[Q]),$e=0;re.length-1>$e;$e++)Ne[re[$e]]=Ne[re[$e]]||{},Ne=Ne[re[$e]];if(Q=re.pop(),1===arguments.length)return void 0===Ne[Q]?null:Ne[Q];Ne[Q]=te}else{if(1===arguments.length)return void 0===this.options[Q]?null:this.options[Q];Ue[Q]=te}return this._setOptions(Ue),this},_setOptions:function(L){var Q;for(Q in L)this._setOption(Q,L[Q]);return this},_setOption:function(L,Q){return this.options[L]=Q,"disabled"===L&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!Q),Q&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(Q,te,re){var Ne,$e=this;"boolean"!=typeof Q&&(re=te,te=Q,Q=!1),re?(te=Ne=L(te),this.bindings=this.bindings.add(te)):(re=te,te=this.element,Ne=this.widget()),L.each(re,(function(re,Ue){function r(){return Q||!0!==$e.options.disabled&&!L(this).hasClass("ui-state-disabled")?("string"==typeof Ue?$e[Ue]:Ue).apply($e,arguments):void 0}"string"!=typeof Ue&&(r.guid=Ue.guid=Ue.guid||r.guid||L.guid++);var tt=re.match(/^([\w:-]*)\s*(.*)$/),nt=tt[1]+$e.eventNamespace,it=tt[2];it?Ne.delegate(it,nt,r):te.bind(nt,r)}))},_off:function(L,Q){Q=(Q||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,L.unbind(Q).undelegate(Q)},_delay:function(L,Q){function i(){return("string"==typeof L?te[L]:L).apply(te,arguments)}var te=this;return setTimeout(i,Q||0)},_hoverable:function(Q){this.hoverable=this.hoverable.add(Q),this._on(Q,{mouseenter:function(Q){L(Q.currentTarget).addClass("ui-state-hover")},mouseleave:function(Q){L(Q.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(Q){this.focusable=this.focusable.add(Q),this._on(Q,{focusin:function(Q){L(Q.currentTarget).addClass("ui-state-focus")},focusout:function(Q){L(Q.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(Q,te,re){var Ne,$e,Ue=this.options[Q];if(re=re||{},(te=L.Event(te)).type=(Q===this.widgetEventPrefix?Q:this.widgetEventPrefix+Q).toLowerCase(),te.target=this.element[0],$e=te.originalEvent)for(Ne in $e)Ne in te||(te[Ne]=$e[Ne]);return this.element.trigger(te,re),!(L.isFunction(Ue)&&!1===Ue.apply(this.element[0],[te].concat(re))||te.isDefaultPrevented())}},L.each({show:"fadeIn",hide:"fadeOut"},(function(Q,te){L.Widget.prototype["_"+Q]=function(re,Ne,$e){"string"==typeof Ne&&(Ne={effect:Ne});var Ue,tt=Ne?!0===Ne||"number"==typeof Ne?te:Ne.effect||te:Q;"number"==typeof(Ne=Ne||{})&&(Ne={duration:Ne}),Ue=!L.isEmptyObject(Ne),Ne.complete=$e,Ne.delay&&re.delay(Ne.delay),Ue&&L.effects&&L.effects.effect[tt]?re[Q](Ne):tt!==Q&&re[tt]?re[tt](Ne.duration,Ne.easing,$e):re.queue((function(te){L(this)[Q](),$e&&$e.call(re[0]),te()}))}})),L.widget;var re=!1;L(document).mouseup((function(){re=!1})),L.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var Q=this;this.element.bind("mousedown."+this.widgetName,(function(L){return Q._mouseDown(L)})).bind("click."+this.widgetName,(function(te){return!0===L.data(te.target,Q.widgetName+".preventClickEvent")?(L.removeData(te.target,Q.widgetName+".preventClickEvent"),te.stopImmediatePropagation(),!1):void 0})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(Q){if(!re){this._mouseStarted&&this._mouseUp(Q),this._mouseDownEvent=Q;var te=this,Ne=1===Q.which,$e=!("string"!=typeof this.options.cancel||!Q.target.nodeName)&&L(Q.target).closest(this.options.cancel).length;return!(Ne&&!$e&&this._mouseCapture(Q)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){te.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(Q)&&this._mouseDelayMet(Q)&&(this._mouseStarted=!1!==this._mouseStart(Q),!this._mouseStarted)?(Q.preventDefault(),0):(!0===L.data(Q.target,this.widgetName+".preventClickEvent")&&L.removeData(Q.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(L){return te._mouseMove(L)},this._mouseUpDelegate=function(L){return te._mouseUp(L)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),Q.preventDefault(),re=!0,0)))}},_mouseMove:function(Q){return L.ui.ie&&(!document.documentMode||9>document.documentMode)&&!Q.button?this._mouseUp(Q):Q.which?this._mouseStarted?(this._mouseDrag(Q),Q.preventDefault()):(this._mouseDistanceMet(Q)&&this._mouseDelayMet(Q)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,Q),this._mouseStarted?this._mouseDrag(Q):this._mouseUp(Q)),!this._mouseStarted):this._mouseUp(Q)},_mouseUp:function(Q){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,Q.target===this._mouseDownEvent.target&&L.data(Q.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(Q)),re=!1,!1},_mouseDistanceMet:function(L){return Math.max(Math.abs(this._mouseDownEvent.pageX-L.pageX),Math.abs(this._mouseDownEvent.pageY-L.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(L,Q,te){return[parseFloat(L[0])*(rt.test(L[0])?Q/100:1),parseFloat(L[1])*(rt.test(L[1])?te/100:1)]}function i(Q,te){return parseInt(L.css(Q,te),10)||0}function s(Q){var te=Q[0];return 9===te.nodeType?{width:Q.width(),height:Q.height(),offset:{top:0,left:0}}:L.isWindow(te)?{width:Q.width(),height:Q.height(),offset:{top:Q.scrollTop(),left:Q.scrollLeft()}}:te.preventDefault?{width:0,height:0,offset:{top:te.pageY,left:te.pageX}}:{width:Q.outerWidth(),height:Q.outerHeight(),offset:Q.offset()}}L.ui=L.ui||{};var Q,te,re=Math.max,Ne=Math.abs,$e=Math.round,Ue=/left|center|right/,tt=/top|center|bottom/,nt=/[\+\-]\d+(\.[\d]+)?%?/,it=/^\w+/,rt=/%$/,ot=L.fn.position;L.position={scrollbarWidth:function(){if(void 0!==Q)return Q;var te,re,Ne=L("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),$e=Ne.children()[0];return L("body").append(Ne),te=$e.offsetWidth,Ne.css("overflow","scroll"),te===(re=$e.offsetWidth)&&(re=Ne[0].clientWidth),Ne.remove(),Q=te-re},getScrollInfo:function(Q){var te=Q.isWindow||Q.isDocument?"":Q.element.css("overflow-x"),re=Q.isWindow||Q.isDocument?"":Q.element.css("overflow-y"),Ne="scroll"===te||"auto"===te&&Q.width<Q.element[0].scrollWidth;return{width:"scroll"===re||"auto"===re&&Q.height<Q.element[0].scrollHeight?L.position.scrollbarWidth():0,height:Ne?L.position.scrollbarWidth():0}},getWithinInfo:function(Q){var te=L(Q||window),re=L.isWindow(te[0]),Ne=!!te[0]&&9===te[0].nodeType;return{element:te,isWindow:re,isDocument:Ne,offset:te.offset()||{left:0,top:0},scrollLeft:te.scrollLeft(),scrollTop:te.scrollTop(),width:re||Ne?te.width():te.outerWidth(),height:re||Ne?te.height():te.outerHeight()}}},L.fn.position=function(Q){if(!Q||!Q.of)return ot.apply(this,arguments);Q=L.extend({},Q);var rt,at,dt,bt,sn,ln,un=L(Q.of),cn=L.position.getWithinInfo(Q.within),dn=L.position.getScrollInfo(cn),xn=(Q.collision||"flip").split(" "),Wn={};return ln=s(un),un[0].preventDefault&&(Q.at="left top"),at=ln.width,dt=ln.height,bt=ln.offset,sn=L.extend({},bt),L.each(["my","at"],(function(){var L,te,re=(Q[this]||"").split(" ");1===re.length&&(re=Ue.test(re[0])?re.concat(["center"]):tt.test(re[0])?["center"].concat(re):["center","center"]),re[0]=Ue.test(re[0])?re[0]:"center",re[1]=tt.test(re[1])?re[1]:"center",L=nt.exec(re[0]),te=nt.exec(re[1]),Wn[this]=[L?L[0]:0,te?te[0]:0],Q[this]=[it.exec(re[0])[0],it.exec(re[1])[0]]})),1===xn.length&&(xn[1]=xn[0]),"right"===Q.at[0]?sn.left+=at:"center"===Q.at[0]&&(sn.left+=at/2),"bottom"===Q.at[1]?sn.top+=dt:"center"===Q.at[1]&&(sn.top+=dt/2),rt=t(Wn.at,at,dt),sn.left+=rt[0],sn.top+=rt[1],this.each((function(){var Ue,tt,nt=L(this),it=nt.outerWidth(),ot=nt.outerHeight(),ln=i(this,"marginLeft"),Yn=i(this,"marginTop"),Xn=it+ln+i(this,"marginRight")+dn.width,Kn=ot+Yn+i(this,"marginBottom")+dn.height,ti=L.extend({},sn),ni=t(Wn.my,nt.outerWidth(),nt.outerHeight());"right"===Q.my[0]?ti.left-=it:"center"===Q.my[0]&&(ti.left-=it/2),"bottom"===Q.my[1]?ti.top-=ot:"center"===Q.my[1]&&(ti.top-=ot/2),ti.left+=ni[0],ti.top+=ni[1],te||(ti.left=$e(ti.left),ti.top=$e(ti.top)),Ue={marginLeft:ln,marginTop:Yn},L.each(["left","top"],(function(te,re){L.ui.position[xn[te]]&&L.ui.position[xn[te]][re](ti,{targetWidth:at,targetHeight:dt,elemWidth:it,elemHeight:ot,collisionPosition:Ue,collisionWidth:Xn,collisionHeight:Kn,offset:[rt[0]+ni[0],rt[1]+ni[1]],my:Q.my,at:Q.at,within:cn,elem:nt})})),Q.using&&(tt=function(L){var te=bt.left-ti.left,$e=te+at-it,Ue=bt.top-ti.top,tt=Ue+dt-ot,rt={target:{element:un,left:bt.left,top:bt.top,width:at,height:dt},element:{element:nt,left:ti.left,top:ti.top,width:it,height:ot},horizontal:0>$e?"left":te>0?"right":"center",vertical:0>tt?"top":Ue>0?"bottom":"middle"};it>at&&at>Ne(te+$e)&&(rt.horizontal="center"),ot>dt&&dt>Ne(Ue+tt)&&(rt.vertical="middle"),rt.important=re(Ne(te),Ne($e))>re(Ne(Ue),Ne(tt))?"horizontal":"vertical",Q.using.call(this,L,rt)}),nt.offset(L.extend(ti,{using:tt}))}))},L.ui.position={fit:{left:function(L,Q){var te,Ne=Q.within,$e=Ne.isWindow?Ne.scrollLeft:Ne.offset.left,Ue=Ne.width,tt=L.left-Q.collisionPosition.marginLeft,nt=$e-tt,it=tt+Q.collisionWidth-Ue-$e;Q.collisionWidth>Ue?nt>0&&0>=it?(te=L.left+nt+Q.collisionWidth-Ue-$e,L.left+=nt-te):L.left=it>0&&0>=nt?$e:nt>it?$e+Ue-Q.collisionWidth:$e:nt>0?L.left+=nt:it>0?L.left-=it:L.left=re(L.left-tt,L.left)},top:function(L,Q){var te,Ne=Q.within,$e=Ne.isWindow?Ne.scrollTop:Ne.offset.top,Ue=Q.within.height,tt=L.top-Q.collisionPosition.marginTop,nt=$e-tt,it=tt+Q.collisionHeight-Ue-$e;Q.collisionHeight>Ue?nt>0&&0>=it?(te=L.top+nt+Q.collisionHeight-Ue-$e,L.top+=nt-te):L.top=it>0&&0>=nt?$e:nt>it?$e+Ue-Q.collisionHeight:$e:nt>0?L.top+=nt:it>0?L.top-=it:L.top=re(L.top-tt,L.top)}},flip:{left:function(L,Q){var te,re,$e=Q.within,Ue=$e.offset.left+$e.scrollLeft,tt=$e.width,nt=$e.isWindow?$e.scrollLeft:$e.offset.left,it=L.left-Q.collisionPosition.marginLeft,rt=it-nt,ot=it+Q.collisionWidth-tt-nt,at="left"===Q.my[0]?-Q.elemWidth:"right"===Q.my[0]?Q.elemWidth:0,dt="left"===Q.at[0]?Q.targetWidth:"right"===Q.at[0]?-Q.targetWidth:0,bt=-2*Q.offset[0];0>rt?(0>(te=L.left+at+dt+bt+Q.collisionWidth-tt-Ue)||Ne(rt)>te)&&(L.left+=at+dt+bt):ot>0&&((re=L.left-Q.collisionPosition.marginLeft+at+dt+bt-nt)>0||ot>Ne(re))&&(L.left+=at+dt+bt)},top:function(L,Q){var te,re,$e=Q.within,Ue=$e.offset.top+$e.scrollTop,tt=$e.height,nt=$e.isWindow?$e.scrollTop:$e.offset.top,it=L.top-Q.collisionPosition.marginTop,rt=it-nt,ot=it+Q.collisionHeight-tt-nt,at="top"===Q.my[1]?-Q.elemHeight:"bottom"===Q.my[1]?Q.elemHeight:0,dt="top"===Q.at[1]?Q.targetHeight:"bottom"===Q.at[1]?-Q.targetHeight:0,bt=-2*Q.offset[1];0>rt?(re=L.top+at+dt+bt+Q.collisionHeight-tt-Ue,L.top+at+dt+bt>rt&&(0>re||Ne(rt)>re)&&(L.top+=at+dt+bt)):ot>0&&(te=L.top-Q.collisionPosition.marginTop+at+dt+bt-nt,L.top+at+dt+bt>ot&&(te>0||ot>Ne(te))&&(L.top+=at+dt+bt))}},flipfit:{left:function(){L.ui.position.flip.left.apply(this,arguments),L.ui.position.fit.left.apply(this,arguments)},top:function(){L.ui.position.flip.top.apply(this,arguments),L.ui.position.fit.top.apply(this,arguments)}}},function(){var Q,re,Ne,$e,Ue,tt=document.getElementsByTagName("body")[0],nt=document.createElement("div");for(Ue in Q=document.createElement(tt?"div":"body"),Ne={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},tt&&L.extend(Ne,{position:"absolute",left:"-1000px",top:"-1000px"}),Ne)Q.style[Ue]=Ne[Ue];Q.appendChild(nt),(re=tt||document.documentElement).insertBefore(Q,re.firstChild),nt.style.cssText="position: absolute; left: 10.7432222px;",$e=L(nt).offset().left,te=$e>10&&11>$e,Q.innerHTML="",re.removeChild(Q)}()}(),L.ui.position,L.widget("ui.accordion",{version:"1.11.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var Q=this.options;this.prevShow=this.prevHide=L(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),Q.collapsible||!1!==Q.active&&null!=Q.active||(Q.active=0),this._processPanels(),0>Q.active&&(Q.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():L()}},_createIcons:function(){var Q=this.options.icons;Q&&(L("<span>").addClass("ui-accordion-header-icon ui-icon "+Q.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(Q.header).addClass(Q.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var L;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),L=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&L.css("height","")},_setOption:function(L,Q){return"active"===L?void this._activate(Q):("event"===L&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(Q)),this._super(L,Q),"collapsible"!==L||Q||!1!==this.options.active||this._activate(0),"icons"===L&&(this._destroyIcons(),Q&&this._createIcons()),void("disabled"===L&&(this.element.toggleClass("ui-state-disabled",!!Q).attr("aria-disabled",Q),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!Q))))},_keydown:function(Q){if(!Q.altKey&&!Q.ctrlKey){var te=L.ui.keyCode,re=this.headers.length,Ne=this.headers.index(Q.target),$e=!1;switch(Q.keyCode){case te.RIGHT:case te.DOWN:$e=this.headers[(Ne+1)%re];break;case te.LEFT:case te.UP:$e=this.headers[(Ne-1+re)%re];break;case te.SPACE:case te.ENTER:this._eventHandler(Q);break;case te.HOME:$e=this.headers[0];break;case te.END:$e=this.headers[re-1]}$e&&(L(Q.target).attr("tabIndex",-1),L($e).attr("tabIndex",0),$e.focus(),Q.preventDefault())}},_panelKeyDown:function(Q){Q.keyCode===L.ui.keyCode.UP&&Q.ctrlKey&&L(Q.currentTarget).prev().focus()},refresh:function(){var Q=this.options;this._processPanels(),!1===Q.active&&!0===Q.collapsible||!this.headers.length?(Q.active=!1,this.active=L()):!1===Q.active?this._activate(0):this.active.length&&!L.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(Q.active=!1,this.active=L()):this._activate(Math.max(0,Q.active-1)):Q.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var Q,te=this.options,re=te.heightStyle,Ne=this.element.parent();this.active=this._findActive(te.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each((function(){var Q=L(this),te=Q.uniqueId().attr("id"),re=Q.next(),Ne=re.uniqueId().attr("id");Q.attr("aria-controls",Ne),re.attr("aria-labelledby",te)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(te.event),"fill"===re?(Q=Ne.height(),this.element.siblings(":visible").each((function(){var te=L(this),re=te.css("position");"absolute"!==re&&"fixed"!==re&&(Q-=te.outerHeight(!0))})),this.headers.each((function(){Q-=L(this).outerHeight(!0)})),this.headers.next().each((function(){L(this).height(Math.max(0,Q-L(this).innerHeight()+L(this).height()))})).css("overflow","auto")):"auto"===re&&(Q=0,this.headers.next().each((function(){Q=Math.max(Q,L(this).css("height","").height())})).height(Q))},_activate:function(Q){var te=this._findActive(Q)[0];te!==this.active[0]&&(te=te||this.active[0],this._eventHandler({target:te,currentTarget:te,preventDefault:L.noop}))},_findActive:function(Q){return"number"==typeof Q?this.headers.eq(Q):L()},_setupEvents:function(Q){var te={keydown:"_keydown"};Q&&L.each(Q.split(" "),(function(L,Q){te[Q]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,te),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(Q){var te=this.options,re=this.active,Ne=L(Q.currentTarget),$e=Ne[0]===re[0],Ue=$e&&te.collapsible,tt=Ue?L():Ne.next(),nt=re.next(),it={oldHeader:re,oldPanel:nt,newHeader:Ue?L():Ne,newPanel:tt};Q.preventDefault(),$e&&!te.collapsible||!1===this._trigger("beforeActivate",Q,it)||(te.active=!Ue&&this.headers.index(Ne),this.active=$e?L():Ne,this._toggle(it),re.removeClass("ui-accordion-header-active ui-state-active"),te.icons&&re.children(".ui-accordion-header-icon").removeClass(te.icons.activeHeader).addClass(te.icons.header),$e||(Ne.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),te.icons&&Ne.children(".ui-accordion-header-icon").removeClass(te.icons.header).addClass(te.icons.activeHeader),Ne.next().addClass("ui-accordion-content-active")))},_toggle:function(Q){var te=Q.newPanel,re=this.prevShow.length?this.prevShow:Q.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=te,this.prevHide=re,this.options.animate?this._animate(te,re,Q):(re.hide(),te.show(),this._toggleComplete(Q)),re.attr({"aria-hidden":"true"}),re.prev().attr("aria-selected","false"),te.length&&re.length?re.prev().attr({tabIndex:-1,"aria-expanded":"false"}):te.length&&this.headers.filter((function(){return 0===L(this).attr("tabIndex")})).attr("tabIndex",-1),te.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(L,Q,te){var re,Ne,$e,Ue=this,tt=0,nt=L.length&&(!Q.length||L.index()<Q.index()),it=this.options.animate||{},rt=nt&&it.down||it,d=function(){Ue._toggleComplete(te)};return"number"==typeof rt&&($e=rt),"string"==typeof rt&&(Ne=rt),Ne=Ne||rt.easing||it.easing,$e=$e||rt.duration||it.duration,Q.length?L.length?(re=L.show().outerHeight(),Q.animate(this.hideProps,{duration:$e,easing:Ne,step:function(L,Q){Q.now=Math.round(L)}}),void L.hide().animate(this.showProps,{duration:$e,easing:Ne,complete:d,step:function(L,te){te.now=Math.round(L),"height"!==te.prop?tt+=te.now:"content"!==Ue.options.heightStyle&&(te.now=Math.round(re-Q.outerHeight()-tt),tt=0)}})):Q.animate(this.hideProps,$e,Ne,d):L.animate(this.showProps,$e,Ne,d)},_toggleComplete:function(L){var Q=L.oldPanel;Q.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),Q.length&&(Q.parent()[0].className=Q.parent()[0].className),this._trigger("activate",null,L)}}),L.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(L){L.preventDefault()},"click .ui-menu-item":function(Q){var te=L(Q.target);!this.mouseHandled&&te.not(".ui-state-disabled").length&&(this.select(Q),Q.isPropagationStopped()||(this.mouseHandled=!0),te.has(".ui-menu").length?this.expand(Q):!this.element.is(":focus")&&L(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(Q){var te=L(Q.currentTarget);te.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(Q,te)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(L,Q){var te=this.active||this.element.find(this.options.items).eq(0);Q||this.focus(L,te)},blur:function(Q){this._delay((function(){L.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(Q)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(L){this._closeOnDocumentClick(L)&&this.collapseAll(L),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each((function(){var Q=L(this);Q.data("ui-menu-submenu-carat")&&Q.remove()})),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(Q){function i(L){return L.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var te,re,Ne,$e,Ue,tt=!0;switch(Q.keyCode){case L.ui.keyCode.PAGE_UP:this.previousPage(Q);break;case L.ui.keyCode.PAGE_DOWN:this.nextPage(Q);break;case L.ui.keyCode.HOME:this._move("first","first",Q);break;case L.ui.keyCode.END:this._move("last","last",Q);break;case L.ui.keyCode.UP:this.previous(Q);break;case L.ui.keyCode.DOWN:this.next(Q);break;case L.ui.keyCode.LEFT:this.collapse(Q);break;case L.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(Q);break;case L.ui.keyCode.ENTER:case L.ui.keyCode.SPACE:this._activate(Q);break;case L.ui.keyCode.ESCAPE:this.collapse(Q);break;default:tt=!1,re=this.previousFilter||"",Ne=String.fromCharCode(Q.keyCode),$e=!1,clearTimeout(this.filterTimer),Ne===re?$e=!0:Ne=re+Ne,Ue=RegExp("^"+i(Ne),"i"),te=this.activeMenu.find(this.options.items).filter((function(){return Ue.test(L(this).text())})),(te=$e&&-1!==te.index(this.active.next())?this.active.nextAll(".ui-menu-item"):te).length||(Ne=String.fromCharCode(Q.keyCode),Ue=RegExp("^"+i(Ne),"i"),te=this.activeMenu.find(this.options.items).filter((function(){return Ue.test(L(this).text())}))),te.length?(this.focus(Q,te),te.length>1?(this.previousFilter=Ne,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter):delete this.previousFilter}tt&&Q.preventDefault()},_activate:function(L){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(L):this.select(L))},refresh:function(){var Q,te=this,re=this.options.icons.submenu,Ne=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),Ne.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var Q=L(this),te=Q.parent(),Ne=L("<span>").addClass("ui-menu-icon ui-icon "+re).data("ui-menu-submenu-carat",!0);te.attr("aria-haspopup","true").prepend(Ne),Q.attr("aria-labelledby",te.attr("id"))})),(Q=Ne.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var Q=L(this);te._isDivider(Q)&&Q.addClass("ui-widget-content ui-menu-divider")})),Q.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),Q.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!L.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(L,Q){"icons"===L&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(Q.submenu),"disabled"===L&&this.element.toggleClass("ui-state-disabled",!!Q).attr("aria-disabled",Q),this._super(L,Q)},focus:function(L,Q){var te,re;this.blur(L,L&&"focus"===L.type),this._scrollIntoView(Q),this.active=Q.first(),re=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",re.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),L&&"keydown"===L.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(te=Q.children(".ui-menu")).length&&L&&/^mouse/.test(L.type)&&this._startOpening(te),this.activeMenu=Q.parent(),this._trigger("focus",L,{item:Q})},_scrollIntoView:function(Q){var te,re,Ne,$e,Ue,tt;this._hasScroll()&&(te=parseFloat(L.css(this.activeMenu[0],"borderTopWidth"))||0,re=parseFloat(L.css(this.activeMenu[0],"paddingTop"))||0,Ne=Q.offset().top-this.activeMenu.offset().top-te-re,$e=this.activeMenu.scrollTop(),Ue=this.activeMenu.height(),tt=Q.outerHeight(),0>Ne?this.activeMenu.scrollTop($e+Ne):Ne+tt>Ue&&this.activeMenu.scrollTop($e+Ne-Ue+tt))},blur:function(L,Q){Q||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",L,{item:this.active}))},_startOpening:function(L){clearTimeout(this.timer),"true"===L.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(L)}),this.delay))},_open:function(Q){var te=L.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(Q.parents(".ui-menu")).hide().attr("aria-hidden","true"),Q.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(te)},collapseAll:function(Q,te){clearTimeout(this.timer),this.timer=this._delay((function(){var re=te?this.element:L(Q&&Q.target).closest(this.element.find(".ui-menu"));re.length||(re=this.element),this._close(re),this.blur(Q),this.activeMenu=re}),this.delay)},_close:function(L){L||(L=this.active?this.active.parent():this.element),L.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(Q){return!L(Q.target).closest(".ui-menu").length},_isDivider:function(L){return!/[^\-\u2014\u2013\s]/.test(L.text())},collapse:function(L){var Q=this.active&&this.active.parent().closest(".ui-menu-item",this.element);Q&&Q.length&&(this._close(),this.focus(L,Q))},expand:function(L){var Q=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();Q&&Q.length&&(this._open(Q.parent()),this._delay((function(){this.focus(L,Q)})))},next:function(L){this._move("next","first",L)},previous:function(L){this._move("prev","last",L)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(L,Q,te){var re;this.active&&(re="first"===L||"last"===L?this.active["first"===L?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[L+"All"](".ui-menu-item").eq(0)),re&&re.length&&this.active||(re=this.activeMenu.find(this.options.items)[Q]()),this.focus(te,re)},nextPage:function(Q){var te,re,Ne;return this.active?void(this.isLastItem()||(this._hasScroll()?(re=this.active.offset().top,Ne=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return 0>(te=L(this)).offset().top-re-Ne})),this.focus(Q,te)):this.focus(Q,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(Q)},previousPage:function(Q){var te,re,Ne;return this.active?void(this.isFirstItem()||(this._hasScroll()?(re=this.active.offset().top,Ne=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(te=L(this)).offset().top-re+Ne>0})),this.focus(Q,te)):this.focus(Q,this.activeMenu.find(this.options.items).first()))):void this.next(Q)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(Q){this.active=this.active||L(Q.target).closest(".ui-menu-item");var te={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(Q,!0),this._trigger("select",Q,te)}}),L.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var Q,te,re,Ne=this.element[0].nodeName.toLowerCase(),$e="textarea"===Ne,Ue="input"===Ne;this.isMultiLine=!!$e||!Ue&&this.element.prop("isContentEditable"),this.valueMethod=this.element[$e||Ue?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(Ne){if(this.element.prop("readOnly"))return Q=!0,re=!0,void(te=!0);Q=!1,re=!1,te=!1;var $e=L.ui.keyCode;switch(Ne.keyCode){case $e.PAGE_UP:Q=!0,this._move("previousPage",Ne);break;case $e.PAGE_DOWN:Q=!0,this._move("nextPage",Ne);break;case $e.UP:Q=!0,this._keyEvent("previous",Ne);break;case $e.DOWN:Q=!0,this._keyEvent("next",Ne);break;case $e.ENTER:this.menu.active&&(Q=!0,Ne.preventDefault(),this.menu.select(Ne));break;case $e.TAB:this.menu.active&&this.menu.select(Ne);break;case $e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(Ne),Ne.preventDefault());break;default:te=!0,this._searchTimeout(Ne)}},keypress:function(re){if(Q)return Q=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&re.preventDefault());if(!te){var Ne=L.ui.keyCode;switch(re.keyCode){case Ne.PAGE_UP:this._move("previousPage",re);break;case Ne.PAGE_DOWN:this._move("nextPage",re);break;case Ne.UP:this._keyEvent("previous",re);break;case Ne.DOWN:this._keyEvent("next",re)}}},input:function(L){return re?(re=!1,void L.preventDefault()):void this._searchTimeout(L)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(L){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(L),void this._change(L))}}),this._initSource(),this.menu=L("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(Q){Q.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur}));var te=this.menu.element[0];L(Q.target).closest(".ui-menu-item").length||this._delay((function(){var Q=this;this.document.one("mousedown",(function(re){re.target===Q.element[0]||re.target===te||L.contains(te,re.target)||Q.close()}))}))},menufocus:function(Q,te){var re,Ne;return this.isNewMenu&&(this.isNewMenu=!1,Q.originalEvent&&/^mouse/.test(Q.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",(function(){L(Q.target).trigger(Q.originalEvent)}))):(Ne=te.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",Q,{item:Ne})&&Q.originalEvent&&/^key/.test(Q.originalEvent.type)&&this._value(Ne.value),void((re=te.item.attr("aria-label")||Ne.value)&&L.trim(re).length&&(this.liveRegion.children().hide(),L("<div>").text(re).appendTo(this.liveRegion))))},menuselect:function(L,Q){var te=Q.item.data("ui-autocomplete-item"),re=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=re,this._delay((function(){this.previous=re,this.selectedItem=te}))),!1!==this._trigger("select",L,{item:te})&&this._value(te.value),this.term=this._value(),this.close(L),this.selectedItem=te}}),this.liveRegion=L("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(L,Q){this._super(L,Q),"source"===L&&this._initSource(),"appendTo"===L&&this.menu.element.appendTo(this._appendTo()),"disabled"===L&&Q&&this.xhr&&this.xhr.abort()},_appendTo:function(){var Q=this.options.appendTo;return Q&&(Q=Q.jquery||Q.nodeType?L(Q):this.document.find(Q).eq(0)),Q&&Q[0]||(Q=this.element.closest(".ui-front")),Q.length||(Q=this.document[0].body),Q},_initSource:function(){var Q,te,re=this;L.isArray(this.options.source)?(Q=this.options.source,this.source=function(te,re){re(L.ui.autocomplete.filter(Q,te.term))}):"string"==typeof this.options.source?(te=this.options.source,this.source=function(Q,Ne){re.xhr&&re.xhr.abort(),re.xhr=L.ajax({url:te,data:Q,dataType:"json",success:function(L){Ne(L)},error:function(){Ne([])}})}):this.source=this.options.source},_searchTimeout:function(L){clearTimeout(this.searching),this.searching=this._delay((function(){var Q=this.term===this._value(),te=this.menu.element.is(":visible"),re=L.altKey||L.ctrlKey||L.metaKey||L.shiftKey;(!Q||Q&&!te&&!re)&&(this.selectedItem=null,this.search(null,L))}),this.options.delay)},search:function(L,Q){return L=null!=L?L:this._value(),this.term=this._value(),L.length<this.options.minLength?this.close(Q):!1!==this._trigger("search",Q)?this._search(L):void 0},_search:function(L){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:L},this._response())},_response:function(){var Q=++this.requestIndex;return L.proxy((function(L){Q===this.requestIndex&&this.__response(L),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")}),this)},__response:function(L){L&&(L=this._normalize(L)),this._trigger("response",null,{content:L}),!this.options.disabled&&L&&L.length&&!this.cancelSearch?(this._suggest(L),this._trigger("open")):this._close()},close:function(L){this.cancelSearch=!0,this._close(L)},_close:function(L){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",L))},_change:function(L){this.previous!==this._value()&&this._trigger("change",L,{item:this.selectedItem})},_normalize:function(Q){return Q.length&&Q[0].label&&Q[0].value?Q:L.map(Q,(function(Q){return"string"==typeof Q?{label:Q,value:Q}:L.extend({},Q,{label:Q.label||Q.value,value:Q.value||Q.label})}))},_suggest:function(Q){var te=this.menu.element.empty();this._renderMenu(te,Q),this.isNewMenu=!0,this.menu.refresh(),te.show(),this._resizeMenu(),te.position(L.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var L=this.menu.element;L.outerWidth(Math.max(L.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(Q,te){var re=this;L.each(te,(function(L,te){re._renderItemData(Q,te)}))},_renderItemData:function(L,Q){return this._renderItem(L,Q).data("ui-autocomplete-item",Q)},_renderItem:function(Q,te){return L("<li>").text(te.label).appendTo(Q)},_move:function(L,Q){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(L)||this.menu.isLastItem()&&/^next/.test(L)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[L](Q):void this.search(null,Q)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(L,Q){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(L,Q),Q.preventDefault())}}),L.extend(L.ui.autocomplete,{escapeRegex:function(L){return L.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(Q,te){var re=RegExp(L.ui.autocomplete.escapeRegex(te),"i");return L.grep(Q,(function(L){return re.test(L.label||L.value||L)}))}}),L.widget("ui.autocomplete",L.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(L){return L+(L>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(Q){var te;this._superApply(arguments),this.options.disabled||this.cancelSearch||(te=Q&&Q.length?this.options.messages.results(Q.length):this.options.messages.noResults,this.liveRegion.children().hide(),L("<div>").text(te).appendTo(this.liveRegion))}}),L.ui.autocomplete;var Ne,$e,Ue="ui-button ui-widget ui-state-default ui-corner-all",tt="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var Q=L(this);setTimeout((function(){Q.find(":ui-button").button("refresh")}),1)},g=function(Q){var te=Q.name,re=Q.form,Ne=L([]);return te&&(te=te.replace(/'/g,"\\'"),Ne=re?L(re).find("[name='"+te+"'][type=radio]"):L("[name='"+te+"'][type=radio]",Q.ownerDocument).filter((function(){return!this.form}))),Ne};L.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var Q=this,te=this.options,re="checkbox"===this.type||"radio"===this.type,$e=re?"":"ui-state-active";null===te.label&&(te.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(Ue).attr("role","button").bind("mouseenter"+this.eventNamespace,(function(){te.disabled||this===Ne&&L(this).addClass("ui-state-active")})).bind("mouseleave"+this.eventNamespace,(function(){te.disabled||L(this).removeClass($e)})).bind("click"+this.eventNamespace,(function(L){te.disabled&&(L.preventDefault(),L.stopImmediatePropagation())})),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),re&&this.element.bind("change"+this.eventNamespace,(function(){Q.refresh()})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){return!te.disabled&&void 0})):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(te.disabled)return!1;L(this).addClass("ui-state-active"),Q.buttonElement.attr("aria-pressed","true");var re=Q.element[0];g(re).not(re).map((function(){return L(this).button("widget")[0]})).removeClass("ui-state-active").attr("aria-pressed","false")})):(this.buttonElement.bind("mousedown"+this.eventNamespace,(function(){return!te.disabled&&(L(this).addClass("ui-state-active"),Ne=this,void Q.document.one("mouseup",(function(){Ne=null})))})).bind("mouseup"+this.eventNamespace,(function(){return!te.disabled&&void L(this).removeClass("ui-state-active")})).bind("keydown"+this.eventNamespace,(function(Q){return!te.disabled&&void((Q.keyCode===L.ui.keyCode.SPACE||Q.keyCode===L.ui.keyCode.ENTER)&&L(this).addClass("ui-state-active"))})).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,(function(){L(this).removeClass("ui-state-active")})),this.buttonElement.is("a")&&this.buttonElement.keyup((function(Q){Q.keyCode===L.ui.keyCode.SPACE&&L(this).click()}))),this._setOption("disabled",te.disabled),this._resetButton()},_determineButtonType:function(){var L,Q,te;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(L=this.element.parents().last(),Q="label[for='"+this.element.attr("id")+"']",this.buttonElement=L.find(Q),this.buttonElement.length||(L=L.length?L.siblings():this.element.siblings(),this.buttonElement=L.filter(Q),this.buttonElement.length||(this.buttonElement=L.find(Q))),this.element.addClass("ui-helper-hidden-accessible"),(te=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",te)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(Ue+" ui-state-active "+tt).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(L,Q){return this._super(L,Q),"disabled"===L?(this.widget().toggleClass("ui-state-disabled",!!Q),this.element.prop("disabled",!!Q),void(Q&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var Q=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");Q!==this.options.disabled&&this._setOption("disabled",Q),"radio"===this.type?g(this.element[0]).each((function(){L(this).is(":checked")?L(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):L(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")})):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var Q=this.buttonElement.removeClass(tt),te=L("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(Q.empty()).text(),re=this.options.icons,Ne=re.primary&&re.secondary,$e=[];re.primary||re.secondary?(this.options.text&&$e.push("ui-button-text-icon"+(Ne?"s":re.primary?"-primary":"-secondary")),re.primary&&Q.prepend("<span class='ui-button-icon-primary ui-icon "+re.primary+"'></span>"),re.secondary&&Q.append("<span class='ui-button-icon-secondary ui-icon "+re.secondary+"'></span>"),this.options.text||($e.push(Ne?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||Q.attr("title",L.trim(te)))):$e.push("ui-button-text-only"),Q.addClass($e.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),L.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(L,Q){"disabled"===L&&this.buttons.button("option",L,Q),this._super(L,Q)},refresh:function(){var Q="rtl"===this.element.css("direction"),te=this.element.find(this.options.items),re=te.filter(":ui-button");te.not(":ui-button").button(),re.button("refresh"),this.buttons=te.map((function(){return L(this).button("widget")[0]})).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(Q?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(Q?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map((function(){return L(this).button("widget")[0]})).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),L.ui.button,L.extend(L.ui,{datepicker:{version:"1.11.1"}}),L.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(L){return r(this._defaults,L||{}),this},_attachDatepicker:function(Q,te){var re,Ne,$e;Ne="div"===(re=Q.nodeName.toLowerCase())||"span"===re,Q.id||(this.uuid+=1,Q.id="dp"+this.uuid),($e=this._newInst(L(Q),Ne)).settings=L.extend({},te||{}),"input"===re?this._connectDatepicker(Q,$e):Ne&&this._inlineDatepicker(Q,$e)},_newInst:function(Q,te){return{id:Q[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:Q,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:te,dpDiv:te?a(L("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(Q,te){var re=L(Q);te.append=L([]),te.trigger=L([]),re.hasClass(this.markerClassName)||(this._attachments(re,te),re.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(te),L.data(Q,"datepicker",te),te.settings.disabled&&this._disableDatepicker(Q))},_attachments:function(Q,te){var re,Ne,$e,Ue=this._get(te,"appendText"),tt=this._get(te,"isRTL");te.append&&te.append.remove(),Ue&&(te.append=L("<span class='"+this._appendClass+"'>"+Ue+"</span>"),Q[tt?"before":"after"](te.append)),Q.unbind("focus",this._showDatepicker),te.trigger&&te.trigger.remove(),("focus"===(re=this._get(te,"showOn"))||"both"===re)&&Q.focus(this._showDatepicker),("button"===re||"both"===re)&&(Ne=this._get(te,"buttonText"),$e=this._get(te,"buttonImage"),te.trigger=L(this._get(te,"buttonImageOnly")?L("<img/>").addClass(this._triggerClass).attr({src:$e,alt:Ne,title:Ne}):L("<button type='button'></button>").addClass(this._triggerClass).html($e?L("<img/>").attr({src:$e,alt:Ne,title:Ne}):Ne)),Q[tt?"before":"after"](te.trigger),te.trigger.click((function(){return L.datepicker._datepickerShowing&&L.datepicker._lastInput===Q[0]?L.datepicker._hideDatepicker():L.datepicker._datepickerShowing&&L.datepicker._lastInput!==Q[0]?(L.datepicker._hideDatepicker(),L.datepicker._showDatepicker(Q[0])):L.datepicker._showDatepicker(Q[0]),!1})))},_autoSize:function(L){if(this._get(L,"autoSize")&&!L.inline){var Q,te,re,Ne,$e=new Date(2009,11,20),Ue=this._get(L,"dateFormat");Ue.match(/[DM]/)&&(Q=function(L){for(te=0,re=0,Ne=0;L.length>Ne;Ne++)L[Ne].length>te&&(te=L[Ne].length,re=Ne);return re},$e.setMonth(Q(this._get(L,Ue.match(/MM/)?"monthNames":"monthNamesShort"))),$e.setDate(Q(this._get(L,Ue.match(/DD/)?"dayNames":"dayNamesShort"))+20-$e.getDay())),L.input.attr("size",this._formatDate(L,$e).length)}},_inlineDatepicker:function(Q,te){var re=L(Q);re.hasClass(this.markerClassName)||(re.addClass(this.markerClassName).append(te.dpDiv),L.data(Q,"datepicker",te),this._setDate(te,this._getDefaultDate(te),!0),this._updateDatepicker(te),this._updateAlternate(te),te.settings.disabled&&this._disableDatepicker(Q),te.dpDiv.css("display","block"))},_dialogDatepicker:function(Q,te,re,Ne,$e){var Ue,tt,nt,it,rt,ot=this._dialogInst;return ot||(this.uuid+=1,Ue="dp"+this.uuid,this._dialogInput=L("<input type='text' id='"+Ue+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),L("body").append(this._dialogInput),(ot=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},L.data(this._dialogInput[0],"datepicker",ot)),r(ot.settings,Ne||{}),te=te&&te.constructor===Date?this._formatDate(ot,te):te,this._dialogInput.val(te),this._pos=$e?$e.length?$e:[$e.pageX,$e.pageY]:null,this._pos||(tt=document.documentElement.clientWidth,nt=document.documentElement.clientHeight,it=document.documentElement.scrollLeft||document.body.scrollLeft,rt=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[tt/2-100+it,nt/2-150+rt]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),ot.settings.onSelect=re,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),L.blockUI&&L.blockUI(this.dpDiv),L.data(this._dialogInput[0],"datepicker",ot),this},_destroyDatepicker:function(Q){var te,re=L(Q),Ne=L.data(Q,"datepicker");re.hasClass(this.markerClassName)&&(te=Q.nodeName.toLowerCase(),L.removeData(Q,"datepicker"),"input"===te?(Ne.append.remove(),Ne.trigger.remove(),re.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===te||"span"===te)&&re.removeClass(this.markerClassName).empty())},_enableDatepicker:function(Q){var te,re,Ne=L(Q),$e=L.data(Q,"datepicker");Ne.hasClass(this.markerClassName)&&("input"===(te=Q.nodeName.toLowerCase())?(Q.disabled=!1,$e.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===te||"span"===te)&&((re=Ne.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),re.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=L.map(this._disabledInputs,(function(L){return L===Q?null:L})))},_disableDatepicker:function(Q){var te,re,Ne=L(Q),$e=L.data(Q,"datepicker");Ne.hasClass(this.markerClassName)&&("input"===(te=Q.nodeName.toLowerCase())?(Q.disabled=!0,$e.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===te||"span"===te)&&((re=Ne.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),re.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=L.map(this._disabledInputs,(function(L){return L===Q?null:L})),this._disabledInputs[this._disabledInputs.length]=Q)},_isDisabledDatepicker:function(L){if(!L)return!1;for(var Q=0;this._disabledInputs.length>Q;Q++)if(this._disabledInputs[Q]===L)return!0;return!1},_getInst:function(Q){try{return L.data(Q,"datepicker")}catch(L){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(Q,te,re){var Ne,$e,Ue,tt,nt=this._getInst(Q);return 2===arguments.length&&"string"==typeof te?"defaults"===te?L.extend({},L.datepicker._defaults):nt?"all"===te?L.extend({},nt.settings):this._get(nt,te):null:(Ne=te||{},"string"==typeof te&&((Ne={})[te]=re),void(nt&&(this._curInst===nt&&this._hideDatepicker(),$e=this._getDateDatepicker(Q,!0),Ue=this._getMinMaxDate(nt,"min"),tt=this._getMinMaxDate(nt,"max"),r(nt.settings,Ne),null!==Ue&&void 0!==Ne.dateFormat&&void 0===Ne.minDate&&(nt.settings.minDate=this._formatDate(nt,Ue)),null!==tt&&void 0!==Ne.dateFormat&&void 0===Ne.maxDate&&(nt.settings.maxDate=this._formatDate(nt,tt)),"disabled"in Ne&&(Ne.disabled?this._disableDatepicker(Q):this._enableDatepicker(Q)),this._attachments(L(Q),nt),this._autoSize(nt),this._setDate(nt,$e),this._updateAlternate(nt),this._updateDatepicker(nt))))},_changeDatepicker:function(L,Q,te){this._optionDatepicker(L,Q,te)},_refreshDatepicker:function(L){var Q=this._getInst(L);Q&&this._updateDatepicker(Q)},_setDateDatepicker:function(L,Q){var te=this._getInst(L);te&&(this._setDate(te,Q),this._updateDatepicker(te),this._updateAlternate(te))},_getDateDatepicker:function(L,Q){var te=this._getInst(L);return te&&!te.inline&&this._setDateFromField(te,Q),te?this._getDate(te):null},_doKeyDown:function(Q){var te,re,Ne,$e=L.datepicker._getInst(Q.target),Ue=!0,tt=$e.dpDiv.is(".ui-datepicker-rtl");if($e._keyEvent=!0,L.datepicker._datepickerShowing)switch(Q.keyCode){case 9:L.datepicker._hideDatepicker(),Ue=!1;break;case 13:return(Ne=L("td."+L.datepicker._dayOverClass+":not(."+L.datepicker._currentClass+")",$e.dpDiv))[0]&&L.datepicker._selectDay(Q.target,$e.selectedMonth,$e.selectedYear,Ne[0]),(te=L.datepicker._get($e,"onSelect"))?(re=L.datepicker._formatDate($e),te.apply($e.input?$e.input[0]:null,[re,$e])):L.datepicker._hideDatepicker(),!1;case 27:L.datepicker._hideDatepicker();break;case 33:L.datepicker._adjustDate(Q.target,Q.ctrlKey?-L.datepicker._get($e,"stepBigMonths"):-L.datepicker._get($e,"stepMonths"),"M");break;case 34:L.datepicker._adjustDate(Q.target,Q.ctrlKey?+L.datepicker._get($e,"stepBigMonths"):+L.datepicker._get($e,"stepMonths"),"M");break;case 35:(Q.ctrlKey||Q.metaKey)&&L.datepicker._clearDate(Q.target),Ue=Q.ctrlKey||Q.metaKey;break;case 36:(Q.ctrlKey||Q.metaKey)&&L.datepicker._gotoToday(Q.target),Ue=Q.ctrlKey||Q.metaKey;break;case 37:(Q.ctrlKey||Q.metaKey)&&L.datepicker._adjustDate(Q.target,tt?1:-1,"D"),Ue=Q.ctrlKey||Q.metaKey,Q.originalEvent.altKey&&L.datepicker._adjustDate(Q.target,Q.ctrlKey?-L.datepicker._get($e,"stepBigMonths"):-L.datepicker._get($e,"stepMonths"),"M");break;case 38:(Q.ctrlKey||Q.metaKey)&&L.datepicker._adjustDate(Q.target,-7,"D"),Ue=Q.ctrlKey||Q.metaKey;break;case 39:(Q.ctrlKey||Q.metaKey)&&L.datepicker._adjustDate(Q.target,tt?-1:1,"D"),Ue=Q.ctrlKey||Q.metaKey,Q.originalEvent.altKey&&L.datepicker._adjustDate(Q.target,Q.ctrlKey?+L.datepicker._get($e,"stepBigMonths"):+L.datepicker._get($e,"stepMonths"),"M");break;case 40:(Q.ctrlKey||Q.metaKey)&&L.datepicker._adjustDate(Q.target,7,"D"),Ue=Q.ctrlKey||Q.metaKey;break;default:Ue=!1}else 36===Q.keyCode&&Q.ctrlKey?L.datepicker._showDatepicker(this):Ue=!1;Ue&&(Q.preventDefault(),Q.stopPropagation())},_doKeyPress:function(Q){var te,re,Ne=L.datepicker._getInst(Q.target);return L.datepicker._get(Ne,"constrainInput")?(te=L.datepicker._possibleChars(L.datepicker._get(Ne,"dateFormat")),re=String.fromCharCode(null==Q.charCode?Q.keyCode:Q.charCode),Q.ctrlKey||Q.metaKey||" ">re||!te||te.indexOf(re)>-1):void 0},_doKeyUp:function(Q){var te=L.datepicker._getInst(Q.target);if(te.input.val()!==te.lastVal)try{L.datepicker.parseDate(L.datepicker._get(te,"dateFormat"),te.input?te.input.val():null,L.datepicker._getFormatConfig(te))&&(L.datepicker._setDateFromField(te),L.datepicker._updateAlternate(te),L.datepicker._updateDatepicker(te))}catch(L){}return!0},_showDatepicker:function(Q){var te,re,Ne,$e,Ue,tt,nt;"input"!==(Q=Q.target||Q).nodeName.toLowerCase()&&(Q=L("input",Q.parentNode)[0]),L.datepicker._isDisabledDatepicker(Q)||L.datepicker._lastInput===Q||(te=L.datepicker._getInst(Q),L.datepicker._curInst&&L.datepicker._curInst!==te&&(L.datepicker._curInst.dpDiv.stop(!0,!0),te&&L.datepicker._datepickerShowing&&L.datepicker._hideDatepicker(L.datepicker._curInst.input[0])),!1!==(Ne=(re=L.datepicker._get(te,"beforeShow"))?re.apply(Q,[Q,te]):{})&&(r(te.settings,Ne),te.lastVal=null,L.datepicker._lastInput=Q,L.datepicker._setDateFromField(te),L.datepicker._inDialog&&(Q.value=""),L.datepicker._pos||(L.datepicker._pos=L.datepicker._findPos(Q),L.datepicker._pos[1]+=Q.offsetHeight),$e=!1,L(Q).parents().each((function(){return!($e|="fixed"===L(this).css("position"))})),Ue={left:L.datepicker._pos[0],top:L.datepicker._pos[1]},L.datepicker._pos=null,te.dpDiv.empty(),te.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),L.datepicker._updateDatepicker(te),Ue=L.datepicker._checkOffset(te,Ue,$e),te.dpDiv.css({position:L.datepicker._inDialog&&L.blockUI?"static":$e?"fixed":"absolute",display:"none",left:Ue.left+"px",top:Ue.top+"px"}),te.inline||(tt=L.datepicker._get(te,"showAnim"),nt=L.datepicker._get(te,"duration"),te.dpDiv.css("z-index",s(L(Q))+1),L.datepicker._datepickerShowing=!0,L.effects&&L.effects.effect[tt]?te.dpDiv.show(tt,L.datepicker._get(te,"showOptions"),nt):te.dpDiv[tt||"show"](tt?nt:null),L.datepicker._shouldFocusInput(te)&&te.input.focus(),L.datepicker._curInst=te)))},_updateDatepicker:function(Q){this.maxRows=4,$e=Q,Q.dpDiv.empty().append(this._generateHTML(Q)),this._attachHandlers(Q);var te,re=this._getNumberOfMonths(Q),Ne=re[1],Ue=17,tt=Q.dpDiv.find("."+this._dayOverClass+" a");tt.length>0&&o.apply(tt.get(0)),Q.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),Ne>1&&Q.dpDiv.addClass("ui-datepicker-multi-"+Ne).css("width",Ue*Ne+"em"),Q.dpDiv[(1!==re[0]||1!==re[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),Q.dpDiv[(this._get(Q,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),Q===L.datepicker._curInst&&L.datepicker._datepickerShowing&&L.datepicker._shouldFocusInput(Q)&&Q.input.focus(),Q.yearshtml&&(te=Q.yearshtml,setTimeout((function(){te===Q.yearshtml&&Q.yearshtml&&Q.dpDiv.find("select.ui-datepicker-year:first").replaceWith(Q.yearshtml),te=Q.yearshtml=null}),0))},_shouldFocusInput:function(L){return L.input&&L.input.is(":visible")&&!L.input.is(":disabled")&&!L.input.is(":focus")},_checkOffset:function(Q,te,re){var Ne=Q.dpDiv.outerWidth(),$e=Q.dpDiv.outerHeight(),Ue=Q.input?Q.input.outerWidth():0,tt=Q.input?Q.input.outerHeight():0,nt=document.documentElement.clientWidth+(re?0:L(document).scrollLeft()),it=document.documentElement.clientHeight+(re?0:L(document).scrollTop());return te.left-=this._get(Q,"isRTL")?Ne-Ue:0,te.left-=re&&te.left===Q.input.offset().left?L(document).scrollLeft():0,te.top-=re&&te.top===Q.input.offset().top+tt?L(document).scrollTop():0,te.left-=Math.min(te.left,te.left+Ne>nt&&nt>Ne?Math.abs(te.left+Ne-nt):0),te.top-=Math.min(te.top,te.top+$e>it&&it>$e?Math.abs($e+tt):0),te},_findPos:function(Q){for(var te,re=this._getInst(Q),Ne=this._get(re,"isRTL");Q&&("hidden"===Q.type||1!==Q.nodeType||L.expr.filters.hidden(Q));)Q=Q[Ne?"previousSibling":"nextSibling"];return[(te=L(Q).offset()).left,te.top]},_hideDatepicker:function(Q){var te,re,Ne,$e,Ue=this._curInst;!Ue||Q&&Ue!==L.data(Q,"datepicker")||this._datepickerShowing&&(te=this._get(Ue,"showAnim"),re=this._get(Ue,"duration"),Ne=function(){L.datepicker._tidyDialog(Ue)},L.effects&&(L.effects.effect[te]||L.effects[te])?Ue.dpDiv.hide(te,L.datepicker._get(Ue,"showOptions"),re,Ne):Ue.dpDiv["slideDown"===te?"slideUp":"fadeIn"===te?"fadeOut":"hide"](te?re:null,Ne),te||Ne(),this._datepickerShowing=!1,($e=this._get(Ue,"onClose"))&&$e.apply(Ue.input?Ue.input[0]:null,[Ue.input?Ue.input.val():"",Ue]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),L.blockUI&&(L.unblockUI(),L("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(L){L.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(Q){if(L.datepicker._curInst){var te=L(Q.target),re=L.datepicker._getInst(te[0]);(te[0].id!==L.datepicker._mainDivId&&0===te.parents("#"+L.datepicker._mainDivId).length&&!te.hasClass(L.datepicker.markerClassName)&&!te.closest("."+L.datepicker._triggerClass).length&&L.datepicker._datepickerShowing&&(!L.datepicker._inDialog||!L.blockUI)||te.hasClass(L.datepicker.markerClassName)&&L.datepicker._curInst!==re)&&L.datepicker._hideDatepicker()}},_adjustDate:function(Q,te,re){var Ne=L(Q),$e=this._getInst(Ne[0]);this._isDisabledDatepicker(Ne[0])||(this._adjustInstDate($e,te+("M"===re?this._get($e,"showCurrentAtPos"):0),re),this._updateDatepicker($e))},_gotoToday:function(Q){var te,re=L(Q),Ne=this._getInst(re[0]);this._get(Ne,"gotoCurrent")&&Ne.currentDay?(Ne.selectedDay=Ne.currentDay,Ne.drawMonth=Ne.selectedMonth=Ne.currentMonth,Ne.drawYear=Ne.selectedYear=Ne.currentYear):(te=new Date,Ne.selectedDay=te.getDate(),Ne.drawMonth=Ne.selectedMonth=te.getMonth(),Ne.drawYear=Ne.selectedYear=te.getFullYear()),this._notifyChange(Ne),this._adjustDate(re)},_selectMonthYear:function(Q,te,re){var Ne=L(Q),$e=this._getInst(Ne[0]);$e["selected"+("M"===re?"Month":"Year")]=$e["draw"+("M"===re?"Month":"Year")]=parseInt(te.options[te.selectedIndex].value,10),this._notifyChange($e),this._adjustDate(Ne)},_selectDay:function(Q,te,re,Ne){var $e,Ue=L(Q);L(Ne).hasClass(this._unselectableClass)||this._isDisabledDatepicker(Ue[0])||(($e=this._getInst(Ue[0])).selectedDay=$e.currentDay=L("a",Ne).html(),$e.selectedMonth=$e.currentMonth=te,$e.selectedYear=$e.currentYear=re,this._selectDate(Q,this._formatDate($e,$e.currentDay,$e.currentMonth,$e.currentYear)))},_clearDate:function(Q){var te=L(Q);this._selectDate(te,"")},_selectDate:function(Q,te){var re,Ne=L(Q),$e=this._getInst(Ne[0]);te=null!=te?te:this._formatDate($e),$e.input&&$e.input.val(te),this._updateAlternate($e),(re=this._get($e,"onSelect"))?re.apply($e.input?$e.input[0]:null,[te,$e]):$e.input&&$e.input.trigger("change"),$e.inline?this._updateDatepicker($e):(this._hideDatepicker(),this._lastInput=$e.input[0],"object"!=typeof $e.input[0]&&$e.input.focus(),this._lastInput=null)},_updateAlternate:function(Q){var te,re,Ne,$e=this._get(Q,"altField");$e&&(te=this._get(Q,"altFormat")||this._get(Q,"dateFormat"),re=this._getDate(Q),Ne=this.formatDate(te,re,this._getFormatConfig(Q)),L($e).each((function(){L(this).val(Ne)})))},noWeekends:function(L){var Q=L.getDay();return[Q>0&&6>Q,""]},iso8601Week:function(L){var Q,te=new Date(L.getTime());return te.setDate(te.getDate()+4-(te.getDay()||7)),Q=te.getTime(),te.setMonth(0),te.setDate(1),Math.floor(Math.round((Q-te)/864e5)/7)+1},parseDate:function(Q,te,re){if(null==Q||null==te)throw"Invalid arguments";if(""==(te="object"==typeof te?""+te:te+""))return null;var Ne,$e,Ue,tt,nt=0,it=(re?re.shortYearCutoff:null)||this._defaults.shortYearCutoff,rt="string"!=typeof it?it:(new Date).getFullYear()%100+parseInt(it,10),ot=(re?re.dayNamesShort:null)||this._defaults.dayNamesShort,at=(re?re.dayNames:null)||this._defaults.dayNames,dt=(re?re.monthNamesShort:null)||this._defaults.monthNamesShort,bt=(re?re.monthNames:null)||this._defaults.monthNames,sn=-1,ln=-1,un=-1,cn=-1,dn=!1,_=function(L){var te=Q.length>Ne+1&&Q.charAt(Ne+1)===L;return te&&Ne++,te},x=function(L){var Q=_(L),re="@"===L?14:"!"===L?20:"y"===L&&Q?4:"o"===L?3:2,Ne=RegExp("^\\d{"+("y"===L?re:1)+","+re+"}"),$e=te.substring(nt).match(Ne);if(!$e)throw"Missing number at position "+nt;return nt+=$e[0].length,parseInt($e[0],10)},w=function(Q,re,Ne){var $e=-1,Ue=L.map(_(Q)?Ne:re,(function(L,Q){return[[Q,L]]})).sort((function(L,Q){return-(L[1].length-Q[1].length)}));if(L.each(Ue,(function(L,Q){var re=Q[1];return te.substr(nt,re.length).toLowerCase()===re.toLowerCase()?($e=Q[0],nt+=re.length,!1):void 0})),-1!==$e)return $e+1;throw"Unknown name at position "+nt},k=function(){if(te.charAt(nt)!==Q.charAt(Ne))throw"Unexpected literal at position "+nt;nt++};for(Ne=0;Q.length>Ne;Ne++)if(dn)"'"!==Q.charAt(Ne)||_("'")?k():dn=!1;else switch(Q.charAt(Ne)){case"d":un=x("d");break;case"D":w("D",ot,at);break;case"o":cn=x("o");break;case"m":ln=x("m");break;case"M":ln=w("M",dt,bt);break;case"y":sn=x("y");break;case"@":sn=(tt=new Date(x("@"))).getFullYear(),ln=tt.getMonth()+1,un=tt.getDate();break;case"!":sn=(tt=new Date((x("!")-this._ticksTo1970)/1e4)).getFullYear(),ln=tt.getMonth()+1,un=tt.getDate();break;case"'":_("'")?k():dn=!0;break;default:k()}if(te.length>nt&&(Ue=te.substr(nt),!/^\s+/.test(Ue)))throw"Extra/unparsed characters found in date: "+Ue;if(-1===sn?sn=(new Date).getFullYear():100>sn&&(sn+=(new Date).getFullYear()-(new Date).getFullYear()%100+(rt>=sn?0:-100)),cn>-1)for(ln=1,un=cn;!(($e=this._getDaysInMonth(sn,ln-1))>=un);)ln++,un-=$e;if((tt=this._daylightSavingAdjust(new Date(sn,ln-1,un))).getFullYear()!==sn||tt.getMonth()+1!==ln||tt.getDate()!==un)throw"Invalid date";return tt},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(L,Q,te){if(!Q)return"";var re,Ne=(te?te.dayNamesShort:null)||this._defaults.dayNamesShort,$e=(te?te.dayNames:null)||this._defaults.dayNames,Ue=(te?te.monthNamesShort:null)||this._defaults.monthNamesShort,tt=(te?te.monthNames:null)||this._defaults.monthNames,h=function(Q){var te=L.length>re+1&&L.charAt(re+1)===Q;return te&&re++,te},l=function(L,Q,te){var re=""+Q;if(h(L))for(;te>re.length;)re="0"+re;return re},u=function(L,Q,te,re){return h(L)?re[Q]:te[Q]},nt="",it=!1;if(Q)for(re=0;L.length>re;re++)if(it)"'"!==L.charAt(re)||h("'")?nt+=L.charAt(re):it=!1;else switch(L.charAt(re)){case"d":nt+=l("d",Q.getDate(),2);break;case"D":nt+=u("D",Q.getDay(),Ne,$e);break;case"o":nt+=l("o",Math.round((new Date(Q.getFullYear(),Q.getMonth(),Q.getDate()).getTime()-new Date(Q.getFullYear(),0,0).getTime())/864e5),3);break;case"m":nt+=l("m",Q.getMonth()+1,2);break;case"M":nt+=u("M",Q.getMonth(),Ue,tt);break;case"y":nt+=h("y")?Q.getFullYear():(10>Q.getYear()%100?"0":"")+Q.getYear()%100;break;case"@":nt+=Q.getTime();break;case"!":nt+=1e4*Q.getTime()+this._ticksTo1970;break;case"'":h("'")?nt+="'":it=!0;break;default:nt+=L.charAt(re)}return nt},_possibleChars:function(L){var Q,te="",re=!1,n=function(te){var re=L.length>Q+1&&L.charAt(Q+1)===te;return re&&Q++,re};for(Q=0;L.length>Q;Q++)if(re)"'"!==L.charAt(Q)||n("'")?te+=L.charAt(Q):re=!1;else switch(L.charAt(Q)){case"d":case"m":case"y":case"@":te+="0123456789";break;case"D":case"M":return null;case"'":n("'")?te+="'":re=!0;break;default:te+=L.charAt(Q)}return te},_get:function(L,Q){return void 0!==L.settings[Q]?L.settings[Q]:this._defaults[Q]},_setDateFromField:function(L,Q){if(L.input.val()!==L.lastVal){var te=this._get(L,"dateFormat"),re=L.lastVal=L.input?L.input.val():null,Ne=this._getDefaultDate(L),$e=Ne,Ue=this._getFormatConfig(L);try{$e=this.parseDate(te,re,Ue)||Ne}catch(L){re=Q?"":re}L.selectedDay=$e.getDate(),L.drawMonth=L.selectedMonth=$e.getMonth(),L.drawYear=L.selectedYear=$e.getFullYear(),L.currentDay=re?$e.getDate():0,L.currentMonth=re?$e.getMonth():0,L.currentYear=re?$e.getFullYear():0,this._adjustInstDate(L)}},_getDefaultDate:function(L){return this._restrictMinMax(L,this._determineDate(L,this._get(L,"defaultDate"),new Date))},_determineDate:function(Q,te,re){var n=function(L){var Q=new Date;return Q.setDate(Q.getDate()+L),Q},a=function(te){try{return L.datepicker.parseDate(L.datepicker._get(Q,"dateFormat"),te,L.datepicker._getFormatConfig(Q))}catch(L){}for(var re=(te.toLowerCase().match(/^c/)?L.datepicker._getDate(Q):null)||new Date,Ne=re.getFullYear(),$e=re.getMonth(),Ue=re.getDate(),tt=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,nt=tt.exec(te);nt;){switch(nt[2]||"d"){case"d":case"D":Ue+=parseInt(nt[1],10);break;case"w":case"W":Ue+=7*parseInt(nt[1],10);break;case"m":case"M":$e+=parseInt(nt[1],10),Ue=Math.min(Ue,L.datepicker._getDaysInMonth(Ne,$e));break;case"y":case"Y":Ne+=parseInt(nt[1],10),Ue=Math.min(Ue,L.datepicker._getDaysInMonth(Ne,$e))}nt=tt.exec(te)}return new Date(Ne,$e,Ue)},Ne=null==te||""===te?re:"string"==typeof te?a(te):"number"==typeof te?isNaN(te)?re:n(te):new Date(te.getTime());return(Ne=Ne&&"Invalid Date"==""+Ne?re:Ne)&&(Ne.setHours(0),Ne.setMinutes(0),Ne.setSeconds(0),Ne.setMilliseconds(0)),this._daylightSavingAdjust(Ne)},_daylightSavingAdjust:function(L){return L?(L.setHours(L.getHours()>12?L.getHours()+2:0),L):null},_setDate:function(L,Q,te){var re=!Q,Ne=L.selectedMonth,$e=L.selectedYear,Ue=this._restrictMinMax(L,this._determineDate(L,Q,new Date));L.selectedDay=L.currentDay=Ue.getDate(),L.drawMonth=L.selectedMonth=L.currentMonth=Ue.getMonth(),L.drawYear=L.selectedYear=L.currentYear=Ue.getFullYear(),Ne===L.selectedMonth&&$e===L.selectedYear||te||this._notifyChange(L),this._adjustInstDate(L),L.input&&L.input.val(re?"":this._formatDate(L))},_getDate:function(L){return!L.currentYear||L.input&&""===L.input.val()?null:this._daylightSavingAdjust(new Date(L.currentYear,L.currentMonth,L.currentDay))},_attachHandlers:function(Q){var te=this._get(Q,"stepMonths"),re="#"+Q.id.replace(/\\\\/g,"\\");Q.dpDiv.find("[data-handler]").map((function(){var Q={prev:function(){L.datepicker._adjustDate(re,-te,"M")},next:function(){L.datepicker._adjustDate(re,+te,"M")},hide:function(){L.datepicker._hideDatepicker()},today:function(){L.datepicker._gotoToday(re)},selectDay:function(){return L.datepicker._selectDay(re,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return L.datepicker._selectMonthYear(re,this,"M"),!1},selectYear:function(){return L.datepicker._selectMonthYear(re,this,"Y"),!1}};L(this).bind(this.getAttribute("data-event"),Q[this.getAttribute("data-handler")])}))},_generateHTML:function(L){var Q,te,re,Ne,$e,Ue,tt,nt,it,rt,ot,at,dt,bt,sn,ln,un,cn,dn,xn,Wn,Yn,Xn,Kn,ti,ni,di,fi,pi,gi,vi,mi,bi,xi,Ti,Pi,Mi,Oi,Li,ji=new Date,Ri=this._daylightSavingAdjust(new Date(ji.getFullYear(),ji.getMonth(),ji.getDate())),Fi=this._get(L,"isRTL"),Hi=this._get(L,"showButtonPanel"),qi=this._get(L,"hideIfNoPrevNext"),Wi=this._get(L,"navigationAsDateFormat"),Vi=this._getNumberOfMonths(L),Yi=this._get(L,"showCurrentAtPos"),Xi=this._get(L,"stepMonths"),$i=1!==Vi[0]||1!==Vi[1],Gi=this._daylightSavingAdjust(L.currentDay?new Date(L.currentYear,L.currentMonth,L.currentDay):new Date(9999,9,9)),Ui=this._getMinMaxDate(L,"min"),Ki=this._getMinMaxDate(L,"max"),Zi=L.drawMonth-Yi,Ji=L.drawYear;if(0>Zi&&(Zi+=12,Ji--),Ki)for(Q=this._daylightSavingAdjust(new Date(Ki.getFullYear(),Ki.getMonth()-Vi[0]*Vi[1]+1,Ki.getDate())),Q=Ui&&Ui>Q?Ui:Q;this._daylightSavingAdjust(new Date(Ji,Zi,1))>Q;)0>--Zi&&(Zi=11,Ji--);for(L.drawMonth=Zi,L.drawYear=Ji,te=this._get(L,"prevText"),te=Wi?this.formatDate(te,this._daylightSavingAdjust(new Date(Ji,Zi-Xi,1)),this._getFormatConfig(L)):te,re=this._canAdjustMonth(L,-1,Ji,Zi)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+te+"'><span class='ui-icon ui-icon-circle-triangle-"+(Fi?"e":"w")+"'>"+te+"</span></a>":qi?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+te+"'><span class='ui-icon ui-icon-circle-triangle-"+(Fi?"e":"w")+"'>"+te+"</span></a>",Ne=this._get(L,"nextText"),Ne=Wi?this.formatDate(Ne,this._daylightSavingAdjust(new Date(Ji,Zi+Xi,1)),this._getFormatConfig(L)):Ne,$e=this._canAdjustMonth(L,1,Ji,Zi)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+Ne+"'><span class='ui-icon ui-icon-circle-triangle-"+(Fi?"w":"e")+"'>"+Ne+"</span></a>":qi?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+Ne+"'><span class='ui-icon ui-icon-circle-triangle-"+(Fi?"w":"e")+"'>"+Ne+"</span></a>",Ue=this._get(L,"currentText"),tt=this._get(L,"gotoCurrent")&&L.currentDay?Gi:Ri,Ue=Wi?this.formatDate(Ue,tt,this._getFormatConfig(L)):Ue,nt=L.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(L,"closeText")+"</button>",it=Hi?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Fi?nt:"")+(this._isInRange(L,tt)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+Ue+"</button>":"")+(Fi?"":nt)+"</div>":"",rt=parseInt(this._get(L,"firstDay"),10),rt=isNaN(rt)?0:rt,ot=this._get(L,"showWeek"),at=this._get(L,"dayNames"),dt=this._get(L,"dayNamesMin"),bt=this._get(L,"monthNames"),sn=this._get(L,"monthNamesShort"),ln=this._get(L,"beforeShowDay"),un=this._get(L,"showOtherMonths"),cn=this._get(L,"selectOtherMonths"),dn=this._getDefaultDate(L),xn="",Yn=0;Vi[0]>Yn;Yn++){for(Xn="",this.maxRows=4,Kn=0;Vi[1]>Kn;Kn++){if(ti=this._daylightSavingAdjust(new Date(Ji,Zi,L.selectedDay)),ni=" ui-corner-all",di="",$i){if(di+="<div class='ui-datepicker-group",Vi[1]>1)switch(Kn){case 0:di+=" ui-datepicker-group-first",ni=" ui-corner-"+(Fi?"right":"left");break;case Vi[1]-1:di+=" ui-datepicker-group-last",ni=" ui-corner-"+(Fi?"left":"right");break;default:di+=" ui-datepicker-group-middle",ni=""}di+="'>"}for(di+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+ni+"'>"+(/all|left/.test(ni)&&0===Yn?Fi?$e:re:"")+(/all|right/.test(ni)&&0===Yn?Fi?re:$e:"")+this._generateMonthYearHeader(L,Zi,Ji,Ui,Ki,Yn>0||Kn>0,bt,sn)+"</div><table class='ui-datepicker-calendar'><thead><tr>",fi=ot?"<th class='ui-datepicker-week-col'>"+this._get(L,"weekHeader")+"</th>":"",Wn=0;7>Wn;Wn++)fi+="<th scope='col'"+((Wn+rt+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+at[pi=(Wn+rt)%7]+"'>"+dt[pi]+"</span></th>";for(di+=fi+"</tr></thead><tbody>",gi=this._getDaysInMonth(Ji,Zi),Ji===L.selectedYear&&Zi===L.selectedMonth&&(L.selectedDay=Math.min(L.selectedDay,gi)),vi=(this._getFirstDayOfMonth(Ji,Zi)-rt+7)%7,mi=Math.ceil((vi+gi)/7),bi=$i&&this.maxRows>mi?this.maxRows:mi,this.maxRows=bi,xi=this._daylightSavingAdjust(new Date(Ji,Zi,1-vi)),Ti=0;bi>Ti;Ti++){for(di+="<tr>",Pi=ot?"<td class='ui-datepicker-week-col'>"+this._get(L,"calculateWeek")(xi)+"</td>":"",Wn=0;7>Wn;Wn++)Mi=ln?ln.apply(L.input?L.input[0]:null,[xi]):[!0,""],Li=(Oi=xi.getMonth()!==Zi)&&!cn||!Mi[0]||Ui&&Ui>xi||Ki&&xi>Ki,Pi+="<td class='"+((Wn+rt+6)%7>=5?" ui-datepicker-week-end":"")+(Oi?" ui-datepicker-other-month":"")+(xi.getTime()===ti.getTime()&&Zi===L.selectedMonth&&L._keyEvent||dn.getTime()===xi.getTime()&&dn.getTime()===ti.getTime()?" "+this._dayOverClass:"")+(Li?" "+this._unselectableClass+" ui-state-disabled":"")+(Oi&&!un?"":" "+Mi[1]+(xi.getTime()===Gi.getTime()?" "+this._currentClass:"")+(xi.getTime()===Ri.getTime()?" ui-datepicker-today":""))+"'"+(Oi&&!un||!Mi[2]?"":" title='"+Mi[2].replace(/'/g,"&#39;")+"'")+(Li?"":" data-handler='selectDay' data-event='click' data-month='"+xi.getMonth()+"' data-year='"+xi.getFullYear()+"'")+">"+(Oi&&!un?"&#xa0;":Li?"<span class='ui-state-default'>"+xi.getDate()+"</span>":"<a class='ui-state-default"+(xi.getTime()===Ri.getTime()?" ui-state-highlight":"")+(xi.getTime()===Gi.getTime()?" ui-state-active":"")+(Oi?" ui-priority-secondary":"")+"' href='#'>"+xi.getDate()+"</a>")+"</td>",xi.setDate(xi.getDate()+1),xi=this._daylightSavingAdjust(xi);di+=Pi+"</tr>"}++Zi>11&&(Zi=0,Ji++),Xn+=di+="</tbody></table>"+($i?"</div>"+(Vi[0]>0&&Kn===Vi[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}xn+=Xn}return xn+=it,L._keyEvent=!1,xn},_generateMonthYearHeader:function(L,Q,te,re,Ne,$e,Ue,tt){var nt,it,rt,ot,at,dt,bt,sn,ln=this._get(L,"changeMonth"),un=this._get(L,"changeYear"),cn=this._get(L,"showMonthAfterYear"),dn="<div class='ui-datepicker-title'>",xn="";if($e||!ln)xn+="<span class='ui-datepicker-month'>"+Ue[Q]+"</span>";else{for(nt=re&&re.getFullYear()===te,it=Ne&&Ne.getFullYear()===te,xn+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",rt=0;12>rt;rt++)(!nt||rt>=re.getMonth())&&(!it||Ne.getMonth()>=rt)&&(xn+="<option value='"+rt+"'"+(rt===Q?" selected='selected'":"")+">"+tt[rt]+"</option>");xn+="</select>"}if(cn||(dn+=xn+(!$e&&ln&&un?"":"&#xa0;")),!L.yearshtml)if(L.yearshtml="",$e||!un)dn+="<span class='ui-datepicker-year'>"+te+"</span>";else{for(ot=this._get(L,"yearRange").split(":"),at=(new Date).getFullYear(),dt=function(L){var Q=L.match(/c[+\-].*/)?te+parseInt(L.substring(1),10):L.match(/[+\-].*/)?at+parseInt(L,10):parseInt(L,10);return isNaN(Q)?at:Q},bt=dt(ot[0]),sn=Math.max(bt,dt(ot[1]||"")),bt=re?Math.max(bt,re.getFullYear()):bt,sn=Ne?Math.min(sn,Ne.getFullYear()):sn,L.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";sn>=bt;bt++)L.yearshtml+="<option value='"+bt+"'"+(bt===te?" selected='selected'":"")+">"+bt+"</option>";L.yearshtml+="</select>",dn+=L.yearshtml,L.yearshtml=null}return dn+=this._get(L,"yearSuffix"),cn&&(dn+=(!$e&&ln&&un?"":"&#xa0;")+xn),dn+"</div>"},_adjustInstDate:function(L,Q,te){var re=L.drawYear+("Y"===te?Q:0),Ne=L.drawMonth+("M"===te?Q:0),$e=Math.min(L.selectedDay,this._getDaysInMonth(re,Ne))+("D"===te?Q:0),Ue=this._restrictMinMax(L,this._daylightSavingAdjust(new Date(re,Ne,$e)));L.selectedDay=Ue.getDate(),L.drawMonth=L.selectedMonth=Ue.getMonth(),L.drawYear=L.selectedYear=Ue.getFullYear(),("M"===te||"Y"===te)&&this._notifyChange(L)},_restrictMinMax:function(L,Q){var te=this._getMinMaxDate(L,"min"),re=this._getMinMaxDate(L,"max"),Ne=te&&te>Q?te:Q;return re&&Ne>re?re:Ne},_notifyChange:function(L){var Q=this._get(L,"onChangeMonthYear");Q&&Q.apply(L.input?L.input[0]:null,[L.selectedYear,L.selectedMonth+1,L])},_getNumberOfMonths:function(L){var Q=this._get(L,"numberOfMonths");return null==Q?[1,1]:"number"==typeof Q?[1,Q]:Q},_getMinMaxDate:function(L,Q){return this._determineDate(L,this._get(L,Q+"Date"),null)},_getDaysInMonth:function(L,Q){return 32-this._daylightSavingAdjust(new Date(L,Q,32)).getDate()},_getFirstDayOfMonth:function(L,Q){return new Date(L,Q,1).getDay()},_canAdjustMonth:function(L,Q,te,re){var Ne=this._getNumberOfMonths(L),$e=this._daylightSavingAdjust(new Date(te,re+(0>Q?Q:Ne[0]*Ne[1]),1));return 0>Q&&$e.setDate(this._getDaysInMonth($e.getFullYear(),$e.getMonth())),this._isInRange(L,$e)},_isInRange:function(L,Q){var te,re,Ne=this._getMinMaxDate(L,"min"),$e=this._getMinMaxDate(L,"max"),Ue=null,tt=null,nt=this._get(L,"yearRange");return nt&&(te=nt.split(":"),re=(new Date).getFullYear(),Ue=parseInt(te[0],10),tt=parseInt(te[1],10),te[0].match(/[+\-].*/)&&(Ue+=re),te[1].match(/[+\-].*/)&&(tt+=re)),(!Ne||Q.getTime()>=Ne.getTime())&&(!$e||Q.getTime()<=$e.getTime())&&(!Ue||Q.getFullYear()>=Ue)&&(!tt||tt>=Q.getFullYear())},_getFormatConfig:function(L){var Q=this._get(L,"shortYearCutoff");return{shortYearCutoff:Q="string"!=typeof Q?Q:(new Date).getFullYear()%100+parseInt(Q,10),dayNamesShort:this._get(L,"dayNamesShort"),dayNames:this._get(L,"dayNames"),monthNamesShort:this._get(L,"monthNamesShort"),monthNames:this._get(L,"monthNames")}},_formatDate:function(L,Q,te,re){Q||(L.currentDay=L.selectedDay,L.currentMonth=L.selectedMonth,L.currentYear=L.selectedYear);var Ne=Q?"object"==typeof Q?Q:this._daylightSavingAdjust(new Date(re,te,Q)):this._daylightSavingAdjust(new Date(L.currentYear,L.currentMonth,L.currentDay));return this.formatDate(this._get(L,"dateFormat"),Ne,this._getFormatConfig(L))}}),L.fn.datepicker=function(Q){if(!this.length)return this;L.datepicker.initialized||(L(document).mousedown(L.datepicker._checkExternalClick),L.datepicker.initialized=!0),0===L("#"+L.datepicker._mainDivId).length&&L("body").append(L.datepicker.dpDiv);var te=Array.prototype.slice.call(arguments,1);return"string"!=typeof Q||"isDisabled"!==Q&&"getDate"!==Q&&"widget"!==Q?"option"===Q&&2===arguments.length&&"string"==typeof arguments[1]?L.datepicker["_"+Q+"Datepicker"].apply(L.datepicker,[this[0]].concat(te)):this.each((function(){"string"==typeof Q?L.datepicker["_"+Q+"Datepicker"].apply(L.datepicker,[this].concat(te)):L.datepicker._attachDatepicker(this,Q)})):L.datepicker["_"+Q+"Datepicker"].apply(L.datepicker,[this[0]].concat(te))},L.datepicker=new n,L.datepicker.initialized=!1,L.datepicker.uuid=(new Date).getTime(),L.datepicker.version="1.11.1",L.datepicker,L.widget("ui.draggable",L.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(L,Q){this._super(L,Q),"handle"===L&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(Q){var te=this.document[0],re=this.options;try{te.activeElement&&"body"!==te.activeElement.nodeName.toLowerCase()&&L(te.activeElement).blur()}catch(L){}return!(this.helper||re.disabled||L(Q.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(Q),!this.handle||(L(!0===re.iframeFix?"iframe":re.iframeFix).each((function(){L("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(L(this).offset()).appendTo("body")})),0)))},_mouseStart:function(Q){var te=this.options;return this.helper=this._createHelper(Q),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),L.ui.ddmanager&&(L.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,L.extend(this.offset,{click:{left:Q.pageX-this.offset.left,top:Q.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(Q,!1),this.originalPageX=Q.pageX,this.originalPageY=Q.pageY,te.cursorAt&&this._adjustOffsetFromHelper(te.cursorAt),this._setContainment(),!1===this._trigger("start",Q)?(this._clear(),!1):(this._cacheHelperProportions(),L.ui.ddmanager&&!te.dropBehaviour&&L.ui.ddmanager.prepareOffsets(this,Q),this._mouseDrag(Q,!0),L.ui.ddmanager&&L.ui.ddmanager.dragStart(this,Q),!0)},_mouseDrag:function(Q,te){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(Q,!0),this.positionAbs=this._convertPositionTo("absolute"),!te){var re=this._uiHash();if(!1===this._trigger("drag",Q,re))return this._mouseUp({}),!1;this.position=re.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",L.ui.ddmanager&&L.ui.ddmanager.drag(this,Q),!1},_mouseStop:function(Q){var te=this,re=!1;return L.ui.ddmanager&&!this.options.dropBehaviour&&(re=L.ui.ddmanager.drop(this,Q)),this.dropped&&(re=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!re||"valid"===this.options.revert&&re||!0===this.options.revert||L.isFunction(this.options.revert)&&this.options.revert.call(this.element,re)?L(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==te._trigger("stop",Q)&&te._clear()})):!1!==this._trigger("stop",Q)&&this._clear(),!1},_mouseUp:function(Q){return L("div.ui-draggable-iframeFix").each((function(){this.parentNode.removeChild(this)})),L.ui.ddmanager&&L.ui.ddmanager.dragStop(this,Q),this.element.focus(),L.ui.mouse.prototype._mouseUp.call(this,Q)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(Q){return!this.options.handle||!!L(Q.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(Q){var te=this.options,re=L.isFunction(te.helper)?L(te.helper.apply(this.element[0],[Q])):"clone"===te.helper?this.element.clone().removeAttr("id"):this.element;return re.parents("body").length||re.appendTo("parent"===te.appendTo?this.element[0].parentNode:te.appendTo),re[0]===this.element[0]||/(fixed|absolute)/.test(re.css("position"))||re.css("position","absolute"),re},_adjustOffsetFromHelper:function(Q){"string"==typeof Q&&(Q=Q.split(" ")),L.isArray(Q)&&(Q={left:+Q[0],top:+Q[1]||0}),"left"in Q&&(this.offset.click.left=Q.left+this.margins.left),"right"in Q&&(this.offset.click.left=this.helperProportions.width-Q.right+this.margins.left),"top"in Q&&(this.offset.click.top=Q.top+this.margins.top),"bottom"in Q&&(this.offset.click.top=this.helperProportions.height-Q.bottom+this.margins.top)},_isRootNode:function(L){return/(html|body)/i.test(L.tagName)||L===this.document[0]},_getParentOffset:function(){var Q=this.offsetParent.offset(),te=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==te&&L.contains(this.scrollParent[0],this.offsetParent[0])&&(Q.left+=this.scrollParent.scrollLeft(),Q.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(Q={top:0,left:0}),{top:Q.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:Q.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var L=this.element.position(),Q=this._isRootNode(this.scrollParent[0]);return{top:L.top-(parseInt(this.helper.css("top"),10)||0)+(Q?0:this.scrollParent.scrollTop()),left:L.left-(parseInt(this.helper.css("left"),10)||0)+(Q?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var Q,te,re,Ne=this.options,$e=this.document[0];return this.relativeContainer=null,Ne.containment?"window"===Ne.containment?void(this.containment=[L(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,L(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,L(window).scrollLeft()+L(window).width()-this.helperProportions.width-this.margins.left,L(window).scrollTop()+(L(window).height()||$e.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===Ne.containment?void(this.containment=[0,0,L($e).width()-this.helperProportions.width-this.margins.left,(L($e).height()||$e.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):Ne.containment.constructor===Array?void(this.containment=Ne.containment):("parent"===Ne.containment&&(Ne.containment=this.helper[0].parentNode),void((re=(te=L(Ne.containment))[0])&&(Q="hidden"!==te.css("overflow"),this.containment=[(parseInt(te.css("borderLeftWidth"),10)||0)+(parseInt(te.css("paddingLeft"),10)||0),(parseInt(te.css("borderTopWidth"),10)||0)+(parseInt(te.css("paddingTop"),10)||0),(Q?Math.max(re.scrollWidth,re.offsetWidth):re.offsetWidth)-(parseInt(te.css("borderRightWidth"),10)||0)-(parseInt(te.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(Q?Math.max(re.scrollHeight,re.offsetHeight):re.offsetHeight)-(parseInt(te.css("borderBottomWidth"),10)||0)-(parseInt(te.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=te))):void(this.containment=null)},_convertPositionTo:function(L,Q){Q||(Q=this.position);var te="absolute"===L?1:-1,re=this._isRootNode(this.scrollParent[0]);return{top:Q.top+this.offset.relative.top*te+this.offset.parent.top*te-("fixed"===this.cssPosition?-this.offset.scroll.top:re?0:this.offset.scroll.top)*te,left:Q.left+this.offset.relative.left*te+this.offset.parent.left*te-("fixed"===this.cssPosition?-this.offset.scroll.left:re?0:this.offset.scroll.left)*te}},_generatePosition:function(L,Q){var te,re,Ne,$e,Ue=this.options,tt=this._isRootNode(this.scrollParent[0]),nt=L.pageX,it=L.pageY;return tt&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),Q&&(this.containment&&(this.relativeContainer?(re=this.relativeContainer.offset(),te=[this.containment[0]+re.left,this.containment[1]+re.top,this.containment[2]+re.left,this.containment[3]+re.top]):te=this.containment,L.pageX-this.offset.click.left<te[0]&&(nt=te[0]+this.offset.click.left),L.pageY-this.offset.click.top<te[1]&&(it=te[1]+this.offset.click.top),L.pageX-this.offset.click.left>te[2]&&(nt=te[2]+this.offset.click.left),L.pageY-this.offset.click.top>te[3]&&(it=te[3]+this.offset.click.top)),Ue.grid&&(Ne=Ue.grid[1]?this.originalPageY+Math.round((it-this.originalPageY)/Ue.grid[1])*Ue.grid[1]:this.originalPageY,it=te?Ne-this.offset.click.top>=te[1]||Ne-this.offset.click.top>te[3]?Ne:Ne-this.offset.click.top>=te[1]?Ne-Ue.grid[1]:Ne+Ue.grid[1]:Ne,$e=Ue.grid[0]?this.originalPageX+Math.round((nt-this.originalPageX)/Ue.grid[0])*Ue.grid[0]:this.originalPageX,nt=te?$e-this.offset.click.left>=te[0]||$e-this.offset.click.left>te[2]?$e:$e-this.offset.click.left>=te[0]?$e-Ue.grid[0]:$e+Ue.grid[0]:$e),"y"===Ue.axis&&(nt=this.originalPageX),"x"===Ue.axis&&(it=this.originalPageY)),{top:it-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:tt?0:this.offset.scroll.top),left:nt-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:tt?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(Q,te,re){return re=re||this._uiHash(),L.ui.plugin.call(this,Q,[te,re,this],!0),"drag"===Q&&(this.positionAbs=this._convertPositionTo("absolute")),L.Widget.prototype._trigger.call(this,Q,te,re)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),L.ui.plugin.add("draggable","connectToSortable",{start:function(Q,te,re){var Ne=re.options,$e=L.extend({},te,{item:re.element});re.sortables=[],L(Ne.connectToSortable).each((function(){var te=L(this).sortable("instance");te&&!te.options.disabled&&(re.sortables.push({instance:te,shouldRevert:te.options.revert}),te.refreshPositions(),te._trigger("activate",Q,$e))}))},stop:function(Q,te,re){var Ne=L.extend({},te,{item:re.element});L.each(re.sortables,(function(){this.instance.isOver?(this.instance.isOver=0,re.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(Q),this.instance.options.helper=this.instance.options._helper,"original"===re.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",Q,Ne))}))},drag:function(Q,te,re){var Ne=this;L.each(re.sortables,(function(){var $e=!1,Ue=this;this.instance.positionAbs=re.positionAbs,this.instance.helperProportions=re.helperProportions,this.instance.offset.click=re.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&($e=!0,L.each(re.sortables,(function(){return this.instance.positionAbs=re.positionAbs,this.instance.helperProportions=re.helperProportions,this.instance.offset.click=re.offset.click,this!==Ue&&this.instance._intersectsWith(this.instance.containerCache)&&L.contains(Ue.instance.element[0],this.instance.element[0])&&($e=!1),$e}))),$e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=L(Ne).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return te.helper[0]},Q.target=this.instance.currentItem[0],this.instance._mouseCapture(Q,!0),this.instance._mouseStart(Q,!0,!0),this.instance.offset.click.top=re.offset.click.top,this.instance.offset.click.left=re.offset.click.left,this.instance.offset.parent.left-=re.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=re.offset.parent.top-this.instance.offset.parent.top,re._trigger("toSortable",Q),re.dropped=this.instance.element,re.currentItem=re.element,this.instance.fromOutside=re),this.instance.currentItem&&this.instance._mouseDrag(Q)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",Q,this.instance._uiHash(this.instance)),this.instance._mouseStop(Q,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),re._trigger("fromSortable",Q),re.dropped=!1)}))}}),L.ui.plugin.add("draggable","cursor",{start:function(Q,te,re){var Ne=L("body"),$e=re.options;Ne.css("cursor")&&($e._cursor=Ne.css("cursor")),Ne.css("cursor",$e.cursor)},stop:function(Q,te,re){var Ne=re.options;Ne._cursor&&L("body").css("cursor",Ne._cursor)}}),L.ui.plugin.add("draggable","opacity",{start:function(Q,te,re){var Ne=L(te.helper),$e=re.options;Ne.css("opacity")&&($e._opacity=Ne.css("opacity")),Ne.css("opacity",$e.opacity)},stop:function(Q,te,re){var Ne=re.options;Ne._opacity&&L(te.helper).css("opacity",Ne._opacity)}}),L.ui.plugin.add("draggable","scroll",{start:function(L,Q,te){te.scrollParentNotHidden||(te.scrollParentNotHidden=te.helper.scrollParent(!1)),te.scrollParentNotHidden[0]!==te.document[0]&&"HTML"!==te.scrollParentNotHidden[0].tagName&&(te.overflowOffset=te.scrollParentNotHidden.offset())},drag:function(Q,te,re){var Ne=re.options,$e=!1,Ue=re.scrollParentNotHidden[0],tt=re.document[0];Ue!==tt&&"HTML"!==Ue.tagName?(Ne.axis&&"x"===Ne.axis||(re.overflowOffset.top+Ue.offsetHeight-Q.pageY<Ne.scrollSensitivity?Ue.scrollTop=$e=Ue.scrollTop+Ne.scrollSpeed:Q.pageY-re.overflowOffset.top<Ne.scrollSensitivity&&(Ue.scrollTop=$e=Ue.scrollTop-Ne.scrollSpeed)),Ne.axis&&"y"===Ne.axis||(re.overflowOffset.left+Ue.offsetWidth-Q.pageX<Ne.scrollSensitivity?Ue.scrollLeft=$e=Ue.scrollLeft+Ne.scrollSpeed:Q.pageX-re.overflowOffset.left<Ne.scrollSensitivity&&(Ue.scrollLeft=$e=Ue.scrollLeft-Ne.scrollSpeed))):(Ne.axis&&"x"===Ne.axis||(Q.pageY-L(tt).scrollTop()<Ne.scrollSensitivity?$e=L(tt).scrollTop(L(tt).scrollTop()-Ne.scrollSpeed):L(window).height()-(Q.pageY-L(tt).scrollTop())<Ne.scrollSensitivity&&($e=L(tt).scrollTop(L(tt).scrollTop()+Ne.scrollSpeed))),Ne.axis&&"y"===Ne.axis||(Q.pageX-L(tt).scrollLeft()<Ne.scrollSensitivity?$e=L(tt).scrollLeft(L(tt).scrollLeft()-Ne.scrollSpeed):L(window).width()-(Q.pageX-L(tt).scrollLeft())<Ne.scrollSensitivity&&($e=L(tt).scrollLeft(L(tt).scrollLeft()+Ne.scrollSpeed)))),!1!==$e&&L.ui.ddmanager&&!Ne.dropBehaviour&&L.ui.ddmanager.prepareOffsets(re,Q)}}),L.ui.plugin.add("draggable","snap",{start:function(Q,te,re){var Ne=re.options;re.snapElements=[],L(Ne.snap.constructor!==String?Ne.snap.items||":data(ui-draggable)":Ne.snap).each((function(){var Q=L(this),te=Q.offset();this!==re.element[0]&&re.snapElements.push({item:this,width:Q.outerWidth(),height:Q.outerHeight(),top:te.top,left:te.left})}))},drag:function(Q,te,re){var Ne,$e,Ue,tt,nt,it,rt,ot,at,dt,bt=re.options,sn=bt.snapTolerance,ln=te.offset.left,un=ln+re.helperProportions.width,cn=te.offset.top,dn=cn+re.helperProportions.height;for(at=re.snapElements.length-1;at>=0;at--)it=(nt=re.snapElements[at].left)+re.snapElements[at].width,ot=(rt=re.snapElements[at].top)+re.snapElements[at].height,nt-sn>un||ln>it+sn||rt-sn>dn||cn>ot+sn||!L.contains(re.snapElements[at].item.ownerDocument,re.snapElements[at].item)?(re.snapElements[at].snapping&&re.options.snap.release&&re.options.snap.release.call(re.element,Q,L.extend(re._uiHash(),{snapItem:re.snapElements[at].item})),re.snapElements[at].snapping=!1):("inner"!==bt.snapMode&&(Ne=sn>=Math.abs(rt-dn),$e=sn>=Math.abs(ot-cn),Ue=sn>=Math.abs(nt-un),tt=sn>=Math.abs(it-ln),Ne&&(te.position.top=re._convertPositionTo("relative",{top:rt-re.helperProportions.height,left:0}).top-re.margins.top),$e&&(te.position.top=re._convertPositionTo("relative",{top:ot,left:0}).top-re.margins.top),Ue&&(te.position.left=re._convertPositionTo("relative",{top:0,left:nt-re.helperProportions.width}).left-re.margins.left),tt&&(te.position.left=re._convertPositionTo("relative",{top:0,left:it}).left-re.margins.left)),dt=Ne||$e||Ue||tt,"outer"!==bt.snapMode&&(Ne=sn>=Math.abs(rt-cn),$e=sn>=Math.abs(ot-dn),Ue=sn>=Math.abs(nt-ln),tt=sn>=Math.abs(it-un),Ne&&(te.position.top=re._convertPositionTo("relative",{top:rt,left:0}).top-re.margins.top),$e&&(te.position.top=re._convertPositionTo("relative",{top:ot-re.helperProportions.height,left:0}).top-re.margins.top),Ue&&(te.position.left=re._convertPositionTo("relative",{top:0,left:nt}).left-re.margins.left),tt&&(te.position.left=re._convertPositionTo("relative",{top:0,left:it-re.helperProportions.width}).left-re.margins.left)),!re.snapElements[at].snapping&&(Ne||$e||Ue||tt||dt)&&re.options.snap.snap&&re.options.snap.snap.call(re.element,Q,L.extend(re._uiHash(),{snapItem:re.snapElements[at].item})),re.snapElements[at].snapping=Ne||$e||Ue||tt||dt)}}),L.ui.plugin.add("draggable","stack",{start:function(Q,te,re){var Ne,$e=re.options,Ue=L.makeArray(L($e.stack)).sort((function(Q,te){return(parseInt(L(Q).css("zIndex"),10)||0)-(parseInt(L(te).css("zIndex"),10)||0)}));Ue.length&&(Ne=parseInt(L(Ue[0]).css("zIndex"),10)||0,L(Ue).each((function(Q){L(this).css("zIndex",Ne+Q)})),this.css("zIndex",Ne+Ue.length))}}),L.ui.plugin.add("draggable","zIndex",{start:function(Q,te,re){var Ne=L(te.helper),$e=re.options;Ne.css("zIndex")&&($e._zIndex=Ne.css("zIndex")),Ne.css("zIndex",$e.zIndex)},stop:function(Q,te,re){var Ne=re.options;Ne._zIndex&&L(te.helper).css("zIndex",Ne._zIndex)}}),L.ui.draggable,L.widget("ui.resizable",L.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(L){return parseInt(L,10)||0},_isNumber:function(L){return!isNaN(parseInt(L,10))},_hasScroll:function(Q,te){if("hidden"===L(Q).css("overflow"))return!1;var re=te&&"left"===te?"scrollLeft":"scrollTop",Ne=!1;return Q[re]>0||(Q[re]=1,Ne=Q[re]>0,Q[re]=0,Ne)},_create:function(){var Q,te,re,Ne,$e=this,Ue=this.options;if(this.element.addClass("ui-resizable"),L.extend(this,{_aspectRatio:!!Ue.aspectRatio,aspectRatio:Ue.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:Ue.helper||Ue.ghost||Ue.animate?Ue.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(L("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=Ue.handles||(L(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),Q=this.handles.split(","),this.handles={},te=0;Q.length>te;te++)re=L.trim(Q[te]),(Ne=L("<div class='ui-resizable-handle ui-resizable-"+re+"'></div>")).css({zIndex:Ue.zIndex}),"se"===re&&Ne.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[re]=".ui-resizable-"+re,this.element.append(Ne);this._renderAxis=function(Q){var te,re,Ne,$e;for(te in Q=Q||this.element,this.handles)this.handles[te].constructor===String&&(this.handles[te]=this.element.children(this.handles[te]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(re=L(this.handles[te],this.element),$e=/sw|ne|nw|se|n|s/.test(te)?re.outerHeight():re.outerWidth(),Ne=["padding",/ne|nw|n/.test(te)?"Top":/se|sw|s/.test(te)?"Bottom":/^e$/.test(te)?"Right":"Left"].join(""),Q.css(Ne,$e),this._proportionallyResize()),L(this.handles[te]).length},this._renderAxis(this.element),this._handles=L(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover((function(){$e.resizing||(this.className&&(Ne=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),$e.axis=Ne&&Ne[1]?Ne[1]:"se")})),Ue.autoHide&&(this._handles.hide(),L(this.element).addClass("ui-resizable-autohide").mouseenter((function(){Ue.disabled||(L(this).removeClass("ui-resizable-autohide"),$e._handles.show())})).mouseleave((function(){Ue.disabled||$e.resizing||(L(this).addClass("ui-resizable-autohide"),$e._handles.hide())}))),this._mouseInit()},_destroy:function(){this._mouseDestroy();var Q,i=function(Q){L(Q).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),Q=this.element,this.originalElement.css({position:Q.css("position"),width:Q.outerWidth(),height:Q.outerHeight(),top:Q.css("top"),left:Q.css("left")}).insertAfter(Q),Q.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(Q){var te,re,Ne=!1;for(te in this.handles)((re=L(this.handles[te])[0])===Q.target||L.contains(re,Q.target))&&(Ne=!0);return!this.options.disabled&&Ne},_mouseStart:function(Q){var te,re,Ne,$e=this.options,Ue=this.element;return this.resizing=!0,this._renderProxy(),te=this._num(this.helper.css("left")),re=this._num(this.helper.css("top")),$e.containment&&(te+=L($e.containment).scrollLeft()||0,re+=L($e.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:te,top:re},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:Ue.width(),height:Ue.height()},this.originalSize=this._helper?{width:Ue.outerWidth(),height:Ue.outerHeight()}:{width:Ue.width(),height:Ue.height()},this.sizeDiff={width:Ue.outerWidth()-Ue.width(),height:Ue.outerHeight()-Ue.height()},this.originalPosition={left:te,top:re},this.originalMousePosition={left:Q.pageX,top:Q.pageY},this.aspectRatio="number"==typeof $e.aspectRatio?$e.aspectRatio:this.originalSize.width/this.originalSize.height||1,Ne=L(".ui-resizable-"+this.axis).css("cursor"),L("body").css("cursor","auto"===Ne?this.axis+"-resize":Ne),Ue.addClass("ui-resizable-resizing"),this._propagate("start",Q),!0},_mouseDrag:function(Q){var te,re,Ne=this.originalMousePosition,$e=this.axis,Ue=Q.pageX-Ne.left||0,tt=Q.pageY-Ne.top||0,nt=this._change[$e];return this._updatePrevProperties(),!!nt&&(te=nt.apply(this,[Q,Ue,tt]),this._updateVirtualBoundaries(Q.shiftKey),(this._aspectRatio||Q.shiftKey)&&(te=this._updateRatio(te,Q)),te=this._respectSize(te,Q),this._updateCache(te),this._propagate("resize",Q),re=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),L.isEmptyObject(re)||(this._updatePrevProperties(),this._trigger("resize",Q,this.ui()),this._applyChanges()),!1)},_mouseStop:function(Q){this.resizing=!1;var te,re,Ne,$e,Ue,tt,nt,it=this.options,rt=this;return this._helper&&(Ne=(re=(te=this._proportionallyResizeElements).length&&/textarea/i.test(te[0].nodeName))&&this._hasScroll(te[0],"left")?0:rt.sizeDiff.height,$e=re?0:rt.sizeDiff.width,Ue={width:rt.helper.width()-$e,height:rt.helper.height()-Ne},tt=parseInt(rt.element.css("left"),10)+(rt.position.left-rt.originalPosition.left)||null,nt=parseInt(rt.element.css("top"),10)+(rt.position.top-rt.originalPosition.top)||null,it.animate||this.element.css(L.extend(Ue,{top:nt,left:tt})),rt.helper.height(rt.size.height),rt.helper.width(rt.size.width),this._helper&&!it.animate&&this._proportionallyResize()),L("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",Q),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var L={};return this.position.top!==this.prevPosition.top&&(L.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(L.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(L.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(L.height=this.size.height+"px"),this.helper.css(L),L},_updateVirtualBoundaries:function(L){var Q,te,re,Ne,$e,Ue=this.options;$e={minWidth:this._isNumber(Ue.minWidth)?Ue.minWidth:0,maxWidth:this._isNumber(Ue.maxWidth)?Ue.maxWidth:1/0,minHeight:this._isNumber(Ue.minHeight)?Ue.minHeight:0,maxHeight:this._isNumber(Ue.maxHeight)?Ue.maxHeight:1/0},(this._aspectRatio||L)&&(Q=$e.minHeight*this.aspectRatio,re=$e.minWidth/this.aspectRatio,te=$e.maxHeight*this.aspectRatio,Ne=$e.maxWidth/this.aspectRatio,Q>$e.minWidth&&($e.minWidth=Q),re>$e.minHeight&&($e.minHeight=re),$e.maxWidth>te&&($e.maxWidth=te),$e.maxHeight>Ne&&($e.maxHeight=Ne)),this._vBoundaries=$e},_updateCache:function(L){this.offset=this.helper.offset(),this._isNumber(L.left)&&(this.position.left=L.left),this._isNumber(L.top)&&(this.position.top=L.top),this._isNumber(L.height)&&(this.size.height=L.height),this._isNumber(L.width)&&(this.size.width=L.width)},_updateRatio:function(L){var Q=this.position,te=this.size,re=this.axis;return this._isNumber(L.height)?L.width=L.height*this.aspectRatio:this._isNumber(L.width)&&(L.height=L.width/this.aspectRatio),"sw"===re&&(L.left=Q.left+(te.width-L.width),L.top=null),"nw"===re&&(L.top=Q.top+(te.height-L.height),L.left=Q.left+(te.width-L.width)),L},_respectSize:function(L){var Q=this._vBoundaries,te=this.axis,re=this._isNumber(L.width)&&Q.maxWidth&&Q.maxWidth<L.width,Ne=this._isNumber(L.height)&&Q.maxHeight&&Q.maxHeight<L.height,$e=this._isNumber(L.width)&&Q.minWidth&&Q.minWidth>L.width,Ue=this._isNumber(L.height)&&Q.minHeight&&Q.minHeight>L.height,tt=this.originalPosition.left+this.originalSize.width,nt=this.position.top+this.size.height,it=/sw|nw|w/.test(te),rt=/nw|ne|n/.test(te);return $e&&(L.width=Q.minWidth),Ue&&(L.height=Q.minHeight),re&&(L.width=Q.maxWidth),Ne&&(L.height=Q.maxHeight),$e&&it&&(L.left=tt-Q.minWidth),re&&it&&(L.left=tt-Q.maxWidth),Ue&&rt&&(L.top=nt-Q.minHeight),Ne&&rt&&(L.top=nt-Q.maxHeight),L.width||L.height||L.left||!L.top?L.width||L.height||L.top||!L.left||(L.left=null):L.top=null,L},_getPaddingPlusBorderDimensions:function(L){for(var Q=0,te=[],re=[L.css("borderTopWidth"),L.css("borderRightWidth"),L.css("borderBottomWidth"),L.css("borderLeftWidth")],Ne=[L.css("paddingTop"),L.css("paddingRight"),L.css("paddingBottom"),L.css("paddingLeft")];4>Q;Q++)te[Q]=parseInt(re[Q],10)||0,te[Q]+=parseInt(Ne[Q],10)||0;return{height:te[0]+te[2],width:te[1]+te[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var L,Q=0,te=this.helper||this.element;this._proportionallyResizeElements.length>Q;Q++)L=this._proportionallyResizeElements[Q],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(L)),L.css({height:te.height()-this.outerDimensions.height||0,width:te.width()-this.outerDimensions.width||0})},_renderProxy:function(){var Q=this.element,te=this.options;this.elementOffset=Q.offset(),this._helper?(this.helper=this.helper||L("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++te.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(L,Q){return{width:this.originalSize.width+Q}},w:function(L,Q){var te=this.originalSize;return{left:this.originalPosition.left+Q,width:te.width-Q}},n:function(L,Q,te){var re=this.originalSize;return{top:this.originalPosition.top+te,height:re.height-te}},s:function(L,Q,te){return{height:this.originalSize.height+te}},se:function(Q,te,re){return L.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[Q,te,re]))},sw:function(Q,te,re){return L.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[Q,te,re]))},ne:function(Q,te,re){return L.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[Q,te,re]))},nw:function(Q,te,re){return L.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[Q,te,re]))}},_propagate:function(Q,te){L.ui.plugin.call(this,Q,[te,this.ui()]),"resize"!==Q&&this._trigger(Q,te,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),L.ui.plugin.add("resizable","animate",{stop:function(Q){var te=L(this).resizable("instance"),re=te.options,Ne=te._proportionallyResizeElements,$e=Ne.length&&/textarea/i.test(Ne[0].nodeName),Ue=$e&&te._hasScroll(Ne[0],"left")?0:te.sizeDiff.height,tt=$e?0:te.sizeDiff.width,nt={width:te.size.width-tt,height:te.size.height-Ue},it=parseInt(te.element.css("left"),10)+(te.position.left-te.originalPosition.left)||null,rt=parseInt(te.element.css("top"),10)+(te.position.top-te.originalPosition.top)||null;te.element.animate(L.extend(nt,rt&&it?{top:rt,left:it}:{}),{duration:re.animateDuration,easing:re.animateEasing,step:function(){var re={width:parseInt(te.element.css("width"),10),height:parseInt(te.element.css("height"),10),top:parseInt(te.element.css("top"),10),left:parseInt(te.element.css("left"),10)};Ne&&Ne.length&&L(Ne[0]).css({width:re.width,height:re.height}),te._updateCache(re),te._propagate("resize",Q)}})}}),L.ui.plugin.add("resizable","containment",{start:function(){var Q,te,re,Ne,$e,Ue,tt,nt=L(this).resizable("instance"),it=nt.options,rt=nt.element,ot=it.containment,at=ot instanceof L?ot.get(0):/parent/.test(ot)?rt.parent().get(0):ot;at&&(nt.containerElement=L(at),/document/.test(ot)||ot===document?(nt.containerOffset={left:0,top:0},nt.containerPosition={left:0,top:0},nt.parentData={element:L(document),left:0,top:0,width:L(document).width(),height:L(document).height()||document.body.parentNode.scrollHeight}):(Q=L(at),te=[],L(["Top","Right","Left","Bottom"]).each((function(L,re){te[L]=nt._num(Q.css("padding"+re))})),nt.containerOffset=Q.offset(),nt.containerPosition=Q.position(),nt.containerSize={height:Q.innerHeight()-te[3],width:Q.innerWidth()-te[1]},re=nt.containerOffset,Ne=nt.containerSize.height,$e=nt.containerSize.width,Ue=nt._hasScroll(at,"left")?at.scrollWidth:$e,tt=nt._hasScroll(at)?at.scrollHeight:Ne,nt.parentData={element:at,left:re.left,top:re.top,width:Ue,height:tt}))},resize:function(Q){var te,re,Ne,$e,Ue=L(this).resizable("instance"),tt=Ue.options,nt=Ue.containerOffset,it=Ue.position,rt=Ue._aspectRatio||Q.shiftKey,ot={top:0,left:0},at=Ue.containerElement,dt=!0;at[0]!==document&&/static/.test(at.css("position"))&&(ot=nt),it.left<(Ue._helper?nt.left:0)&&(Ue.size.width=Ue.size.width+(Ue._helper?Ue.position.left-nt.left:Ue.position.left-ot.left),rt&&(Ue.size.height=Ue.size.width/Ue.aspectRatio,dt=!1),Ue.position.left=tt.helper?nt.left:0),it.top<(Ue._helper?nt.top:0)&&(Ue.size.height=Ue.size.height+(Ue._helper?Ue.position.top-nt.top:Ue.position.top),rt&&(Ue.size.width=Ue.size.height*Ue.aspectRatio,dt=!1),Ue.position.top=Ue._helper?nt.top:0),Ne=Ue.containerElement.get(0)===Ue.element.parent().get(0),$e=/relative|absolute/.test(Ue.containerElement.css("position")),Ne&&$e?(Ue.offset.left=Ue.parentData.left+Ue.position.left,Ue.offset.top=Ue.parentData.top+Ue.position.top):(Ue.offset.left=Ue.element.offset().left,Ue.offset.top=Ue.element.offset().top),te=Math.abs(Ue.sizeDiff.width+(Ue._helper?Ue.offset.left-ot.left:Ue.offset.left-nt.left)),re=Math.abs(Ue.sizeDiff.height+(Ue._helper?Ue.offset.top-ot.top:Ue.offset.top-nt.top)),te+Ue.size.width>=Ue.parentData.width&&(Ue.size.width=Ue.parentData.width-te,rt&&(Ue.size.height=Ue.size.width/Ue.aspectRatio,dt=!1)),re+Ue.size.height>=Ue.parentData.height&&(Ue.size.height=Ue.parentData.height-re,rt&&(Ue.size.width=Ue.size.height*Ue.aspectRatio,dt=!1)),dt||(Ue.position.left=Ue.prevPosition.left,Ue.position.top=Ue.prevPosition.top,Ue.size.width=Ue.prevSize.width,Ue.size.height=Ue.prevSize.height)},stop:function(){var Q=L(this).resizable("instance"),te=Q.options,re=Q.containerOffset,Ne=Q.containerPosition,$e=Q.containerElement,Ue=L(Q.helper),tt=Ue.offset(),nt=Ue.outerWidth()-Q.sizeDiff.width,it=Ue.outerHeight()-Q.sizeDiff.height;Q._helper&&!te.animate&&/relative/.test($e.css("position"))&&L(this).css({left:tt.left-Ne.left-re.left,width:nt,height:it}),Q._helper&&!te.animate&&/static/.test($e.css("position"))&&L(this).css({left:tt.left-Ne.left-re.left,width:nt,height:it})}}),L.ui.plugin.add("resizable","alsoResize",{start:function(){var Q=L(this).resizable("instance").options,s=function(Q){L(Q).each((function(){var Q=L(this);Q.data("ui-resizable-alsoresize",{width:parseInt(Q.width(),10),height:parseInt(Q.height(),10),left:parseInt(Q.css("left"),10),top:parseInt(Q.css("top"),10)})}))};"object"!=typeof Q.alsoResize||Q.alsoResize.parentNode?s(Q.alsoResize):Q.alsoResize.length?(Q.alsoResize=Q.alsoResize[0],s(Q.alsoResize)):L.each(Q.alsoResize,(function(L){s(L)}))},resize:function(Q,te){var re=L(this).resizable("instance"),Ne=re.options,$e=re.originalSize,Ue=re.originalPosition,tt={height:re.size.height-$e.height||0,width:re.size.width-$e.width||0,top:re.position.top-Ue.top||0,left:re.position.left-Ue.left||0},h=function(Q,re){L(Q).each((function(){var Q=L(this),Ne=L(this).data("ui-resizable-alsoresize"),$e={},Ue=re&&re.length?re:Q.parents(te.originalElement[0]).length?["width","height"]:["width","height","top","left"];L.each(Ue,(function(L,Q){var te=(Ne[Q]||0)+(tt[Q]||0);te&&te>=0&&($e[Q]=te||null)})),Q.css($e)}))};"object"!=typeof Ne.alsoResize||Ne.alsoResize.nodeType?h(Ne.alsoResize):L.each(Ne.alsoResize,(function(L,Q){h(L,Q)}))},stop:function(){L(this).removeData("resizable-alsoresize")}}),L.ui.plugin.add("resizable","ghost",{start:function(){var Q=L(this).resizable("instance"),te=Q.options,re=Q.size;Q.ghost=Q.originalElement.clone(),Q.ghost.css({opacity:.25,display:"block",position:"relative",height:re.height,width:re.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof te.ghost?te.ghost:""),Q.ghost.appendTo(Q.helper)},resize:function(){var Q=L(this).resizable("instance");Q.ghost&&Q.ghost.css({position:"relative",height:Q.size.height,width:Q.size.width})},stop:function(){var Q=L(this).resizable("instance");Q.ghost&&Q.helper&&Q.helper.get(0).removeChild(Q.ghost.get(0))}}),L.ui.plugin.add("resizable","grid",{resize:function(){var Q,te=L(this).resizable("instance"),re=te.options,Ne=te.size,$e=te.originalSize,Ue=te.originalPosition,tt=te.axis,nt="number"==typeof re.grid?[re.grid,re.grid]:re.grid,it=nt[0]||1,rt=nt[1]||1,ot=Math.round((Ne.width-$e.width)/it)*it,at=Math.round((Ne.height-$e.height)/rt)*rt,dt=$e.width+ot,bt=$e.height+at,sn=re.maxWidth&&dt>re.maxWidth,ln=re.maxHeight&&bt>re.maxHeight,un=re.minWidth&&re.minWidth>dt,cn=re.minHeight&&re.minHeight>bt;re.grid=nt,un&&(dt+=it),cn&&(bt+=rt),sn&&(dt-=it),ln&&(bt-=rt),/^(se|s|e)$/.test(tt)?(te.size.width=dt,te.size.height=bt):/^(ne)$/.test(tt)?(te.size.width=dt,te.size.height=bt,te.position.top=Ue.top-at):/^(sw)$/.test(tt)?(te.size.width=dt,te.size.height=bt,te.position.left=Ue.left-ot):((0>=bt-rt||0>=dt-it)&&(Q=te._getPaddingPlusBorderDimensions(this)),bt-rt>0?(te.size.height=bt,te.position.top=Ue.top-at):(bt=rt-Q.height,te.size.height=bt,te.position.top=Ue.top+$e.height-bt),dt-it>0?(te.size.width=dt,te.position.left=Ue.left-ot):(dt=rt-Q.height,te.size.width=dt,te.position.left=Ue.left+$e.width-dt))}}),L.ui.resizable,L.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(Q){var te=L(this).css(Q).offset().top;0>te&&L(this).css("top",Q.top-te)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&L.fn.draggable&&this._makeDraggable(),this.options.resizable&&L.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var Q=this.options.appendTo;return Q&&(Q.jquery||Q.nodeType)?L(Q):this.document.find(Q||"body").eq(0)},_destroy:function(){var L,Q=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(L=Q.parent.children().eq(Q.index)).length&&L[0]!==this.element[0]?L.before(this.element):Q.parent.append(this.element)},widget:function(){return this.uiDialog},disable:L.noop,enable:L.noop,close:function(Q){var te,re=this;if(this._isOpen&&!1!==this._trigger("beforeClose",Q)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(te=this.document[0].activeElement)&&"body"!==te.nodeName.toLowerCase()&&L(te).blur()}catch(L){}this._hide(this.uiDialog,this.options.hide,(function(){re._trigger("close",Q)}))}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(Q,te){var re=!1,Ne=this.uiDialog.siblings(".ui-front:visible").map((function(){return+L(this).css("z-index")})).get(),$e=Math.max.apply(null,Ne);return $e>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",$e+1),re=!0),re&&!te&&this._trigger("focus",Q),re},open:function(){var Q=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=L(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){Q._focusTabbable(),Q._trigger("focus")})),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var L=this._focusedElement;L||(L=this.element.find("[autofocus]")),L.length||(L=this.element.find(":tabbable")),L.length||(L=this.uiDialogButtonPane.find(":tabbable")),L.length||(L=this.uiDialogTitlebarClose.filter(":tabbable")),L.length||(L=this.uiDialog),L.eq(0).focus()},_keepFocus:function(Q){function i(){var Q=this.document[0].activeElement;this.uiDialog[0]===Q||L.contains(this.uiDialog[0],Q)||this._focusTabbable()}Q.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=L("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(Q){if(this.options.closeOnEscape&&!Q.isDefaultPrevented()&&Q.keyCode&&Q.keyCode===L.ui.keyCode.ESCAPE)return Q.preventDefault(),void this.close(Q);if(Q.keyCode===L.ui.keyCode.TAB&&!Q.isDefaultPrevented()){var te=this.uiDialog.find(":tabbable"),re=te.filter(":first"),Ne=te.filter(":last");Q.target!==Ne[0]&&Q.target!==this.uiDialog[0]||Q.shiftKey?Q.target!==re[0]&&Q.target!==this.uiDialog[0]||!Q.shiftKey||(this._delay((function(){Ne.focus()})),Q.preventDefault()):(this._delay((function(){re.focus()})),Q.preventDefault())}},mousedown:function(L){this._moveToTop(L)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var Q;this.uiDialogTitlebar=L("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(Q){L(Q.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=L("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(L){L.preventDefault(),this.close(L)}}),Q=L("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(Q),this.uiDialog.attr({"aria-labelledby":Q.attr("id")})},_title:function(L){this.options.title||L.html("&#160;"),L.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=L("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=L("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var Q=this,te=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),L.isEmptyObject(te)||L.isArray(te)&&!te.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(L.each(te,(function(te,re){var Ne,$e;re=L.isFunction(re)?{click:re,text:te}:re,re=L.extend({type:"button"},re),Ne=re.click,re.click=function(){Ne.apply(Q.element[0],arguments)},$e={icons:re.icons,text:re.showText},delete re.icons,delete re.showText,L("<button></button>",re).button($e).appendTo(Q.uiButtonSet)})),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(L){return{position:L.position,offset:L.offset}}var Q=this,te=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(te,re){L(this).addClass("ui-dialog-dragging"),Q._blockFrames(),Q._trigger("dragStart",te,t(re))},drag:function(L,te){Q._trigger("drag",L,t(te))},stop:function(re,Ne){var $e=Ne.offset.left-Q.document.scrollLeft(),Ue=Ne.offset.top-Q.document.scrollTop();te.position={my:"left top",at:"left"+($e>=0?"+":"")+$e+" top"+(Ue>=0?"+":"")+Ue,of:Q.window},L(this).removeClass("ui-dialog-dragging"),Q._unblockFrames(),Q._trigger("dragStop",re,t(Ne))}})},_makeResizable:function(){function t(L){return{originalPosition:L.originalPosition,originalSize:L.originalSize,position:L.position,size:L.size}}var Q=this,te=this.options,re=te.resizable,Ne=this.uiDialog.css("position"),$e="string"==typeof re?re:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:te.maxWidth,maxHeight:te.maxHeight,minWidth:te.minWidth,minHeight:this._minHeight(),handles:$e,start:function(te,re){L(this).addClass("ui-dialog-resizing"),Q._blockFrames(),Q._trigger("resizeStart",te,t(re))},resize:function(L,te){Q._trigger("resize",L,t(te))},stop:function(re,Ne){var $e=Q.uiDialog.offset(),Ue=$e.left-Q.document.scrollLeft(),tt=$e.top-Q.document.scrollTop();te.height=Q.uiDialog.height(),te.width=Q.uiDialog.width(),te.position={my:"left top",at:"left"+(Ue>=0?"+":"")+Ue+" top"+(tt>=0?"+":"")+tt,of:Q.window},L(this).removeClass("ui-dialog-resizing"),Q._unblockFrames(),Q._trigger("resizeStop",re,t(Ne))}}).css("position",Ne)},_trackFocus:function(){this._on(this.widget(),{focusin:function(Q){this._makeFocusTarget(),this._focusedElement=L(Q.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var Q=this._trackingInstances(),te=L.inArray(this,Q);-1!==te&&Q.splice(te,1)},_trackingInstances:function(){var L=this.document.data("ui-dialog-instances");return L||(L=[],this.document.data("ui-dialog-instances",L)),L},_minHeight:function(){var L=this.options;return"auto"===L.height?L.minHeight:Math.min(L.minHeight,L.height)},_position:function(){var L=this.uiDialog.is(":visible");L||this.uiDialog.show(),this.uiDialog.position(this.options.position),L||this.uiDialog.hide()},_setOptions:function(Q){var te=this,re=!1,Ne={};L.each(Q,(function(L,Q){te._setOption(L,Q),L in te.sizeRelatedOptions&&(re=!0),L in te.resizableRelatedOptions&&(Ne[L]=Q)})),re&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",Ne)},_setOption:function(L,Q){var te,re,Ne=this.uiDialog;"dialogClass"===L&&Ne.removeClass(this.options.dialogClass).addClass(Q),"disabled"!==L&&(this._super(L,Q),"appendTo"===L&&this.uiDialog.appendTo(this._appendTo()),"buttons"===L&&this._createButtons(),"closeText"===L&&this.uiDialogTitlebarClose.button({label:""+Q}),"draggable"===L&&((te=Ne.is(":data(ui-draggable)"))&&!Q&&Ne.draggable("destroy"),!te&&Q&&this._makeDraggable()),"position"===L&&this._position(),"resizable"===L&&((re=Ne.is(":data(ui-resizable)"))&&!Q&&Ne.resizable("destroy"),re&&"string"==typeof Q&&Ne.resizable("option","handles",Q),re||!1===Q||this._makeResizable()),"title"===L&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var L,Q,te,re=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),re.minWidth>re.width&&(re.width=re.minWidth),L=this.uiDialog.css({height:"auto",width:re.width}).outerHeight(),Q=Math.max(0,re.minHeight-L),te="number"==typeof re.maxHeight?Math.max(0,re.maxHeight-L):"none","auto"===re.height?this.element.css({minHeight:Q,maxHeight:te,height:"auto"}):this.element.height(Math.max(0,re.height-L)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var Q=L(this);return L("<div>").css({position:"absolute",width:Q.outerWidth(),height:Q.outerHeight()}).appendTo(Q.parent()).offset(Q.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(Q){return!!L(Q.target).closest(".ui-dialog").length||!!L(Q.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var Q=!0;this._delay((function(){Q=!1})),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(L){Q||this._allowInteraction(L)||(L.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=L("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var L=this.document.data("ui-dialog-overlays")-1;L?this.document.data("ui-dialog-overlays",L):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),L.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var Q,te=this.options,re=te.accept;this.isover=!1,this.isout=!0,this.accept=L.isFunction(re)?re:function(L){return L.is(re)},this.proportions=function(){return arguments.length?void(Q=arguments[0]):Q||(Q={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(te.scope),te.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(Q){L.ui.ddmanager.droppables[Q]=L.ui.ddmanager.droppables[Q]||[],L.ui.ddmanager.droppables[Q].push(this)},_splice:function(L){for(var Q=0;L.length>Q;Q++)L[Q]===this&&L.splice(Q,1)},_destroy:function(){var Q=L.ui.ddmanager.droppables[this.options.scope];this._splice(Q),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(Q,te){if("accept"===Q)this.accept=L.isFunction(te)?te:function(L){return L.is(te)};else if("scope"===Q){var re=L.ui.ddmanager.droppables[this.options.scope];this._splice(re),this._addToManager(te)}this._super(Q,te)},_activate:function(Q){var te=L.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),te&&this._trigger("activate",Q,this.ui(te))},_deactivate:function(Q){var te=L.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),te&&this._trigger("deactivate",Q,this.ui(te))},_over:function(Q){var te=L.ui.ddmanager.current;te&&(te.currentItem||te.element)[0]!==this.element[0]&&this.accept.call(this.element[0],te.currentItem||te.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",Q,this.ui(te)))},_out:function(Q){var te=L.ui.ddmanager.current;te&&(te.currentItem||te.element)[0]!==this.element[0]&&this.accept.call(this.element[0],te.currentItem||te.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",Q,this.ui(te)))},_drop:function(Q,te){var re=te||L.ui.ddmanager.current,Ne=!1;return!(!re||(re.currentItem||re.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var te=L(this).droppable("instance");return te.options.greedy&&!te.options.disabled&&te.options.scope===re.options.scope&&te.accept.call(te.element[0],re.currentItem||re.element)&&L.ui.intersect(re,L.extend(te,{offset:te.element.offset()}),te.options.tolerance,Q)?(Ne=!0,!1):void 0})),!Ne&&!!this.accept.call(this.element[0],re.currentItem||re.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",Q,this.ui(re)),this.element))},ui:function(L){return{draggable:L.currentItem||L.element,helper:L.helper,position:L.position,offset:L.positionAbs}}}),L.ui.intersect=function(){function e(L,Q,te){return L>=Q&&Q+te>L}return function(L,Q,te,re){if(!Q.offset)return!1;var Ne=(L.positionAbs||L.position.absolute).left,$e=(L.positionAbs||L.position.absolute).top,Ue=Ne+L.helperProportions.width,tt=$e+L.helperProportions.height,nt=Q.offset.left,it=Q.offset.top,rt=nt+Q.proportions().width,ot=it+Q.proportions().height;switch(te){case"fit":return Ne>=nt&&rt>=Ue&&$e>=it&&ot>=tt;case"intersect":return Ne+L.helperProportions.width/2>nt&&rt>Ue-L.helperProportions.width/2&&$e+L.helperProportions.height/2>it&&ot>tt-L.helperProportions.height/2;case"pointer":return e(re.pageY,it,Q.proportions().height)&&e(re.pageX,nt,Q.proportions().width);case"touch":return($e>=it&&ot>=$e||tt>=it&&ot>=tt||it>$e&&tt>ot)&&(Ne>=nt&&rt>=Ne||Ue>=nt&&rt>=Ue||nt>Ne&&Ue>rt);default:return!1}}}(),L.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(Q,te){var re,Ne,$e=L.ui.ddmanager.droppables[Q.options.scope]||[],Ue=te?te.type:null,tt=(Q.currentItem||Q.element).find(":data(ui-droppable)").addBack();e:for(re=0;$e.length>re;re++)if(!($e[re].options.disabled||Q&&!$e[re].accept.call($e[re].element[0],Q.currentItem||Q.element))){for(Ne=0;tt.length>Ne;Ne++)if(tt[Ne]===$e[re].element[0]){$e[re].proportions().height=0;continue e}$e[re].visible="none"!==$e[re].element.css("display"),$e[re].visible&&("mousedown"===Ue&&$e[re]._activate.call($e[re],te),$e[re].offset=$e[re].element.offset(),$e[re].proportions({width:$e[re].element[0].offsetWidth,height:$e[re].element[0].offsetHeight}))}},drop:function(Q,te){var re=!1;return L.each((L.ui.ddmanager.droppables[Q.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&L.ui.intersect(Q,this,this.options.tolerance,te)&&(re=this._drop.call(this,te)||re),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],Q.currentItem||Q.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,te)))})),re},dragStart:function(Q,te){Q.element.parentsUntil("body").bind("scroll.droppable",(function(){Q.options.refreshPositions||L.ui.ddmanager.prepareOffsets(Q,te)}))},drag:function(Q,te){Q.options.refreshPositions&&L.ui.ddmanager.prepareOffsets(Q,te),L.each(L.ui.ddmanager.droppables[Q.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var re,Ne,$e,Ue=L.ui.intersect(Q,this,this.options.tolerance,te),tt=!Ue&&this.isover?"isout":Ue&&!this.isover?"isover":null;tt&&(this.options.greedy&&(Ne=this.options.scope,($e=this.element.parents(":data(ui-droppable)").filter((function(){return L(this).droppable("instance").options.scope===Ne}))).length&&((re=L($e[0]).droppable("instance")).greedyChild="isover"===tt)),re&&"isover"===tt&&(re.isover=!1,re.isout=!0,re._out.call(re,te)),this[tt]=!0,this["isout"===tt?"isover":"isout"]=!1,this["isover"===tt?"_over":"_out"].call(this,te),re&&"isout"===tt&&(re.isout=!1,re.isover=!0,re._over.call(re,te)))}}))},dragStop:function(Q,te){Q.element.parentsUntil("body").unbind("scroll.droppable"),Q.options.refreshPositions||L.ui.ddmanager.prepareOffsets(Q,te)}},L.ui.droppable;var nt="ui-effects-",it=L;L.effects={effect:{}},function(L,Q){function i(L,Q,te){var re=nt[Q.type]||{};return null==L?te||!Q.def?null:Q.def:(L=re.floor?~~L:parseFloat(L),isNaN(L)?Q.def:re.mod?(L+re.mod)%re.mod:0>L?0:L>re.max?re.max:L)}function s(re){var Ne=Ue(),nt=Ne._rgba=[];return re=re.toLowerCase(),ot($e,(function(L,te){var $e,Ue=te.re.exec(re),it=Ue&&te.parse(Ue),rt=te.space||"rgba";return it?($e=Ne[rt](it),Ne[tt[rt].cache]=$e[tt[rt].cache],nt=Ne._rgba=$e._rgba,!1):Q})),nt.length?("0,0,0,0"===nt.join()&&L.extend(nt,te.transparent),Ne):te[re]}function n(L,Q,te){return 1>6*(te=(te+1)%1)?L+6*(Q-L)*te:1>2*te?Q:2>3*te?L+6*(Q-L)*(2/3-te):L}var te,re="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",Ne=/^([\-+])=\s*(\d+\.?\d*)/,$e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(L){return[L[1],L[2],L[3],L[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(L){return[2.55*L[1],2.55*L[2],2.55*L[3],L[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(L){return[parseInt(L[1],16),parseInt(L[2],16),parseInt(L[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(L){return[parseInt(L[1]+L[1],16),parseInt(L[2]+L[2],16),parseInt(L[3]+L[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(L){return[L[1],L[2]/100,L[3]/100,L[4]]}}],Ue=L.Color=function(Q,te,re,Ne){return new L.Color.fn.parse(Q,te,re,Ne)},tt={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},nt={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},it=Ue.support={},rt=L("<p>")[0],ot=L.each;rt.style.cssText="background-color:rgba(1,1,1,.5)",it.rgba=rt.style.backgroundColor.indexOf("rgba")>-1,ot(tt,(function(L,Q){Q.cache="_"+L,Q.props.alpha={idx:3,type:"percent",def:1}})),Ue.fn=L.extend(Ue.prototype,{parse:function(re,Ne,$e,nt){if(re===Q)return this._rgba=[null,null,null,null],this;(re.jquery||re.nodeType)&&(re=L(re).css(Ne),Ne=Q);var it=this,rt=L.type(re),at=this._rgba=[];return Ne!==Q&&(re=[re,Ne,$e,nt],rt="array"),"string"===rt?this.parse(s(re)||te._default):"array"===rt?(ot(tt.rgba.props,(function(L,Q){at[Q.idx]=i(re[Q.idx],Q)})),this):"object"===rt?(ot(tt,re instanceof Ue?function(L,Q){re[Q.cache]&&(it[Q.cache]=re[Q.cache].slice())}:function(Q,te){var Ne=te.cache;ot(te.props,(function(L,Q){if(!it[Ne]&&te.to){if("alpha"===L||null==re[L])return;it[Ne]=te.to(it._rgba)}it[Ne][Q.idx]=i(re[L],Q,!0)})),it[Ne]&&0>L.inArray(null,it[Ne].slice(0,3))&&(it[Ne][3]=1,te.from&&(it._rgba=te.from(it[Ne])))}),this):Q},is:function(L){var te=Ue(L),re=!0,Ne=this;return ot(tt,(function(L,$e){var Ue,tt=te[$e.cache];return tt&&(Ue=Ne[$e.cache]||$e.to&&$e.to(Ne._rgba)||[],ot($e.props,(function(L,te){return null!=tt[te.idx]?re=tt[te.idx]===Ue[te.idx]:Q}))),re})),re},_space:function(){var L=[],Q=this;return ot(tt,(function(te,re){Q[re.cache]&&L.push(te)})),L.pop()},transition:function(L,Q){var te=Ue(L),re=te._space(),Ne=tt[re],$e=0===this.alpha()?Ue("transparent"):this,it=$e[Ne.cache]||Ne.to($e._rgba),rt=it.slice();return te=te[Ne.cache],ot(Ne.props,(function(L,re){var Ne=re.idx,$e=it[Ne],Ue=te[Ne],tt=nt[re.type]||{};null!==Ue&&(null===$e?rt[Ne]=Ue:(tt.mod&&(Ue-$e>tt.mod/2?$e+=tt.mod:$e-Ue>tt.mod/2&&($e-=tt.mod)),rt[Ne]=i((Ue-$e)*Q+$e,re)))})),this[re](rt)},blend:function(Q){if(1===this._rgba[3])return this;var te=this._rgba.slice(),re=te.pop(),Ne=Ue(Q)._rgba;return Ue(L.map(te,(function(L,Q){return(1-re)*Ne[Q]+re*L})))},toRgbaString:function(){var Q="rgba(",te=L.map(this._rgba,(function(L,Q){return null==L?Q>2?1:0:L}));return 1===te[3]&&(te.pop(),Q="rgb("),Q+te.join()+")"},toHslaString:function(){var Q="hsla(",te=L.map(this.hsla(),(function(L,Q){return null==L&&(L=Q>2?1:0),Q&&3>Q&&(L=Math.round(100*L)+"%"),L}));return 1===te[3]&&(te.pop(),Q="hsl("),Q+te.join()+")"},toHexString:function(Q){var te=this._rgba.slice(),re=te.pop();return Q&&te.push(~~(255*re)),"#"+L.map(te,(function(L){return 1===(L=(L||0).toString(16)).length?"0"+L:L})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),Ue.fn.parse.prototype=Ue.fn,tt.hsla.to=function(L){if(null==L[0]||null==L[1]||null==L[2])return[null,null,null,L[3]];var Q,te,re=L[0]/255,Ne=L[1]/255,$e=L[2]/255,Ue=L[3],tt=Math.max(re,Ne,$e),nt=Math.min(re,Ne,$e),it=tt-nt,rt=tt+nt,ot=.5*rt;return Q=nt===tt?0:re===tt?60*(Ne-$e)/it+360:Ne===tt?60*($e-re)/it+120:60*(re-Ne)/it+240,te=0===it?0:.5>=ot?it/rt:it/(2-rt),[Math.round(Q)%360,te,ot,null==Ue?1:Ue]},tt.hsla.from=function(L){if(null==L[0]||null==L[1]||null==L[2])return[null,null,null,L[3]];var Q=L[0]/360,te=L[1],re=L[2],Ne=L[3],$e=.5>=re?re*(1+te):re+te-re*te,Ue=2*re-$e;return[Math.round(255*n(Ue,$e,Q+1/3)),Math.round(255*n(Ue,$e,Q)),Math.round(255*n(Ue,$e,Q-1/3)),Ne]},ot(tt,(function(te,re){var $e=re.props,tt=re.cache,nt=re.to,it=re.from;Ue.fn[te]=function(te){if(nt&&!this[tt]&&(this[tt]=nt(this._rgba)),te===Q)return this[tt].slice();var re,Ne=L.type(te),rt="array"===Ne||"object"===Ne?te:arguments,at=this[tt].slice();return ot($e,(function(L,Q){var te=rt["object"===Ne?L:Q.idx];null==te&&(te=at[Q.idx]),at[Q.idx]=i(te,Q)})),it?((re=Ue(it(at)))[tt]=at,re):Ue(at)},ot($e,(function(Q,re){Ue.fn[Q]||(Ue.fn[Q]=function($e){var Ue,tt=L.type($e),nt="alpha"===Q?this._hsla?"hsla":"rgba":te,it=this[nt](),rt=it[re.idx];return"undefined"===tt?rt:("function"===tt&&($e=$e.call(this,rt),tt=L.type($e)),null==$e&&re.empty?this:("string"===tt&&(Ue=Ne.exec($e))&&($e=rt+parseFloat(Ue[2])*("+"===Ue[1]?1:-1)),it[re.idx]=$e,this[nt](it)))})}))})),Ue.hook=function(Q){var te=Q.split(" ");ot(te,(function(Q,te){L.cssHooks[te]={set:function(Q,re){var Ne,$e,tt="";if("transparent"!==re&&("string"!==L.type(re)||(Ne=s(re)))){if(re=Ue(Ne||re),!it.rgba&&1!==re._rgba[3]){for($e="backgroundColor"===te?Q.parentNode:Q;(""===tt||"transparent"===tt)&&$e&&$e.style;)try{tt=L.css($e,"backgroundColor"),$e=$e.parentNode}catch(L){}re=re.blend(tt&&"transparent"!==tt?tt:"_default")}re=re.toRgbaString()}try{Q.style[te]=re}catch(L){}}},L.fx.step[te]=function(Q){Q.colorInit||(Q.start=Ue(Q.elem,te),Q.end=Ue(Q.end),Q.colorInit=!0),L.cssHooks[te].set(Q.elem,Q.start.transition(Q.end,Q.pos))}}))},Ue.hook(re),L.cssHooks.borderColor={expand:function(L){var Q={};return ot(["Top","Right","Bottom","Left"],(function(te,re){Q["border"+re+"Color"]=L})),Q}},te=L.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(it),function(){function t(Q){var te,re,Ne=Q.ownerDocument.defaultView?Q.ownerDocument.defaultView.getComputedStyle(Q,null):Q.currentStyle,$e={};if(Ne&&Ne.length&&Ne[0]&&Ne[Ne[0]])for(re=Ne.length;re--;)"string"==typeof Ne[te=Ne[re]]&&($e[L.camelCase(te)]=Ne[te]);else for(te in Ne)"string"==typeof Ne[te]&&($e[te]=Ne[te]);return $e}function i(Q,re){var Ne,$e,Ue={};for(Ne in re)$e=re[Ne],Q[Ne]!==$e&&(te[Ne]||(L.fx.step[Ne]||!isNaN(parseFloat($e)))&&(Ue[Ne]=$e));return Ue}var Q=["add","remove","toggle"],te={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};L.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(Q,te){L.fx.step[te]=function(L){("none"!==L.end&&!L.setAttr||1===L.pos&&!L.setAttr)&&(it.style(L.elem,te,L.end),L.setAttr=!0)}})),L.fn.addBack||(L.fn.addBack=function(L){return this.add(null==L?this.prevObject:this.prevObject.filter(L))}),L.effects.animateClass=function(te,re,Ne,$e){var Ue=L.speed(re,Ne,$e);return this.queue((function(){var re,Ne=L(this),$e=Ne.attr("class")||"",tt=Ue.children?Ne.find("*").addBack():Ne;tt=tt.map((function(){return{el:L(this),start:t(this)}})),re=function(){L.each(Q,(function(L,Q){te[Q]&&Ne[Q+"Class"](te[Q])}))},re(),tt=tt.map((function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this})),Ne.attr("class",$e),tt=tt.map((function(){var Q=this,te=L.Deferred(),re=L.extend({},Ue,{queue:!1,complete:function(){te.resolve(Q)}});return this.el.animate(this.diff,re),te.promise()})),L.when.apply(L,tt.get()).done((function(){re(),L.each(arguments,(function(){var Q=this.el;L.each(this.diff,(function(L){Q.css(L,"")}))})),Ue.complete.call(Ne[0])}))}))},L.fn.extend({addClass:function(Q){return function(te,re,Ne,$e){return re?L.effects.animateClass.call(this,{add:te},re,Ne,$e):Q.apply(this,arguments)}}(L.fn.addClass),removeClass:function(Q){return function(te,re,Ne,$e){return arguments.length>1?L.effects.animateClass.call(this,{remove:te},re,Ne,$e):Q.apply(this,arguments)}}(L.fn.removeClass),toggleClass:function(Q){return function(te,re,Ne,$e,Ue){return"boolean"==typeof re||void 0===re?Ne?L.effects.animateClass.call(this,re?{add:te}:{remove:te},Ne,$e,Ue):Q.apply(this,arguments):L.effects.animateClass.call(this,{toggle:te},re,Ne,$e)}}(L.fn.toggleClass),switchClass:function(Q,te,re,Ne,$e){return L.effects.animateClass.call(this,{add:te,remove:Q},re,Ne,$e)}})}(),function(){function t(Q,te,re,Ne){return L.isPlainObject(Q)&&(te=Q,Q=Q.effect),Q={effect:Q},null==te&&(te={}),L.isFunction(te)&&(Ne=te,re=null,te={}),("number"==typeof te||L.fx.speeds[te])&&(Ne=re,re=te,te={}),L.isFunction(re)&&(Ne=re,re=null),te&&L.extend(Q,te),re=re||te.duration,Q.duration=L.fx.off?0:"number"==typeof re?re:re in L.fx.speeds?L.fx.speeds[re]:L.fx.speeds._default,Q.complete=Ne||te.complete,Q}function i(Q){return!(Q&&"number"!=typeof Q&&!L.fx.speeds[Q])||"string"==typeof Q&&!L.effects.effect[Q]||!!L.isFunction(Q)||"object"==typeof Q&&!Q.effect}L.extend(L.effects,{version:"1.11.1",save:function(L,Q){for(var te=0;Q.length>te;te++)null!==Q[te]&&L.data(nt+Q[te],L[0].style[Q[te]])},restore:function(L,Q){var te,re;for(re=0;Q.length>re;re++)null!==Q[re]&&(void 0===(te=L.data(nt+Q[re]))&&(te=""),L.css(Q[re],te))},setMode:function(L,Q){return"toggle"===Q&&(Q=L.is(":hidden")?"show":"hide"),Q},getBaseline:function(L,Q){var te,re;switch(L[0]){case"top":te=0;break;case"middle":te=.5;break;case"bottom":te=1;break;default:te=L[0]/Q.height}switch(L[1]){case"left":re=0;break;case"center":re=.5;break;case"right":re=1;break;default:re=L[1]/Q.width}return{x:re,y:te}},createWrapper:function(Q){if(Q.parent().is(".ui-effects-wrapper"))return Q.parent();var te={width:Q.outerWidth(!0),height:Q.outerHeight(!0),float:Q.css("float")},re=L("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),Ne={width:Q.width(),height:Q.height()},$e=document.activeElement;try{$e.id}catch(L){$e=document.body}return Q.wrap(re),(Q[0]===$e||L.contains(Q[0],$e))&&L($e).focus(),re=Q.parent(),"static"===Q.css("position")?(re.css({position:"relative"}),Q.css({position:"relative"})):(L.extend(te,{position:Q.css("position"),zIndex:Q.css("z-index")}),L.each(["top","left","bottom","right"],(function(L,re){te[re]=Q.css(re),isNaN(parseInt(te[re],10))&&(te[re]="auto")})),Q.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),Q.css(Ne),re.css(te).show()},removeWrapper:function(Q){var te=document.activeElement;return Q.parent().is(".ui-effects-wrapper")&&(Q.parent().replaceWith(Q),(Q[0]===te||L.contains(Q[0],te))&&L(te).focus()),Q},setTransition:function(Q,te,re,Ne){return Ne=Ne||{},L.each(te,(function(L,te){var $e=Q.cssUnit(te);$e[0]>0&&(Ne[te]=$e[0]*re+$e[1])})),Ne}}),L.fn.extend({effect:function(){function i(te){function i(){L.isFunction($e)&&$e.call(re[0]),L.isFunction(te)&&te()}var re=L(this),$e=Q.complete,Ue=Q.mode;(re.is(":hidden")?"hide"===Ue:"show"===Ue)?(re[Ue](),i()):Ne.call(re[0],Q,i)}var Q=t.apply(this,arguments),te=Q.mode,re=Q.queue,Ne=L.effects.effect[Q.effect];return L.fx.off||!Ne?te?this[te](Q.duration,Q.complete):this.each((function(){Q.complete&&Q.complete.call(this)})):!1===re?this.each(i):this.queue(re||"fx",i)},show:function(L){return function(Q){if(i(Q))return L.apply(this,arguments);var te=t.apply(this,arguments);return te.mode="show",this.effect.call(this,te)}}(L.fn.show),hide:function(L){return function(Q){if(i(Q))return L.apply(this,arguments);var te=t.apply(this,arguments);return te.mode="hide",this.effect.call(this,te)}}(L.fn.hide),toggle:function(L){return function(Q){if(i(Q)||"boolean"==typeof Q)return L.apply(this,arguments);var te=t.apply(this,arguments);return te.mode="toggle",this.effect.call(this,te)}}(L.fn.toggle),cssUnit:function(Q){var te=this.css(Q),re=[];return L.each(["em","px","%","pt"],(function(L,Q){te.indexOf(Q)>0&&(re=[parseFloat(te),Q])})),re}})}(),function(){var Q={};L.each(["Quad","Cubic","Quart","Quint","Expo"],(function(L,te){Q[te]=function(Q){return Math.pow(Q,L+2)}})),L.extend(Q,{Sine:function(L){return 1-Math.cos(L*Math.PI/2)},Circ:function(L){return 1-Math.sqrt(1-L*L)},Elastic:function(L){return 0===L||1===L?L:-Math.pow(2,8*(L-1))*Math.sin((80*(L-1)-7.5)*Math.PI/15)},Back:function(L){return L*L*(3*L-2)},Bounce:function(L){for(var Q,te=4;((Q=Math.pow(2,--te))-1)/11>L;);return 1/Math.pow(4,3-te)-7.5625*Math.pow((3*Q-2)/22-L,2)}}),L.each(Q,(function(Q,te){L.easing["easeIn"+Q]=te,L.easing["easeOut"+Q]=function(L){return 1-te(1-L)},L.easing["easeInOut"+Q]=function(L){return.5>L?te(2*L)/2:1-te(-2*L+2)/2}}))}(),L.effects,L.effects.effect.blind=function(Q,te){var re,Ne,$e,Ue=L(this),tt=/up|down|vertical/,nt=/up|left|vertical|horizontal/,it=["position","top","bottom","left","right","height","width"],rt=L.effects.setMode(Ue,Q.mode||"hide"),ot=Q.direction||"up",at=tt.test(ot),dt=at?"height":"width",bt=at?"top":"left",sn=nt.test(ot),ln={},un="show"===rt;Ue.parent().is(".ui-effects-wrapper")?L.effects.save(Ue.parent(),it):L.effects.save(Ue,it),Ue.show(),Ne=(re=L.effects.createWrapper(Ue).css({overflow:"hidden"}))[dt](),$e=parseFloat(re.css(bt))||0,ln[dt]=un?Ne:0,sn||(Ue.css(at?"bottom":"right",0).css(at?"top":"left","auto").css({position:"absolute"}),ln[bt]=un?$e:Ne+$e),un&&(re.css(dt,0),sn||re.css(bt,$e+Ne)),re.animate(ln,{duration:Q.duration,easing:Q.easing,queue:!1,complete:function(){"hide"===rt&&Ue.hide(),L.effects.restore(Ue,it),L.effects.removeWrapper(Ue),te()}})},L.effects.effect.bounce=function(Q,te){var re,Ne,$e,Ue=L(this),tt=["position","top","bottom","left","right","height","width"],nt=L.effects.setMode(Ue,Q.mode||"effect"),it="hide"===nt,rt="show"===nt,ot=Q.direction||"up",at=Q.distance,dt=Q.times||5,bt=2*dt+(rt||it?1:0),sn=Q.duration/bt,ln=Q.easing,un="up"===ot||"down"===ot?"top":"left",cn="up"===ot||"left"===ot,dn=Ue.queue(),xn=dn.length;for((rt||it)&&tt.push("opacity"),L.effects.save(Ue,tt),Ue.show(),L.effects.createWrapper(Ue),at||(at=Ue["top"===un?"outerHeight":"outerWidth"]()/3),rt&&(($e={opacity:1})[un]=0,Ue.css("opacity",0).css(un,cn?2*-at:2*at).animate($e,sn,ln)),it&&(at/=Math.pow(2,dt-1)),($e={})[un]=0,re=0;dt>re;re++)(Ne={})[un]=(cn?"-=":"+=")+at,Ue.animate(Ne,sn,ln).animate($e,sn,ln),at=it?2*at:at/2;it&&((Ne={opacity:0})[un]=(cn?"-=":"+=")+at,Ue.animate(Ne,sn,ln)),Ue.queue((function(){it&&Ue.hide(),L.effects.restore(Ue,tt),L.effects.removeWrapper(Ue),te()})),xn>1&&dn.splice.apply(dn,[1,0].concat(dn.splice(xn,bt+1))),Ue.dequeue()},L.effects.effect.clip=function(Q,te){var re,Ne,$e,Ue=L(this),tt=["position","top","bottom","left","right","height","width"],nt="show"===L.effects.setMode(Ue,Q.mode||"hide"),it="vertical"===(Q.direction||"vertical"),rt=it?"height":"width",ot=it?"top":"left",at={};L.effects.save(Ue,tt),Ue.show(),re=L.effects.createWrapper(Ue).css({overflow:"hidden"}),$e=(Ne="IMG"===Ue[0].tagName?re:Ue)[rt](),nt&&(Ne.css(rt,0),Ne.css(ot,$e/2)),at[rt]=nt?$e:0,at[ot]=nt?0:$e/2,Ne.animate(at,{queue:!1,duration:Q.duration,easing:Q.easing,complete:function(){nt||Ue.hide(),L.effects.restore(Ue,tt),L.effects.removeWrapper(Ue),te()}})},L.effects.effect.drop=function(Q,te){var re,Ne=L(this),$e=["position","top","bottom","left","right","opacity","height","width"],Ue=L.effects.setMode(Ne,Q.mode||"hide"),tt="show"===Ue,nt=Q.direction||"left",it="up"===nt||"down"===nt?"top":"left",rt="up"===nt||"left"===nt?"pos":"neg",ot={opacity:tt?1:0};L.effects.save(Ne,$e),Ne.show(),L.effects.createWrapper(Ne),re=Q.distance||Ne["top"===it?"outerHeight":"outerWidth"](!0)/2,tt&&Ne.css("opacity",0).css(it,"pos"===rt?-re:re),ot[it]=(tt?"pos"===rt?"+=":"-=":"pos"===rt?"-=":"+=")+re,Ne.animate(ot,{queue:!1,duration:Q.duration,easing:Q.easing,complete:function(){"hide"===Ue&&Ne.hide(),L.effects.restore(Ne,$e),L.effects.removeWrapper(Ne),te()}})},L.effects.effect.explode=function(Q,te){function s(){ln.push(this),ln.length===it*rt&&n()}function n(){ot.css({visibility:"visible"}),L(ln).remove(),at||ot.hide(),te()}var re,Ne,$e,Ue,tt,nt,it=Q.pieces?Math.round(Math.sqrt(Q.pieces)):3,rt=it,ot=L(this),at="show"===L.effects.setMode(ot,Q.mode||"hide"),dt=ot.show().css("visibility","hidden").offset(),bt=Math.ceil(ot.outerWidth()/rt),sn=Math.ceil(ot.outerHeight()/it),ln=[];for(re=0;it>re;re++)for(Ue=dt.top+re*sn,nt=re-(it-1)/2,Ne=0;rt>Ne;Ne++)$e=dt.left+Ne*bt,tt=Ne-(rt-1)/2,ot.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-Ne*bt,top:-re*sn}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:bt,height:sn,left:$e+(at?tt*bt:0),top:Ue+(at?nt*sn:0),opacity:at?0:1}).animate({left:$e+(at?0:tt*bt),top:Ue+(at?0:nt*sn),opacity:at?1:0},Q.duration||500,Q.easing,s)},L.effects.effect.fade=function(Q,te){var re=L(this),Ne=L.effects.setMode(re,Q.mode||"toggle");re.animate({opacity:Ne},{queue:!1,duration:Q.duration,easing:Q.easing,complete:te})},L.effects.effect.fold=function(Q,te){var re,Ne,$e=L(this),Ue=["position","top","bottom","left","right","height","width"],tt=L.effects.setMode($e,Q.mode||"hide"),nt="show"===tt,it="hide"===tt,rt=Q.size||15,ot=/([0-9]+)%/.exec(rt),at=!!Q.horizFirst,dt=nt!==at,bt=dt?["width","height"]:["height","width"],sn=Q.duration/2,ln={},un={};L.effects.save($e,Ue),$e.show(),re=L.effects.createWrapper($e).css({overflow:"hidden"}),Ne=dt?[re.width(),re.height()]:[re.height(),re.width()],ot&&(rt=parseInt(ot[1],10)/100*Ne[it?0:1]),nt&&re.css(at?{height:0,width:rt}:{height:rt,width:0}),ln[bt[0]]=nt?Ne[0]:rt,un[bt[1]]=nt?Ne[1]:0,re.animate(ln,sn,Q.easing).animate(un,sn,Q.easing,(function(){it&&$e.hide(),L.effects.restore($e,Ue),L.effects.removeWrapper($e),te()}))},L.effects.effect.highlight=function(Q,te){var re=L(this),Ne=["backgroundImage","backgroundColor","opacity"],$e=L.effects.setMode(re,Q.mode||"show"),Ue={backgroundColor:re.css("backgroundColor")};"hide"===$e&&(Ue.opacity=0),L.effects.save(re,Ne),re.show().css({backgroundImage:"none",backgroundColor:Q.color||"#ffff99"}).animate(Ue,{queue:!1,duration:Q.duration,easing:Q.easing,complete:function(){"hide"===$e&&re.hide(),L.effects.restore(re,Ne),te()}})},L.effects.effect.size=function(Q,te){var re,Ne,$e,Ue=L(this),tt=["position","top","bottom","left","right","width","height","overflow","opacity"],nt=["position","top","bottom","left","right","overflow","opacity"],it=["width","height","overflow"],rt=["fontSize"],ot=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],at=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],dt=L.effects.setMode(Ue,Q.mode||"effect"),bt=Q.restore||"effect"!==dt,sn=Q.scale||"both",ln=Q.origin||["middle","center"],un=Ue.css("position"),cn=bt?tt:nt,dn={height:0,width:0,outerHeight:0,outerWidth:0};"show"===dt&&Ue.show(),re={height:Ue.height(),width:Ue.width(),outerHeight:Ue.outerHeight(),outerWidth:Ue.outerWidth()},"toggle"===Q.mode&&"show"===dt?(Ue.from=Q.to||dn,Ue.to=Q.from||re):(Ue.from=Q.from||("show"===dt?dn:re),Ue.to=Q.to||("hide"===dt?dn:re)),$e={from:{y:Ue.from.height/re.height,x:Ue.from.width/re.width},to:{y:Ue.to.height/re.height,x:Ue.to.width/re.width}},("box"===sn||"both"===sn)&&($e.from.y!==$e.to.y&&(cn=cn.concat(ot),Ue.from=L.effects.setTransition(Ue,ot,$e.from.y,Ue.from),Ue.to=L.effects.setTransition(Ue,ot,$e.to.y,Ue.to)),$e.from.x!==$e.to.x&&(cn=cn.concat(at),Ue.from=L.effects.setTransition(Ue,at,$e.from.x,Ue.from),Ue.to=L.effects.setTransition(Ue,at,$e.to.x,Ue.to))),("content"===sn||"both"===sn)&&$e.from.y!==$e.to.y&&(cn=cn.concat(rt).concat(it),Ue.from=L.effects.setTransition(Ue,rt,$e.from.y,Ue.from),Ue.to=L.effects.setTransition(Ue,rt,$e.to.y,Ue.to)),L.effects.save(Ue,cn),Ue.show(),L.effects.createWrapper(Ue),Ue.css("overflow","hidden").css(Ue.from),ln&&(Ne=L.effects.getBaseline(ln,re),Ue.from.top=(re.outerHeight-Ue.outerHeight())*Ne.y,Ue.from.left=(re.outerWidth-Ue.outerWidth())*Ne.x,Ue.to.top=(re.outerHeight-Ue.to.outerHeight)*Ne.y,Ue.to.left=(re.outerWidth-Ue.to.outerWidth)*Ne.x),Ue.css(Ue.from),("content"===sn||"both"===sn)&&(ot=ot.concat(["marginTop","marginBottom"]).concat(rt),at=at.concat(["marginLeft","marginRight"]),it=tt.concat(ot).concat(at),Ue.find("*[width]").each((function(){var te=L(this),re={height:te.height(),width:te.width(),outerHeight:te.outerHeight(),outerWidth:te.outerWidth()};bt&&L.effects.save(te,it),te.from={height:re.height*$e.from.y,width:re.width*$e.from.x,outerHeight:re.outerHeight*$e.from.y,outerWidth:re.outerWidth*$e.from.x},te.to={height:re.height*$e.to.y,width:re.width*$e.to.x,outerHeight:re.height*$e.to.y,outerWidth:re.width*$e.to.x},$e.from.y!==$e.to.y&&(te.from=L.effects.setTransition(te,ot,$e.from.y,te.from),te.to=L.effects.setTransition(te,ot,$e.to.y,te.to)),$e.from.x!==$e.to.x&&(te.from=L.effects.setTransition(te,at,$e.from.x,te.from),te.to=L.effects.setTransition(te,at,$e.to.x,te.to)),te.css(te.from),te.animate(te.to,Q.duration,Q.easing,(function(){bt&&L.effects.restore(te,it)}))}))),Ue.animate(Ue.to,{queue:!1,duration:Q.duration,easing:Q.easing,complete:function(){0===Ue.to.opacity&&Ue.css("opacity",Ue.from.opacity),"hide"===dt&&Ue.hide(),L.effects.restore(Ue,cn),bt||("static"===un?Ue.css({position:"relative",top:Ue.to.top,left:Ue.to.left}):L.each(["top","left"],(function(L,Q){Ue.css(Q,(function(Q,te){var re=parseInt(te,10),Ne=L?Ue.to.left:Ue.to.top;return"auto"===te?Ne+"px":re+Ne+"px"}))}))),L.effects.removeWrapper(Ue),te()}})},L.effects.effect.scale=function(Q,te){var re=L(this),Ne=L.extend(!0,{},Q),$e=L.effects.setMode(re,Q.mode||"effect"),Ue=parseInt(Q.percent,10)||(0===parseInt(Q.percent,10)||"hide"===$e?0:100),tt=Q.direction||"both",nt=Q.origin,it={height:re.height(),width:re.width(),outerHeight:re.outerHeight(),outerWidth:re.outerWidth()},rt={y:"horizontal"!==tt?Ue/100:1,x:"vertical"!==tt?Ue/100:1};Ne.effect="size",Ne.queue=!1,Ne.complete=te,"effect"!==$e&&(Ne.origin=nt||["middle","center"],Ne.restore=!0),Ne.from=Q.from||("show"===$e?{height:0,width:0,outerHeight:0,outerWidth:0}:it),Ne.to={height:it.height*rt.y,width:it.width*rt.x,outerHeight:it.outerHeight*rt.y,outerWidth:it.outerWidth*rt.x},Ne.fade&&("show"===$e&&(Ne.from.opacity=0,Ne.to.opacity=1),"hide"===$e&&(Ne.from.opacity=1,Ne.to.opacity=0)),re.effect(Ne)},L.effects.effect.puff=function(Q,te){var re=L(this),Ne=L.effects.setMode(re,Q.mode||"hide"),$e="hide"===Ne,Ue=parseInt(Q.percent,10)||150,tt=Ue/100,nt={height:re.height(),width:re.width(),outerHeight:re.outerHeight(),outerWidth:re.outerWidth()};L.extend(Q,{effect:"scale",queue:!1,fade:!0,mode:Ne,complete:te,percent:$e?Ue:100,from:$e?nt:{height:nt.height*tt,width:nt.width*tt,outerHeight:nt.outerHeight*tt,outerWidth:nt.outerWidth*tt}}),re.effect(Q)},L.effects.effect.pulsate=function(Q,te){var re,Ne=L(this),$e=L.effects.setMode(Ne,Q.mode||"show"),Ue="show"===$e,tt="hide"===$e,nt=Ue||"hide"===$e,it=2*(Q.times||5)+(nt?1:0),rt=Q.duration/it,ot=0,at=Ne.queue(),dt=at.length;for((Ue||!Ne.is(":visible"))&&(Ne.css("opacity",0).show(),ot=1),re=1;it>re;re++)Ne.animate({opacity:ot},rt,Q.easing),ot=1-ot;Ne.animate({opacity:ot},rt,Q.easing),Ne.queue((function(){tt&&Ne.hide(),te()})),dt>1&&at.splice.apply(at,[1,0].concat(at.splice(dt,it+1))),Ne.dequeue()},L.effects.effect.shake=function(Q,te){var re,Ne=L(this),$e=["position","top","bottom","left","right","height","width"],Ue=L.effects.setMode(Ne,Q.mode||"effect"),tt=Q.direction||"left",nt=Q.distance||20,it=Q.times||3,rt=2*it+1,ot=Math.round(Q.duration/rt),at="up"===tt||"down"===tt?"top":"left",dt="up"===tt||"left"===tt,bt={},sn={},ln={},un=Ne.queue(),cn=un.length;for(L.effects.save(Ne,$e),Ne.show(),L.effects.createWrapper(Ne),bt[at]=(dt?"-=":"+=")+nt,sn[at]=(dt?"+=":"-=")+2*nt,ln[at]=(dt?"-=":"+=")+2*nt,Ne.animate(bt,ot,Q.easing),re=1;it>re;re++)Ne.animate(sn,ot,Q.easing).animate(ln,ot,Q.easing);Ne.animate(sn,ot,Q.easing).animate(bt,ot/2,Q.easing).queue((function(){"hide"===Ue&&Ne.hide(),L.effects.restore(Ne,$e),L.effects.removeWrapper(Ne),te()})),cn>1&&un.splice.apply(un,[1,0].concat(un.splice(cn,rt+1))),Ne.dequeue()},L.effects.effect.slide=function(Q,te){var re,Ne=L(this),$e=["position","top","bottom","left","right","width","height"],Ue=L.effects.setMode(Ne,Q.mode||"show"),tt="show"===Ue,nt=Q.direction||"left",it="up"===nt||"down"===nt?"top":"left",rt="up"===nt||"left"===nt,ot={};L.effects.save(Ne,$e),Ne.show(),re=Q.distance||Ne["top"===it?"outerHeight":"outerWidth"](!0),L.effects.createWrapper(Ne).css({overflow:"hidden"}),tt&&Ne.css(it,rt?isNaN(re)?"-"+re:-re:re),ot[it]=(tt?rt?"+=":"-=":rt?"-=":"+=")+re,Ne.animate(ot,{queue:!1,duration:Q.duration,easing:Q.easing,complete:function(){"hide"===Ue&&Ne.hide(),L.effects.restore(Ne,$e),L.effects.removeWrapper(Ne),te()}})},L.effects.effect.transfer=function(Q,te){var re=L(this),Ne=L(Q.to),$e="fixed"===Ne.css("position"),Ue=L("body"),tt=$e?Ue.scrollTop():0,nt=$e?Ue.scrollLeft():0,it=Ne.offset(),rt={top:it.top-tt,left:it.left-nt,height:Ne.innerHeight(),width:Ne.innerWidth()},ot=re.offset(),at=L("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(Q.className).css({top:ot.top-tt,left:ot.left-nt,height:re.innerHeight(),width:re.innerWidth(),position:$e?"fixed":"absolute"}).animate(rt,Q.duration,Q.easing,(function(){at.remove(),te()}))},L.widget("ui.progressbar",{version:"1.11.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=L("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(L){return void 0===L?this.options.value:(this.options.value=this._constrainedValue(L),void this._refreshValue())},_constrainedValue:function(L){return void 0===L&&(L=this.options.value),this.indeterminate=!1===L,"number"!=typeof L&&(L=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,L))},_setOptions:function(L){var Q=L.value;delete L.value,this._super(L),this.options.value=this._constrainedValue(Q),this._refreshValue()},_setOption:function(L,Q){"max"===L&&(Q=Math.max(this.min,Q)),"disabled"===L&&this.element.toggleClass("ui-state-disabled",!!Q).attr("aria-disabled",Q),this._super(L,Q)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var Q=this.options.value,te=this._percentage();this.valueDiv.toggle(this.indeterminate||Q>this.min).toggleClass("ui-corner-right",Q===this.options.max).width(te.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=L("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":Q}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==Q&&(this.oldValue=Q,this._trigger("change")),Q===this.options.max&&this._trigger("complete")}}),L.widget("ui.selectable",L.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var Q,te=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(Q=L(te.options.filter,te.element[0])).addClass("ui-selectee"),Q.each((function(){var Q=L(this),te=Q.offset();L.data(this,"selectable-item",{element:this,$element:Q,left:te.left,top:te.top,right:te.left+Q.outerWidth(),bottom:te.top+Q.outerHeight(),startselected:!1,selected:Q.hasClass("ui-selected"),selecting:Q.hasClass("ui-selecting"),unselecting:Q.hasClass("ui-unselecting")})}))},this.refresh(),this.selectees=Q.addClass("ui-selectee"),this._mouseInit(),this.helper=L("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(Q){var te=this,re=this.options;this.opos=[Q.pageX,Q.pageY],this.options.disabled||(this.selectees=L(re.filter,this.element[0]),this._trigger("start",Q),L(re.appendTo).append(this.helper),this.helper.css({left:Q.pageX,top:Q.pageY,width:0,height:0}),re.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var re=L.data(this,"selectable-item");re.startselected=!0,Q.metaKey||Q.ctrlKey||(re.$element.removeClass("ui-selected"),re.selected=!1,re.$element.addClass("ui-unselecting"),re.unselecting=!0,te._trigger("unselecting",Q,{unselecting:re.element}))})),L(Q.target).parents().addBack().each((function(){var re,Ne=L.data(this,"selectable-item");return Ne?(re=!Q.metaKey&&!Q.ctrlKey||!Ne.$element.hasClass("ui-selected"),Ne.$element.removeClass(re?"ui-unselecting":"ui-selected").addClass(re?"ui-selecting":"ui-unselecting"),Ne.unselecting=!re,Ne.selecting=re,Ne.selected=re,re?te._trigger("selecting",Q,{selecting:Ne.element}):te._trigger("unselecting",Q,{unselecting:Ne.element}),!1):void 0})))},_mouseDrag:function(Q){if(this.dragged=!0,!this.options.disabled){var te,re=this,Ne=this.options,$e=this.opos[0],Ue=this.opos[1],tt=Q.pageX,nt=Q.pageY;return $e>tt&&(te=tt,tt=$e,$e=te),Ue>nt&&(te=nt,nt=Ue,Ue=te),this.helper.css({left:$e,top:Ue,width:tt-$e,height:nt-Ue}),this.selectees.each((function(){var te=L.data(this,"selectable-item"),it=!1;te&&te.element!==re.element[0]&&("touch"===Ne.tolerance?it=!(te.left>tt||$e>te.right||te.top>nt||Ue>te.bottom):"fit"===Ne.tolerance&&(it=te.left>$e&&tt>te.right&&te.top>Ue&&nt>te.bottom),it?(te.selected&&(te.$element.removeClass("ui-selected"),te.selected=!1),te.unselecting&&(te.$element.removeClass("ui-unselecting"),te.unselecting=!1),te.selecting||(te.$element.addClass("ui-selecting"),te.selecting=!0,re._trigger("selecting",Q,{selecting:te.element}))):(te.selecting&&((Q.metaKey||Q.ctrlKey)&&te.startselected?(te.$element.removeClass("ui-selecting"),te.selecting=!1,te.$element.addClass("ui-selected"),te.selected=!0):(te.$element.removeClass("ui-selecting"),te.selecting=!1,te.startselected&&(te.$element.addClass("ui-unselecting"),te.unselecting=!0),re._trigger("unselecting",Q,{unselecting:te.element}))),te.selected&&(Q.metaKey||Q.ctrlKey||te.startselected||(te.$element.removeClass("ui-selected"),te.selected=!1,te.$element.addClass("ui-unselecting"),te.unselecting=!0,re._trigger("unselecting",Q,{unselecting:te.element})))))})),!1}},_mouseStop:function(Q){var te=this;return this.dragged=!1,L(".ui-unselecting",this.element[0]).each((function(){var re=L.data(this,"selectable-item");re.$element.removeClass("ui-unselecting"),re.unselecting=!1,re.startselected=!1,te._trigger("unselected",Q,{unselected:re.element})})),L(".ui-selecting",this.element[0]).each((function(){var re=L.data(this,"selectable-item");re.$element.removeClass("ui-selecting").addClass("ui-selected"),re.selecting=!1,re.selected=!0,re.startselected=!0,te._trigger("selected",Q,{selected:re.element})})),this._trigger("stop",Q),this.helper.remove(),!1}}),L.widget("ui.selectmenu",{version:"1.11.1",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var L=this.element.uniqueId().attr("id");this.ids={element:L,button:L+"-button",menu:L+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var Q=this,te=this.element.attr("tabindex");this.label=L("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(L){this.button.focus(),L.preventDefault()}}),this.element.hide(),this.button=L("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:te||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),L("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=L("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",(function(){Q.menuItems||Q._refreshMenu()})),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var Q=this;this.menu=L("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=L("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(L,te){L.preventDefault(),Q._select(te.item.data("ui-selectmenu-item"),L)},focus:function(L,te){var re=te.item.data("ui-selectmenu-item");null!=Q.focusIndex&&re.index!==Q.focusIndex&&(Q._trigger("focus",L,{item:re}),Q.isOpen||Q._select(re,L)),Q.focusIndex=re.index,Q.button.attr("aria-activedescendant",Q.menuItems.eq(re.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var L,Q=this.element.find("option");Q.length&&(this._parseOptions(Q),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),L=this._getSelectedItem(),this.menuInstance.focus(null,L),this._setAria(L.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(L){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",L))},_position:function(){this.menuWrap.position(L.extend({of:this.button},this.options.position))},close:function(L){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",L))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(Q,te){var re=this,Ne="";L.each(te,(function(te,$e){$e.optgroup!==Ne&&(L("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+($e.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:$e.optgroup}).appendTo(Q),Ne=$e.optgroup),re._renderItemData(Q,$e)}))},_renderItemData:function(L,Q){return this._renderItem(L,Q).data("ui-selectmenu-item",Q)},_renderItem:function(Q,te){var re=L("<li>");return te.disabled&&re.addClass("ui-state-disabled"),this._setText(re,te.label),re.appendTo(Q)},_setText:function(L,Q){Q?L.text(Q):L.html("&#160;")},_move:function(L,Q){var te,re,Ne=".ui-menu-item";this.isOpen?te=this.menuItems.eq(this.focusIndex):(te=this.menuItems.eq(this.element[0].selectedIndex),Ne+=":not(.ui-state-disabled)"),(re="first"===L||"last"===L?te["first"===L?"prevAll":"nextAll"](Ne).eq(-1):te[L+"All"](Ne).eq(0)).length&&this.menuInstance.focus(Q,re)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(L){this[this.isOpen?"close":"open"](L)},_documentClick:{mousedown:function(Q){this.isOpen&&(L(Q.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(Q))}},_buttonEvents:{mousedown:function(L){L.preventDefault()},click:"_toggle",keydown:function(Q){var te=!0;switch(Q.keyCode){case L.ui.keyCode.TAB:case L.ui.keyCode.ESCAPE:this.close(Q),te=!1;break;case L.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(Q);break;case L.ui.keyCode.UP:Q.altKey?this._toggle(Q):this._move("prev",Q);break;case L.ui.keyCode.DOWN:Q.altKey?this._toggle(Q):this._move("next",Q);break;case L.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(Q):this._toggle(Q);break;case L.ui.keyCode.LEFT:this._move("prev",Q);break;case L.ui.keyCode.RIGHT:this._move("next",Q);break;case L.ui.keyCode.HOME:case L.ui.keyCode.PAGE_UP:this._move("first",Q);break;case L.ui.keyCode.END:case L.ui.keyCode.PAGE_DOWN:this._move("last",Q);break;default:this.menu.trigger(Q),te=!1}te&&Q.preventDefault()}},_selectFocusedItem:function(L){var Q=this.menuItems.eq(this.focusIndex);Q.hasClass("ui-state-disabled")||this._select(Q.data("ui-selectmenu-item"),L)},_select:function(L,Q){var te=this.element[0].selectedIndex;this.element[0].selectedIndex=L.index,this._setText(this.buttonText,L.label),this._setAria(L),this._trigger("select",Q,{item:L}),L.index!==te&&this._trigger("change",Q,{item:L}),this.close(Q)},_setAria:function(L){var Q=this.menuItems.eq(L.index).attr("id");this.button.attr({"aria-labelledby":Q,"aria-activedescendant":Q}),this.menu.attr("aria-activedescendant",Q)},_setOption:function(L,Q){"icons"===L&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(Q.button),this._super(L,Q),"appendTo"===L&&this.menuWrap.appendTo(this._appendTo()),"disabled"===L&&(this.menuInstance.option("disabled",Q),this.button.toggleClass("ui-state-disabled",Q).attr("aria-disabled",Q),this.element.prop("disabled",Q),Q?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===L&&this._resizeButton()},_appendTo:function(){var Q=this.options.appendTo;return Q&&(Q=Q.jquery||Q.nodeType?L(Q):this.document.find(Q).eq(0)),Q&&Q[0]||(Q=this.element.closest(".ui-front")),Q.length||(Q=this.document[0].body),Q},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var L=this.options.width;L||(L=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(L)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(Q){var te=[];Q.each((function(Q,re){var Ne=L(re),$e=Ne.parent("optgroup");te.push({element:Ne,index:Q,value:Ne.attr("value"),label:Ne.text(),optgroup:$e.attr("label")||"",disabled:$e.prop("disabled")||Ne.prop("disabled")})})),this.items=te},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),L.widget("ui.slider",L.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var Q,te,re=this.options,Ne=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),$e="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",Ue=[];for(te=re.values&&re.values.length||1,Ne.length>te&&(Ne.slice(te).remove(),Ne=Ne.slice(0,te)),Q=Ne.length;te>Q;Q++)Ue.push($e);this.handles=Ne.add(L(Ue.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each((function(Q){L(this).data("ui-slider-handle-index",Q)}))},_createRange:function(){var Q=this.options,te="";Q.range?(!0===Q.range&&(Q.values?Q.values.length&&2!==Q.values.length?Q.values=[Q.values[0],Q.values[0]]:L.isArray(Q.values)&&(Q.values=Q.values.slice(0)):Q.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=L("<div></div>").appendTo(this.element),te="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(te+("min"===Q.range||"max"===Q.range?" ui-slider-range-"+Q.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(Q){var te,re,Ne,$e,Ue,tt,nt,it=this,rt=this.options;return!rt.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),te={x:Q.pageX,y:Q.pageY},re=this._normValueFromMouse(te),Ne=this._valueMax()-this._valueMin()+1,this.handles.each((function(Q){var te=Math.abs(re-it.values(Q));(Ne>te||Ne===te&&(Q===it._lastChangedValue||it.values(Q)===rt.min))&&(Ne=te,$e=L(this),Ue=Q)})),!1!==this._start(Q,Ue)&&(this._mouseSliding=!0,this._handleIndex=Ue,$e.addClass("ui-state-active").focus(),tt=$e.offset(),nt=!L(Q.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=nt?{left:0,top:0}:{left:Q.pageX-tt.left-$e.width()/2,top:Q.pageY-tt.top-$e.height()/2-(parseInt($e.css("borderTopWidth"),10)||0)-(parseInt($e.css("borderBottomWidth"),10)||0)+(parseInt($e.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(Q,Ue,re),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(L){var Q={x:L.pageX,y:L.pageY},te=this._normValueFromMouse(Q);return this._slide(L,this._handleIndex,te),!1},_mouseStop:function(L){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(L,this._handleIndex),this._change(L,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(L){var Q,te,re,Ne,$e;return"horizontal"===this.orientation?(Q=this.elementSize.width,te=L.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(Q=this.elementSize.height,te=L.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(re=te/Q)>1&&(re=1),0>re&&(re=0),"vertical"===this.orientation&&(re=1-re),Ne=this._valueMax()-this._valueMin(),$e=this._valueMin()+re*Ne,this._trimAlignValue($e)},_start:function(L,Q){var te={handle:this.handles[Q],value:this.value()};return this.options.values&&this.options.values.length&&(te.value=this.values(Q),te.values=this.values()),this._trigger("start",L,te)},_slide:function(L,Q,te){var re,Ne,$e;this.options.values&&this.options.values.length?(re=this.values(Q?0:1),2===this.options.values.length&&!0===this.options.range&&(0===Q&&te>re||1===Q&&re>te)&&(te=re),te!==this.values(Q)&&((Ne=this.values())[Q]=te,$e=this._trigger("slide",L,{handle:this.handles[Q],value:te,values:Ne}),re=this.values(Q?0:1),!1!==$e&&this.values(Q,te))):te!==this.value()&&!1!==($e=this._trigger("slide",L,{handle:this.handles[Q],value:te}))&&this.value(te)},_stop:function(L,Q){var te={handle:this.handles[Q],value:this.value()};this.options.values&&this.options.values.length&&(te.value=this.values(Q),te.values=this.values()),this._trigger("stop",L,te)},_change:function(L,Q){if(!this._keySliding&&!this._mouseSliding){var te={handle:this.handles[Q],value:this.value()};this.options.values&&this.options.values.length&&(te.value=this.values(Q),te.values=this.values()),this._lastChangedValue=Q,this._trigger("change",L,te)}},value:function(L){return arguments.length?(this.options.value=this._trimAlignValue(L),this._refreshValue(),void this._change(null,0)):this._value()},values:function(Q,te){var re,Ne,$e;if(arguments.length>1)return this.options.values[Q]=this._trimAlignValue(te),this._refreshValue(),void this._change(null,Q);if(!arguments.length)return this._values();if(!L.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(Q):this.value();for(re=this.options.values,Ne=arguments[0],$e=0;re.length>$e;$e+=1)re[$e]=this._trimAlignValue(Ne[$e]),this._change(null,$e);this._refreshValue()},_setOption:function(Q,te){var re,Ne=0;switch("range"===Q&&!0===this.options.range&&("min"===te?(this.options.value=this._values(0),this.options.values=null):"max"===te&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),L.isArray(this.options.values)&&(Ne=this.options.values.length),"disabled"===Q&&this.element.toggleClass("ui-state-disabled",!!te),this._super(Q,te),Q){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===te?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),re=0;Ne>re;re+=1)this._change(null,re);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var L=this.options.value;return this._trimAlignValue(L)},_values:function(L){var Q,te,re;if(arguments.length)return Q=this.options.values[L],this._trimAlignValue(Q);if(this.options.values&&this.options.values.length){for(te=this.options.values.slice(),re=0;te.length>re;re+=1)te[re]=this._trimAlignValue(te[re]);return te}return[]},_trimAlignValue:function(L){if(this._valueMin()>=L)return this._valueMin();if(L>=this._valueMax())return this._valueMax();var Q=this.options.step>0?this.options.step:1,te=(L-this._valueMin())%Q,re=L-te;return 2*Math.abs(te)>=Q&&(re+=te>0?Q:-Q),parseFloat(re.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var Q,te,re,Ne,$e,Ue=this.options.range,tt=this.options,nt=this,it=!this._animateOff&&tt.animate,rt={};this.options.values&&this.options.values.length?this.handles.each((function(re){te=(nt.values(re)-nt._valueMin())/(nt._valueMax()-nt._valueMin())*100,rt["horizontal"===nt.orientation?"left":"bottom"]=te+"%",L(this).stop(1,1)[it?"animate":"css"](rt,tt.animate),!0===nt.options.range&&("horizontal"===nt.orientation?(0===re&&nt.range.stop(1,1)[it?"animate":"css"]({left:te+"%"},tt.animate),1===re&&nt.range[it?"animate":"css"]({width:te-Q+"%"},{queue:!1,duration:tt.animate})):(0===re&&nt.range.stop(1,1)[it?"animate":"css"]({bottom:te+"%"},tt.animate),1===re&&nt.range[it?"animate":"css"]({height:te-Q+"%"},{queue:!1,duration:tt.animate}))),Q=te})):(re=this.value(),Ne=this._valueMin(),$e=this._valueMax(),te=$e!==Ne?(re-Ne)/($e-Ne)*100:0,rt["horizontal"===this.orientation?"left":"bottom"]=te+"%",this.handle.stop(1,1)[it?"animate":"css"](rt,tt.animate),"min"===Ue&&"horizontal"===this.orientation&&this.range.stop(1,1)[it?"animate":"css"]({width:te+"%"},tt.animate),"max"===Ue&&"horizontal"===this.orientation&&this.range[it?"animate":"css"]({width:100-te+"%"},{queue:!1,duration:tt.animate}),"min"===Ue&&"vertical"===this.orientation&&this.range.stop(1,1)[it?"animate":"css"]({height:te+"%"},tt.animate),"max"===Ue&&"vertical"===this.orientation&&this.range[it?"animate":"css"]({height:100-te+"%"},{queue:!1,duration:tt.animate}))},_handleEvents:{keydown:function(Q){var te,re,Ne,$e=L(Q.target).data("ui-slider-handle-index");switch(Q.keyCode){case L.ui.keyCode.HOME:case L.ui.keyCode.END:case L.ui.keyCode.PAGE_UP:case L.ui.keyCode.PAGE_DOWN:case L.ui.keyCode.UP:case L.ui.keyCode.RIGHT:case L.ui.keyCode.DOWN:case L.ui.keyCode.LEFT:if(Q.preventDefault(),!this._keySliding&&(this._keySliding=!0,L(Q.target).addClass("ui-state-active"),!1===this._start(Q,$e)))return}switch(Ne=this.options.step,te=re=this.options.values&&this.options.values.length?this.values($e):this.value(),Q.keyCode){case L.ui.keyCode.HOME:re=this._valueMin();break;case L.ui.keyCode.END:re=this._valueMax();break;case L.ui.keyCode.PAGE_UP:re=this._trimAlignValue(te+(this._valueMax()-this._valueMin())/this.numPages);break;case L.ui.keyCode.PAGE_DOWN:re=this._trimAlignValue(te-(this._valueMax()-this._valueMin())/this.numPages);break;case L.ui.keyCode.UP:case L.ui.keyCode.RIGHT:if(te===this._valueMax())return;re=this._trimAlignValue(te+Ne);break;case L.ui.keyCode.DOWN:case L.ui.keyCode.LEFT:if(te===this._valueMin())return;re=this._trimAlignValue(te-Ne)}this._slide(Q,$e,re)},keyup:function(Q){var te=L(Q.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(Q,te),this._change(Q,te),L(Q.target).removeClass("ui-state-active"))}}}),L.widget("ui.sortable",L.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(L,Q,te){return L>=Q&&Q+te>L},_isFloating:function(L){return/left|right/.test(L.css("float"))||/inline|table-cell/.test(L.css("display"))},_create:function(){var L=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===L.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(L,Q){this._super(L,Q),"handle"===L&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),L.each(this.items,(function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")}))},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var L=this.items.length-1;L>=0;L--)this.items[L].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(Q,te){var re=null,Ne=!1,$e=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(Q),L(Q.target).parents().each((function(){return L.data(this,$e.widgetName+"-item")===$e?(re=L(this),!1):void 0})),L.data(Q.target,$e.widgetName+"-item")===$e&&(re=L(Q.target)),!re||this.options.handle&&!te&&(L(this.options.handle,re).find("*").addBack().each((function(){this===Q.target&&(Ne=!0)})),!Ne)||(this.currentItem=re,this._removeCurrentsFromItems(),0)))},_mouseStart:function(Q,te,re){var Ne,$e,Ue=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(Q),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},L.extend(this.offset,{click:{left:Q.pageX-this.offset.left,top:Q.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(Q),this.originalPageX=Q.pageX,this.originalPageY=Q.pageY,Ue.cursorAt&&this._adjustOffsetFromHelper(Ue.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),Ue.containment&&this._setContainment(),Ue.cursor&&"auto"!==Ue.cursor&&($e=this.document.find("body"),this.storedCursor=$e.css("cursor"),$e.css("cursor",Ue.cursor),this.storedStylesheet=L("<style>*{ cursor: "+Ue.cursor+" !important; }</style>").appendTo($e)),Ue.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",Ue.opacity)),Ue.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",Ue.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",Q,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!re)for(Ne=this.containers.length-1;Ne>=0;Ne--)this.containers[Ne]._trigger("activate",Q,this._uiHash(this));return L.ui.ddmanager&&(L.ui.ddmanager.current=this),L.ui.ddmanager&&!Ue.dropBehaviour&&L.ui.ddmanager.prepareOffsets(this,Q),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(Q),!0},_mouseDrag:function(Q){var te,re,Ne,$e,Ue=this.options,tt=!1;for(this.position=this._generatePosition(Q),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-Q.pageY<Ue.scrollSensitivity?this.scrollParent[0].scrollTop=tt=this.scrollParent[0].scrollTop+Ue.scrollSpeed:Q.pageY-this.overflowOffset.top<Ue.scrollSensitivity&&(this.scrollParent[0].scrollTop=tt=this.scrollParent[0].scrollTop-Ue.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-Q.pageX<Ue.scrollSensitivity?this.scrollParent[0].scrollLeft=tt=this.scrollParent[0].scrollLeft+Ue.scrollSpeed:Q.pageX-this.overflowOffset.left<Ue.scrollSensitivity&&(this.scrollParent[0].scrollLeft=tt=this.scrollParent[0].scrollLeft-Ue.scrollSpeed)):(Q.pageY-L(document).scrollTop()<Ue.scrollSensitivity?tt=L(document).scrollTop(L(document).scrollTop()-Ue.scrollSpeed):L(window).height()-(Q.pageY-L(document).scrollTop())<Ue.scrollSensitivity&&(tt=L(document).scrollTop(L(document).scrollTop()+Ue.scrollSpeed)),Q.pageX-L(document).scrollLeft()<Ue.scrollSensitivity?tt=L(document).scrollLeft(L(document).scrollLeft()-Ue.scrollSpeed):L(window).width()-(Q.pageX-L(document).scrollLeft())<Ue.scrollSensitivity&&(tt=L(document).scrollLeft(L(document).scrollLeft()+Ue.scrollSpeed))),!1!==tt&&L.ui.ddmanager&&!Ue.dropBehaviour&&L.ui.ddmanager.prepareOffsets(this,Q)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),te=this.items.length-1;te>=0;te--)if(Ne=(re=this.items[te]).item[0],($e=this._intersectsWithPointer(re))&&re.instance===this.currentContainer&&Ne!==this.currentItem[0]&&this.placeholder[1===$e?"next":"prev"]()[0]!==Ne&&!L.contains(this.placeholder[0],Ne)&&("semi-dynamic"!==this.options.type||!L.contains(this.element[0],Ne))){if(this.direction=1===$e?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(re))break;this._rearrange(Q,re),this._trigger("change",Q,this._uiHash());break}return this._contactContainers(Q),L.ui.ddmanager&&L.ui.ddmanager.drag(this,Q),this._trigger("sort",Q,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(Q,te){if(Q){if(L.ui.ddmanager&&!this.options.dropBehaviour&&L.ui.ddmanager.drop(this,Q),this.options.revert){var re=this,Ne=this.placeholder.offset(),$e=this.options.axis,Ue={};$e&&"x"!==$e||(Ue.left=Ne.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),$e&&"y"!==$e||(Ue.top=Ne.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,L(this.helper).animate(Ue,parseInt(this.options.revert,10)||500,(function(){re._clear(Q)}))}else this._clear(Q,te);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var Q=this.containers.length-1;Q>=0;Q--)this.containers[Q]._trigger("deactivate",null,this._uiHash(this)),this.containers[Q].containerCache.over&&(this.containers[Q]._trigger("out",null,this._uiHash(this)),this.containers[Q].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),L.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?L(this.domPosition.prev).after(this.currentItem):L(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(Q){var te=this._getItemsAsjQuery(Q&&Q.connected),re=[];return Q=Q||{},L(te).each((function(){var te=(L(Q.item||this).attr(Q.attribute||"id")||"").match(Q.expression||/(.+)[\-=_](.+)/);te&&re.push((Q.key||te[1]+"[]")+"="+(Q.key&&Q.expression?te[1]:te[2]))})),!re.length&&Q.key&&re.push(Q.key+"="),re.join("&")},toArray:function(Q){var te=this._getItemsAsjQuery(Q&&Q.connected),re=[];return Q=Q||{},te.each((function(){re.push(L(Q.item||this).attr(Q.attribute||"id")||"")})),re},_intersectsWith:function(L){var Q=this.positionAbs.left,te=Q+this.helperProportions.width,re=this.positionAbs.top,Ne=re+this.helperProportions.height,$e=L.left,Ue=$e+L.width,tt=L.top,nt=tt+L.height,it=this.offset.click.top,rt=this.offset.click.left,ot="x"===this.options.axis||re+it>tt&&nt>re+it,at="y"===this.options.axis||Q+rt>$e&&Ue>Q+rt,dt=ot&&at;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>L[this.floating?"width":"height"]?dt:Q+this.helperProportions.width/2>$e&&Ue>te-this.helperProportions.width/2&&re+this.helperProportions.height/2>tt&&nt>Ne-this.helperProportions.height/2},_intersectsWithPointer:function(L){var Q="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,L.top,L.height),te="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,L.left,L.width),re=Q&&te,Ne=this._getDragVerticalDirection(),$e=this._getDragHorizontalDirection();return!!re&&(this.floating?$e&&"right"===$e||"down"===Ne?2:1:Ne&&("down"===Ne?2:1))},_intersectsWithSides:function(L){var Q=this._isOverAxis(this.positionAbs.top+this.offset.click.top,L.top+L.height/2,L.height),te=this._isOverAxis(this.positionAbs.left+this.offset.click.left,L.left+L.width/2,L.width),re=this._getDragVerticalDirection(),Ne=this._getDragHorizontalDirection();return this.floating&&Ne?"right"===Ne&&te||"left"===Ne&&!te:re&&("down"===re&&Q||"up"===re&&!Q)},_getDragVerticalDirection:function(){var L=this.positionAbs.top-this.lastPositionAbs.top;return 0!==L&&(L>0?"down":"up")},_getDragHorizontalDirection:function(){var L=this.positionAbs.left-this.lastPositionAbs.left;return 0!==L&&(L>0?"right":"left")},refresh:function(L){return this._refreshItems(L),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var L=this.options;return L.connectWith.constructor===String?[L.connectWith]:L.connectWith},_getItemsAsjQuery:function(Q){function i(){Ue.push(this)}var te,re,Ne,$e,Ue=[],tt=[],nt=this._connectWith();if(nt&&Q)for(te=nt.length-1;te>=0;te--)for(re=(Ne=L(nt[te])).length-1;re>=0;re--)($e=L.data(Ne[re],this.widgetFullName))&&$e!==this&&!$e.options.disabled&&tt.push([L.isFunction($e.options.items)?$e.options.items.call($e.element):L($e.options.items,$e.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),$e]);for(tt.push([L.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):L(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),te=tt.length-1;te>=0;te--)tt[te][0].each(i);return L(Ue)},_removeCurrentsFromItems:function(){var Q=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=L.grep(this.items,(function(L){for(var te=0;Q.length>te;te++)if(Q[te]===L.item[0])return!1;return!0}))},_refreshItems:function(Q){this.items=[],this.containers=[this];var te,re,Ne,$e,Ue,tt,nt,it,rt=this.items,ot=[[L.isFunction(this.options.items)?this.options.items.call(this.element[0],Q,{item:this.currentItem}):L(this.options.items,this.element),this]],at=this._connectWith();if(at&&this.ready)for(te=at.length-1;te>=0;te--)for(re=(Ne=L(at[te])).length-1;re>=0;re--)($e=L.data(Ne[re],this.widgetFullName))&&$e!==this&&!$e.options.disabled&&(ot.push([L.isFunction($e.options.items)?$e.options.items.call($e.element[0],Q,{item:this.currentItem}):L($e.options.items,$e.element),$e]),this.containers.push($e));for(te=ot.length-1;te>=0;te--)for(Ue=ot[te][1],re=0,it=(tt=ot[te][0]).length;it>re;re++)(nt=L(tt[re])).data(this.widgetName+"-item",Ue),rt.push({item:nt,instance:Ue,width:0,height:0,left:0,top:0})},refreshPositions:function(Q){var te,re,Ne,$e;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),te=this.items.length-1;te>=0;te--)(re=this.items[te]).instance!==this.currentContainer&&this.currentContainer&&re.item[0]!==this.currentItem[0]||(Ne=this.options.toleranceElement?L(this.options.toleranceElement,re.item):re.item,Q||(re.width=Ne.outerWidth(),re.height=Ne.outerHeight()),$e=Ne.offset(),re.left=$e.left,re.top=$e.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(te=this.containers.length-1;te>=0;te--)$e=this.containers[te].element.offset(),this.containers[te].containerCache.left=$e.left,this.containers[te].containerCache.top=$e.top,this.containers[te].containerCache.width=this.containers[te].element.outerWidth(),this.containers[te].containerCache.height=this.containers[te].element.outerHeight();return this},_createPlaceholder:function(Q){var te,re=(Q=Q||this).options;re.placeholder&&re.placeholder.constructor!==String||(te=re.placeholder,re.placeholder={element:function(){var re=Q.currentItem[0].nodeName.toLowerCase(),Ne=L("<"+re+">",Q.document[0]).addClass(te||Q.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===re?Q.currentItem.children().each((function(){L("<td>&#160;</td>",Q.document[0]).attr("colspan",L(this).attr("colspan")||1).appendTo(Ne)})):"img"===re&&Ne.attr("src",Q.currentItem.attr("src")),te||Ne.css("visibility","hidden"),Ne},update:function(L,Ne){(!te||re.forcePlaceholderSize)&&(Ne.height()||Ne.height(Q.currentItem.innerHeight()-parseInt(Q.currentItem.css("paddingTop")||0,10)-parseInt(Q.currentItem.css("paddingBottom")||0,10)),Ne.width()||Ne.width(Q.currentItem.innerWidth()-parseInt(Q.currentItem.css("paddingLeft")||0,10)-parseInt(Q.currentItem.css("paddingRight")||0,10)))}}),Q.placeholder=L(re.placeholder.element.call(Q.element,Q.currentItem)),Q.currentItem.after(Q.placeholder),re.placeholder.update(Q,Q.placeholder)},_contactContainers:function(Q){var te,re,Ne,$e,Ue,tt,nt,it,rt,ot,at=null,dt=null;for(te=this.containers.length-1;te>=0;te--)if(!L.contains(this.currentItem[0],this.containers[te].element[0]))if(this._intersectsWith(this.containers[te].containerCache)){if(at&&L.contains(this.containers[te].element[0],at.element[0]))continue;at=this.containers[te],dt=te}else this.containers[te].containerCache.over&&(this.containers[te]._trigger("out",Q,this._uiHash(this)),this.containers[te].containerCache.over=0);if(at)if(1===this.containers.length)this.containers[dt].containerCache.over||(this.containers[dt]._trigger("over",Q,this._uiHash(this)),this.containers[dt].containerCache.over=1);else{for(Ne=1e4,$e=null,Ue=(rt=at.floating||this._isFloating(this.currentItem))?"left":"top",tt=rt?"width":"height",ot=rt?"clientX":"clientY",re=this.items.length-1;re>=0;re--)L.contains(this.containers[dt].element[0],this.items[re].item[0])&&this.items[re].item[0]!==this.currentItem[0]&&(nt=this.items[re].item.offset()[Ue],it=!1,Q[ot]-nt>this.items[re][tt]/2&&(it=!0),Ne>Math.abs(Q[ot]-nt)&&(Ne=Math.abs(Q[ot]-nt),$e=this.items[re],this.direction=it?"up":"down"));if(!$e&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[dt])return;$e?this._rearrange(Q,$e,null,!0):this._rearrange(Q,null,this.containers[dt].element,!0),this._trigger("change",Q,this._uiHash()),this.containers[dt]._trigger("change",Q,this._uiHash(this)),this.currentContainer=this.containers[dt],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[dt]._trigger("over",Q,this._uiHash(this)),this.containers[dt].containerCache.over=1}},_createHelper:function(Q){var te=this.options,re=L.isFunction(te.helper)?L(te.helper.apply(this.element[0],[Q,this.currentItem])):"clone"===te.helper?this.currentItem.clone():this.currentItem;return re.parents("body").length||L("parent"!==te.appendTo?te.appendTo:this.currentItem[0].parentNode)[0].appendChild(re[0]),re[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!re[0].style.width||te.forceHelperSize)&&re.width(this.currentItem.width()),(!re[0].style.height||te.forceHelperSize)&&re.height(this.currentItem.height()),re},_adjustOffsetFromHelper:function(Q){"string"==typeof Q&&(Q=Q.split(" ")),L.isArray(Q)&&(Q={left:+Q[0],top:+Q[1]||0}),"left"in Q&&(this.offset.click.left=Q.left+this.margins.left),"right"in Q&&(this.offset.click.left=this.helperProportions.width-Q.right+this.margins.left),"top"in Q&&(this.offset.click.top=Q.top+this.margins.top),"bottom"in Q&&(this.offset.click.top=this.helperProportions.height-Q.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var Q=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&L.contains(this.scrollParent[0],this.offsetParent[0])&&(Q.left+=this.scrollParent.scrollLeft(),Q.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&L.ui.ie)&&(Q={top:0,left:0}),{top:Q.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:Q.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var L=this.currentItem.position();return{top:L.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:L.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var Q,te,re,Ne=this.options;"parent"===Ne.containment&&(Ne.containment=this.helper[0].parentNode),("document"===Ne.containment||"window"===Ne.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,L("document"===Ne.containment?document:window).width()-this.helperProportions.width-this.margins.left,(L("document"===Ne.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(Ne.containment)||(Q=L(Ne.containment)[0],te=L(Ne.containment).offset(),re="hidden"!==L(Q).css("overflow"),this.containment=[te.left+(parseInt(L(Q).css("borderLeftWidth"),10)||0)+(parseInt(L(Q).css("paddingLeft"),10)||0)-this.margins.left,te.top+(parseInt(L(Q).css("borderTopWidth"),10)||0)+(parseInt(L(Q).css("paddingTop"),10)||0)-this.margins.top,te.left+(re?Math.max(Q.scrollWidth,Q.offsetWidth):Q.offsetWidth)-(parseInt(L(Q).css("borderLeftWidth"),10)||0)-(parseInt(L(Q).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,te.top+(re?Math.max(Q.scrollHeight,Q.offsetHeight):Q.offsetHeight)-(parseInt(L(Q).css("borderTopWidth"),10)||0)-(parseInt(L(Q).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(Q,te){te||(te=this.position);var re="absolute"===Q?1:-1,Ne="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&L.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,$e=/(html|body)/i.test(Ne[0].tagName);return{top:te.top+this.offset.relative.top*re+this.offset.parent.top*re-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():$e?0:Ne.scrollTop())*re,left:te.left+this.offset.relative.left*re+this.offset.parent.left*re-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():$e?0:Ne.scrollLeft())*re}},_generatePosition:function(Q){var te,re,Ne=this.options,$e=Q.pageX,Ue=Q.pageY,tt="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&L.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,nt=/(html|body)/i.test(tt[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(Q.pageX-this.offset.click.left<this.containment[0]&&($e=this.containment[0]+this.offset.click.left),Q.pageY-this.offset.click.top<this.containment[1]&&(Ue=this.containment[1]+this.offset.click.top),Q.pageX-this.offset.click.left>this.containment[2]&&($e=this.containment[2]+this.offset.click.left),Q.pageY-this.offset.click.top>this.containment[3]&&(Ue=this.containment[3]+this.offset.click.top)),Ne.grid&&(te=this.originalPageY+Math.round((Ue-this.originalPageY)/Ne.grid[1])*Ne.grid[1],Ue=this.containment?te-this.offset.click.top>=this.containment[1]&&te-this.offset.click.top<=this.containment[3]?te:te-this.offset.click.top>=this.containment[1]?te-Ne.grid[1]:te+Ne.grid[1]:te,re=this.originalPageX+Math.round(($e-this.originalPageX)/Ne.grid[0])*Ne.grid[0],$e=this.containment?re-this.offset.click.left>=this.containment[0]&&re-this.offset.click.left<=this.containment[2]?re:re-this.offset.click.left>=this.containment[0]?re-Ne.grid[0]:re+Ne.grid[0]:re)),{top:Ue-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():nt?0:tt.scrollTop()),left:$e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():nt?0:tt.scrollLeft())}},_rearrange:function(L,Q,te,re){te?te[0].appendChild(this.placeholder[0]):Q.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?Q.item[0]:Q.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var Ne=this.counter;this._delay((function(){Ne===this.counter&&this.refreshPositions(!re)}))},_clear:function(L,Q){function i(L,Q,te){return function(re){te._trigger(L,re,Q._uiHash(Q))}}this.reverting=!1;var te,re=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(te in this._storedCSS)("auto"===this._storedCSS[te]||"static"===this._storedCSS[te])&&(this._storedCSS[te]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!Q&&re.push((function(L){this._trigger("receive",L,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||Q||re.push((function(L){this._trigger("update",L,this._uiHash())})),this!==this.currentContainer&&(Q||(re.push((function(L){this._trigger("remove",L,this._uiHash())})),re.push(function(L){return function(Q){L._trigger("receive",Q,this._uiHash(this))}}.call(this,this.currentContainer)),re.push(function(L){return function(Q){L._trigger("update",Q,this._uiHash(this))}}.call(this,this.currentContainer)))),te=this.containers.length-1;te>=0;te--)Q||re.push(i("deactivate",this,this.containers[te])),this.containers[te].containerCache.over&&(re.push(i("out",this,this.containers[te])),this.containers[te].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!Q){for(this._trigger("beforeStop",L,this._uiHash()),te=0;re.length>te;te++)re[te].call(this,L);this._trigger("stop",L,this._uiHash())}return this.fromOutside=!1,!1}if(Q||this._trigger("beforeStop",L,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!Q){for(te=0;re.length>te;te++)re[te].call(this,L);this._trigger("stop",L,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===L.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(Q){var te=Q||this;return{helper:te.helper,placeholder:te.placeholder||L([]),position:te.position,originalPosition:te.originalPosition,offset:te.positionAbs,item:te.currentItem,sender:Q?Q.element:null}}}),L.widget("ui.spinner",{version:"1.11.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var Q={},te=this.element;return L.each(["min","max","step"],(function(L,re){var Ne=te.attr(re);void 0!==Ne&&Ne.length&&(Q[re]=Ne)})),Q},_events:{keydown:function(L){this._start(L)&&this._keydown(L)&&L.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(L){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",L)))},mousewheel:function(L,Q){if(Q){if(!this.spinning&&!this._start(L))return!1;this._spin((Q>0?1:-1)*this.options.step,L),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(L)}),100),L.preventDefault()}},"mousedown .ui-spinner-button":function(Q){function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=te,this._delay((function(){this.previous=te})))}var te;te=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),Q.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,i.call(this)})),!1!==this._start(Q)&&this._repeat(null,L(Q.currentTarget).hasClass("ui-spinner-up")?1:-1,Q)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(Q){return L(Q.currentTarget).hasClass("ui-state-active")?!1!==this._start(Q)&&void this._repeat(null,L(Q.currentTarget).hasClass("ui-spinner-up")?1:-1,Q):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var L=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=L.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*L.height())&&L.height()>0&&L.height(L.height()),this.options.disabled&&this.disable()},_keydown:function(Q){var te=this.options,re=L.ui.keyCode;switch(Q.keyCode){case re.UP:return this._repeat(null,1,Q),!0;case re.DOWN:return this._repeat(null,-1,Q),!0;case re.PAGE_UP:return this._repeat(null,te.page,Q),!0;case re.PAGE_DOWN:return this._repeat(null,-te.page,Q),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(L){return!(!this.spinning&&!1===this._trigger("start",L)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(L,Q,te){L=L||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,Q,te)}),L),this._spin(Q*this.options.step,te)},_spin:function(L,Q){var te=this.value()||0;this.counter||(this.counter=1),te=this._adjustValue(te+L*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",Q,{value:te})||(this._value(te),this.counter++)},_increment:function(Q){var te=this.options.incremental;return te?L.isFunction(te)?te(Q):Math.floor(Q*Q*Q/5e4-Q*Q/500+17*Q/200+1):1},_precision:function(){var L=this._precisionOf(this.options.step);return null!==this.options.min&&(L=Math.max(L,this._precisionOf(this.options.min))),L},_precisionOf:function(L){var Q=""+L,te=Q.indexOf(".");return-1===te?0:Q.length-te-1},_adjustValue:function(L){var Q,te,re=this.options;return te=L-(Q=null!==re.min?re.min:0),L=Q+(te=Math.round(te/re.step)*re.step),L=parseFloat(L.toFixed(this._precision())),null!==re.max&&L>re.max?re.max:null!==re.min&&re.min>L?re.min:L},_stop:function(L){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",L))},_setOption:function(L,Q){if("culture"===L||"numberFormat"===L){var te=this._parse(this.element.val());return this.options[L]=Q,void this.element.val(this._format(te))}("max"===L||"min"===L||"step"===L)&&"string"==typeof Q&&(Q=this._parse(Q)),"icons"===L&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(Q.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(Q.down)),this._super(L,Q),"disabled"===L&&(this.widget().toggleClass("ui-state-disabled",!!Q),this.element.prop("disabled",!!Q),this.buttons.button(Q?"disable":"enable"))},_setOptions:h((function(L){this._super(L)})),_parse:function(L){return"string"==typeof L&&""!==L&&(L=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(L,10,this.options.culture):+L),""===L||isNaN(L)?null:L},_format:function(L){return""===L?"":window.Globalize&&this.options.numberFormat?Globalize.format(L,this.options.numberFormat,this.options.culture):L},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var L=this.value();return null!==L&&L===this._adjustValue(L)},_value:function(L,Q){var te;""!==L&&null!==(te=this._parse(L))&&(Q||(te=this._adjustValue(te)),L=this._format(te)),this.element.val(L),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h((function(L){this._stepUp(L)})),_stepUp:function(L){this._start()&&(this._spin((L||1)*this.options.step),this._stop())},stepDown:h((function(L){this._stepDown(L)})),_stepDown:function(L){this._start()&&(this._spin((L||1)*-this.options.step),this._stop())},pageUp:h((function(L){this._stepUp((L||1)*this.options.page)})),pageDown:h((function(L){this._stepDown((L||1)*this.options.page)})),value:function(L){return arguments.length?void h(this._value).call(this,L):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),L.widget("ui.tabs",{version:"1.11.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var L=/#.*$/;return function(Q){var te,re;te=(Q=Q.cloneNode(!1)).href.replace(L,""),re=location.href.replace(L,"");try{te=decodeURIComponent(te)}catch(L){}try{re=decodeURIComponent(re)}catch(L){}return Q.hash.length>1&&te===re}}(),_create:function(){var Q=this,te=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",te.collapsible),this._processTabs(),te.active=this._initialActive(),L.isArray(te.disabled)&&(te.disabled=L.unique(te.disabled.concat(L.map(this.tabs.filter(".ui-state-disabled"),(function(L){return Q.tabs.index(L)})))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(te.active):L(),this._refresh(),this.active.length&&this.load(te.active)},_initialActive:function(){var Q=this.options.active,te=this.options.collapsible,re=location.hash.substring(1);return null===Q&&(re&&this.tabs.each((function(te,Ne){return L(Ne).attr("aria-controls")===re?(Q=te,!1):void 0})),null===Q&&(Q=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===Q||-1===Q)&&(Q=!!this.tabs.length&&0)),!1!==Q&&-1===(Q=this.tabs.index(this.tabs.eq(Q)))&&(Q=!te&&0),!te&&!1===Q&&this.anchors.length&&(Q=0),Q},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):L()}},_tabKeydown:function(Q){var te=L(this.document[0].activeElement).closest("li"),re=this.tabs.index(te),Ne=!0;if(!this._handlePageNav(Q)){switch(Q.keyCode){case L.ui.keyCode.RIGHT:case L.ui.keyCode.DOWN:re++;break;case L.ui.keyCode.UP:case L.ui.keyCode.LEFT:Ne=!1,re--;break;case L.ui.keyCode.END:re=this.anchors.length-1;break;case L.ui.keyCode.HOME:re=0;break;case L.ui.keyCode.SPACE:return Q.preventDefault(),clearTimeout(this.activating),void this._activate(re);case L.ui.keyCode.ENTER:return Q.preventDefault(),clearTimeout(this.activating),void this._activate(re!==this.options.active&&re);default:return}Q.preventDefault(),clearTimeout(this.activating),re=this._focusNextTab(re,Ne),Q.ctrlKey||(te.attr("aria-selected","false"),this.tabs.eq(re).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",re)}),this.delay))}},_panelKeydown:function(Q){this._handlePageNav(Q)||Q.ctrlKey&&Q.keyCode===L.ui.keyCode.UP&&(Q.preventDefault(),this.active.focus())},_handlePageNav:function(Q){return Q.altKey&&Q.keyCode===L.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):Q.altKey&&Q.keyCode===L.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(Q,te){function s(){return Q>re&&(Q=0),0>Q&&(Q=re),Q}for(var re=this.tabs.length-1;-1!==L.inArray(s(),this.options.disabled);)Q=te?Q+1:Q-1;return Q},_focusNextTab:function(L,Q){return L=this._findNextTab(L,Q),this.tabs.eq(L).focus(),L},_setOption:function(L,Q){return"active"===L?void this._activate(Q):"disabled"===L?void this._setupDisabled(Q):(this._super(L,Q),"collapsible"===L&&(this.element.toggleClass("ui-tabs-collapsible",Q),Q||!1!==this.options.active||this._activate(0)),"event"===L&&this._setupEvents(Q),void("heightStyle"===L&&this._setupHeightStyle(Q)))},_sanitizeSelector:function(L){return L?L.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var Q=this.options,te=this.tablist.children(":has(a[href])");Q.disabled=L.map(te.filter(".ui-state-disabled"),(function(L){return te.index(L)})),this._processTabs(),!1!==Q.active&&this.anchors.length?this.active.length&&!L.contains(this.tablist[0],this.active[0])?this.tabs.length===Q.disabled.length?(Q.active=!1,this.active=L()):this._activate(this._findNextTab(Math.max(0,Q.active-1),!1)):Q.active=this.tabs.index(this.active):(Q.active=!1,this.active=L()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var Q=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,(function(Q){L(this).is(".ui-state-disabled")&&Q.preventDefault()})).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,(function(){L(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map((function(){return L("a",this)[0]})).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=L(),this.anchors.each((function(te,re){var Ne,$e,Ue,tt=L(re).uniqueId().attr("id"),nt=L(re).closest("li"),it=nt.attr("aria-controls");Q._isLocal(re)?(Ue=(Ne=re.hash).substring(1),$e=Q.element.find(Q._sanitizeSelector(Ne))):(Ne="#"+(Ue=nt.attr("aria-controls")||L({}).uniqueId()[0].id),($e=Q.element.find(Ne)).length||($e=Q._createPanel(Ue)).insertAfter(Q.panels[te-1]||Q.tablist),$e.attr("aria-live","polite")),$e.length&&(Q.panels=Q.panels.add($e)),it&&nt.data("ui-tabs-aria-controls",it),nt.attr({"aria-controls":Ue,"aria-labelledby":tt}),$e.attr("aria-labelledby",tt)})),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(Q){return L("<div>").attr("id",Q).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(Q){L.isArray(Q)&&(Q.length?Q.length===this.anchors.length&&(Q=!0):Q=!1);for(var te,re=0;te=this.tabs[re];re++)!0===Q||-1!==L.inArray(re,Q)?L(te).addClass("ui-state-disabled").attr("aria-disabled","true"):L(te).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=Q},_setupEvents:function(Q){var te={};Q&&L.each(Q.split(" "),(function(L,Q){te[Q]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(L){L.preventDefault()}}),this._on(this.anchors,te),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(Q){var te,re=this.element.parent();"fill"===Q?(te=re.height(),te-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var Q=L(this),re=Q.css("position");"absolute"!==re&&"fixed"!==re&&(te-=Q.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){te-=L(this).outerHeight(!0)})),this.panels.each((function(){L(this).height(Math.max(0,te-L(this).innerHeight()+L(this).height()))})).css("overflow","auto")):"auto"===Q&&(te=0,this.panels.each((function(){te=Math.max(te,L(this).height("").height())})).height(te))},_eventHandler:function(Q){var te=this.options,re=this.active,Ne=L(Q.currentTarget).closest("li"),$e=Ne[0]===re[0],Ue=$e&&te.collapsible,tt=Ue?L():this._getPanelForTab(Ne),nt=re.length?this._getPanelForTab(re):L(),it={oldTab:re,oldPanel:nt,newTab:Ue?L():Ne,newPanel:tt};Q.preventDefault(),Ne.hasClass("ui-state-disabled")||Ne.hasClass("ui-tabs-loading")||this.running||$e&&!te.collapsible||!1===this._trigger("beforeActivate",Q,it)||(te.active=!Ue&&this.tabs.index(Ne),this.active=$e?L():Ne,this.xhr&&this.xhr.abort(),nt.length||tt.length||L.error("jQuery UI Tabs: Mismatching fragment identifier."),tt.length&&this.load(this.tabs.index(Ne),Q),this._toggle(Q,it))},_toggle:function(Q,te){function s(){re.running=!1,re._trigger("activate",Q,te)}function n(){te.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),Ne.length&&re.options.show?re._show(Ne,re.options.show,s):(Ne.show(),s())}var re=this,Ne=te.newPanel,$e=te.oldPanel;this.running=!0,$e.length&&this.options.hide?this._hide($e,this.options.hide,(function(){te.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()})):(te.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),$e.hide(),n()),$e.attr("aria-hidden","true"),te.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),Ne.length&&$e.length?te.oldTab.attr("tabIndex",-1):Ne.length&&this.tabs.filter((function(){return 0===L(this).attr("tabIndex")})).attr("tabIndex",-1),Ne.attr("aria-hidden","false"),te.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(Q){var te,re=this._findActive(Q);re[0]!==this.active[0]&&(re.length||(re=this.active),te=re.find(".ui-tabs-anchor")[0],this._eventHandler({target:te,currentTarget:te,preventDefault:L.noop}))},_findActive:function(Q){return!1===Q?L():this.tabs.eq(Q)},_getIndex:function(L){return"string"==typeof L&&(L=this.anchors.index(this.anchors.filter("[href$='"+L+"']"))),L},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each((function(){L.data(this,"ui-tabs-destroy")?L(this).remove():L(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")})),this.tabs.each((function(){var Q=L(this),te=Q.data("ui-tabs-aria-controls");te?Q.attr("aria-controls",te).removeData("ui-tabs-aria-controls"):Q.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(Q){var te=this.options.disabled;!1!==te&&(void 0===Q?te=!1:(Q=this._getIndex(Q),te=L.isArray(te)?L.map(te,(function(L){return L!==Q?L:null})):L.map(this.tabs,(function(L,te){return te!==Q?te:null}))),this._setupDisabled(te))},disable:function(Q){var te=this.options.disabled;if(!0!==te){if(void 0===Q)te=!0;else{if(Q=this._getIndex(Q),-1!==L.inArray(Q,te))return;te=L.isArray(te)?L.merge([Q],te).sort():[Q]}this._setupDisabled(te)}},load:function(Q,te){Q=this._getIndex(Q);var re=this,Ne=this.tabs.eq(Q),$e=Ne.find(".ui-tabs-anchor"),Ue=this._getPanelForTab(Ne),tt={tab:Ne,panel:Ue};this._isLocal($e[0])||(this.xhr=L.ajax(this._ajaxSettings($e,te,tt)),this.xhr&&"canceled"!==this.xhr.statusText&&(Ne.addClass("ui-tabs-loading"),Ue.attr("aria-busy","true"),this.xhr.success((function(L){setTimeout((function(){Ue.html(L),re._trigger("load",te,tt)}),1)})).complete((function(L,Q){setTimeout((function(){"abort"===Q&&re.panels.stop(!1,!0),Ne.removeClass("ui-tabs-loading"),Ue.removeAttr("aria-busy"),L===re.xhr&&delete re.xhr}),1)}))))},_ajaxSettings:function(Q,te,re){var Ne=this;return{url:Q.attr("href"),beforeSend:function(Q,$e){return Ne._trigger("beforeLoad",te,L.extend({jqXHR:Q,ajaxSettings:$e},re))}}},_getPanelForTab:function(Q){var te=L(Q).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+te))}}),L.widget("ui.tooltip",{version:"1.11.1",options:{content:function(){var Q=L(this).attr("title")||"";return L("<a>").text(Q).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(Q,te){var re=(Q.attr("aria-describedby")||"").split(/\s+/);re.push(te),Q.data("ui-tooltip-id",te).attr("aria-describedby",L.trim(re.join(" ")))},_removeDescribedBy:function(Q){var te=Q.data("ui-tooltip-id"),re=(Q.attr("aria-describedby")||"").split(/\s+/),Ne=L.inArray(te,re);-1!==Ne&&re.splice(Ne,1),Q.removeData("ui-tooltip-id"),(re=L.trim(re.join(" ")))?Q.attr("aria-describedby",re):Q.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=L("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(Q,te){var re=this;return"disabled"===Q?(this[te?"_disable":"_enable"](),void(this.options[Q]=te)):(this._super(Q,te),void("content"===Q&&L.each(this.tooltips,(function(L,Q){re._updateContent(Q)}))))},_disable:function(){var Q=this;L.each(this.tooltips,(function(te,re){var Ne=L.Event("blur");Ne.target=Ne.currentTarget=re[0],Q.close(Ne,!0)})),this.element.find(this.options.items).addBack().each((function(){var Q=L(this);Q.is("[title]")&&Q.data("ui-tooltip-title",Q.attr("title")).removeAttr("title")}))},_enable:function(){this.element.find(this.options.items).addBack().each((function(){var Q=L(this);Q.data("ui-tooltip-title")&&Q.attr("title",Q.data("ui-tooltip-title"))}))},open:function(Q){var te=this,re=L(Q?Q.target:this.element).closest(this.options.items);re.length&&!re.data("ui-tooltip-id")&&(re.attr("title")&&re.data("ui-tooltip-title",re.attr("title")),re.data("ui-tooltip-open",!0),Q&&"mouseover"===Q.type&&re.parents().each((function(){var Q,re=L(this);re.data("ui-tooltip-open")&&((Q=L.Event("blur")).target=Q.currentTarget=this,te.close(Q,!0)),re.attr("title")&&(re.uniqueId(),te.parents[this.id]={element:this,title:re.attr("title")},re.attr("title",""))})),this._updateContent(re,Q))},_updateContent:function(L,Q){var te,re=this.options.content,Ne=this,$e=Q?Q.type:null;return"string"==typeof re?this._open(Q,L,re):void((te=re.call(L[0],(function(te){L.data("ui-tooltip-open")&&Ne._delay((function(){Q&&(Q.type=$e),this._open(Q,L,te)}))})))&&this._open(Q,L,te))},_open:function(Q,te,re){function n(L){nt.of=L,Ne.is(":hidden")||Ne.position(nt)}var Ne,$e,Ue,tt,nt=L.extend({},this.options.position);if(re){if((Ne=this._find(te)).length)return void Ne.find(".ui-tooltip-content").html(re);te.is("[title]")&&(Q&&"mouseover"===Q.type?te.attr("title",""):te.removeAttr("title")),Ne=this._tooltip(te),this._addDescribedBy(te,Ne.attr("id")),Ne.find(".ui-tooltip-content").html(re),this.liveRegion.children().hide(),re.clone?(tt=re.clone()).removeAttr("id").find("[id]").removeAttr("id"):tt=re,L("<div>").html(tt).appendTo(this.liveRegion),this.options.track&&Q&&/^mouse/.test(Q.type)?(this._on(this.document,{mousemove:n}),n(Q)):Ne.position(L.extend({of:te},this.options.position)),this.hiding=!1,this.closing=!1,Ne.hide(),this._show(Ne,this.options.show),this.options.show&&this.options.show.delay&&(Ue=this.delayedShow=setInterval((function(){Ne.is(":visible")&&(n(nt.of),clearInterval(Ue))}),L.fx.interval)),this._trigger("open",Q,{tooltip:Ne}),$e={keyup:function(Q){if(Q.keyCode===L.ui.keyCode.ESCAPE){var re=L.Event(Q);re.currentTarget=te[0],this.close(re,!0)}}},te[0]!==this.element[0]&&($e.remove=function(){this._removeTooltip(Ne)}),Q&&"mouseover"!==Q.type||($e.mouseleave="close"),Q&&"focusin"!==Q.type||($e.focusout="close"),this._on(!0,te,$e)}},close:function(Q){var te=this,re=L(Q?Q.currentTarget:this.element),Ne=this._find(re);this.closing||(clearInterval(this.delayedShow),re.data("ui-tooltip-title")&&!re.attr("title")&&re.attr("title",re.data("ui-tooltip-title")),this._removeDescribedBy(re),this.hiding=!0,Ne.stop(!0),this._hide(Ne,this.options.hide,(function(){te._removeTooltip(L(this)),this.hiding=!1,this.closing=!1})),re.removeData("ui-tooltip-open"),this._off(re,"mouseleave focusout keyup"),re[0]!==this.element[0]&&this._off(re,"remove"),this._off(this.document,"mousemove"),Q&&"mouseleave"===Q.type&&L.each(this.parents,(function(Q,re){L(re.element).attr("title",re.title),delete te.parents[Q]})),this.closing=!0,this._trigger("close",Q,{tooltip:Ne}),this.hiding||(this.closing=!1))},_tooltip:function(Q){var te=L("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),re=te.uniqueId().attr("id");return L("<div>").addClass("ui-tooltip-content").appendTo(te),te.appendTo(this.document[0].body),this.tooltips[re]=Q,te},_find:function(Q){var te=Q.data("ui-tooltip-id");return te?L("#"+te):L()},_removeTooltip:function(L){L.remove(),delete this.tooltips[L.attr("id")]},_destroy:function(){var Q=this;L.each(this.tooltips,(function(te,re){var Ne=L.Event("blur");Ne.target=Ne.currentTarget=re[0],Q.close(Ne,!0),L("#"+te).remove(),re.data("ui-tooltip-title")&&(re.attr("title")||re.attr("title",re.data("ui-tooltip-title")),re.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}})},void 0===($e="function"==typeof re?re.apply(Q,Ne):re)||(L.exports=$e)},3942:function(L,Q,te){var re,Ne;re=function(){function extend(){for(var L=0,Q={};L<arguments.length;L++){var te=arguments[L];for(var re in te)Q[re]=te[re]}return Q}function init(L){function api(Q,te,re){var Ne;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(re=extend({path:"/"},api.defaults,re)).expires){var $e=new Date;$e.setMilliseconds($e.getMilliseconds()+864e5*re.expires),re.expires=$e}try{Ne=JSON.stringify(te),/^[\{\[]/.test(Ne)&&(te=Ne)}catch(L){}return te=L.write?L.write(te,Q):encodeURIComponent(String(te)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),Q=(Q=(Q=encodeURIComponent(String(Q))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[Q,"=",te,re.expires&&"; expires="+re.expires.toUTCString(),re.path&&"; path="+re.path,re.domain&&"; domain="+re.domain,re.secure?"; secure":""].join("")}Q||(Ne={});for(var Ue=document.cookie?document.cookie.split("; "):[],tt=/(%[0-9A-Z]{2})+/g,nt=0;nt<Ue.length;nt++){var it=Ue[nt].split("="),rt=it[0].replace(tt,decodeURIComponent),ot=it.slice(1).join("=");'"'===ot.charAt(0)&&(ot=ot.slice(1,-1));try{if(ot=L.read?L.read(ot,rt):L(ot,rt)||ot.replace(tt,decodeURIComponent),this.json)try{ot=JSON.parse(ot)}catch(L){}if(Q===rt){Ne=ot;break}Q||(Ne[rt]=ot)}catch(L){}}return Ne}}return api.set=api,api.get=function(L){return api(L)},api.getJSON=function(){return api.apply({json:!0},[].slice.call(arguments))},api.defaults={},api.remove=function(L,Q){api(L,"",extend(Q,{expires:-1}))},api.withConverter=init,api}return init((function(){}))},void 0===(Ne="function"==typeof re?re.call(Q,te,Q,L):re)||(L.exports=Ne)},54922:function(L,Q,te){var re,Ne,$e,Ue=te(20198);!function(tt){var nt=this||(0,eval)("this"),it=nt.document,rt=nt.navigator,ot=nt.jQuery,at=nt.JSON;ot||void 0===Ue||(ot=Ue),function(Ue){Ne=[Q,te],void 0===($e="function"==typeof(re=Ue)?re.apply(Q,Ne):re)||(L.exports=$e)}((function(L,Q){function K(L,Q){return(null===L||typeof L in sn)&&L===Q}function X(L,Q){var te;return function(){te||(te=bt.a.setTimeout((function(){te=tt,L()}),Q))}}function Y(L,Q){var te;return function(){clearTimeout(te),te=bt.a.setTimeout(L,Q)}}function Z(L,Q){Q&&"change"!==Q?"beforeChange"===Q?this.oc(L):this.bb(L,Q):this.pc(L)}function aa(L,Q){null!==Q&&Q.s&&Q.s()}function ba(L,Q){var te=this.pd,re=te[xn];re.qa||(this.Pb&&this.kb[Q]?(te.tc(Q,L,this.kb[Q]),this.kb[Q]=null,--this.Pb):re.F[Q]||te.tc(Q,L,re.G?{da:L}:te.Zc(L)),L.Ka&&L.fd())}var te,re,Ne,$e,Ue,dt,bt=void 0!==L?L:{};bt.b=function(L,Q){for(var te=L.split("."),re=bt,Ne=0;Ne<te.length-1;Ne++)re=re[te[Ne]];re[te[te.length-1]]=Q},bt.J=function(L,Q,te){L[Q]=te},bt.version="3.5.0",bt.b("version",bt.version),bt.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1},bt.a=function(){function b(Q,te){for(var re in Q)L.call(Q,re)&&te(re,Q[re])}function c(Q,te){if(te)for(var re in te)L.call(te,re)&&(Q[re]=te[re]);return Q}function d(L,Q){return L.__proto__=Q,L}function e(L,Q,te,re){var Ne=L[Q].match(sn)||[];bt.a.C(te.match(sn),(function(L){bt.a.Oa(Ne,L,re)})),L[Q]=Ne.join(" ")}var L=Object.prototype.hasOwnProperty,Q={__proto__:[]}instanceof Array,te="function"==typeof Symbol,re={},Ne={};re[rt&&/Firefox\/2/i.test(rt.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],re.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),b(re,(function(L,Q){if(Q.length)for(var te=0,re=Q.length;te<re;te++)Ne[Q[te]]=L}));var $e,Ue={propertychange:!0},dt=it&&function(){for(var L=3,Q=it.createElement("div"),te=Q.getElementsByTagName("i");Q.innerHTML="\x3c!--[if gt IE "+ ++L+"]><i></i><![endif]--\x3e",te[0];);return 4<L?L:tt}(),sn=/\S+/g;return{Ic:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],C:function(L,Q,te){for(var re=0,Ne=L.length;re<Ne;re++)Q.call(te,L[re],re,L)},A:"function"==typeof Array.prototype.indexOf?function(L,Q){return Array.prototype.indexOf.call(L,Q)}:function(L,Q){for(var te=0,re=L.length;te<re;te++)if(L[te]===Q)return te;return-1},Lb:function(L,Q,te){for(var re=0,Ne=L.length;re<Ne;re++)if(Q.call(te,L[re],re,L))return L[re];return tt},hb:function(L,Q){var te=bt.a.A(L,Q);0<te?L.splice(te,1):0===te&&L.shift()},vc:function(L){var Q=[];return L&&bt.a.C(L,(function(L){0>bt.a.A(Q,L)&&Q.push(L)})),Q},Mb:function(L,Q,te){var re=[];if(L)for(var Ne=0,$e=L.length;Ne<$e;Ne++)re.push(Q.call(te,L[Ne],Ne));return re},fb:function(L,Q,te){var re=[];if(L)for(var Ne=0,$e=L.length;Ne<$e;Ne++)Q.call(te,L[Ne],Ne)&&re.push(L[Ne]);return re},gb:function(L,Q){if(Q instanceof Array)L.push.apply(L,Q);else for(var te=0,re=Q.length;te<re;te++)L.push(Q[te]);return L},Oa:function(L,Q,te){var re=bt.a.A(bt.a.$b(L),Q);0>re?te&&L.push(Q):te||L.splice(re,1)},Ba:Q,extend:c,setPrototypeOf:d,zb:Q?d:c,O:b,Ha:function(Q,te,re){if(!Q)return Q;var Ne,$e={};for(Ne in Q)L.call(Q,Ne)&&($e[Ne]=te.call(re,Q[Ne],Ne,Q));return $e},Sb:function(L){for(;L.firstChild;)bt.removeNode(L.firstChild)},Xb:function(L){for(var Q=((L=bt.a.la(L))[0]&&L[0].ownerDocument||it).createElement("div"),te=0,re=L.length;te<re;te++)Q.appendChild(bt.na(L[te]));return Q},Ca:function(L,Q){for(var te=0,re=L.length,Ne=[];te<re;te++){var $e=L[te].cloneNode(!0);Ne.push(Q?bt.na($e):$e)}return Ne},ua:function(L,Q){if(bt.a.Sb(L),Q)for(var te=0,re=Q.length;te<re;te++)L.appendChild(Q[te])},Wc:function(L,Q){var te=L.nodeType?[L]:L;if(0<te.length){for(var re=te[0],Ne=re.parentNode,$e=0,Ue=Q.length;$e<Ue;$e++)Ne.insertBefore(Q[$e],re);for($e=0,Ue=te.length;$e<Ue;$e++)bt.removeNode(te[$e])}},Ua:function(L,Q){if(L.length){for(Q=8===Q.nodeType&&Q.parentNode||Q;L.length&&L[0].parentNode!==Q;)L.splice(0,1);for(;1<L.length&&L[L.length-1].parentNode!==Q;)L.length--;if(1<L.length){var te=L[0],re=L[L.length-1];for(L.length=0;te!==re;)L.push(te),te=te.nextSibling;L.push(re)}}return L},Yc:function(L,Q){7>dt?L.setAttribute("selected",Q):L.selected=Q},Cb:function(L){return null===L||L===tt?"":L.trim?L.trim():L.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Td:function(L,Q){return L=L||"",!(Q.length>L.length)&&L.substring(0,Q.length)===Q},ud:function(L,Q){if(L===Q)return!0;if(11===L.nodeType)return!1;if(Q.contains)return Q.contains(1!==L.nodeType?L.parentNode:L);if(Q.compareDocumentPosition)return 16==(16&Q.compareDocumentPosition(L));for(;L&&L!=Q;)L=L.parentNode;return!!L},Rb:function(L){return bt.a.ud(L,L.ownerDocument.documentElement)},jd:function(L){return!!bt.a.Lb(L,bt.a.Rb)},P:function(L){return L&&L.tagName&&L.tagName.toLowerCase()},zc:function(L){return bt.onError?function(){try{return L.apply(this,arguments)}catch(L){throw bt.onError&&bt.onError(L),L}}:L},setTimeout:function(L,Q){return setTimeout(bt.a.zc(L),Q)},Fc:function(L){setTimeout((function(){throw bt.onError&&bt.onError(L),L}),0)},H:function(L,Q,te){var re=bt.a.zc(te);if(te=Ue[Q],bt.options.useOnlyNativeEvents||te||!ot)if(te||"function"!=typeof L.addEventListener){if(void 0===L.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var f=function(Q){re.call(L,Q)},Ne="on"+Q;L.attachEvent(Ne,f),bt.a.I.za(L,(function(){L.detachEvent(Ne,f)}))}else L.addEventListener(Q,re,!1);else $e||($e="function"==typeof ot(L).on?"on":"bind"),ot(L)[$e](Q,re)},Fb:function(L,Q){if(!L||!L.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var te;if(te=!("input"!==bt.a.P(L)||!L.type||"click"!=Q.toLowerCase())&&("checkbox"==(te=L.type)||"radio"==te),bt.options.useOnlyNativeEvents||!ot||te)if("function"==typeof it.createEvent){if("function"!=typeof L.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(te=it.createEvent(Ne[Q]||"HTMLEvents")).initEvent(Q,!0,!0,nt,0,0,0,0,0,!1,!1,!1,!1,0,L),L.dispatchEvent(te)}else if(te&&L.click)L.click();else{if(void 0===L.fireEvent)throw Error("Browser doesn't support triggering events");L.fireEvent("on"+Q)}else ot(L).trigger(Q)},c:function(L){return bt.N(L)?L():L},$b:function(L){return bt.N(L)?L.w():L},Eb:function(L,Q,te){var re;Q&&("object"==typeof L.classList?(re=L.classList[te?"add":"remove"],bt.a.C(Q.match(sn),(function(Q){re.call(L.classList,Q)}))):"string"==typeof L.className.baseVal?e(L.className,"baseVal",Q,te):e(L,"className",Q,te))},Ab:function(L,Q){var te=bt.a.c(Q);null!==te&&te!==tt||(te="");var re=bt.h.firstChild(L);!re||3!=re.nodeType||bt.h.nextSibling(re)?bt.h.ua(L,[L.ownerDocument.createTextNode(te)]):re.data=te,bt.a.zd(L)},Xc:function(L,Q){if(L.name=Q,7>=dt)try{var te=L.name.replace(/[&<>'"]/g,(function(L){return"&#"+L.charCodeAt(0)+";"}));L.mergeAttributes(it.createElement("<input name='"+te+"'/>"),!1)}catch(L){}},zd:function(L){9<=dt&&(L=1==L.nodeType?L:L.parentNode).style&&(L.style.zoom=L.style.zoom)},vd:function(L){if(dt){var Q=L.style.width;L.style.width=0,L.style.width=Q}},Od:function(L,Q){L=bt.a.c(L),Q=bt.a.c(Q);for(var te=[],re=L;re<=Q;re++)te.push(re);return te},la:function(L){for(var Q=[],te=0,re=L.length;te<re;te++)Q.push(L[te]);return Q},Da:function(L){return te?Symbol(L):L},Xd:6===dt,Yd:7===dt,W:dt,Kc:function(L,Q){for(var te=bt.a.la(L.getElementsByTagName("input")).concat(bt.a.la(L.getElementsByTagName("textarea"))),re="string"==typeof Q?function(L){return L.name===Q}:function(L){return Q.test(L.name)},Ne=[],$e=te.length-1;0<=$e;$e--)re(te[$e])&&Ne.push(te[$e]);return Ne},Md:function(L){return"string"==typeof L&&(L=bt.a.Cb(L))?at&&at.parse?at.parse(L):new Function("return "+L)():null},fc:function(L,Q,te){if(!at||!at.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return at.stringify(bt.a.c(L),Q,te)},Nd:function(L,Q,te){var re=(te=te||{}).params||{},Ne=te.includeFields||this.Ic,$e=L;if("object"==typeof L&&"form"===bt.a.P(L)){$e=L.action;for(var Ue=Ne.length-1;0<=Ue;Ue--)for(var tt=bt.a.Kc(L,Ne[Ue]),nt=tt.length-1;0<=nt;nt--)re[tt[nt].name]=tt[nt].value}Q=bt.a.c(Q);var rt=it.createElement("form");for(var ot in rt.style.display="none",rt.action=$e,rt.method="post",Q)(L=it.createElement("input")).type="hidden",L.name=ot,L.value=bt.a.fc(bt.a.c(Q[ot])),rt.appendChild(L);b(re,(function(L,Q){var te=it.createElement("input");te.type="hidden",te.name=L,te.value=Q,rt.appendChild(te)})),it.body.appendChild(rt),te.submitter?te.submitter(rt):rt.submit(),setTimeout((function(){rt.parentNode.removeChild(rt)}),0)}}}(),bt.b("utils",bt.a),bt.b("utils.arrayForEach",bt.a.C),bt.b("utils.arrayFirst",bt.a.Lb),bt.b("utils.arrayFilter",bt.a.fb),bt.b("utils.arrayGetDistinctValues",bt.a.vc),bt.b("utils.arrayIndexOf",bt.a.A),bt.b("utils.arrayMap",bt.a.Mb),bt.b("utils.arrayPushAll",bt.a.gb),bt.b("utils.arrayRemoveItem",bt.a.hb),bt.b("utils.cloneNodes",bt.a.Ca),bt.b("utils.createSymbolOrString",bt.a.Da),bt.b("utils.extend",bt.a.extend),bt.b("utils.fieldsIncludedWithJsonPost",bt.a.Ic),bt.b("utils.getFormFields",bt.a.Kc),bt.b("utils.objectMap",bt.a.Ha),bt.b("utils.peekObservable",bt.a.$b),bt.b("utils.postJson",bt.a.Nd),bt.b("utils.parseJson",bt.a.Md),bt.b("utils.registerEventHandler",bt.a.H),bt.b("utils.stringifyJson",bt.a.fc),bt.b("utils.range",bt.a.Od),bt.b("utils.toggleDomNodeCssClass",bt.a.Eb),bt.b("utils.triggerEvent",bt.a.Fb),bt.b("utils.unwrapObservable",bt.a.c),bt.b("utils.objectForEach",bt.a.O),bt.b("utils.addOrRemoveItem",bt.a.Oa),bt.b("utils.setTextContent",bt.a.Ab),bt.b("unwrap",bt.a.c),Function.prototype.bind||(Function.prototype.bind=function(L){var Q=this;if(1===arguments.length)return function(){return Q.apply(L,arguments)};var te=Array.prototype.slice.call(arguments,1);return function(){var re=te.slice(0);return re.push.apply(re,arguments),Q.apply(L,re)}}),bt.a.g=new function(){var L,Q,te=0,re="__ko__"+(new Date).getTime(),Ne={};return bt.a.W?(L=function(L,Q){var $e=L[re];if(!$e||"null"===$e||!Ne[$e]){if(!Q)return tt;$e=L[re]="ko"+te++,Ne[$e]={}}return Ne[$e]},Q=function(L){var Q=L[re];return!!Q&&(delete Ne[Q],L[re]=null,!0)}):(L=function(L,Q){var te=L[re];return!te&&Q&&(te=L[re]={}),te},Q=function(L){return!!L[re]&&(delete L[re],!0)}),{get:function(Q,te){var re=L(Q,!1);return re&&re[te]},set:function(Q,te,re){(Q=L(Q,re!==tt))&&(Q[te]=re)},Tb:function(Q,te,re){return(Q=L(Q,!0))[te]||(Q[te]=re)},clear:Q,Z:function(){return te+++re}}},bt.b("utils.domData",bt.a.g),bt.b("utils.domData.clear",bt.a.g.clear),bt.a.I=new function(){function b(Q,te){var re=bt.a.g.get(Q,L);return re===tt&&te&&(re=[],bt.a.g.set(Q,L,re)),re}function c(L){if(Q=b(L,!1))for(var Q=Q.slice(0),re=0;re<Q.length;re++)Q[re](L);bt.a.g.clear(L),bt.a.I.cleanExternalData(L),te[L.nodeType]&&d(L.childNodes,!0)}function d(L,Q){for(var te,re=[],Ne=0;Ne<L.length;Ne++)if((!Q||8===L[Ne].nodeType)&&(c(re[re.length]=te=L[Ne]),L[Ne]!==te))for(;Ne--&&-1==bt.a.A(re,L[Ne]););}var L=bt.a.g.Z(),Q={1:!0,8:!0,9:!0},te={1:!0,9:!0};return{za:function(L,Q){if("function"!=typeof Q)throw Error("Callback must be a function");b(L,!0).push(Q)},xb:function(Q,te){var re=b(Q,!1);re&&(bt.a.hb(re,te),0==re.length&&bt.a.g.set(Q,L,tt))},na:function(L){return Q[L.nodeType]&&(c(L),te[L.nodeType]&&d(L.getElementsByTagName("*"))),L},removeNode:function(L){bt.na(L),L.parentNode&&L.parentNode.removeChild(L)},cleanExternalData:function(L){ot&&"function"==typeof ot.cleanData&&ot.cleanData([L])}}},bt.na=bt.a.I.na,bt.removeNode=bt.a.I.removeNode,bt.b("cleanNode",bt.na),bt.b("removeNode",bt.removeNode),bt.b("utils.domNodeDisposal",bt.a.I),bt.b("utils.domNodeDisposal.addDisposeCallback",bt.a.I.za),bt.b("utils.domNodeDisposal.removeDisposeCallback",bt.a.I.xb),te=[0,"",""],Ue={thead:re=[1,"<table>","</table>"],tbody:re,tfoot:re,tr:[2,"<table><tbody>","</tbody></table>"],td:Ne=[3,"<table><tbody><tr>","</tr></tbody></table>"],th:Ne,option:$e=[1,"<select multiple='multiple'>","</select>"],optgroup:$e},dt=8>=bt.a.W,bt.a.ta=function(L,Q){var re;if(ot){if(ot.parseHTML)re=ot.parseHTML(L,Q)||[];else if((re=ot.clean([L],Q))&&re[0]){for(var Ne=re[0];Ne.parentNode&&11!==Ne.parentNode.nodeType;)Ne=Ne.parentNode;Ne.parentNode&&Ne.parentNode.removeChild(Ne)}}else{(re=Q)||(re=it),Ne=re.parentWindow||re.defaultView||nt;var $e,tt=bt.a.Cb(L).toLowerCase(),rt=re.createElement("div");for($e=(tt=tt.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&Ue[tt[1]]||te,tt=$e[0],$e="ignored<div>"+$e[1]+L+$e[2]+"</div>","function"==typeof Ne.innerShiv?rt.appendChild(Ne.innerShiv($e)):(dt&&re.body.appendChild(rt),rt.innerHTML=$e,dt&&rt.parentNode.removeChild(rt));tt--;)rt=rt.lastChild;re=bt.a.la(rt.lastChild.childNodes)}return re},bt.a.Ld=function(L,Q){var te=bt.a.ta(L,Q);return te.length&&te[0].parentElement||bt.a.Xb(te)},bt.a.dc=function(L,Q){if(bt.a.Sb(L),null!==(Q=bt.a.c(Q))&&Q!==tt)if("string"!=typeof Q&&(Q=Q.toString()),ot)ot(L).html(Q);else for(var te=bt.a.ta(Q,L.ownerDocument),re=0;re<te.length;re++)L.appendChild(te[re])},bt.b("utils.parseHtmlFragment",bt.a.ta),bt.b("utils.setHtml",bt.a.dc),bt.aa=function(){function b(L,Q){if(L)if(8==L.nodeType)null!=(te=bt.aa.Tc(L.nodeValue))&&Q.push({sd:L,Jd:te});else if(1==L.nodeType)for(var te=0,re=L.childNodes,Ne=re.length;te<Ne;te++)b(re[te],Q)}var L={};return{Wb:function(Q){if("function"!=typeof Q)throw Error("You can only pass a function to ko.memoization.memoize()");var te=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return L[te]=Q,"\x3c!--[ko_memo:"+te+"]--\x3e"},ad:function(Q,te){var re=L[Q];if(re===tt)throw Error("Couldn't find any memo with ID "+Q+". Perhaps it's already been unmemoized.");try{return re.apply(null,te||[]),!0}finally{delete L[Q]}},bd:function(L,Q){var te=[];b(L,te);for(var re=0,Ne=te.length;re<Ne;re++){var $e=te[re].sd,Ue=[$e];Q&&bt.a.gb(Ue,Q),bt.aa.ad(te[re].Jd,Ue),$e.nodeValue="",$e.parentNode&&$e.parentNode.removeChild($e)}},Tc:function(L){return(L=L.match(/^\[ko_memo\:(.*?)\]$/))?L[1]:null}}}(),bt.b("memoization",bt.aa),bt.b("memoization.memoize",bt.aa.Wb),bt.b("memoization.unmemoize",bt.aa.ad),bt.b("memoization.parseMemoText",bt.aa.Tc),bt.b("memoization.unmemoizeDomNodeAndDescendants",bt.aa.bd),bt.ma=function(){function b(){if(te)for(var L,re=te,$e=0;Ne<te;)if(L=Q[Ne++]){if(Ne>re){if(5e3<=++$e){Ne=te,bt.a.Fc(Error("'Too much recursion' after processing "+$e+" task groups."));break}re=te}try{L()}catch(L){bt.a.Fc(L)}}}function c(){b(),Ne=te=Q.length=0}var L,Q=[],te=0,re=1,Ne=0;return L=nt.MutationObserver?function(L){var Q=it.createElement("div");return new MutationObserver(L).observe(Q,{attributes:!0}),function(){Q.classList.toggle("foo")}}(c):it&&"onreadystatechange"in it.createElement("script")?function(L){var Q=it.createElement("script");Q.onreadystatechange=function(){Q.onreadystatechange=null,it.documentElement.removeChild(Q),Q=null,L()},it.documentElement.appendChild(Q)}:function(L){setTimeout(L,0)},{scheduler:L,yb:function(L){return te||bt.ma.scheduler(c),Q[te++]=L,re++},cancel:function(L){(L-=re-te)>=Ne&&L<te&&(Q[L]=null)},resetForTesting:function(){var L=te-Ne;return Ne=te=Q.length=0,L},Rd:b}}(),bt.b("tasks",bt.ma),bt.b("tasks.schedule",bt.ma.yb),bt.b("tasks.runEarly",bt.ma.Rd),bt.Ta={throttle:function(L,Q){L.throttleEvaluation=Q;var te=null;return bt.$({read:L,write:function(re){clearTimeout(te),te=bt.a.setTimeout((function(){L(re)}),Q)}})},rateLimit:function(L,Q){var te,re,Ne;"number"==typeof Q?te=Q:(te=Q.timeout,re=Q.method),L.Hb=!1,Ne="function"==typeof re?re:"notifyWhenChangesStop"==re?Y:X,L.tb((function(L){return Ne(L,te,Q)}))},deferred:function(L,Q){if(!0!==Q)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");L.Hb||(L.Hb=!0,L.tb((function(Q){var te,re=!1;return function(){if(!re){bt.ma.cancel(te),te=bt.ma.yb(Q);try{re=!0,L.notifySubscribers(tt,"dirty")}finally{re=!1}}}})))},notify:function(L,Q){L.equalityComparer="always"==Q?null:K}};var sn={undefined:1,boolean:1,number:1,string:1};bt.b("extenders",bt.Ta),bt.gc=function(L,Q,te){this.da=L,this.kc=Q,this.lc=te,this.Ib=!1,this.ab=this.Jb=null,bt.J(this,"dispose",this.s),bt.J(this,"disposeWhenNodeIsRemoved",this.l)},bt.gc.prototype.s=function(){this.Ib||(this.ab&&bt.a.I.xb(this.Jb,this.ab),this.Ib=!0,this.lc(),this.da=this.kc=this.lc=this.Jb=this.ab=null)},bt.gc.prototype.l=function(L){this.Jb=L,bt.a.I.za(L,this.ab=this.s.bind(this))},bt.R=function(){bt.a.zb(this,ln),ln.ob(this)};var ln={ob:function(L){L.S={change:[]},L.rc=1},subscribe:function(L,Q,te){var re=this;te=te||"change";var Ne=new bt.gc(re,Q?L.bind(Q):L,(function(){bt.a.hb(re.S[te],Ne),re.cb&&re.cb(te)}));return re.Qa&&re.Qa(te),re.S[te]||(re.S[te]=[]),re.S[te].push(Ne),Ne},notifySubscribers:function(L,Q){if("change"===(Q=Q||"change")&&this.Gb(),this.Wa(Q)){var te="change"===Q&&this.dd||this.S[Q].slice(0);try{bt.v.wc();for(var re,Ne=0;re=te[Ne];++Ne)re.Ib||re.kc(L)}finally{bt.v.end()}}},mb:function(){return this.rc},Cd:function(L){return this.mb()!==L},Gb:function(){++this.rc},tb:function(L){var Q,te,re,Ne,$e,Ue=this,tt=bt.N(Ue);Ue.bb||(Ue.bb=Ue.notifySubscribers,Ue.notifySubscribers=Z);var nt=L((function(){Ue.Ka=!1,tt&&Ne===Ue&&(Ne=Ue.mc?Ue.mc():Ue());var L=te||$e&&Ue.qb(re,Ne);$e=te=Q=!1,L&&Ue.bb(re=Ne)}));Ue.pc=function(L,te){te&&Ue.Ka||($e=!te),Ue.dd=Ue.S.change.slice(0),Ue.Ka=Q=!0,Ne=L,nt()},Ue.oc=function(L){Q||(re=L,Ue.bb(L,"beforeChange"))},Ue.qc=function(){$e=!0},Ue.fd=function(){Ue.qb(re,Ue.w(!0))&&(te=!0)}},Wa:function(L){return this.S[L]&&this.S[L].length},Ad:function(L){if(L)return this.S[L]&&this.S[L].length||0;var Q=0;return bt.a.O(this.S,(function(L,te){"dirty"!==L&&(Q+=te.length)})),Q},qb:function(L,Q){return!this.equalityComparer||!this.equalityComparer(L,Q)},toString:function(){return"[object Object]"},extend:function(L){var Q=this;return L&&bt.a.O(L,(function(L,te){var re=bt.Ta[L];"function"==typeof re&&(Q=re(Q,te)||Q)})),Q}};bt.J(ln,"init",ln.ob),bt.J(ln,"subscribe",ln.subscribe),bt.J(ln,"extend",ln.extend),bt.J(ln,"getSubscriptionsCount",ln.Ad),bt.a.Ba&&bt.a.setPrototypeOf(ln,Function.prototype),bt.R.fn=ln,bt.Pc=function(L){return null!=L&&"function"==typeof L.subscribe&&"function"==typeof L.notifySubscribers},bt.b("subscribable",bt.R),bt.b("isSubscribable",bt.Pc),bt.U=bt.v=function(){function b(te){Q.push(L),L=te}function c(){L=Q.pop()}var L,Q=[],te=0;return{wc:b,end:c,ac:function(Q){if(L){if(!bt.Pc(Q))throw Error("Only subscribable things can act as dependencies");L.nd.call(L.od,Q,Q.ed||(Q.ed=++te))}},K:function(L,Q,te){try{return b(),L.apply(Q,te||[])}finally{c()}},pa:function(){if(L)return L.o.pa()},Va:function(){if(L)return L.o.Va()},rb:function(){if(L)return L.rb},o:function(){if(L)return L.o}}}(),bt.b("computedContext",bt.U),bt.b("computedContext.getDependenciesCount",bt.U.pa),bt.b("computedContext.getDependencies",bt.U.Va),bt.b("computedContext.isInitial",bt.U.rb),bt.b("computedContext.registerDependency",bt.U.ac),bt.b("ignoreDependencies",bt.Wd=bt.v.K);var un=bt.a.Da("_latestValue");bt.sa=function(L){function c(){return 0<arguments.length?(c.qb(c[un],arguments[0])&&(c.xa(),c[un]=arguments[0],c.wa()),this):(bt.v.ac(c),c[un])}return c[un]=L,bt.a.Ba||bt.a.extend(c,bt.R.fn),bt.R.fn.ob(c),bt.a.zb(c,cn),bt.options.deferUpdates&&bt.Ta.deferred(c,!0),c};var cn={equalityComparer:K,w:function(){return this[un]},wa:function(){this.notifySubscribers(this[un],"spectate"),this.notifySubscribers(this[un])},xa:function(){this.notifySubscribers(this[un],"beforeChange")}};bt.a.Ba&&bt.a.setPrototypeOf(cn,bt.R.fn);var dn=bt.sa.Na="__ko_proto__";cn[dn]=bt.sa,bt.N=function(L){if((L="function"==typeof L&&L[dn])&&L!==cn[dn]&&L!==bt.o.fn[dn])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!L},bt.Ya=function(L){return"function"==typeof L&&(L[dn]===cn[dn]||L[dn]===bt.o.fn[dn]&&L.Mc)},bt.b("observable",bt.sa),bt.b("isObservable",bt.N),bt.b("isWriteableObservable",bt.Ya),bt.b("isWritableObservable",bt.Ya),bt.b("observable.fn",cn),bt.J(cn,"peek",cn.w),bt.J(cn,"valueHasMutated",cn.wa),bt.J(cn,"valueWillMutate",cn.xa),bt.Ia=function(L){if("object"!=typeof(L=L||[])||!("length"in L))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return L=bt.sa(L),bt.a.zb(L,bt.Ia.fn),L.extend({trackArrayChanges:!0})},bt.Ia.fn={remove:function(L){for(var Q=this.w(),te=[],re="function"!=typeof L||bt.N(L)?function(Q){return Q===L}:L,Ne=0;Ne<Q.length;Ne++){var $e=Q[Ne];if(re($e)){if(0===te.length&&this.xa(),Q[Ne]!==$e)throw Error("Array modified during remove; cannot remove item");te.push($e),Q.splice(Ne,1),Ne--}}return te.length&&this.wa(),te},removeAll:function(L){if(L===tt){var Q=this.w(),te=Q.slice(0);return this.xa(),Q.splice(0,Q.length),this.wa(),te}return L?this.remove((function(Q){return 0<=bt.a.A(L,Q)})):[]},destroy:function(L){var Q=this.w(),te="function"!=typeof L||bt.N(L)?function(Q){return Q===L}:L;this.xa();for(var re=Q.length-1;0<=re;re--){var Ne=Q[re];te(Ne)&&(Ne._destroy=!0)}this.wa()},destroyAll:function(L){return L===tt?this.destroy((function(){return!0})):L?this.destroy((function(Q){return 0<=bt.a.A(L,Q)})):[]},indexOf:function(L){var Q=this();return bt.a.A(Q,L)},replace:function(L,Q){var te=this.indexOf(L);0<=te&&(this.xa(),this.w()[te]=Q,this.wa())},sorted:function(L){var Q=this().slice(0);return L?Q.sort(L):Q.sort()},reversed:function(){return this().slice(0).reverse()}},bt.a.Ba&&bt.a.setPrototypeOf(bt.Ia.fn,bt.sa.fn),bt.a.C("pop push reverse shift sort splice unshift".split(" "),(function(L){bt.Ia.fn[L]=function(){var Q=this.w();this.xa(),this.yc(Q,L,arguments);var te=Q[L].apply(Q,arguments);return this.wa(),te===Q?this:te}})),bt.a.C(["slice"],(function(L){bt.Ia.fn[L]=function(){var Q=this();return Q[L].apply(Q,arguments)}})),bt.Oc=function(L){return bt.N(L)&&"function"==typeof L.remove&&"function"==typeof L.push},bt.b("observableArray",bt.Ia),bt.b("isObservableArray",bt.Oc),bt.Ta.trackArrayChanges=function(L,Q){function d(){function c(){if(nt){var Q,te=[].concat(L.w()||[]);L.Wa("arrayChange")&&((!Ue||1<nt)&&(Ue=bt.a.Ob(re,te,L.Nb)),Q=Ue),re=te,Ue=null,nt=0,Q&&Q.length&&L.notifySubscribers(Q,"arrayChange")}}$e?c():($e=!0,Ne=L.notifySubscribers,L.notifySubscribers=function(L,Q){return Q&&"change"!==Q||++nt,Ne.apply(this,arguments)},re=[].concat(L.w()||[]),Ue=null,te=L.subscribe(c))}if(L.Nb={},Q&&"object"==typeof Q&&bt.a.extend(L.Nb,Q),L.Nb.sparse=!0,!L.yc){var te,re,Ne,$e=!1,Ue=null,nt=0,it=L.Qa,rt=L.cb;L.Qa=function(Q){it&&it.call(L,Q),"arrayChange"===Q&&d()},L.cb=function(Q){rt&&rt.call(L,Q),"arrayChange"!==Q||L.Wa("arrayChange")||(Ne&&(L.notifySubscribers=Ne,Ne=tt),te&&te.s(),te=null,$e=!1,re=tt)},L.yc=function(L,Q,te){function k(L,Q,te){return re[re.length]={status:L,value:Q,index:te}}if($e&&!nt){var re=[],Ne=L.length,tt=te.length,it=0;switch(Q){case"push":it=Ne;case"unshift":for(Q=0;Q<tt;Q++)k("added",te[Q],it+Q);break;case"pop":it=Ne-1;case"shift":Ne&&k("deleted",L[it],it);break;case"splice":Q=Math.min(Math.max(0,0>te[0]?Ne+te[0]:te[0]),Ne),Ne=1===tt?Ne:Math.min(Q+(te[1]||0),Ne),tt=Q+tt-2,it=Math.max(Ne,tt);for(var rt=[],ot=[],at=2;Q<it;++Q,++at)Q<Ne&&ot.push(k("deleted",L[Q],Q)),Q<tt&&rt.push(k("added",te[at],Q));bt.a.Jc(ot,rt);break;default:return}Ue=re}}}};var xn=bt.a.Da("_state");bt.o=bt.$=function(L,Q,te){function e(){if(0<arguments.length){if("function"!=typeof re)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return re.apply(Ne.lb,arguments),this}return Ne.qa||bt.v.ac(e),(Ne.ka||Ne.G&&e.Xa())&&e.ha(),Ne.X}if("object"==typeof L?te=L:(te=te||{},L&&(te.read=L)),"function"!=typeof te.read)throw Error("Pass a function that returns the value of the ko.computed");var re=te.write,Ne={X:tt,ra:!0,ka:!0,pb:!1,hc:!1,qa:!1,vb:!1,G:!1,Vc:te.read,lb:Q||te.owner,l:te.disposeWhenNodeIsRemoved||te.l||null,Sa:te.disposeWhen||te.Sa,Qb:null,F:{},V:0,Hc:null};return e[xn]=Ne,e.Mc="function"==typeof re,bt.a.Ba||bt.a.extend(e,bt.R.fn),bt.R.fn.ob(e),bt.a.zb(e,Wn),te.pure?(Ne.vb=!0,Ne.G=!0,bt.a.extend(e,Yn)):te.deferEvaluation&&bt.a.extend(e,Xn),bt.options.deferUpdates&&bt.Ta.deferred(e,!0),Ne.l&&(Ne.hc=!0,Ne.l.nodeType||(Ne.l=null)),Ne.G||te.deferEvaluation||e.ha(),Ne.l&&e.ja()&&bt.a.I.za(Ne.l,Ne.Qb=function(){e.s()}),e};var Wn={equalityComparer:K,pa:function(){return this[xn].V},Va:function(){var L=[];return bt.a.O(this[xn].F,(function(Q,te){L[te.La]=te.da})),L},Ub:function(L){if(!this[xn].V)return!1;var Q=this.Va();return-1!==bt.a.A(Q,L)||!!bt.a.Lb(Q,(function(Q){return Q.Ub&&Q.Ub(L)}))},tc:function(L,Q,te){if(this[xn].vb&&Q===this)throw Error("A 'pure' computed must not be called recursively");this[xn].F[L]=te,te.La=this[xn].V++,te.Ma=Q.mb()},Xa:function(){var L,Q,te=this[xn].F;for(L in te)if(Object.prototype.hasOwnProperty.call(te,L)&&(Q=te[L],this.Ja&&Q.da.Ka||Q.da.Cd(Q.Ma)))return!0},Id:function(){this.Ja&&!this[xn].pb&&this.Ja(!1)},ja:function(){var L=this[xn];return L.ka||0<L.V},Qd:function(){this.Ka?this[xn].ka&&(this[xn].ra=!0):this.Gc()},Zc:function(L){if(L.Hb){var Q=L.subscribe(this.Id,this,"dirty"),te=L.subscribe(this.Qd,this);return{da:L,s:function(){Q.s(),te.s()}}}return L.subscribe(this.Gc,this)},Gc:function(){var L=this,Q=L.throttleEvaluation;Q&&0<=Q?(clearTimeout(this[xn].Hc),this[xn].Hc=bt.a.setTimeout((function(){L.ha(!0)}),Q)):L.Ja?L.Ja(!0):L.ha(!0)},ha:function(L){var Q=this[xn],te=Q.Sa,re=!1;if(!Q.pb&&!Q.qa){if(Q.l&&!bt.a.Rb(Q.l)||te&&te()){if(!Q.hc)return void this.s()}else Q.hc=!1;Q.pb=!0;try{re=this.yd(L)}finally{Q.pb=!1}return re}},yd:function(L){var Q=this[xn],te=!1,re=Q.vb?tt:!Q.V;te={pd:this,kb:Q.F,Pb:Q.V},bt.v.wc({od:te,nd:ba,o:this,rb:re}),Q.F={},Q.V=0;var Ne=this.xd(Q,te);return Q.V?te=this.qb(Q.X,Ne):(this.s(),te=!0),te&&(Q.G?this.Gb():this.notifySubscribers(Q.X,"beforeChange"),Q.X=Ne,this.notifySubscribers(Q.X,"spectate"),!Q.G&&L&&this.notifySubscribers(Q.X),this.qc&&this.qc()),re&&this.notifySubscribers(Q.X,"awake"),te},xd:function(L,Q){try{var te=L.Vc;return L.lb?te.call(L.lb):te()}finally{bt.v.end(),Q.Pb&&!L.G&&bt.a.O(Q.kb,aa),L.ra=L.ka=!1}},w:function(L){var Q=this[xn];return(Q.ka&&(L||!Q.V)||Q.G&&this.Xa())&&this.ha(),Q.X},tb:function(L){bt.R.fn.tb.call(this,L),this.mc=function(){return this[xn].G||(this[xn].ra?this.ha():this[xn].ka=!1),this[xn].X},this.Ja=function(L){this.oc(this[xn].X),this[xn].ka=!0,L&&(this[xn].ra=!0),this.pc(this,!L)}},s:function(){var L=this[xn];!L.G&&L.F&&bt.a.O(L.F,(function(L,Q){Q.s&&Q.s()})),L.l&&L.Qb&&bt.a.I.xb(L.l,L.Qb),L.F=tt,L.V=0,L.qa=!0,L.ra=!1,L.ka=!1,L.G=!1,L.l=tt,L.Sa=tt,L.Vc=tt,this.Mc||(L.lb=tt)}},Yn={Qa:function(L){var Q=this,te=Q[xn];if(!te.qa&&te.G&&"change"==L){if(te.G=!1,te.ra||Q.Xa())te.F=null,te.V=0,Q.ha()&&Q.Gb();else{var re=[];bt.a.O(te.F,(function(L,Q){re[Q.La]=L})),bt.a.C(re,(function(L,re){var Ne=te.F[L],$e=Q.Zc(Ne.da);$e.La=re,$e.Ma=Ne.Ma,te.F[L]=$e})),Q.Xa()&&Q.ha()&&Q.Gb()}te.qa||Q.notifySubscribers(te.X,"awake")}},cb:function(L){var Q=this[xn];Q.qa||"change"!=L||this.Wa("change")||(bt.a.O(Q.F,(function(L,te){te.s&&(Q.F[L]={da:te.da,La:te.La,Ma:te.Ma},te.s())})),Q.G=!0,this.notifySubscribers(tt,"asleep"))},mb:function(){var L=this[xn];return L.G&&(L.ra||this.Xa())&&this.ha(),bt.R.fn.mb.call(this)}},Xn={Qa:function(L){"change"!=L&&"beforeChange"!=L||this.w()}};bt.a.Ba&&bt.a.setPrototypeOf(Wn,bt.R.fn);var Kn=bt.sa.Na;Wn[Kn]=bt.o,bt.Nc=function(L){return"function"==typeof L&&L[Kn]===Wn[Kn]},bt.Ed=function(L){return bt.Nc(L)&&L[xn]&&L[xn].vb},bt.b("computed",bt.o),bt.b("dependentObservable",bt.o),bt.b("isComputed",bt.Nc),bt.b("isPureComputed",bt.Ed),bt.b("computed.fn",Wn),bt.J(Wn,"peek",Wn.w),bt.J(Wn,"dispose",Wn.s),bt.J(Wn,"isActive",Wn.ja),bt.J(Wn,"getDependenciesCount",Wn.pa),bt.J(Wn,"getDependencies",Wn.Va),bt.wb=function(L,Q){return"function"==typeof L?bt.o(L,Q,{pure:!0}):((L=bt.a.extend({},L)).pure=!0,bt.o(L,Q))},bt.b("pureComputed",bt.wb),function(){function b(L,Q,te){if(te=te||new d,"object"!=typeof(L=Q(L))||null===L||L===tt||L instanceof RegExp||L instanceof Date||L instanceof String||L instanceof Number||L instanceof Boolean)return L;var re=L instanceof Array?[]:{};return te.save(L,re),function(L,Q){if(L instanceof Array){for(var te=0;te<L.length;te++)Q(te);"function"==typeof L.toJSON&&Q("toJSON")}else for(te in L)Q(te)}(L,(function(Ne){var $e=Q(L[Ne]);switch(typeof $e){case"boolean":case"number":case"string":case"function":re[Ne]=$e;break;case"object":case"undefined":var Ue=te.get($e);re[Ne]=Ue!==tt?Ue:b($e,Q,te)}})),re}function d(){this.keys=[],this.values=[]}bt.$c=function(L){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(L,(function(L){for(var Q=0;bt.N(L)&&10>Q;Q++)L=L();return L}))},bt.toJSON=function(L,Q,te){return L=bt.$c(L),bt.a.fc(L,Q,te)},d.prototype={constructor:d,save:function(L,Q){var te=bt.a.A(this.keys,L);0<=te?this.values[te]=Q:(this.keys.push(L),this.values.push(Q))},get:function(L){return 0<=(L=bt.a.A(this.keys,L))?this.values[L]:tt}}}(),bt.b("toJS",bt.$c),bt.b("toJSON",bt.toJSON),bt.Vd=function(L,Q,te){function e(Q){var re=bt.wb(L,te).extend({Ga:"always"}),Ne=re.subscribe((function(L){L&&(Ne.s(),Q(L))}));return re.notifySubscribers(re.w()),Ne}return"function"!=typeof Promise||Q?e(Q.bind(te)):new Promise(e)},bt.b("when",bt.Vd),bt.u={L:function(L){switch(bt.a.P(L)){case"option":return!0===L.__ko__hasDomDataOptionValue__?bt.a.g.get(L,bt.f.options.Yb):7>=bt.a.W?L.getAttributeNode("value")&&L.getAttributeNode("value").specified?L.value:L.text:L.value;case"select":return 0<=L.selectedIndex?bt.u.L(L.options[L.selectedIndex]):tt;default:return L.value}},ya:function(L,Q,te){switch(bt.a.P(L)){case"option":"string"==typeof Q?(bt.a.g.set(L,bt.f.options.Yb,tt),"__ko__hasDomDataOptionValue__"in L&&delete L.__ko__hasDomDataOptionValue__,L.value=Q):(bt.a.g.set(L,bt.f.options.Yb,Q),L.__ko__hasDomDataOptionValue__=!0,L.value="number"==typeof Q?Q:"");break;case"select":""!==Q&&null!==Q||(Q=tt);for(var re,Ne=-1,$e=0,Ue=L.options.length;$e<Ue;++$e)if((re=bt.u.L(L.options[$e]))==Q||""===re&&Q===tt){Ne=$e;break}(te||0<=Ne||Q===tt&&1<L.size)&&(L.selectedIndex=Ne,6===bt.a.W&&bt.a.setTimeout((function(){L.selectedIndex=Ne}),0));break;default:null!==Q&&Q!==tt||(Q=""),L.value=Q}}},bt.b("selectExtensions",bt.u),bt.b("selectExtensions.readValue",bt.u.L),bt.b("selectExtensions.writeValue",bt.u.ya),bt.m=function(){function b(L){123===(L=bt.a.Cb(L)).charCodeAt(0)&&(L=L.slice(1,-1));var Q,$e=[],Ue=(L+="\n,").match(te),tt=[],nt=0;if(1<Ue.length){for(var it,rt=0;it=Ue[rt];++rt){var ot=it.charCodeAt(0);if(44===ot){if(0>=nt){$e.push(Q&&tt.length?{key:Q,value:tt.join("")}:{unknown:Q||tt.join("")}),Q=nt=0,tt=[];continue}}else if(58===ot){if(!nt&&!Q&&1===tt.length){Q=tt.pop();continue}}else{if(47===ot&&1<it.length&&(47===it.charCodeAt(1)||42===it.charCodeAt(1)))continue;47===ot&&rt&&1<it.length?(ot=Ue[rt-1].match(re))&&!Ne[ot[0]]&&(Ue=(L=L.substr(L.indexOf(it)+1)).match(te),rt=-1,it="/"):40===ot||123===ot||91===ot?++nt:41===ot||125===ot||93===ot?--nt:Q||tt.length||34!==ot&&39!==ot||(it=it.slice(1,-1))}tt.push(it)}if(0<nt)throw Error("Unbalanced parentheses, braces, or brackets")}return $e}var L=["true","false","null","undefined"],Q=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,te=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),re=/[\])"'A-Za-z0-9_$]+$/,Ne={in:1,return:1,typeof:1},$e={};return{Ra:[],va:$e,Zb:b,ub:function(te,re){function k(te,re){var it;if(!nt){var rt=bt.getBindingHandler(te);if(rt&&rt.preprocess&&!(re=rt.preprocess(re,te,k)))return;(rt=$e[te])&&(it=re,0<=bt.a.A(L,it)?it=!1:(rt=it.match(Q),it=null!==rt&&(rt[1]?"Object("+rt[1]+")"+rt[2]:it)),rt=it),rt&&Ue.push("'"+("string"==typeof $e[te]?$e[te]:te)+"':function(_z){"+it+"=_z}")}tt&&(re="function(){return "+re+" }"),Ne.push("'"+te+"':"+re)}var Ne=[],Ue=[],tt=(re=re||{}).valueAccessors,nt=re.bindingParams,it="string"==typeof te?b(te):te;return bt.a.C(it,(function(L){k(L.key||L.unknown,L.value)})),Ue.length&&k("_ko_property_writers","{"+Ue.join(",")+" }"),Ne.join(",")},Hd:function(L,Q){for(var te=0;te<L.length;te++)if(L[te].key==Q)return!0;return!1},$a:function(L,Q,te,re,Ne){L&&bt.N(L)?!bt.Ya(L)||Ne&&L.w()===re||L(re):(L=Q.get("_ko_property_writers"))&&L[te]&&L[te](re)}}}(),bt.b("expressionRewriting",bt.m),bt.b("expressionRewriting.bindingRewriteValidators",bt.m.Ra),bt.b("expressionRewriting.parseObjectLiteral",bt.m.Zb),bt.b("expressionRewriting.preProcessBindings",bt.m.ub),bt.b("expressionRewriting._twoWayBindings",bt.m.va),bt.b("jsonExpressionRewriting",bt.m),bt.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",bt.m.ub),function(){function b(te){return 8==te.nodeType&&Q.test(L?te.text:te.nodeValue)}function c(Q){return 8==Q.nodeType&&te.test(L?Q.text:Q.nodeValue)}function d(L,Q){for(var te=L,re=1,$e=[];te=te.nextSibling;){if(c(te)&&(bt.a.g.set(te,Ne,!0),0==--re))return $e;$e.push(te),b(te)&&re++}if(!Q)throw Error("Cannot find closing comment tag to match: "+L.nodeValue);return null}function e(L,Q){var te=d(L,Q);return te?0<te.length?te[te.length-1].nextSibling:L.nextSibling:null}var L=it&&"\x3c!--test--\x3e"===it.createComment("test").text,Q=L?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,te=L?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,re={ul:!0,ol:!0},Ne="__ko_matchedEndComment__";bt.h={ea:{},childNodes:function(L){return b(L)?d(L):L.childNodes},Ea:function(L){if(b(L))for(var Q=0,te=(L=bt.h.childNodes(L)).length;Q<te;Q++)bt.removeNode(L[Q]);else bt.a.Sb(L)},ua:function(L,Q){if(b(L)){bt.h.Ea(L);for(var te=L.nextSibling,re=0,Ne=Q.length;re<Ne;re++)te.parentNode.insertBefore(Q[re],te)}else bt.a.ua(L,Q)},Uc:function(L,Q){b(L)?L.parentNode.insertBefore(Q,L.nextSibling):L.firstChild?L.insertBefore(Q,L.firstChild):L.appendChild(Q)},Vb:function(L,Q,te){te?b(L)?L.parentNode.insertBefore(Q,te.nextSibling):te.nextSibling?L.insertBefore(Q,te.nextSibling):L.appendChild(Q):bt.h.Uc(L,Q)},firstChild:function(L){if(b(L))return!L.nextSibling||c(L.nextSibling)?null:L.nextSibling;if(L.firstChild&&c(L.firstChild))throw Error("Found invalid end comment, as the first child of "+L);return L.firstChild},nextSibling:function(L){if(b(L)&&(L=e(L)),L.nextSibling&&c(L.nextSibling)){var Q=L.nextSibling;if(c(Q)&&!bt.a.g.get(Q,Ne))throw Error("Found end comment without a matching opening comment, as child of "+L);return null}return L.nextSibling},Bd:b,Ud:function(te){return(te=(L?te.text:te.nodeValue).match(Q))?te[1]:null},Rc:function(L){if(re[bt.a.P(L)]){var Q=L.firstChild;if(Q)do{if(1===Q.nodeType){var te,Ne=null;if(te=Q.firstChild)do{if(Ne)Ne.push(te);else if(b(te)){var $e=e(te,!0);$e?te=$e:Ne=[te]}else c(te)&&(Ne=[te])}while(te=te.nextSibling);if(te=Ne)for(Ne=Q.nextSibling,$e=0;$e<te.length;$e++)Ne?L.insertBefore(te[$e],Ne):L.appendChild(te[$e])}}while(Q=Q.nextSibling)}}}}(),bt.b("virtualElements",bt.h),bt.b("virtualElements.allowedBindings",bt.h.ea),bt.b("virtualElements.emptyNode",bt.h.Ea),bt.b("virtualElements.insertAfter",bt.h.Vb),bt.b("virtualElements.prepend",bt.h.Uc),bt.b("virtualElements.setDomNodeChildren",bt.h.ua),bt.ga=function(){this.md={}},bt.a.extend(bt.ga.prototype,{nodeHasBindings:function(L){switch(L.nodeType){case 1:return null!=L.getAttribute("data-bind")||bt.i.getComponentNameForNode(L);case 8:return bt.h.Bd(L);default:return!1}},getBindings:function(L,Q){var te=(te=this.getBindingsString(L,Q))?this.parseBindingsString(te,Q,L):null;return bt.i.sc(te,L,Q,!1)},getBindingAccessors:function(L,Q){var te=(te=this.getBindingsString(L,Q))?this.parseBindingsString(te,Q,L,{valueAccessors:!0}):null;return bt.i.sc(te,L,Q,!0)},getBindingsString:function(L){switch(L.nodeType){case 1:return L.getAttribute("data-bind");case 8:return bt.h.Ud(L);default:return null}},parseBindingsString:function(L,Q,te,re){try{var Ne,$e=this.md,Ue=L+(re&&re.valueAccessors||"");if(!(Ne=$e[Ue])){var tt,nt="with($context){with($data||{}){return{"+bt.m.ub(L,re)+"}}}";tt=new Function("$context","$element",nt),Ne=$e[Ue]=tt}return Ne(Q,te)}catch(Q){throw Q.message="Unable to parse bindings.\nBindings value: "+L+"\nMessage: "+Q.message,Q}}}),bt.ga.instance=new bt.ga,bt.b("bindingProvider",bt.ga),function(){function b(L){var Q=(L=bt.a.g.get(L,$e))&&L.M;Q&&(L.M=null,Q.Sc())}function c(L,Q,te){this.node=L,this.xc=Q,this.ib=[],this.T=!1,Q.M||bt.a.I.za(L,b),te&&te.M&&(te.M.ib.push(L),this.Kb=te)}function d(L){return function(){return L}}function e(L){return L()}function f(L){return bt.a.Ha(bt.v.K(L),(function(Q,te){return function(){return L()[te]}}))}function g(L,Q,te){return"function"==typeof L?f(L.bind(null,Q,te)):bt.a.Ha(L,d)}function h(L,Q){return f(this.getBindings.bind(this,L,Q))}function m(L,Q){var te=bt.h.firstChild(Q);if(te){var re,Ne=bt.ga.instance,$e=Ne.preprocessNode;if($e){for(;re=te;)te=bt.h.nextSibling(re),$e.call(Ne,re);te=bt.h.firstChild(Q)}for(;re=te;)te=bt.h.nextSibling(re),l(L,re)}bt.j.Ga(Q,bt.j.T)}function l(L,Q){var te=L,Ne=1===Q.nodeType;Ne&&bt.h.Rc(Q),(Ne||bt.ga.instance.nodeHasBindings(Q))&&(te=q(Q,null,L).bindingContextForDescendants),te&&!re[bt.a.P(Q)]&&m(te,Q)}function q(Q,re,Ne){var Ue,nt=bt.a.g.Tb(Q,$e,{}),it=nt.gd;if(!re){if(it)throw Error("You cannot apply bindings multiple times to the same element.");nt.gd=!0}if(it||(nt.context=Ne),re&&"function"!=typeof re)Ue=re;else{var rt=bt.ga.instance,ot=rt.getBindingAccessors||h,at=bt.$((function(){return(Ue=re?re(Ne,Q):ot.call(rt,Q,Ne))&&(Ne[L]&&Ne[L](),Ne[te]&&Ne[te]()),Ue}),null,{l:Q});Ue&&at.ja()||(at=null)}var dt,sn=Ne;if(Ue){var J=function(){return bt.a.Ha(at?at():Ue,e)},ln=at?function(L){return function(){return e(at()[L])}}:function(L){return Ue[L]};J.get=function(L){return Ue[L]&&e(ln(L))},J.has=function(L){return L in Ue},bt.j.T in Ue&&bt.j.subscribe(Q,bt.j.T,(function(){var L=(0,Ue[bt.j.T])();if(L){var te=bt.h.childNodes(Q);te.length&&L(te,bt.Dc(te[0]))}})),bt.j.oa in Ue&&(sn=bt.j.Bb(Q,Ne),bt.j.subscribe(Q,bt.j.oa,(function(){var L=(0,Ue[bt.j.oa])();L&&bt.h.firstChild(Q)&&L(Q)}))),nt=function(L){var Q=[],te={},re=[];return bt.a.O(L,(function ca(Ne){if(!te[Ne]){var $e=bt.getBindingHandler(Ne);$e&&($e.after&&(re.push(Ne),bt.a.C($e.after,(function(Q){if(L[Q]){if(-1!==bt.a.A(re,Q))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+re.join(", "));ca(Q)}})),re.length--),Q.push({key:Ne,Lc:$e})),te[Ne]=!0}})),Q}(Ue),bt.a.C(nt,(function(L){var te=L.Lc.init,re=L.Lc.update,Ne=L.key;if(8===Q.nodeType&&!bt.h.ea[Ne])throw Error("The binding '"+Ne+"' cannot be used with virtual elements");try{"function"==typeof te&&bt.v.K((function(){var L=te(Q,ln(Ne),J,sn.$data,sn);if(L&&L.controlsDescendantBindings){if(dt!==tt)throw Error("Multiple bindings ("+dt+" and "+Ne+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");dt=Ne}})),"function"==typeof re&&bt.$((function(){re(Q,ln(Ne),J,sn.$data,sn)}),null,{l:Q})}catch(L){throw L.message='Unable to process binding "'+Ne+": "+Ue[Ne]+'"\nMessage: '+L.message,L}}))}return{shouldBindDescendants:nt=dt===tt,bindingContextForDescendants:nt&&sn}}function n(L,Q){return L&&L instanceof bt.fa?L:new bt.fa(L,tt,tt,Q)}var L=bt.a.Da("_subscribable"),Q=bt.a.Da("_ancestorBindingInfo"),te=bt.a.Da("_dataDependency");bt.f={};var re={script:!0,textarea:!0,template:!0};bt.getBindingHandler=function(L){return bt.f[L]};var Ne={};bt.fa=function(re,$e,Ue,nt,it){function l(){var re=sn?dt():dt,Ne=bt.a.c(re);return $e?(bt.a.extend(ot,$e),Q in $e&&(ot[Q]=$e[Q])):(ot.$parents=[],ot.$root=Ne,ot.ko=bt),ot[L]=rt,at?Ne=ot.$data:(ot.$rawData=re,ot.$data=Ne),Ue&&(ot[Ue]=Ne),nt&&nt(ot,$e,Ne),$e&&$e[L]&&!bt.U.o().Ub($e[L])&&$e[L](),ln&&(ot[te]=ln),ot.$data}var rt,ot=this,at=re===Ne,dt=at?tt:re,sn="function"==typeof dt&&!bt.N(dt),ln=it&&it.dataDependency;it&&it.exportDependencies?l():((rt=bt.wb(l)).w(),rt.ja()?rt.equalityComparer=null:ot[L]=tt)},bt.fa.prototype.createChildContext=function(L,Q,te,re){if(!re&&Q&&"object"==typeof Q&&(Q=(re=Q).as,te=re.extend),Q&&re&&re.noChildContext){var $e="function"==typeof L&&!bt.N(L);return new bt.fa(Ne,this,null,(function(re){te&&te(re),re[Q]=$e?L():L}),re)}return new bt.fa(L,this,Q,(function(L,Q){L.$parentContext=Q,L.$parent=Q.$data,L.$parents=(Q.$parents||[]).slice(0),L.$parents.unshift(L.$parent),te&&te(L)}),re)},bt.fa.prototype.extend=function(L,Q){return new bt.fa(Ne,this,null,(function(Q){bt.a.extend(Q,"function"==typeof L?L(Q):L)}),Q)};var $e=bt.a.g.Z();c.prototype.Sc=function(){this.Kb&&this.Kb.M&&this.Kb.M.rd(this.node)},c.prototype.rd=function(L){bt.a.hb(this.ib,L),!this.ib.length&&this.T&&this.Bc()},c.prototype.Bc=function(){this.T=!0,this.xc.M&&!this.ib.length&&(this.xc.M=null,bt.a.I.xb(this.node,b),bt.j.Ga(this.node,bt.j.oa),this.Sc())},bt.j={T:"childrenComplete",oa:"descendantsComplete",subscribe:function(L,Q,te,re){return(L=bt.a.g.Tb(L,$e,{})).Fa||(L.Fa=new bt.R),L.Fa.subscribe(te,re,Q)},Ga:function(L,Q){var te=bt.a.g.get(L,$e);if(te&&(te.Fa&&te.Fa.notifySubscribers(L,Q),Q==bt.j.T))if(te.M)te.M.Bc();else if(te.M===tt&&te.Fa&&te.Fa.Wa(bt.j.oa))throw Error("descendantsComplete event not supported for bindings on this node")},Bb:function(L,te){var re=bt.a.g.Tb(L,$e,{});return re.M||(re.M=new c(L,re,te[Q])),te[Q]==re?te:te.extend((function(L){L[Q]=re}))}},bt.Sd=function(L){return(L=bt.a.g.get(L,$e))&&L.context},bt.eb=function(L,Q,te){return 1===L.nodeType&&bt.h.Rc(L),q(L,Q,n(te))},bt.kd=function(L,Q,te){return te=n(te),bt.eb(L,g(Q,te,L),te)},bt.Pa=function(L,Q){1!==Q.nodeType&&8!==Q.nodeType||m(n(L),Q)},bt.uc=function(L,Q,te){if(!ot&&nt.jQuery&&(ot=nt.jQuery),2>arguments.length){if(!(Q=it.body))throw Error("ko.applyBindings: could not find document.body; has the document been loaded?")}else if(!Q||1!==Q.nodeType&&8!==Q.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");l(n(L,te),Q)},bt.Cc=function(L){return!L||1!==L.nodeType&&8!==L.nodeType?tt:bt.Sd(L)},bt.Dc=function(L){return(L=bt.Cc(L))?L.$data:tt},bt.b("bindingHandlers",bt.f),bt.b("bindingEvent",bt.j),bt.b("bindingEvent.subscribe",bt.j.subscribe),bt.b("bindingEvent.startPossiblyAsyncContentBinding",bt.j.Bb),bt.b("applyBindings",bt.uc),bt.b("applyBindingsToDescendants",bt.Pa),bt.b("applyBindingAccessorsToNode",bt.eb),bt.b("applyBindingsToNode",bt.kd),bt.b("contextFor",bt.Cc),bt.b("dataFor",bt.Dc)}(),function(L){function c(re,Ne){var $e,Ue=Object.prototype.hasOwnProperty.call(Q,re)?Q[re]:L;Ue?Ue.subscribe(Ne):((Ue=Q[re]=new bt.R).subscribe(Ne),d(re,(function(L,Ne){var tt=!(!Ne||!Ne.synchronous);te[re]={definition:L,Fd:tt},delete Q[re],$e||tt?Ue.notifySubscribers(L):bt.ma.yb((function(){Ue.notifySubscribers(L)}))})),$e=!0)}function d(L,Q){e("getConfig",[L],(function(te){te?e("loadComponent",[L,te],(function(L){Q(L,te)})):Q(null,null)}))}function e(Q,te,re,Ne){Ne||(Ne=bt.i.loaders.slice(0));var $e=Ne.shift();if($e){var Ue=$e[Q];if(Ue){var tt=!1;if(Ue.apply($e,te.concat((function(L){tt?re(null):null!==L?re(L):e(Q,te,re,Ne)})))!==L&&(tt=!0,!$e.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else e(Q,te,re,Ne)}else re(null)}var Q={},te={};bt.i={get:function(Q,re){var Ne=Object.prototype.hasOwnProperty.call(te,Q)?te[Q]:L;Ne?Ne.Fd?bt.v.K((function(){re(Ne.definition)})):bt.ma.yb((function(){re(Ne.definition)})):c(Q,re)},Ac:function(L){delete te[L]},nc:e},bt.i.loaders=[],bt.b("components",bt.i),bt.b("components.get",bt.i.get),bt.b("components.clearCachedDefinition",bt.i.Ac)}(),function(){function b(L,Q,re,Ne){function g(){0==--Ue&&Ne($e)}var $e={},Ue=2,tt=re.template;re=re.viewModel,tt?f(Q,tt,(function(Q){bt.i.nc("loadTemplate",[L,Q],(function(L){$e.template=L,g()}))})):g(),re?f(Q,re,(function(Q){bt.i.nc("loadViewModel",[L,Q],(function(L){$e[te]=L,g()}))})):g()}function c(L,Q,re){if("function"==typeof Q)re((function(L){return new Q(L)}));else if("function"==typeof Q[te])re(Q[te]);else if("instance"in Q){var Ne=Q.instance;re((function(){return Ne}))}else"viewModel"in Q?c(L,Q.viewModel,re):L("Unknown viewModel value: "+Q)}function d(L){switch(bt.a.P(L)){case"script":return bt.a.ta(L.text);case"textarea":return bt.a.ta(L.value);case"template":if(e(L.content))return bt.a.Ca(L.content.childNodes)}return bt.a.Ca(L.childNodes)}function e(L){return nt.DocumentFragment?L instanceof DocumentFragment:L&&11===L.nodeType}function f(L,te,re){"string"==typeof te.require?Q||nt.require?(Q||nt.require)([te.require],re):L("Uses require, but no AMD loader is present"):re(te)}function g(L){return function(Q){throw Error("Component '"+L+"': "+Q)}}var L={};bt.i.register=function(Q,te){if(!te)throw Error("Invalid configuration for "+Q);if(bt.i.sb(Q))throw Error("Component "+Q+" is already registered");L[Q]=te},bt.i.sb=function(Q){return Object.prototype.hasOwnProperty.call(L,Q)},bt.i.unregister=function(Q){delete L[Q],bt.i.Ac(Q)},bt.i.Ec={getConfig:function(Q,te){te(bt.i.sb(Q)?L[Q]:null)},loadComponent:function(L,Q,te){var re=g(L);f(re,Q,(function(Q){b(L,re,Q,te)}))},loadTemplate:function(L,Q,te){if(L=g(L),"string"==typeof Q)te(bt.a.ta(Q));else if(Q instanceof Array)te(Q);else if(e(Q))te(bt.a.la(Q.childNodes));else if(Q.element)if(Q=Q.element,nt.HTMLElement?Q instanceof HTMLElement:Q&&Q.tagName&&1===Q.nodeType)te(d(Q));else if("string"==typeof Q){var re=it.getElementById(Q);re?te(d(re)):L("Cannot find element with ID "+Q)}else L("Unknown element type: "+Q);else L("Unknown template value: "+Q)},loadViewModel:function(L,Q,te){c(g(L),Q,te)}};var te="createViewModel";bt.b("components.register",bt.i.register),bt.b("components.isRegistered",bt.i.sb),bt.b("components.unregister",bt.i.unregister),bt.b("components.defaultLoader",bt.i.Ec),bt.i.loaders.push(bt.i.Ec),bt.i.cd=L}(),function(){function b(Q,te){if(re=Q.getAttribute("params")){var re=L.parseBindingsString(re,te,Q,{valueAccessors:!0,bindingParams:!0}),Ne=(re=bt.a.Ha(re,(function(L){return bt.o(L,null,{l:Q})})),bt.a.Ha(re,(function(L){var te=L.w();return L.ja()?bt.o({read:function(){return bt.a.c(L())},write:bt.Ya(te)&&function(Q){L()(Q)},l:Q}):te})));return Object.prototype.hasOwnProperty.call(Ne,"$raw")||(Ne.$raw=re),Ne}return{$raw:{}}}bt.i.getComponentNameForNode=function(L){var Q=bt.a.P(L);if(bt.i.sb(Q)&&(-1!=Q.indexOf("-")||"[object HTMLUnknownElement]"==""+L||8>=bt.a.W&&L.tagName===Q))return Q},bt.i.sc=function(L,Q,te,re){if(1===Q.nodeType){var Ne=bt.i.getComponentNameForNode(Q);if(Ne){if((L=L||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var $e={name:Ne,params:b(Q,te)};L.component=re?function(){return $e}:$e}}return L};var L=new bt.ga;9>bt.a.W&&(bt.i.register=function(L){return function(Q){return L.apply(this,arguments)}}(bt.i.register),it.createDocumentFragment=function(L){return function(){var Q,te=L(),re=bt.i.cd;for(Q in re);return te}}(it.createDocumentFragment))}(),function(){var L=0;bt.f.component={init:function(Q,te,re,Ne,$e){function l(){var L=Ue&&Ue.dispose;"function"==typeof L&&L.call(Ue),nt&&nt.s(),tt=Ue=nt=null}var Ue,tt,nt,it=bt.a.la(bt.h.childNodes(Q));return bt.h.Ea(Q),bt.a.I.za(Q,l),bt.o((function(){var re,Ne,rt=bt.a.c(te());if("string"==typeof rt?re=rt:(re=bt.a.c(rt.name),Ne=bt.a.c(rt.params)),!re)throw Error("No component name specified");var ot=bt.j.Bb(Q,$e),at=tt=++L;bt.i.get(re,(function(L){if(tt===at){if(l(),!L)throw Error("Unknown component '"+re+"'");!function(L,Q,te){if(!(Q=Q.template))throw Error("Component '"+L+"' has no template");L=bt.a.Ca(Q),bt.h.ua(te,L)}(re,L,Q);var te=function(L,Q,te){var re=L.createViewModel;return re?re.call(L,Q,te):Q}(L,Ne,{element:Q,templateNodes:it});L=ot.createChildContext(te,{extend:function(L){L.$component=te,L.$componentTemplateNodes=it}}),te&&te.koDescendantsComplete&&(nt=bt.j.subscribe(Q,bt.j.oa,te.koDescendantsComplete,te)),Ue=te,bt.Pa(L,Q)}}))}),null,{l:Q}),{controlsDescendantBindings:!0}}},bt.h.ea.component=!0}();var ti={class:"className",for:"htmlFor"};bt.f.attr={update:function(L,Q){var te=bt.a.c(Q())||{};bt.a.O(te,(function(Q,te){te=bt.a.c(te);var re=Q.indexOf(":"),Ne=(re="lookupNamespaceURI"in L&&0<re&&L.lookupNamespaceURI(Q.substr(0,re)),!1===te||null===te||te===tt);Ne?re?L.removeAttributeNS(re,Q):L.removeAttribute(Q):te=te.toString(),8>=bt.a.W&&Q in ti?(Q=ti[Q],Ne?L.removeAttribute(Q):L[Q]=te):Ne||(re?L.setAttributeNS(re,Q,te):L.setAttribute(Q,te)),"name"===Q&&bt.a.Xc(L,Ne?"":te)}))}},bt.f.checked={after:["value","attr"],init:function(L,Q,te){function e(){var Ue=L.checked,rt=re();if(!bt.U.rb()&&(Ue||!$e&&!bt.U.pa())){var at=bt.v.K(Q);if(nt){var dt=it?at.w():at,sn=ot;ot=rt,sn!==rt?Ue&&(bt.a.Oa(dt,rt,!0),bt.a.Oa(dt,sn,!1)):bt.a.Oa(dt,rt,Ue),it&&bt.Ya(at)&&at(dt)}else Ne&&(rt===tt?rt=Ue:Ue||(rt=tt)),bt.m.$a(at,te,"checked",rt,!0)}}var re=bt.wb((function(){return te.has("checkedValue")?bt.a.c(te.get("checkedValue")):rt?te.has("value")?bt.a.c(te.get("value")):L.value:void 0})),Ne="checkbox"==L.type,$e="radio"==L.type;if(Ne||$e){var Ue=Q(),nt=Ne&&bt.a.c(Ue)instanceof Array,it=!(nt&&Ue.push&&Ue.splice),rt=$e||nt,ot=nt?re():tt;$e&&!L.name&&bt.f.uniqueName.init(L,(function(){return!0})),bt.o(e,null,{l:L}),bt.a.H(L,"click",e),bt.o((function(){var te=bt.a.c(Q()),$e=re();nt?(L.checked=0<=bt.a.A(te,$e),ot=$e):L.checked=Ne&&$e===tt?!!te:re()===te}),null,{l:L}),Ue=tt}}},bt.m.va.checked=!0,bt.f.checkedValue={update:function(L,Q){L.value=bt.a.c(Q())}},bt.f.class={update:function(L,Q){var te=bt.a.Cb(bt.a.c(Q()));bt.a.Eb(L,L.__ko__cssValue,!1),L.__ko__cssValue=te,bt.a.Eb(L,te,!0)}},bt.f.css={update:function(L,Q){var te=bt.a.c(Q());null!==te&&"object"==typeof te?bt.a.O(te,(function(Q,te){te=bt.a.c(te),bt.a.Eb(L,Q,te)})):bt.f.class.update(L,Q)}},bt.f.enable={update:function(L,Q){var te=bt.a.c(Q());te&&L.disabled?L.removeAttribute("disabled"):te||L.disabled||(L.disabled=!0)}},bt.f.disable={update:function(L,Q){bt.f.enable.update(L,(function(){return!bt.a.c(Q())}))}},bt.f.event={init:function(L,Q,te,re,Ne){var $e=Q()||{};bt.a.O($e,(function($e){"string"==typeof $e&&bt.a.H(L,$e,(function(L){var Ue,tt=Q()[$e];if(tt){try{var nt=bt.a.la(arguments);re=Ne.$data,nt.unshift(re),Ue=tt.apply(re,nt)}finally{!0!==Ue&&(L.preventDefault?L.preventDefault():L.returnValue=!1)}!1===te.get($e+"Bubble")&&(L.cancelBubble=!0,L.stopPropagation&&L.stopPropagation())}}))}))}},bt.f.foreach={Qc:function(L){return function(){var Q=L(),te=bt.a.$b(Q);return te&&"number"!=typeof te.length?(bt.a.c(Q),{foreach:te.data,as:te.as,noChildContext:te.noChildContext,includeDestroyed:te.includeDestroyed,afterAdd:te.afterAdd,beforeRemove:te.beforeRemove,afterRender:te.afterRender,beforeMove:te.beforeMove,afterMove:te.afterMove,templateEngine:bt.ba.Na}):{foreach:Q,templateEngine:bt.ba.Na}}},init:function(L,Q){return bt.f.template.init(L,bt.f.foreach.Qc(Q))},update:function(L,Q,te,re,Ne){return bt.f.template.update(L,bt.f.foreach.Qc(Q),te,re,Ne)}},bt.m.Ra.foreach=!1,bt.h.ea.foreach=!0,bt.f.hasfocus={init:function(L,Q,te){function e(re){L.__ko_hasfocusUpdating=!0;var Ne=L.ownerDocument;if("activeElement"in Ne){var $e;try{$e=Ne.activeElement}catch(L){$e=Ne.body}re=$e===L}Ne=Q(),bt.m.$a(Ne,te,"hasfocus",re,!0),L.__ko_hasfocusLastValue=re,L.__ko_hasfocusUpdating=!1}var re=e.bind(null,!0),Ne=e.bind(null,!1);bt.a.H(L,"focus",re),bt.a.H(L,"focusin",re),bt.a.H(L,"blur",Ne),bt.a.H(L,"focusout",Ne),L.__ko_hasfocusLastValue=!1},update:function(L,Q){var te=!!bt.a.c(Q());L.__ko_hasfocusUpdating||L.__ko_hasfocusLastValue===te||(te?L.focus():L.blur(),!te&&L.__ko_hasfocusLastValue&&L.ownerDocument.body.focus(),bt.v.K(bt.a.Fb,null,[L,te?"focusin":"focusout"]))}},bt.m.va.hasfocus=!0,bt.f.hasFocus=bt.f.hasfocus,bt.m.va.hasFocus="hasfocus",bt.f.html={init:function(){return{controlsDescendantBindings:!0}},update:function(L,Q){bt.a.dc(L,Q())}},function(){function b(L,Q,te){bt.f[L]={init:function(L,re,Ne,$e,Ue){var tt,nt,it,rt,ot,at={};if(Q){$e=Ne.get("as");var dt=Ne.get("noChildContext");at={as:$e,noChildContext:dt,exportDependencies:ot=!($e&&dt)}}return rt=(it="render"==Ne.get("completeOn"))||Ne.has(bt.j.oa),bt.o((function(){var Ne,$e=bt.a.c(re()),dt=!te!=!$e,sn=!nt;(ot||dt!==tt)&&(rt&&(Ue=bt.j.Bb(L,Ue)),dt&&(Q&&!ot||(at.dataDependency=bt.U.o()),Ne=Q?Ue.createChildContext("function"==typeof $e?$e:re,at):bt.U.pa()?Ue.extend(null,at):Ue),sn&&bt.U.pa()&&(nt=bt.a.Ca(bt.h.childNodes(L),!0)),dt?(sn||bt.h.ua(L,bt.a.Ca(nt)),bt.Pa(Ne,L)):(bt.h.Ea(L),it||bt.j.Ga(L,bt.j.T)),tt=dt)}),null,{l:L}),{controlsDescendantBindings:!0}}},bt.m.Ra[L]=!1,bt.h.ea[L]=!0}b("if"),b("ifnot",!1,!0),b("with",!0)}(),bt.f.let={init:function(L,Q,te,re,Ne){return Q=Ne.extend(Q),bt.Pa(Q,L),{controlsDescendantBindings:!0}}},bt.h.ea.let=!0;var ni={};bt.f.options={init:function(L){if("select"!==bt.a.P(L))throw Error("options binding applies only to SELECT elements");for(;0<L.length;)L.remove(0);return{controlsDescendantBindings:!0}},update:function(L,Q,te){function e(){return bt.a.fb(L.options,(function(L){return L.selected}))}function f(L,Q,te){var re=typeof Q;return"function"==re?Q(L):"string"==re?L[Q]:te}function g(Q,re){if(ot&&Ue)bt.u.ya(L,bt.a.c(te.get("value")),!0);else if(rt.length){var Ne=0<=bt.a.A(rt,bt.u.L(re[0]));bt.a.Yc(re[0],Ne),ot&&!Ne&&bt.v.K(bt.a.Fb,null,[L,"change"])}}var re=L.multiple,Ne=0!=L.length&&re?L.scrollTop:null,$e=bt.a.c(Q()),Ue=te.get("valueAllowUnset")&&te.has("value"),nt=te.get("optionsIncludeDestroyed");Q={};var it,rt=[];Ue||(re?rt=bt.a.Mb(e(),bt.u.L):0<=L.selectedIndex&&rt.push(bt.u.L(L.options[L.selectedIndex]))),$e&&(void 0===$e.length&&($e=[$e]),it=bt.a.fb($e,(function(L){return nt||L===tt||null===L||!bt.a.c(L._destroy)})),te.has("optionsCaption")&&null!==($e=bt.a.c(te.get("optionsCaption")))&&$e!==tt&&it.unshift(ni));var ot=!1;Q.beforeRemove=function(Q){L.removeChild(Q)},$e=g,te.has("optionsAfterRender")&&"function"==typeof te.get("optionsAfterRender")&&($e=function(L,Q){g(0,Q),bt.v.K(te.get("optionsAfterRender"),null,[Q[0],L!==ni?L:tt])}),bt.a.cc(L,it,(function(Q,re,Ne){return Ne.length&&(rt=!Ue&&Ne[0].selected?[bt.u.L(Ne[0])]:[],ot=!0),re=L.ownerDocument.createElement("option"),Q===ni?(bt.a.Ab(re,te.get("optionsCaption")),bt.u.ya(re,tt)):(Ne=f(Q,te.get("optionsValue"),Q),bt.u.ya(re,bt.a.c(Ne)),Q=f(Q,te.get("optionsText"),Ne),bt.a.Ab(re,Q)),[re]}),Q,$e),bt.v.K((function(){Ue?bt.u.ya(L,bt.a.c(te.get("value")),!0):(re?rt.length&&e().length<rt.length:rt.length&&0<=L.selectedIndex?bt.u.L(L.options[L.selectedIndex])!==rt[0]:rt.length||0<=L.selectedIndex)&&bt.a.Fb(L,"change")})),bt.a.vd(L),Ne&&20<Math.abs(Ne-L.scrollTop)&&(L.scrollTop=Ne)}},bt.f.options.Yb=bt.a.g.Z(),bt.f.selectedOptions={after:["options","foreach"],init:function(L,Q,te){bt.a.H(L,"change",(function(){var re=Q(),Ne=[];bt.a.C(L.getElementsByTagName("option"),(function(L){L.selected&&Ne.push(bt.u.L(L))})),bt.m.$a(re,te,"selectedOptions",Ne)}))},update:function(L,Q){if("select"!=bt.a.P(L))throw Error("values binding applies only to SELECT elements");var te=bt.a.c(Q()),re=L.scrollTop;te&&"number"==typeof te.length&&bt.a.C(L.getElementsByTagName("option"),(function(L){var Q=0<=bt.a.A(te,bt.u.L(L));L.selected!=Q&&bt.a.Yc(L,Q)})),L.scrollTop=re}},bt.m.va.selectedOptions=!0,bt.f.style={update:function(L,Q){var te=bt.a.c(Q()||{});bt.a.O(te,(function(Q,te){if(null!==(te=bt.a.c(te))&&te!==tt&&!1!==te||(te=""),ot)ot(L).css(Q,te);else if(/^--/.test(Q))L.style.setProperty(Q,te);else{Q=Q.replace(/-(\w)/g,(function(L,Q){return Q.toUpperCase()}));var re=L.style[Q];L.style[Q]=te,te===re||L.style[Q]!=re||isNaN(te)||(L.style[Q]=te+"px")}}))}},bt.f.submit={init:function(L,Q,te,re,Ne){if("function"!=typeof Q())throw Error("The value for a submit binding must be a function");bt.a.H(L,"submit",(function(te){var re,$e=Q();try{re=$e.call(Ne.$data,L)}finally{!0!==re&&(te.preventDefault?te.preventDefault():te.returnValue=!1)}}))}},bt.f.text={init:function(){return{controlsDescendantBindings:!0}},update:function(L,Q){bt.a.Ab(L,Q())}},bt.h.ea.text=!0,function(){if(nt&&nt.navigator){var L,Q,te,re,Ne,b=function(L){if(L)return parseFloat(L[1])},$e=nt.navigator.userAgent;(L=nt.opera&&nt.opera.version&&parseInt(nt.opera.version()))||(Ne=b($e.match(/Edge\/([^ ]+)$/)))||b($e.match(/Chrome\/([^ ]+)/))||(Q=b($e.match(/Version\/([^ ]+) Safari/)))||(te=b($e.match(/Firefox\/([^ ]+)/)))||(re=bt.a.W||b($e.match(/MSIE ([^ ]+)/)))||(re=b($e.match(/rv:([^ )]+)/)))}if(8<=re&&10>re)var Ue=bt.a.g.Z(),it=bt.a.g.Z(),k=function(L){var Q=this.activeElement;(Q=Q&&bt.a.g.get(Q,it))&&Q(L)},q=function(L,Q){var te=L.ownerDocument;bt.a.g.get(te,Ue)||(bt.a.g.set(te,Ue,!0),bt.a.H(te,"selectionchange",k)),bt.a.g.set(L,it,Q)};bt.f.textInput={init:function($e,Ue,nt){function k(L,Q){bt.a.H($e,L,Q)}function t(){it||(rt=$e.value,it=bt.a.setTimeout(B,4))}function B(){clearTimeout(it),rt=it=tt;var L=$e.value;ot!==L&&(ot=L,bt.m.$a(Ue(),nt,"textInput",L))}var it,rt,ot=$e.value,at=9==bt.a.W?t:B,dt=!1;re&&k("keypress",B),11>re&&k("propertychange",(function(L){dt||"value"!==L.propertyName||at(L)})),8==re&&(k("keyup",B),k("keydown",B)),q&&(q($e,at),k("dragend",t)),(!re||9<=re)&&k("input",at),5>Q&&"textarea"===bt.a.P($e)?(k("keydown",t),k("paste",t),k("cut",t)):11>L?k("keydown",t):4>te?(k("DOMAutoComplete",B),k("dragdrop",B),k("drop",B)):Ne&&"number"===$e.type&&k("keydown",t),k("change",B),k("blur",B),bt.o((function m(){var L=bt.a.c(Ue());null!==L&&L!==tt||(L=""),rt!==tt&&L===rt?bt.a.setTimeout(m,4):$e.value!==L&&(dt=!0,$e.value=L,dt=!1,ot=$e.value)}),null,{l:$e})}},bt.m.va.textInput=!0,bt.f.textinput={preprocess:function(L,Q,te){te("textInput",L)}}}(),bt.f.uniqueName={init:function(L,Q){if(Q()){var te="ko_unique_"+ ++bt.f.uniqueName.qd;bt.a.Xc(L,te)}}},bt.f.uniqueName.qd=0,bt.f.using={init:function(L,Q,te,re,Ne){var $e;return te.has("as")&&($e={as:te.get("as"),noChildContext:te.get("noChildContext")}),Q=Ne.createChildContext(Q,$e),bt.Pa(Q,L),{controlsDescendantBindings:!0}}},bt.h.ea.using=!0,bt.f.value={after:["options","foreach"],init:function(L,Q,te){var re=bt.a.P(L),Ne="input"==re;if(!Ne||"checkbox"!=L.type&&"radio"!=L.type){var $e=["change"],Ue=te.get("valueUpdate"),nt=!1,it=null;Ue&&("string"==typeof Ue&&(Ue=[Ue]),bt.a.gb($e,Ue),$e=bt.a.vc($e));var rt,k=function(){it=null,nt=!1;var re=Q(),Ne=bt.u.L(L);bt.m.$a(re,te,"value",Ne)};!bt.a.W||!Ne||"text"!=L.type||"off"==L.autocomplete||L.form&&"off"==L.form.autocomplete||-1!=bt.a.A($e,"propertychange")||(bt.a.H(L,"propertychange",(function(){nt=!0})),bt.a.H(L,"focus",(function(){nt=!1})),bt.a.H(L,"blur",(function(){nt&&k()}))),bt.a.C($e,(function(Q){var te=k;bt.a.Td(Q,"after")&&(te=function(){it=bt.u.L(L),bt.a.setTimeout(k,0)},Q=Q.substring(5)),bt.a.H(L,Q,te)})),rt=Ne&&"file"==L.type?function(){var te=bt.a.c(Q());null===te||te===tt||""===te?L.value="":bt.v.K(k)}:function(){var Ne=bt.a.c(Q()),$e=bt.u.L(L);null!==it&&Ne===it?bt.a.setTimeout(rt,0):Ne===$e&&$e!==tt||("select"===re?($e=te.get("valueAllowUnset"),bt.u.ya(L,Ne,$e),$e||Ne===bt.u.L(L)||bt.v.K(k)):bt.u.ya(L,Ne))},bt.o(rt,null,{l:L})}else bt.eb(L,{checkedValue:Q})},update:function(){}},bt.m.va.value=!0,bt.f.visible={update:function(L,Q){var te=bt.a.c(Q()),re="none"!=L.style.display;te&&!re?L.style.display="":!te&&re&&(L.style.display="none")}},bt.f.hidden={update:function(L,Q){bt.f.visible.update(L,(function(){return!bt.a.c(Q())}))}},function(L){bt.f[L]={init:function(Q,te,re,Ne,$e){return bt.f.event.init.call(this,Q,(function(){var Q={};return Q[L]=te(),Q}),re,Ne,$e)}}}("click"),bt.ca=function(){},bt.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},bt.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},bt.ca.prototype.makeTemplateSource=function(L,Q){if("string"==typeof L){var te=(Q=Q||it).getElementById(L);if(!te)throw Error("Cannot find template with ID "+L);return new bt.B.D(te)}if(1==L.nodeType||8==L.nodeType)return new bt.B.ia(L);throw Error("Unknown template type: "+L)},bt.ca.prototype.renderTemplate=function(L,Q,te,re){return L=this.makeTemplateSource(L,re),this.renderTemplateSource(L,Q,te,re)},bt.ca.prototype.isTemplateRewritten=function(L,Q){return!1===this.allowTemplateRewriting||this.makeTemplateSource(L,Q).data("isRewritten")},bt.ca.prototype.rewriteTemplate=function(L,Q,te){Q=Q((L=this.makeTemplateSource(L,te)).text()),L.text(Q),L.data("isRewritten",!0)},bt.b("templateEngine",bt.ca),bt.ic=function(){function b(L,Q,te,re){L=bt.m.Zb(L);for(var Ne=bt.m.Ra,$e=0;$e<L.length;$e++){var Ue=L[$e].key;if(Object.prototype.hasOwnProperty.call(Ne,Ue)){var tt=Ne[Ue];if("function"==typeof tt){if(Ue=tt(L[$e].value))throw Error(Ue)}else if(!tt)throw Error("This template engine does not support the '"+Ue+"' binding within its templates")}}return te="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+bt.m.ub(L,{valueAccessors:!0})+" } })()},'"+te.toLowerCase()+"')",re.createJavaScriptEvaluatorBlock(te)+Q}var L=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,Q=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{wd:function(L,Q,te){Q.isTemplateRewritten(L,te)||Q.rewriteTemplate(L,(function(L){return bt.ic.Kd(L,Q)}),te)},Kd:function(te,re){return te.replace(L,(function(L,Q,te,Ne,$e){return b($e,Q,te,re)})).replace(Q,(function(L,Q){return b(Q,"\x3c!-- ko --\x3e","#comment",re)}))},ld:function(L,Q){return bt.aa.Wb((function(te,re){var Ne=te.nextSibling;Ne&&Ne.nodeName.toLowerCase()===Q&&bt.eb(Ne,L,re)}))}}}(),bt.b("__tr_ambtns",bt.ic.ld),function(){bt.B={},bt.B.D=function(L){if(this.D=L){var Q=bt.a.P(L);this.Db="script"===Q?1:"textarea"===Q?2:"template"==Q&&L.content&&11===L.content.nodeType?3:4}},bt.B.D.prototype.text=function(){var L=1===this.Db?"text":2===this.Db?"value":"innerHTML";if(0==arguments.length)return this.D[L];var Q=arguments[0];"innerHTML"===L?bt.a.dc(this.D,Q):this.D[L]=Q};var L=bt.a.g.Z()+"_";bt.B.D.prototype.data=function(Q){if(1===arguments.length)return bt.a.g.get(this.D,L+Q);bt.a.g.set(this.D,L+Q,arguments[1])};var Q=bt.a.g.Z();bt.B.D.prototype.nodes=function(){var L=this.D;if(0==arguments.length){var te=bt.a.g.get(L,Q)||{},re=te.jb||(3===this.Db?L.content:4===this.Db?L:tt);return re&&!te.hd||(te=this.text())&&(re=bt.a.Ld(te,L.ownerDocument),this.text(""),bt.a.g.set(L,Q,{jb:re,hd:!0})),re}bt.a.g.set(L,Q,{jb:arguments[0]})},bt.B.ia=function(L){this.D=L},bt.B.ia.prototype=new bt.B.D,bt.B.ia.prototype.constructor=bt.B.ia,bt.B.ia.prototype.text=function(){if(0==arguments.length){var L=bt.a.g.get(this.D,Q)||{};return L.jc===tt&&L.jb&&(L.jc=L.jb.innerHTML),L.jc}bt.a.g.set(this.D,Q,{jc:arguments[0]})},bt.b("templateSources",bt.B),bt.b("templateSources.domElement",bt.B.D),bt.b("templateSources.anonymousTemplate",bt.B.ia)}(),function(){function b(L,Q,te){var re;for(Q=bt.h.nextSibling(Q);L&&(re=L)!==Q;)te(re,L=bt.h.nextSibling(re))}function c(L,Q){if(L.length){var te=L[0],re=L[L.length-1],Ne=te.parentNode,$e=bt.ga.instance,Ue=$e.preprocessNode;if(Ue){if(b(te,re,(function(L,Q){var Ne=L.previousSibling,tt=Ue.call($e,L);tt&&(L===te&&(te=tt[0]||Q),L===re&&(re=tt[tt.length-1]||Ne))})),L.length=0,!te)return;te===re?L.push(te):(L.push(te,re),bt.a.Ua(L,Ne))}b(te,re,(function(L){1!==L.nodeType&&8!==L.nodeType||bt.uc(Q,L)})),b(te,re,(function(L){1!==L.nodeType&&8!==L.nodeType||bt.aa.bd(L,[Q])})),bt.a.Ua(L,Ne)}}function d(L){return L.nodeType?L:0<L.length?L[0]:null}function e(Q,te,re,Ne,$e){$e=$e||{};var Ue=(Q&&d(Q)||re||{}).ownerDocument,tt=$e.templateEngine||L;if(bt.ic.wd(re,tt,Ue),"number"!=typeof(re=tt.renderTemplate(re,Ne,$e,Ue)).length||0<re.length&&"number"!=typeof re[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(Ue=!1,te){case"replaceChildren":bt.h.ua(Q,re),Ue=!0;break;case"replaceNode":bt.a.Wc(Q,re),Ue=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+te)}return Ue&&(c(re,Ne),$e.afterRender&&bt.v.K($e.afterRender,null,[re,Ne[$e.as||"$data"]]),"replaceChildren"==te&&bt.j.Ga(Q,bt.j.T)),re}function f(L,Q,te){return bt.N(L)?L():"function"==typeof L?L(Q,te):L}var L;bt.ec=function(Q){if(Q!=tt&&!(Q instanceof bt.ca))throw Error("templateEngine must inherit from ko.templateEngine");L=Q},bt.bc=function(Q,te,re,Ne,$e){if(((re=re||{}).templateEngine||L)==tt)throw Error("Set a template engine before calling renderTemplate");if($e=$e||"replaceChildren",Ne){var Ue=d(Ne);return bt.$((function(){var L=te&&te instanceof bt.fa?te:new bt.fa(te,null,null,null,{exportDependencies:!0}),tt=f(Q,L.$data,L);L=e(Ne,$e,tt,L,re),"replaceNode"==$e&&(Ue=d(Ne=L))}),null,{Sa:function(){return!Ue||!bt.a.Rb(Ue)},l:Ue&&"replaceNode"==$e?Ue.parentNode:Ue})}return bt.aa.Wb((function(L){bt.bc(Q,te,re,L,"replaceNode")}))},bt.Pd=function(L,Q,te,re,Ne){function y(L,Q){bt.v.K(bt.a.cc,null,[re,L,u,te,t,Q]),bt.j.Ga(re,bt.j.T)}function t(L,Q){c(Q,$e),te.afterRender&&te.afterRender(Q,L),$e=null}function u(Q,tt){$e=Ne.createChildContext(Q,{as:Ue,noChildContext:te.noChildContext,extend:function(L){L.$index=tt,Ue&&(L[Ue+"Index"]=tt)}});var nt=f(L,Q,$e);return e(re,"ignoreTargetNode",nt,$e,te)}var $e,Ue=te.as,nt=!1===te.includeDestroyed||bt.options.foreachHidesDestroyed&&!te.includeDestroyed;if(nt||te.beforeRemove||!bt.Oc(Q))return bt.$((function(){var L=bt.a.c(Q)||[];void 0===L.length&&(L=[L]),nt&&(L=bt.a.fb(L,(function(L){return L===tt||null===L||!bt.a.c(L._destroy)}))),y(L)}),null,{l:re});y(Q.w());var it=Q.subscribe((function(L){y(Q(),L)}),null,"arrayChange");return it.l(re),it};var Q=bt.a.g.Z(),te=bt.a.g.Z();bt.f.template={init:function(L,Q){var re=bt.a.c(Q());if("string"==typeof re||re.name)bt.h.Ea(L);else if("nodes"in re){if(re=re.nodes||[],bt.N(re))throw Error('The "nodes" option must be a plain, non-observable array.');var Ne=re[0]&&re[0].parentNode;Ne&&bt.a.g.get(Ne,te)||(Ne=bt.a.Xb(re),bt.a.g.set(Ne,te,!0)),new bt.B.ia(L).nodes(Ne)}else{if(!(0<(re=bt.h.childNodes(L)).length))throw Error("Anonymous template defined, but no template content was provided");Ne=bt.a.Xb(re),new bt.B.ia(L).nodes(Ne)}return{controlsDescendantBindings:!0}},update:function(L,te,re,Ne,$e){var Ue=te();re=!0,Ne=null,"string"==typeof(te=bt.a.c(Ue))?te={}:(Ue=te.name,"if"in te&&(re=bt.a.c(te.if)),re&&"ifnot"in te&&(re=!bt.a.c(te.ifnot))),"foreach"in te?Ne=bt.Pd(Ue||L,re&&te.foreach||[],te,L,$e):re?(re=$e,"data"in te&&(re=$e.createChildContext(te.data,{as:te.as,noChildContext:te.noChildContext,exportDependencies:!0})),Ne=bt.bc(Ue||L,re,te,L)):bt.h.Ea(L),$e=Ne,(te=bt.a.g.get(L,Q))&&"function"==typeof te.s&&te.s(),bt.a.g.set(L,Q,!$e||$e.ja&&!$e.ja()?tt:$e)}},bt.m.Ra.template=function(L){return 1==(L=bt.m.Zb(L)).length&&L[0].unknown||bt.m.Hd(L,"name")?null:"This template engine does not support anonymous templates nested within its templates"},bt.h.ea.template=!0}(),bt.b("setTemplateEngine",bt.ec),bt.b("renderTemplate",bt.bc),bt.a.Jc=function(L,Q,te){var re,Ne,$e,Ue,tt;if(L.length&&Q.length)for(re=Ne=0;(!te||re<te)&&(Ue=L[Ne]);++Ne){for($e=0;tt=Q[$e];++$e)if(Ue.value===tt.value){Ue.moved=tt.index,tt.moved=Ue.index,Q.splice($e,1),re=$e=0;break}re+=$e}},bt.a.Ob=function(){function b(L,Q,te,re,Ne){var $e,Ue,tt,nt,it,rt=Math.min,ot=Math.max,at=[],dt=L.length,sn=Q.length,ln=sn-dt||1,un=dt+sn+1;for($e=0;$e<=dt;$e++)for(nt=tt,at.push(tt=[]),it=rt(sn,$e+ln),Ue=ot(0,$e-1);Ue<=it;Ue++)tt[Ue]=Ue?$e?L[$e-1]===Q[Ue-1]?nt[Ue-1]:rt(nt[Ue]||un,tt[Ue-1]||un)+1:Ue+1:$e+1;for(rt=[],ot=[],ln=[],$e=dt,Ue=sn;$e||Ue;)sn=at[$e][Ue]-1,Ue&&sn===at[$e][Ue-1]?ot.push(rt[rt.length]={status:te,value:Q[--Ue],index:Ue}):$e&&sn===at[$e-1][Ue]?ln.push(rt[rt.length]={status:re,value:L[--$e],index:$e}):(--Ue,--$e,Ne.sparse||rt.push({status:"retained",value:Q[Ue]}));return bt.a.Jc(ln,ot,!Ne.dontLimitMoves&&10*dt),rt.reverse()}return function(L,Q,te){return te="boolean"==typeof te?{dontLimitMoves:te}:te||{},Q=Q||[],(L=L||[]).length<Q.length?b(L,Q,"added","deleted",te):b(Q,L,"deleted","added",te)}}(),bt.b("utils.compareArrays",bt.a.Ob),function(){function b(L,Q,te,re,Ne){var $e=[],Ue=bt.$((function(){var Ue=Q(te,Ne,bt.a.Ua($e,L))||[];0<$e.length&&(bt.a.Wc($e,Ue),re&&bt.v.K(re,null,[te,Ue,Ne])),$e.length=0,bt.a.gb($e,Ue)}),null,{l:L,Sa:function(){return!bt.a.jd($e)}});return{Y:$e,$:Ue.ja()?Ue:tt}}var L=bt.a.g.Z(),Q=bt.a.g.Z();bt.a.cc=function(te,re,Ne,$e,Ue,nt){function k(L){it={Aa:L,nb:bt.sa(cn++)},ln.push(it),sn||Xn.push(it)}function q(L){it=dt[L],cn!==it.nb.w()&&Yn.push(it),it.nb(cn++),bt.a.Ua(it.Y,te),ln.push(it)}function n(L,Q){if(L)for(var te=0,re=Q.length;te<re;te++)bt.a.C(Q[te].Y,(function(re){L(re,te,Q[te].Aa)}))}void 0===(re=re||[]).length&&(re=[re]),$e=$e||{};var it,rt,ot,at,dt=bt.a.g.get(te,L),sn=!dt,ln=[],un=0,cn=0,dn=[],xn=[],Wn=[],Yn=[],Xn=[],Kn=0;if(sn)bt.a.C(re,k);else{if(!nt||dt&&dt._countWaitingForRemove){var ti=bt.a.Mb(dt,(function(L){return L.Aa}));nt=bt.a.Ob(ti,re,{dontLimitMoves:$e.dontLimitMoves,sparse:!0})}var ni,di,fi;for(ti=0;ni=nt[ti];ti++)switch(di=ni.moved,fi=ni.index,ni.status){case"deleted":for(;un<fi;)q(un++);di===tt&&((it=dt[un]).$&&(it.$.s(),it.$=tt),bt.a.Ua(it.Y,te).length&&($e.beforeRemove&&(ln.push(it),Kn++,it.Aa===Q?it=null:Wn.push(it)),it&&dn.push.apply(dn,it.Y))),un++;break;case"added":for(;cn<fi;)q(un++);di!==tt?(xn.push(ln.length),q(di)):k(ni.value)}for(;cn<re.length;)q(un++);ln._countWaitingForRemove=Kn}bt.a.g.set(te,L,ln),n($e.beforeMove,Yn),bt.a.C(dn,$e.beforeRemove?bt.na:bt.removeNode);try{at=te.ownerDocument.activeElement}catch(L){}if(xn.length)for(;(ti=xn.shift())!=tt;){for(it=ln[ti],rt=tt;ti;)if((ot=ln[--ti].Y)&&ot.length){rt=ot[ot.length-1];break}for(re=0;un=it.Y[re];rt=un,re++)bt.h.Vb(te,un,rt)}for(ti=0,xn=bt.h.firstChild(te);it=ln[ti];ti++){for(it.Y||bt.a.extend(it,b(te,Ne,it.Aa,Ue,it.nb)),re=0;un=it.Y[re];xn=un.nextSibling,rt=un,re++)un!==xn&&bt.h.Vb(te,un,rt);!it.Dd&&Ue&&(Ue(it.Aa,it.Y,it.nb),it.Dd=!0,rt=it.Y[it.Y.length-1])}for(at&&te.ownerDocument.activeElement!=at&&at.focus(),n($e.beforeRemove,Wn),ti=0;ti<Wn.length;++ti)Wn[ti].Aa=Q;n($e.afterMove,Yn),n($e.afterAdd,Xn)}}(),bt.b("utils.setDomNodeChildrenFromArrayMapping",bt.a.cc),bt.ba=function(){this.allowTemplateRewriting=!1},bt.ba.prototype=new bt.ca,bt.ba.prototype.constructor=bt.ba,bt.ba.prototype.renderTemplateSource=function(L,Q,te,re){return(Q=9>bt.a.W||!L.nodes?null:L.nodes())?bt.a.la(Q.cloneNode(!0).childNodes):(L=L.text(),bt.a.ta(L,re))},bt.ba.Na=new bt.ba,bt.ec(bt.ba.Na),bt.b("nativeTemplateEngine",bt.ba),function(){bt.Za=function(){var L=this.Gd=function(){if(!ot||!ot.tmpl)return 0;try{if(0<=ot.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(L){}return 1}();this.renderTemplateSource=function(Q,te,re,Ne){if(Ne=Ne||it,re=re||{},2>L)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var $e=Q.data("precompiled");return $e||($e=Q.text()||"",$e=ot.template(null,"{{ko_with $item.koBindingContext}}"+$e+"{{/ko_with}}"),Q.data("precompiled",$e)),Q=[te.$data],te=ot.extend({koBindingContext:te},re.templateOptions),(te=ot.tmpl($e,Q,te)).appendTo(Ne.createElement("div")),ot.fragments={},te},this.createJavaScriptEvaluatorBlock=function(L){return"{{ko_code ((function() { return "+L+" })()) }}"},this.addTemplate=function(L,Q){it.write("<script type='text/html' id='"+L+"'>"+Q+"<\/script>")},0<L&&(ot.tmpl.tag.ko_code={open:"__.push($1 || '');"},ot.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},bt.Za.prototype=new bt.ca,bt.Za.prototype.constructor=bt.Za;var L=new bt.Za;0<L.Gd&&bt.ec(L),bt.b("jqueryTmplTemplateEngine",bt.Za)}()}))}()},18338:function(L){L.exports=function(){function a(L,Q,te){function e(Ne,$e){if(!Q[Ne]){if(!L[Ne]){if(re)return re(Ne,!0);var Ue=new Error("Cannot find module '"+Ne+"'");throw Ue.code="MODULE_NOT_FOUND",Ue}var tt=Q[Ne]={exports:{}};L[Ne][0].call(tt.exports,(function(Q){return e(L[Ne][1][Q]||Q)}),tt,tt.exports,a,L,Q,te)}return Q[Ne].exports}for(var re=void 0,Ne=0;Ne<te.length;Ne++)e(te[Ne]);return e}return a}()({1:[function(L,Q,te){"use strict";function d(L){for(var Q in L)te.hasOwnProperty(Q)||(te[Q]=L[Q])}Object.defineProperty(te,"__esModule",{value:!0}),d(L("./src/adaptor")),d(L("./src/d3adaptor")),d(L("./src/descent")),d(L("./src/geom")),d(L("./src/gridrouter")),d(L("./src/handledisconnected")),d(L("./src/layout")),d(L("./src/layout3d")),d(L("./src/linklengths")),d(L("./src/powergraph")),d(L("./src/pqueue")),d(L("./src/rbtree")),d(L("./src/rectangle")),d(L("./src/shortestpaths")),d(L("./src/vpsc")),d(L("./src/batch"))},{"./src/adaptor":2,"./src/batch":3,"./src/d3adaptor":4,"./src/descent":7,"./src/geom":8,"./src/gridrouter":9,"./src/handledisconnected":10,"./src/layout":11,"./src/layout3d":12,"./src/linklengths":13,"./src/powergraph":14,"./src/pqueue":15,"./src/rbtree":16,"./src/rectangle":17,"./src/shortestpaths":18,"./src/vpsc":19}],2:[function(L,Q,te){"use strict";function d(L){return new $e(L)}var re=this&&this.__extends||function(){var a=function(L,Q){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,Q){L.__proto__=Q}||function(L,Q){for(var te in Q)Q.hasOwnProperty(te)&&(L[te]=Q[te])})(L,Q)};return function(L,Q){function d(){this.constructor=L}a(L,Q),L.prototype=null===Q?Object.create(Q):(d.prototype=Q.prototype,new d)}}();Object.defineProperty(te,"__esModule",{value:!0});var Ne=L("./layout"),$e=function(L){function b(Q){var te=L.call(this)||this,re=Q;return re.trigger&&(te.trigger=re.trigger),re.kick&&(te.kick=re.kick),re.drag&&(te.drag=re.drag),re.on&&(te.on=re.on),te.dragstart=te.dragStart=Ne.Layout.dragStart,te.dragend=te.dragEnd=Ne.Layout.dragEnd,te}return re(b,L),b.prototype.trigger=function(L){},b.prototype.kick=function(){},b.prototype.drag=function(){},b.prototype.on=function(L,Q){return this},b}(Ne.Layout);te.LayoutAdaptor=$e,te.adaptor=d},{"./layout":11}],3:[function(L,Q,te){"use strict";function d(L,Q,te,re){return L.cola.start(0,0,0,10,!1),e(L.cola.nodes(),L.cola.groups(),te,re).routeEdges(L.powerGraph.powerEdges,Q,(function(L){return L.source.routerNode.id}),(function(L){return L.target.routerNode.id}))}function e(L,Q,te,re){L.forEach((function(L){L.routerNode={name:L.name,bounds:L.bounds.inflate(-te)}})),Q.forEach((function(Q){Q.routerNode={bounds:Q.bounds.inflate(-re),children:(void 0!==Q.groups?Q.groups.map((function(Q){return L.length+Q.id})):[]).concat(void 0!==Q.leaves?Q.leaves.map((function(L){return L.index})):[])}}));var $e=L.concat(Q).map((function(L,Q){return L.routerNode.id=Q,L.routerNode}));return new Ne.GridRouter($e,{getChildren:function(L){return L.children},getBounds:function(L){return L.bounds}},te-re)}function f(L,Q,te){var Ne;L.nodes.forEach((function(L,Q){return L.index=Q})),(new re.Layout).avoidOverlaps(!1).nodes(L.nodes).links(L.links).powerGraphGroups((function(L){(Ne=L).groups.forEach((function(L){return L.padding=te}))}));var $e=L.nodes.length,Ue=[],tt=L.nodes.slice(0);return tt.forEach((function(L,Q){return L.index=Q})),Ne.groups.forEach((function(L){var Q=L.index=L.id+$e;tt.push(L),void 0!==L.leaves&&L.leaves.forEach((function(L){return Ue.push({source:Q,target:L.index})})),void 0!==L.groups&&L.groups.forEach((function(L){return Ue.push({source:Q,target:L.id+$e})}))})),Ne.powerEdges.forEach((function(L){Ue.push({source:L.source.index,target:L.target.index})})),(new re.Layout).size(Q).nodes(tt).links(Ue).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new re.Layout).convergenceThreshold(.001).size(Q).avoidOverlaps(!0).nodes(L.nodes).links(L.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups((function(L){(Ne=L).groups.forEach((function(L){L.padding=te}))})).start(50,0,100,0,!1),powerGraph:Ne}}Object.defineProperty(te,"__esModule",{value:!0});var re=L("./layout"),Ne=L("./gridrouter");te.gridify=d,te.powerGraphGridLayout=f},{"./gridrouter":9,"./layout":11}],4:[function(L,Q,te){"use strict";function d(L){return!L||e(L)?new re.D3StyleLayoutAdaptor:new Ne.D3StyleLayoutAdaptor(L)}function e(L){var Q=/^3\./;return L.version&&null!==L.version.match(Q)}Object.defineProperty(te,"__esModule",{value:!0});var re=L("./d3v3adaptor"),Ne=L("./d3v4adaptor");te.d3adaptor=d},{"./d3v3adaptor":5,"./d3v4adaptor":6}],5:[function(L,Q,te){"use strict";function d(){return new $e}var re=this&&this.__extends||function(){var a=function(L,Q){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,Q){L.__proto__=Q}||function(L,Q){for(var te in Q)Q.hasOwnProperty(te)&&(L[te]=Q[te])})(L,Q)};return function(L,Q){function d(){this.constructor=L}a(L,Q),L.prototype=null===Q?Object.create(Q):(d.prototype=Q.prototype,new d)}}();Object.defineProperty(te,"__esModule",{value:!0});var Ne=L("./layout"),$e=function(L){function b(){var Q=L.call(this)||this;Q.event=d3.dispatch(Ne.EventType[Ne.EventType.start],Ne.EventType[Ne.EventType.tick],Ne.EventType[Ne.EventType.end]);var te=Q;return Q.drag=function(){if(!L)var L=d3.behavior.drag().origin(Ne.Layout.dragOrigin).on("dragstart.d3adaptor",Ne.Layout.dragStart).on("drag.d3adaptor",(function(L){Ne.Layout.drag(L,d3.event),te.resume()})).on("dragend.d3adaptor",Ne.Layout.dragEnd);if(!arguments.length)return L;this.call(L)},Q}return re(b,L),b.prototype.trigger=function(L){var Q={type:Ne.EventType[L.type],alpha:L.alpha,stress:L.stress};this.event[Q.type](Q)},b.prototype.kick=function(){var Q=this;d3.timer((function(){return L.prototype.tick.call(Q)}))},b.prototype.on=function(L,Q){return"string"==typeof L?this.event.on(L,Q):this.event.on(Ne.EventType[L],Q),this},b}(Ne.Layout);te.D3StyleLayoutAdaptor=$e,te.d3adaptor=d},{"./layout":11}],6:[function(L,Q,te){"use strict";var re=this&&this.__extends||function(){var a=function(L,Q){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,Q){L.__proto__=Q}||function(L,Q){for(var te in Q)Q.hasOwnProperty(te)&&(L[te]=Q[te])})(L,Q)};return function(L,Q){function d(){this.constructor=L}a(L,Q),L.prototype=null===Q?Object.create(Q):(d.prototype=Q.prototype,new d)}}();Object.defineProperty(te,"__esModule",{value:!0});var Ne=L("./layout"),$e=function(L){function b(Q){var te=L.call(this)||this;te.d3Context=Q,te.event=Q.dispatch(Ne.EventType[Ne.EventType.start],Ne.EventType[Ne.EventType.tick],Ne.EventType[Ne.EventType.end]);var re=te;return te.drag=function(){if(!L)var L=Q.drag().subject(Ne.Layout.dragOrigin).on("start.d3adaptor",Ne.Layout.dragStart).on("drag.d3adaptor",(function(L){Ne.Layout.drag(L,Q.event),re.resume()})).on("end.d3adaptor",Ne.Layout.dragEnd);if(!arguments.length)return L;arguments[0].call(L)},te}return re(b,L),b.prototype.trigger=function(L){var Q={type:Ne.EventType[L.type],alpha:L.alpha,stress:L.stress};this.event.call(Q.type,Q)},b.prototype.kick=function(){var Q=this,te=this.d3Context.timer((function(){return L.prototype.tick.call(Q)&&te.stop()}))},b.prototype.on=function(L,Q){return"string"==typeof L?this.event.on(L,Q):this.event.on(Ne.EventType[L],Q),this},b}(Ne.Layout);te.D3StyleLayoutAdaptor=$e},{"./layout":11}],7:[function(L,Q,te){"use strict";Object.defineProperty(te,"__esModule",{value:!0});var re=function(){function a(){this.locks={}}return a.prototype.add=function(L,Q){this.locks[L]=Q},a.prototype.clear=function(){this.locks={}},a.prototype.isEmpty=function(){for(var L in this.locks)return!1;return!0},a.prototype.apply=function(L){for(var Q in this.locks)L(Number(Q),this.locks[Q])},a}();te.Locks=re;var Ne=function(){function a(L,Q,te){void 0===te&&(te=null),this.D=Q,this.G=te,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new $e,this.project=null,this.x=L,this.k=L.length;var Ne=this.n=L[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new re,this.minD=Number.MAX_VALUE;for(var Ue,tt=Ne;tt--;)for(Ue=Ne;--Ue>tt;){var nt=Q[tt][Ue];nt>0&&nt<this.minD&&(this.minD=nt)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),tt=this.k;tt--;){for(this.g[tt]=new Array(Ne),this.H[tt]=new Array(Ne),Ue=Ne;Ue--;)this.H[tt][Ue]=new Array(Ne);this.Hd[tt]=new Array(Ne),this.a[tt]=new Array(Ne),this.b[tt]=new Array(Ne),this.c[tt]=new Array(Ne),this.d[tt]=new Array(Ne),this.e[tt]=new Array(Ne),this.ia[tt]=new Array(Ne),this.ib[tt]=new Array(Ne),this.xtmp[tt]=new Array(Ne)}}return a.createSquareMatrix=function(L,Q){for(var te=new Array(L),re=0;re<L;++re){te[re]=new Array(L);for(var Ne=0;Ne<L;++Ne)te[re][Ne]=Q(re,Ne)}return te},a.prototype.offsetDir=function(){for(var L=this,Q=new Array(this.k),te=0,re=0;re<this.k;++re){var Ne=Q[re]=this.random.getNextBetween(.01,1)-.5;te+=Ne*Ne}return te=Math.sqrt(te),Q.map((function(Q){return Q*(L.minD/te)}))},a.prototype.computeDerivatives=function(L){var Q=this,te=this.n;if(!(te<1)){for(var re,Ne=new Array(this.k),$e=new Array(this.k),Ue=new Array(this.k),tt=0,nt=0;nt<te;++nt){for(re=0;re<this.k;++re)Ue[re]=this.g[re][nt]=0;for(var it=0;it<te;++it)if(nt!==it){for(var rt=te;rt--;){var ot=0;for(re=0;re<this.k;++re){var at=Ne[re]=L[re][nt]-L[re][it];ot+=$e[re]=at*at}if(ot>1e-9)break;var dt=this.offsetDir();for(re=0;re<this.k;++re)L[re][it]+=dt[re]}var bt=Math.sqrt(ot),sn=this.D[nt][it],ln=null!=this.G?this.G[nt][it]:1;if(ln>1&&bt>sn||!isFinite(sn))for(re=0;re<this.k;++re)this.H[re][nt][it]=0;else{ln>1&&(ln=1);var un=sn*sn,cn=2*ln*(bt-sn)/(un*bt),dn=bt*bt*bt,xn=2*-ln/(un*dn);for(isFinite(cn)||console.log(cn),re=0;re<this.k;++re)this.g[re][nt]+=Ne[re]*cn,Ue[re]-=this.H[re][nt][it]=xn*(dn+sn*($e[re]-ot)+bt*ot)}}for(re=0;re<this.k;++re)tt=Math.max(tt,this.H[re][nt][nt]=Ue[re])}var Wn=this.snapGridSize/2,Yn=this.snapGridSize,Xn=this.snapStrength/(Wn*Wn),Kn=this.numGridSnapNodes;for(nt=0;nt<Kn;++nt)for(re=0;re<this.k;++re){var ti=this.x[re][nt],ni=ti/Yn,di=ni%1,fi=ni-di;-Wn<(at=Math.abs(di)<=.5?ti-fi*Yn:ti>0?ti-(fi+1)*Yn:ti-(fi-1)*Yn)&&at<=Wn&&(this.scaleSnapByMaxH?(this.g[re][nt]+=tt*Xn*at,this.H[re][nt][nt]+=tt*Xn):(this.g[re][nt]+=Xn*at,this.H[re][nt][nt]+=Xn))}this.locks.isEmpty()||this.locks.apply((function(te,Ne){for(re=0;re<Q.k;++re)Q.H[re][te][te]+=tt,Q.g[re][te]-=tt*(Ne[re]-L[re][te])}))}},a.dotProd=function(L,Q){for(var te=0,re=L.length;re--;)te+=L[re]*Q[re];return te},a.rightMultiply=function(L,Q,te){for(var re=L.length;re--;)te[re]=a.dotProd(L[re],Q)},a.prototype.computeStepSize=function(L){for(var Q=0,te=0,re=0;re<this.k;++re)Q+=a.dotProd(this.g[re],L[re]),a.rightMultiply(this.H[re],L[re],this.Hd[re]),te+=a.dotProd(L[re],this.Hd[re]);return 0!==te&&isFinite(te)?1*Q/te:0},a.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var L=this.computeStepSize(this.g),Q=0;Q<this.k;++Q)this.takeDescentStep(this.x[Q],this.g[Q],L);return this.computeStress()},a.copy=function(L,Q){for(var te=L.length,re=Q[0].length,Ne=0;Ne<te;++Ne)for(var $e=0;$e<re;++$e)Q[Ne][$e]=L[Ne][$e]},a.prototype.stepAndProject=function(L,Q,te,re){a.copy(L,Q),this.takeDescentStep(Q[0],te[0],re),this.project&&this.project[0](L[0],L[1],Q[0]),this.takeDescentStep(Q[1],te[1],re),this.project&&this.project[1](Q[0],L[1],Q[1]);for(var Ne=2;Ne<this.k;Ne++)this.takeDescentStep(Q[Ne],te[Ne],re)},a.mApply=function(L,Q,te){for(var re=L;re-- >0;)for(var Ne=Q;Ne-- >0;)te(re,Ne)},a.prototype.matrixApply=function(L){a.mApply(this.k,this.n,L)},a.prototype.computeNextPosition=function(L,Q){var te=this;this.computeDerivatives(L);var re=this.computeStepSize(this.g);if(this.stepAndProject(L,Q,this.g,re),this.project){this.matrixApply((function(re,Ne){return te.e[re][Ne]=L[re][Ne]-Q[re][Ne]}));var Ne=this.computeStepSize(this.e);Ne=Math.max(.2,Math.min(Ne,1)),this.stepAndProject(L,Q,this.e,Ne)}},a.prototype.run=function(L){for(var Q=Number.MAX_VALUE,te=!1;!te&&L-- >0;){var re=this.rungeKutta();te=Math.abs(Q/re-1)<this.threshold,Q=re}return Q},a.prototype.rungeKutta=function(){var L=this;this.computeNextPosition(this.x,this.a),a.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),a.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var Q=0;return this.matrixApply((function(te,re){var Ne=(L.a[te][re]+2*L.b[te][re]+2*L.c[te][re]+L.d[te][re])/6,$e=L.x[te][re]-Ne;Q+=$e*$e,L.x[te][re]=Ne})),Q},a.mid=function(L,Q,te){a.mApply(L.length,L[0].length,(function(re,Ne){return te[re][Ne]=L[re][Ne]+(Q[re][Ne]-L[re][Ne])/2}))},a.prototype.takeDescentStep=function(L,Q,te){for(var re=0;re<this.n;++re)L[re]=L[re]-te*Q[re]},a.prototype.computeStress=function(){for(var L=0,Q=0,te=this.n-1;Q<te;++Q)for(var re=Q+1,Ne=this.n;re<Ne;++re){for(var $e=0,Ue=0;Ue<this.k;++Ue){var tt=this.x[Ue][Q]-this.x[Ue][re];$e+=tt*tt}$e=Math.sqrt($e);var nt=this.D[Q][re];if(isFinite(nt)){var it=nt-$e;L+=it*it/(nt*nt)}}return L},a.zeroDistance=1e-10,a}();te.Descent=Ne;var $e=function(){function a(L){void 0===L&&(L=1),this.seed=L,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return a.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},a.prototype.getNextBetween=function(L,Q){return L+this.getNext()*(Q-L)},a}();te.PseudoRandom=$e},{}],8:[function(L,Q,te){"use strict";function d(L,Q,te){return(Q.x-L.x)*(te.y-L.y)-(te.x-L.x)*(Q.y-L.y)}function e(L,Q,te){return d(L,Q,te)>0}function f(L,Q,te){return d(L,Q,te)<0}function g(L){var Q,te=L.slice(0).sort((function(L,Q){return L.x!==Q.x?Q.x-L.x:Q.y-L.y})),re=L.length,Ne=te[0].x;for(Q=1;Q<re&&te[Q].x===Ne;++Q);var $e=Q-1,Ue=[];if(Ue.push(te[0]),$e===re-1)te[$e].y!==te[0].y&&Ue.push(te[$e]);else{var tt,nt=re-1,it=te[re-1].x;for(Q=re-2;Q>=0&&te[Q].x===it;Q--);for(tt=Q+1,Q=$e;++Q<=tt;)if(!(d(te[0],te[tt],te[Q])>=0&&Q<tt)){for(;Ue.length>1&&!(d(Ue[Ue.length-2],Ue[Ue.length-1],te[Q])>0);)Ue.length-=1;0!=Q&&Ue.push(te[Q])}nt!=tt&&Ue.push(te[nt]);var rt=Ue.length;for(Q=tt;--Q>=$e;)if(!(d(te[nt],te[$e],te[Q])>=0&&Q>$e)){for(;Ue.length>rt&&!(d(Ue[Ue.length-2],Ue[Ue.length-1],te[Q])>0);)Ue.length-=1;0!=Q&&Ue.push(te[Q])}}return Ue}function h(L,Q,te){Q.slice(0).sort((function(Q,te){return Math.atan2(Q.y-L.y,Q.x-L.x)-Math.atan2(te.y-L.y,te.x-L.x)})).forEach(te)}function i(L,Q){var te=Q.slice(0);return te.push(Q[0]),{rtan:j(L,te),ltan:k(L,te)}}function j(L,Q){var te,re,Ne,$e,Ue=Q.length-1;if(f(L,Q[1],Q[0])&&!e(L,Q[Ue-1],Q[0]))return 0;for(te=0,re=Ue;;){if(re-te==1)return e(L,Q[te],Q[re])?te:re;if(($e=f(L,Q[(Ne=Math.floor((te+re)/2))+1],Q[Ne]))&&!e(L,Q[Ne-1],Q[Ne]))return Ne;e(L,Q[te+1],Q[te])?$e||e(L,Q[te],Q[Ne])?re=Ne:te=Ne:$e&&f(L,Q[te],Q[Ne])?re=Ne:te=Ne}}function k(L,Q){var te,re,Ne,$e,Ue=Q.length-1;if(e(L,Q[Ue-1],Q[0])&&!f(L,Q[1],Q[0]))return 0;for(te=0,re=Ue;;){if(re-te==1)return f(L,Q[te],Q[re])?te:re;if($e=f(L,Q[(Ne=Math.floor((te+re)/2))+1],Q[Ne]),e(L,Q[Ne-1],Q[Ne])&&!$e)return Ne;f(L,Q[te+1],Q[te])?$e?f(L,Q[te],Q[Ne])?re=Ne:te=Ne:re=Ne:$e?te=Ne:e(L,Q[te],Q[Ne])?re=Ne:te=Ne}}function l(L,Q,te,re,Ne,$e){var Ue,tt;tt=re(L[Ue=te(Q[0],L)],Q);for(var nt=!1;!nt;){for(nt=!0;Ue===L.length-1&&(Ue=0),!Ne(Q[tt],L[Ue],L[Ue+1]);)++Ue;for(;0===tt&&(tt=Q.length-1),!$e(L[Ue],Q[tt],Q[tt-1]);)--tt,nt=!1}return{t1:Ue,t2:tt}}function m(L,Q){var te=n(Q,L);return{t1:te.t2,t2:te.t1}}function n(L,Q){return l(L,Q,j,k,e,f)}function o(L,Q){return l(L,Q,k,k,f,f)}function p(L,Q){return l(L,Q,j,j,e,e)}function q(L,Q){for(var te=[],re=1,$e=Q.length;re<$e;++re){var Ue=Ne.Rectangle.lineIntersection(L.x1,L.y1,L.x2,L.y2,Q[re-1].x,Q[re-1].y,Q[re].x,Q[re].y);Ue&&te.push(Ue)}return te}function r(L,Q){for(var te=L.length-1,re=Q.length-1,Ne=new it,$e=0;$e<te;++$e)for(var Ue=0;Ue<re;++Ue){var tt=L[0==$e?te-1:$e-1],rt=L[$e],ot=L[$e+1],at=Q[0==Ue?re-1:Ue-1],dt=Q[Ue],bt=Q[Ue+1],sn=d(tt,rt,dt),ln=d(rt,at,dt),un=d(rt,dt,bt),cn=d(at,dt,rt),dn=d(dt,tt,rt),xn=d(dt,rt,ot);sn>=0&&ln>=0&&un<0&&cn>=0&&dn>=0&&xn<0?Ne.ll=new nt($e,Ue):sn<=0&&ln<=0&&un>0&&cn<=0&&dn<=0&&xn>0?Ne.rr=new nt($e,Ue):sn<=0&&ln>0&&un<=0&&cn>=0&&dn<0&&xn>=0?Ne.rl=new nt($e,Ue):sn>=0&&ln<0&&un>=0&&cn<=0&&dn>0&&xn<=0&&(Ne.lr=new nt($e,Ue))}return Ne}function s(L,Q){for(var te=1,re=Q.length;te<re;++te)if(f(Q[te-1],Q[te],L))return!1;return!0}function t(L,Q){return!L.every((function(L){return!s(L,Q)}))}function u(L,Q){if(t(L,Q))return!0;if(t(Q,L))return!0;for(var te=1,re=L.length;te<re;++te){var Ne=L[te],$e=L[te-1];if(q(new Ue($e.x,$e.y,Ne.x,Ne.y),Q).length>0)return!0}return!1}var re=this&&this.__extends||function(){var a=function(L,Q){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,Q){L.__proto__=Q}||function(L,Q){for(var te in Q)Q.hasOwnProperty(te)&&(L[te]=Q[te])})(L,Q)};return function(L,Q){function d(){this.constructor=L}a(L,Q),L.prototype=null===Q?Object.create(Q):(d.prototype=Q.prototype,new d)}}();Object.defineProperty(te,"__esModule",{value:!0});var Ne=L("./rectangle"),$e=function(){function a(){}return a}();te.Point=$e;var Ue=function(){function a(L,Q,te,re){this.x1=L,this.y1=Q,this.x2=te,this.y2=re}return a}();te.LineSegment=Ue;var tt=function(L){function b(){return null!==L&&L.apply(this,arguments)||this}return re(b,L),b}($e);te.PolyPoint=tt,te.isLeft=d,te.ConvexHull=g,te.clockwiseRadialSweep=h,te.tangent_PolyPolyC=l,te.LRtangent_PolyPolyC=m,te.RLtangent_PolyPolyC=n,te.LLtangent_PolyPolyC=o,te.RRtangent_PolyPolyC=p;var nt=function(){function a(L,Q){this.t1=L,this.t2=Q}return a}();te.BiTangent=nt;var it=function(){function a(){}return a}();te.BiTangents=it;var rt=function(L){function b(){return null!==L&&L.apply(this,arguments)||this}return re(b,L),b}($e);te.TVGPoint=rt;var ot=function(){function a(L,Q,te,re){this.id=L,this.polyid=Q,this.polyvertid=te,this.p=re,re.vv=this}return a}();te.VisibilityVertex=ot;var at=function(){function a(L,Q){this.source=L,this.target=Q}return a.prototype.length=function(){var L=this.source.p.x-this.target.p.x,Q=this.source.p.y-this.target.p.y;return Math.sqrt(L*L+Q*Q)},a}();te.VisibilityEdge=at;var dt=function(){function a(L,Q){if(this.P=L,this.V=[],this.E=[],Q)this.V=Q.V.slice(0),this.E=Q.E.slice(0);else{for(var te=L.length,re=0;re<te;re++){for(var Ne=L[re],$e=0;$e<Ne.length;++$e){var Ue=Ne[$e],tt=new ot(this.V.length,re,$e,Ue);this.V.push(tt),$e>0&&this.E.push(new at(Ne[$e-1].vv,tt))}Ne.length>1&&this.E.push(new at(Ne[0].vv,Ne[Ne.length-1].vv))}for(re=0;re<te-1;re++){var nt=L[re];for($e=re+1;$e<te;$e++){var it=L[$e],rt=r(nt,it);for(var dt in rt){var bt=rt[dt],sn=nt[bt.t1],ln=it[bt.t2];this.addEdgeIfVisible(sn,ln,re,$e)}}}}}return a.prototype.addEdgeIfVisible=function(L,Q,te,re){this.intersectsPolys(new Ue(L.x,L.y,Q.x,Q.y),te,re)||this.E.push(new at(L.vv,Q.vv))},a.prototype.addPoint=function(L,Q){var te=this.P.length;this.V.push(new ot(this.V.length,te,0,L));for(var re=0;re<te;++re)if(re!==Q){var Ne=this.P[re],$e=i(L,Ne);this.addEdgeIfVisible(L,Ne[$e.ltan],Q,re),this.addEdgeIfVisible(L,Ne[$e.rtan],Q,re)}return L.vv},a.prototype.intersectsPolys=function(L,Q,te){for(var re=0,Ne=this.P.length;re<Ne;++re)if(re!=Q&&re!=te&&q(L,this.P[re]).length>0)return!0;return!1},a}();te.TangentVisibilityGraph=dt,te.tangents=r,te.polysOverlap=u},{"./rectangle":17}],9:[function(L,Q,te){"use strict";Object.defineProperty(te,"__esModule",{value:!0});var re=L("./rectangle"),Ne=L("./vpsc"),$e=L("./shortestpaths"),Ue=function(){function a(L,Q,te){this.id=L,this.rect=Q,this.children=te,this.leaf=void 0===te||0===te.length}return a}();te.NodeWrapper=Ue;var tt=function(){function a(L,Q,te,re,Ne){void 0===re&&(re=null),void 0===Ne&&(Ne=null),this.id=L,this.x=Q,this.y=te,this.node=re,this.line=Ne}return a}();te.Vert=tt;var nt=function(){function a(L,Q){this.s=L,this.t=Q;var te=a.findMatch(L,Q),re=Q.slice(0).reverse(),Ne=a.findMatch(L,re);te.length>=Ne.length?(this.length=te.length,this.si=te.si,this.ti=te.ti,this.reversed=!1):(this.length=Ne.length,this.si=Ne.si,this.ti=Q.length-Ne.ti-Ne.length,this.reversed=!0)}return a.findMatch=function(L,Q){for(var te=L.length,re=Q.length,Ne={length:0,si:-1,ti:-1},$e=new Array(te),Ue=0;Ue<te;Ue++){$e[Ue]=new Array(re);for(var tt=0;tt<re;tt++)if(L[Ue]===Q[tt]){var nt=$e[Ue][tt]=0===Ue||0===tt?1:$e[Ue-1][tt-1]+1;nt>Ne.length&&(Ne.length=nt,Ne.si=Ue-nt+1,Ne.ti=tt-nt+1)}else $e[Ue][tt]=0}return Ne},a.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},a}();te.LongestCommonSubsequence=nt;var it=function(){function a(L,Q,te){var Ne=this;void 0===te&&(te=12),this.originalnodes=L,this.groupPadding=te,this.leaves=null,this.nodes=L.map((function(L,te){return new Ue(te,Q.getBounds(L),Q.getChildren(L))})),this.leaves=this.nodes.filter((function(L){return L.leaf})),this.groups=this.nodes.filter((function(L){return!L.leaf})),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach((function(L){return L.children.forEach((function(Q){return Ne.nodes[Q].parent=L}))})),this.root={children:[]},this.nodes.forEach((function(L){void 0===L.parent&&(L.parent=Ne.root,Ne.root.children.push(L.id)),L.ports=[]})),this.backToFront=this.nodes.slice(0),this.backToFront.sort((function(L,Q){return Ne.getDepth(L)-Ne.getDepth(Q)})),this.backToFront.slice(0).reverse().filter((function(L){return!L.leaf})).forEach((function(L){var Q=re.Rectangle.empty();L.children.forEach((function(L){return Q=Q.union(Ne.nodes[L].rect)})),L.rect=Q.inflate(Ne.groupPadding)}));var $e=this.midPoints(this.cols.map((function(L){return L.pos}))),nt=this.midPoints(this.rows.map((function(L){return L.pos}))),it=$e[0],rt=$e[$e.length-1],ot=nt[0],at=nt[nt.length-1],dt=this.rows.map((function(L){return{x1:it,x2:rt,y1:L.pos,y2:L.pos}})).concat(nt.map((function(L){return{x1:it,x2:rt,y1:L,y2:L}}))),bt=this.cols.map((function(L){return{x1:L.pos,x2:L.pos,y1:ot,y2:at}})).concat($e.map((function(L){return{x1:L,x2:L,y1:ot,y2:at}}))),sn=dt.concat(bt);sn.forEach((function(L){return L.verts=[]})),this.verts=[],this.edges=[],dt.forEach((function(L){return bt.forEach((function(Q){var te=new tt(Ne.verts.length,Q.x1,L.y1);L.verts.push(te),Q.verts.push(te),Ne.verts.push(te);for(var re=Ne.backToFront.length;re-- >0;){var $e=Ne.backToFront[re],Ue=$e.rect,nt=Math.abs(te.x-Ue.cx()),it=Math.abs(te.y-Ue.cy());if(nt<Ue.width()/2&&it<Ue.height()/2){te.node=$e;break}}}))})),sn.forEach((function(L,Q){Ne.nodes.forEach((function(Q,te){Q.rect.lineIntersections(L.x1,L.y1,L.x2,L.y2).forEach((function(te,re){var $e=new tt(Ne.verts.length,te.x,te.y,Q,L);Ne.verts.push($e),L.verts.push($e),Q.ports.push($e)}))}));var te=Math.abs(L.y1-L.y2)<.1,d=function(L,Q){return te?Q.x-L.x:Q.y-L.y};L.verts.sort(d);for(var re=1;re<L.verts.length;re++){var $e=L.verts[re-1],Ue=L.verts[re];$e.node&&$e.node===Ue.node&&$e.node.leaf||Ne.edges.push({source:$e.id,target:Ue.id,length:Math.abs(d($e,Ue))})}}))}return a.prototype.avg=function(L){return L.reduce((function(L,Q){return L+Q}))/L.length},a.prototype.getGridLines=function(L){for(var Q=[],te=this.leaves.slice(0,this.leaves.length);te.length>0;){var re=te.filter((function(Q){return Q.rect["overlap"+L.toUpperCase()](te[0].rect)})),Ne={nodes:re,pos:this.avg(re.map((function(Q){return Q.rect["c"+L]()})))};Q.push(Ne),Ne.nodes.forEach((function(L){return te.splice(te.indexOf(L),1)}))}return Q.sort((function(L,Q){return L.pos-Q.pos})),Q},a.prototype.getDepth=function(L){for(var Q=0;L.parent!==this.root;)Q++,L=L.parent;return Q},a.prototype.midPoints=function(L){for(var Q=L[1]-L[0],te=[L[0]-Q/2],re=1;re<L.length;re++)te.push((L[re]+L[re-1])/2);return te.push(L[L.length-1]+Q/2),te},a.prototype.findLineage=function(L){var Q=[L];do{L=L.parent,Q.push(L)}while(L!==this.root);return Q.reverse()},a.prototype.findAncestorPathBetween=function(L,Q){for(var te=this.findLineage(L),re=this.findLineage(Q),Ne=0;te[Ne]===re[Ne];)Ne++;return{commonAncestor:te[Ne-1],lineages:te.slice(Ne).concat(re.slice(Ne))}},a.prototype.siblingObstacles=function(L,Q){var te=this,re=this.findAncestorPathBetween(L,Q),Ne={};re.lineages.forEach((function(L){return Ne[L.id]={}}));var $e=re.commonAncestor.children.filter((function(L){return!(L in Ne)}));return re.lineages.filter((function(L){return L.parent!==re.commonAncestor})).forEach((function(L){return $e=$e.concat(L.parent.children.filter((function(Q){return Q!==L.id})))})),$e.map((function(L){return te.nodes[L]}))},a.getSegmentSets=function(L,Q,te){for(var re=[],Ne=0;Ne<L.length;Ne++)for(var $e=L[Ne],Ue=0;Ue<$e.length;Ue++){(ot=$e[Ue]).edgeid=Ne,ot.i=Ue;var tt=ot[1][Q]-ot[0][Q];Math.abs(tt)<.1&&re.push(ot)}re.sort((function(L,te){return L[0][Q]-te[0][Q]}));for(var nt=[],it=null,rt=0;rt<re.length;rt++){var ot=re[rt];(!it||Math.abs(ot[0][Q]-it.pos)>.1)&&(it={pos:ot[0][Q],segments:[]},nt.push(it)),it.segments.push(ot)}return nt},a.nudgeSegs=function(L,Q,te,re,$e,Ue){var tt=re.length;if(!(tt<=1)){for(var nt=re.map((function(Q){return new Ne.Variable(Q[0][L])})),it=[],rt=0;rt<tt;rt++)for(var ot=0;ot<tt;ot++)if(rt!==ot){var at=re[rt],dt=re[ot],bt=at.edgeid,sn=dt.edgeid,ln=-1,un=-1;"x"==L?$e(bt,sn)&&(at[0][Q]<at[1][Q]?(ln=ot,un=rt):(ln=rt,un=ot)):$e(bt,sn)&&(at[0][Q]<at[1][Q]?(ln=rt,un=ot):(ln=ot,un=rt)),ln>=0&&it.push(new Ne.Constraint(nt[ln],nt[un],Ue))}new Ne.Solver(nt,it).solve(),nt.forEach((function(Q,Ne){var $e=re[Ne],Ue=Q.position();$e[0][L]=$e[1][L]=Ue;var tt=te[$e.edgeid];$e.i>0&&(tt[$e.i-1][1][L]=Ue),$e.i<tt.length-1&&(tt[$e.i+1][0][L]=Ue)}))}},a.nudgeSegments=function(L,Q,te,re,Ne){for(var $e=a.getSegmentSets(L,Q,te),Ue=0;Ue<$e.length;Ue++){for(var tt=$e[Ue],nt=[],it=0;it<tt.segments.length;it++){var rt=tt.segments[it];nt.push({type:0,s:rt,pos:Math.min(rt[0][te],rt[1][te])}),nt.push({type:1,s:rt,pos:Math.max(rt[0][te],rt[1][te])})}nt.sort((function(L,Q){return L.pos-Q.pos+L.type-Q.type}));var ot=[],at=0;nt.forEach((function($e){0===$e.type?(ot.push($e.s),at++):at--,0==at&&(a.nudgeSegs(Q,te,L,ot,re,Ne),ot=[])}))}},a.prototype.routeEdges=function(L,Q,te,re){var Ne=this,$e=L.map((function(L){return Ne.route(te(L),re(L))})),Ue=a.orderEdges($e),tt=$e.map((function(L){return a.makeSegments(L)}));return a.nudgeSegments(tt,"x","y",Ue,Q),a.nudgeSegments(tt,"y","x",Ue,Q),a.unreverseEdges(tt,$e),tt},a.unreverseEdges=function(L,Q){L.forEach((function(L,te){Q[te].reversed&&(L.reverse(),L.forEach((function(L){L.reverse()})))}))},a.angleBetween2Lines=function(L,Q){var te=Math.atan2(L[0].y-L[1].y,L[0].x-L[1].x),re=Math.atan2(Q[0].y-Q[1].y,Q[0].x-Q[1].x),Ne=te-re;return(Ne>Math.PI||Ne<-Math.PI)&&(Ne=re-te),Ne},a.isLeft=function(L,Q,te){return(Q.x-L.x)*(te.y-L.y)-(Q.y-L.y)*(te.x-L.x)<=0},a.getOrder=function(L){for(var Q={},te=0;te<L.length;te++){var re=L[te];void 0===Q[re.l]&&(Q[re.l]={}),Q[re.l][re.r]=!0}return function(L,te){return void 0!==Q[L]&&Q[L][te]}},a.orderEdges=function(L){for(var Q=[],te=0;te<L.length-1;te++)for(var re=te+1;re<L.length;re++){var Ne,$e,Ue,tt=L[te],it=L[re],rt=new nt(tt,it);0!==rt.length&&(rt.reversed&&(it.reverse(),it.reversed=!0,rt=new nt(tt,it)),(rt.si<=0||rt.ti<=0)&&(rt.si+rt.length>=tt.length||rt.ti+rt.length>=it.length)?Q.push({l:te,r:re}):(rt.si+rt.length>=tt.length||rt.ti+rt.length>=it.length?(Ne=tt[rt.si+1],Ue=tt[rt.si-1],$e=it[rt.ti-1]):(Ne=tt[rt.si+rt.length-2],$e=tt[rt.si+rt.length],Ue=it[rt.ti+rt.length]),a.isLeft(Ne,$e,Ue)?Q.push({l:re,r:te}):Q.push({l:te,r:re})))}return a.getOrder(Q)},a.makeSegments=function(L){function b(L){return{x:L.x,y:L.y}}for(var Q=[],te=b(L[0]),re=1;re<L.length;re++){var Ne=b(L[re]),$e=re<L.length-1?L[re+1]:null;$e&&function(L,Q,te){return Math.abs((Q.x-L.x)*(te.y-L.y)-(Q.y-L.y)*(te.x-L.x))<.001}(te,Ne,$e)||(Q.push([te,Ne]),te=Ne)}return Q},a.prototype.route=function(L,Q){var te=this,re=this.nodes[L],Ne=this.nodes[Q];this.obstacles=this.siblingObstacles(re,Ne);var Ue={};this.obstacles.forEach((function(L){return Ue[L.id]=L})),this.passableEdges=this.edges.filter((function(L){var Q=te.verts[L.source],re=te.verts[L.target];return!(Q.node&&Q.node.id in Ue||re.node&&re.node.id in Ue)}));for(var tt=1;tt<re.ports.length;tt++){var nt=re.ports[0].id,it=re.ports[tt].id;this.passableEdges.push({source:nt,target:it,length:0})}for(tt=1;tt<Ne.ports.length;tt++)nt=Ne.ports[0].id,it=Ne.ports[tt].id,this.passableEdges.push({source:nt,target:it,length:0});var k=function(L){return L.source},l=function(L){return L.target},m=function(L){return L.length},o=function(L,Q,$e){var Ue=te.verts[L],tt=te.verts[Q],nt=te.verts[$e],it=Math.abs(nt.x-Ue.x),rt=Math.abs(nt.y-Ue.y);return Ue.node===re&&Ue.node===tt.node||tt.node===Ne&&tt.node===nt.node?0:it>1&&rt>1?1e3:0},rt=new $e.Calculator(this.verts.length,this.passableEdges,k,l,m).PathFromNodeToNodeWithPrevCost(re.ports[0].id,Ne.ports[0].id,o).reverse().map((function(L){return te.verts[L]}));return rt.push(this.nodes[Ne.id].ports[0]),rt.filter((function(L,Q){return!(Q<rt.length-1&&rt[Q+1].node===re&&L.node===re||Q>0&&L.node===Ne&&rt[Q-1].node===Ne)}))},a.getRoutePath=function(L,Q,te,re){var Ne,$e,Ue,tt={routepath:"M "+L[0][0].x+" "+L[0][0].y+" ",arrowpath:""};if(L.length>1)for(var nt=0;nt<L.length;nt++){var it=(Ue=L[nt])[1].x,rt=Ue[1].y,ot=it-Ue[0].x,at=rt-Ue[0].y;if(nt<L.length-1){Math.abs(ot)>0?it-=ot/Math.abs(ot)*Q:rt-=at/Math.abs(at)*Q,tt.routepath+="L "+it+" "+rt+" ";var dt=L[nt+1],bt=dt[0].x,sn=dt[0].y;ot=dt[1].x-bt,at=dt[1].y-sn;var ln,un,cn=a.angleBetween2Lines(Ue,dt)<0?1:0;Math.abs(ot)>0?(ln=bt+ot/Math.abs(ot)*Q,un=sn):(ln=bt,un=sn+at/Math.abs(at)*Q);var dn=Math.abs(ln-it),xn=Math.abs(un-rt);tt.routepath+="A "+dn+" "+xn+" 0 0 "+cn+" "+ln+" "+un+" "}else{var Wn=[it,rt];Math.abs(ot)>0?(Ne=[it-=ot/Math.abs(ot)*re,rt+te],$e=[it,rt-te]):(Ne=[it+te,rt-=at/Math.abs(at)*re],$e=[it-te,rt]),tt.routepath+="L "+it+" "+rt+" ",re>0&&(tt.arrowpath="M "+Wn[0]+" "+Wn[1]+" L "+Ne[0]+" "+Ne[1]+" L "+$e[0]+" "+$e[1])}}else it=(Ue=L[0])[1].x,rt=Ue[1].y,ot=it-Ue[0].x,at=rt-Ue[0].y,Wn=[it,rt],Math.abs(ot)>0?(Ne=[it-=ot/Math.abs(ot)*re,rt+te],$e=[it,rt-te]):(Ne=[it+te,rt-=at/Math.abs(at)*re],$e=[it-te,rt]),tt.routepath+="L "+it+" "+rt+" ",re>0&&(tt.arrowpath="M "+Wn[0]+" "+Wn[1]+" L "+Ne[0]+" "+Ne[1]+" L "+$e[0]+" "+$e[1]);return tt},a}();te.GridRouter=it},{"./rectangle":17,"./shortestpaths":18,"./vpsc":19}],10:[function(L,Q,te){"use strict";function d(L,Q,te,Ne,$e,Ue){function h(L,Q){sn=[],ot=0,at=0,bt=nt;for(var te=0;te<L.length;te++)i(L[te],Q);return Math.abs(k()-$e)}function i(L,Q){for(var te=void 0,Ne=0;Ne<sn.length;Ne++)if(sn[Ne].space_left>=L.height&&sn[Ne].x+sn[Ne].width+L.width+re.PADDING-Q<=re.FLOAT_EPSILON){te=sn[Ne];break}sn.push(L),void 0!==te?(L.x=te.x+te.width+re.PADDING,L.y=te.bottom,L.space_left=L.height,L.bottom=L.y,te.space_left-=L.height+re.PADDING,te.bottom+=L.height+re.PADDING):(L.y=bt,bt+=L.height+re.PADDING,L.x=tt,L.bottom=L.y,L.space_left=L.height),L.y+L.height-at>-re.FLOAT_EPSILON&&(at=L.y+L.height-nt),L.x+L.width-ot>-re.FLOAT_EPSILON&&(ot=L.x+L.width-tt)}function j(L){var Q=0;return L.forEach((function(L){return Q+=L.width+re.PADDING})),Q}function k(){return ot/at}void 0===$e&&($e=1),void 0===Ue&&(Ue=!0);var tt=0,nt=0,it=Q,rt=te,ot=($e=void 0!==$e?$e:1,Ne=void 0!==Ne?Ne:0,0),at=0,dt=0,bt=0,sn=[];0!=L.length&&(function(L){function b(L){var Q=Number.MAX_VALUE,te=Number.MAX_VALUE,re=0,$e=0;L.array.forEach((function(L){var Ue=void 0!==L.width?L.width:Ne,tt=void 0!==L.height?L.height:Ne;Ue/=2,tt/=2,re=Math.max(L.x+Ue,re),Q=Math.min(L.x-Ue,Q),$e=Math.max(L.y+tt,$e),te=Math.min(L.y-tt,te)})),L.width=re-Q,L.height=$e-te}L.forEach((function(L){b(L)}))}(L),function(L,Q){var te=Number.POSITIVE_INFINITY,Ne=0;L.sort((function(L,Q){return Q.height-L.height})),dt=L.reduce((function(L,Q){return L.width<Q.width?L.width:Q.width}));for(var $e=bt=dt,Ue=sn=j(L),tt=0,nt=Number.MAX_VALUE,it=Number.MAX_VALUE,rt=-1,ot=Number.MAX_VALUE,at=Number.MAX_VALUE;ot>dt||at>re.FLOAT_EPSILON;){if(1!=rt){var bt=Ue-(Ue-$e)/re.GOLDEN_SECTION;nt=h(L,bt)}if(0!=rt){var sn=$e+(Ue-$e)/re.GOLDEN_SECTION;it=h(L,sn)}if(ot=Math.abs(bt-sn),at=Math.abs(nt-it),nt<te&&(te=nt,Ne=bt),it<te&&(te=it,Ne=sn),nt>it?($e=bt,bt=sn,nt=it,rt=1):(Ue=sn,sn=bt,it=nt,rt=0),tt++>100)break}h(L,Ne)}(L),Ue&&function(L){L.forEach((function(L){var Q={x:0,y:0};L.array.forEach((function(L){Q.x+=L.x,Q.y+=L.y})),Q.x/=L.array.length,Q.y/=L.array.length;var te={x:Q.x-L.width/2,y:Q.y-L.height/2},re={x:L.x-te.x+it/2-ot/2,y:L.y-te.y+rt/2-at/2};L.array.forEach((function(L){L.x+=re.x,L.y+=re.y}))}))}(L))}function e(L,Q){function c(L,Q){if(void 0===te[L.index]){Q&&($e++,Ne.push({array:[]})),te[L.index]=$e,Ne[$e-1].array.push(L);var Ue=re[L.index];if(Ue)for(var tt=0;tt<Ue.length;tt++)c(Ue[tt],!1)}}for(var te={},re={},Ne=[],$e=0,Ue=0;Ue<Q.length;Ue++){var tt=Q[Ue],nt=tt.source,it=tt.target;re[nt.index]?re[nt.index].push(it):re[nt.index]=[it],re[it.index]?re[it.index].push(nt):re[it.index]=[nt]}for(Ue=0;Ue<L.length;Ue++){var rt=L[Ue];te[rt.index]||c(rt,!0)}return Ne}Object.defineProperty(te,"__esModule",{value:!0});var re={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4,MAX_INERATIONS:100};te.applyPacking=d,te.separateGraphs=e},{}],11:[function(L,Q,te){"use strict";function d(L){return void 0!==L.leaves||void 0!==L.groups}Object.defineProperty(te,"__esModule",{value:!0});var re,Ne=L("./powergraph"),$e=L("./linklengths"),Ue=L("./descent"),tt=L("./rectangle"),nt=L("./shortestpaths"),it=L("./geom"),rt=L("./handledisconnected");!function(L){L[L.start=0]="start",L[L.tick=1]="tick",L[L.end=2]="end"}(re=te.EventType||(te.EventType={}));var ot=function(){function a(){var L=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:a.getSourceIndex,getTargetIndex:a.getTargetIndex,setLength:a.setLinkLength,getType:function(Q){return"function"==typeof L._linkType?L._linkType(Q):0}}}return a.prototype.on=function(L,Q){return this.event||(this.event={}),"string"==typeof L?this.event[re[L]]=Q:this.event[L]=Q,this},a.prototype.trigger=function(L){this.event&&void 0!==this.event[L.type]&&this.event[L.type](L)},a.prototype.kick=function(){for(;!this.tick(););},a.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:re.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var L,Q,te=this._nodes.length;for(this._links.length,this._descent.locks.clear(),Q=0;Q<te;++Q)if((L=this._nodes[Q]).fixed){void 0!==L.px&&void 0!==L.py||(L.px=L.x,L.py=L.y);var Ne=[L.px,L.py];this._descent.locks.add(Q,Ne)}var $e=this._descent.rungeKutta();return 0===$e?this._alpha=0:void 0!==this._lastStress&&(this._alpha=$e),this._lastStress=$e,this.updateNodePositions(),this.trigger({type:re.tick,alpha:this._alpha,stress:this._lastStress}),!1},a.prototype.updateNodePositions=function(){for(var L,Q=this._descent.x[0],te=this._descent.x[1],re=this._nodes.length;re--;)(L=this._nodes[re]).x=Q[re],L.y=te[re]},a.prototype.nodes=function(L){if(!L){if(0===this._nodes.length&&this._links.length>0){var Q=0;this._links.forEach((function(L){Q=Math.max(Q,L.source,L.target)})),this._nodes=new Array(++Q);for(var te=0;te<Q;++te)this._nodes[te]={}}return this._nodes}return this._nodes=L,this},a.prototype.groups=function(L){var Q=this;return L?(this._groups=L,this._rootGroup={},this._groups.forEach((function(L){void 0===L.padding&&(L.padding=1),void 0!==L.leaves&&L.leaves.forEach((function(te,re){"number"==typeof te&&((L.leaves[re]=Q._nodes[te]).parent=L)})),void 0!==L.groups&&L.groups.forEach((function(te,re){"number"==typeof te&&((L.groups[re]=Q._groups[te]).parent=L)}))})),this._rootGroup.leaves=this._nodes.filter((function(L){return void 0===L.parent})),this._rootGroup.groups=this._groups.filter((function(L){return void 0===L.parent})),this):this._groups},a.prototype.powerGraphGroups=function(L){var Q=Ne.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(Q.groups),L(Q),this},a.prototype.avoidOverlaps=function(L){return arguments.length?(this._avoidOverlaps=L,this):this._avoidOverlaps},a.prototype.handleDisconnected=function(L){return arguments.length?(this._handleDisconnected=L,this):this._handleDisconnected},a.prototype.flowLayout=function(L,Q){return arguments.length||(L="y"),this._directedLinkConstraints={axis:L,getMinSeparation:"number"==typeof Q?function(){return Q}:Q},this},a.prototype.links=function(L){return arguments.length?(this._links=L,this):this._links},a.prototype.constraints=function(L){return arguments.length?(this._constraints=L,this):this._constraints},a.prototype.distanceMatrix=function(L){return arguments.length?(this._distanceMatrix=L,this):this._distanceMatrix},a.prototype.size=function(L){return L?(this._canvasSize=L,this):this._canvasSize},a.prototype.defaultNodeSize=function(L){return L?(this._defaultNodeSize=L,this):this._defaultNodeSize},a.prototype.groupCompactness=function(L){return L?(this._groupCompactness=L,this):this._groupCompactness},a.prototype.linkDistance=function(L){return L?(this._linkDistance="function"==typeof L?L:+L,this._linkLengthCalculator=null,this):this._linkDistance},a.prototype.linkType=function(L){return this._linkType=L,this},a.prototype.convergenceThreshold=function(L){return L?(this._threshold="function"==typeof L?L:+L,this):this._threshold},a.prototype.alpha=function(L){return arguments.length?(L=+L,this._alpha?this._alpha=L>0?L:0:L>0&&(this._running||(this._running=!0,this.trigger({type:re.start,alpha:this._alpha=L}),this.kick())),this):this._alpha},a.prototype.getLinkLength=function(L){return"function"==typeof this._linkDistance?+this._linkDistance(L):this._linkDistance},a.setLinkLength=function(L,Q){L.length=Q},a.prototype.getLinkType=function(L){return"function"==typeof this._linkType?this._linkType(L):0},a.prototype.symmetricDiffLinkLengths=function(L,Q){var te=this;return void 0===Q&&(Q=1),this.linkDistance((function(Q){return L*Q.length})),this._linkLengthCalculator=function(){return $e.symmetricDiffLinkLengths(te._links,te.linkAccessor,Q)},this},a.prototype.jaccardLinkLengths=function(L,Q){var te=this;return void 0===Q&&(Q=1),this.linkDistance((function(Q){return L*Q.length})),this._linkLengthCalculator=function(){return $e.jaccardLinkLengths(te._links,te.linkAccessor,Q)},this},a.prototype.start=function(L,Q,te,re,Ne,it){var rt=this;void 0===L&&(L=0),void 0===Q&&(Q=0),void 0===te&&(te=0),void 0===re&&(re=0),void 0===Ne&&(Ne=!0),void 0===it&&(it=!0);var ot,at=this.nodes().length,dt=at+2*this._groups.length,bt=(this._links.length,this._canvasSize[0]),sn=this._canvasSize[1],ln=new Array(dt),un=new Array(dt),cn=null,dn=this._avoidOverlaps;this._nodes.forEach((function(L,Q){L.index=Q,void 0===L.x&&(L.x=bt/2,L.y=sn/2),ln[Q]=L.x,un[Q]=L.y})),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?ot=this._distanceMatrix:(ot=new nt.Calculator(dt,this._links,a.getSourceIndex,a.getTargetIndex,(function(L){return rt.getLinkLength(L)})).DistanceMatrix(),cn=Ue.Descent.createSquareMatrix(dt,(function(){return 2})),this._links.forEach((function(L){"number"==typeof L.source&&(L.source=rt._nodes[L.source]),"number"==typeof L.target&&(L.target=rt._nodes[L.target])})),this._links.forEach((function(L){var Q=a.getSourceIndex(L),te=a.getTargetIndex(L);cn[Q][te]=cn[te][Q]=L.weight||1})));var xn=Ue.Descent.createSquareMatrix(dt,(function(L,Q){return ot[L][Q]}));if(this._rootGroup&&void 0!==this._rootGroup.groups){var Wn=at,x=function(L,Q,te,re){cn[L][Q]=cn[Q][L]=te,xn[L][Q]=xn[Q][L]=re};this._groups.forEach((function(L){x(Wn,Wn+1,rt._groupCompactness,.1),ln[Wn]=0,un[Wn++]=0,ln[Wn]=0,un[Wn++]=0}))}else this._rootGroup={leaves:this._nodes,groups:[]};var Yn=this._constraints||[];for(this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,Yn=Yn.concat($e.generateDirectedEdgeConstraints(at,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new Ue.Descent([ln,un],xn),this._descent.locks.clear(),Wn=0;Wn<at;++Wn){var Xn=this._nodes[Wn];if(Xn.fixed){Xn.px=Xn.x,Xn.py=Xn.y;var Kn=[Xn.x,Xn.y];this._descent.locks.add(Wn,Kn)}}if(this._descent.threshold=this._threshold,this.initialLayout(L,ln,un),Yn.length>0&&(this._descent.project=new tt.Projection(this._nodes,this._groups,this._rootGroup,Yn).projectFunctions()),this._descent.run(Q),this.separateOverlappingComponents(bt,sn,it),this.avoidOverlaps(dn),dn&&(this._nodes.forEach((function(L,Q){L.x=ln[Q],L.y=un[Q]})),this._descent.project=new tt.Projection(this._nodes,this._groups,this._rootGroup,Yn,!0).projectFunctions(),this._nodes.forEach((function(L,Q){ln[Q]=L.x,un[Q]=L.y}))),this._descent.G=cn,this._descent.run(te),re){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=at,this._descent.scaleSnapByMaxH=at!=dt;var ti=Ue.Descent.createSquareMatrix(dt,(function(L,Q){return L>=at||Q>=at?cn[L][Q]:0}));this._descent.G=ti,this._descent.run(re)}return this.updateNodePositions(),this.separateOverlappingComponents(bt,sn,it),Ne?this.resume():this},a.prototype.initialLayout=function(L,Q,te){if(this._groups.length>0&&L>0){var re=this._nodes.length,Ne=this._links.map((function(L){return{source:L.source.index,target:L.target.index}})),$e=this._nodes.map((function(L){return{index:L.index}}));this._groups.forEach((function(L,Q){$e.push({index:L.index=re+Q})})),this._groups.forEach((function(L,Q){void 0!==L.leaves&&L.leaves.forEach((function(Q){return Ne.push({source:L.index,target:Q.index})})),void 0!==L.groups&&L.groups.forEach((function(Q){return Ne.push({source:L.index,target:Q.index})}))})),(new a).size(this.size()).nodes($e).links(Ne).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(L,0,0,0,!1),this._nodes.forEach((function(L){Q[L.index]=$e[L.index].x,te[L.index]=$e[L.index].y}))}else this._descent.run(L)},a.prototype.separateOverlappingComponents=function(L,Q,te){var re=this;if(void 0===te&&(te=!0),!this._distanceMatrix&&this._handleDisconnected){var Ne=this._descent.x[0],$e=this._descent.x[1];this._nodes.forEach((function(L,Q){L.x=Ne[Q],L.y=$e[Q]}));var Ue=rt.separateGraphs(this._nodes,this._links);rt.applyPacking(Ue,L,Q,this._defaultNodeSize,1,te),this._nodes.forEach((function(L,Q){re._descent.x[0][Q]=L.x,re._descent.x[1][Q]=L.y,L.bounds&&(L.bounds.setXCentre(L.x),L.bounds.setYCentre(L.y))}))}},a.prototype.resume=function(){return this.alpha(.1)},a.prototype.stop=function(){return this.alpha(0)},a.prototype.prepareEdgeRouting=function(L){void 0===L&&(L=0),this._visibilityGraph=new it.TangentVisibilityGraph(this._nodes.map((function(Q){return Q.bounds.inflate(-L).vertices()})))},a.prototype.routeEdge=function(L,Q,te){void 0===Q&&(Q=5);var re=[],Ne=new it.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),$e={x:L.source.x,y:L.source.y},Ue={x:L.target.x,y:L.target.y},rt=Ne.addPoint($e,L.source.index),ot=Ne.addPoint(Ue,L.target.index);Ne.addEdgeIfVisible($e,Ue,L.source.index,L.target.index),void 0!==te&&te(Ne);var m=function(L){return L.source.id},n=function(L){return L.target.id},o=function(L){return L.length()},at=new nt.Calculator(Ne.V.length,Ne.E,m,n,o).PathFromNodeToNode(rt.id,ot.id);if(1===at.length||at.length===Ne.V.length){var dt=tt.makeEdgeBetween(L.source.innerBounds,L.target.innerBounds,Q);re=[dt.sourceIntersection,dt.arrowStart]}else{for(var bt=at.length-2,sn=Ne.V[at[bt]].p,ln=Ne.V[at[0]].p,un=(re=[L.source.innerBounds.rayIntersection(sn.x,sn.y)],bt);un>=0;--un)re.push(Ne.V[at[un]].p);re.push(tt.makeEdgeTo(ln,L.target.innerBounds,Q))}return re},a.getSourceIndex=function(L){return"number"==typeof L.source?L.source:L.source.index},a.getTargetIndex=function(L){return"number"==typeof L.target?L.target:L.target.index},a.linkId=function(L){return a.getSourceIndex(L)+"-"+a.getTargetIndex(L)},a.dragStart=function(L){d(L)?a.storeOffset(L,a.dragOrigin(L)):(a.stopNode(L),L.fixed|=2)},a.stopNode=function(L){L.px=L.x,L.py=L.y},a.storeOffset=function(L,Q){void 0!==L.leaves&&L.leaves.forEach((function(L){L.fixed|=2,a.stopNode(L),L._dragGroupOffsetX=L.x-Q.x,L._dragGroupOffsetY=L.y-Q.y})),void 0!==L.groups&&L.groups.forEach((function(L){return a.storeOffset(L,Q)}))},a.dragOrigin=function(L){return d(L)?{x:L.bounds.cx(),y:L.bounds.cy()}:L},a.drag=function(L,Q){d(L)?(void 0!==L.leaves&&L.leaves.forEach((function(te){L.bounds.setXCentre(Q.x),L.bounds.setYCentre(Q.y),te.px=te._dragGroupOffsetX+Q.x,te.py=te._dragGroupOffsetY+Q.y})),void 0!==L.groups&&L.groups.forEach((function(L){return a.drag(L,Q)}))):(L.px=Q.x,L.py=Q.y)},a.dragEnd=function(L){d(L)?(void 0!==L.leaves&&L.leaves.forEach((function(L){a.dragEnd(L),delete L._dragGroupOffsetX,delete L._dragGroupOffsetY})),void 0!==L.groups&&L.groups.forEach(a.dragEnd)):L.fixed&=-7},a.mouseOver=function(L){L.fixed|=4,L.px=L.x,L.py=L.y},a.mouseOut=function(L){L.fixed&=-5},a}();te.Layout=ot},{"./descent":7,"./geom":8,"./handledisconnected":10,"./linklengths":13,"./powergraph":14,"./rectangle":17,"./shortestpaths":18}],12:[function(L,Q,te){"use strict";Object.defineProperty(te,"__esModule",{value:!0});var re=L("./shortestpaths"),Ne=L("./descent"),$e=L("./rectangle"),Ue=L("./linklengths"),tt=function(){function a(L,Q){this.source=L,this.target=Q}return a.prototype.actualLength=function(L){var Q=this;return Math.sqrt(L.reduce((function(L,te){var re=te[Q.target]-te[Q.source];return L+re*re}),0))},a}();te.Link3D=tt;var nt=function(){function a(L,Q,te){void 0===L&&(L=0),void 0===Q&&(Q=0),void 0===te&&(te=0),this.x=L,this.y=Q,this.z=te}return a}();te.Node3D=nt;var it=function(){function a(L,Q,te){var re=this;void 0===te&&(te=1),this.nodes=L,this.links=Q,this.idealLinkLength=te,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(a.k);for(var Ne=0;Ne<a.k;++Ne)this.result[Ne]=new Array(L.length);L.forEach((function(L,Q){for(var te=0,Ne=a.dims;te<Ne.length;te++){var $e=Ne[te];void 0===L[$e]&&(L[$e]=Math.random())}re.result[0][Q]=L.x,re.result[1][Q]=L.y,re.result[2][Q]=L.z}))}return a.prototype.linkLength=function(L){return L.actualLength(this.result)},a.prototype.start=function(L){var Q=this;void 0===L&&(L=100);var te=this.nodes.length,tt=new rt;this.useJaccardLinkLengths&&Ue.jaccardLinkLengths(this.links,tt,1.5),this.links.forEach((function(L){return L.length*=Q.idealLinkLength}));var nt=new re.Calculator(te,this.links,(function(L){return L.source}),(function(L){return L.target}),(function(L){return L.length})).DistanceMatrix(),it=Ne.Descent.createSquareMatrix(te,(function(L,Q){return nt[L][Q]})),ot=Ne.Descent.createSquareMatrix(te,(function(){return 2}));this.links.forEach((function(L){var Q=L.source,te=L.target;return ot[Q][te]=ot[te][Q]=1})),this.descent=new Ne.Descent(this.result,it),this.descent.threshold=.001,this.descent.G=ot,this.constraints&&(this.descent.project=new $e.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var at=0;at<this.nodes.length;at++){var dt=this.nodes[at];dt.fixed&&this.descent.locks.add(at,[dt.x,dt.y,dt.z])}return this.descent.run(L),this},a.prototype.tick=function(){this.descent.locks.clear();for(var L=0;L<this.nodes.length;L++){var Q=this.nodes[L];Q.fixed&&this.descent.locks.add(L,[Q.x,Q.y,Q.z])}return this.descent.rungeKutta()},a.dims=["x","y","z"],a.k=a.dims.length,a}();te.Layout3D=it;var rt=function(){function a(){}return a.prototype.getSourceIndex=function(L){return L.source},a.prototype.getTargetIndex=function(L){return L.target},a.prototype.getLength=function(L){return L.length},a.prototype.setLength=function(L,Q){L.length=Q},a}()},{"./descent":7,"./linklengths":13,"./rectangle":17,"./shortestpaths":18}],13:[function(L,Q,te){"use strict";function d(L,Q){var te={};for(var re in L)te[re]={};for(var re in Q)te[re]={};return Object.keys(te).length}function e(L,Q){var te=0;for(var re in L)void 0!==Q[re]&&++te;return te}function f(L,Q){var te={},d=function(L,Q){void 0===te[L]&&(te[L]={}),te[L][Q]={}};return L.forEach((function(L){var te=Q.getSourceIndex(L),re=Q.getTargetIndex(L);d(te,re),d(re,te)})),te}function g(L,Q,te,re){var Ne=f(L,re);L.forEach((function(L){var $e=Ne[re.getSourceIndex(L)],Ue=Ne[re.getTargetIndex(L)];re.setLength(L,1+Q*te($e,Ue))}))}function h(L,Q,te){void 0===te&&(te=1),g(L,te,(function(L,Q){return Math.sqrt(d(L,Q)-e(L,Q))}),Q)}function i(L,Q,te){void 0===te&&(te=1),g(L,te,(function(L,Q){return Math.min(Object.keys(L).length,Object.keys(Q).length)<1.1?0:e(L,Q)/d(L,Q)}),Q)}function j(L,Q,te,re){var Ne=k(L,Q,re),$e={};Ne.forEach((function(L,Q){return L.forEach((function(L){return $e[L]=Q}))}));var Ue=[];return Q.forEach((function(L){var Q=re.getSourceIndex(L),Ne=re.getTargetIndex(L);$e[Q]!==$e[Ne]&&Ue.push({axis:te,left:Q,right:Ne,gap:re.getMinSeparation(L)})})),Ue}function k(L,Q,te){function d(L){L.index=L.lowlink=Ne++,$e.push(L),L.onStack=!0;for(var Q=0,te=L.out;Q<te.length;Q++){var re=te[Q];void 0===re.index?(d(re),L.lowlink=Math.min(L.lowlink,re.lowlink)):re.onStack&&(L.lowlink=Math.min(L.lowlink,re.index))}if(L.lowlink===L.index){for(var tt=[];$e.length&&((re=$e.pop()).onStack=!1,tt.push(re),re!==L););Ue.push(tt.map((function(L){return L.id})))}}for(var re=[],Ne=0,$e=[],Ue=[],tt=0;tt<L;tt++)re.push({id:tt,out:[]});for(var nt=0,it=Q;nt<it.length;nt++){var rt=it[nt],ot=re[te.getSourceIndex(rt)],at=re[te.getTargetIndex(rt)];ot.out.push(at)}for(var dt=0,bt=re;dt<bt.length;dt++){var sn=bt[dt];void 0===sn.index&&d(sn)}return Ue}Object.defineProperty(te,"__esModule",{value:!0}),te.symmetricDiffLinkLengths=h,te.jaccardLinkLengths=i,te.generateDirectedEdgeConstraints=j,te.stronglyConnectedComponents=k},{}],14:[function(L,Q,te){"use strict";function d(L,Q,te){L.forAll((function(L){if(L.isLeaf())Q.leaves||(Q.leaves=[]),Q.leaves.push(L.id);else{var re=Q;if(L.gid=te.length,!L.isIsland()||L.isPredefined()){if(re={id:L.gid},L.isPredefined())for(var Ne in L.definition)re[Ne]=L.definition[Ne];Q.groups||(Q.groups=[]),Q.groups.push(L.gid),te.push(re)}d(L.children,re,te)}}))}function e(L,Q){var te={};for(var re in L)re in Q&&(te[re]=L[re]);return te}function f(L,Q,te,re){for(var $e=L.length,Ue=new Ne($e,Q,te,re);Ue.greedyMerge(););var tt=[],nt=Ue.getGroupHierarchy(tt);return tt.forEach((function(Q){var c=function(te){var re=Q[te];"number"==typeof re&&(Q[te]=L[re])};c("source"),c("target")})),{groups:nt,powerEdges:tt}}Object.defineProperty(te,"__esModule",{value:!0});var re=function(){function a(L,Q,te){this.source=L,this.target=Q,this.type=te}return a}();te.PowerEdge=re;var Ne=function(){function a(L,Q,te,re){var Ne=this;if(this.linkAccessor=te,this.modules=new Array(L),this.roots=[],re)this.initModulesFromGroup(re);else{this.roots.push(new Ue);for(var tt=0;tt<L;++tt)this.roots[0].add(this.modules[tt]=new $e(tt))}this.R=Q.length,Q.forEach((function(L){var Q=Ne.modules[te.getSourceIndex(L)],re=Ne.modules[te.getTargetIndex(L)],$e=te.getType(L);Q.outgoing.add($e,re),re.incoming.add($e,Q)}))}return a.prototype.initModulesFromGroup=function(L){var Q=new Ue;this.roots.push(Q);for(var te=0;te<L.leaves.length;++te){var re=L.leaves[te],Ne=new $e(re.id);this.modules[re.id]=Ne,Q.add(Ne)}if(L.groups)for(var nt=0;nt<L.groups.length;++nt){var it=L.groups[nt],rt={};for(var ot in it)"leaves"!==ot&&"groups"!==ot&&it.hasOwnProperty(ot)&&(rt[ot]=it[ot]);Q.add(new $e(-1-nt,new tt,new tt,this.initModulesFromGroup(it),rt))}return Q},a.prototype.merge=function(L,Q,te){void 0===te&&(te=0);var re=L.incoming.intersection(Q.incoming),Ne=L.outgoing.intersection(Q.outgoing),tt=new Ue;tt.add(L),tt.add(Q);var nt=new $e(this.modules.length,Ne,re,tt);this.modules.push(nt);var h=function(te,re,Ne){te.forAll((function(te,$e){te.forAll((function(te){var Ue=te[re];Ue.add($e,nt),Ue.remove($e,L),Ue.remove($e,Q),L[Ne].remove($e,te),Q[Ne].remove($e,te)}))}))};return h(Ne,"incoming","outgoing"),h(re,"outgoing","incoming"),this.R-=re.count()+Ne.count(),this.roots[te].remove(L),this.roots[te].remove(Q),this.roots[te].add(nt),nt},a.prototype.rootMerges=function(L){void 0===L&&(L=0);for(var Q=this.roots[L].modules(),te=Q.length,re=new Array(te*(te-1)),Ne=0,$e=0,Ue=te-1;$e<Ue;++$e)for(var tt=$e+1;tt<te;++tt){var nt=Q[$e],it=Q[tt];re[Ne]={id:Ne,nEdges:this.nEdges(nt,it),a:nt,b:it},Ne++}return re},a.prototype.greedyMerge=function(){for(var L=0;L<this.roots.length;++L)if(!(this.roots[L].modules().length<2)){var Q=this.rootMerges(L).sort((function(L,Q){return L.nEdges==Q.nEdges?L.id-Q.id:L.nEdges-Q.nEdges}))[0];if(!(Q.nEdges>=this.R))return this.merge(Q.a,Q.b,L),!0}},a.prototype.nEdges=function(L,Q){var te=L.incoming.intersection(Q.incoming),re=L.outgoing.intersection(Q.outgoing);return this.R-te.count()-re.count()},a.prototype.getGroupHierarchy=function(L){var Q=this,te=[],Ne={};return d(this.roots[0],Ne,te),this.allEdges().forEach((function(Ne){var $e=Q.modules[Ne.source],Ue=Q.modules[Ne.target];L.push(new re(void 0===$e.gid?Ne.source:te[$e.gid],void 0===Ue.gid?Ne.target:te[Ue.gid],Ne.type))})),te},a.prototype.allEdges=function(){var L=[];return a.getEdges(this.roots[0],L),L},a.getEdges=function(L,Q){L.forAll((function(L){L.getEdges(Q),a.getEdges(L.children,Q)}))},a}();te.Configuration=Ne;var $e=function(){function a(L,Q,te,re,Ne){void 0===Q&&(Q=new tt),void 0===te&&(te=new tt),void 0===re&&(re=new Ue),this.id=L,this.outgoing=Q,this.incoming=te,this.children=re,this.definition=Ne}return a.prototype.getEdges=function(L){var Q=this;this.outgoing.forAll((function(te,Ne){te.forAll((function(te){L.push(new re(Q.id,te.id,Ne))}))}))},a.prototype.isLeaf=function(){return 0===this.children.count()},a.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},a.prototype.isPredefined=function(){return void 0!==this.definition},a}();te.Module=$e;var Ue=function(){function a(){this.table={}}return a.prototype.count=function(){return Object.keys(this.table).length},a.prototype.intersection=function(L){var Q=new a;return Q.table=e(this.table,L.table),Q},a.prototype.intersectionCount=function(L){return this.intersection(L).count()},a.prototype.contains=function(L){return L in this.table},a.prototype.add=function(L){this.table[L.id]=L},a.prototype.remove=function(L){delete this.table[L.id]},a.prototype.forAll=function(L){for(var Q in this.table)L(this.table[Q])},a.prototype.modules=function(){var L=[];return this.forAll((function(Q){Q.isPredefined()||L.push(Q)})),L},a}();te.ModuleSet=Ue;var tt=function(){function a(){this.sets={},this.n=0}return a.prototype.count=function(){return this.n},a.prototype.contains=function(L){var Q=!1;return this.forAllModules((function(te){Q||te.id!=L||(Q=!0)})),Q},a.prototype.add=function(L,Q){(L in this.sets?this.sets[L]:this.sets[L]=new Ue).add(Q),++this.n},a.prototype.remove=function(L,Q){var te=this.sets[L];te.remove(Q),0===te.count()&&delete this.sets[L],--this.n},a.prototype.forAll=function(L){for(var Q in this.sets)L(this.sets[Q],Number(Q))},a.prototype.forAllModules=function(L){this.forAll((function(Q,te){return Q.forAll(L)}))},a.prototype.intersection=function(L){var Q=new a;return this.forAll((function(te,re){if(re in L.sets){var Ne=te.intersection(L.sets[re]),$e=Ne.count();$e>0&&(Q.sets[re]=Ne,Q.n+=$e)}})),Q},a}();te.LinkSets=tt,te.getGroups=f},{}],15:[function(L,Q,te){"use strict";Object.defineProperty(te,"__esModule",{value:!0});var re=function(){function a(L){this.elem=L,this.subheaps=[]}return a.prototype.toString=function(L){for(var Q="",te=!1,re=0;re<this.subheaps.length;++re){var Ne=this.subheaps[re];Ne.elem?(te&&(Q+=","),Q+=Ne.toString(L),te=!0):te=!1}return""!==Q&&(Q="("+Q+")"),(this.elem?L(this.elem):"")+Q},a.prototype.forEach=function(L){this.empty()||(L(this.elem,this),this.subheaps.forEach((function(Q){return Q.forEach(L)})))},a.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce((function(L,Q){return L+Q.count()}),0)},a.prototype.min=function(){return this.elem},a.prototype.empty=function(){return null==this.elem},a.prototype.contains=function(L){if(this===L)return!0;for(var Q=0;Q<this.subheaps.length;Q++)if(this.subheaps[Q].contains(L))return!0;return!1},a.prototype.isHeap=function(L){var Q=this;return this.subheaps.every((function(te){return L(Q.elem,te.elem)&&te.isHeap(L)}))},a.prototype.insert=function(L,Q){return this.merge(new a(L),Q)},a.prototype.merge=function(L,Q){return this.empty()?L:L.empty()?this:Q(this.elem,L.elem)?(this.subheaps.push(L),this):(L.subheaps.push(this),L)},a.prototype.removeMin=function(L){return this.empty()?null:this.mergePairs(L)},a.prototype.mergePairs=function(L){if(0==this.subheaps.length)return new a(null);if(1==this.subheaps.length)return this.subheaps[0];var Q=this.subheaps.pop().merge(this.subheaps.pop(),L),te=this.mergePairs(L);return Q.merge(te,L)},a.prototype.decreaseKey=function(L,Q,te,re){var Ne=L.removeMin(re);L.elem=Ne.elem,L.subheaps=Ne.subheaps,null!==te&&null!==Ne.elem&&te(L.elem,L);var $e=new a(Q);return null!==te&&te(Q,$e),this.merge($e,re)},a}();te.PairingHeap=re;var Ne=function(){function a(L){this.lessThan=L}return a.prototype.top=function(){return this.empty()?null:this.root.elem},a.prototype.push=function(){for(var L=[],Q=0;Q<arguments.length;Q++)L[Q]=arguments[Q];for(var te,Ne,$e=0;Ne=L[$e];++$e)te=new re(Ne),this.root=this.empty()?te:this.root.merge(te,this.lessThan);return te},a.prototype.empty=function(){return!this.root||!this.root.elem},a.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},a.prototype.forEach=function(L){this.root.forEach(L)},a.prototype.pop=function(){if(this.empty())return null;var L=this.root.min();return this.root=this.root.removeMin(this.lessThan),L},a.prototype.reduceKey=function(L,Q,te){void 0===te&&(te=null),this.root=this.root.decreaseKey(L,Q,te,this.lessThan)},a.prototype.toString=function(L){return this.root.toString(L)},a.prototype.count=function(){return this.root.count()},a}();te.PriorityQueue=Ne},{}],16:[function(L,Q,te){"use strict";var re=this&&this.__extends||function(){var a=function(L,Q){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,Q){L.__proto__=Q}||function(L,Q){for(var te in Q)Q.hasOwnProperty(te)&&(L[te]=Q[te])})(L,Q)};return function(L,Q){function d(){this.constructor=L}a(L,Q),L.prototype=null===Q?Object.create(Q):(d.prototype=Q.prototype,new d)}}();Object.defineProperty(te,"__esModule",{value:!0});var Ne=function(){function a(){this.findIter=function(L){for(var Q=this._root,te=this.iterator();null!==Q;){var re=this._comparator(L,Q.data);if(0===re)return te._cursor=Q,te;te._ancestors.push(Q),Q=Q.get_child(re>0)}return null}}return a.prototype.clear=function(){this._root=null,this.size=0},a.prototype.find=function(L){for(var Q=this._root;null!==Q;){var te=this._comparator(L,Q.data);if(0===te)return Q.data;Q=Q.get_child(te>0)}return null},a.prototype.lowerBound=function(L){return this._bound(L,this._comparator)},a.prototype.upperBound=function(L){function b(L,te){return Q(te,L)}var Q=this._comparator;return this._bound(L,b)},a.prototype.min=function(){var L=this._root;if(null===L)return null;for(;null!==L.left;)L=L.left;return L.data},a.prototype.max=function(){var L=this._root;if(null===L)return null;for(;null!==L.right;)L=L.right;return L.data},a.prototype.iterator=function(){return new $e(this)},a.prototype.each=function(L){for(var Q,te=this.iterator();null!==(Q=te.next());)L(Q)},a.prototype.reach=function(L){for(var Q,te=this.iterator();null!==(Q=te.prev());)L(Q)},a.prototype._bound=function(L,Q){for(var te=this._root,re=this.iterator();null!==te;){var Ne=this._comparator(L,te.data);if(0===Ne)return re._cursor=te,re;re._ancestors.push(te),te=te.get_child(Ne>0)}for(var $e=re._ancestors.length-1;$e>=0;--$e)if(Q(L,(te=re._ancestors[$e]).data)>0)return re._cursor=te,re._ancestors.length=$e,re;return re._ancestors.length=0,re},a}();te.TreeBase=Ne;var $e=function(){function a(L){this._tree=L,this._ancestors=[],this._cursor=null}return a.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},a.prototype.next=function(){if(null===this._cursor){var L=this._tree._root;null!==L&&this._minNode(L)}else if(null===this._cursor.right){var Q;do{if(Q=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===Q)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return null!==this._cursor?this._cursor.data:null},a.prototype.prev=function(){if(null===this._cursor){var L=this._tree._root;null!==L&&this._maxNode(L)}else if(null===this._cursor.left){var Q;do{if(Q=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===Q)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return null!==this._cursor?this._cursor.data:null},a.prototype._minNode=function(L){for(;null!==L.left;)this._ancestors.push(L),L=L.left;this._cursor=L},a.prototype._maxNode=function(L){for(;null!==L.right;)this._ancestors.push(L),L=L.right;this._cursor=L},a}();te.Iterator=$e;var Ue=function(){function a(L){this.data=L,this.left=null,this.right=null,this.red=!0}return a.prototype.get_child=function(L){return L?this.right:this.left},a.prototype.set_child=function(L,Q){L?this.right=Q:this.left=Q},a}(),tt=function(L){function b(Q){var te=L.call(this)||this;return te._root=null,te._comparator=Q,te.size=0,te}return re(b,L),b.prototype.insert=function(L){var Q=!1;if(null===this._root)this._root=new Ue(L),Q=!0,this.size++;else{var te=new Ue(void 0),re=!1,Ne=!1,$e=null,tt=te,nt=null,it=this._root;for(tt.right=this._root;;){if(null===it?(it=new Ue(L),nt.set_child(re,it),Q=!0,this.size++):b.is_red(it.left)&&b.is_red(it.right)&&(it.red=!0,it.left.red=!1,it.right.red=!1),b.is_red(it)&&b.is_red(nt)){var rt=tt.right===$e;it===nt.get_child(Ne)?tt.set_child(rt,b.single_rotate($e,!Ne)):tt.set_child(rt,b.double_rotate($e,!Ne))}var ot=this._comparator(it.data,L);if(0===ot)break;Ne=re,re=ot<0,null!==$e&&(tt=$e),$e=nt,nt=it,it=it.get_child(re)}this._root=te.right}return this._root.red=!1,Q},b.prototype.remove=function(L){if(null===this._root)return!1;var Q=new Ue(void 0),te=Q;te.right=this._root;for(var re=null,Ne=null,$e=null,tt=!0;null!==te.get_child(tt);){var nt=tt;Ne=re,re=te,te=te.get_child(tt);var it=this._comparator(L,te.data);if(tt=it>0,0===it&&($e=te),!b.is_red(te)&&!b.is_red(te.get_child(tt)))if(b.is_red(te.get_child(!tt))){var rt=b.single_rotate(te,tt);re.set_child(nt,rt),re=rt}else if(!b.is_red(te.get_child(!tt))){var ot=re.get_child(!nt);if(null!==ot)if(b.is_red(ot.get_child(!nt))||b.is_red(ot.get_child(nt))){var at=Ne.right===re;b.is_red(ot.get_child(nt))?Ne.set_child(at,b.double_rotate(re,nt)):b.is_red(ot.get_child(!nt))&&Ne.set_child(at,b.single_rotate(re,nt));var dt=Ne.get_child(at);dt.red=!0,te.red=!0,dt.left.red=!1,dt.right.red=!1}else re.red=!1,ot.red=!0,te.red=!0}}return null!==$e&&($e.data=te.data,re.set_child(re.right===te,te.get_child(null===te.left)),this.size--),this._root=Q.right,null!==this._root&&(this._root.red=!1),null!==$e},b.is_red=function(L){return null!==L&&L.red},b.single_rotate=function(L,Q){var te=L.get_child(!Q);return L.set_child(!Q,te.get_child(Q)),te.set_child(Q,L),L.red=!0,te.red=!1,te},b.double_rotate=function(L,Q){return L.set_child(!Q,b.single_rotate(L.get_child(!Q),!Q)),b.single_rotate(L,Q)},b}(Ne);te.RBTree=tt},{}],17:[function(L,Q,te){"use strict";function d(L){return L.bounds=void 0!==L.leaves?L.leaves.reduce((function(L,Q){return Q.bounds.union(L)}),Ue.empty()):Ue.empty(),void 0!==L.groups&&(L.bounds=L.groups.reduce((function(L,Q){return d(Q).union(L)}),L.bounds)),L.bounds=L.bounds.inflate(L.padding),L.bounds}function e(L,Q,te){var re=L.rayIntersection(Q.cx(),Q.cy())||{x:L.cx(),y:L.cy()},Ne=Q.rayIntersection(L.cx(),L.cy())||{x:Q.cx(),y:Q.cy()},$e=Ne.x-re.x,Ue=Ne.y-re.y,tt=Math.sqrt($e*$e+Ue*Ue),nt=tt-te;return{sourceIntersection:re,targetIntersection:Ne,arrowStart:{x:re.x+nt*$e/tt,y:re.y+nt*Ue/tt}}}function f(L,Q,te){var re=Q.rayIntersection(L.x,L.y);re||(re={x:Q.cx(),y:Q.cy()});var Ne=re.x-L.x,$e=re.y-L.y,Ue=Math.sqrt(Ne*Ne+$e*$e);return{x:re.x-te*Ne/Ue,y:re.y-te*$e/Ue}}function g(L,Q){return L.pos>Q.pos?1:L.pos<Q.pos||L.isOpen?-1:Q.isOpen?1:0}function h(){return new $e.RBTree((function(L,Q){return L.pos-Q.pos}))}function i(L,Q,te,re){void 0===re&&(re=!1);var Ne=L.padding,$e=void 0!==L.groups?L.groups.length:0,Ue=void 0!==L.leaves?L.leaves.length:0,tt=$e?L.groups.reduce((function(L,re){return L.concat(i(re,Q,te,!0))}),[]):[],nt=(re?2:0)+Ue+$e,it=new Array(nt),rt=new Array(nt),ot=0,o=function(L,Q){rt[ot]=L,it[ot++]=Q};if(re){var at=L.bounds,dt=Q.getCentre(at),bt=Q.getSize(at)/2,sn=Q.getOpen(at),ln=Q.getClose(at),un=dt-bt+Ne/2,cn=dt+bt-Ne/2;L.minVar.desiredPosition=un,o(Q.makeRect(sn,ln,un,Ne),L.minVar),L.maxVar.desiredPosition=cn,o(Q.makeRect(sn,ln,cn,Ne),L.maxVar)}Ue&&L.leaves.forEach((function(L){return o(L.bounds,L.variable)})),$e&&L.groups.forEach((function(L){var te=L.bounds;o(Q.makeRect(Q.getOpen(te),Q.getClose(te),Q.getCentre(te),Q.getSize(te)),L.minVar)}));var dn=j(rt,it,Q,te);return $e&&(it.forEach((function(L){L.cOut=[],L.cIn=[]})),dn.forEach((function(L){L.left.cOut.push(L),L.right.cIn.push(L)})),L.groups.forEach((function(L){var te=(L.padding-Q.getSize(L.bounds))/2;L.minVar.cIn.forEach((function(L){return L.gap+=te})),L.minVar.cOut.forEach((function(Q){Q.left=L.maxVar,Q.gap+=te}))}))),tt.concat(dn)}function j(L,Q,te,re){var $e,Ue=L.length,it=2*Ue;console.assert(Q.length>=Ue);var rt=new Array(it);for($e=0;$e<Ue;++$e){var ot=L[$e],at=new tt(Q[$e],ot,te.getCentre(ot));rt[$e]=new nt(!0,at,te.getOpen(ot)),rt[$e+Ue]=new nt(!1,at,te.getClose(ot))}rt.sort(g);var dt=new Array,bt=h();for($e=0;$e<it;++$e){var sn=rt[$e];if(at=sn.v,sn.isOpen)bt.insert(at),te.findNeighbours(at,bt);else{bt.remove(at);var p=function(L,Q){var $e=(te.getSize(L.r)+te.getSize(Q.r))/2+re;dt.push(new Ne.Constraint(L.v,Q.v,$e))},q=function(L,Q,te){for(var re,Ne=at[L].iterator();null!==(re=Ne[L]());)te(re,at),re[Q].remove(at)};q("prev","next",(function(L,Q){return p(L,Q)})),q("next","prev",(function(L,Q){return p(Q,L)}))}}return console.assert(0===bt.size),dt}function k(L,Q){var c=function(te,re){for(var Ne,$e=Q.findIter(L);null!==(Ne=$e[te]());){var Ue=Ne.r.overlapX(L.r);if((Ue<=0||Ue<=Ne.r.overlapY(L.r))&&(L[te].insert(Ne),Ne[re].insert(L)),Ue<=0)break}};c("next","prev"),c("prev","next")}function l(L,Q){var c=function(te,re){var Ne=Q.findIter(L)[te]();null!==Ne&&Ne.r.overlapX(L.r)>0&&(L[te].insert(Ne),Ne[re].insert(L))};c("next","prev"),c("prev","next")}function m(L,Q){return j(L,Q,it,1e-6)}function n(L,Q){return j(L,Q,rt,1e-6)}function o(L){return i(L,it,1e-6)}function p(L){return i(L,rt,1e-6)}function q(L){var Q=L.map((function(L){return new Ne.Variable(L.cx())})),te=m(L,Q),re=new Ne.Solver(Q,te);re.solve(),Q.forEach((function(Q,te){return L[te].setXCentre(Q.position())})),Q=L.map((function(L){return new Ne.Variable(L.cy())})),te=n(L,Q),(re=new Ne.Solver(Q,te)).solve(),Q.forEach((function(Q,te){return L[te].setYCentre(Q.position())}))}var re=this&&this.__extends||function(){var a=function(L,Q){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,Q){L.__proto__=Q}||function(L,Q){for(var te in Q)Q.hasOwnProperty(te)&&(L[te]=Q[te])})(L,Q)};return function(L,Q){function d(){this.constructor=L}a(L,Q),L.prototype=null===Q?Object.create(Q):(d.prototype=Q.prototype,new d)}}();Object.defineProperty(te,"__esModule",{value:!0});var Ne=L("./vpsc"),$e=L("./rbtree");te.computeGroupBounds=d;var Ue=function(){function a(L,Q,te,re){this.x=L,this.X=Q,this.y=te,this.Y=re}return a.empty=function(){return new a(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},a.prototype.cx=function(){return(this.x+this.X)/2},a.prototype.cy=function(){return(this.y+this.Y)/2},a.prototype.overlapX=function(L){var Q=this.cx(),te=L.cx();return Q<=te&&L.x<this.X?this.X-L.x:te<=Q&&this.x<L.X?L.X-this.x:0},a.prototype.overlapY=function(L){var Q=this.cy(),te=L.cy();return Q<=te&&L.y<this.Y?this.Y-L.y:te<=Q&&this.y<L.Y?L.Y-this.y:0},a.prototype.setXCentre=function(L){var Q=L-this.cx();this.x+=Q,this.X+=Q},a.prototype.setYCentre=function(L){var Q=L-this.cy();this.y+=Q,this.Y+=Q},a.prototype.width=function(){return this.X-this.x},a.prototype.height=function(){return this.Y-this.y},a.prototype.union=function(L){return new a(Math.min(this.x,L.x),Math.max(this.X,L.X),Math.min(this.y,L.y),Math.max(this.Y,L.Y))},a.prototype.lineIntersections=function(L,Q,te,re){for(var Ne=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],$e=[],Ue=0;Ue<4;++Ue){var tt=a.lineIntersection(L,Q,te,re,Ne[Ue][0],Ne[Ue][1],Ne[Ue][2],Ne[Ue][3]);null!==tt&&$e.push({x:tt.x,y:tt.y})}return $e},a.prototype.rayIntersection=function(L,Q){var te=this.lineIntersections(this.cx(),this.cy(),L,Q);return te.length>0?te[0]:null},a.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},a.lineIntersection=function(L,Q,te,re,Ne,$e,Ue,tt){var nt=te-L,it=Ue-Ne,rt=re-Q,ot=tt-$e,at=ot*nt-it*rt;if(0==at)return null;var dt=L-Ne,bt=Q-$e,sn=(it*bt-ot*dt)/at,ln=(nt*bt-rt*dt)/at;return sn>=0&&sn<=1&&ln>=0&&ln<=1?{x:L+sn*nt,y:Q+sn*rt}:null},a.prototype.inflate=function(L){return new a(this.x-L,this.X+L,this.y-L,this.Y+L)},a}();te.Rectangle=Ue,te.makeEdgeBetween=e,te.makeEdgeTo=f;var tt=function(){function a(L,Q,te){this.v=L,this.r=Q,this.pos=te,this.prev=h(),this.next=h()}return a}(),nt=function(){function a(L,Q,te){this.isOpen=L,this.v=Q,this.pos=te}return a}(),it={getCentre:function(L){return L.cx()},getOpen:function(L){return L.y},getClose:function(L){return L.Y},getSize:function(L){return L.width()},makeRect:function(L,Q,te,re){return new Ue(te-re/2,te+re/2,L,Q)},findNeighbours:k},rt={getCentre:function(L){return L.cy()},getOpen:function(L){return L.x},getClose:function(L){return L.X},getSize:function(L){return L.height()},makeRect:function(L,Q,te,re){return new Ue(L,Q,te-re/2,te+re/2)},findNeighbours:l};te.generateXConstraints=m,te.generateYConstraints=n,te.generateXGroupConstraints=o,te.generateYGroupConstraints=p,te.removeOverlaps=q;var ot=function(L){function b(Q,te){var re=L.call(this,0,te)||this;return re.index=Q,re}return re(b,L),b}(Ne.Variable);te.IndexedVariable=ot;var at=function(){function a(L,Q,te,re,Ne){var $e=this;if(void 0===te&&(te=null),void 0===re&&(re=null),void 0===Ne&&(Ne=!1),this.nodes=L,this.groups=Q,this.rootGroup=te,this.avoidOverlaps=Ne,this.variables=L.map((function(L,Q){return L.variable=new ot(Q,1)})),re&&this.createConstraints(re),Ne&&te&&void 0!==te.groups){L.forEach((function(L){if(L.width&&L.height){var Q=L.width/2,te=L.height/2;L.bounds=new Ue(L.x-Q,L.x+Q,L.y-te,L.y+te)}else L.bounds=new Ue(L.x,L.x,L.y,L.y)})),d(te);var tt=L.length;Q.forEach((function(L){$e.variables[tt]=L.minVar=new ot(tt++,void 0!==L.stiffness?L.stiffness:.01),$e.variables[tt]=L.maxVar=new ot(tt++,void 0!==L.stiffness?L.stiffness:.01)}))}}return a.prototype.createSeparation=function(L){return new Ne.Constraint(this.nodes[L.left].variable,this.nodes[L.right].variable,L.gap,void 0!==L.equality&&L.equality)},a.prototype.makeFeasible=function(L){var Q=this;if(this.avoidOverlaps){var te="x",re="width";"x"===L.axis&&(te="y",re="height");var Ne=L.offsets.map((function(L){return Q.nodes[L.node]})).sort((function(L,Q){return L[te]-Q[te]})),$e=null;Ne.forEach((function(L){if($e){var Q=$e[te]+$e[re];Q>L[te]&&(L[te]=Q)}$e=L}))}},a.prototype.createAlignment=function(L){var Q=this,te=this.nodes[L.offsets[0].node].variable;this.makeFeasible(L);var re="x"===L.axis?this.xConstraints:this.yConstraints;L.offsets.slice(1).forEach((function(L){var $e=Q.nodes[L.node].variable;re.push(new Ne.Constraint(te,$e,L.offset,!0))}))},a.prototype.createConstraints=function(L){var Q=this,c=function(L){return void 0===L.type||"separation"===L.type};this.xConstraints=L.filter((function(L){return"x"===L.axis&&c(L)})).map((function(L){return Q.createSeparation(L)})),this.yConstraints=L.filter((function(L){return"y"===L.axis&&c(L)})).map((function(L){return Q.createSeparation(L)})),L.filter((function(L){return"alignment"===L.type})).forEach((function(L){return Q.createAlignment(L)}))},a.prototype.setupVariablesAndBounds=function(L,Q,te,re){this.nodes.forEach((function(Ne,$e){Ne.fixed?(Ne.variable.weight=Ne.fixedWeight?Ne.fixedWeight:1e3,te[$e]=re(Ne)):Ne.variable.weight=1;var tt=(Ne.width||0)/2,nt=(Ne.height||0)/2,it=L[$e],rt=Q[$e];Ne.bounds=new Ue(it-tt,it+tt,rt-nt,rt+nt)}))},a.prototype.xProject=function(L,Q,te){(this.rootGroup||this.avoidOverlaps||this.xConstraints)&&this.project(L,Q,L,te,(function(L){return L.px}),this.xConstraints,o,(function(L){return L.bounds.setXCentre(te[L.variable.index]=L.variable.position())}),(function(L){var Q=te[L.minVar.index]=L.minVar.position(),re=te[L.maxVar.index]=L.maxVar.position(),Ne=L.padding/2;L.bounds.x=Q-Ne,L.bounds.X=re+Ne}))},a.prototype.yProject=function(L,Q,te){(this.rootGroup||this.yConstraints)&&this.project(L,Q,Q,te,(function(L){return L.py}),this.yConstraints,p,(function(L){return L.bounds.setYCentre(te[L.variable.index]=L.variable.position())}),(function(L){var Q=te[L.minVar.index]=L.minVar.position(),re=te[L.maxVar.index]=L.maxVar.position(),Ne=L.padding/2;L.bounds.y=Q-Ne,L.bounds.Y=re+Ne}))},a.prototype.projectFunctions=function(){var L=this;return[function(Q,te,re){return L.xProject(Q,te,re)},function(Q,te,re){return L.yProject(Q,te,re)}]},a.prototype.project=function(L,Q,te,re,Ne,$e,Ue,tt,nt){this.setupVariablesAndBounds(L,Q,re,Ne),this.rootGroup&&this.avoidOverlaps&&(d(this.rootGroup),$e=$e.concat(Ue(this.rootGroup))),this.solve(this.variables,$e,te,re),this.nodes.forEach(tt),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(nt),d(this.rootGroup))},a.prototype.solve=function(L,Q,te,re){var $e=new Ne.Solver(L,Q);$e.setStartingPositions(te),$e.setDesiredPositions(re),$e.solve()},a}();te.Projection=at},{"./rbtree":16,"./vpsc":19}],18:[function(L,Q,te){"use strict";Object.defineProperty(te,"__esModule",{value:!0});var re=L("./pqueue"),Ne=function(){function a(L,Q){this.id=L,this.distance=Q}return a}(),$e=function(){function a(L){this.id=L,this.neighbours=[]}return a}(),Ue=function(){function a(L,Q,te){this.node=L,this.prev=Q,this.d=te}return a}(),tt=function(){function a(L,Q,te,re,Ue){this.n=L,this.es=Q,this.neighbours=new Array(this.n);for(var tt=this.n;tt--;)this.neighbours[tt]=new $e(tt);for(tt=this.es.length;tt--;){var nt=this.es[tt],it=te(nt),rt=re(nt),ot=Ue(nt);this.neighbours[it].neighbours.push(new Ne(rt,ot)),this.neighbours[rt].neighbours.push(new Ne(it,ot))}}return a.prototype.DistanceMatrix=function(){for(var L=new Array(this.n),Q=0;Q<this.n;++Q)L[Q]=this.dijkstraNeighbours(Q);return L},a.prototype.DistancesFromNode=function(L){return this.dijkstraNeighbours(L)},a.prototype.PathFromNodeToNode=function(L,Q){return this.dijkstraNeighbours(L,Q)},a.prototype.PathFromNodeToNodeWithPrevCost=function(L,Q,te){var Ne=new re.PriorityQueue((function(L,Q){return L.d<=Q.d})),$e=this.neighbours[L],tt=new Ue($e,null,0),nt={};for(Ne.push(tt);!Ne.empty()&&($e=(tt=Ne.pop()).node).id!==Q;)for(var it=$e.neighbours.length;it--;){var rt=$e.neighbours[it],ot=this.neighbours[rt.id];if(!tt.prev||ot.id!==tt.prev.node.id){var at=ot.id+","+$e.id;if(!(at in nt&&nt[at]<=tt.d)){var dt=tt.prev?te(tt.prev.node.id,$e.id,ot.id):0,bt=tt.d+rt.distance+dt;nt[at]=bt,Ne.push(new Ue(ot,tt,bt))}}}for(var sn=[];tt.prev;)tt=tt.prev,sn.push(tt.node.id);return sn},a.prototype.dijkstraNeighbours=function(L,Q){void 0===Q&&(Q=-1);for(var te=new re.PriorityQueue((function(L,Q){return L.d<=Q.d})),Ne=this.neighbours.length,$e=new Array(Ne);Ne--;){var Ue=this.neighbours[Ne];Ue.d=Ne===L?0:Number.POSITIVE_INFINITY,Ue.q=te.push(Ue)}for(;!te.empty();){var tt=te.pop();if($e[tt.id]=tt.d,tt.id===Q){for(var nt=[],it=tt;void 0!==it.prev;)nt.push(it.prev.id),it=it.prev;return nt}for(Ne=tt.neighbours.length;Ne--;){var rt=tt.neighbours[Ne],ot=(it=this.neighbours[rt.id],tt.d+rt.distance);tt.d!==Number.MAX_VALUE&&it.d>ot&&(it.d=ot,it.prev=tt,te.reduceKey(it.q,it,(function(L,Q){return L.q=Q})))}}return $e},a}();te.Calculator=tt},{"./pqueue":15}],19:[function(L,Q,te){"use strict";function d(L,Q,te){for(var re=L.map((function(L){return new $e(L.desiredCenter)})),Ue=[],tt=L.length,it=0;it<tt-1;it++){var rt=L[it],ot=L[it+1];Ue.push(new Ne(re[it],re[it+1],(rt.size+ot.size)/2))}var at=re[0],dt=re[tt-1],bt=L[0].size/2,sn=L[tt-1].size/2,ln=null,un=null;return Q&&(ln=new $e(Q,1e3*at.weight),re.push(ln),Ue.push(new Ne(ln,at,bt))),te&&(un=new $e(te,1e3*dt.weight),re.push(un),Ue.push(new Ne(dt,un,sn))),new nt(re,Ue).solve(),{newCenters:re.slice(0,L.length).map((function(L){return L.position()})),lowerBound:ln?ln.position():at.position()-bt,upperBound:un?un.position():dt.position()+sn}}Object.defineProperty(te,"__esModule",{value:!0});var re=function(){function a(L){this.scale=L,this.AB=0,this.AD=0,this.A2=0}return a.prototype.addVariable=function(L){var Q=this.scale/L.scale,te=L.offset/L.scale,re=L.weight;this.AB+=re*Q*te,this.AD+=re*Q*L.desiredPosition,this.A2+=re*Q*Q},a.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},a}();te.PositionStats=re;var Ne=function(){function a(L,Q,te,re){void 0===re&&(re=!1),this.left=L,this.right=Q,this.gap=te,this.equality=re,this.active=!1,this.unsatisfiable=!1,this.left=L,this.right=Q,this.gap=te,this.equality=re}return a.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},a}();te.Constraint=Ne;var $e=function(){function a(L,Q,te){void 0===Q&&(Q=1),void 0===te&&(te=1),this.desiredPosition=L,this.weight=Q,this.scale=te,this.offset=0}return a.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},a.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},a.prototype.visitNeighbours=function(L,Q){var c=function(te,re){return te.active&&L!==re&&Q(te,re)};this.cOut.forEach((function(L){return c(L,L.right)})),this.cIn.forEach((function(L){return c(L,L.left)}))},a}();te.Variable=$e;var Ue=function(){function a(L){this.vars=[],L.offset=0,this.ps=new re(L.scale),this.addVariable(L)}return a.prototype.addVariable=function(L){L.block=this,this.vars.push(L),this.ps.addVariable(L),this.posn=this.ps.getPosn()},a.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var L=0,Q=this.vars.length;L<Q;++L)this.ps.addVariable(this.vars[L]);this.posn=this.ps.getPosn()},a.prototype.compute_lm=function(L,Q,te){var re=this,Ne=L.dfdv();return L.visitNeighbours(Q,(function(Q,$e){var Ue=re.compute_lm($e,L,te);$e===Q.right?(Ne+=Ue*Q.left.scale,Q.lm=Ue):(Ne+=Ue*Q.right.scale,Q.lm=-Ue),te(Q)})),Ne/L.scale},a.prototype.populateSplitBlock=function(L,Q){var te=this;L.visitNeighbours(Q,(function(Q,re){re.offset=L.offset+(re===Q.right?Q.gap:-Q.gap),te.addVariable(re),te.populateSplitBlock(re,L)}))},a.prototype.traverse=function(L,Q,te,re){var Ne=this;void 0===te&&(te=this.vars[0]),void 0===re&&(re=null),te.visitNeighbours(re,(function(re,$e){Q.push(L(re)),Ne.traverse(L,Q,$e,te)}))},a.prototype.findMinLM=function(){var L=null;return this.compute_lm(this.vars[0],null,(function(Q){!Q.equality&&(null===L||Q.lm<L.lm)&&(L=Q)})),L},a.prototype.findMinLMBetween=function(L,Q){this.compute_lm(L,null,(function(){}));var te=null;return this.findPath(L,null,Q,(function(L,Q){!L.equality&&L.right===Q&&(null===te||L.lm<te.lm)&&(te=L)})),te},a.prototype.findPath=function(L,Q,te,re){var Ne=this,$e=!1;return L.visitNeighbours(Q,(function(Q,Ue){$e||Ue!==te&&!Ne.findPath(Ue,L,te,re)||($e=!0,re(Q,Ue))})),$e},a.prototype.isActiveDirectedPathBetween=function(L,Q){if(L===Q)return!0;for(var te=L.cOut.length;te--;){var re=L.cOut[te];if(re.active&&this.isActiveDirectedPathBetween(re.right,Q))return!0}return!1},a.split=function(L){return L.active=!1,[a.createSplitBlock(L.left),a.createSplitBlock(L.right)]},a.createSplitBlock=function(L){var Q=new a(L);return Q.populateSplitBlock(L,null),Q},a.prototype.splitBetween=function(L,Q){var te=this.findMinLMBetween(L,Q);if(null!==te){var re=a.split(te);return{constraint:te,lb:re[0],rb:re[1]}}return null},a.prototype.mergeAcross=function(L,Q,te){Q.active=!0;for(var re=0,Ne=L.vars.length;re<Ne;++re){var $e=L.vars[re];$e.offset+=te,this.addVariable($e)}this.posn=this.ps.getPosn()},a.prototype.cost=function(){for(var L=0,Q=this.vars.length;Q--;){var te=this.vars[Q],re=te.position()-te.desiredPosition;L+=re*re*te.weight}return L},a}();te.Block=Ue;var tt=function(){function a(L){this.vs=L;var Q=L.length;for(this.list=new Array(Q);Q--;){var te=new Ue(L[Q]);this.list[Q]=te,te.blockInd=Q}}return a.prototype.cost=function(){for(var L=0,Q=this.list.length;Q--;)L+=this.list[Q].cost();return L},a.prototype.insert=function(L){L.blockInd=this.list.length,this.list.push(L)},a.prototype.remove=function(L){var Q=this.list.length-1,te=this.list[Q];this.list.length=Q,L!==te&&(this.list[L.blockInd]=te,te.blockInd=L.blockInd)},a.prototype.merge=function(L){var Q=L.left.block,te=L.right.block,re=L.right.offset-L.left.offset-L.gap;Q.vars.length<te.vars.length?(te.mergeAcross(Q,L,re),this.remove(Q)):(Q.mergeAcross(te,L,-re),this.remove(te))},a.prototype.forEach=function(L){this.list.forEach(L)},a.prototype.updateBlockPositions=function(){this.list.forEach((function(L){return L.updateWeightedPosition()}))},a.prototype.split=function(L){var Q=this;this.updateBlockPositions(),this.list.forEach((function(te){var re=te.findMinLM();null!==re&&re.lm<nt.LAGRANGIAN_TOLERANCE&&(te=re.left.block,Ue.split(re).forEach((function(L){return Q.insert(L)})),Q.remove(te),L.push(re))}))},a}();te.Blocks=tt;var nt=function(){function a(L,Q){this.vs=L,this.cs=Q,this.vs=L,L.forEach((function(L){L.cIn=[],L.cOut=[]})),this.cs=Q,Q.forEach((function(L){L.left.cOut.push(L),L.right.cIn.push(L)})),this.inactive=Q.map((function(L){return L.active=!1,L})),this.bs=null}return a.prototype.cost=function(){return this.bs.cost()},a.prototype.setStartingPositions=function(L){this.inactive=this.cs.map((function(L){return L.active=!1,L})),this.bs=new tt(this.vs),this.bs.forEach((function(Q,te){return Q.posn=L[te]}))},a.prototype.setDesiredPositions=function(L){this.vs.forEach((function(Q,te){return Q.desiredPosition=L[te]}))},a.prototype.mostViolated=function(){for(var L=Number.MAX_VALUE,Q=null,te=this.inactive,re=te.length,Ne=re,$e=0;$e<re;++$e){var Ue=te[$e];if(!Ue.unsatisfiable){var tt=Ue.slack();if((Ue.equality||tt<L)&&(L=tt,Q=Ue,Ne=$e,Ue.equality))break}}return Ne!==re&&(L<a.ZERO_UPPERBOUND&&!Q.active||Q.equality)&&(te[Ne]=te[re-1],te.length=re-1),Q},a.prototype.satisfy=function(){null==this.bs&&(this.bs=new tt(this.vs)),this.bs.split(this.inactive);for(var L=null;(L=this.mostViolated())&&(L.equality||L.slack()<a.ZERO_UPPERBOUND&&!L.active);){var Q=L.left.block;if(Q!==L.right.block)this.bs.merge(L);else{if(Q.isActiveDirectedPathBetween(L.right,L.left)){L.unsatisfiable=!0;continue}var te=Q.splitBetween(L.left,L.right);if(null===te){L.unsatisfiable=!0;continue}this.bs.insert(te.lb),this.bs.insert(te.rb),this.bs.remove(Q),this.inactive.push(te.constraint),L.slack()>=0?this.inactive.push(L):this.bs.merge(L)}}},a.prototype.solve=function(){this.satisfy();for(var L=Number.MAX_VALUE,Q=this.bs.cost();Math.abs(L-Q)>1e-4;)this.satisfy(),L=Q,Q=this.bs.cost();return Q},a.LAGRANGIAN_TOLERANCE=-1e-4,a.ZERO_UPPERBOUND=-1e-10,a}();te.Solver=nt,te.removeOverlapInOneDimension=d},{}]},{},[1])(1)},84490:function(L,Q,te){L.exports=function(){var L="1.13.4",Q="object"==typeof self&&self.self===self&&self||"object"==typeof te.g&&te.g.global===te.g&&te.g||Function("return this")()||{},re=Array.prototype,Ne=Object.prototype,$e="undefined"!=typeof Symbol?Symbol.prototype:null,Ue=re.push,tt=re.slice,nt=Ne.toString,it=Ne.hasOwnProperty,rt="undefined"!=typeof ArrayBuffer,ot="undefined"!=typeof DataView,at=Array.isArray,dt=Object.keys,bt=Object.create,sn=rt&&ArrayBuffer.isView,ln=isNaN,un=isFinite,cn=!{toString:null}.propertyIsEnumerable("toString"),dn=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],xn=Math.pow(2,53)-1;function j(L,Q){return Q=null==Q?L.length-1:+Q,function(){for(var te=Math.max(arguments.length-Q,0),re=Array(te),Ne=0;Ne<te;Ne++)re[Ne]=arguments[Ne+Q];switch(Q){case 0:return L.call(this,re);case 1:return L.call(this,arguments[0],re);case 2:return L.call(this,arguments[0],arguments[1],re)}var $e=Array(Q+1);for(Ne=0;Ne<Q;Ne++)$e[Ne]=arguments[Ne];return $e[Q]=re,L.apply(this,$e)}}function _(L){var Q=typeof L;return"function"===Q||"object"===Q&&!!L}function w(L){return void 0===L}function A(L){return!0===L||!1===L||"[object Boolean]"===nt.call(L)}function x(L){var Q="[object "+L+"]";return function(L){return nt.call(L)===Q}}var Wn=x("String"),Yn=x("Number"),Xn=x("Date"),Kn=x("RegExp"),ti=x("Error"),ni=x("Symbol"),di=x("ArrayBuffer"),fi=x("Function"),pi=Q.document&&Q.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof pi&&(fi=function(L){return"function"==typeof L||!1});var gi=fi,vi=x("Object"),mi=ot&&vi(new DataView(new ArrayBuffer(8))),bi="undefined"!=typeof Map&&vi(new Map),xi=x("DataView"),Ti=mi?function(L){return null!=L&&gi(L.getInt8)&&di(L.buffer)}:xi,Pi=at||x("Array");function W(L,Q){return null!=L&&it.call(L,Q)}var Mi=x("Arguments");!function(){Mi(arguments)||(Mi=function(L){return W(L,"callee")})}();var Oi=Mi;function $(L){return Yn(L)&&ln(L)}function C(L){return function(){return L}}function K(L){return function(Q){var te=L(Q);return"number"==typeof te&&te>=0&&te<=xn}}function J(L){return function(Q){return null==Q?void 0:Q[L]}}var Li=J("byteLength"),ji=K(Li),Ri=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Fi=rt?function(L){return sn?sn(L)&&!Ti(L):ji(L)&&Ri.test(nt.call(L))}:C(!1),Hi=J("length");function Z(L,Q){Q=function(L){for(var Q={},te=L.length,re=0;re<te;++re)Q[L[re]]=!0;return{contains:function(L){return!0===Q[L]},push:function(te){return Q[te]=!0,L.push(te)}}}(Q);var te=dn.length,re=L.constructor,$e=gi(re)&&re.prototype||Ne,Ue="constructor";for(W(L,Ue)&&!Q.contains(Ue)&&Q.push(Ue);te--;)(Ue=dn[te])in L&&L[Ue]!==$e[Ue]&&!Q.contains(Ue)&&Q.push(Ue)}function nn(L){if(!_(L))return[];if(dt)return dt(L);var Q=[];for(var te in L)W(L,te)&&Q.push(te);return cn&&Z(L,Q),Q}function rn(L,Q){var te=nn(Q),re=te.length;if(null==L)return!re;for(var Ne=Object(L),$e=0;$e<re;$e++){var Ue=te[$e];if(Q[Ue]!==Ne[Ue]||!(Ue in Ne))return!1}return!0}function tn(L){return L instanceof tn?L:this instanceof tn?void(this._wrapped=L):new tn(L)}function en(L){return new Uint8Array(L.buffer||L,L.byteOffset||0,Li(L))}tn.VERSION=L,tn.prototype.value=function(){return this._wrapped},tn.prototype.valueOf=tn.prototype.toJSON=tn.prototype.value,tn.prototype.toString=function(){return String(this._wrapped)};var qi="[object DataView]";function on(L,Q,te,re){if(L===Q)return 0!==L||1/L==1/Q;if(null==L||null==Q)return!1;if(L!=L)return Q!=Q;var Ne=typeof L;return("function"===Ne||"object"===Ne||"object"==typeof Q)&&function n(L,Q,te,re){L instanceof tn&&(L=L._wrapped),Q instanceof tn&&(Q=Q._wrapped);var Ne=nt.call(L);if(Ne!==nt.call(Q))return!1;if(mi&&"[object Object]"==Ne&&Ti(L)){if(!Ti(Q))return!1;Ne=qi}switch(Ne){case"[object RegExp]":case"[object String]":return""+L==""+Q;case"[object Number]":return+L!=+L?+Q!=+Q:0==+L?1/+L==1/Q:+L==+Q;case"[object Date]":case"[object Boolean]":return+L==+Q;case"[object Symbol]":return $e.valueOf.call(L)===$e.valueOf.call(Q);case"[object ArrayBuffer]":case qi:return n(en(L),en(Q),te,re)}var Ue="[object Array]"===Ne;if(!Ue&&Fi(L)){if(Li(L)!==Li(Q))return!1;if(L.buffer===Q.buffer&&L.byteOffset===Q.byteOffset)return!0;Ue=!0}if(!Ue){if("object"!=typeof L||"object"!=typeof Q)return!1;var tt=L.constructor,it=Q.constructor;if(tt!==it&&!(gi(tt)&&tt instanceof tt&&gi(it)&&it instanceof it)&&"constructor"in L&&"constructor"in Q)return!1}re=re||[];for(var rt=(te=te||[]).length;rt--;)if(te[rt]===L)return re[rt]===Q;if(te.push(L),re.push(Q),Ue){if((rt=L.length)!==Q.length)return!1;for(;rt--;)if(!on(L[rt],Q[rt],te,re))return!1}else{var ot,at=nn(L);if(rt=at.length,nn(Q).length!==rt)return!1;for(;rt--;)if(!W(Q,ot=at[rt])||!on(L[ot],Q[ot],te,re))return!1}return te.pop(),re.pop(),!0}(L,Q,te,re)}function an(L){if(!_(L))return[];var Q=[];for(var te in L)Q.push(te);return cn&&Z(L,Q),Q}function fn(L){var Q=Hi(L);return function(te){if(null==te)return!1;var re=an(te);if(Hi(re))return!1;for(var Ne=0;Ne<Q;Ne++)if(!gi(te[L[Ne]]))return!1;return L!==Gi||!gi(te[Wi])}}var Wi="forEach",Vi="has",Yi=["clear","delete"],Xi=["get",Vi,"set"],$i=Yi.concat(Wi,Xi),Gi=Yi.concat(Xi),Ui=["add"].concat(Yi,Wi,Vi),Ki=bi?fn($i):x("Map"),Zi=bi?fn(Gi):x("WeakMap"),Ji=bi?fn(Ui):x("Set"),Qi=x("WeakSet");function jn(L){for(var Q=nn(L),te=Q.length,re=Array(te),Ne=0;Ne<te;Ne++)re[Ne]=L[Q[Ne]];return re}function _n(L){for(var Q={},te=nn(L),re=0,Ne=te.length;re<Ne;re++)Q[L[te[re]]]=te[re];return Q}function wn(L){var Q=[];for(var te in L)gi(L[te])&&Q.push(te);return Q.sort()}function An(L,Q){return function(te){var re=arguments.length;if(Q&&(te=Object(te)),re<2||null==te)return te;for(var Ne=1;Ne<re;Ne++)for(var $e=arguments[Ne],Ue=L($e),tt=Ue.length,nt=0;nt<tt;nt++){var it=Ue[nt];Q&&void 0!==te[it]||(te[it]=$e[it])}return te}}var tr=An(an),nr=An(nn),or=An(an,!0);function Mn(L){if(!_(L))return{};if(bt)return bt(L);var r=function(){};r.prototype=L;var Q=new r;return r.prototype=null,Q}function En(L){return Pi(L)?L:[L]}function Bn(L){return tn.toPath(L)}function Nn(L,Q){for(var te=Q.length,re=0;re<te;re++){if(null==L)return;L=L[Q[re]]}return te?L:void 0}function In(L,Q,te){var re=Nn(L,Bn(Q));return w(re)?te:re}function Tn(L){return L}function kn(L){return L=nr({},L),function(Q){return rn(Q,L)}}function Dn(L){return L=Bn(L),function(Q){return Nn(Q,L)}}function Rn(L,Q,te){if(void 0===Q)return L;switch(null==te?3:te){case 1:return function(te){return L.call(Q,te)};case 3:return function(te,re,Ne){return L.call(Q,te,re,Ne)};case 4:return function(te,re,Ne,$e){return L.call(Q,te,re,Ne,$e)}}return function(){return L.apply(Q,arguments)}}function Fn(L,Q,te){return null==L?Tn:gi(L)?Rn(L,Q,te):_(L)&&!Pi(L)?kn(L):Dn(L)}function Vn(L,Q){return Fn(L,Q,1/0)}function Pn(L,Q,te){return tn.iteratee!==Vn?tn.iteratee(L,Q):Fn(L,Q,te)}function qn(){}function Un(L,Q){return null==Q&&(Q=L,L=0),L+Math.floor(Math.random()*(Q-L+1))}tn.toPath=En,tn.iteratee=Vn;var dr=Date.now||function(){return(new Date).getTime()};function zn(L){var r=function(Q){return L[Q]},Q="(?:"+nn(L).join("|")+")",te=RegExp(Q),re=RegExp(Q,"g");return function(L){return L=null==L?"":""+L,te.test(L)?L.replace(re,r):L}}var gr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},vr=zn(gr),Er=zn(_n(gr)),Wr=tn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Vr=/(.)^/,Ur={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},eo=/\\|'|\r|\n|\u2028|\u2029/g;function Qn(L){return"\\"+Ur[L]}var to=/^\s*(\w|\$)+\s*$/,io=0;function Zn(L,Q,te,re,Ne){if(!(re instanceof Q))return L.apply(te,Ne);var $e=Mn(L.prototype),Ue=L.apply($e,Ne);return _(Ue)?Ue:$e}var ro=j((function(L,Q){var te=ro.placeholder,e=function(){for(var re=0,Ne=Q.length,$e=Array(Ne),Ue=0;Ue<Ne;Ue++)$e[Ue]=Q[Ue]===te?arguments[re++]:Q[Ue];for(;re<arguments.length;)$e.push(arguments[re++]);return Zn(L,e,this,this,$e)};return e}));ro.placeholder=tn;var oo=j((function(L,Q,te){if(!gi(L))throw new TypeError("Bind must be called on a function");var re=j((function(Ne){return Zn(L,re,Q,this,te.concat(Ne))}));return re})),ao=K(Hi);function er(L,Q,te,re){if(re=re||[],Q||0===Q){if(Q<=0)return re.concat(L)}else Q=1/0;for(var Ne=re.length,$e=0,Ue=Hi(L);$e<Ue;$e++){var tt=L[$e];if(ao(tt)&&(Pi(tt)||Oi(tt)))if(Q>1)er(tt,Q-1,te,re),Ne=re.length;else for(var nt=0,it=tt.length;nt<it;)re[Ne++]=tt[nt++];else te||(re[Ne++]=tt)}return re}var co=j((function(L,Q){var te=(Q=er(Q,!1,!1)).length;if(te<1)throw new Error("bindAll must be passed function names");for(;te--;){var re=Q[te];L[re]=oo(L[re],L)}return L})),ho=j((function(L,Q,te){return setTimeout((function(){return L.apply(null,te)}),Q)})),fo=ro(ho,tn,1);function ar(L){return function(){return!L.apply(this,arguments)}}function fr(L,Q){var te;return function(){return--L>0&&(te=Q.apply(this,arguments)),L<=1&&(Q=null),te}}var po=ro(fr,2);function lr(L,Q,te){Q=Pn(Q,te);for(var re,Ne=nn(L),$e=0,Ue=Ne.length;$e<Ue;$e++)if(Q(L[re=Ne[$e]],re,L))return re}function sr(L){return function(Q,te,re){te=Pn(te,re);for(var Ne=Hi(Q),$e=L>0?0:Ne-1;$e>=0&&$e<Ne;$e+=L)if(te(Q[$e],$e,Q))return $e;return-1}}var vo=sr(1),xo=sr(-1);function hr(L,Q,te,re){for(var Ne=(te=Pn(te,re,1))(Q),$e=0,Ue=Hi(L);$e<Ue;){var tt=Math.floor(($e+Ue)/2);te(L[tt])<Ne?$e=tt+1:Ue=tt}return $e}function yr(L,Q,te){return function(re,Ne,$e){var Ue=0,nt=Hi(re);if("number"==typeof $e)L>0?Ue=$e>=0?$e:Math.max($e+nt,Ue):nt=$e>=0?Math.min($e+1,nt):$e+nt+1;else if(te&&$e&&nt)return re[$e=te(re,Ne)]===Ne?$e:-1;if(Ne!=Ne)return($e=Q(tt.call(re,Ue,nt),$))>=0?$e+Ue:-1;for($e=L>0?Ue:nt-1;$e>=0&&$e<nt;$e+=L)if(re[$e]===Ne)return $e;return-1}}var ko=yr(1,vo,hr),Co=yr(-1,xo);function br(L,Q,te){var re=(ao(L)?vo:lr)(L,Q,te);if(void 0!==re&&-1!==re)return L[re]}function mr(L,Q,te){var re,Ne;if(Q=Rn(Q,te),ao(L))for(re=0,Ne=L.length;re<Ne;re++)Q(L[re],re,L);else{var $e=nn(L);for(re=0,Ne=$e.length;re<Ne;re++)Q(L[$e[re]],$e[re],L)}return L}function jr(L,Q,te){Q=Pn(Q,te);for(var re=!ao(L)&&nn(L),Ne=(re||L).length,$e=Array(Ne),Ue=0;Ue<Ne;Ue++){var tt=re?re[Ue]:Ue;$e[Ue]=Q(L[tt],tt,L)}return $e}function _r(L){var r=function(Q,te,re,Ne){var $e=!ao(Q)&&nn(Q),Ue=($e||Q).length,tt=L>0?0:Ue-1;for(Ne||(re=Q[$e?$e[tt]:tt],tt+=L);tt>=0&&tt<Ue;tt+=L){var nt=$e?$e[tt]:tt;re=te(re,Q[nt],nt,Q)}return re};return function(L,Q,te,re){var Ne=arguments.length>=3;return r(L,Rn(Q,re,4),te,Ne)}}var Eo=_r(1),Do=_r(-1);function xr(L,Q,te){var re=[];return Q=Pn(Q,te),mr(L,(function(L,te,Ne){Q(L,te,Ne)&&re.push(L)})),re}function Sr(L,Q,te){Q=Pn(Q,te);for(var re=!ao(L)&&nn(L),Ne=(re||L).length,$e=0;$e<Ne;$e++){var Ue=re?re[$e]:$e;if(!Q(L[Ue],Ue,L))return!1}return!0}function Or(L,Q,te){Q=Pn(Q,te);for(var re=!ao(L)&&nn(L),Ne=(re||L).length,$e=0;$e<Ne;$e++){var Ue=re?re[$e]:$e;if(Q(L[Ue],Ue,L))return!0}return!1}function Mr(L,Q,te,re){return ao(L)||(L=jn(L)),("number"!=typeof te||re)&&(te=0),ko(L,Q,te)>=0}var To=j((function(L,Q,te){var re,Ne;return gi(Q)?Ne=Q:(Q=Bn(Q),re=Q.slice(0,-1),Q=Q[Q.length-1]),jr(L,(function(L){var $e=Ne;if(!$e){if(re&&re.length&&(L=Nn(L,re)),null==L)return;$e=L[Q]}return null==$e?$e:$e.apply(L,te)}))}));function Br(L,Q){return jr(L,Dn(Q))}function Nr(L,Q,te){var re,Ne,$e=-1/0,Ue=-1/0;if(null==Q||"number"==typeof Q&&"object"!=typeof L[0]&&null!=L)for(var tt=0,nt=(L=ao(L)?L:jn(L)).length;tt<nt;tt++)null!=(re=L[tt])&&re>$e&&($e=re);else Q=Pn(Q,te),mr(L,(function(L,te,re){((Ne=Q(L,te,re))>Ue||Ne===-1/0&&$e===-1/0)&&($e=L,Ue=Ne)}));return $e}var Po=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Tr(L){return L?Pi(L)?tt.call(L):Wn(L)?L.match(Po):ao(L)?jr(L,Tn):jn(L):[]}function kr(L,Q,te){if(null==Q||te)return ao(L)||(L=jn(L)),L[Un(L.length-1)];var re=Tr(L),Ne=Hi(re);Q=Math.max(Math.min(Q,Ne),0);for(var $e=Ne-1,Ue=0;Ue<Q;Ue++){var tt=Un(Ue,$e),nt=re[Ue];re[Ue]=re[tt],re[tt]=nt}return re.slice(0,Q)}function Dr(L,Q){return function(te,re,Ne){var $e=Q?[[],[]]:{};return re=Pn(re,Ne),mr(te,(function(Q,Ne){var Ue=re(Q,Ne,te);L($e,Q,Ue)})),$e}}var No=Dr((function(L,Q,te){W(L,te)?L[te].push(Q):L[te]=[Q]})),Ao=Dr((function(L,Q,te){L[te]=Q})),Oo=Dr((function(L,Q,te){W(L,te)?L[te]++:L[te]=1})),Lo=Dr((function(L,Q,te){L[te?0:1].push(Q)}),!0);function qr(L,Q,te){return Q in te}var Ro=j((function(L,Q){var te={},re=Q[0];if(null==L)return te;gi(re)?(Q.length>1&&(re=Rn(re,Q[1])),Q=an(L)):(re=qr,Q=er(Q,!1,!1),L=Object(L));for(var Ne=0,$e=Q.length;Ne<$e;Ne++){var Ue=Q[Ne],tt=L[Ue];re(tt,Ue,L)&&(te[Ue]=tt)}return te})),Fo=j((function(L,Q){var te,re=Q[0];return gi(re)?(re=ar(re),Q.length>1&&(te=Q[1])):(Q=jr(er(Q,!1,!1),String),re=function(L,te){return!Mr(Q,te)}),Ro(L,re,te)}));function zr(L,Q,te){return tt.call(L,0,Math.max(0,L.length-(null==Q||te?1:Q)))}function Lr(L,Q,te){return null==L||L.length<1?null==Q||te?void 0:[]:null==Q||te?L[0]:zr(L,L.length-Q)}function $r(L,Q,te){return tt.call(L,null==Q||te?1:Q)}var Vo=j((function(L,Q){return Q=er(Q,!0,!0),xr(L,(function(L){return!Mr(Q,L)}))})),Yo=j((function(L,Q){return Vo(L,Q)}));function Jr(L,Q,te,re){A(Q)||(re=te,te=Q,Q=!1),null!=te&&(te=Pn(te,re));for(var Ne=[],$e=[],Ue=0,tt=Hi(L);Ue<tt;Ue++){var nt=L[Ue],it=te?te(nt,Ue,L):nt;Q&&!te?(Ue&&$e===it||Ne.push(nt),$e=it):te?Mr($e,it)||($e.push(it),Ne.push(nt)):Mr(Ne,nt)||Ne.push(nt)}return Ne}var $o=j((function(L){return Jr(er(L,!0,!0))}));function Hr(L){for(var Q=L&&Nr(L,Hi).length||0,te=Array(Q),re=0;re<Q;re++)te[re]=Br(L,re);return te}var Jo=j(Hr);function Xr(L,Q){return L._chain?tn(Q).chain():Q}function Yr(L){return mr(wn(L),(function(Q){var te=tn[Q]=L[Q];tn.prototype[Q]=function(){var L=[this._wrapped];return Ue.apply(L,arguments),Xr(this,te.apply(tn,L))}})),tn}mr(["pop","push","reverse","shift","sort","splice","unshift"],(function(L){var Q=re[L];tn.prototype[L]=function(){var te=this._wrapped;return null!=te&&(Q.apply(te,arguments),"shift"!==L&&"splice"!==L||0!==te.length||delete te[0]),Xr(this,te)}})),mr(["concat","join","slice"],(function(L){var Q=re[L];tn.prototype[L]=function(){var L=this._wrapped;return null!=L&&(L=Q.apply(L,arguments)),Xr(this,L)}}));var Qo=Yr({__proto__:null,VERSION:L,restArguments:j,isObject:_,isNull:function(L){return null===L},isUndefined:w,isBoolean:A,isElement:function(L){return!(!L||1!==L.nodeType)},isString:Wn,isNumber:Yn,isDate:Xn,isRegExp:Kn,isError:ti,isSymbol:ni,isArrayBuffer:di,isDataView:Ti,isArray:Pi,isFunction:gi,isArguments:Oi,isFinite:function(L){return!ni(L)&&un(L)&&!isNaN(parseFloat(L))},isNaN:$,isTypedArray:Fi,isEmpty:function(L){if(null==L)return!0;var Q=Hi(L);return"number"==typeof Q&&(Pi(L)||Wn(L)||Oi(L))?0===Q:0===Hi(nn(L))},isMatch:rn,isEqual:function(L,Q){return on(L,Q)},isMap:Ki,isWeakMap:Zi,isSet:Ji,isWeakSet:Qi,keys:nn,allKeys:an,values:jn,pairs:function(L){for(var Q=nn(L),te=Q.length,re=Array(te),Ne=0;Ne<te;Ne++)re[Ne]=[Q[Ne],L[Q[Ne]]];return re},invert:_n,functions:wn,methods:wn,extend:tr,extendOwn:nr,assign:nr,defaults:or,create:function(L,Q){var te=Mn(L);return Q&&nr(te,Q),te},clone:function(L){return _(L)?Pi(L)?L.slice():tr({},L):L},tap:function(L,Q){return Q(L),L},get:In,has:function(L,Q){for(var te=(Q=Bn(Q)).length,re=0;re<te;re++){var Ne=Q[re];if(!W(L,Ne))return!1;L=L[Ne]}return!!te},mapObject:function(L,Q,te){Q=Pn(Q,te);for(var re=nn(L),Ne=re.length,$e={},Ue=0;Ue<Ne;Ue++){var tt=re[Ue];$e[tt]=Q(L[tt],tt,L)}return $e},identity:Tn,constant:C,noop:qn,toPath:En,property:Dn,propertyOf:function(L){return null==L?qn:function(Q){return In(L,Q)}},matcher:kn,matches:kn,times:function(L,Q,te){var re=Array(Math.max(0,L));Q=Rn(Q,te,1);for(var Ne=0;Ne<L;Ne++)re[Ne]=Q(Ne);return re},random:Un,now:dr,escape:vr,unescape:Er,templateSettings:Wr,template:function(L,Q,te){!Q&&te&&(Q=te),Q=or({},Q,tn.templateSettings);var re=RegExp([(Q.escape||Vr).source,(Q.interpolate||Vr).source,(Q.evaluate||Vr).source].join("|")+"|$","g"),Ne=0,$e="__p+='";L.replace(re,(function(Q,te,re,Ue,tt){return $e+=L.slice(Ne,tt).replace(eo,Qn),Ne=tt+Q.length,te?$e+="'+\n((__t=("+te+"))==null?'':_.escape(__t))+\n'":re?$e+="'+\n((__t=("+re+"))==null?'':__t)+\n'":Ue&&($e+="';\n"+Ue+"\n__p+='"),Q})),$e+="';\n";var Ue,tt=Q.variable;if(tt){if(!to.test(tt))throw new Error("variable is not a bare identifier: "+tt)}else $e="with(obj||{}){\n"+$e+"}\n",tt="obj";$e="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+$e+"return __p;\n";try{Ue=new Function(tt,"_",$e)}catch(L){throw L.source=$e,L}var f=function(L){return Ue.call(this,L,tn)};return f.source="function("+tt+"){\n"+$e+"}",f},result:function(L,Q,te){var re=(Q=Bn(Q)).length;if(!re)return gi(te)?te.call(L):te;for(var Ne=0;Ne<re;Ne++){var $e=null==L?void 0:L[Q[Ne]];void 0===$e&&($e=te,Ne=re),L=gi($e)?$e.call(L):$e}return L},uniqueId:function(L){var Q=++io+"";return L?L+Q:Q},chain:function(L){var Q=tn(L);return Q._chain=!0,Q},iteratee:Vn,partial:ro,bind:oo,bindAll:co,memoize:function(L,Q){var t=function(te){var re=t.cache,Ne=""+(Q?Q.apply(this,arguments):te);return W(re,Ne)||(re[Ne]=L.apply(this,arguments)),re[Ne]};return t.cache={},t},delay:ho,defer:fo,throttle:function(L,Q,te){var re,Ne,$e,Ue,tt=0;te||(te={});var f=function(){tt=!1===te.leading?0:dr(),re=null,Ue=L.apply(Ne,$e),re||(Ne=$e=null)},c=function(){var nt=dr();tt||!1!==te.leading||(tt=nt);var it=Q-(nt-tt);return Ne=this,$e=arguments,it<=0||it>Q?(re&&(clearTimeout(re),re=null),tt=nt,Ue=L.apply(Ne,$e),re||(Ne=$e=null)):re||!1===te.trailing||(re=setTimeout(f,it)),Ue};return c.cancel=function(){clearTimeout(re),tt=0,re=Ne=$e=null},c},debounce:function(L,Q,te){var re,Ne,$e,Ue,tt,f=function(){var nt=dr()-Ne;Q>nt?re=setTimeout(f,Q-nt):(re=null,te||(Ue=L.apply(tt,$e)),re||($e=tt=null))},nt=j((function(nt){return tt=this,$e=nt,Ne=dr(),re||(re=setTimeout(f,Q),te&&(Ue=L.apply(tt,$e))),Ue}));return nt.cancel=function(){clearTimeout(re),re=$e=tt=null},nt},wrap:function(L,Q){return ro(Q,L)},negate:ar,compose:function(){var L=arguments,Q=L.length-1;return function(){for(var te=Q,re=L[Q].apply(this,arguments);te--;)re=L[te].call(this,re);return re}},after:function(L,Q){return function(){if(--L<1)return Q.apply(this,arguments)}},before:fr,once:po,findKey:lr,findIndex:vo,findLastIndex:xo,sortedIndex:hr,indexOf:ko,lastIndexOf:Co,find:br,detect:br,findWhere:function(L,Q){return br(L,kn(Q))},each:mr,forEach:mr,map:jr,collect:jr,reduce:Eo,foldl:Eo,inject:Eo,reduceRight:Do,foldr:Do,filter:xr,select:xr,reject:function(L,Q,te){return xr(L,ar(Pn(Q)),te)},every:Sr,all:Sr,some:Or,any:Or,contains:Mr,includes:Mr,include:Mr,invoke:To,pluck:Br,where:function(L,Q){return xr(L,kn(Q))},max:Nr,min:function(L,Q,te){var re,Ne,$e=1/0,Ue=1/0;if(null==Q||"number"==typeof Q&&"object"!=typeof L[0]&&null!=L)for(var tt=0,nt=(L=ao(L)?L:jn(L)).length;tt<nt;tt++)null!=(re=L[tt])&&re<$e&&($e=re);else Q=Pn(Q,te),mr(L,(function(L,te,re){((Ne=Q(L,te,re))<Ue||Ne===1/0&&$e===1/0)&&($e=L,Ue=Ne)}));return $e},shuffle:function(L){return kr(L,1/0)},sample:kr,sortBy:function(L,Q,te){var re=0;return Q=Pn(Q,te),Br(jr(L,(function(L,te,Ne){return{value:L,index:re++,criteria:Q(L,te,Ne)}})).sort((function(L,Q){var te=L.criteria,re=Q.criteria;if(te!==re){if(te>re||void 0===te)return 1;if(te<re||void 0===re)return-1}return L.index-Q.index})),"value")},groupBy:No,indexBy:Ao,countBy:Oo,partition:Lo,toArray:Tr,size:function(L){return null==L?0:ao(L)?L.length:nn(L).length},pick:Ro,omit:Fo,first:Lr,head:Lr,take:Lr,initial:zr,last:function(L,Q,te){return null==L||L.length<1?null==Q||te?void 0:[]:null==Q||te?L[L.length-1]:$r(L,Math.max(0,L.length-Q))},rest:$r,tail:$r,drop:$r,compact:function(L){return xr(L,Boolean)},flatten:function(L,Q){return er(L,Q,!1)},without:Yo,uniq:Jr,unique:Jr,union:$o,intersection:function(L){for(var Q=[],te=arguments.length,re=0,Ne=Hi(L);re<Ne;re++){var $e=L[re];if(!Mr(Q,$e)){var Ue;for(Ue=1;Ue<te&&Mr(arguments[Ue],$e);Ue++);Ue===te&&Q.push($e)}}return Q},difference:Vo,unzip:Hr,transpose:Hr,zip:Jo,object:function(L,Q){for(var te={},re=0,Ne=Hi(L);re<Ne;re++)Q?te[L[re]]=Q[re]:te[L[re][0]]=L[re][1];return te},range:function(L,Q,te){null==Q&&(Q=L||0,L=0),te||(te=Q<L?-1:1);for(var re=Math.max(Math.ceil((Q-L)/te),0),Ne=Array(re),$e=0;$e<re;$e++,L+=te)Ne[$e]=L;return Ne},chunk:function(L,Q){if(null==Q||Q<1)return[];for(var te=[],re=0,Ne=L.length;re<Ne;)te.push(tt.call(L,re,re+=Q));return te},mixin:Yr,default:tn});return Qo._=Qo,Qo}()}},Q={};function __webpack_require__(te){var re=Q[te];if(void 0!==re)return re.exports;var Ne=Q[te]={exports:{}};return L[te].call(Ne.exports,Ne,Ne.exports,__webpack_require__),Ne.exports}return __webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(L){if("object"==typeof window)return window}}(),__webpack_require__(91221)}()}));